function GY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zR={exports:{}},Dw={},qR={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=Symbol.for("react.element"),KY=Symbol.for("react.portal"),YY=Symbol.for("react.fragment"),XY=Symbol.for("react.strict_mode"),QY=Symbol.for("react.profiler"),JY=Symbol.for("react.provider"),ZY=Symbol.for("react.context"),eX=Symbol.for("react.forward_ref"),tX=Symbol.for("react.suspense"),rX=Symbol.for("react.memo"),nX=Symbol.for("react.lazy"),s6=Symbol.iterator;function aX(e){return e===null||typeof e!="object"?null:(e=s6&&e[s6]||e["@@iterator"],typeof e=="function"?e:null)}var WR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HR=Object.assign,GR={};function Hp(e,t,r){this.props=e,this.context=t,this.refs=GR,this.updater=r||WR}Hp.prototype.isReactComponent={};Hp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KR(){}KR.prototype=Hp.prototype;function TE(e,t,r){this.props=e,this.context=t,this.refs=GR,this.updater=r||WR}var EE=TE.prototype=new KR;EE.constructor=TE;HR(EE,Hp.prototype);EE.isPureReactComponent=!0;var o6=Array.isArray,YR=Object.prototype.hasOwnProperty,NE={current:null},XR={key:!0,ref:!0,__self:!0,__source:!0};function QR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)YR.call(t,n)&&!XR.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:M1,type:e,key:i,ref:s,props:a,_owner:NE.current}}function iX(e,t){return{$$typeof:M1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kE(e){return typeof e=="object"&&e!==null&&e.$$typeof===M1}function sX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l6=/\/+/g;function R_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sX(""+e.key):t.toString(36)}function qx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case M1:case KY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+R_(s,0):n,o6(a)?(r="",e!=null&&(r=e.replace(l6,"$&/")+"/"),qx(a,t,r,"",function(c){return c})):a!=null&&(kE(a)&&(a=iX(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(l6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",o6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+R_(i,o);s+=qx(i,t,r,l,a)}else if(l=aX(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+R_(i,o++),s+=qx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Vy(e,t,r){if(e==null)return e;var n=[],a=0;return qx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function oX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ts={current:null},Wx={transition:null},lX={ReactCurrentDispatcher:Ts,ReactCurrentBatchConfig:Wx,ReactCurrentOwner:NE};function JR(){throw Error("act(...) is not supported in production builds of React.")}qr.Children={map:Vy,forEach:function(e,t,r){Vy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vy(e,function(){t++}),t},toArray:function(e){return Vy(e,function(t){return t})||[]},only:function(e){if(!kE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qr.Component=Hp;qr.Fragment=YY;qr.Profiler=QY;qr.PureComponent=TE;qr.StrictMode=XY;qr.Suspense=tX;qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lX;qr.act=JR;qr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=NE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)YR.call(t,l)&&!XR.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:M1,type:e.type,key:a,ref:i,props:n,_owner:s}};qr.createContext=function(e){return e={$$typeof:ZY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JY,_context:e},e.Consumer=e};qr.createElement=QR;qr.createFactory=function(e){var t=QR.bind(null,e);return t.type=e,t};qr.createRef=function(){return{current:null}};qr.forwardRef=function(e){return{$$typeof:eX,render:e}};qr.isValidElement=kE;qr.lazy=function(e){return{$$typeof:nX,_payload:{_status:-1,_result:e},_init:oX}};qr.memo=function(e,t){return{$$typeof:rX,type:e,compare:t===void 0?null:t}};qr.startTransition=function(e){var t=Wx.transition;Wx.transition={};try{e()}finally{Wx.transition=t}};qr.unstable_act=JR;qr.useCallback=function(e,t){return Ts.current.useCallback(e,t)};qr.useContext=function(e){return Ts.current.useContext(e)};qr.useDebugValue=function(){};qr.useDeferredValue=function(e){return Ts.current.useDeferredValue(e)};qr.useEffect=function(e,t){return Ts.current.useEffect(e,t)};qr.useId=function(){return Ts.current.useId()};qr.useImperativeHandle=function(e,t,r){return Ts.current.useImperativeHandle(e,t,r)};qr.useInsertionEffect=function(e,t){return Ts.current.useInsertionEffect(e,t)};qr.useLayoutEffect=function(e,t){return Ts.current.useLayoutEffect(e,t)};qr.useMemo=function(e,t){return Ts.current.useMemo(e,t)};qr.useReducer=function(e,t,r){return Ts.current.useReducer(e,t,r)};qr.useRef=function(e){return Ts.current.useRef(e)};qr.useState=function(e){return Ts.current.useState(e)};qr.useSyncExternalStore=function(e,t,r){return Ts.current.useSyncExternalStore(e,t,r)};qr.useTransition=function(){return Ts.current.useTransition()};qr.version="18.3.1";qR.exports=qr;var F=qR.exports;const Ue=kn(F),cX=GY({__proto__:null,default:Ue},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uX=F,fX=Symbol.for("react.element"),dX=Symbol.for("react.fragment"),hX=Object.prototype.hasOwnProperty,pX=uX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mX={key:!0,ref:!0,__self:!0,__source:!0};function ZR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)hX.call(t,n)&&!mX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:fX,type:e,key:i,ref:s,props:a,_owner:pX.current}}Dw.Fragment=dX;Dw.jsx=ZR;Dw.jsxs=ZR;zR.exports=Dw;var f=zR.exports,eF={exports:{}},ho={},tF={exports:{}},rF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,W){var te=V.length;V.push(W);e:for(;0<te;){var Z=te-1>>>1,I=V[Z];if(0<a(I,W))V[Z]=W,V[te]=I,te=Z;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var W=V[0],te=V.pop();if(te!==W){V[0]=te;e:for(var Z=0,I=V.length,M=I>>>1;Z<M;){var q=2*(Z+1)-1,Y=V[q],J=q+1,ie=V[J];if(0>a(Y,te))J<I&&0>a(ie,Y)?(V[Z]=ie,V[J]=te,Z=J):(V[Z]=Y,V[q]=te,Z=q);else if(J<I&&0>a(ie,te))V[Z]=ie,V[J]=te,Z=J;else break e}}return W}function a(V,W){var te=V.sortIndex-W.sortIndex;return te!==0?te:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=V)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function D(V){if(m=!1,b(V),!g)if(r(l)!==null)g=!0,z(P);else{var W=r(c);W!==null&&G(D,W.startTime-V)}}function P(V,W){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var te=h;try{for(b(W),d=r(l);d!==null&&(!(d.expirationTime>W)||V&&!E());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var I=Z(d.expirationTime<=W);W=e.unstable_now(),typeof I=="function"?d.callback=I:d===r(l)&&n(l),b(W)}else n(l);d=r(l)}if(d!==null)var M=!0;else{var q=r(c);q!==null&&G(D,q.startTime-W),M=!1}return M}finally{d=null,h=te,p=!1}}var j=!1,T=null,_=-1,S=5,O=-1;function E(){return!(e.unstable_now()-O<S)}function N(){if(T!==null){var V=e.unstable_now();O=V;var W=!0;try{W=T(!0,V)}finally{W?k():(j=!1,T=null)}}else j=!1}var k;if(typeof w=="function")k=function(){w(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=N,k=function(){X.postMessage(null)}}else k=function(){v(N,0)};function z(V){T=V,j||(j=!0,k())}function G(V,W){_=v(function(){V(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,z(P))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var te=h;h=W;try{return V()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=h;h=V;try{return W()}finally{h=te}},e.unstable_scheduleCallback=function(V,W,te){var Z=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,V){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=te+I,V={id:u++,callback:W,priorityLevel:V,startTime:te,expirationTime:I,sortIndex:-1},te>Z?(V.sortIndex=te,t(c,V),r(l)===null&&V===r(c)&&(m?(y(_),_=-1):m=!0,G(D,te-Z))):(V.sortIndex=I,t(l,V),g||p||(g=!0,z(P))),V},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(V){var W=h;return function(){var te=h;h=W;try{return V.apply(this,arguments)}finally{h=te}}}})(rF);tF.exports=rF;var gX=tF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vX=F,co=gX;function Mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nF=new Set,ov={};function yh(e,t){np(e,t),np(e+"Capture",t)}function np(e,t){for(ov[e]=t,e=0;e<t.length;e++)nF.add(t[e])}var Yc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FA=Object.prototype.hasOwnProperty,yX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c6={},u6={};function xX(e){return FA.call(u6,e)?!0:FA.call(c6,e)?!1:yX.test(e)?u6[e]=!0:(c6[e]=!0,!1)}function bX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wX(e,t,r,n){if(t===null||typeof t>"u"||bX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Es(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ci[e]=new Es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ci[t]=new Es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ci[e]=new Es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ci[e]=new Es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ci[e]=new Es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ci[e]=new Es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ci[e]=new Es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ci[e]=new Es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ci[e]=new Es(e,5,!1,e.toLowerCase(),null,!1,!1)});var CE=/[\-:]([a-z])/g;function PE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CE,PE);Ci[t]=new Es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CE,PE);Ci[t]=new Es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CE,PE);Ci[t]=new Es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ci[e]=new Es(e,1,!1,e.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new Es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ci[e]=new Es(e,1,!1,e.toLowerCase(),null,!0,!0)});function jE(e,t,r,n){var a=Ci.hasOwnProperty(t)?Ci[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wX(t,r,a,n)&&(r=null),n||a===null?xX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var du=vX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zy=Symbol.for("react.element"),p0=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),aF=Symbol.for("react.provider"),iF=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),UA=Symbol.for("react.suspense_list"),DE=Symbol.for("react.memo"),Qu=Symbol.for("react.lazy"),sF=Symbol.for("react.offscreen"),f6=Symbol.iterator;function $m(e){return e===null||typeof e!="object"?null:(e=f6&&e[f6]||e["@@iterator"],typeof e=="function"?e:null)}var oa=Object.assign,F_;function ug(e){if(F_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F_=t&&t[1]||""}return`
`+F_+e}var $_=!1;function B_(e,t){if(!e||$_)return"";$_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{$_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ug(e):""}function _X(e){switch(e.tag){case 5:return ug(e.type);case 16:return ug("Lazy");case 13:return ug("Suspense");case 19:return ug("SuspenseList");case 0:case 2:case 15:return e=B_(e.type,!1),e;case 11:return e=B_(e.type.render,!1),e;case 1:return e=B_(e.type,!0),e;default:return""}}function VA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m0:return"Fragment";case p0:return"Portal";case $A:return"Profiler";case OE:return"StrictMode";case BA:return"Suspense";case UA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iF:return(e.displayName||"Context")+".Consumer";case aF:return(e._context.displayName||"Context")+".Provider";case IE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DE:return t=e.displayName||null,t!==null?t:VA(e.type)||"Memo";case Qu:t=e._payload,e=e._init;try{return VA(e(t))}catch{}}return null}function SX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VA(t);case 8:return t===OE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Df(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AX(e){var t=oF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qy(e){e._valueTracker||(e._valueTracker=AX(e))}function lF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function x2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zA(e,t){var r=t.checked;return oa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function d6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Df(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cF(e,t){t=t.checked,t!=null&&jE(e,"checked",t,!1)}function qA(e,t){cF(e,t);var r=Df(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?WA(e,t.type,r):t.hasOwnProperty("defaultValue")&&WA(e,t.type,Df(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function WA(e,t,r){(t!=="number"||x2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fg=Array.isArray;function M0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Df(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function HA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Mt(91));return oa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Mt(92));if(fg(r)){if(1<r.length)throw Error(Mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Df(r)}}function uF(e,t){var r=Df(t.value),n=Df(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function m6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wy,dF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wy=Wy||document.createElement("div"),Wy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TX=["Webkit","ms","Moz","O"];Object.keys(Tg).forEach(function(e){TX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tg[t]=Tg[e]})});function hF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tg.hasOwnProperty(e)&&Tg[e]?(""+t).trim():t+"px"}function pF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=hF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var EX=oa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KA(e,t){if(t){if(EX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Mt(62))}}function YA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XA=null;function LE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var QA=null,R0=null,F0=null;function g6(e){if(e=$1(e)){if(typeof QA!="function")throw Error(Mt(280));var t=e.stateNode;t&&(t=$w(t),QA(e.stateNode,e.type,t))}}function mF(e){R0?F0?F0.push(e):F0=[e]:R0=e}function gF(){if(R0){var e=R0,t=F0;if(F0=R0=null,g6(e),t)for(e=0;e<t.length;e++)g6(t[e])}}function vF(e,t){return e(t)}function yF(){}var U_=!1;function xF(e,t,r){if(U_)return e(t,r);U_=!0;try{return vF(e,t,r)}finally{U_=!1,(R0!==null||F0!==null)&&(yF(),gF())}}function cv(e,t){var r=e.stateNode;if(r===null)return null;var n=$w(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Mt(231,t,typeof r));return r}var JA=!1;if(Yc)try{var Bm={};Object.defineProperty(Bm,"passive",{get:function(){JA=!0}}),window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{JA=!1}function NX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Eg=!1,b2=null,w2=!1,ZA=null,kX={onError:function(e){Eg=!0,b2=e}};function CX(e,t,r,n,a,i,s,o,l){Eg=!1,b2=null,NX.apply(kX,arguments)}function PX(e,t,r,n,a,i,s,o,l){if(CX.apply(this,arguments),Eg){if(Eg){var c=b2;Eg=!1,b2=null}else throw Error(Mt(198));w2||(w2=!0,ZA=c)}}function xh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v6(e){if(xh(e)!==e)throw Error(Mt(188))}function jX(e){var t=e.alternate;if(!t){if(t=xh(e),t===null)throw Error(Mt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return v6(a),e;if(i===n)return v6(a),t;i=i.sibling}throw Error(Mt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Mt(189))}}if(r.alternate!==n)throw Error(Mt(190))}if(r.tag!==3)throw Error(Mt(188));return r.stateNode.current===r?e:t}function wF(e){return e=jX(e),e!==null?_F(e):null}function _F(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_F(e);if(t!==null)return t;e=e.sibling}return null}var SF=co.unstable_scheduleCallback,y6=co.unstable_cancelCallback,OX=co.unstable_shouldYield,IX=co.unstable_requestPaint,_a=co.unstable_now,DX=co.unstable_getCurrentPriorityLevel,ME=co.unstable_ImmediatePriority,AF=co.unstable_UserBlockingPriority,_2=co.unstable_NormalPriority,LX=co.unstable_LowPriority,TF=co.unstable_IdlePriority,Lw=null,Xl=null;function MX(e){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(Lw,e,void 0,(e.current.flags&128)===128)}catch{}}var Sl=Math.clz32?Math.clz32:$X,RX=Math.log,FX=Math.LN2;function $X(e){return e>>>=0,e===0?32:31-(RX(e)/FX|0)|0}var Hy=64,Gy=4194304;function dg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=dg(o):(i&=s,i!==0&&(n=dg(i)))}else s=r&~a,s!==0?n=dg(s):i!==0&&(n=dg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Sl(t),a=1<<r,n|=e[r],t&=~a;return n}function BX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Sl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=BX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function e4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EF(){var e=Hy;return Hy<<=1,!(Hy&4194240)&&(Hy=64),e}function V_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function R1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sl(t),e[t]=r}function VX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Sl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function RE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Sl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _n=0;function NF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kF,FE,CF,PF,jF,t4=!1,Ky=[],vf=null,yf=null,xf=null,uv=new Map,fv=new Map,ef=[],zX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x6(e,t){switch(e){case"focusin":case"focusout":vf=null;break;case"dragenter":case"dragleave":yf=null;break;case"mouseover":case"mouseout":xf=null;break;case"pointerover":case"pointerout":uv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(t.pointerId)}}function Um(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$1(t),t!==null&&FE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function qX(e,t,r,n,a){switch(t){case"focusin":return vf=Um(vf,e,t,r,n,a),!0;case"dragenter":return yf=Um(yf,e,t,r,n,a),!0;case"mouseover":return xf=Um(xf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return uv.set(i,Um(uv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,fv.set(i,Um(fv.get(i)||null,e,t,r,n,a)),!0}return!1}function OF(e){var t=Od(e.target);if(t!==null){var r=xh(t);if(r!==null){if(t=r.tag,t===13){if(t=bF(r),t!==null){e.blockedOn=t,jF(e.priority,function(){CF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=r4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);XA=n,r.target.dispatchEvent(n),XA=null}else return t=$1(r),t!==null&&FE(t),e.blockedOn=r,!1;t.shift()}return!0}function b6(e,t,r){Hx(e)&&r.delete(t)}function WX(){t4=!1,vf!==null&&Hx(vf)&&(vf=null),yf!==null&&Hx(yf)&&(yf=null),xf!==null&&Hx(xf)&&(xf=null),uv.forEach(b6),fv.forEach(b6)}function Vm(e,t){e.blockedOn===t&&(e.blockedOn=null,t4||(t4=!0,co.unstable_scheduleCallback(co.unstable_NormalPriority,WX)))}function dv(e){function t(a){return Vm(a,e)}if(0<Ky.length){Vm(Ky[0],e);for(var r=1;r<Ky.length;r++){var n=Ky[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vf!==null&&Vm(vf,e),yf!==null&&Vm(yf,e),xf!==null&&Vm(xf,e),uv.forEach(t),fv.forEach(t),r=0;r<ef.length;r++)n=ef[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ef.length&&(r=ef[0],r.blockedOn===null);)OF(r),r.blockedOn===null&&ef.shift()}var $0=du.ReactCurrentBatchConfig,A2=!0;function HX(e,t,r,n){var a=_n,i=$0.transition;$0.transition=null;try{_n=1,$E(e,t,r,n)}finally{_n=a,$0.transition=i}}function GX(e,t,r,n){var a=_n,i=$0.transition;$0.transition=null;try{_n=4,$E(e,t,r,n)}finally{_n=a,$0.transition=i}}function $E(e,t,r,n){if(A2){var a=r4(e,t,r,n);if(a===null)J_(e,t,n,T2,r),x6(e,n);else if(qX(a,e,t,r,n))n.stopPropagation();else if(x6(e,n),t&4&&-1<zX.indexOf(e)){for(;a!==null;){var i=$1(a);if(i!==null&&kF(i),i=r4(e,t,r,n),i===null&&J_(e,t,n,T2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else J_(e,t,n,null,r)}}var T2=null;function r4(e,t,r,n){if(T2=null,e=LE(n),e=Od(e),e!==null)if(t=xh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T2=e,null}function IF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DX()){case ME:return 1;case AF:return 4;case _2:case LX:return 16;case TF:return 536870912;default:return 16}default:return 16}}var of=null,BE=null,Gx=null;function DF(){if(Gx)return Gx;var e,t=BE,r=t.length,n,a="value"in of?of.value:of.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Gx=a.slice(e,1<n?1-n:void 0)}function Kx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yy(){return!0}function w6(){return!1}function po(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yy:w6,this.isPropagationStopped=w6,this}return oa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yy)},persist:function(){},isPersistent:Yy}),t}var Gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UE=po(Gp),F1=oa({},Gp,{view:0,detail:0}),KX=po(F1),z_,q_,zm,Mw=oa({},F1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zm&&(zm&&e.type==="mousemove"?(z_=e.screenX-zm.screenX,q_=e.screenY-zm.screenY):q_=z_=0,zm=e),z_)},movementY:function(e){return"movementY"in e?e.movementY:q_}}),_6=po(Mw),YX=oa({},Mw,{dataTransfer:0}),XX=po(YX),QX=oa({},F1,{relatedTarget:0}),W_=po(QX),JX=oa({},Gp,{animationName:0,elapsedTime:0,pseudoElement:0}),ZX=po(JX),eQ=oa({},Gp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tQ=po(eQ),rQ=oa({},Gp,{data:0}),S6=po(rQ),nQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iQ[e])?!!t[e]:!1}function VE(){return sQ}var oQ=oa({},F1,{key:function(e){if(e.key){var t=nQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VE,charCode:function(e){return e.type==="keypress"?Kx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lQ=po(oQ),cQ=oa({},Mw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A6=po(cQ),uQ=oa({},F1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VE}),fQ=po(uQ),dQ=oa({},Gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),hQ=po(dQ),pQ=oa({},Mw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mQ=po(pQ),gQ=[9,13,27,32],zE=Yc&&"CompositionEvent"in window,Ng=null;Yc&&"documentMode"in document&&(Ng=document.documentMode);var vQ=Yc&&"TextEvent"in window&&!Ng,LF=Yc&&(!zE||Ng&&8<Ng&&11>=Ng),T6=" ",E6=!1;function MF(e,t){switch(e){case"keyup":return gQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var g0=!1;function yQ(e,t){switch(e){case"compositionend":return RF(t);case"keypress":return t.which!==32?null:(E6=!0,T6);case"textInput":return e=t.data,e===T6&&E6?null:e;default:return null}}function xQ(e,t){if(g0)return e==="compositionend"||!zE&&MF(e,t)?(e=DF(),Gx=BE=of=null,g0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LF&&t.locale!=="ko"?null:t.data;default:return null}}var bQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bQ[e.type]:t==="textarea"}function FF(e,t,r,n){mF(n),t=E2(t,"onChange"),0<t.length&&(r=new UE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kg=null,hv=null;function wQ(e){YF(e,0)}function Rw(e){var t=x0(e);if(lF(t))return e}function _Q(e,t){if(e==="change")return t}var $F=!1;if(Yc){var H_;if(Yc){var G_="oninput"in document;if(!G_){var k6=document.createElement("div");k6.setAttribute("oninput","return;"),G_=typeof k6.oninput=="function"}H_=G_}else H_=!1;$F=H_&&(!document.documentMode||9<document.documentMode)}function C6(){kg&&(kg.detachEvent("onpropertychange",BF),hv=kg=null)}function BF(e){if(e.propertyName==="value"&&Rw(hv)){var t=[];FF(t,hv,e,LE(e)),xF(wQ,t)}}function SQ(e,t,r){e==="focusin"?(C6(),kg=t,hv=r,kg.attachEvent("onpropertychange",BF)):e==="focusout"&&C6()}function AQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rw(hv)}function TQ(e,t){if(e==="click")return Rw(t)}function EQ(e,t){if(e==="input"||e==="change")return Rw(t)}function NQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nl=typeof Object.is=="function"?Object.is:NQ;function pv(e,t){if(Nl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!FA.call(t,a)||!Nl(e[a],t[a]))return!1}return!0}function P6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j6(e,t){var r=P6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P6(r)}}function UF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VF(){for(var e=window,t=x2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=x2(e.document)}return t}function qE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kQ(e){var t=VF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&UF(r.ownerDocument.documentElement,r)){if(n!==null&&qE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=j6(r,i);var s=j6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CQ=Yc&&"documentMode"in document&&11>=document.documentMode,v0=null,n4=null,Cg=null,a4=!1;function O6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a4||v0==null||v0!==x2(n)||(n=v0,"selectionStart"in n&&qE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cg&&pv(Cg,n)||(Cg=n,n=E2(n4,"onSelect"),0<n.length&&(t=new UE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=v0)))}function Xy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var y0={animationend:Xy("Animation","AnimationEnd"),animationiteration:Xy("Animation","AnimationIteration"),animationstart:Xy("Animation","AnimationStart"),transitionend:Xy("Transition","TransitionEnd")},K_={},zF={};Yc&&(zF=document.createElement("div").style,"AnimationEvent"in window||(delete y0.animationend.animation,delete y0.animationiteration.animation,delete y0.animationstart.animation),"TransitionEvent"in window||delete y0.transitionend.transition);function Fw(e){if(K_[e])return K_[e];if(!y0[e])return e;var t=y0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zF)return K_[e]=t[r];return e}var qF=Fw("animationend"),WF=Fw("animationiteration"),HF=Fw("animationstart"),GF=Fw("transitionend"),KF=new Map,I6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gf(e,t){KF.set(e,t),yh(t,[e])}for(var Y_=0;Y_<I6.length;Y_++){var X_=I6[Y_],PQ=X_.toLowerCase(),jQ=X_[0].toUpperCase()+X_.slice(1);Gf(PQ,"on"+jQ)}Gf(qF,"onAnimationEnd");Gf(WF,"onAnimationIteration");Gf(HF,"onAnimationStart");Gf("dblclick","onDoubleClick");Gf("focusin","onFocus");Gf("focusout","onBlur");Gf(GF,"onTransitionEnd");np("onMouseEnter",["mouseout","mouseover"]);np("onMouseLeave",["mouseout","mouseover"]);np("onPointerEnter",["pointerout","pointerover"]);np("onPointerLeave",["pointerout","pointerover"]);yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(hg));function D6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PX(n,t,void 0,e),e.currentTarget=null}function YF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;D6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;D6(a,o,c),i=l}}}if(w2)throw e=ZA,w2=!1,ZA=null,e}function Hn(e,t){var r=t[c4];r===void 0&&(r=t[c4]=new Set);var n=e+"__bubble";r.has(n)||(XF(t,e,2,!1),r.add(n))}function Q_(e,t,r){var n=0;t&&(n|=4),XF(r,e,n,t)}var Qy="_reactListening"+Math.random().toString(36).slice(2);function mv(e){if(!e[Qy]){e[Qy]=!0,nF.forEach(function(r){r!=="selectionchange"&&(OQ.has(r)||Q_(r,!1,e),Q_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qy]||(t[Qy]=!0,Q_("selectionchange",!1,t))}}function XF(e,t,r,n){switch(IF(t)){case 1:var a=HX;break;case 4:a=GX;break;default:a=$E}r=a.bind(null,t,r,e),a=void 0,!JA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function J_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Od(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}xF(function(){var c=i,u=LE(r),d=[];e:{var h=KF.get(e);if(h!==void 0){var p=UE,g=e;switch(e){case"keypress":if(Kx(r)===0)break e;case"keydown":case"keyup":p=lQ;break;case"focusin":g="focus",p=W_;break;case"focusout":g="blur",p=W_;break;case"beforeblur":case"afterblur":p=W_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fQ;break;case qF:case WF:case HF:p=ZX;break;case GF:p=hQ;break;case"scroll":p=KX;break;case"wheel":p=mQ;break;case"copy":case"cut":case"paste":p=tQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,b;w!==null;){b=w;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,y!==null&&(D=cv(w,y),D!=null&&m.push(gv(w,D,b)))),v)break;w=w.return}0<m.length&&(h=new p(h,g,null,r,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==XA&&(g=r.relatedTarget||r.fromElement)&&(Od(g)||g[Xc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Od(g):null,g!==null&&(v=xh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=_6,D="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=A6,D="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:x0(p),b=g==null?h:x0(g),h=new m(D,w+"leave",p,r,u),h.target=v,h.relatedTarget=b,D=null,Od(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=b,m.relatedTarget=v,D=m),v=D,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=Jh(b))w++;for(b=0,D=y;D;D=Jh(D))b++;for(;0<w-b;)m=Jh(m),w--;for(;0<b-w;)y=Jh(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Jh(m),y=Jh(y)}m=null}else m=null;p!==null&&L6(d,h,p,m,!1),g!==null&&v!==null&&L6(d,v,g,m,!0)}}e:{if(h=c?x0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=_Q;else if(N6(h))if($F)P=EQ;else{P=AQ;var j=SQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=TQ);if(P&&(P=P(e,c))){FF(d,P,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&WA(h,"number",h.value)}switch(j=c?x0(c):window,e){case"focusin":(N6(j)||j.contentEditable==="true")&&(v0=j,n4=c,Cg=null);break;case"focusout":Cg=n4=v0=null;break;case"mousedown":a4=!0;break;case"contextmenu":case"mouseup":case"dragend":a4=!1,O6(d,r,u);break;case"selectionchange":if(CQ)break;case"keydown":case"keyup":O6(d,r,u)}var T;if(zE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else g0?MF(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(LF&&r.locale!=="ko"&&(g0||_!=="onCompositionStart"?_==="onCompositionEnd"&&g0&&(T=DF()):(of=u,BE="value"in of?of.value:of.textContent,g0=!0)),j=E2(c,_),0<j.length&&(_=new S6(_,e,null,r,u),d.push({event:_,listeners:j}),T?_.data=T:(T=RF(r),T!==null&&(_.data=T)))),(T=vQ?yQ(e,r):xQ(e,r))&&(c=E2(c,"onBeforeInput"),0<c.length&&(u=new S6("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}YF(d,t)})}function gv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function E2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=cv(e,r),i!=null&&n.unshift(gv(e,i,a)),i=cv(e,t),i!=null&&n.push(gv(e,i,a))),e=e.return}return n}function Jh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=cv(r,i),l!=null&&s.unshift(gv(r,l,o))):a||(l=cv(r,i),l!=null&&s.push(gv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var IQ=/\r\n?/g,DQ=/\u0000|\uFFFD/g;function M6(e){return(typeof e=="string"?e:""+e).replace(IQ,`
`).replace(DQ,"")}function Jy(e,t,r){if(t=M6(t),M6(e)!==t&&r)throw Error(Mt(425))}function N2(){}var i4=null,s4=null;function o4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l4=typeof setTimeout=="function"?setTimeout:void 0,LQ=typeof clearTimeout=="function"?clearTimeout:void 0,R6=typeof Promise=="function"?Promise:void 0,MQ=typeof queueMicrotask=="function"?queueMicrotask:typeof R6<"u"?function(e){return R6.resolve(null).then(e).catch(RQ)}:l4;function RQ(e){setTimeout(function(){throw e})}function Z_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),dv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);dv(t)}function bf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kp=Math.random().toString(36).slice(2),Gl="__reactFiber$"+Kp,vv="__reactProps$"+Kp,Xc="__reactContainer$"+Kp,c4="__reactEvents$"+Kp,FQ="__reactListeners$"+Kp,$Q="__reactHandles$"+Kp;function Od(e){var t=e[Gl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xc]||r[Gl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=F6(e);e!==null;){if(r=e[Gl])return r;e=F6(e)}return t}e=r,r=e.parentNode}return null}function $1(e){return e=e[Gl]||e[Xc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function x0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Mt(33))}function $w(e){return e[vv]||null}var u4=[],b0=-1;function Kf(e){return{current:e}}function Jn(e){0>b0||(e.current=u4[b0],u4[b0]=null,b0--)}function zn(e,t){b0++,u4[b0]=e.current,e.current=t}var Lf={},ts=Kf(Lf),Bs=Kf(!1),eh=Lf;function ap(e,t){var r=e.type.contextTypes;if(!r)return Lf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Us(e){return e=e.childContextTypes,e!=null}function k2(){Jn(Bs),Jn(ts)}function $6(e,t,r){if(ts.current!==Lf)throw Error(Mt(168));zn(ts,t),zn(Bs,r)}function QF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Mt(108,SX(e)||"Unknown",a));return oa({},r,n)}function C2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lf,eh=ts.current,zn(ts,e),zn(Bs,Bs.current),!0}function B6(e,t,r){var n=e.stateNode;if(!n)throw Error(Mt(169));r?(e=QF(e,t,eh),n.__reactInternalMemoizedMergedChildContext=e,Jn(Bs),Jn(ts),zn(ts,e)):Jn(Bs),zn(Bs,r)}var Oc=null,Bw=!1,eS=!1;function JF(e){Oc===null?Oc=[e]:Oc.push(e)}function BQ(e){Bw=!0,JF(e)}function Yf(){if(!eS&&Oc!==null){eS=!0;var e=0,t=_n;try{var r=Oc;for(_n=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Oc=null,Bw=!1}catch(a){throw Oc!==null&&(Oc=Oc.slice(e+1)),SF(ME,Yf),a}finally{_n=t,eS=!1}}return null}var w0=[],_0=0,P2=null,j2=0,Oo=[],Io=0,th=null,Ic=1,Dc="";function wd(e,t){w0[_0++]=j2,w0[_0++]=P2,P2=e,j2=t}function ZF(e,t,r){Oo[Io++]=Ic,Oo[Io++]=Dc,Oo[Io++]=th,th=e;var n=Ic;e=Dc;var a=32-Sl(n)-1;n&=~(1<<a),r+=1;var i=32-Sl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ic=1<<32-Sl(t)+a|r<<a|n,Dc=i+e}else Ic=1<<i|r<<a|n,Dc=e}function WE(e){e.return!==null&&(wd(e,1),ZF(e,1,0))}function HE(e){for(;e===P2;)P2=w0[--_0],w0[_0]=null,j2=w0[--_0],w0[_0]=null;for(;e===th;)th=Oo[--Io],Oo[Io]=null,Dc=Oo[--Io],Oo[Io]=null,Ic=Oo[--Io],Oo[Io]=null}var lo=null,io=null,ea=!1,ml=null;function e$(e,t){var r=Lo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function U6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lo=e,io=bf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lo=e,io=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=th!==null?{id:Ic,overflow:Dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lo=e,io=null,!0):!1;default:return!1}}function f4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d4(e){if(ea){var t=io;if(t){var r=t;if(!U6(e,t)){if(f4(e))throw Error(Mt(418));t=bf(r.nextSibling);var n=lo;t&&U6(e,t)?e$(n,r):(e.flags=e.flags&-4097|2,ea=!1,lo=e)}}else{if(f4(e))throw Error(Mt(418));e.flags=e.flags&-4097|2,ea=!1,lo=e}}}function V6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lo=e}function Zy(e){if(e!==lo)return!1;if(!ea)return V6(e),ea=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o4(e.type,e.memoizedProps)),t&&(t=io)){if(f4(e))throw t$(),Error(Mt(418));for(;t;)e$(e,t),t=bf(t.nextSibling)}if(V6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){io=bf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}io=null}}else io=lo?bf(e.stateNode.nextSibling):null;return!0}function t$(){for(var e=io;e;)e=bf(e.nextSibling)}function ip(){io=lo=null,ea=!1}function GE(e){ml===null?ml=[e]:ml.push(e)}var UQ=du.ReactCurrentBatchConfig;function qm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Mt(309));var n=r.stateNode}if(!n)throw Error(Mt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Mt(284));if(!r._owner)throw Error(Mt(290,e))}return e}function ex(e,t){throw e=Object.prototype.toString.call(t),Error(Mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z6(e){var t=e._init;return t(e._payload)}function r$(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Af(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,D){return w===null||w.tag!==6?(w=oS(b,y.mode,D),w.return=y,w):(w=a(w,b),w.return=y,w)}function l(y,w,b,D){var P=b.type;return P===m0?u(y,w,b.props.children,D,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qu&&z6(P)===w.type)?(D=a(w,b.props),D.ref=qm(y,w,b),D.return=y,D):(D=t2(b.type,b.key,b.props,null,y.mode,D),D.ref=qm(y,w,b),D.return=y,D)}function c(y,w,b,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=lS(b,y.mode,D),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function u(y,w,b,D,P){return w===null||w.tag!==7?(w=qd(b,y.mode,D,P),w.return=y,w):(w=a(w,b),w.return=y,w)}function d(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=oS(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zy:return b=t2(w.type,w.key,w.props,null,y.mode,b),b.ref=qm(y,null,w),b.return=y,b;case p0:return w=lS(w,y.mode,b),w.return=y,w;case Qu:var D=w._init;return d(y,D(w._payload),b)}if(fg(w)||$m(w))return w=qd(w,y.mode,b,null),w.return=y,w;ex(y,w)}return null}function h(y,w,b,D){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:o(y,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zy:return b.key===P?l(y,w,b,D):null;case p0:return b.key===P?c(y,w,b,D):null;case Qu:return P=b._init,h(y,w,P(b._payload),D)}if(fg(b)||$m(b))return P!==null?null:u(y,w,b,D,null);ex(y,b)}return null}function p(y,w,b,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(b)||null,o(w,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case zy:return y=y.get(D.key===null?b:D.key)||null,l(w,y,D,P);case p0:return y=y.get(D.key===null?b:D.key)||null,c(w,y,D,P);case Qu:var j=D._init;return p(y,w,b,j(D._payload),P)}if(fg(D)||$m(D))return y=y.get(b)||null,u(w,y,D,P,null);ex(w,D)}return null}function g(y,w,b,D){for(var P=null,j=null,T=w,_=w=0,S=null;T!==null&&_<b.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var O=h(y,T,b[_],D);if(O===null){T===null&&(T=S);break}e&&T&&O.alternate===null&&t(y,T),w=i(O,w,_),j===null?P=O:j.sibling=O,j=O,T=S}if(_===b.length)return r(y,T),ea&&wd(y,_),P;if(T===null){for(;_<b.length;_++)T=d(y,b[_],D),T!==null&&(w=i(T,w,_),j===null?P=T:j.sibling=T,j=T);return ea&&wd(y,_),P}for(T=n(y,T);_<b.length;_++)S=p(T,y,_,b[_],D),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?_:S.key),w=i(S,w,_),j===null?P=S:j.sibling=S,j=S);return e&&T.forEach(function(E){return t(y,E)}),ea&&wd(y,_),P}function m(y,w,b,D){var P=$m(b);if(typeof P!="function")throw Error(Mt(150));if(b=P.call(b),b==null)throw Error(Mt(151));for(var j=P=null,T=w,_=w=0,S=null,O=b.next();T!==null&&!O.done;_++,O=b.next()){T.index>_?(S=T,T=null):S=T.sibling;var E=h(y,T,O.value,D);if(E===null){T===null&&(T=S);break}e&&T&&E.alternate===null&&t(y,T),w=i(E,w,_),j===null?P=E:j.sibling=E,j=E,T=S}if(O.done)return r(y,T),ea&&wd(y,_),P;if(T===null){for(;!O.done;_++,O=b.next())O=d(y,O.value,D),O!==null&&(w=i(O,w,_),j===null?P=O:j.sibling=O,j=O);return ea&&wd(y,_),P}for(T=n(y,T);!O.done;_++,O=b.next())O=p(T,y,_,O.value,D),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?_:O.key),w=i(O,w,_),j===null?P=O:j.sibling=O,j=O);return e&&T.forEach(function(N){return t(y,N)}),ea&&wd(y,_),P}function v(y,w,b,D){if(typeof b=="object"&&b!==null&&b.type===m0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zy:e:{for(var P=b.key,j=w;j!==null;){if(j.key===P){if(P=b.type,P===m0){if(j.tag===7){r(y,j.sibling),w=a(j,b.props.children),w.return=y,y=w;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Qu&&z6(P)===j.type){r(y,j.sibling),w=a(j,b.props),w.ref=qm(y,j,b),w.return=y,y=w;break e}r(y,j);break}else t(y,j);j=j.sibling}b.type===m0?(w=qd(b.props.children,y.mode,D,b.key),w.return=y,y=w):(D=t2(b.type,b.key,b.props,null,y.mode,D),D.ref=qm(y,w,b),D.return=y,y=D)}return s(y);case p0:e:{for(j=b.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=lS(b,y.mode,D),w.return=y,y=w}return s(y);case Qu:return j=b._init,v(y,w,j(b._payload),D)}if(fg(b))return g(y,w,b,D);if($m(b))return m(y,w,b,D);ex(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=oS(b,y.mode,D),w.return=y,y=w),s(y)):r(y,w)}return v}var sp=r$(!0),n$=r$(!1),O2=Kf(null),I2=null,S0=null,KE=null;function YE(){KE=S0=I2=null}function XE(e){var t=O2.current;Jn(O2),e._currentValue=t}function h4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function B0(e,t){I2=e,KE=S0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ls=!0),e.firstContext=null)}function Vo(e){var t=e._currentValue;if(KE!==e)if(e={context:e,memoizedValue:t,next:null},S0===null){if(I2===null)throw Error(Mt(308));S0=e,I2.dependencies={lanes:0,firstContext:e}}else S0=S0.next=e;return t}var Id=null;function QE(e){Id===null?Id=[e]:Id.push(e)}function a$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,QE(t)):(r.next=a.next,a.next=r),t.interleaved=r,Qc(e,n)}function Qc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ju=!1;function JE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ln&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Qc(e,r)}return a=n.interleaved,a===null?(t.next=t,QE(n)):(t.next=a.next,a.next=t),n.interleaved=t,Qc(e,r)}function Yx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RE(e,r)}}function q6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function D2(e,t,r,n){var a=e.updateQueue;Ju=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=oa({},d,h);break e;case 2:Ju=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);nh|=s,e.lanes=s,e.memoizedState=d}}function W6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Mt(191,a));a.call(n)}}}var B1={},Ql=Kf(B1),yv=Kf(B1),xv=Kf(B1);function Dd(e){if(e===B1)throw Error(Mt(174));return e}function ZE(e,t){switch(zn(xv,t),zn(yv,e),zn(Ql,B1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=GA(t,e)}Jn(Ql),zn(Ql,t)}function op(){Jn(Ql),Jn(yv),Jn(xv)}function s$(e){Dd(xv.current);var t=Dd(Ql.current),r=GA(t,e.type);t!==r&&(zn(yv,e),zn(Ql,r))}function eN(e){yv.current===e&&(Jn(Ql),Jn(yv))}var aa=Kf(0);function L2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tS=[];function tN(){for(var e=0;e<tS.length;e++)tS[e]._workInProgressVersionPrimary=null;tS.length=0}var Xx=du.ReactCurrentDispatcher,rS=du.ReactCurrentBatchConfig,rh=0,ia=null,Ga=null,si=null,M2=!1,Pg=!1,bv=0,VQ=0;function Ii(){throw Error(Mt(321))}function rN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nl(e[r],t[r]))return!1;return!0}function nN(e,t,r,n,a,i){if(rh=i,ia=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xx.current=e===null||e.memoizedState===null?HQ:GQ,e=r(n,a),Pg){i=0;do{if(Pg=!1,bv=0,25<=i)throw Error(Mt(301));i+=1,si=Ga=null,t.updateQueue=null,Xx.current=KQ,e=r(n,a)}while(Pg)}if(Xx.current=R2,t=Ga!==null&&Ga.next!==null,rh=0,si=Ga=ia=null,M2=!1,t)throw Error(Mt(300));return e}function aN(){var e=bv!==0;return bv=0,e}function Wl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?ia.memoizedState=si=e:si=si.next=e,si}function zo(){if(Ga===null){var e=ia.alternate;e=e!==null?e.memoizedState:null}else e=Ga.next;var t=si===null?ia.memoizedState:si.next;if(t!==null)si=t,Ga=e;else{if(e===null)throw Error(Mt(310));Ga=e,e={memoizedState:Ga.memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},si===null?ia.memoizedState=si=e:si=si.next=e}return si}function wv(e,t){return typeof t=="function"?t(e):t}function nS(e){var t=zo(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=Ga,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((rh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,ia.lanes|=u,nh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Nl(n,t.memoizedState)||(Ls=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ia.lanes|=i,nh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function aS(e){var t=zo(),r=t.queue;if(r===null)throw Error(Mt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Nl(i,t.memoizedState)||(Ls=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function o$(){}function l$(e,t){var r=ia,n=zo(),a=t(),i=!Nl(n.memoizedState,a);if(i&&(n.memoizedState=a,Ls=!0),n=n.queue,iN(f$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||si!==null&&si.memoizedState.tag&1){if(r.flags|=2048,_v(9,u$.bind(null,r,n,a,t),void 0,null),ui===null)throw Error(Mt(349));rh&30||c$(r,t,a)}return a}function c$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ia.updateQueue,t===null?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function u$(e,t,r,n){t.value=r,t.getSnapshot=n,d$(t)&&h$(e)}function f$(e,t,r){return r(function(){d$(t)&&h$(e)})}function d$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nl(e,r)}catch{return!0}}function h$(e){var t=Qc(e,1);t!==null&&Al(t,e,1,-1)}function H6(e){var t=Wl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:e},t.queue=e,e=e.dispatch=WQ.bind(null,ia,e),[t.memoizedState,e]}function _v(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ia.updateQueue,t===null?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function p$(){return zo().memoizedState}function Qx(e,t,r,n){var a=Wl();ia.flags|=e,a.memoizedState=_v(1|t,r,void 0,n===void 0?null:n)}function Uw(e,t,r,n){var a=zo();n=n===void 0?null:n;var i=void 0;if(Ga!==null){var s=Ga.memoizedState;if(i=s.destroy,n!==null&&rN(n,s.deps)){a.memoizedState=_v(t,r,i,n);return}}ia.flags|=e,a.memoizedState=_v(1|t,r,i,n)}function G6(e,t){return Qx(8390656,8,e,t)}function iN(e,t){return Uw(2048,8,e,t)}function m$(e,t){return Uw(4,2,e,t)}function g$(e,t){return Uw(4,4,e,t)}function v$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y$(e,t,r){return r=r!=null?r.concat([e]):null,Uw(4,4,v$.bind(null,t,e),r)}function sN(){}function x$(e,t){var r=zo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function b$(e,t){var r=zo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w$(e,t,r){return rh&21?(Nl(r,t)||(r=EF(),ia.lanes|=r,nh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ls=!0),e.memoizedState=r)}function zQ(e,t){var r=_n;_n=r!==0&&4>r?r:4,e(!0);var n=rS.transition;rS.transition={};try{e(!1),t()}finally{_n=r,rS.transition=n}}function _$(){return zo().memoizedState}function qQ(e,t,r){var n=Sf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S$(e))A$(t,r);else if(r=a$(e,t,r,n),r!==null){var a=ws();Al(r,e,n,a),T$(r,t,n)}}function WQ(e,t,r){var n=Sf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S$(e))A$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Nl(o,s)){var l=t.interleaved;l===null?(a.next=a,QE(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=a$(e,t,a,n),r!==null&&(a=ws(),Al(r,e,n,a),T$(r,t,n))}}function S$(e){var t=e.alternate;return e===ia||t!==null&&t===ia}function A$(e,t){Pg=M2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function T$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RE(e,r)}}var R2={readContext:Vo,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},HQ={readContext:Vo,useCallback:function(e,t){return Wl().memoizedState=[e,t===void 0?null:t],e},useContext:Vo,useEffect:G6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qx(4194308,4,v$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qx(4,2,e,t)},useMemo:function(e,t){var r=Wl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qQ.bind(null,ia,e),[n.memoizedState,e]},useRef:function(e){var t=Wl();return e={current:e},t.memoizedState=e},useState:H6,useDebugValue:sN,useDeferredValue:function(e){return Wl().memoizedState=e},useTransition:function(){var e=H6(!1),t=e[0];return e=zQ.bind(null,e[1]),Wl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ia,a=Wl();if(ea){if(r===void 0)throw Error(Mt(407));r=r()}else{if(r=t(),ui===null)throw Error(Mt(349));rh&30||c$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,G6(f$.bind(null,n,i,e),[e]),n.flags|=2048,_v(9,u$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Wl(),t=ui.identifierPrefix;if(ea){var r=Dc,n=Ic;r=(n&~(1<<32-Sl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=VQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GQ={readContext:Vo,useCallback:x$,useContext:Vo,useEffect:iN,useImperativeHandle:y$,useInsertionEffect:m$,useLayoutEffect:g$,useMemo:b$,useReducer:nS,useRef:p$,useState:function(){return nS(wv)},useDebugValue:sN,useDeferredValue:function(e){var t=zo();return w$(t,Ga.memoizedState,e)},useTransition:function(){var e=nS(wv)[0],t=zo().memoizedState;return[e,t]},useMutableSource:o$,useSyncExternalStore:l$,useId:_$,unstable_isNewReconciler:!1},KQ={readContext:Vo,useCallback:x$,useContext:Vo,useEffect:iN,useImperativeHandle:y$,useInsertionEffect:m$,useLayoutEffect:g$,useMemo:b$,useReducer:aS,useRef:p$,useState:function(){return aS(wv)},useDebugValue:sN,useDeferredValue:function(e){var t=zo();return Ga===null?t.memoizedState=e:w$(t,Ga.memoizedState,e)},useTransition:function(){var e=aS(wv)[0],t=zo().memoizedState;return[e,t]},useMutableSource:o$,useSyncExternalStore:l$,useId:_$,unstable_isNewReconciler:!1};function ul(e,t){if(e&&e.defaultProps){t=oa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function p4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vw={isMounted:function(e){return(e=e._reactInternals)?xh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ws(),a=Sf(e),i=Bc(n,a);i.payload=t,r!=null&&(i.callback=r),t=wf(e,i,a),t!==null&&(Al(t,e,a,n),Yx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ws(),a=Sf(e),i=Bc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=wf(e,i,a),t!==null&&(Al(t,e,a,n),Yx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ws(),n=Sf(e),a=Bc(r,n);a.tag=2,t!=null&&(a.callback=t),t=wf(e,a,n),t!==null&&(Al(t,e,n,r),Yx(t,e,n))}};function K6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!pv(r,n)||!pv(a,i):!0}function E$(e,t,r){var n=!1,a=Lf,i=t.contextType;return typeof i=="object"&&i!==null?i=Vo(i):(a=Us(t)?eh:ts.current,n=t.contextTypes,i=(n=n!=null)?ap(e,a):Lf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Y6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vw.enqueueReplaceState(t,t.state,null)}function m4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},JE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Vo(i):(i=Us(t)?eh:ts.current,a.context=ap(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(p4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vw.enqueueReplaceState(a,a.state,null),D2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lp(e,t){try{var r="",n=t;do r+=_X(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function iS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function g4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YQ=typeof WeakMap=="function"?WeakMap:Map;function N$(e,t,r){r=Bc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$2||($2=!0,E4=n),g4(e,t)},r}function k$(e,t,r){r=Bc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){g4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){g4(e,t),typeof n!="function"&&(_f===null?_f=new Set([this]):_f.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function X6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new YQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=cJ.bind(null,e,t,r),t.then(e,e))}function Q6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function J6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bc(-1,1),t.tag=2,wf(r,t,1))),r.lanes|=1),e)}var XQ=du.ReactCurrentOwner,Ls=!1;function ds(e,t,r,n){t.child=e===null?n$(t,null,r,n):sp(t,e.child,r,n)}function Z6(e,t,r,n,a){r=r.render;var i=t.ref;return B0(t,a),n=nN(e,t,r,n,i,a),r=aN(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jc(e,t,a)):(ea&&r&&WE(t),t.flags|=1,ds(e,t,n,a),t.child)}function ej(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!pN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,C$(e,t,i,n,a)):(e=t2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:pv,r(s,n)&&e.ref===t.ref)return Jc(e,t,a)}return t.flags|=1,e=Af(i,n),e.ref=t.ref,e.return=t,t.child=e}function C$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(pv(i,n)&&e.ref===t.ref)if(Ls=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ls=!0);else return t.lanes=e.lanes,Jc(e,t,a)}return v4(e,t,r,n,a)}function P$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(T0,eo),eo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zn(T0,eo),eo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zn(T0,eo),eo|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,zn(T0,eo),eo|=n;return ds(e,t,a,r),t.child}function j$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function v4(e,t,r,n,a){var i=Us(r)?eh:ts.current;return i=ap(t,i),B0(t,a),r=nN(e,t,r,n,i,a),n=aN(),e!==null&&!Ls?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Jc(e,t,a)):(ea&&n&&WE(t),t.flags|=1,ds(e,t,r,a),t.child)}function tj(e,t,r,n,a){if(Us(r)){var i=!0;C2(t)}else i=!1;if(B0(t,a),t.stateNode===null)Jx(e,t),E$(t,r,n),m4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Vo(c):(c=Us(r)?eh:ts.current,c=ap(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Y6(t,s,n,c),Ju=!1;var h=t.memoizedState;s.state=h,D2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Bs.current||Ju?(typeof u=="function"&&(p4(t,r,u,n),l=t.memoizedState),(o=Ju||K6(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,i$(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ul(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Vo(l):(l=Us(r)?eh:ts.current,l=ap(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Y6(t,s,n,l),Ju=!1,h=t.memoizedState,s.state=h,D2(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||Bs.current||Ju?(typeof p=="function"&&(p4(t,r,p,n),g=t.memoizedState),(c=Ju||K6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return y4(e,t,r,n,i,a)}function y4(e,t,r,n,a,i){j$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&B6(t,r,!1),Jc(e,t,i);n=t.stateNode,XQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=sp(t,e.child,null,i),t.child=sp(t,null,o,i)):ds(e,t,o,i),t.memoizedState=n.state,a&&B6(t,r,!0),t.child}function O$(e){var t=e.stateNode;t.pendingContext?$6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$6(e,t.context,!1),ZE(e,t.containerInfo)}function rj(e,t,r,n,a){return ip(),GE(a),t.flags|=256,ds(e,t,r,n),t.child}var x4={dehydrated:null,treeContext:null,retryLane:0};function b4(e){return{baseLanes:e,cachePool:null,transitions:null}}function I$(e,t,r){var n=t.pendingProps,a=aa.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zn(aa,a&1),e===null)return d4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ww(s,n,0,null),e=qd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=b4(r),t.memoizedState=x4,e):oN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return QQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Af(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Af(o,i):(i=qd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?b4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=x4,n}return i=e.child,e=i.sibling,n=Af(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oN(e,t){return t=Ww({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tx(e,t,r,n){return n!==null&&GE(n),sp(t,e.child,null,r),e=oN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=iS(Error(Mt(422))),tx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ww({mode:"visible",children:n.children},a,0,null),i=qd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sp(t,e.child,null,s),t.child.memoizedState=b4(s),t.memoizedState=x4,i);if(!(t.mode&1))return tx(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Mt(419)),n=iS(i,n,void 0),tx(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ls||o){if(n=ui,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Qc(e,a),Al(n,e,a,-1))}return hN(),n=iS(Error(Mt(421))),tx(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,io=bf(a.nextSibling),lo=t,ea=!0,ml=null,e!==null&&(Oo[Io++]=Ic,Oo[Io++]=Dc,Oo[Io++]=th,Ic=e.id,Dc=e.overflow,th=t),t=oN(t,n.children),t.flags|=4096,t)}function nj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),h4(e.return,t,r)}function sS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function D$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ds(e,t,n.children,r),n=aa.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nj(e,r,t);else if(e.tag===19)nj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zn(aa,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&L2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&L2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sS(t,!0,r,null,i);break;case"together":sS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Mt(153));if(t.child!==null){for(e=t.child,r=Af(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Af(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JQ(e,t,r){switch(t.tag){case 3:O$(t),ip();break;case 5:s$(t);break;case 1:Us(t.type)&&C2(t);break;case 4:ZE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zn(O2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zn(aa,aa.current&1),t.flags|=128,null):r&t.child.childLanes?I$(e,t,r):(zn(aa,aa.current&1),e=Jc(e,t,r),e!==null?e.sibling:null);zn(aa,aa.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zn(aa,aa.current),n)break;return null;case 22:case 23:return t.lanes=0,P$(e,t,r)}return Jc(e,t,r)}var L$,w4,M$,R$;L$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w4=function(){};M$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dd(Ql.current);var i=null;switch(r){case"input":a=zA(e,a),n=zA(e,n),i=[];break;case"select":a=oa({},a,{value:void 0}),n=oa({},n,{value:void 0}),i=[];break;case"textarea":a=HA(e,a),n=HA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=N2)}KA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ov.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ov.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};R$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wm(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Di(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZQ(e,t,r){var n=t.pendingProps;switch(HE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(t),null;case 1:return Us(t.type)&&k2(),Di(t),null;case 3:return n=t.stateNode,op(),Jn(Bs),Jn(ts),tN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ml!==null&&(C4(ml),ml=null))),w4(e,t),Di(t),null;case 5:eN(t);var a=Dd(xv.current);if(r=t.type,e!==null&&t.stateNode!=null)M$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Mt(166));return Di(t),null}if(e=Dd(Ql.current),Zy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Gl]=t,n[vv]=i,e=(t.mode&1)!==0,r){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(a=0;a<hg.length;a++)Hn(hg[a],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":d6(n,i),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Hn("invalid",n);break;case"textarea":p6(n,i),Hn("invalid",n)}KA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jy(n.textContent,o,e),a=["children",""+o]):ov.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Hn("scroll",n)}switch(r){case"input":qy(n),h6(n,i,!0);break;case"textarea":qy(n),m6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=N2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Gl]=t,e[vv]=n,L$(e,t,!1,!1),t.stateNode=e;e:{switch(s=YA(r,n),r){case"dialog":Hn("cancel",e),Hn("close",e),a=n;break;case"iframe":case"object":case"embed":Hn("load",e),a=n;break;case"video":case"audio":for(a=0;a<hg.length;a++)Hn(hg[a],e);a=n;break;case"source":Hn("error",e),a=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),a=n;break;case"details":Hn("toggle",e),a=n;break;case"input":d6(e,n),a=zA(e,n),Hn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oa({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":p6(e,n),a=HA(e,n),Hn("invalid",e);break;default:a=n}KA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?pF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&lv(e,l):typeof l=="number"&&lv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ov.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Hn("scroll",e):l!=null&&jE(e,i,l,s))}switch(r){case"input":qy(e),h6(e,n,!1);break;case"textarea":qy(e),m6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Df(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?M0(e,!!n.multiple,i,!1):n.defaultValue!=null&&M0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=N2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Di(t),null;case 6:if(e&&t.stateNode!=null)R$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Mt(166));if(r=Dd(xv.current),Dd(Ql.current),Zy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gl]=t,(i=n.nodeValue!==r)&&(e=lo,e!==null))switch(e.tag){case 3:Jy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gl]=t,t.stateNode=n}return Di(t),null;case 13:if(Jn(aa),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ea&&io!==null&&t.mode&1&&!(t.flags&128))t$(),ip(),t.flags|=98560,i=!1;else if(i=Zy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Mt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Mt(317));i[Gl]=t}else ip(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Di(t),i=!1}else ml!==null&&(C4(ml),ml=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||aa.current&1?Ka===0&&(Ka=3):hN())),t.updateQueue!==null&&(t.flags|=4),Di(t),null);case 4:return op(),w4(e,t),e===null&&mv(t.stateNode.containerInfo),Di(t),null;case 10:return XE(t.type._context),Di(t),null;case 17:return Us(t.type)&&k2(),Di(t),null;case 19:if(Jn(aa),i=t.memoizedState,i===null)return Di(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Wm(i,!1);else{if(Ka!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=L2(e),s!==null){for(t.flags|=128,Wm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zn(aa,aa.current&1|2),t.child}e=e.sibling}i.tail!==null&&_a()>cp&&(t.flags|=128,n=!0,Wm(i,!1),t.lanes=4194304)}else{if(!n)if(e=L2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ea)return Di(t),null}else 2*_a()-i.renderingStartTime>cp&&r!==1073741824&&(t.flags|=128,n=!0,Wm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_a(),t.sibling=null,r=aa.current,zn(aa,n?r&1|2:r&1),t):(Di(t),null);case 22:case 23:return dN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?eo&1073741824&&(Di(t),t.subtreeFlags&6&&(t.flags|=8192)):Di(t),null;case 24:return null;case 25:return null}throw Error(Mt(156,t.tag))}function eJ(e,t){switch(HE(t),t.tag){case 1:return Us(t.type)&&k2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return op(),Jn(Bs),Jn(ts),tN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eN(t),null;case 13:if(Jn(aa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Mt(340));ip()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(aa),null;case 4:return op(),null;case 10:return XE(t.type._context),null;case 22:case 23:return dN(),null;case 24:return null;default:return null}}var rx=!1,Wi=!1,tJ=typeof WeakSet=="function"?WeakSet:Set,er=null;function A0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ha(e,t,n)}else r.current=null}function _4(e,t,r){try{r()}catch(n){ha(e,t,n)}}var aj=!1;function rJ(e,t){if(i4=A2,e=VF(),qE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(s4={focusedElem:e,selectionRange:r},A2=!1,er=t;er!==null;)if(t=er,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,er=e;else for(;er!==null;){t=er;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ul(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mt(163))}}catch(D){ha(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,er=e;break}er=t.return}return g=aj,aj=!1,g}function jg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_4(t,r,i)}a=a.next}while(a!==n)}}function zw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function S4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function F$(e){var t=e.alternate;t!==null&&(e.alternate=null,F$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gl],delete t[vv],delete t[c4],delete t[FQ],delete t[$Q])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $$(e){return e.tag===5||e.tag===3||e.tag===4}function ij(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=N2));else if(n!==4&&(e=e.child,e!==null))for(A4(e,t,r),e=e.sibling;e!==null;)A4(e,t,r),e=e.sibling}function T4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(T4(e,t,r),e=e.sibling;e!==null;)T4(e,t,r),e=e.sibling}var bi=null,dl=!1;function qu(e,t,r){for(r=r.child;r!==null;)B$(e,t,r),r=r.sibling}function B$(e,t,r){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(Lw,r)}catch{}switch(r.tag){case 5:Wi||A0(r,t);case 6:var n=bi,a=dl;bi=null,qu(e,t,r),bi=n,dl=a,bi!==null&&(dl?(e=bi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bi.removeChild(r.stateNode));break;case 18:bi!==null&&(dl?(e=bi,r=r.stateNode,e.nodeType===8?Z_(e.parentNode,r):e.nodeType===1&&Z_(e,r),dv(e)):Z_(bi,r.stateNode));break;case 4:n=bi,a=dl,bi=r.stateNode.containerInfo,dl=!0,qu(e,t,r),bi=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Wi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&_4(r,t,s),a=a.next}while(a!==n)}qu(e,t,r);break;case 1:if(!Wi&&(A0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ha(r,t,o)}qu(e,t,r);break;case 21:qu(e,t,r);break;case 22:r.mode&1?(Wi=(n=Wi)||r.memoizedState!==null,qu(e,t,r),Wi=n):qu(e,t,r);break;default:qu(e,t,r)}}function sj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tJ),t.forEach(function(n){var a=fJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function nl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:bi=o.stateNode,dl=!1;break e;case 3:bi=o.stateNode.containerInfo,dl=!0;break e;case 4:bi=o.stateNode.containerInfo,dl=!0;break e}o=o.return}if(bi===null)throw Error(Mt(160));B$(i,s,a),bi=null,dl=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ha(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U$(t,e),t=t.sibling}function U$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nl(t,e),Ul(e),n&4){try{jg(3,e,e.return),zw(3,e)}catch(m){ha(e,e.return,m)}try{jg(5,e,e.return)}catch(m){ha(e,e.return,m)}}break;case 1:nl(t,e),Ul(e),n&512&&r!==null&&A0(r,r.return);break;case 5:if(nl(t,e),Ul(e),n&512&&r!==null&&A0(r,r.return),e.flags&32){var a=e.stateNode;try{lv(a,"")}catch(m){ha(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&cF(a,i),YA(o,s);var c=YA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?pF(a,d):u==="dangerouslySetInnerHTML"?dF(a,d):u==="children"?lv(a,d):jE(a,u,d,c)}switch(o){case"input":qA(a,i);break;case"textarea":uF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?M0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?M0(a,!!i.multiple,i.defaultValue,!0):M0(a,!!i.multiple,i.multiple?[]:"",!1))}a[vv]=i}catch(m){ha(e,e.return,m)}}break;case 6:if(nl(t,e),Ul(e),n&4){if(e.stateNode===null)throw Error(Mt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){ha(e,e.return,m)}}break;case 3:if(nl(t,e),Ul(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dv(t.containerInfo)}catch(m){ha(e,e.return,m)}break;case 4:nl(t,e),Ul(e);break;case 13:nl(t,e),Ul(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(uN=_a())),n&4&&sj(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Wi=(c=Wi)||u,nl(t,e),Wi=c):nl(t,e),Ul(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(er=e,u=e.child;u!==null;){for(d=er=u;er!==null;){switch(h=er,p=h.child,h.tag){case 0:case 11:case 14:case 15:jg(4,h,h.return);break;case 1:A0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ha(n,r,m)}}break;case 5:A0(h,h.return);break;case 22:if(h.memoizedState!==null){lj(d);continue}}p!==null?(p.return=h,er=p):lj(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=hF("display",s))}catch(m){ha(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ha(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nl(t,e),Ul(e),n&4&&sj(e);break;case 21:break;default:nl(t,e),Ul(e)}}function Ul(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($$(r)){var n=r;break e}r=r.return}throw Error(Mt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(lv(a,""),n.flags&=-33);var i=ij(e);T4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=ij(e);A4(e,o,s);break;default:throw Error(Mt(161))}}catch(l){ha(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nJ(e,t,r){er=e,V$(e)}function V$(e,t,r){for(var n=(e.mode&1)!==0;er!==null;){var a=er,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||rx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Wi;o=rx;var c=Wi;if(rx=s,(Wi=l)&&!c)for(er=a;er!==null;)s=er,l=s.child,s.tag===22&&s.memoizedState!==null?cj(a):l!==null?(l.return=s,er=l):cj(a);for(;i!==null;)er=i,V$(i),i=i.sibling;er=a,rx=o,Wi=c}oj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,er=i):oj(e)}}function oj(e){for(;er!==null;){var t=er;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wi||zw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ul(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&W6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}W6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mt(163))}Wi||t.flags&512&&S4(t)}catch(h){ha(t,t.return,h)}}if(t===e){er=null;break}if(r=t.sibling,r!==null){r.return=t.return,er=r;break}er=t.return}}function lj(e){for(;er!==null;){var t=er;if(t===e){er=null;break}var r=t.sibling;if(r!==null){r.return=t.return,er=r;break}er=t.return}}function cj(e){for(;er!==null;){var t=er;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zw(4,t)}catch(l){ha(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ha(t,a,l)}}var i=t.return;try{S4(t)}catch(l){ha(t,i,l)}break;case 5:var s=t.return;try{S4(t)}catch(l){ha(t,s,l)}}}catch(l){ha(t,t.return,l)}if(t===e){er=null;break}var o=t.sibling;if(o!==null){o.return=t.return,er=o;break}er=t.return}}var aJ=Math.ceil,F2=du.ReactCurrentDispatcher,lN=du.ReactCurrentOwner,Ro=du.ReactCurrentBatchConfig,ln=0,ui=null,Ma=null,Ei=0,eo=0,T0=Kf(0),Ka=0,Sv=null,nh=0,qw=0,cN=0,Og=null,Is=null,uN=0,cp=1/0,jc=null,$2=!1,E4=null,_f=null,nx=!1,lf=null,B2=0,Ig=0,N4=null,Zx=-1,e2=0;function ws(){return ln&6?_a():Zx!==-1?Zx:Zx=_a()}function Sf(e){return e.mode&1?ln&2&&Ei!==0?Ei&-Ei:UQ.transition!==null?(e2===0&&(e2=EF()),e2):(e=_n,e!==0||(e=window.event,e=e===void 0?16:IF(e.type)),e):1}function Al(e,t,r,n){if(50<Ig)throw Ig=0,N4=null,Error(Mt(185));R1(e,r,n),(!(ln&2)||e!==ui)&&(e===ui&&(!(ln&2)&&(qw|=r),Ka===4&&tf(e,Ei)),Vs(e,n),r===1&&ln===0&&!(t.mode&1)&&(cp=_a()+500,Bw&&Yf()))}function Vs(e,t){var r=e.callbackNode;UX(e,t);var n=S2(e,e===ui?Ei:0);if(n===0)r!==null&&y6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&y6(r),t===1)e.tag===0?BQ(uj.bind(null,e)):JF(uj.bind(null,e)),MQ(function(){!(ln&6)&&Yf()}),r=null;else{switch(NF(n)){case 1:r=ME;break;case 4:r=AF;break;case 16:r=_2;break;case 536870912:r=TF;break;default:r=_2}r=X$(r,z$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function z$(e,t){if(Zx=-1,e2=0,ln&6)throw Error(Mt(327));var r=e.callbackNode;if(U0()&&e.callbackNode!==r)return null;var n=S2(e,e===ui?Ei:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=U2(e,n);else{t=n;var a=ln;ln|=2;var i=W$();(ui!==e||Ei!==t)&&(jc=null,cp=_a()+500,zd(e,t));do try{oJ();break}catch(o){q$(e,o)}while(!0);YE(),F2.current=i,ln=a,Ma!==null?t=0:(ui=null,Ei=0,t=Ka)}if(t!==0){if(t===2&&(a=e4(e),a!==0&&(n=a,t=k4(e,a))),t===1)throw r=Sv,zd(e,0),tf(e,n),Vs(e,_a()),r;if(t===6)tf(e,n);else{if(a=e.current.alternate,!(n&30)&&!iJ(a)&&(t=U2(e,n),t===2&&(i=e4(e),i!==0&&(n=i,t=k4(e,i))),t===1))throw r=Sv,zd(e,0),tf(e,n),Vs(e,_a()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Mt(345));case 2:_d(e,Is,jc);break;case 3:if(tf(e,n),(n&130023424)===n&&(t=uN+500-_a(),10<t)){if(S2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ws(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=l4(_d.bind(null,e,Is,jc),t);break}_d(e,Is,jc);break;case 4:if(tf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Sl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=_a()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aJ(n/1960))-n,10<n){e.timeoutHandle=l4(_d.bind(null,e,Is,jc),n);break}_d(e,Is,jc);break;case 5:_d(e,Is,jc);break;default:throw Error(Mt(329))}}}return Vs(e,_a()),e.callbackNode===r?z$.bind(null,e):null}function k4(e,t){var r=Og;return e.current.memoizedState.isDehydrated&&(zd(e,t).flags|=256),e=U2(e,t),e!==2&&(t=Is,Is=r,t!==null&&C4(t)),e}function C4(e){Is===null?Is=e:Is.push.apply(Is,e)}function iJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Nl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tf(e,t){for(t&=~cN,t&=~qw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sl(t),n=1<<r;e[r]=-1,t&=~n}}function uj(e){if(ln&6)throw Error(Mt(327));U0();var t=S2(e,0);if(!(t&1))return Vs(e,_a()),null;var r=U2(e,t);if(e.tag!==0&&r===2){var n=e4(e);n!==0&&(t=n,r=k4(e,n))}if(r===1)throw r=Sv,zd(e,0),tf(e,t),Vs(e,_a()),r;if(r===6)throw Error(Mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_d(e,Is,jc),Vs(e,_a()),null}function fN(e,t){var r=ln;ln|=1;try{return e(t)}finally{ln=r,ln===0&&(cp=_a()+500,Bw&&Yf())}}function ah(e){lf!==null&&lf.tag===0&&!(ln&6)&&U0();var t=ln;ln|=1;var r=Ro.transition,n=_n;try{if(Ro.transition=null,_n=1,e)return e()}finally{_n=n,Ro.transition=r,ln=t,!(ln&6)&&Yf()}}function dN(){eo=T0.current,Jn(T0)}function zd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,LQ(r)),Ma!==null)for(r=Ma.return;r!==null;){var n=r;switch(HE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&k2();break;case 3:op(),Jn(Bs),Jn(ts),tN();break;case 5:eN(n);break;case 4:op();break;case 13:Jn(aa);break;case 19:Jn(aa);break;case 10:XE(n.type._context);break;case 22:case 23:dN()}r=r.return}if(ui=e,Ma=e=Af(e.current,null),Ei=eo=t,Ka=0,Sv=null,cN=qw=nh=0,Is=Og=null,Id!==null){for(t=0;t<Id.length;t++)if(r=Id[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Id=null}return e}function q$(e,t){do{var r=Ma;try{if(YE(),Xx.current=R2,M2){for(var n=ia.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}M2=!1}if(rh=0,si=Ga=ia=null,Pg=!1,bv=0,lN.current=null,r===null||r.return===null){Ka=1,Sv=t,Ma=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Q6(s);if(p!==null){p.flags&=-257,J6(p,s,o,i,t),p.mode&1&&X6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){X6(i,c,t),hN();break e}l=Error(Mt(426))}}else if(ea&&o.mode&1){var v=Q6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),J6(v,s,o,i,t),GE(lp(l,o));break e}}i=l=lp(l,o),Ka!==4&&(Ka=2),Og===null?Og=[i]:Og.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=N$(i,l,t);q6(i,y);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_f===null||!_f.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=k$(i,o,t);q6(i,D);break e}}i=i.return}while(i!==null)}G$(r)}catch(P){t=P,Ma===r&&r!==null&&(Ma=r=r.return);continue}break}while(!0)}function W$(){var e=F2.current;return F2.current=R2,e===null?R2:e}function hN(){(Ka===0||Ka===3||Ka===2)&&(Ka=4),ui===null||!(nh&268435455)&&!(qw&268435455)||tf(ui,Ei)}function U2(e,t){var r=ln;ln|=2;var n=W$();(ui!==e||Ei!==t)&&(jc=null,zd(e,t));do try{sJ();break}catch(a){q$(e,a)}while(!0);if(YE(),ln=r,F2.current=n,Ma!==null)throw Error(Mt(261));return ui=null,Ei=0,Ka}function sJ(){for(;Ma!==null;)H$(Ma)}function oJ(){for(;Ma!==null&&!OX();)H$(Ma)}function H$(e){var t=Y$(e.alternate,e,eo);e.memoizedProps=e.pendingProps,t===null?G$(e):Ma=t,lN.current=null}function G$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eJ(r,t),r!==null){r.flags&=32767,Ma=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ka=6,Ma=null;return}}else if(r=ZQ(r,t,eo),r!==null){Ma=r;return}if(t=t.sibling,t!==null){Ma=t;return}Ma=t=e}while(t!==null);Ka===0&&(Ka=5)}function _d(e,t,r){var n=_n,a=Ro.transition;try{Ro.transition=null,_n=1,lJ(e,t,r,n)}finally{Ro.transition=a,_n=n}return null}function lJ(e,t,r,n){do U0();while(lf!==null);if(ln&6)throw Error(Mt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Mt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(VX(e,i),e===ui&&(Ma=ui=null,Ei=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nx||(nx=!0,X$(_2,function(){return U0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ro.transition,Ro.transition=null;var s=_n;_n=1;var o=ln;ln|=4,lN.current=null,rJ(e,r),U$(r,e),kQ(s4),A2=!!i4,s4=i4=null,e.current=r,nJ(r),IX(),ln=o,_n=s,Ro.transition=i}else e.current=r;if(nx&&(nx=!1,lf=e,B2=a),i=e.pendingLanes,i===0&&(_f=null),MX(r.stateNode),Vs(e,_a()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($2)throw $2=!1,e=E4,E4=null,e;return B2&1&&e.tag!==0&&U0(),i=e.pendingLanes,i&1?e===N4?Ig++:(Ig=0,N4=e):Ig=0,Yf(),null}function U0(){if(lf!==null){var e=NF(B2),t=Ro.transition,r=_n;try{if(Ro.transition=null,_n=16>e?16:e,lf===null)var n=!1;else{if(e=lf,lf=null,B2=0,ln&6)throw Error(Mt(331));var a=ln;for(ln|=4,er=e.current;er!==null;){var i=er,s=i.child;if(er.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(er=c;er!==null;){var u=er;switch(u.tag){case 0:case 11:case 15:jg(8,u,i)}var d=u.child;if(d!==null)d.return=u,er=d;else for(;er!==null;){u=er;var h=u.sibling,p=u.return;if(F$(u),u===c){er=null;break}if(h!==null){h.return=p,er=h;break}er=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}er=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,er=s;else e:for(;er!==null;){if(i=er,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,er=y;break e}er=i.return}}var w=e.current;for(er=w;er!==null;){s=er;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,er=b;else e:for(s=w;er!==null;){if(o=er,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zw(9,o)}}catch(P){ha(o,o.return,P)}if(o===s){er=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,er=D;break e}er=o.return}}if(ln=a,Yf(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(Lw,e)}catch{}n=!0}return n}finally{_n=r,Ro.transition=t}}return!1}function fj(e,t,r){t=lp(r,t),t=N$(e,t,1),e=wf(e,t,1),t=ws(),e!==null&&(R1(e,1,t),Vs(e,t))}function ha(e,t,r){if(e.tag===3)fj(e,e,r);else for(;t!==null;){if(t.tag===3){fj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_f===null||!_f.has(n))){e=lp(r,e),e=k$(t,e,1),t=wf(t,e,1),e=ws(),t!==null&&(R1(t,1,e),Vs(t,e));break}}t=t.return}}function cJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ws(),e.pingedLanes|=e.suspendedLanes&r,ui===e&&(Ei&r)===r&&(Ka===4||Ka===3&&(Ei&130023424)===Ei&&500>_a()-uN?zd(e,0):cN|=r),Vs(e,t)}function K$(e,t){t===0&&(e.mode&1?(t=Gy,Gy<<=1,!(Gy&130023424)&&(Gy=4194304)):t=1);var r=ws();e=Qc(e,t),e!==null&&(R1(e,t,r),Vs(e,r))}function uJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),K$(e,r)}function fJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Mt(314))}n!==null&&n.delete(t),K$(e,r)}var Y$;Y$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bs.current)Ls=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ls=!1,JQ(e,t,r);Ls=!!(e.flags&131072)}else Ls=!1,ea&&t.flags&1048576&&ZF(t,j2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jx(e,t),e=t.pendingProps;var a=ap(t,ts.current);B0(t,r),a=nN(null,t,n,e,a,r);var i=aN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(n)?(i=!0,C2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,JE(t),a.updater=Vw,t.stateNode=a,a._reactInternals=t,m4(t,n,e,r),t=y4(null,t,n,!0,i,r)):(t.tag=0,ea&&i&&WE(t),ds(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=hJ(n),e=ul(n,e),a){case 0:t=v4(null,t,n,e,r);break e;case 1:t=tj(null,t,n,e,r);break e;case 11:t=Z6(null,t,n,e,r);break e;case 14:t=ej(null,t,n,ul(n.type,e),r);break e}throw Error(Mt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ul(n,a),v4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ul(n,a),tj(e,t,n,a,r);case 3:e:{if(O$(t),e===null)throw Error(Mt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,i$(e,t),D2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=lp(Error(Mt(423)),t),t=rj(e,t,n,r,a);break e}else if(n!==a){a=lp(Error(Mt(424)),t),t=rj(e,t,n,r,a);break e}else for(io=bf(t.stateNode.containerInfo.firstChild),lo=t,ea=!0,ml=null,r=n$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ip(),n===a){t=Jc(e,t,r);break e}ds(e,t,n,r)}t=t.child}return t;case 5:return s$(t),e===null&&d4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,o4(n,a)?s=null:i!==null&&o4(n,i)&&(t.flags|=32),j$(e,t),ds(e,t,s,r),t.child;case 6:return e===null&&d4(t),null;case 13:return I$(e,t,r);case 4:return ZE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sp(t,null,n,r):ds(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ul(n,a),Z6(e,t,n,a,r);case 7:return ds(e,t,t.pendingProps,r),t.child;case 8:return ds(e,t,t.pendingProps.children,r),t.child;case 12:return ds(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,zn(O2,n._currentValue),n._currentValue=s,i!==null)if(Nl(i.value,s)){if(i.children===a.children&&!Bs.current){t=Jc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Bc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),h4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Mt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),h4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ds(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,B0(t,r),a=Vo(a),n=n(a),t.flags|=1,ds(e,t,n,r),t.child;case 14:return n=t.type,a=ul(n,t.pendingProps),a=ul(n.type,a),ej(e,t,n,a,r);case 15:return C$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ul(n,a),Jx(e,t),t.tag=1,Us(n)?(e=!0,C2(t)):e=!1,B0(t,r),E$(t,n,a),m4(t,n,a,r),y4(null,t,n,!0,e,r);case 19:return D$(e,t,r);case 22:return P$(e,t,r)}throw Error(Mt(156,t.tag))};function X$(e,t){return SF(e,t)}function dJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(e,t,r,n){return new dJ(e,t,r,n)}function pN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hJ(e){if(typeof e=="function")return pN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IE)return 11;if(e===DE)return 14}return 2}function Af(e,t){var r=e.alternate;return r===null?(r=Lo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function t2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")pN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case m0:return qd(r.children,a,i,t);case OE:s=8,a|=8;break;case $A:return e=Lo(12,r,t,a|2),e.elementType=$A,e.lanes=i,e;case BA:return e=Lo(13,r,t,a),e.elementType=BA,e.lanes=i,e;case UA:return e=Lo(19,r,t,a),e.elementType=UA,e.lanes=i,e;case sF:return Ww(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aF:s=10;break e;case iF:s=9;break e;case IE:s=11;break e;case DE:s=14;break e;case Qu:s=16,n=null;break e}throw Error(Mt(130,e==null?e:typeof e,""))}return t=Lo(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function qd(e,t,r,n){return e=Lo(7,e,n,t),e.lanes=r,e}function Ww(e,t,r,n){return e=Lo(22,e,n,t),e.elementType=sF,e.lanes=r,e.stateNode={isHidden:!1},e}function oS(e,t,r){return e=Lo(6,e,null,t),e.lanes=r,e}function lS(e,t,r){return t=Lo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V_(0),this.expirationTimes=V_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mN(e,t,r,n,a,i,s,o,l){return e=new pJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JE(i),e}function mJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Q$(e){if(!e)return Lf;e=e._reactInternals;e:{if(xh(e)!==e||e.tag!==1)throw Error(Mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Mt(171))}if(e.tag===1){var r=e.type;if(Us(r))return QF(e,r,t)}return t}function J$(e,t,r,n,a,i,s,o,l){return e=mN(r,n,!0,e,a,i,s,o,l),e.context=Q$(null),r=e.current,n=ws(),a=Sf(r),i=Bc(n,a),i.callback=t??null,wf(r,i,a),e.current.lanes=a,R1(e,a,n),Vs(e,n),e}function Hw(e,t,r,n){var a=t.current,i=ws(),s=Sf(a);return r=Q$(r),t.context===null?t.context=r:t.pendingContext=r,t=Bc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wf(a,t,s),e!==null&&(Al(e,a,s,i),Yx(e,a,s)),s}function V2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gN(e,t){dj(e,t),(e=e.alternate)&&dj(e,t)}function gJ(){return null}var Z$=typeof reportError=="function"?reportError:function(e){console.error(e)};function vN(e){this._internalRoot=e}Gw.prototype.render=vN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Mt(409));Hw(e,t,null,null)};Gw.prototype.unmount=vN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ah(function(){Hw(null,e,null,null)}),t[Xc]=null}};function Gw(e){this._internalRoot=e}Gw.prototype.unstable_scheduleHydration=function(e){if(e){var t=PF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ef.length&&t!==0&&t<ef[r].priority;r++);ef.splice(r,0,e),r===0&&OF(e)}};function yN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hj(){}function vJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=V2(s);i.call(c)}}var s=J$(t,n,e,0,null,!1,!1,"",hj);return e._reactRootContainer=s,e[Xc]=s.current,mv(e.nodeType===8?e.parentNode:e),ah(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=V2(l);o.call(c)}}var l=mN(e,0,!1,null,null,!1,!1,"",hj);return e._reactRootContainer=l,e[Xc]=l.current,mv(e.nodeType===8?e.parentNode:e),ah(function(){Hw(t,l,r,n)}),l}function Yw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=V2(s);o.call(l)}}Hw(t,s,e,a)}else s=vJ(r,t,e,a,n);return V2(s)}kF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dg(t.pendingLanes);r!==0&&(RE(t,r|1),Vs(t,_a()),!(ln&6)&&(cp=_a()+500,Yf()))}break;case 13:ah(function(){var n=Qc(e,1);if(n!==null){var a=ws();Al(n,e,1,a)}}),gN(e,1)}};FE=function(e){if(e.tag===13){var t=Qc(e,134217728);if(t!==null){var r=ws();Al(t,e,134217728,r)}gN(e,134217728)}};CF=function(e){if(e.tag===13){var t=Sf(e),r=Qc(e,t);if(r!==null){var n=ws();Al(r,e,t,n)}gN(e,t)}};PF=function(){return _n};jF=function(e,t){var r=_n;try{return _n=e,t()}finally{_n=r}};QA=function(e,t,r){switch(t){case"input":if(qA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=$w(n);if(!a)throw Error(Mt(90));lF(n),qA(n,a)}}}break;case"textarea":uF(e,r);break;case"select":t=r.value,t!=null&&M0(e,!!r.multiple,t,!1)}};vF=fN;yF=ah;var yJ={usingClientEntryPoint:!1,Events:[$1,x0,$w,mF,gF,fN]},Hm={findFiberByHostInstance:Od,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xJ={bundleType:Hm.bundleType,version:Hm.version,rendererPackageName:Hm.rendererPackageName,rendererConfig:Hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:du.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wF(e),e===null?null:e.stateNode},findFiberByHostInstance:Hm.findFiberByHostInstance||gJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ax=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ax.isDisabled&&ax.supportsFiber)try{Lw=ax.inject(xJ),Xl=ax}catch{}}ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yJ;ho.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yN(t))throw Error(Mt(200));return mJ(e,t,null,r)};ho.createRoot=function(e,t){if(!yN(e))throw Error(Mt(299));var r=!1,n="",a=Z$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mN(e,1,!1,null,null,r,!1,n,a),e[Xc]=t.current,mv(e.nodeType===8?e.parentNode:e),new vN(t)};ho.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Mt(188)):(e=Object.keys(e).join(","),Error(Mt(268,e)));return e=wF(t),e=e===null?null:e.stateNode,e};ho.flushSync=function(e){return ah(e)};ho.hydrate=function(e,t,r){if(!Kw(t))throw Error(Mt(200));return Yw(null,e,t,!0,r)};ho.hydrateRoot=function(e,t,r){if(!yN(e))throw Error(Mt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=Z$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=J$(t,null,e,1,r??null,a,!1,i,s),e[Xc]=t.current,mv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gw(t)};ho.render=function(e,t,r){if(!Kw(t))throw Error(Mt(200));return Yw(null,e,t,!1,r)};ho.unmountComponentAtNode=function(e){if(!Kw(e))throw Error(Mt(40));return e._reactRootContainer?(ah(function(){Yw(null,null,e,!1,function(){e._reactRootContainer=null,e[Xc]=null})}),!0):!1};ho.unstable_batchedUpdates=fN;ho.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kw(r))throw Error(Mt(200));if(e==null||e._reactInternals===void 0)throw Error(Mt(38));return Yw(e,t,r,!1,n)};ho.version="18.3.1-next-f1338f8080-20240426";function e9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e9)}catch(e){console.error(e)}}e9(),eF.exports=ho;var bJ=eF.exports,t9,pj=bJ;t9=pj.createRoot,pj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}var cf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cf||(cf={}));const mj="popstate";function wJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return P4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:z2(a)}return SJ(t,r,null,e)}function sa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _J(){return Math.random().toString(36).substr(2,8)}function gj(e,t){return{usr:e.state,key:e.key,idx:t}}function P4(e,t,r,n){return r===void 0&&(r=null),Av({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yp(t):t,{state:r,key:t&&t.key||n||_J()})}function z2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function SJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=cf.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Av({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=cf.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=cf.Push;let w=P4(m.location,v,y);c=u()+1;let b=gj(w,c),D=m.createHref(w);try{s.pushState(b,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=cf.Replace;let w=P4(m.location,v,y);c=u();let b=gj(w,c),D=m.createHref(w);s.replaceState(b,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:z2(v);return w=w.replace(/ $/,"%20"),sa(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(mj,d),l=v,()=>{a.removeEventListener(mj,d),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var vj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vj||(vj={}));function AJ(e,t,r){return r===void 0&&(r="/"),TJ(e,t,r,!1)}function TJ(e,t,r,n){let a=typeof t=="string"?Yp(t):t,i=up(a.pathname||"/",r);if(i==null)return null;let s=n9(e);EJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=RJ(i);o=LJ(s[l],c,n)}return o}function n9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(sa(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Tf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(sa(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),n9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:IJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of a9(i.path))a(i,s,l)}),t}function a9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=a9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function EJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const NJ=/^:[\w-]+$/,kJ=3,CJ=2,PJ=1,jJ=10,OJ=-2,yj=e=>e==="*";function IJ(e,t){let r=e.split("/"),n=r.length;return r.some(yj)&&(n+=OJ),t&&(n+=CJ),r.filter(a=>!yj(a)).reduce((a,i)=>a+(NJ.test(i)?kJ:i===""?PJ:jJ),n)}function DJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function LJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Tf([i,d.pathname]),pathnameBase:UJ(Tf([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Tf([i,d.pathnameBase]))}return s}function q2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=MJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function MJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),r9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function RJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return r9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function up(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function FJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Yp(e):e;return{pathname:r?r.startsWith("/")?r:$J(r,t):t,search:VJ(n),hash:zJ(a)}}function $J(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xN(e,t){let r=BJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Yp(e):(a=Av({},e),sa(!a.pathname||!a.pathname.includes("?"),cS("?","pathname","search",a)),sa(!a.pathname||!a.pathname.includes("#"),cS("#","pathname","hash",a)),sa(!a.search||!a.search.includes("#"),cS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=FJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Tf=e=>e.join("/").replace(/\/\/+/g,"/"),UJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const i9=["post","put","patch","delete"];new Set(i9);const WJ=["get",...i9];new Set(WJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}const Xw=F.createContext(null),s9=F.createContext(null),hu=F.createContext(null),Qw=F.createContext(null),pu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),o9=F.createContext(null);function HJ(e,t){let{relative:r}=t===void 0?{}:t;Xp()||sa(!1);let{basename:n,navigator:a}=F.useContext(hu),{hash:i,pathname:s,search:o}=Jw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Tf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Xp(){return F.useContext(Qw)!=null}function Qp(){return Xp()||sa(!1),F.useContext(Qw).location}function l9(e){F.useContext(hu).static||F.useLayoutEffect(e)}function Jp(){let{isDataRoute:e}=F.useContext(pu);return e?oZ():GJ()}function GJ(){Xp()||sa(!1);let e=F.useContext(Xw),{basename:t,future:r,navigator:n}=F.useContext(hu),{matches:a}=F.useContext(pu),{pathname:i}=Qp(),s=JSON.stringify(xN(a,r.v7_relativeSplatPath)),o=F.useRef(!1);return l9(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=bN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Tf([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}const KJ=F.createContext(null);function YJ(e){let t=F.useContext(pu).outlet;return t&&F.createElement(KJ.Provider,{value:e},t)}function Jw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=F.useContext(hu),{matches:a}=F.useContext(pu),{pathname:i}=Qp(),s=JSON.stringify(xN(a,n.v7_relativeSplatPath));return F.useMemo(()=>bN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function XJ(e,t){return QJ(e,t)}function QJ(e,t,r,n){Xp()||sa(!1);let{navigator:a,static:i}=F.useContext(hu),{matches:s}=F.useContext(pu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qp(),d;if(t){var h;let y=typeof t=="string"?Yp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||sa(!1),d=y}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:AJ(e,{pathname:g}),v=rZ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Tf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Tf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?F.createElement(Qw.Provider,{value:{location:Tv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cf.Pop}},v):v}function JJ(){let e=sZ(),t=qJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),r?F.createElement("pre",{style:a},r):null,null)}const ZJ=F.createElement(JJ,null);class eZ extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?F.createElement(pu.Provider,{value:this.props.routeContext},F.createElement(o9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tZ(e){let{routeContext:t,match:r,children:n}=e,a=F.useContext(Xw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(pu.Provider,{value:t},n)}function rZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||sa(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||ZJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=v:d.route.Component?b=F.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,F.createElement(tZ,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?F.createElement(eZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var c9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(c9||{}),W2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(W2||{});function nZ(e){let t=F.useContext(Xw);return t||sa(!1),t}function aZ(e){let t=F.useContext(s9);return t||sa(!1),t}function iZ(e){let t=F.useContext(pu);return t||sa(!1),t}function u9(e){let t=iZ(),r=t.matches[t.matches.length-1];return r.route.id||sa(!1),r.route.id}function sZ(){var e;let t=F.useContext(o9),r=aZ(W2.UseRouteError),n=u9(W2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function oZ(){let{router:e}=nZ(c9.UseNavigateStable),t=u9(W2.UseNavigateStable),r=F.useRef(!1);return l9(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Tv({fromRouteId:t},i)))},[e,t])}function lZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function j4(e){let{to:t,replace:r,state:n,relative:a}=e;Xp()||sa(!1);let{future:i,static:s}=F.useContext(hu),{matches:o}=F.useContext(pu),{pathname:l}=Qp(),c=Jp(),u=bN(t,xN(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function cZ(e){return YJ(e.context)}function fs(e){sa(!1)}function uZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=cf.Pop,navigator:i,static:s=!1,future:o}=e;Xp()&&sa(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:s,future:Tv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Yp(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=F.useMemo(()=>{let v=up(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:a}},[l,u,d,h,p,g,a]);return m==null?null:F.createElement(hu.Provider,{value:c},F.createElement(Qw.Provider,{children:r,value:m}))}function fZ(e){let{children:t,location:r}=e;return XJ(O4(t),r)}new Promise(()=>{});function O4(e,t){t===void 0&&(t=[]);let r=[];return F.Children.forEach(e,(n,a)=>{if(!F.isValidElement(n))return;let i=[...t,a];if(n.type===F.Fragment){r.push.apply(r,O4(n.props.children,i));return}n.type!==fs&&sa(!1),!n.props.index||!n.props.children||sa(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=O4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function f9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hZ(e,t){return e.button===0&&(!t||t==="_self")&&!dZ(e)}const pZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gZ="6";try{window.__reactRouterVersion=gZ}catch{}const vZ=F.createContext({isTransitioning:!1}),yZ="startTransition",xj=cX[yZ];function xZ(e){let{basename:t,children:r,future:n,window:a}=e,i=F.useRef();i.current==null&&(i.current=wJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=F.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=F.useCallback(d=>{c&&xj?xj(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>s.listen(u),[s,u]),F.useEffect(()=>lZ(n),[n]),F.createElement(uZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const bZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_Z=F.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=f9(t,pZ),{basename:p}=F.useContext(hu),g,m=!1;if(typeof c=="string"&&wZ.test(c)&&(g=c,bZ))try{let b=new URL(window.location.href),D=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=up(D.pathname,p);D.origin===b.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let v=HJ(c,{relative:a}),y=AZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:d});function w(b){n&&n(b),b.defaultPrevented||y(b)}return F.createElement("a",H2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),uS=F.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,d=f9(t,mZ),h=Jw(l,{relative:d.relative}),p=Qp(),g=F.useContext(s9),{navigator:m,basename:v}=F.useContext(hu),y=g!=null&&TZ(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&v&&(D=up(D,v)||D);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=b===w||!s&&b.startsWith(w)&&b.charAt(P)==="/",T=D!=null&&(D===w||!s&&D.startsWith(w)&&D.charAt(w.length)==="/"),_={isActive:j,isPending:T,isTransitioning:y},S=j?n:void 0,O;typeof i=="function"?O=i(_):O=[i,j?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(_):o;return F.createElement(_Z,H2({},d,{"aria-current":S,className:O,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(_):u)});var I4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I4||(I4={}));var bj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bj||(bj={}));function SZ(e){let t=F.useContext(Xw);return t||sa(!1),t}function AZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Jp(),c=Qp(),u=Jw(e,{relative:s});return F.useCallback(d=>{if(hZ(d,r)){d.preventDefault();let h=n!==void 0?n:z2(c)===z2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function TZ(e,t){t===void 0&&(t={});let r=F.useContext(vZ);r==null&&sa(!1);let{basename:n}=SZ(I4.useViewTransitionState),a=Jw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=up(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=up(r.nextLocation.pathname,n)||r.nextLocation.pathname;return q2(a.pathname,s)!=null||q2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),cr=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>F.createElement("svg",{ref:u,...EZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${NZ(e)}`,o].join(" "),...c},[...t.map(([d,h])=>F.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=cr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=cr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=cr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=cr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=cr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=cr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=cr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=cr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=cr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=cr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=cr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=cr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=cr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=cr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=cr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=cr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=cr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=cr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=cr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=cr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=cr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=cr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=cr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=cr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=cr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=cr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=cr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=cr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=cr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=cr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=cr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=cr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=cr("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=cr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=cr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=cr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=cr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=cr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=cr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=cr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=cr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=cr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=cr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=cr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=cr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=cr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=cr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=cr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=cr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=cr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=cr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=cr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=cr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=cr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=cr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GZ=()=>{};var Nj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},KZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},w9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(b9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):KZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const d=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||d==null)throw new YZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),d!==64){const g=c<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XZ=function(e){const t=b9(e);return w9.encodeByteArray(t,!0)},X2=function(e){return XZ(e).replace(/\./g,"")},QZ=function(e){try{return w9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=()=>JZ().__FIREBASE_DEFAULTS__,eee=()=>{if(typeof process>"u"||typeof Nj>"u")return;const e=Nj.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tee=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&QZ(e[1]);return t&&JSON.parse(t)},_N=()=>{try{return GZ()||ZZ()||eee()||tee()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ree=e=>{var t,r;return(r=(t=_N())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},nee=e=>{const t=ree(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},_9=()=>{var e;return(e=_N())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e){return e.endsWith(".cloudworkstations.dev")}async function iee(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[X2(JSON.stringify(r)),X2(JSON.stringify(s)),""].join(".")}const Dg={};function oee(){const e={prod:[],emulator:[]};for(const t of Object.keys(Dg))Dg[t]?e.emulator.push(t):e.prod.push(t);return e}function lee(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let kj=!1;function S9(e,t){if(typeof window>"u"||typeof document>"u"||!SN(window.location.host)||Dg[e]===t||Dg[e]||kj)return;Dg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=oee().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{kj=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=lee(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,m);const D=c();l(w,y),b.append(w,g,v,D),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uee(){var e;const t=(e=_N())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fee(){return!uee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dee(){try{return typeof indexedDB=="object"}catch{return!1}}function hee(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee="FirebaseError";class Zp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=pee,Object.setPrototypeOf(this,Zp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A9.prototype.create)}}class A9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?mee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Zp(a,o,n)}}function mee(e,t){return e.replace(gee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const gee=/\{\$([^}]+)}/g;function Q2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(Cj(i)&&Cj(s)){if(!Q2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Cj(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){return e&&e._delegate?e._delegate:e}class Nv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new aee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xee(t))try{this.getOrInitializeService({instanceIdentifier:Sd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Sd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sd){return this.instances.has(t)}getOptions(t=Sd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:yee(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Sd){return this.component?this.component.multipleInstances?t:Sd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yee(e){return e===Sd?void 0:e}function xee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new vee(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tn||(tn={}));const wee={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},_ee=tn.INFO,See={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},Aee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=See[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class T9{constructor(t){this.name=t,this._logLevel=_ee,this._logHandler=Aee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...t),this._logHandler(this,tn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...t),this._logHandler(this,tn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...t),this._logHandler(this,tn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...t),this._logHandler(this,tn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...t),this._logHandler(this,tn.ERROR,...t)}}const Tee=(e,t)=>t.some(r=>e instanceof r);let Pj,jj;function Eee(){return Pj||(Pj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nee(){return jj||(jj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E9=new WeakMap,F4=new WeakMap,N9=new WeakMap,dS=new WeakMap,AN=new WeakMap;function kee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Ef(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&E9.set(r,e)}).catch(()=>{}),AN.set(t,e),t}function Cee(e){if(F4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});F4.set(e,t)}let $4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return F4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||N9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ef(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Pee(e){$4=e($4)}function jee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(hS(this),t,...r);return N9.set(n,t.sort?t.sort():[t]),Ef(n)}:Nee().includes(e)?function(...t){return e.apply(hS(this),t),Ef(E9.get(this))}:function(...t){return Ef(e.apply(hS(this),t))}}function Oee(e){return typeof e=="function"?jee(e):(e instanceof IDBTransaction&&Cee(e),Tee(e,Eee())?new Proxy(e,$4):e)}function Ef(e){if(e instanceof IDBRequest)return kee(e);if(dS.has(e))return dS.get(e);const t=Oee(e);return t!==e&&(dS.set(e,t),AN.set(t,e)),t}const hS=e=>AN.get(e);function Iee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=Ef(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ef(s.result),l.oldVersion,l.newVersion,Ef(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Dee=["get","getKey","getAll","getAllKeys","count"],Lee=["put","add","delete","clear"],pS=new Map;function Oj(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pS.get(t))return pS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Lee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Dee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return pS.set(t,i),i}Pee(e=>({...e,get:(t,r,n)=>Oj(t,r)||e.get(t,r,n),has:(t,r)=>!!Oj(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ree(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ree(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const B4="@firebase/app",Ij="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new T9("@firebase/app"),Fee="@firebase/app-compat",$ee="@firebase/analytics-compat",Bee="@firebase/analytics",Uee="@firebase/app-check-compat",Vee="@firebase/app-check",zee="@firebase/auth",qee="@firebase/auth-compat",Wee="@firebase/database",Hee="@firebase/data-connect",Gee="@firebase/database-compat",Kee="@firebase/functions",Yee="@firebase/functions-compat",Xee="@firebase/installations",Qee="@firebase/installations-compat",Jee="@firebase/messaging",Zee="@firebase/messaging-compat",ete="@firebase/performance",tte="@firebase/performance-compat",rte="@firebase/remote-config",nte="@firebase/remote-config-compat",ate="@firebase/storage",ite="@firebase/storage-compat",ste="@firebase/firestore",ote="@firebase/vertexai",lte="@firebase/firestore-compat",cte="firebase",ute="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="[DEFAULT]",fte={[B4]:"fire-core",[Fee]:"fire-core-compat",[Bee]:"fire-analytics",[$ee]:"fire-analytics-compat",[Vee]:"fire-app-check",[Uee]:"fire-app-check-compat",[zee]:"fire-auth",[qee]:"fire-auth-compat",[Wee]:"fire-rtdb",[Hee]:"fire-data-connect",[Gee]:"fire-rtdb-compat",[Kee]:"fire-fn",[Yee]:"fire-fn-compat",[Xee]:"fire-iid",[Qee]:"fire-iid-compat",[Jee]:"fire-fcm",[Zee]:"fire-fcm-compat",[ete]:"fire-perf",[tte]:"fire-perf-compat",[rte]:"fire-rc",[nte]:"fire-rc-compat",[ate]:"fire-gcs",[ite]:"fire-gcs-compat",[ste]:"fire-fst",[lte]:"fire-fst-compat",[ote]:"fire-vertex","fire-js":"fire-js",[cte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map,dte=new Map,V4=new Map;function Dj(e,t){try{e.container.addComponent(t)}catch(r){eu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Z2(e){const t=e.name;if(V4.has(t))return eu.debug(`There were multiple attempts to register component ${t}.`),!1;V4.set(t,e);for(const r of J2.values())Dj(r,e);for(const r of dte.values())Dj(r,e);return!0}function hte(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function pte(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nf=new A9("app","Firebase",mte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=ute;function k9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:U4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Nf.create("bad-app-name",{appName:String(a)});if(r||(r=_9()),!r)throw Nf.create("no-options");const i=J2.get(a);if(i){if(Q2(r,i.options)&&Q2(n,i.config))return i;throw Nf.create("duplicate-app",{appName:a})}const s=new bee(a);for(const l of V4.values())s.addComponent(l);const o=new gte(r,n,s);return J2.set(a,o),o}function yte(e=U4){const t=J2.get(e);if(!t&&e===U4&&_9())return k9();if(!t)throw Nf.create("no-app",{appName:e});return t}function V0(e,t,r){var n;let a=(n=fte[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eu.warn(o.join(" "));return}Z2(new Nv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte="firebase-heartbeat-database",bte=1,kv="firebase-heartbeat-store";let mS=null;function C9(){return mS||(mS=Iee(xte,bte,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(kv)}catch(r){console.warn(r)}}}}).catch(e=>{throw Nf.create("idb-open",{originalErrorMessage:e.message})})),mS}async function wte(e){try{const r=(await C9()).transaction(kv),n=await r.objectStore(kv).get(P9(e));return await r.done,n}catch(t){if(t instanceof Zp)eu.warn(t.message);else{const r=Nf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});eu.warn(r.message)}}}async function Lj(e,t){try{const n=(await C9()).transaction(kv,"readwrite");await n.objectStore(kv).put(t,P9(e)),await n.done}catch(r){if(r instanceof Zp)eu.warn(r.message);else{const n=Nf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});eu.warn(n.message)}}}function P9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te=1024,Ste=30;class Ate{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ete(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mj();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Ste){const s=Nte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){eu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Mj(),{heartbeatsToSend:n,unsentEntries:a}=Tte(this._heartbeatsCache.heartbeats),i=X2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return eu.warn(r),""}}}function Mj(){return new Date().toISOString().substring(0,10)}function Tte(e,t=_te){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Rj(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Rj(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ete{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dee()?hee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await wte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Rj(e){return X2(JSON.stringify({version:2,heartbeats:e})).length}function Nte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(e){Z2(new Nv("platform-logger",t=>new Mee(t),"PRIVATE")),Z2(new Nv("heartbeat",t=>new Ate(t),"PRIVATE")),V0(B4,Ij,e),V0(B4,Ij,"esm2017"),V0("fire-js","")}kte("");var Cte="firebase",Pte="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */V0(Cte,Pte,"app");var Fj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kf,j9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(O,E,N){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return _.prototype[E].apply(O,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,_,S){S||(S=0);var O=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)O[E]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(E=0;16>E;++E)O[E]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],E=T.g[2];var N=T.g[3],k=_+(N^S&(E^N))+O[0]+3614090360&4294967295;_=S+(k<<7&4294967295|k>>>25),k=N+(E^_&(S^E))+O[1]+3905402710&4294967295,N=_+(k<<12&4294967295|k>>>20),k=E+(S^N&(_^S))+O[2]+606105819&4294967295,E=N+(k<<17&4294967295|k>>>15),k=S+(_^E&(N^_))+O[3]+3250441966&4294967295,S=E+(k<<22&4294967295|k>>>10),k=_+(N^S&(E^N))+O[4]+4118548399&4294967295,_=S+(k<<7&4294967295|k>>>25),k=N+(E^_&(S^E))+O[5]+1200080426&4294967295,N=_+(k<<12&4294967295|k>>>20),k=E+(S^N&(_^S))+O[6]+2821735955&4294967295,E=N+(k<<17&4294967295|k>>>15),k=S+(_^E&(N^_))+O[7]+4249261313&4294967295,S=E+(k<<22&4294967295|k>>>10),k=_+(N^S&(E^N))+O[8]+1770035416&4294967295,_=S+(k<<7&4294967295|k>>>25),k=N+(E^_&(S^E))+O[9]+2336552879&4294967295,N=_+(k<<12&4294967295|k>>>20),k=E+(S^N&(_^S))+O[10]+4294925233&4294967295,E=N+(k<<17&4294967295|k>>>15),k=S+(_^E&(N^_))+O[11]+2304563134&4294967295,S=E+(k<<22&4294967295|k>>>10),k=_+(N^S&(E^N))+O[12]+1804603682&4294967295,_=S+(k<<7&4294967295|k>>>25),k=N+(E^_&(S^E))+O[13]+4254626195&4294967295,N=_+(k<<12&4294967295|k>>>20),k=E+(S^N&(_^S))+O[14]+2792965006&4294967295,E=N+(k<<17&4294967295|k>>>15),k=S+(_^E&(N^_))+O[15]+1236535329&4294967295,S=E+(k<<22&4294967295|k>>>10),k=_+(E^N&(S^E))+O[1]+4129170786&4294967295,_=S+(k<<5&4294967295|k>>>27),k=N+(S^E&(_^S))+O[6]+3225465664&4294967295,N=_+(k<<9&4294967295|k>>>23),k=E+(_^S&(N^_))+O[11]+643717713&4294967295,E=N+(k<<14&4294967295|k>>>18),k=S+(N^_&(E^N))+O[0]+3921069994&4294967295,S=E+(k<<20&4294967295|k>>>12),k=_+(E^N&(S^E))+O[5]+3593408605&4294967295,_=S+(k<<5&4294967295|k>>>27),k=N+(S^E&(_^S))+O[10]+38016083&4294967295,N=_+(k<<9&4294967295|k>>>23),k=E+(_^S&(N^_))+O[15]+3634488961&4294967295,E=N+(k<<14&4294967295|k>>>18),k=S+(N^_&(E^N))+O[4]+3889429448&4294967295,S=E+(k<<20&4294967295|k>>>12),k=_+(E^N&(S^E))+O[9]+568446438&4294967295,_=S+(k<<5&4294967295|k>>>27),k=N+(S^E&(_^S))+O[14]+3275163606&4294967295,N=_+(k<<9&4294967295|k>>>23),k=E+(_^S&(N^_))+O[3]+4107603335&4294967295,E=N+(k<<14&4294967295|k>>>18),k=S+(N^_&(E^N))+O[8]+1163531501&4294967295,S=E+(k<<20&4294967295|k>>>12),k=_+(E^N&(S^E))+O[13]+2850285829&4294967295,_=S+(k<<5&4294967295|k>>>27),k=N+(S^E&(_^S))+O[2]+4243563512&4294967295,N=_+(k<<9&4294967295|k>>>23),k=E+(_^S&(N^_))+O[7]+1735328473&4294967295,E=N+(k<<14&4294967295|k>>>18),k=S+(N^_&(E^N))+O[12]+2368359562&4294967295,S=E+(k<<20&4294967295|k>>>12),k=_+(S^E^N)+O[5]+4294588738&4294967295,_=S+(k<<4&4294967295|k>>>28),k=N+(_^S^E)+O[8]+2272392833&4294967295,N=_+(k<<11&4294967295|k>>>21),k=E+(N^_^S)+O[11]+1839030562&4294967295,E=N+(k<<16&4294967295|k>>>16),k=S+(E^N^_)+O[14]+4259657740&4294967295,S=E+(k<<23&4294967295|k>>>9),k=_+(S^E^N)+O[1]+2763975236&4294967295,_=S+(k<<4&4294967295|k>>>28),k=N+(_^S^E)+O[4]+1272893353&4294967295,N=_+(k<<11&4294967295|k>>>21),k=E+(N^_^S)+O[7]+4139469664&4294967295,E=N+(k<<16&4294967295|k>>>16),k=S+(E^N^_)+O[10]+3200236656&4294967295,S=E+(k<<23&4294967295|k>>>9),k=_+(S^E^N)+O[13]+681279174&4294967295,_=S+(k<<4&4294967295|k>>>28),k=N+(_^S^E)+O[0]+3936430074&4294967295,N=_+(k<<11&4294967295|k>>>21),k=E+(N^_^S)+O[3]+3572445317&4294967295,E=N+(k<<16&4294967295|k>>>16),k=S+(E^N^_)+O[6]+76029189&4294967295,S=E+(k<<23&4294967295|k>>>9),k=_+(S^E^N)+O[9]+3654602809&4294967295,_=S+(k<<4&4294967295|k>>>28),k=N+(_^S^E)+O[12]+3873151461&4294967295,N=_+(k<<11&4294967295|k>>>21),k=E+(N^_^S)+O[15]+530742520&4294967295,E=N+(k<<16&4294967295|k>>>16),k=S+(E^N^_)+O[2]+3299628645&4294967295,S=E+(k<<23&4294967295|k>>>9),k=_+(E^(S|~N))+O[0]+4096336452&4294967295,_=S+(k<<6&4294967295|k>>>26),k=N+(S^(_|~E))+O[7]+1126891415&4294967295,N=_+(k<<10&4294967295|k>>>22),k=E+(_^(N|~S))+O[14]+2878612391&4294967295,E=N+(k<<15&4294967295|k>>>17),k=S+(N^(E|~_))+O[5]+4237533241&4294967295,S=E+(k<<21&4294967295|k>>>11),k=_+(E^(S|~N))+O[12]+1700485571&4294967295,_=S+(k<<6&4294967295|k>>>26),k=N+(S^(_|~E))+O[3]+2399980690&4294967295,N=_+(k<<10&4294967295|k>>>22),k=E+(_^(N|~S))+O[10]+4293915773&4294967295,E=N+(k<<15&4294967295|k>>>17),k=S+(N^(E|~_))+O[1]+2240044497&4294967295,S=E+(k<<21&4294967295|k>>>11),k=_+(E^(S|~N))+O[8]+1873313359&4294967295,_=S+(k<<6&4294967295|k>>>26),k=N+(S^(_|~E))+O[15]+4264355552&4294967295,N=_+(k<<10&4294967295|k>>>22),k=E+(_^(N|~S))+O[6]+2734768916&4294967295,E=N+(k<<15&4294967295|k>>>17),k=S+(N^(E|~_))+O[13]+1309151649&4294967295,S=E+(k<<21&4294967295|k>>>11),k=_+(E^(S|~N))+O[4]+4149444226&4294967295,_=S+(k<<6&4294967295|k>>>26),k=N+(S^(_|~E))+O[11]+3174756917&4294967295,N=_+(k<<10&4294967295|k>>>22),k=E+(_^(N|~S))+O[2]+718787259&4294967295,E=N+(k<<15&4294967295|k>>>17),k=S+(N^(E|~_))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(E+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,O=this.B,E=this.h,N=0;N<_;){if(E==0)for(;N<=S;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<_;)if(O[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,O),E=0;break}}else for(;N<_;)if(O[E++]=T[N++],E==this.blockSize){a(this,O),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var O=0;32>O;O+=8)T[S++]=this.g[_]>>>O&255;return T};function i(T,_){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function s(T,_){this.h=_;for(var S=[],O=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;O&&N==_||(S[E]=N,O=!1)}this.g=S}var o={};function l(T){return-128<=T&&128>T?i(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var _=[],S=1,O=0;T>=S;O++)_[O]=T/S|0,S*=4294967296;return new s(_,0)}function u(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return v(u(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),O=d,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),k=parseInt(T.substring(E,E+N),_);8>N?(N=c(Math.pow(_,N)),O=O.j(N).add(c(k))):(O=O.j(S),O=O.add(c(k)))}return O}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var O=this.i(S);T+=(0<=O?O:4294967296+O)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var _=c(Math.pow(T,6)),S=this,O="";;){var E=D(S,_).g;S=y(S,E.j(_));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=E,g(S))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var _=T.g.length,S=[],O=0;O<_;O++)S[O]=~T.g[O];return new s(S,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],O=0,E=0;E<=_;E++){var N=O+(this.i(E)&65535)+(T.i(E)&65535),k=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);O=k>>>16,N&=65535,k&=65535,S[E]=k<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(v(_))}e.j=function(T){if(g(this)||g(T))return d;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],O=0;O<2*_;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(var E=0;E<T.g.length;E++){var N=this.i(O)>>>16,k=this.i(O)&65535,U=T.i(E)>>>16,X=T.i(E)&65535;S[2*O+2*E]+=k*X,w(S,2*O+2*E),S[2*O+2*E+1]+=N*X,w(S,2*O+2*E+1),S[2*O+2*E+1]+=k*U,w(S,2*O+2*E+1),S[2*O+2*E+2]+=N*U,w(S,2*O+2*E+2)}for(O=0;O<_;O++)S[O]=S[2*O+1]<<16|S[2*O];for(O=_;O<2*_;O++)S[O]=0;return new s(S,0)};function w(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function b(T,_){this.g=T,this.h=_}function D(T,_){if(g(_))throw Error("division by zero");if(g(T))return new b(d,d);if(m(T))return _=D(v(T),_),new b(v(_.g),v(_.h));if(m(_))return _=D(T,v(_)),new b(v(_.g),_.h);if(30<T.g.length){if(m(T)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,O=_;0>=O.l(T);)S=P(S),O=P(O);var E=j(S,1),N=j(O,1);for(O=j(O,2),S=j(S,2);!g(O);){var k=N.add(O);0>=k.l(T)&&(E=E.add(S),N=k),O=j(O,1),S=j(S,1)}return _=y(T,E.j(_)),new b(E,_)}for(E=d;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=c(S),k=N.j(_);m(k)||0<k.l(T);)S-=O,N=c(S),k=N.j(_);g(N)&&(N=h),E=E.add(N),T=y(T,k)}return new b(E,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],O=0;O<_;O++)S[O]=this.i(O)&T.i(O);return new s(S,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],O=0;O<_;O++)S[O]=this.i(O)|T.i(O);return new s(S,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],O=0;O<_;O++)S[O]=this.i(O)^T.i(O);return new s(S,this.h^T.h)};function P(T){for(var _=T.g.length+1,S=[],O=0;O<_;O++)S[O]=T.i(O)<<1|T.i(O-1)>>>31;return new s(S,T.h)}function j(T,_){var S=_>>5;_%=32;for(var O=T.g.length-S,E=[],N=0;N<O;N++)E[N]=0<_?T.i(N+S)>>>_|T.i(N+S+1)<<32-_:T.i(N+S);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,j9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,kf=s}).apply(typeof Fj<"u"?Fj:typeof self<"u"?self:typeof window<"u"?window:{});var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O9,pg,I9,n2,z4,D9,L9,M9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,B,Q){return A==Array.prototype||A==Object.prototype||(A[B]=Q.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof ix=="object"&&ix];for(var B=0;B<A.length;++B){var Q=A[B];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(A,B){if(B)e:{var Q=n;A=A.split(".");for(var ue=0;ue<A.length-1;ue++){var Be=A[ue];if(!(Be in Q))break e;Q=Q[Be]}A=A[A.length-1],ue=Q[A],B=B(ue),B!=ue&&B!=null&&t(Q,A,{configurable:!0,writable:!0,value:B})}}function i(A,B){A instanceof String&&(A+="");var Q=0,ue=!1,Be={next:function(){if(!ue&&Q<A.length){var et=Q++;return{value:B(et,A[et]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}a("Array.prototype.values",function(A){return A||function(){return i(this,function(B,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var B=typeof A;return B=B!="object"?B:A?Array.isArray(A)?"array":B:"null",B=="array"||B=="object"&&typeof A.length=="number"}function c(A){var B=typeof A;return B=="object"&&A!=null||B=="function"}function u(A,B,Q){return A.call.apply(A.bind,arguments)}function d(A,B,Q){if(!A)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,ue),A.apply(B,Be)}}return function(){return A.apply(B,arguments)}}function h(A,B,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(A,B){var Q=Array.prototype.slice.call(arguments,1);return function(){var ue=Q.slice();return ue.push.apply(ue,arguments),A.apply(this,ue)}}function g(A,B){function Q(){}Q.prototype=B.prototype,A.aa=B.prototype,A.prototype=new Q,A.prototype.constructor=A,A.Qb=function(ue,Be,et){for(var Pt=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)Pt[Cr-2]=arguments[Cr];return B.prototype[Be].apply(ue,Pt)}}function m(A){const B=A.length;if(0<B){const Q=Array(B);for(let ue=0;ue<B;ue++)Q[ue]=A[ue];return Q}return[]}function v(A,B){for(let Q=1;Q<arguments.length;Q++){const ue=arguments[Q];if(l(ue)){const Be=A.length||0,et=ue.length||0;A.length=Be+et;for(let Pt=0;Pt<et;Pt++)A[Be+Pt]=ue[Pt]}else A.push(ue)}}class y{constructor(B,Q){this.i=B,this.j=Q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function w(A){return/^[\s\xa0]*$/.test(A)}function b(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(A,B,Q){for(const ue in A)B.call(Q,A[ue],ue,A)}function T(A,B){for(const Q in A)B.call(void 0,A[Q],Q,A)}function _(A){const B={};for(const Q in A)B[Q]=A[Q];return B}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(A,B){let Q,ue;for(let Be=1;Be<arguments.length;Be++){ue=arguments[Be];for(Q in ue)A[Q]=ue[Q];for(let et=0;et<S.length;et++)Q=S[et],Object.prototype.hasOwnProperty.call(ue,Q)&&(A[Q]=ue[Q])}}function E(A){var B=1;A=A.split(":");const Q=[];for(;0<B&&A.length;)Q.push(A.shift()),B--;return A.length&&Q.push(A.join(":")),Q}function N(A){o.setTimeout(()=>{throw A},0)}function k(){var A=W;let B=null;return A.g&&(B=A.g,A.g=A.g.next,A.g||(A.h=null),B.next=null),B}class U{constructor(){this.h=this.g=null}add(B,Q){const ue=X.get();ue.set(B,Q),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var X=new y(()=>new z,A=>A.reset());class z{constructor(){this.next=this.g=this.h=null}set(B,Q){this.h=B,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let G,V=!1,W=new U,te=()=>{const A=o.Promise.resolve(void 0);G=()=>{A.then(Z)}};var Z=()=>{for(var A;A=k();){try{A.h.call(A.g)}catch(Q){N(Q)}var B=X;B.j(A),100>B.h&&(B.h++,A.next=B.g,B.g=A)}V=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(A,B){this.type=A,this.g=this.target=B,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,B=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const Q=()=>{};o.addEventListener("test",Q,B),o.removeEventListener("test",Q,B)}catch{}return A}();function Y(A,B){if(M.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var Q=this.type=A.type,ue=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=B,B=A.relatedTarget){if(P){e:{try{D(B.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(B=null)}}else Q=="mouseover"?B=A.fromElement:Q=="mouseout"&&(B=A.toElement);this.relatedTarget=B,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:J[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&Y.aa.h.call(this)}}g(Y,M);var J={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),fe=0;function ae(A,B,Q,ue,Be){this.listener=A,this.proxy=null,this.src=B,this.type=Q,this.capture=!!ue,this.ha=Be,this.key=++fe,this.da=this.fa=!1}function ge(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,B,Q,ue,Be){var et=A.toString();A=this.g[et],A||(A=this.g[et]=[],this.h++);var Pt=ke(A,B,ue,Be);return-1<Pt?(B=A[Pt],Q||(B.fa=!1)):(B=new ae(B,this.src,et,!!ue,Be),B.fa=Q,A.push(B)),B};function H(A,B){var Q=B.type;if(Q in A.g){var ue=A.g[Q],Be=Array.prototype.indexOf.call(ue,B,void 0),et;(et=0<=Be)&&Array.prototype.splice.call(ue,Be,1),et&&(ge(B),A.g[Q].length==0&&(delete A.g[Q],A.h--))}}function ke(A,B,Q,ue){for(var Be=0;Be<A.length;++Be){var et=A[Be];if(!et.da&&et.listener==B&&et.capture==!!Q&&et.ha==ue)return Be}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Se={};function le(A,B,Q,ue,Be){if(Array.isArray(B)){for(var et=0;et<B.length;et++)le(A,B[et],Q,ue,Be);return null}return Q=qe(Q),A&&A[ie]?A.K(B,Q,c(ue)?!!ue.capture:!!ue,Be):Me(A,B,Q,!1,ue,Be)}function Me(A,B,Q,ue,Be,et){if(!B)throw Error("Invalid event type");var Pt=c(Be)?!!Be.capture:!!Be,Cr=Te(A);if(Cr||(A[Ce]=Cr=new ye(A)),Q=Cr.add(B,Q,ue,Pt,et),Q.proxy)return Q;if(ue=We(),Q.proxy=ue,ue.src=A,ue.listener=Q,A.addEventListener)q||(Be=Pt),Be===void 0&&(Be=!1),A.addEventListener(B.toString(),ue,Be);else if(A.attachEvent)A.attachEvent(we(B.toString()),ue);else if(A.addListener&&A.removeListener)A.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function We(){function A(Q){return B.call(A.src,A.listener,Q)}const B=Fe;return A}function Ie(A,B,Q,ue,Be){if(Array.isArray(B))for(var et=0;et<B.length;et++)Ie(A,B[et],Q,ue,Be);else ue=c(ue)?!!ue.capture:!!ue,Q=qe(Q),A&&A[ie]?(A=A.i,B=String(B).toString(),B in A.g&&(et=A.g[B],Q=ke(et,Q,ue,Be),-1<Q&&(ge(et[Q]),Array.prototype.splice.call(et,Q,1),et.length==0&&(delete A.g[B],A.h--)))):A&&(A=Te(A))&&(B=A.g[B.toString()],A=-1,B&&(A=ke(B,Q,ue,Be)),(Q=-1<A?B[A]:null)&&Ye(Q))}function Ye(A){if(typeof A!="number"&&A&&!A.da){var B=A.src;if(B&&B[ie])H(B.i,A);else{var Q=A.type,ue=A.proxy;B.removeEventListener?B.removeEventListener(Q,ue,A.capture):B.detachEvent?B.detachEvent(we(Q),ue):B.addListener&&B.removeListener&&B.removeListener(ue),(Q=Te(B))?(H(Q,A),Q.h==0&&(Q.src=null,B[Ce]=null)):ge(A)}}}function we(A){return A in Se?Se[A]:Se[A]="on"+A}function Fe(A,B){if(A.da)A=!0;else{B=new Y(B,this);var Q=A.listener,ue=A.ha||A.src;A.fa&&Ye(A),A=Q.call(ue,B)}return A}function Te(A){return A=A[Ce],A instanceof ye?A:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(A){return typeof A=="function"?A:(A[Oe]||(A[Oe]=function(B){return A.handleEvent(B)}),A[Oe])}function nt(){I.call(this),this.i=new ye(this),this.M=this,this.F=null}g(nt,I),nt.prototype[ie]=!0,nt.prototype.removeEventListener=function(A,B,Q,ue){Ie(this,A,B,Q,ue)};function ot(A,B){var Q,ue=A.F;if(ue)for(Q=[];ue;ue=ue.F)Q.push(ue);if(A=A.M,ue=B.type||B,typeof B=="string")B=new M(B,A);else if(B instanceof M)B.target=B.target||A;else{var Be=B;B=new M(ue,A),O(B,Be)}if(Be=!0,Q)for(var et=Q.length-1;0<=et;et--){var Pt=B.g=Q[et];Be=xt(Pt,ue,!0,B)&&Be}if(Pt=B.g=A,Be=xt(Pt,ue,!0,B)&&Be,Be=xt(Pt,ue,!1,B)&&Be,Q)for(et=0;et<Q.length;et++)Pt=B.g=Q[et],Be=xt(Pt,ue,!1,B)&&Be}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var A=this.i,B;for(B in A.g){for(var Q=A.g[B],ue=0;ue<Q.length;ue++)ge(Q[ue]);delete A.g[B],A.h--}}this.F=null},nt.prototype.K=function(A,B,Q,ue){return this.i.add(String(A),B,!1,Q,ue)},nt.prototype.L=function(A,B,Q,ue){return this.i.add(String(A),B,!0,Q,ue)};function xt(A,B,Q,ue){if(B=A.i.g[String(B)],!B)return!0;B=B.concat();for(var Be=!0,et=0;et<B.length;++et){var Pt=B[et];if(Pt&&!Pt.da&&Pt.capture==Q){var Cr=Pt.listener,Kr=Pt.ha||Pt.src;Pt.fa&&H(A.i,Pt),Be=Cr.call(Kr,ue)!==!1&&Be}}return Be&&!ue.defaultPrevented}function ht(A,B,Q){if(typeof A=="function")Q&&(A=h(A,Q));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(A,B||0)}function mt(A){A.g=ht(()=>{A.g=null,A.i&&(A.i=!1,mt(A))},A.l);const B=A.h;A.h=null,A.m.apply(null,B)}class ct extends I{constructor(B,Q){super(),this.m=B,this.l=Q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(A){I.call(this),this.h=A,this.g={}}g(Zt,I);var Ht=[];function Rr(A){j(A.g,function(B,Q){this.g.hasOwnProperty(Q)&&Ye(B)},A),A.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Rr(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=o.JSON.stringify,Wr=o.JSON.parse,Pe=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Re(){}Re.prototype.h=null;function rt(A){return A.h||(A.h=A.i())}function vt(){}var Nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){M.call(this,"d")}g(Kt,M);function Ft(){M.call(this,"c")}g(Ft,M);var Dt={},rr=null;function gr(){return rr=rr||new nt}Dt.La="serverreachability";function or(A){M.call(this,Dt.La,A)}g(or,M);function Tr(A){const B=gr();ot(B,new or(B))}Dt.STAT_EVENT="statevent";function An(A,B){M.call(this,Dt.STAT_EVENT,A),this.stat=B}g(An,M);function Yt(A){const B=gr();ot(B,new An(B,A))}Dt.Ma="timingevent";function Mn(A,B){M.call(this,Dt.Ma,A),this.size=B}g(Mn,M);function Rn(A,B){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},B)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function it(A,B,Q,ue,Be,et){A.info(function(){if(A.g)if(et)for(var Pt="",Cr=et.split("&"),Kr=0;Kr<Cr.length;Kr++){var Pr=Cr[Kr].split("=");if(1<Pr.length){var vn=Pr[0];Pr=Pr[1];var On=vn.split("_");Pt=2<=On.length&&On[1]=="type"?Pt+(vn+"="+Pr+"&"):Pt+(vn+"=redacted&")}}else Pt=null;else Pt=et;return"XMLHTTP REQ ("+ue+") [attempt "+Be+"]: "+B+`
`+Q+`
`+Pt})}function ut(A,B,Q,ue,Be,et,Pt){A.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Be+"]: "+B+`
`+Q+`
`+et+" "+Pt})}function ee(A,B,Q,ue){A.info(function(){return"XMLHTTP TEXT ("+B+"): "+he(A,Q)+(ue?" "+ue:"")})}function ve(A,B){A.info(function(){return"TIMEOUT: "+B})}Ne.prototype.info=function(){};function he(A,B){if(!A.g)return B;if(!B)return null;try{var Q=JSON.parse(B);if(Q){for(A=0;A<Q.length;A++)if(Array.isArray(Q[A])){var ue=Q[A];if(!(2>ue.length)){var Be=ue[1];if(Array.isArray(Be)&&!(1>Be.length)){var et=Be[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Pt=1;Pt<Be.length;Pt++)Be[Pt]=""}}}}return Ir(Q)}catch{return B}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function He(){}g(He,Re),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},_e=new He;function tt(A,B,Q,ue){this.j=A,this.i=B,this.l=Q,this.R=ue||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Ke={},Ze={};function Tt(A,B,Q){A.L=1,A.v=ar(pt(B)),A.m=Q,A.P=!0,Rt(A,null)}function Rt(A,B){A.F=Date.now(),Bt(A),A.A=pt(A.v);var Q=A.A,ue=A.R;Array.isArray(ue)||(ue=[String(ue)]),wr(Q.i,"t",ue),A.C=0,Q=A.j.J,A.h=new Ge,A.g=re(A.j,Q?B:null,!A.m),0<A.O&&(A.M=new ct(h(A.Y,A,A.g),A.O)),B=A.U,Q=A.g,ue=A.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Ht[0]=Be.toString()),Be=Ht);for(var et=0;et<Be.length;et++){var Pt=le(Q,Be[et],ue||B.handleEvent,!1,B.h||B);if(!Pt)break;B.g[Pt.key]=Pt}B=A.H?_(A.H):{},A.m?(A.u||(A.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,B)):(A.u="GET",A.g.ea(A.A,A.u,null,B)),Tr(),it(A.i,A.u,A.A,A.l,A.R,A.m)}tt.prototype.ca=function(A){A=A.target;const B=this.M;B&&Ua(A)==3?B.j():this.Y(A)},tt.prototype.Y=function(A){try{if(A==this.g)e:{const On=Ua(this.g);var B=this.g.Ba();const el=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Rh(this.g)))){this.J||On!=4||B==7||(B==8||0>=el?Tr(3):Tr(2)),Vr(this);var Q=this.g.Z();this.X=Q;t:if(Vt(this)){var ue=Rh(this.g);A="";var Be=ue.length,et=Ua(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Hr(this);var Pt="";break t}this.h.i=new o.TextDecoder}for(B=0;B<Be;B++)this.h.h=!0,A+=this.h.i.decode(ue[B],{stream:!(et&&B==Be-1)});ue.length=0,this.h.g+=A,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=Q==200,ut(this.i,this.u,this.A,this.l,this.R,On,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,Kr=this.g;if((Cr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Cr)){var Pr=Cr;break t}}Pr=null}if(Q=Pr)ee(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,Q);else{this.o=!1,this.s=3,Yt(12),sn(this),Hr(this);break e}}if(this.P){Q=!0;let gi;for(;!this.J&&this.C<Pt.length;)if(gi=It(this,Pt),gi==Ze){On==4&&(this.s=4,Yt(14),Q=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==Ke){this.s=4,Yt(15),ee(this.i,this.l,Pt,"[Invalid Chunk]"),Q=!1;break}else ee(this.i,this.l,gi,null),pi(this,gi);if(Vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||Pt.length!=0||this.h.h||(this.s=1,Yt(16),Q=!1),this.o=this.o&&Q,!Q)ee(this.i,this.l,Pt,"[Invalid Chunked Response]"),sn(this),Hr(this);else if(0<Pt.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),Pu(vn),vn.M=!0,Yt(11))}}else ee(this.i,this.l,Pt,null),pi(this,Pt);On==4&&sn(this),this.o&&!this.J&&(On==4?Rl(this.j,this):(this.o=!1,Bt(this)))}else Ll(this.g),Q==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),sn(this),Hr(this)}}}catch{}finally{}};function Vt(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function It(A,B){var Q=A.C,ue=B.indexOf(`
`,Q);return ue==-1?Ze:(Q=Number(B.substring(Q,ue)),isNaN(Q)?Ke:(ue+=1,ue+Q>B.length?Ze:(B=B.slice(ue,ue+Q),A.C=ue+Q,B)))}tt.prototype.cancel=function(){this.J=!0,sn(this)};function Bt(A){A.S=Date.now()+A.I,dr(A,A.I)}function dr(A,B){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Rn(h(A.ba,A),B)}function Vr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}tt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(ve(this.i,this.A),this.L!=2&&(Tr(),Yt(17)),sn(this),this.s=2,Hr(this)):dr(this,this.S-A)};function Hr(A){A.j.G==0||A.J||Rl(A.j,A)}function sn(A){Vr(A);var B=A.M;B&&typeof B.ma=="function"&&B.ma(),A.M=null,Rr(A.U),A.g&&(B=A.g,A.g=null,B.abort(),B.ma())}function pi(A,B){try{var Q=A.j;if(Q.G!=0&&(Q.g==A||Ba(Q.h,A))){if(!A.K&&Ba(Q.h,A)&&Q.G==3){try{var ue=Q.Da.g.parse(B)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Be=ue;if(Be[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<A.F)Zo(Q),Eu(Q);else break e;wc(Q),Yt(18)}}else Q.za=Be[1],0<Q.za-Q.T&&37500>Be[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Rn(h(Q.Za,Q),6e3));if(1>=ss(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Oi(Q,11)}else if((A.K||Q.g==A)&&Zo(Q),!w(B))for(Be=Q.Da.g.parse(B),B=0;B<Be.length;B++){let Pr=Be[B];if(Q.T=Pr[0],Pr=Pr[1],Q.G==2)if(Pr[0]=="c"){Q.K=Pr[1],Q.ia=Pr[2];const vn=Pr[3];vn!=null&&(Q.la=vn,Q.j.info("VER="+Q.la));const On=Pr[4];On!=null&&(Q.Aa=On,Q.j.info("SVER="+Q.Aa));const el=Pr[5];el!=null&&typeof el=="number"&&0<el&&(ue=1.5*el,Q.L=ue,Q.j.info("backChannelRequestTimeoutMs_="+ue)),ue=Q;const gi=A.g;if(gi){const Fl=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var et=ue.h;et.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Cn(et,et.h),et.h=null))}if(ue.D){const $l=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(ue.ya=$l,Et(ue.I,ue.D,$l))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-A.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),ue=Q;var Pt=A;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),Pt.K){pc(ue.h,Pt);var Cr=Pt,Kr=ue.L;Kr&&(Cr.I=Kr),Cr.B&&(Vr(Cr),Bt(Cr)),ue.g=Pt}else Cu(ue);0<Q.i.length&&Nu(Q)}else Pr[0]!="stop"&&Pr[0]!="close"||Oi(Q,7);else Q.G==3&&(Pr[0]=="stop"||Pr[0]=="close"?Pr[0]=="stop"?Oi(Q,7):Jo(Q):Pr[0]!="noop"&&Q.l&&Q.l.ta(Pr),Q.v=0)}}Tr(4)}catch{}}var Ws=class{constructor(A,B){this.g=A,this.map=B}};function is(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ji(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function ss(A){return A.h?1:A.g?A.g.size:0}function Ba(A,B){return A.h?A.h==B:A.g?A.g.has(B):!1}function Cn(A,B){A.g?A.g.add(B):A.h=B}function pc(A,B){A.h&&A.h==B?A.h=null:A.g&&A.g.has(B)&&A.g.delete(B)}is.prototype.cancel=function(){if(this.i=mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function mc(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let B=A.i;for(const Q of A.g.values())B=B.concat(Q.D);return B}return m(A.i)}function gc(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var B=[],Q=A.length,ue=0;ue<Q;ue++)B.push(A[ue]);return B}B=[],Q=0;for(ue in A)B[Q++]=A[ue];return B}function vc(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var B=[];A=A.length;for(var Q=0;Q<A;Q++)B.push(Q);return B}B=[],Q=0;for(const ue in A)B[Q++]=ue;return B}}}function se(A,B){if(A.forEach&&typeof A.forEach=="function")A.forEach(B,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,B,void 0);else for(var Q=vc(A),ue=gc(A),Be=ue.length,et=0;et<Be;et++)B.call(void 0,ue[et],Q&&Q[et],A)}var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function St(A,B){if(A){A=A.split("&");for(var Q=0;Q<A.length;Q++){var ue=A[Q].indexOf("="),Be=null;if(0<=ue){var et=A[Q].substring(0,ue);Be=A[Q].substring(ue+1)}else et=A[Q];B(et,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}function $t(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof $t){this.h=A.h,dt(this,A.j),this.o=A.o,this.g=A.g,Ot(this,A.s),this.l=A.l;var B=A.i,Q=new os;Q.i=B.i,B.g&&(Q.g=new Map(B.g),Q.h=B.h),Lt(this,Q),this.m=A.m}else A&&(B=String(A).match(Ee))?(this.h=!1,dt(this,B[1]||"",!0),this.o=Nr(B[2]||""),this.g=Nr(B[3]||"",!0),Ot(this,B[4]),this.l=Nr(B[5]||"",!0),Lt(this,B[6]||"",!0),this.m=Nr(B[7]||"")):(this.h=!1,this.i=new os(null,this.h))}$t.prototype.toString=function(){var A=[],B=this.j;B&&A.push(pr(B,Pn,!0),":");var Q=this.g;return(Q||B=="file")&&(A.push("//"),(B=this.o)&&A.push(pr(B,Pn,!0),"@"),A.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&A.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&A.push("/"),A.push(pr(Q,Q.charAt(0)=="/"?Tn:Gr,!0))),(Q=this.i.toString())&&A.push("?",Q),(Q=this.m)&&A.push("#",pr(Q,Wn)),A.join("")};function pt(A){return new $t(A)}function dt(A,B,Q){A.j=Q?Nr(B,!0):B,A.j&&(A.j=A.j.replace(/:$/,""))}function Ot(A,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);A.s=B}else A.s=null}function Lt(A,B,Q){B instanceof os?(A.i=B,Am(A.i,A.h)):(Q||(B=pr(B,ei)),A.i=new os(B,A.h))}function Et(A,B,Q){A.i.set(B,Q)}function ar(A){return Et(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Nr(A,B){return A?B?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function pr(A,B,Q){return typeof A=="string"?(A=encodeURI(A).replace(B,Fn),Q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Fn(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Pn=/[#\/\?@]/g,Gr=/[#\?:]/g,Tn=/[#\?]/g,ei=/[#\?@]/g,Wn=/#/g;function os(A,B){this.h=this.g=null,this.i=A||null,this.j=!!B}function jn(A){A.g||(A.g=new Map,A.h=0,A.i&&St(A.i,function(B,Q){A.add(decodeURIComponent(B.replace(/\+/g," ")),Q)}))}e=os.prototype,e.add=function(A,B){jn(this),this.i=null,A=Dl(this,A);var Q=this.g.get(A);return Q||this.g.set(A,Q=[]),Q.push(B),this.h+=1,this};function bu(A,B){jn(A),B=Dl(A,B),A.g.has(B)&&(A.i=null,A.h-=A.g.get(B).length,A.g.delete(B))}function id(A,B){return jn(A),B=Dl(A,B),A.g.has(B)}e.forEach=function(A,B){jn(this),this.g.forEach(function(Q,ue){Q.forEach(function(Be){A.call(B,Be,ue,this)},this)},this)},e.na=function(){jn(this);const A=Array.from(this.g.values()),B=Array.from(this.g.keys()),Q=[];for(let ue=0;ue<B.length;ue++){const Be=A[ue];for(let et=0;et<Be.length;et++)Q.push(B[ue])}return Q},e.V=function(A){jn(this);let B=[];if(typeof A=="string")id(this,A)&&(B=B.concat(this.g.get(Dl(this,A))));else{A=Array.from(this.g.values());for(let Q=0;Q<A.length;Q++)B=B.concat(A[Q])}return B},e.set=function(A,B){return jn(this),this.i=null,A=Dl(this,A),id(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[B]),this.h+=1,this},e.get=function(A,B){return A?(A=this.V(A),0<A.length?String(A[0]):B):B};function wr(A,B,Q){bu(A,B),0<Q.length&&(A.i=null,A.g.set(Dl(A,B),m(Q)),A.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],B=Array.from(this.g.keys());for(var Q=0;Q<B.length;Q++){var ue=B[Q];const et=encodeURIComponent(String(ue)),Pt=this.V(ue);for(ue=0;ue<Pt.length;ue++){var Be=et;Pt[ue]!==""&&(Be+="="+encodeURIComponent(String(Pt[ue]))),A.push(Be)}}return this.i=A.join("&")};function Dl(A,B){return B=String(B),A.j&&(B=B.toLowerCase()),B}function Am(A,B){B&&!A.j&&(jn(A),A.i=null,A.g.forEach(function(Q,ue){var Be=ue.toLowerCase();ue!=Be&&(bu(this,ue),wr(this,Be,Q))},A)),A.j=B}function mo(A,B){const Q=new Ne;if(o.Image){const ue=new Image;ue.onload=p(Hs,Q,"TestLoadImage: loaded",!0,B,ue),ue.onerror=p(Hs,Q,"TestLoadImage: error",!1,B,ue),ue.onabort=p(Hs,Q,"TestLoadImage: abort",!1,B,ue),ue.ontimeout=p(Hs,Q,"TestLoadImage: timeout",!1,B,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=A}else B(!1)}function Lh(A,B){const Q=new Ne,ue=new AbortController,Be=setTimeout(()=>{ue.abort(),Hs(Q,"TestPingServer: timeout",!1,B)},1e4);fetch(A,{signal:ue.signal}).then(et=>{clearTimeout(Be),et.ok?Hs(Q,"TestPingServer: ok",!0,B):Hs(Q,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Be),Hs(Q,"TestPingServer: error",!1,B)})}function Hs(A,B,Q,ue,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),ue(Q)}catch{}}function wu(){this.g=new Pe}function sd(A,B,Q){const ue=Q||"";try{se(A,function(Be,et){let Pt=Be;c(Be)&&(Pt=Ir(Be)),B.push(ue+et+"="+encodeURIComponent(Pt))})}catch(Be){throw B.push(ue+"type="+encodeURIComponent("_badmap")),Be}}function _u(A){this.l=A.Ub||null,this.j=A.eb||!1}g(_u,Re),_u.prototype.g=function(){return new Su(this.l,this.j)},_u.prototype.i=function(A){return function(){return A}}({});function Su(A,B){nt.call(this),this.D=A,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Su,nt),e=Su.prototype,e.open=function(A,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=B,this.readyState=1,Gs(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(B.body=A),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mh(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mh(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var B=A.value?A.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!A.done}))&&(this.response=this.responseText+=B)}A.done?Xo(this):Gs(this),this.readyState==3&&Mh(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Xo(this))},e.Qa=function(A){this.g&&(this.response=A,Xo(this))},e.ga=function(){this.g&&Xo(this)};function Xo(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Gs(A)}e.setRequestHeader=function(A,B){this.u.append(A,B)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],B=this.h.entries();for(var Q=B.next();!Q.done;)Q=Q.value,A.push(Q[0]+": "+Q[1]),Q=B.next();return A.join(`\r
`)};function Gs(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Qo(A){let B="";return j(A,function(Q,ue){B+=ue,B+=":",B+=Q,B+=`\r
`}),B}function od(A,B,Q){e:{for(ue in Q){var ue=!1;break e}ue=!0}ue||(Q=Qo(Q),typeof A=="string"?Q!=null&&encodeURIComponent(String(Q)):Et(A,B,Q))}function gn(A){nt.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gn,nt);var ld=/^https?$/i,Au=["POST","PUT"];e=gn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,B,Q,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);B=B?B.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?rt(this.o):rt(_e),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(B,String(A),!0),this.B=!1}catch(et){cd(this,et);return}if(A=Q||"",Q=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Be in ue)Q.set(Be,ue[Be]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const et of ue.keys())Q.set(et,ue.get(et));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(Q.keys()).find(et=>et.toLowerCase()=="content-type"),Be=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Au,B,void 0))||ue||Be||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Pt]of Q)this.g.setRequestHeader(et,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(A),this.u=!1}catch(et){cd(this,et)}};function cd(A,B){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=B,A.m=5,ud(A),yc(A)}function ud(A){A.A||(A.A=!0,ot(A,"complete"),ot(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ot(this,"complete"),ot(this,"abort"),yc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),gn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?fd(this):this.bb())},e.bb=function(){fd(this)};function fd(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Ua(A)!=4||A.Z()!=2)){if(A.u&&Ua(A)==4)ht(A.Ea,0,A);else if(ot(A,"readystatechange"),Ua(A)==4){A.h=!1;try{const Pt=A.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Q;if(!(Q=B)){var ue;if(ue=Pt===0){var Be=String(A.D).match(Ee)[1]||null;!Be&&o.self&&o.self.location&&(Be=o.self.location.protocol.slice(0,-1)),ue=!ld.test(Be?Be.toLowerCase():"")}Q=ue}if(Q)ot(A,"complete"),ot(A,"success");else{A.m=6;try{var et=2<Ua(A)?A.g.statusText:""}catch{et=""}A.l=et+" ["+A.Z()+"]",ud(A)}}finally{yc(A)}}}}function yc(A,B){if(A.g){Ks(A);const Q=A.g,ue=A.v[0]?()=>{}:null;A.g=null,A.v=null,B||ot(A,"ready");try{Q.onreadystatechange=ue}catch{}}}function Ks(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Ua(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var B=this.g.responseText;return A&&B.indexOf(A)==0&&(B=B.substring(A.length)),Wr(B)}};function Rh(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Ll(A){const B={};A=(A.g&&2<=Ua(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<A.length;ue++){if(w(A[ue]))continue;var Q=E(A[ue]);const Be=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const et=B[Be]||[];B[Be]=et,et.push(Q)}T(B,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(A,B,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[A]||B}function Tu(A){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,A),this.cb=mi("retryDelaySeedMs",1e4,A),this.Wa=mi("forwardChannelMaxRetries",2,A),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new is(A&&A.concurrentRequestLimit),this.Da=new wu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Tu.prototype,e.la=8,e.G=1,e.connect=function(A,B,Q,ue){Yt(0),this.W=A,this.H=B||{},Q&&ue!==void 0&&(this.H.OSID=Q,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),Nu(this)};function Jo(A){if(xc(A),A.G==3){var B=A.U++,Q=pt(A.I);if(Et(Q,"SID",A.K),Et(Q,"RID",B),Et(Q,"TYPE","terminate"),Ml(A,Q),B=new tt(A,A.j,B),B.L=2,B.v=ar(pt(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=B.v,Q=!0),Q||(B.g=re(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Bt(B)}Ou(A)}function Eu(A){A.g&&(Pu(A),A.g.cancel(),A.g=null)}function xc(A){Eu(A),A.u&&(o.clearTimeout(A.u),A.u=null),Zo(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Nu(A){if(!ji(A.h)&&!A.s){A.s=!0;var B=A.Ga;G||te(),V||(G(),V=!0),W.add(B,A),A.B=0}}function dd(A,B){return ss(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=B.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Rn(h(A.Ga,A,B),ju(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Be=new tt(this,this.j,A);let et=this.o;if(this.S&&(et?(et=_(et),O(et,this.S)):et=this.S),this.m!==null||this.O||(Be.H=et,et=null),this.P)e:{for(var B=0,Q=0;Q<this.i.length;Q++){t:{var ue=this.i[Q];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(B+=ue,4096<B){B=Q;break e}if(B===4096||Q===this.i.length-1){B=Q+1;break e}}B=1e3}else B=1e3;B=bc(this,Be,B),Q=pt(this.I),Et(Q,"RID",A),Et(Q,"CVER",22),this.D&&Et(Q,"X-HTTP-Session-Id",this.D),Ml(this,Q),et&&(this.O?B="headers="+encodeURIComponent(String(Qo(et)))+"&"+B:this.m&&od(Q,this.m,et)),Cn(this.h,Be),this.Ua&&Et(Q,"TYPE","init"),this.P?(Et(Q,"$req",B),Et(Q,"SID","null"),Be.T=!0,Tt(Be,Q,null)):Tt(Be,Q,B),this.G=2}}else this.G==3&&(A?ku(this,A):this.i.length==0||ji(this.h)||ku(this))};function ku(A,B){var Q;B?Q=B.l:Q=A.U++;const ue=pt(A.I);Et(ue,"SID",A.K),Et(ue,"RID",Q),Et(ue,"AID",A.T),Ml(A,ue),A.m&&A.o&&od(ue,A.m,A.o),Q=new tt(A,A.j,Q,A.B+1),A.m===null&&(Q.H=A.o),B&&(A.i=B.D.concat(A.i)),B=bc(A,Q,1e3),Q.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Cn(A.h,Q),Tt(Q,ue,B)}function Ml(A,B){A.H&&j(A.H,function(Q,ue){Et(B,ue,Q)}),A.l&&se({},function(Q,ue){Et(B,ue,Q)})}function bc(A,B,Q){Q=Math.min(A.i.length,Q);var ue=A.l?h(A.l.Na,A.l,A):null;e:{var Be=A.i;let et=-1;for(;;){const Pt=["count="+Q];et==-1?0<Q?(et=Be[0].g,Pt.push("ofs="+et)):et=0:Pt.push("ofs="+et);let Cr=!0;for(let Kr=0;Kr<Q;Kr++){let Pr=Be[Kr].g;const vn=Be[Kr].map;if(Pr-=et,0>Pr)et=Math.max(0,Be[Kr].g-100),Cr=!1;else try{sd(vn,Pt,"req"+Pr+"_")}catch{ue&&ue(vn)}}if(Cr){ue=Pt.join("&");break e}}}return A=A.i.splice(0,Q),B.D=A,ue}function Cu(A){if(!A.g&&!A.u){A.Y=1;var B=A.Fa;G||te(),V||(G(),V=!0),W.add(B,A),A.v=0}}function wc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Rn(h(A.Fa,A),ju(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Rn(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Eu(this),Fh(this))};function Pu(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Fh(A){A.g=new tt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var B=pt(A.qa);Et(B,"RID","rpc"),Et(B,"SID",A.K),Et(B,"AID",A.T),Et(B,"CI",A.F?"0":"1"),!A.F&&A.ja&&Et(B,"TO",A.ja),Et(B,"TYPE","xmlhttp"),Ml(A,B),A.m&&A.o&&od(B,A.m,A.o),A.L&&(A.g.I=A.L);var Q=A.g;A=A.ia,Q.L=1,Q.v=ar(pt(B)),Q.m=null,Q.P=!0,Rt(Q,A)}e.Za=function(){this.C!=null&&(this.C=null,Eu(this),wc(this),Yt(19))};function Zo(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Rl(A,B){var Q=null;if(A.g==B){Zo(A),Pu(A),A.g=null;var ue=2}else if(Ba(A.h,B))Q=B.D,pc(A.h,B),ue=1;else return;if(A.G!=0){if(B.o)if(ue==1){Q=B.m?B.m.length:0,B=Date.now()-B.F;var Be=A.B;ue=gr(),ot(ue,new Mn(ue,Q)),Nu(A)}else Cu(A);else if(Be=B.s,Be==3||Be==0&&0<B.X||!(ue==1&&dd(A,B)||ue==2&&wc(A)))switch(Q&&0<Q.length&&(B=A.h,B.i=B.i.concat(Q)),Be){case 1:Oi(A,5);break;case 4:Oi(A,10);break;case 3:Oi(A,6);break;default:Oi(A,2)}}}function ju(A,B){let Q=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(Q*=2),Q*B}function Oi(A,B){if(A.j.info("Error code "+B),B==2){var Q=h(A.fb,A),ue=A.Xa;const Be=!ue;ue=new $t(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||dt(ue,"https"),ar(ue),Be?mo(ue.toString(),Q):Lh(ue.toString(),Q)}else Yt(2);A.G=0,A.l&&A.l.sa(B),Ou(A),xc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Ou(A){if(A.G=0,A.ka=[],A.l){const B=mc(A.h);(B.length!=0||A.i.length!=0)&&(v(A.ka,B),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,B,Q){var ue=Q instanceof $t?pt(Q):new $t(Q);if(ue.g!="")B&&(ue.g=B+"."+ue.g),Ot(ue,ue.s);else{var Be=o.location;ue=Be.protocol,B=B?B+"."+Be.hostname:Be.hostname,Be=+Be.port;var et=new $t(null);ue&&dt(et,ue),B&&(et.g=B),Be&&Ot(et,Be),Q&&(et.l=Q),ue=et}return Q=A.D,B=A.ya,Q&&B&&Et(ue,Q,B),Et(ue,"VER",A.la),Ml(A,ue),ue}function re(A,B,Q){if(B&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=A.Ca&&!A.pa?new gn(new _u({eb:Q})):new gn(A.pa),B.Ha(A.J),B}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function je(){}je.prototype.g=function(A,B){return new Ve(A,B)};function Ve(A,B){nt.call(this),this.g=new Tu(B),this.l=A,this.h=B&&B.messageUrlParams||null,A=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(A?A["X-WebChannel-Content-Type"]=B.messageContentType:A={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(A?A["X-WebChannel-Client-Profile"]=B.va:A={"X-WebChannel-Client-Profile":B.va}),this.g.S=A,(A=B&&B.Sb)&&!w(A)&&(this.g.m=A),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!w(B)&&(this.g.D=B,A=this.h,A!==null&&B in A&&(A=this.h,B in A&&delete A[B])),this.j=new Wt(this)}g(Ve,nt),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){Jo(this.g)},Ve.prototype.o=function(A){var B=this.g;if(typeof A=="string"){var Q={};Q.__data__=A,A=Q}else this.u&&(Q={},Q.__data__=Ir(A),A=Q);B.i.push(new Ws(B.Ya++,A)),B.G==3&&Nu(B)},Ve.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,Ve.aa.N.call(this)};function lt(A){Kt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var B=A.__sm__;if(B){e:{for(const Q in B){A=Q;break e}A=void 0}(this.i=A)&&(A=this.i,B=B!==null&&A in B?B[A]:void 0),this.data=B}else this.data=A}g(lt,Kt);function Ct(){Ft.call(this),this.status=1}g(Ct,Ft);function Wt(A){this.g=A}g(Wt,Ae),Wt.prototype.ua=function(){ot(this.g,"a")},Wt.prototype.ta=function(A){ot(this.g,new lt(A))},Wt.prototype.sa=function(A){ot(this.g,new Ct)},Wt.prototype.ra=function(){ot(this.g,"b")},je.prototype.createWebChannel=je.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,M9=function(){return new je},L9=function(){return gr()},D9=Dt,z4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,n2=me,xe.COMPLETE="complete",I9=xe,vt.EventType=Nt,Nt.OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,pg=vt,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,O9=gn}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});const $j="@firebase/firestore",Bj="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new T9("@firebase/firestore");function l0(){return sh.logLevel}function Jt(e,...t){if(sh.logLevel<=tn.DEBUG){const r=t.map(TN);sh.debug(`Firestore (${em}): ${e}`,...r)}}function tu(e,...t){if(sh.logLevel<=tn.ERROR){const r=t.map(TN);sh.error(`Firestore (${em}): ${e}`,...r)}}function dp(e,...t){if(sh.logLevel<=tn.WARN){const r=t.map(TN);sh.warn(`Firestore (${em}): ${e}`,...r)}}function TN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,R9(e,n,r)}function R9(e,t,r){let n=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw tu(n),new Error(n)}function mn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||R9(t,a,n)}function Er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xt extends Zp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(zi.UNAUTHENTICATED))}shutdown(){}}class Ote{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ite{constructor(t){this.t=t,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){mn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Jl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(mn(typeof n.accessToken=="string",31837,{l:n}),new F9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mn(t===null||typeof t=="string",2055,{h:t}),new zi(t)}}class Dte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Dte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pte(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){mn(this.o===void 0,3512);const n=i=>{i.error!=null&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uj(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(mn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Uj(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Rte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Ur(e,t){return e<t?-1:e>t?1:0}function q4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ur(n,a);{const i=$9(),s=Fte(i.encode(Vj(e,r)),i.encode(Vj(t,r)));return s!==0?s:Ur(n,a)}}r+=n>65535?2:1}return Ur(e.length,t.length)}function Vj(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Fte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Ur(e[r],t[r]);return Ur(e.length,t.length)}function hp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=-62135596800,qj=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*qj);return new ir(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<zj)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qj}_compareTo(t){return this.seconds===t.seconds?Ur(this.nanoseconds,t.nanoseconds):Ur(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-zj;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static fromTimestamp(t){return new kr(t)}static min(){return new kr(new ir(0,0))}static max(){return new kr(new ir(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="__name__";class Hl{constructor(t,r,n){r===void 0?r=0:r>t.length&&br(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&br(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Hl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Hl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Hl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Ur(t.length,r.length)}static compareSegments(t,r){const n=Hl.isNumericId(t),a=Hl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Hl.extractNumericId(t).compare(Hl.extractNumericId(r)):q4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kf.fromString(t.substring(4,t.length-2))}}class Xn extends Hl{construct(t,r,n){return new Xn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Xn(r)}static emptyPath(){return new Xn([])}}const $te=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Hl{construct(t,r,n){return new Ai(t,r,n)}static isValidIdentifier(t){return $te.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wj}static keyField(){return new Ai([Wj])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Xt(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xt(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Xt(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(r)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.path=t}static fromPath(t){return new fr(Xn.fromString(t))}static fromName(t){return new fr(Xn.fromString(t).popFirst(5))}static empty(){return new fr(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fr(new Xn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function Bte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=kr.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new Mf(a,fr.empty(),t)}function Ute(e){return new Mf(e.readTime,e.key,Cv)}class Mf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Mf(kr.min(),fr.empty(),Cv)}static max(){return new Mf(kr.max(),fr.empty(),Cv)}}function Vte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=fr.comparator(e.documentKey,t.documentKey),r!==0?r:Ur(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(e){if(e.code!==yt.FAILED_PRECONDITION||e.message!==zte)throw e;Jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&br(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new At((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof At?r:At.resolve(r)}catch(r){return At.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):At.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):At.reject(r)}static resolve(t){return new At((r,n)=>{r(t)})}static reject(t){return new At((r,n)=>{n(t)})}static waitFor(t){return new At((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=At.resolve(!1);for(const n of t)r=r.next(a=>a?At.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new At((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new At((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Wte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function rm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=-1;function e5(e){return e==null}function eb(e){return e===0&&1/e==-1/0}function Hte(e){return typeof e=="number"&&Number.isInteger(e)&&!eb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="";function Gte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=Hj(t)),t=Kte(e.get(r),t);return Hj(t)}function Kte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case U9:r+="";break;default:r+=i}}return r}function Hj(e){return e+U9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Xf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Yte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function V9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,r){this.comparator=t,this.root=r||_i.EMPTY}insert(t,r){return new la(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(t){return new la(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_i.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sx(this.root,t,this.comparator,!1)}getReverseIterator(){return new sx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sx(this.root,t,this.comparator,!0)}}class sx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _i{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??_i.RED,this.left=a??_i.EMPTY,this.right=i??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new _i(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return _i.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw br(43730,{key:this.key,value:this.value});if(this.right.isRed())throw br(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw br(27949);return t+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1;_i.EMPTY=new class{constructor(){this.size=0}get key(){throw br(57766)}get value(){throw br(16141)}get color(){throw br(16727)}get left(){throw br(29726)}get right(){throw br(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new _i(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.comparator=t,this.data=new la(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Kj(this.data.getIterator())}getIteratorFrom(t){return new Kj(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Qa(this.comparator);return r.data=t,r}}class Kj{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new so([])}unionWith(t){let r=new Qa(Ai.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new so(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return hp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new z9("Invalid base64 string: "+i):i}}(t);return new Pi(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Pi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ur(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const Xte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rf(e){if(mn(!!e,39018),typeof e=="string"){let t=0;const r=Xte.exec(e);if(mn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:wa(e.seconds),nanos:wa(e.nanos)}}function wa(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ff(e){return typeof e=="string"?Pi.fromBase64String(e):Pi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="server_timestamp",W9="__type__",H9="__previous_value__",G9="__local_write_time__";function NN(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[W9])===null||r===void 0?void 0:r.stringValue)===q9}function t5(e){const t=e.mapValue.fields[H9];return NN(t)?t5(t):t}function Pv(e){const t=Rf(e.mapValue.fields[G9].timestampValue);return new ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const tb="(default)";class jv{constructor(t,r){this.projectId=t,this.database=r||tb}static empty(){return new jv("","")}get isDefaultDatabase(){return this.database===tb}isEqual(t){return t instanceof jv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="__type__",Y9="__max__",ox={mapValue:{fields:{__type__:{stringValue:Y9}}}},X9="__vector__",rb="value";function $f(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?NN(e)?4:Zte(e)?9007199254740991:Jte(e)?10:11:br(28295,{value:e})}function sc(e,t){if(e===t)return!0;const r=$f(e);if(r!==$f(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pv(e).isEqual(Pv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Rf(a.timestampValue),o=Rf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Ff(a.bytesValue).isEqual(Ff(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return wa(a.geoPointValue.latitude)===wa(i.geoPointValue.latitude)&&wa(a.geoPointValue.longitude)===wa(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return wa(a.integerValue)===wa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=wa(a.doubleValue),o=wa(i.doubleValue);return s===o?eb(s)===eb(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return hp(e.arrayValue.values||[],t.arrayValue.values||[],sc);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(Gj(s)!==Gj(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!sc(s[l],o[l])))return!1;return!0}(e,t);default:return br(52216,{left:e})}}function Ov(e,t){return(e.values||[]).find(r=>sc(r,t))!==void 0}function pp(e,t){if(e===t)return 0;const r=$f(e),n=$f(t);if(r!==n)return Ur(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ur(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=wa(i.integerValue||i.doubleValue),l=wa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Yj(e.timestampValue,t.timestampValue);case 4:return Yj(Pv(e),Pv(t));case 5:return q4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Ff(i),l=Ff(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ur(o[c],l[c]);if(u!==0)return u}return Ur(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Ur(wa(i.latitude),wa(s.latitude));return o!==0?o:Ur(wa(i.longitude),wa(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xj(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const d=i.fields||{},h=s.fields||{},p=(o=d[rb])===null||o===void 0?void 0:o.arrayValue,g=(l=h[rb])===null||l===void 0?void 0:l.arrayValue,m=Ur(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:Xj(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===ox.mapValue&&s===ox.mapValue)return 0;if(i===ox.mapValue)return 1;if(s===ox.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=q4(l[d],u[d]);if(h!==0)return h;const p=pp(o[l[d]],c[u[d]]);if(p!==0)return p}return Ur(l.length,u.length)}(e.mapValue,t.mapValue);default:throw br(23264,{Pe:r})}}function Yj(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ur(e,t);const r=Rf(e),n=Rf(t),a=Ur(r.seconds,n.seconds);return a!==0?a:Ur(r.nanos,n.nanos)}function Xj(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=pp(r[a],n[a]);if(i)return i}return Ur(r.length,n.length)}function mp(e){return W4(e)}function W4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Rf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Ff(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return fr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=W4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${W4(r.fields[s])}`;return a+"}"}(e.mapValue):br(61005,{value:e})}function a2(e){switch($f(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=t5(e);return t?16+a2(t):16;case 5:return 2*e.stringValue.length;case 6:return Ff(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+a2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Xf(n.fields,(i,s)=>{a+=i.length+a2(s)}),a}(e.mapValue);default:throw br(13486,{value:e})}}function Qj(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function H4(e){return!!e&&"integerValue"in e}function kN(e){return!!e&&"arrayValue"in e}function Jj(e){return!!e&&"nullValue"in e}function Zj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function i2(e){return!!e&&"mapValue"in e}function Jte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[K9])===null||r===void 0?void 0:r.stringValue)===X9}function Lg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Lg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Lg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Zte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Y9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.value=t}static empty(){return new Ds({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!i2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lg(r)}setAll(t){let r=Ai.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Lg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());i2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return sc(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];i2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Xf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Ds(Lg(this.value))}}function Q9(e){const t=[];return Xf(e.fields,(r,n)=>{const a=new Ai([r]);if(i2(n)){const i=Q9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new so(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Hi(t,0,kr.min(),kr.min(),kr.min(),Ds.empty(),0)}static newFoundDocument(t,r,n,a){return new Hi(t,1,r,kr.min(),n,a,0)}static newNoDocument(t,r){return new Hi(t,2,r,kr.min(),kr.min(),Ds.empty(),0)}static newUnknownDocument(t,r){return new Hi(t,3,r,kr.min(),kr.min(),Ds.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(kr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,r){this.position=t,this.inclusive=r}}function eO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=fr.comparator(fr.fromName(s.referenceValue),r.key):n=pp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function tO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!sc(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,r="asc"){this.field=t,this.dir=r}}function ere(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{}class Ra extends J9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new rre(t,r,n):r==="array-contains"?new ire(t,n):r==="in"?new sre(t,n):r==="not-in"?new ore(t,n):r==="array-contains-any"?new lre(t,n):new Ra(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new nre(t,n):new are(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(pp(r,this.value)):r!==null&&$f(this.value)===$f(r)&&this.matchesComparison(pp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return br(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cl extends J9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Cl(t,r)}matches(t){return Z9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Z9(e){return e.op==="and"}function eB(e){return tre(e)&&Z9(e)}function tre(e){for(const t of e.filters)if(t instanceof Cl)return!1;return!0}function G4(e){if(e instanceof Ra)return e.field.canonicalString()+e.op.toString()+mp(e.value);if(eB(e))return e.filters.map(t=>G4(t)).join(",");{const t=e.filters.map(r=>G4(r)).join(",");return`${e.op}(${t})`}}function tB(e,t){return e instanceof Ra?function(n,a){return a instanceof Ra&&n.op===a.op&&n.field.isEqual(a.field)&&sc(n.value,a.value)}(e,t):e instanceof Cl?function(n,a){return a instanceof Cl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&tB(s,a.filters[o]),!0):!1}(e,t):void br(19439)}function rB(e){return e instanceof Ra?function(r){return`${r.field.canonicalString()} ${r.op} ${mp(r.value)}`}(e):e instanceof Cl?function(r){return r.op.toString()+" {"+r.getFilters().map(rB).join(" ,")+"}"}(e):"Filter"}class rre extends Ra{constructor(t,r,n){super(t,r,n),this.key=fr.fromName(n.referenceValue)}matches(t){const r=fr.comparator(t.key,this.key);return this.matchesComparison(r)}}class nre extends Ra{constructor(t,r){super(t,"in",r),this.keys=nB("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class are extends Ra{constructor(t,r){super(t,"not-in",r),this.keys=nB("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function nB(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fr.fromName(n.referenceValue))}class ire extends Ra{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return kN(r)&&Ov(r.arrayValue,this.value)}}class sre extends Ra{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Ov(this.value.arrayValue,r)}}class ore extends Ra{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ov(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ov(this.value.arrayValue,r)}}class lre extends Ra{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!kN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ov(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function rO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new cre(e,t,r,n,a,i,s)}function CN(e){const t=Er(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>G4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),e5(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>mp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>mp(n)).join(",")),t.Ie=r}return t.Ie}function PN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!ere(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!tB(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tO(e.startAt,t.startAt)&&tO(e.endAt,t.endAt)}function K4(e){return fr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ure(e,t,r,n,a,i,s,o){return new nm(e,t,r,n,a,i,s,o)}function r5(e){return new nm(e)}function nO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aB(e){return e.collectionGroup!==null}function Mg(e){const t=Er(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Qa(Ai.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Iv(i,n))}),r.has(Ai.keyField().canonicalString())||t.Ee.push(new Iv(Ai.keyField(),n))}return t.Ee}function Zl(e){const t=Er(e);return t.de||(t.de=iB(t,Mg(e))),t.de}function fre(e){const t=Er(e);return t.Ae||(t.Ae=iB(t,e.explicitOrderBy)),t.Ae}function iB(e,t){if(e.limitType==="F")return rO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Iv(a.field,i)});const r=e.endAt?new nb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new nb(e.startAt.position,e.startAt.inclusive):null;return rO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Y4(e,t){const r=e.filters.concat([t]);return new nm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function ab(e,t,r){return new nm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function n5(e,t){return PN(Zl(e),Zl(t))&&e.limitType===t.limitType}function sB(e){return`${CN(Zl(e))}|lt:${e.limitType}`}function c0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>rB(a)).join(", ")}]`),e5(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>mp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>mp(a)).join(",")),`Target(${n})`}(Zl(e))}; limitType=${e.limitType})`}function a5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Mg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=eO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Mg(n),a)||n.endAt&&!function(s,o,l){const c=eO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Mg(n),a))}(e,t)}function dre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oB(e){return(t,r)=>{let n=!1;for(const a of Mg(e)){const i=hre(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function hre(e,t,r){const n=e.field.isKeyField()?fr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?pp(l,c):br(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return br(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Xf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return V9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre=new la(fr.comparator);function ru(){return pre}const lB=new la(fr.comparator);function mg(...e){let t=lB;for(const r of e)t=t.insert(r.key,r);return t}function cB(e){let t=lB;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ld(){return Rg()}function uB(){return Rg()}function Rg(){return new bh(e=>e.toString(),(e,t)=>e.isEqual(t))}const mre=new la(fr.comparator),gre=new Qa(fr.comparator);function Xr(...e){let t=gre;for(const r of e)t=t.add(r);return t}const vre=new Qa(Ur);function yre(){return vre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eb(t)?"-0":t}}function fB(e){return{integerValue:""+e}}function xre(e,t){return Hte(t)?fB(t):jN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this._=void 0}}function bre(e,t,r){return e instanceof Dv?function(a,i){const s={fields:{[W9]:{stringValue:q9},[G9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&NN(i)&&(i=t5(i)),i&&(s.fields[H9]=i),{mapValue:s}}(r,t):e instanceof Lv?hB(e,t):e instanceof Mv?pB(e,t):function(a,i){const s=dB(a,i),o=aO(s)+aO(a.Re);return H4(s)&&H4(a.Re)?fB(o):jN(a.serializer,o)}(e,t)}function wre(e,t,r){return e instanceof Lv?hB(e,t):e instanceof Mv?pB(e,t):r}function dB(e,t){return e instanceof ib?function(n){return H4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Dv extends i5{}class Lv extends i5{constructor(t){super(),this.elements=t}}function hB(e,t){const r=mB(t);for(const n of e.elements)r.some(a=>sc(a,n))||r.push(n);return{arrayValue:{values:r}}}class Mv extends i5{constructor(t){super(),this.elements=t}}function pB(e,t){let r=mB(t);for(const n of e.elements)r=r.filter(a=>!sc(a,n));return{arrayValue:{values:r}}}class ib extends i5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function aO(e){return wa(e.integerValue||e.doubleValue)}function mB(e){return kN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(t,r){this.field=t,this.transform=r}}function Sre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Lv&&a instanceof Lv||n instanceof Mv&&a instanceof Mv?hp(n.elements,a.elements,sc):n instanceof ib&&a instanceof ib?sc(n.Re,a.Re):n instanceof Dv&&a instanceof Dv}(e.transform,t.transform)}class Are{constructor(t,r){this.version=t,this.transformResults=r}}class _s{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new _s}static exists(t){return new _s(void 0,t)}static updateTime(t){return new _s(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function s2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class s5{}function gB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new o5(e.key,_s.none()):new U1(e.key,e.data,_s.none());{const r=e.data,n=Ds.empty();let a=new Qa(Ai.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Qf(e.key,n,new so(a.toArray()),_s.none())}}function Tre(e,t,r){e instanceof U1?function(a,i,s){const o=a.value.clone(),l=sO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Qf?function(a,i,s){if(!s2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=sO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(vB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Fg(e,t,r,n){return e instanceof U1?function(i,s,o,l){if(!s2(i.precondition,s))return o;const c=i.value.clone(),u=oO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Qf?function(i,s,o,l){if(!s2(i.precondition,s))return o;const c=oO(i.fieldTransforms,l,s),u=s.data;return u.setAll(vB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(i,s,o){return s2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Ere(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=dB(n.transform,a||null);i!=null&&(r===null&&(r=Ds.empty()),r.set(n.field,i))}return r||null}function iO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&hp(n,a,(i,s)=>Sre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class U1 extends s5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qf extends s5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function sO(e,t,r){const n=new Map;mn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,wre(s,o,r[a]))}return n}function oO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,bre(i,s,t))}return n}class o5 extends s5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nre extends s5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&Tre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Fg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Fg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=uB();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=gB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(kr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Xr())}isEqual(t){return this.batchId===t.batchId&&hp(this.mutations,t.mutations,(r,n)=>iO(r,n))&&hp(this.baseMutations,t.baseMutations,(r,n)=>iO(r,n))}}class ON{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){mn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return mre}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new ON(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pa,en;function Ore(e){switch(e){case yt.OK:return br(64938);case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0;default:return br(15467,{code:e})}}function yB(e){if(e===void 0)return tu("GRPC error has no .code"),yt.UNKNOWN;switch(e){case Pa.OK:return yt.OK;case Pa.CANCELLED:return yt.CANCELLED;case Pa.UNKNOWN:return yt.UNKNOWN;case Pa.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case Pa.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case Pa.INTERNAL:return yt.INTERNAL;case Pa.UNAVAILABLE:return yt.UNAVAILABLE;case Pa.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case Pa.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case Pa.NOT_FOUND:return yt.NOT_FOUND;case Pa.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case Pa.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case Pa.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case Pa.ABORTED:return yt.ABORTED;case Pa.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case Pa.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case Pa.DATA_LOSS:return yt.DATA_LOSS;default:return br(39323,{code:e})}}(en=Pa||(Pa={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ire=new kf([4294967295,4294967295],0);function lO(e){const t=$9().encode(e),r=new j9;return r.update(t),new Uint8Array(r.digest())}function cO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new kf([r,n],0),new kf([a,i],0)]}class IN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new gg(`Invalid padding: ${r}`);if(n<0)throw new gg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new gg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new gg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=kf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(kf.fromNumber(n)));return a.compare(Ire)===1&&(a=new kf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=lO(t),[n,a]=cO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new IN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=lO(t),[n,a]=cO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,V1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new l5(kr.min(),a,new la(Ur),ru(),Xr())}}class V1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new V1(n,r,Xr(),Xr(),Xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class xB{constructor(t,r){this.targetId=t,this.Ce=r}}class bB{constructor(t,r,n=Pi.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class uO{constructor(){this.Fe=0,this.Me=fO(),this.xe=Pi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Xr(),r=Xr(),n=Xr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:br(38017,{changeType:i})}}),new V1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=fO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Dre{constructor(t){this.ze=t,this.je=new Map,this.He=ru(),this.Je=lx(),this.Ye=lx(),this.Ze=new la(Ur)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:br(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(K4(i))if(n===0){const s=new fr(i.path);this.tt(r,s,Hi.newNoDocument(s,kr.min()))}else mn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Ff(n).toUint8Array()}catch(l){if(l instanceof z9)return dp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new IN(s,a,i)}catch(l){return dp(l instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&K4(o.target)){const l=new fr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Hi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Xr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new l5(t,r,this.Ze,this.He,n);return this.He=ru(),this.Je=lx(),this.Ye=lx(),this.Ze=new la(Ur),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new uO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Qa(Ur),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Qa(Ur),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Jt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new uO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function lx(){return new la(fr.comparator)}function fO(){return new la(fr.comparator)}const Lre={asc:"ASCENDING",desc:"DESCENDING"},Mre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rre={and:"AND",or:"OR"};class Fre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function X4(e,t){return e.useProto3Json||e5(t)?t:{value:t}}function sb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $re(e,t){return sb(e,t.toTimestamp())}function ec(e){return mn(!!e,49232),kr.fromTimestamp(function(r){const n=Rf(r);return new ir(n.seconds,n.nanos)}(e))}function DN(e,t){return Q4(e,t).canonicalString()}function Q4(e,t){const r=function(a){return new Xn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function _B(e){const t=Xn.fromString(e);return mn(kB(t),10190,{key:t.toString()}),t}function J4(e,t){return DN(e.databaseId,t.path)}function gS(e,t){const r=_B(t);if(r.get(1)!==e.databaseId.projectId)throw new Xt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Xt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new fr(AB(r))}function SB(e,t){return DN(e.databaseId,t)}function Bre(e){const t=_B(e);return t.length===4?Xn.emptyPath():AB(t)}function Z4(e){return new Xn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AB(e){return mn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function dO(e,t,r){return{name:J4(e,t),fields:r.value.mapValue.fields}}function Ure(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:br(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(mn(u===void 0||typeof u=="string",58123),Pi.fromBase64String(u||"")):(mn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Pi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?yt.UNKNOWN:yB(c.code);return new Xt(u,c.message||"")}(s);r=new bB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=gS(e,n.document.name),i=ec(n.document.updateTime),s=n.document.createTime?ec(n.document.createTime):kr.min(),o=new Ds({mapValue:{fields:n.document.fields}}),l=Hi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new o2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=gS(e,n.document),i=n.readTime?ec(n.readTime):kr.min(),s=Hi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new o2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=gS(e,n.document),i=n.removedTargetIds||[];r=new o2([],i,a,null)}else{if(!("filter"in t))return br(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new jre(a,i),o=n.targetId;r=new xB(o,s)}}return r}function Vre(e,t){let r;if(t instanceof U1)r={update:dO(e,t.key,t.value)};else if(t instanceof o5)r={delete:J4(e,t.key)};else if(t instanceof Qf)r={update:dO(e,t.key,t.data),updateMask:Qre(t.fieldMask)};else{if(!(t instanceof Nre))return br(16599,{ft:t.type});r={verify:J4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Dv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Lv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ib)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw br(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:$re(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:br(27497)}(e,t.precondition)),r}function zre(e,t){return e&&e.length>0?(mn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?ec(a.updateTime):ec(i);return s.isEqual(kr.min())&&(s=ec(i)),new Are(s,a.transformResults||[])}(r,t))):[]}function qre(e,t){return{documents:[SB(e,t.path)]}}function TB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=SB(e,a);const i=function(c){if(c.length!==0)return NB(Cl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:rf(h.field),direction:Kre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=X4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Wre(e,t,r,n){const{gt:a,parent:i}=TB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:rf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:rf(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Hre(e){let t=Bre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){mn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(d){const h=EB(d);return h instanceof Cl&&eB(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(g){return new Iv(u0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,e5(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new nb(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new nb(p,h)}(r.endAt)),ure(t,a,s,i,o,"F",l,c)}function Gre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return br(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function EB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=u0(r.unaryFilter.field);return Ra.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=u0(r.unaryFilter.field);return Ra.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=u0(r.unaryFilter.field);return Ra.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=u0(r.unaryFilter.field);return Ra.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return br(61313);default:return br(60726)}}(e):e.fieldFilter!==void 0?function(r){return Ra.create(u0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return br(58110);default:return br(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Cl.create(r.compositeFilter.filters.map(n=>EB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return br(1026)}}(r.compositeFilter.op))}(e):br(30097,{filter:e})}function Kre(e){return Lre[e]}function Yre(e){return Mre[e]}function Xre(e){return Rre[e]}function rf(e){return{fieldPath:e.canonicalString()}}function u0(e){return Ai.fromServerFormat(e.fieldPath)}function NB(e){return e instanceof Ra?function(r){if(r.op==="=="){if(Zj(r.value))return{unaryFilter:{field:rf(r.field),op:"IS_NAN"}};if(Jj(r.value))return{unaryFilter:{field:rf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Zj(r.value))return{unaryFilter:{field:rf(r.field),op:"IS_NOT_NAN"}};if(Jj(r.value))return{unaryFilter:{field:rf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rf(r.field),op:Yre(r.op),value:r.value}}}(e):e instanceof Cl?function(r){const n=r.getFilters().map(a=>NB(a));return n.length===1?n[0]:{compositeFilter:{op:Xre(r.op),filters:n}}}(e):br(54877,{filter:e})}function Qre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function kB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,r,n,a,i=kr.min(),s=kr.min(),o=Pi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new uf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new uf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(t){this.wt=t}}function Zre(e){const t=Hre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ab(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(){this.yn=new tne}addToCollectionParentIndex(t,r){return this.yn.add(r),At.resolve()}getCollectionParents(t,r){return At.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return At.resolve()}deleteFieldIndex(t,r){return At.resolve()}deleteAllFieldIndexes(t){return At.resolve()}createTargetIndexes(t,r){return At.resolve()}getDocumentsMatchingTarget(t,r){return At.resolve(null)}getIndexType(t,r){return At.resolve(0)}getFieldIndexes(t,r){return At.resolve([])}getNextCollectionGroupToUpdate(t){return At.resolve(null)}getMinOffset(t,r){return At.resolve(Mf.min())}getMinOffsetFromCollectionGroup(t,r){return At.resolve(Mf.min())}updateCollectionGroup(t,r,n){return At.resolve()}updateIndexEntries(t,r){return At.resolve()}}class tne{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Qa(Xn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Qa(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CB=41943040;class Os{static withCacheSize(t){return new Os(t,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(CB,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new gp(0)}static ir(){return new gp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="LruGarbageCollector",rne=1048576;function mO([e,t],[r,n]){const a=Ur(e,r);return a===0?Ur(t,n):a}class nne{constructor(t){this.cr=t,this.buffer=new Qa(mO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();mO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ane{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Jt(pO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){rm(r)?Jt(pO,"Ignoring IndexedDB error during garbage collection: ",r):await tm(r)}await this.Ir(3e5)})}}class ine{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return At.resolve(Zw.le);const n=new nne(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(hO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,s=Date.now(),this.nthSequenceNumber(t,a))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(c=Date.now(),l0()<=tn.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d})))}}function sne(e,t){return new ine(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(){this.changes=new bh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Hi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?At.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Fg(n.mutation,a,so.empty(),ir.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Xr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Xr()){const a=Ld();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=mg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Ld();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Xr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=ru();const s=Rg(),o=function(){return Rg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Qf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Fg(u.mutation,c,u.mutation.getFieldMask(),ir.now())):s.set(c.key,so.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var d;return o.set(c,new lne(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Rg();let a=new la((s,o)=>s-o),i=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||so.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(a.get(o.batchId)||Xr()).add(l);a=a.insert(o.batchId,d)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=uB();u.forEach(h=>{if(!i.has(h)){const p=gB(r.get(h),n.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,d))}return At.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return fr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):aB(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):At.resolve(Ld());let o=Cv,l=i;return s.next(c=>At.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?At.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Xr())).next(u=>({batchId:o,changes:cB(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new fr(r)).next(n=>{let a=mg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=mg();return this.indexManager.getCollectionParents(t,i).next(o=>At.forEach(o,l=>{const c=function(d,h){return new nm(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Hi.newInvalidDocument(u)))});let o=mg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Fg(u.mutation,c,so.empty(),ir.now()),a5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return At.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:ec(a.createTime)}}(r)),At.resolve()}getNamedQuery(t,r){return At.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Zre(a.bundledQuery),readTime:ec(a.readTime)}}(r)),At.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(){this.overlays=new la(fr.comparator),this.Or=new Map}getOverlay(t,r){return At.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ld();return At.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),At.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),At.resolve()}getOverlaysForCollection(t,r,n){const a=Ld(),i=r.length+1,s=new fr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return At.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new la((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Ld(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Ld(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return At.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Cre(r,n));let i=this.Or.get(r);i===void 0&&(i=Xr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(t){return At.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,At.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Nr=new Qa(ni.Br),this.Lr=new Qa(ni.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new ni(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new ni(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new fr(new Xn([])),n=new ni(r,t),a=new ni(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new fr(new Xn([])),n=new ni(r,t),a=new ni(r,t+1);let i=Xr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new ni(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ni{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return fr.comparator(t.key,r.key)||Ur(t.Gr,r.Gr)}static kr(t,r){return Ur(t.Gr,r.Gr)||fr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Qa(ni.Br)}checkEmpty(t){return At.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new ni(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return At.resolve(s)}lookupMutationBatch(t,r){return At.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return At.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(this.mutationQueue.length===0?EN:this.Jn-1)}getAllMutationBatches(t){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ni(r,0),a=new ni(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),At.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Qa(Ur);return r.forEach(a=>{const i=new ni(a,0),s=new ni(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),At.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;fr.isDocumentKey(i)||(i=i.child(""));const s=new ni(new fr(i),0);let o=new Qa(Ur);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),At.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){mn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return At.forEach(r.mutations,a=>{const i=new ni(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new ni(r,0),a=this.zr.firstAfterOrEqual(n);return At.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,At.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(t){this.Zr=t,this.docs=function(){return new la(fr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return At.resolve(n?n.document.mutableCopy():Hi.newInvalidDocument(r))}getEntries(t,r){let n=ru();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Hi.newInvalidDocument(a))}),At.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=ru();const s=r.path,o=new fr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Vte(Ute(u),n)<=0||(a.has(u.key)||a5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return At.resolve(i)}getAllFromCollectionGroup(t,r,n,a){br(9500)}Xr(t,r){return At.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new mne(this)}getSize(t){return At.resolve(this.size)}}class mne extends one{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),At.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(t){this.persistence=t,this.ei=new bh(r=>CN(r),PN),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.ti=0,this.ni=new LN,this.targetCount=0,this.ri=gp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),At.resolve()}getLastRemoteSnapshotVersion(t){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return At.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),At.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new gp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,At.resolve()}updateTargetData(t,r){return this.ar(r),At.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,At.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),At.waitFor(i).next(()=>a)}getTargetCount(t){return At.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return At.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),At.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),At.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),At.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return At.resolve(n)}containsKey(t,r){return At.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t,r){this.ii={},this.overlays={},this.si=new Zw(0),this.oi=!1,this.oi=!0,this._i=new dne,this.referenceDelegate=t(this),this.ai=new gne(this),this.indexManager=new ene,this.remoteDocumentCache=function(a){return new pne(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Jre(r),this.ci=new une(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new fne,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new hne(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Jt("MemoryPersistence","Starting transaction:",t);const a=new vne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return At.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class vne extends qte{constructor(t){super(),this.currentSequenceNumber=t}}class MN{constructor(t){this.persistence=t,this.Ti=new LN,this.Ii=null}static Ei(t){return new MN(t)}get di(){if(this.Ii)return this.Ii;throw br(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),At.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),At.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),At.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.di,n=>{const a=fr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,kr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return At.or([()=>At.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class ob{constructor(t,r){this.persistence=t,this.Ri=new bh(n=>Gte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=sne(this,r)}static Ei(t,r){return new ob(t,r)}li(){}hi(t){return At.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return At.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?At.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,kr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),At.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),At.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),At.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),At.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=a2(t.data.value)),r}gr(t,r,n){return At.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return At.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Xr(),a=Xr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new RN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return fee()?8:Wte(cee())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new yne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(l0()<=tn.DEBUG&&Jt("QueryEngine","SDK will not create cache indexes for query:",c0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),At.resolve()):(l0()<=tn.DEBUG&&Jt("QueryEngine","Query:",c0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(l0()<=tn.DEBUG&&Jt("QueryEngine","The SDK decides to create cache indexes for query:",c0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zl(r))):At.resolve())}Rs(t,r){if(nO(r))return At.resolve(null);let n=Zl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=ab(r,null,"F"),n=Zl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Xr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,ab(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return nO(r)||a.isEqual(kr.min())?At.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?At.resolve(null):(l0()<=tn.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),c0(r)),this.ws(t,s,r,Bte(a,Cv)).next(o=>o))})}ps(t,r){let n=new Qa(oB(t));return r.forEach((a,i)=>{a5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return l0()<=tn.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",c0(r)),this.As.getDocumentsMatchingQuery(t,r,Mf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="LocalStore",bne=3e8;class wne{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new la(Ur),this.Ds=new bh(i=>CN(i),PN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cne(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function _ne(e,t,r,n){return new wne(e,t,r,n)}async function jB(e,t){const r=Er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Xr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Sne(e,t){const r=Er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=At.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);mn(v!==null,48541),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Xr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function OB(e){const t=Er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Ane(e,t){const r=Er(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,d)=>{const h=a.get(d);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,d).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Pi.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(d,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=bne?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=ru(),c=Xr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(Tne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(kr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(d=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return At.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function Tne(e,t,r){let n=Xr(),a=Xr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=ru();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(kr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Jt(FN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Ene(e,t){const r=Er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=EN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Nne(e,t){const r=Er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,At.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new uf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function e3(e,t,r){const n=Er(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!rm(s))throw s;Jt(FN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function gO(e,t,r){const n=Er(e);let a=kr.min(),i=Xr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Er(l),h=d.Ds.get(u);return h!==void 0?At.resolve(d.Ss.get(h)):d.ai.getTargetData(c,u)}(n,s,Zl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:kr.min(),r?i:Xr())).next(o=>(kne(n,dre(t),o),{documents:o,Ns:i})))}function kne(e,t,r){let n=e.vs.get(t)||kr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class vO{constructor(){this.activeTargetIds=yre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cne{constructor(){this.So=new vO,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new vO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="ConnectivityMonitor";class xO{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Jt(yO,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Jt(yO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx=null;function t3(){return cx===null?cx=function(){return 268435456+Math.round(2147483648*Math.random())}():cx++,"0x"+cx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="RestConnection",jne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class One{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===tb?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=t3(),o=this.$o(t,r.toUriEncodedString());Jt(vS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=SN(c);return this.Ko(t,o,l,n,u).then(d=>(Jt(vS,`Received RPC '${t}' ${s}: `,d),d),d=>{throw dp(vS,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+em}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=jne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="WebChannelConnection";class Dne extends One{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=t3();return new Promise((o,l)=>{const c=new O9;c.setWithCredentials(!0),c.listenOnce(I9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case n2.NO_ERROR:const d=c.getResponseJson();Jt(Li,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case n2.TIMEOUT:Jt(Li,`RPC '${t}' ${s} timed out`),l(new Xt(yt.DEADLINE_EXCEEDED,"Request time out"));break;case n2.HTTP_ERROR:const h=c.getStatus();if(Jt(Li,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(w)>=0?w:yt.UNKNOWN}(g.status);l(new Xt(m,g.message))}else l(new Xt(yt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Xt(yt.UNAVAILABLE,"Connection failed."));break;default:br(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Jt(Li,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Jt(Li,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=t3(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=M9(),o=L9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Jt(Li,`Creating RPC '${t}' stream ${a}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Ine({Go:v=>{p?Jt(Li,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Jt(Li,`Opening RPC '${t}' stream ${a} transport.`),d.open(),h=!0),Jt(Li,`RPC '${t}' stream ${a} sending:`,v),d.send(v))},zo:()=>d.close()}),m=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(D){setTimeout(()=>{throw D},0)}})};return m(d,pg.EventType.OPEN,()=>{p||(Jt(Li,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(d,pg.EventType.CLOSE,()=>{p||(p=!0,Jt(Li,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(d,pg.EventType.ERROR,v=>{p||(p=!0,dp(Li,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Xt(yt.UNAVAILABLE,"The operation could not be completed")))}),m(d,pg.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];mn(!!w,16349);const b=w,D=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(D){Jt(Li,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let j=function(S){const O=Pa[S];if(O!==void 0)return yB(O)}(P),T=D.message;j===void 0&&(j=yt.INTERNAL,T="Unknown error status: "+P+" with message "+D.message),p=!0,g.r_(new Xt(j,T)),d.close()}else Jt(Li,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,D9.STAT_EVENT,v=>{v.stat===z4.PROXY?Jt(Li,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===z4.NOPROXY&&Jt(Li,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function yS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e){return new Fre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Jt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="PersistentStream";class DB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new IB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===yt.RESOURCE_EXHAUSTED?(tu(r.toString()),tu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Xt(yt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Jt(bO,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Jt(bO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lne extends DB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Ure(this.serializer,t),n=function(i){if(!("targetChange"in i))return kr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?kr.min():s.readTime?ec(s.readTime):kr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=Z4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=K4(l)?{documents:qre(i,l)}:{query:TB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=wB(i,s.resumeToken);const c=X4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(kr.min())>0){o.readTime=sb(i,s.snapshotVersion.toTimestamp());const c=X4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Gre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=Z4(this.serializer),r.removeTarget=t,this.F_(r)}}class Mne extends DB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return mn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){mn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=zre(t.writeResults,t.commitTime),n=ec(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=Z4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Vre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{}class Fne extends Rne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Xt(yt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,Q4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xt(yt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,Q4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xt(yt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class $ne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(tu(r),this.ea=!1):Jt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="RemoteStore";class Bne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{wh(this)&&(Jt(oh,"Restarting streams for network reachability change."),await async function(l){const c=Er(l);c.aa.add(4),await z1(c),c.la.set("Unknown"),c.aa.delete(4),await u5(c)}(this))})}),this.la=new $ne(n,a)}}async function u5(e){if(wh(e))for(const t of e.ua)await t(!0)}async function z1(e){for(const t of e.ua)await t(!1)}function LB(e,t){const r=Er(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),VN(r)?UN(r):am(r).b_()&&BN(r,t))}function $N(e,t){const r=Er(e),n=am(r);r._a.delete(t),n.b_()&&MB(r,t),r._a.size===0&&(n.b_()?n.v_():wh(r)&&r.la.set("Unknown"))}function BN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}am(e).U_(t)}function MB(e,t){e.ha.Ke(t),am(e).K_(t)}function UN(e){e.ha=new Dre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),am(e).start(),e.la.ta()}function VN(e){return wh(e)&&!am(e).w_()&&e._a.size>0}function wh(e){return Er(e).aa.size===0}function RB(e){e.ha=void 0}async function Une(e){e.la.set("Online")}async function Vne(e){e._a.forEach((t,r)=>{BN(e,t)})}async function zne(e,t){RB(e),VN(e)?(e.la.ia(t),UN(e)):e.la.set("Unknown")}async function qne(e,t,r){if(e.la.set("Online"),t instanceof bB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Jt(oh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lb(e,n)}else if(t instanceof o2?e.ha.Xe(t):t instanceof xB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(kr.min()))try{const n=await OB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Pi.EMPTY_BYTE_STRING,u.snapshotVersion)),MB(i,l);const d=new uf(u.target,l,c,u.sequenceNumber);BN(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Jt(oh,"Failed to raise snapshot:",n),await lb(e,n)}}async function lb(e,t,r){if(!rm(t))throw t;e.aa.add(1),await z1(e),e.la.set("Offline"),r||(r=()=>OB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Jt(oh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await u5(e)})}function FB(e,t){return t().catch(r=>lb(e,r,t))}async function f5(e){const t=Er(e),r=Bf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:EN;for(;Wne(t);)try{const a=await Ene(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Hne(t,a)}catch(a){await lb(t,a)}$B(t)&&BB(t)}function Wne(e){return wh(e)&&e.oa.length<10}function Hne(e,t){e.oa.push(t);const r=Bf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function $B(e){return wh(e)&&!Bf(e).w_()&&e.oa.length>0}function BB(e){Bf(e).start()}async function Gne(e){Bf(e).H_()}async function Kne(e){const t=Bf(e);for(const r of e.oa)t.G_(r.mutations)}async function Yne(e,t,r){const n=e.oa.shift(),a=ON.from(n,t,r);await FB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await f5(e)}async function Xne(e,t){t&&Bf(e).W_&&await async function(n,a){if(function(s){return Ore(s)&&s!==yt.ABORTED}(a.code)){const i=n.oa.shift();Bf(n).D_(),await FB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await f5(n)}}(e,t),$B(e)&&BB(e)}async function wO(e,t){const r=Er(e);r.asyncQueue.verifyOperationInProgress(),Jt(oh,"RemoteStore received new credentials");const n=wh(r);r.aa.add(3),await z1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await u5(r)}async function Qne(e,t){const r=Er(e);t?(r.aa.delete(2),await u5(r)):t||(r.aa.add(2),await z1(r),r.la.set("Unknown"))}function am(e){return e.Pa||(e.Pa=function(r,n,a){const i=Er(r);return i.Y_(),new Lne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Une.bind(null,e),Jo:Vne.bind(null,e),Zo:zne.bind(null,e),Q_:qne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),VN(e)?UN(e):e.la.set("Unknown")):(await e.Pa.stop(),RB(e))})),e.Pa}function Bf(e){return e.Ta||(e.Ta=function(r,n,a){const i=Er(r);return i.Y_(),new Mne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Gne.bind(null,e),Zo:Xne.bind(null,e),z_:Kne.bind(null,e),j_:Yne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await f5(e)):(await e.Ta.stop(),e.oa.length>0&&(Jt(oh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new zN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xt(yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qN(e,t){if(tu("AsyncQueue",`${t}: ${e}`),rm(e))return new Xt(yt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{static emptySet(t){return new z0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||fr.comparator(r.key,n.key):(r,n)=>fr.comparator(r.key,n.key),this.keyedMap=mg(),this.sortedSet=new la(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof z0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new z0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Ia=new la(fr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):br(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class vp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new vp(t,r,z0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&n5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Zne{constructor(){this.queries=SO(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Er(r),i=a.queries;a.queries=SO(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Xt(yt.ABORTED,"Firestore shutting down"))}}function SO(){return new bh(e=>sB(e),n5)}async function WN(e,t){const r=Er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Jne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=qN(s,`Initialization of query '${c0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&GN(r)}async function HN(e,t){const r=Er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function eae(e,t){const r=Er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&GN(r)}function tae(e,t,r){const n=Er(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function GN(e){e.fa.forEach(t=>{t.next()})}var r3,AO;(AO=r3||(r3={})).ya="default",AO.Cache="cache";class KN{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new vp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=vp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==r3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(t){this.key=t}}class VB{constructor(t){this.key=t}}class rae{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Xr(),this.mutatedKeys=Xr(),this.Ua=oB(t),this.Ka=new z0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new _O,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,d)=>{const h=a.get(u),p=a5(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,d)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return br(20277,{Vt:v})}};return m(p)-m(g)}(u.type,d.type)||this.Ua(u.doc,d.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new vp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _O,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Xr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new VB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new UB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Xr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return vp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const YN="SyncEngine";class nae{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class aae{constructor(t){this.key=t,this.tu=!1}}class iae{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new bh(o=>sB(o),n5),this.iu=new Map,this.su=new Set,this.ou=new la(fr.comparator),this._u=new Map,this.au=new LN,this.uu={},this.cu=new Map,this.lu=gp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function sae(e,t,r=!0){const n=KB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await zB(n,t,r,!0),a}async function oae(e,t){const r=KB(e);await zB(r,t,!0,!1)}async function zB(e,t,r,n){const a=await Nne(e.localStore,Zl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await lae(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&LB(e.remoteStore,a),o}async function lae(e,t,r,n,a){e.Pu=(d,h,p)=>async function(m,v,y,w){let b=v.view.Ga(y);b.ys&&(b=await gO(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,b)));const D=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(b,m.isPrimaryClient,D,P);return EO(m,v.targetId,j.Ya),j.snapshot}(e,d,h,p);const i=await gO(e.localStore,t,!0),s=new rae(t,i.Ns),o=s.Ga(i.documents),l=V1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);EO(e,r,c.Ya);const u=new nae(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function cae(e,t,r){const n=Er(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!n5(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await e3(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&$N(n.remoteStore,a.targetId),n3(n,a.targetId)}).catch(tm)):(n3(n,a.targetId),await e3(n.localStore,a.targetId,!0))}async function uae(e,t){const r=Er(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$N(r.remoteStore,n.targetId))}async function fae(e,t,r){const n=yae(e);try{const a=await function(s,o){const l=Er(s),c=ir.now(),u=o.reduce((p,g)=>p.add(g.key),Xr());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ru(),m=Xr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const w of o){const b=Ere(w,d.get(w.key).overlayedDocument);b!=null&&y.push(new Qf(w.key,b,Q9(b.value.mapValue),_s.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:cB(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new la(Ur)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await q1(n,a.changes),await f5(n.remoteStore)}catch(a){const i=qN(a,"Failed to persist write");r.reject(i)}}async function qB(e,t){const r=Er(e);try{const n=await Ane(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?mn(s.tu,14607):a.removedDocuments.size>0&&(mn(s.tu,42227),s.tu=!1))}),await q1(r,n,t)}catch(n){await tm(n)}}function TO(e,t,r){const n=Er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Ra)h.ga(o)&&(c=!0)}),c&&GN(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function dae(e,t,r){const n=Er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new la(fr.comparator);s=s.insert(i,Hi.newNoDocument(i,kr.min()));const o=Xr().add(i),l=new l5(kr.min(),new Map,new la(Ur),s,o);await qB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),XN(n)}else await e3(n.localStore,t,!1).then(()=>n3(n,t,r)).catch(tm)}async function hae(e,t){const r=Er(e),n=t.batch.batchId;try{const a=await Sne(r.localStore,t);HB(r,n,null),WB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await q1(r,a)}catch(a){await tm(a)}}async function pae(e,t,r){const n=Er(e);try{const a=await function(s,o){const l=Er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(mn(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);HB(n,t,r),WB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await q1(n,a)}catch(a){await tm(a)}}function WB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function HB(e,t,r){const n=Er(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function n3(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||GB(e,n)})}function GB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&($N(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),XN(e))}function EO(e,t,r){for(const n of r)n instanceof UB?(e.au.addReference(n.key,t),mae(e,n)):n instanceof VB?(Jt(YN,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||GB(e,n.key)):br(19791,{Iu:n})}function mae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Jt(YN,"New document in limbo: "+r),e.su.add(n),XN(e))}function XN(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new fr(Xn.fromString(t)),n=e.lu.next();e._u.set(n,new aae(r)),e.ou=e.ou.insert(r,n),LB(e.remoteStore,new uf(Zl(r5(r.path)),n,"TargetPurposeLimboResolution",Zw.le))}}async function q1(e,t,r){const n=Er(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){a.push(c);const d=RN.Ps(l.targetId,c);i.push(d)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>At.forEach(c,h=>At.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>At.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!rm(d))throw d;Jt(FN,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function gae(e,t){const r=Er(e);if(!r.currentUser.isEqual(t)){Jt(YN,"User change. New user:",t.toKey());const n=await jB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Xt(yt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await q1(r,n.Ms)}}function vae(e,t){const r=Er(e),n=r._u.get(t);if(n&&n.tu)return Xr().add(n.key);{let a=Xr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function KB(e){const t=Er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dae.bind(null,t),t.nu.Q_=eae.bind(null,t.eventManager),t.nu.Tu=tae.bind(null,t.eventManager),t}function yae(e){const t=Er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pae.bind(null,t),t}class cb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=c5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return _ne(this.persistence,new xne,t.initialUser,this.serializer)}Ru(t){return new PB(MN.Ei,this.serializer)}Au(t){return new Cne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cb.provider={build:()=>new cb};class xae extends cb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){mn(this.persistence.referenceDelegate instanceof ob,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ane(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new PB(n=>ob.Ei(n,r),this.serializer)}}class a3{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>TO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gae.bind(null,this.syncEngine),await Qne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Zne}()}createDatastore(t){const r=c5(t.databaseInfo.databaseId),n=function(i){return new Dne(i)}(t.databaseInfo);return function(i,s,o,l){return new Fne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Bne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>TO(this.syncEngine,r,0),function(){return xO.C()?new xO:new Pne}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const d=new iae(a,i,s,o,l,c);return u&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Er(a);Jt(oh,"RemoteStore shutting down."),i.aa.add(5),await z1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}a3.provider={build:()=>new a3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):tu("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="FirestoreClient";class bae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=zi.UNAUTHENTICATED,this.clientId=B9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Jt(Uf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Jt(Uf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=qN(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function xS(e,t){e.asyncQueue.verifyOperationInProgress(),Jt(Uf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await jB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function NO(e,t){e.asyncQueue.verifyOperationInProgress();const r=await wae(e);Jt(Uf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>wO(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>wO(t.remoteStore,a)),e._onlineComponents=t}async function wae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Jt(Uf,"Using user provided OfflineComponentProvider");try{await xS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===yt.FAILED_PRECONDITION||a.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;dp("Error using user provided cache. Falling back to memory cache: "+r),await xS(e,new cb)}}else Jt(Uf,"Using default OfflineComponentProvider"),await xS(e,new xae(void 0));return e._offlineComponents}async function JN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Jt(Uf,"Using user provided OnlineComponentProvider"),await NO(e,e._uninitializedComponentsProvider._online)):(Jt(Uf,"Using default OnlineComponentProvider"),await NO(e,new a3))),e._onlineComponents}function _ae(e){return JN(e).then(t=>t.syncEngine)}function Sae(e){return JN(e).then(t=>t.datastore)}async function ub(e){const t=await JN(e),r=t.eventManager;return r.onListen=sae.bind(null,t.syncEngine),r.onUnlisten=cae.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=oae.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=uae.bind(null,t.syncEngine),r}function Aae(e,t,r={}){const n=new Jl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QN({next:h=>{u.yu(),s.enqueueAndForget(()=>HN(i,d));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Xt(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Xt(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new KN(r5(o.path),u,{includeMetadataChanges:!0,Fa:!0});return WN(i,d)}(await ub(e),e.asyncQueue,t,r,n)),n.promise}function Tae(e,t,r={}){const n=new Jl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QN({next:h=>{u.yu(),s.enqueueAndForget(()=>HN(i,d)),h.fromCache&&l.source==="server"?c.reject(new Xt(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new KN(o,u,{includeMetadataChanges:!0,Fa:!0});return WN(i,d)}(await ub(e),e.asyncQueue,t,r,n)),n.promise}function Eae(e,t,r){const n=new Jl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Sae(e);n.resolve(async function(s,o,l){var c;const u=Er(s),{request:d,yt:h,parent:p}=Wre(u.serializer,fre(o),l);u.connection.Bo||delete d.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,d,1)).filter(v=>!!v.result);mn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(e,t,r){if(!r)throw new Xt(yt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nae(e,t,r,n){if(t===!0&&n===!0)throw new Xt(yt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function CO(e){if(!fr.isDocumentKey(e))throw new Xt(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function PO(e){if(fr.isDocumentKey(e))throw new Xt(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function d5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":br(12329,{type:typeof e})}function Ji(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Xt(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=d5(e);throw new Xt(yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function kae(e,t){if(t<=0)throw new Xt(yt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="firestore.googleapis.com",jO=!0;class OO{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Xt(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QB,this.ssl=jO}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:jO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=CB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rne)throw new Xt(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Nae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Xt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class h5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xt(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Xt(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jte;switch(n.type){case"firstParty":return new Lte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xt(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,S9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=kO.get(r);n&&(Jt("ComponentProvider","Removing Datastore"),kO.delete(r),n.terminate())}(this),Promise.resolve()}}function Cae(e,t,r,n={}){var a;e=Ji(e,h5);const i=SN(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==QB&&s.host!==l&&dp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!Q2(c,o)&&(e._setSettings(c),i&&(iee(`https://${l}`),S9("Firestore",!0)),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=zi.MOCK_USER;else{u=see(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Xt(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new zi(h)}e._authCredentials=new Ote(new F9(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new mu(this.firestore,t,this._query)}}class Zi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}}class Cf extends mu{constructor(t,r,n){super(t,r,r5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new fr(t))}withConverter(t){return new Cf(this.firestore,t,this._path)}}function wt(e,t,...r){if(e=qo(e),XB("collection","path",t),e instanceof h5){const n=Xn.fromString(t,...r);return PO(n),new Cf(e,null,n)}{if(!(e instanceof Zi||e instanceof Cf))throw new Xt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return PO(n),new Cf(e.firestore,null,n)}}function Sr(e,t,...r){if(e=qo(e),arguments.length===1&&(t=B9.newId()),XB("doc","path",t),e instanceof h5){const n=Xn.fromString(t,...r);return CO(n),new Zi(e,null,new fr(n))}{if(!(e instanceof Zi||e instanceof Cf))throw new Xt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return CO(n),new Zi(e.firestore,e instanceof Cf?e.converter:null,new fr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="AsyncQueue";class DO{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new IB(this,"async_queue_retry"),this.ju=()=>{const n=yS();n&&Jt(IO,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=yS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=yS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Jl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!rm(t))throw t;Jt(IO,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,tu("INTERNAL UNHANDLED ERROR: ",LO(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=zN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&br(47125,{ec:LO(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function LO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Pl extends h5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new DO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DO(t),this._firestoreClient=void 0,await t}}}function Pae(e,t){const r=typeof e=="object"?e:yte(),n=typeof e=="string"?e:tb,a=hte(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=nee("firestore");i&&Cae(a,...i)}return a}function im(e){if(e._terminated)throw new Xt(yt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||jae(e),e._firestoreClient}function jae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Qte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new bae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Iae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yp(Pi.fromBase64String(t))}catch(r){throw new Xt(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new yp(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Xt(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Xt(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Xt(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ur(this._lat,t._lat)||Ur(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae=/^__.*__$/;class Lae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Qf(t,this.data,this.fieldMask,r,this.fieldTransforms):new U1(t,this.data,r,this.fieldTransforms)}}class JB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Qf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function ZB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw br(40011,{oc:e})}}class tk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new tk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return fb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(ZB(this.oc)&&Dae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class Mae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||c5(t)}dc(t,r,n,a=!1){return new tk({oc:t,methodName:r,Ec:n,path:Ai.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H1(e){const t=e._freezeSettings(),r=c5(e._databaseId);return new Mae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function rk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);ak("Data must be an object, but it was:",s,n);const o=rU(n,s);let l,c;if(i.merge)l=new so(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=i3(t,d,r);if(!s.contains(h))throw new Xt(yt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);aU(u,h)||u.push(h)}l=new so(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Lae(new Ds(o),l,c)}class G1 extends p5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof G1}}class nk extends p5{_toFieldTransform(t){return new _re(t.path,new Dv)}isEqual(t){return t instanceof nk}}function eU(e,t,r,n){const a=e.dc(1,t,r);ak("Data must be an object, but it was:",a,n);const i=[],s=Ds.empty();Xf(n,(l,c)=>{const u=ik(t,l,r);c=qo(c);const d=a.hc(u);if(c instanceof G1)i.push(u);else{const h=K1(c,d);h!=null&&(i.push(u),s.set(u,h))}});const o=new so(i);return new JB(s,o,a.fieldTransforms)}function tU(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[i3(t,n,r)],l=[a];if(i.length%2!=0)throw new Xt(yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(i3(t,i[h])),l.push(i[h+1]);const c=[],u=Ds.empty();for(let h=o.length-1;h>=0;--h)if(!aU(c,o[h])){const p=o[h];let g=l[h];g=qo(g);const m=s.hc(p);if(g instanceof G1)c.push(p);else{const v=K1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const d=new so(c);return new JB(u,d,s.fieldTransforms)}function Rae(e,t,r,n=!1){return K1(r,e.dc(n?4:3,t))}function K1(e,t){if(nU(e=qo(e)))return ak("Unsupported field value:",t,e),rU(e,t);if(e instanceof p5)return function(n,a){if(!ZB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=K1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=qo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xre(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ir.fromDate(n);return{timestampValue:sb(a.serializer,i)}}if(n instanceof ir){const i=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sb(a.serializer,i)}}if(n instanceof ZN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yp)return{bytesValue:wB(a.serializer,n._byteString)};if(n instanceof Zi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:DN(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof ek)return function(s,o){return{mapValue:{fields:{[K9]:{stringValue:X9},[rb]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return jN(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${d5(n)}`)}(e,t)}function rU(e,t){const r={};return V9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xf(e,(n,a)=>{const i=K1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function nU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ir||e instanceof ZN||e instanceof yp||e instanceof Zi||e instanceof p5||e instanceof ek)}function ak(e,t,r){if(!nU(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=d5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function i3(e,t,r){if((t=qo(t))instanceof W1)return t._internalPath;if(typeof t=="string")return ik(e,t);throw fb("Field path arguments must be of type string or ",e,!1,void 0,r)}const Fae=new RegExp("[~\\*/\\[\\]]");function ik(e,t,r){if(t.search(Fae)>=0)throw fb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new W1(...t.split("."))._internalPath}catch{throw fb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function fb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Xt(yt.INVALID_ARGUMENT,o+e+l)}function aU(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $ae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(m5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $ae extends iU{data(){return super.data()}}function m5(e,t){return typeof t=="string"?ik(e,t):t instanceof W1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Xt(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sk{}class ok extends sk{}function lr(e,t,...r){let n=[];t instanceof sk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof lk).length,o=i.filter(l=>l instanceof g5).length;if(s>1||s>0&&o>0)throw new Xt(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class g5 extends ok{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new g5(t,r,n)}_apply(t){const r=this._parse(t);return oU(t._query,r),new mu(t.firestore,t.converter,Y4(t._query,r))}_parse(t){const r=H1(t.firestore);return function(i,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Xt(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){FO(d,u);const g=[];for(const m of d)g.push(RO(l,i,m));h={arrayValue:{values:g}}}else h=RO(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||FO(d,u),h=Rae(o,s,d,u==="in"||u==="not-in");return Ra.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function sr(e,t,r){const n=t,a=m5("where",e);return g5._create(a,n,r)}class lk extends sk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new lk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Cl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)oU(s,l),s=Y4(s,l)}(t._query,r),new mu(t.firestore,t.converter,Y4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ck extends ok{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ck(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iv(i,s)}(t._query,this._field,this._direction);return new mu(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new nm(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Fa(e,t="asc"){const r=t,n=m5("orderBy",e);return ck._create(n,r)}class uk extends ok{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new uk(t,r,n)}_apply(t){return new mu(t.firestore,t.converter,ab(t._query,this._limit,this._limitType))}}function vg(e){return kae("limit",e),uk._create("limit",e,"F")}function RO(e,t,r){if(typeof(r=qo(r))=="string"){if(r==="")throw new Xt(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aB(t)&&r.indexOf("/")!==-1)throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Xn.fromString(r));if(!fr.isDocumentKey(n))throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Qj(e,new fr(n))}if(r instanceof Zi)return Qj(e,r._key);throw new Xt(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d5(r)}.`)}function FO(e,t){if(!Array.isArray(e)||e.length===0)throw new Xt(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oU(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Xt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Xt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Bae{convertValue(t,r="none"){switch($f(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ff(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw br(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Xf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[rb].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>wa(s.doubleValue));return new ek(i)}convertGeoPoint(t){return new ZN(wa(t.latitude),wa(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=t5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pv(t));default:return null}}convertTimestamp(t){const r=Rf(t);return new ir(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Xn.fromString(t);mn(kB(n),9688,{name:t});const a=new jv(n.get(1),n.get(3)),i=new fr(n.popFirst(5));return a.isEqual(r)||tu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Uae(){return new Oae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lU extends iU{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new l2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(m5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class l2 extends lU{data(t={}){return super.data(t)}}class cU{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new yg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new l2(this._firestore,this._userDataWriter,n.key,n,new yg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Xt(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new l2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new l2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Vae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Vae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return br(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(e){e=Ji(e,Zi);const t=Ji(e.firestore,Pl);return Aae(im(t),e._key).then(r=>uU(t,e,r))}class v5 extends Bae{constructor(t){super(),this.firestore=t}convertBytes(t){return new yp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,r)}}function ur(e){e=Ji(e,mu);const t=Ji(e.firestore,Pl),r=im(t),n=new v5(t);return sU(e._query),Tae(r,e._query).then(a=>new cU(t,n,e,a))}function ux(e,t,r){e=Ji(e,Zi);const n=Ji(e.firestore,Pl),a=fk(e.converter,t,r);return Y1(n,[rk(H1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,_s.none())])}function Vn(e,t,r,...n){e=Ji(e,Zi);const a=Ji(e.firestore,Pl),i=H1(a);let s;return s=typeof(t=qo(t))=="string"||t instanceof W1?tU(i,"updateDoc",e._key,t,r,n):eU(i,"updateDoc",e._key,t),Y1(a,[s.toMutation(e._key,_s.exists(!0))])}function Ms(e){return Y1(Ji(e.firestore,Pl),[new o5(e._key,_s.none())])}function mr(e,t){const r=Ji(e.firestore,Pl),n=Sr(e),a=fk(e.converter,t);return Y1(r,[rk(H1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,_s.exists(!1))]).then(()=>n)}function zae(e,...t){var r,n,a;e=qo(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||MO(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(MO(t[s])){const d=t[s];t[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let l,c,u;if(e instanceof Zi)c=Ji(e.firestore,Pl),u=r5(e._key.path),l={next:d=>{t[s]&&t[s](uU(c,e,d))},error:t[s+1],complete:t[s+2]};else{const d=Ji(e,mu);c=Ji(d.firestore,Pl),u=d._query;const h=new v5(c);l={next:p=>{t[s]&&t[s](new cU(c,h,d,p))},error:t[s+1],complete:t[s+2]},sU(e._query)}return function(h,p,g,m){const v=new QN(m),y=new KN(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>WN(await ub(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>HN(await ub(h),y))}}(im(c),u,o,l)}function Y1(e,t){return function(n,a){const i=new Jl;return n.asyncQueue.enqueueAndForget(async()=>fae(await _ae(n),a,i)),i.promise}(im(e),t)}function uU(e,t,r){const n=r.docs.get(t._key),a=new v5(e);return new lU(e,a,t._key,n,new yg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return qae(e,{count:Uae()})}function qae(e,t){const r=Ji(e.firestore,Pl),n=im(r),a=Yte(t,(i,s)=>new Pre(s,i.aggregateType,i._internalFieldPath));return Eae(n,e._query,a).then(i=>function(o,l,c){const u=new v5(o);return new Iae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=H1(t)}set(t,r,n){this._verifyNotCommitted();const a=bS(t,this._firestore),i=fk(a.converter,r,n),s=rk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,_s.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=bS(t,this._firestore);let s;return s=typeof(r=qo(r))=="string"||r instanceof W1?tU(this._dataReader,"WriteBatch.update",i._key,r,n,a):eU(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,_s.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=bS(t,this._firestore);return this._mutations=this._mutations.concat(new o5(r._key,_s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xt(yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bS(e,t){if((e=qo(e)).firestore!==t)throw new Xt(yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return new G1("deleteField")}function ff(){return new nk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(e){return im(e=Ji(e,Pl)),new Wae(e,t=>Y1(e,t))}(function(t,r=!0){(function(a){em=a})(vte),Z2(new Nv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pl(new Ite(n.getProvider("auth-internal")),new Mte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xt(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),V0($j,Bj,t),V0($j,Bj,"esm2017")})();const Gae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Kae=k9(Gae),Xe=Pae(Kae),fU=F.createContext(void 0),ga=()=>{const e=F.useContext(fU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Yae=({children:e})=>{const[t,r]=F.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=F.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await ur(wt(Xe,"users"));for(const d of u.docs){const h=d.data();if(h.username===l&&h.password===c){const p={id:d.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await mr(wt(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),mr(wt(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return f.jsx(fU.Provider,{value:o,children:e})},dU=F.createContext(void 0),Xae=({children:e})=>{const[t,r]=F.useState(!0),n=()=>{r(!t)};return f.jsx(dU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},an=()=>{const e=F.useContext(dU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},hk=F.createContext({});function X1(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const pk=typeof window<"u",mk=pk?F.useLayoutEffect:F.useEffect,y5=F.createContext(null);function gk(e,t){e.indexOf(t)===-1&&e.push(t)}function x5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const nu=(e,t,r)=>r>t?t:r<e?e:r;let db=()=>{};const au={},hU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function pU(e){return typeof e=="object"&&e!==null}const mU=e=>/^0[^.\s]+$/u.test(e);function vk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fo=e=>e,Qae=(e,t)=>r=>t(e(r)),Q1=(...e)=>e.reduce(Qae),xp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class yk{constructor(){this.subscriptions=[]}add(t){return gk(this.subscriptions,t),()=>x5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tl=e=>e*1e3,tc=e=>e/1e3;function gU(e,t){return t?e*(1e3/t):0}const Jae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},vU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Zae=1e-7,eie=12;function tie(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=vU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Zae&&++o<eie);return s}function J1(e,t,r,n){if(e===t&&r===n)return Fo;const a=i=>tie(i,0,1,e,r);return i=>i===0||i===1?i:vU(a(i),t,n)}const yU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xU=e=>t=>1-e(1-t),bU=J1(.33,1.53,.69,.99),xk=xU(bU),wU=yU(xk),_U=e=>(e*=2)<1?.5*xk(e):.5*(2-Math.pow(2,-10*(e-1))),bk=e=>1-Math.sin(Math.acos(e)),SU=xU(bk),AU=yU(bk),rie=J1(.42,0,1,1),nie=J1(0,0,.58,1),TU=J1(.42,0,.58,1),EU=e=>Array.isArray(e)&&typeof e[0]!="number";function NU(e,t){return EU(e)?e[Jae(0,e.length,t)]:e}const kU=e=>Array.isArray(e)&&typeof e[0]=="number",BO={linear:Fo,easeIn:rie,easeInOut:TU,easeOut:nie,circIn:bk,circInOut:AU,circOut:SU,backIn:xk,backInOut:wU,backOut:bU,anticipate:_U},aie=e=>typeof e=="string",UO=e=>{if(kU(e)){db(e.length===4);const[t,r,n,a]=e;return J1(t,r,n,a)}else if(aie(e))return db(BO[e]!==void 0),BO[e];return e},fx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],VO={value:null,addProjectionMetrics:null};function iie(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),e()),l++,d(o)}const u={schedule:(d,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&VO.value&&VO.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const sie=40;function CU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=fx.reduce((b,D)=>(b[D]=iie(i,t?D:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:g}=s,m=()=>{const b=au.useManualTiming?a.timestamp:performance.now();r=!1,au.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,sie),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:fx.reduce((b,D)=>{const P=s[D];return b[D]=(j,T=!1,_=!1)=>(r||v(),P.schedule(j,T,_)),b},{}),cancel:b=>{for(let D=0;D<fx.length;D++)s[fx[D]].cancel(b)},state:a,steps:s}}const{schedule:na,cancel:iu,state:wi,steps:wS}=CU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fo,!0);let c2;function oie(){c2=void 0}const Rs={now:()=>(c2===void 0&&Rs.set(wi.isProcessing||au.useManualTiming?wi.timestamp:performance.now()),c2),set:e=>{c2=e,queueMicrotask(oie)}},PU=e=>t=>typeof t=="string"&&t.startsWith(e),wk=PU("--"),lie=PU("var(--"),_k=e=>lie(e)?cie.test(e.split("/*")[0].trim()):!1,cie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rv={...sm,transform:e=>nu(0,1,e)},dx={...sm,default:1},$g=e=>Math.round(e*1e5)/1e5,Sk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uie(e){return e==null}const fie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ak=(e,t)=>r=>!!(typeof r=="string"&&fie.test(r)&&r.startsWith(e)||t&&!uie(r)&&Object.prototype.hasOwnProperty.call(r,t)),jU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Sk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},die=e=>nu(0,255,e),_S={...sm,transform:e=>Math.round(die(e))},Md={test:Ak("rgb","red"),parse:jU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+_S.transform(e)+", "+_S.transform(t)+", "+_S.transform(r)+", "+$g(Rv.transform(n))+")"};function hie(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const s3={test:Ak("#"),parse:hie,transform:Md.transform},Z1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yu=Z1("deg"),rc=Z1("%"),_r=Z1("px"),pie=Z1("vh"),mie=Z1("vw"),zO={...rc,parse:e=>rc.parse(e)/100,transform:e=>rc.transform(e*100)},E0={test:Ak("hsl","hue"),parse:jU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+rc.transform($g(t))+", "+rc.transform($g(r))+", "+$g(Rv.transform(n))+")"},Ui={test:e=>Md.test(e)||s3.test(e)||E0.test(e),parse:e=>Md.test(e)?Md.parse(e):E0.test(e)?E0.parse(e):s3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Md.transform(e):E0.transform(e)},gie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sk))==null?void 0:t.length)||0)+(((r=e.match(gie))==null?void 0:r.length)||0)>0}const OU="number",IU="color",yie="var",xie="var(",qO="${}",bie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(bie,l=>(Ui.test(l)?(n.color.push(i),a.push(IU),r.push(Ui.parse(l))):l.startsWith(xie)?(n.var.push(i),a.push(yie),r.push(l)):(n.number.push(i),a.push(OU),r.push(parseFloat(l))),++i,qO)).split(qO);return{values:r,split:o,indexes:n,types:a}}function DU(e){return Fv(e).values}function LU(e){const{split:t,types:r}=Fv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===OU?i+=$g(a[s]):o===IU?i+=Ui.transform(a[s]):i+=a[s]}return i}}const wie=e=>typeof e=="number"?0:e;function _ie(e){const t=DU(e);return LU(e)(t.map(wie))}const Vf={test:vie,parse:DU,createTransformer:LU,getAnimatableNone:_ie};function SS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Sie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=SS(l,o,e+1/3),i=SS(l,o,e),s=SS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function hb(e,t){return r=>r>0?t:e}const ta=(e,t,r)=>e+(t-e)*r,AS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Aie=[s3,Md,E0],Tie=e=>Aie.find(t=>t.test(e));function WO(e){const t=Tie(e);if(!t)return!1;let r=t.parse(e);return t===E0&&(r=Sie(r)),r}const HO=(e,t)=>{const r=WO(e),n=WO(t);if(!r||!n)return hb(e,t);const a={...r};return i=>(a.red=AS(r.red,n.red,i),a.green=AS(r.green,n.green,i),a.blue=AS(r.blue,n.blue,i),a.alpha=ta(r.alpha,n.alpha,i),Md.transform(a))},o3=new Set(["none","hidden"]);function Eie(e,t){return o3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Nie(e,t){return r=>ta(e,t,r)}function Tk(e){return typeof e=="number"?Nie:typeof e=="string"?_k(e)?hb:Ui.test(e)?HO:Pie:Array.isArray(e)?MU:typeof e=="object"?Ui.test(e)?HO:kie:hb}function MU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>Tk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function kie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Tk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Cie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Pie=(e,t)=>{const r=Vf.createTransformer(t),n=Fv(e),a=Fv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?o3.has(e)&&!a.values.length||o3.has(t)&&!n.values.length?Eie(e,t):Q1(MU(Cie(n,a),a.values),r):hb(e,t)};function RU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ta(e,t,r):Tk(e)(e,t)}const jie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>na.update(t,r),stop:()=>iu(t),now:()=>wi.isProcessing?wi.timestamp:Rs.now()}},FU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},pb=2e4;function Ek(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<pb;)t+=r,n=e.next(t);return t>=pb?1/0:t}function $U(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Ek(n),pb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:tc(a)}}const Oie=5;function BU(e,t,r){const n=Math.max(t-Oie,0);return gU(r-e(n),t-n)}const da={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},TS=.001;function Iie({duration:e=da.duration,bounce:t=da.bounce,velocity:r=da.velocity,mass:n=da.mass}){let a,i,s=1-t;s=nu(da.minDamping,da.maxDamping,s),e=nu(da.minDuration,da.maxDuration,tc(e)),s<1?(a=c=>{const u=c*s,d=u*e,h=u-r,p=l3(c,s),g=Math.exp(-d);return TS-h/p*g},i=c=>{const d=c*s*e,h=d*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-d),m=l3(Math.pow(c,2),s);return(-a(c)+TS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-TS+u*d},i=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const o=5/e,l=Lie(a,i,o);if(e=Tl(e),isNaN(l))return{stiffness:da.stiffness,damping:da.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const Die=12;function Lie(e,t,r){let n=r;for(let a=1;a<Die;a++)n=n-e(n)/t(n);return n}function l3(e,t){return e*Math.sqrt(1-t*t)}const Mie=["duration","bounce"],Rie=["stiffness","damping","mass"];function GO(e,t){return t.some(r=>e[r]!==void 0)}function Fie(e){let t={velocity:da.velocity,stiffness:da.stiffness,damping:da.damping,mass:da.mass,isResolvedFromDuration:!1,...e};if(!GO(e,Rie)&&GO(e,Mie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*nu(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:da.mass,stiffness:a,damping:i}}else{const r=Iie(e);t={...t,...r,mass:da.mass},t.isResolvedFromDuration=!0}return t}function $v(e=da.visualDuration,t=da.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=Fie({...r,velocity:-tc(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=tc(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?da.restSpeed.granular:da.restSpeed.default),a||(a=w?da.restDelta.granular:da.restDelta.default);let b;if(m<1){const P=l3(y,m);b=j=>{const T=Math.exp(-m*y*j);return s-T*((g+m*y*v)/P*Math.sin(P*j)+v*Math.cos(P*j))}}else if(m===1)b=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);b=j=>{const T=Math.exp(-m*y*j),_=Math.min(P*j,300);return s-T*((g+m*y*v)*Math.sinh(_)+P*v*Math.cosh(_))/P}}const D={calculatedDuration:p&&d||null,next:P=>{const j=b(P);if(p)o.done=P>=d;else{let T=P===0?g:0;m<1&&(T=P===0?Tl(g):BU(b,P,j));const _=Math.abs(T)<=n,S=Math.abs(s-j)<=a;o.done=_&&S}return o.value=o.done?s:j,o},toString:()=>{const P=Math.min(Ek(D),pb),j=FU(T=>D.next(P*T).value,P,30);return P+"ms "+j},toTransition:()=>{}};return D}$v.applyToOptions=e=>{const t=$U(e,100,$v);return e.ease=t.ease,e.duration=Tl(t.duration),e.type="keyframes",e};function c3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=_=>o!==void 0&&_<o||l!==void 0&&_>l,g=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let m=r*t;const v=d+m,y=s===void 0?v:s(v);y!==v&&(m=y-d);const w=_=>-m*Math.exp(-_/n),b=_=>y+w(_),D=_=>{const S=w(_),O=b(_);h.done=Math.abs(S)<=c,h.value=h.done?y:O};let P,j;const T=_=>{p(h.value)&&(P=_,j=$v({keyframes:[h.value,g(h.value)],velocity:BU(b,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:_=>{let S=!1;return!j&&P===void 0&&(S=!0,D(_),T(_)),P!==void 0&&_>=P?j.next(_-P):(!S&&D(_),h)}}}function $ie(e,t,r){const n=[],a=r||au.mix||RU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Fo:t;o=Q1(l,o)}n.push(o)}return n}function UU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(db(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=$ie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=xp(e[d],e[d+1],u);return o[d](h)};return r?u=>c(nu(e[0],e[i-1],u)):c}function VU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=xp(0,t,n);e.push(ta(r,1,a))}}function zU(e){const t=[0];return VU(t,e.length-1),t}function Bie(e,t){return e.map(r=>r*t)}function Uie(e,t){return e.map(()=>t||TU).splice(0,e.length-1)}function Bg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=EU(n)?n.map(UO):UO(n),i={done:!1,value:t[0]},s=Bie(r&&r.length===t.length?r:zU(t),e),o=UU(s,t,{ease:Array.isArray(a)?a:Uie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Vie=e=>e!==null;function Nk(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Vie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const zie={decay:c3,inertia:c3,tween:Bg,keyframes:Bg,spring:$v};function qU(e){typeof e.type=="string"&&(e.type=zie[e.type])}class kk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const qie=e=>e/100;class Ck extends kk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Rs.now()&&this.tick(Rs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qU(t);const{type:r=Bg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Bg;l!==Bg&&typeof o[0]!="number"&&(this.mixKeyframes=Q1(qie,RU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Ek(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,D=n;if(d){const _=Math.min(this.currentTime,a)/o;let S=Math.floor(_),O=_%1;!O&&_>=1&&(O=1),O===1&&S--,S=Math.min(S,d+1),!!(S%2)&&(h==="reverse"?(O=1-O,p&&(O-=p/o)):h==="mirror"&&(D=s)),b=nu(0,1,O)*o}const P=w?{done:!1,value:u[0]}:D.next(b);i&&(P.value=i(P.value));let{done:j}=P;!w&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&g!==c3&&(P.value=Nk(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return tc(this.calculatedDuration)}get time(){return tc(this.currentTime)}set time(t){var r;t=Tl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=tc(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=jie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Wie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rd=e=>e*180/Math.PI,u3=e=>{const t=Rd(Math.atan2(e[1],e[0]));return f3(t)},Hie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u3,rotateZ:u3,skewX:e=>Rd(Math.atan(e[1])),skewY:e=>Rd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f3=e=>(e=e%360,e<0&&(e+=360),e),KO=u3,YO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Gie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YO,scaleY:XO,scale:e=>(YO(e)+XO(e))/2,rotateX:e=>f3(Rd(Math.atan2(e[6],e[5]))),rotateY:e=>f3(Rd(Math.atan2(-e[2],e[0]))),rotateZ:KO,rotate:KO,skewX:e=>Rd(Math.atan(e[4])),skewY:e=>Rd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function d3(e){return e.includes("scale")?1:0}function h3(e,t){if(!e||e==="none")return d3(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Gie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Hie,a=o}if(!a)return d3(t);const i=n[t],s=a[1].split(",").map(Yie);return typeof i=="function"?i(s):s[i]}const Kie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return h3(r,t)};function Yie(e){return parseFloat(e.trim())}const om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lm=new Set(om),QO=e=>e===sm||e===_r,Xie=new Set(["x","y","z"]),Qie=om.filter(e=>!Xie.has(e));function Jie(e){const t=[];return Qie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Hd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>h3(t,"x"),y:(e,{transform:t})=>h3(t,"y")};Hd.translateX=Hd.x;Hd.translateY=Hd.y;const Gd=new Set;let p3=!1,m3=!1,g3=!1;function WU(){if(m3){const e=Array.from(Gd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Jie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}m3=!1,p3=!1,Gd.forEach(e=>e.complete(g3)),Gd.clear()}function HU(){Gd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m3=!0)})}function Zie(){g3=!0,HU(),WU(),g3=!1}class Pk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Gd.add(this),p3||(p3=!0,na.read(HU),na.resolveKeyframes(WU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Wie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Gd.delete(this)}cancel(){this.state==="scheduled"&&(Gd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ese=e=>e.startsWith("--");function tse(e,t,r){ese(t)?e.style.setProperty(t,r):e.style[t]=r}const rse=vk(()=>window.ScrollTimeline!==void 0),nse={};function ase(e,t){const r=vk(e);return()=>nse[t]??r()}const GU=ase(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,JO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xg([0,.65,.55,1]),circOut:xg([.55,0,1,.45]),backIn:xg([.31,.01,.66,-.59]),backOut:xg([.33,1.53,.69,.99])};function KU(e,t){if(e)return typeof e=="function"?GU()?FU(e,t):"ease-out":kU(e)?xg(e):Array.isArray(e)?e.map(r=>KU(r,t)||JO.easeOut):JO[e]}function ise(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const d=KU(o,a);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function jk(e){return typeof e=="function"&&"applyToOptions"in e}function sse({type:e,...t}){return jk(e)&&GU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ose extends kk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,db(typeof t.type!="string");const c=sse(t);this.animation=ise(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Nk(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):tse(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return tc(Number(t))}get time(){return tc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Tl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rse()?(this.animation.timeline=t,Fo):r(this)}}const YU={anticipate:_U,backInOut:wU,circInOut:AU};function lse(e){return e in YU}function cse(e){typeof e.ease=="string"&&lse(e.ease)&&(e.ease=YU[e.ease])}const ZO=10;class use extends ose{constructor(t){cse(t),qU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Ck({...s,autoplay:!1}),l=Tl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-ZO).value,o.sample(l).value,ZO),o.stop()}}const eI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vf.test(e)||e==="0")&&!e.startsWith("url("));function fse(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function dse(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=eI(a,t),o=eI(i,t);return!s||!o?!1:fse(e)||(r==="spring"||jk(r))&&n}function Ok(e){return pU(e)&&"offsetHeight"in e}const hse=new Set(["opacity","clipPath","filter","transform"]),pse=vk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mse(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Ok((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return pse()&&r&&hse.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const gse=40;class vse extends kk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Rs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||Pk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Rs.now(),dse(t,i,s,o)||((au.instantAnimations||!l)&&(u==null||u(Nk(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>gse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&mse(h)?new use({...h,element:h.motionValue.owner.current}):new Ck(h);p.finished.then(()=>this.notifyFinished()).catch(Fo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Zie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class yse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xse extends yse{then(t,r){return this.finished.finally(t).then(()=>{})}}const bse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wse(e){const t=bse.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function XU(e,t,r=1){const[n,a]=wse(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return hU(s)?parseFloat(s):s}return _k(a)?XU(a,t,r+1):a}function Ik(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const QU=new Set(["width","height","top","left","right","bottom",...om]),_se={test:e=>e==="auto",parse:e=>e},JU=e=>t=>t.test(e),ZU=[sm,_r,rc,Yu,mie,pie,_se],tI=e=>ZU.find(JU(e));function Sse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mU(e):!0}const Ase=new Set(["brightness","contrast","saturate","opacity"]);function Tse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Sk)||[];if(!n)return e;const a=r.replace(n,"");let i=Ase.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Ese=/\b([a-z-]*)\(.*?\)/gu,v3={...Vf,getAnimatableNone:e=>{const t=e.match(Ese);return t?t.map(Tse).join(" "):e}},rI={...sm,transform:Math.round},Nse={rotate:Yu,rotateX:Yu,rotateY:Yu,rotateZ:Yu,scale:dx,scaleX:dx,scaleY:dx,scaleZ:dx,skew:Yu,skewX:Yu,skewY:Yu,distance:_r,translateX:_r,translateY:_r,translateZ:_r,x:_r,y:_r,z:_r,perspective:_r,transformPerspective:_r,opacity:Rv,originX:zO,originY:zO,originZ:_r},Dk={borderWidth:_r,borderTopWidth:_r,borderRightWidth:_r,borderBottomWidth:_r,borderLeftWidth:_r,borderRadius:_r,radius:_r,borderTopLeftRadius:_r,borderTopRightRadius:_r,borderBottomRightRadius:_r,borderBottomLeftRadius:_r,width:_r,maxWidth:_r,height:_r,maxHeight:_r,top:_r,right:_r,bottom:_r,left:_r,padding:_r,paddingTop:_r,paddingRight:_r,paddingBottom:_r,paddingLeft:_r,margin:_r,marginTop:_r,marginRight:_r,marginBottom:_r,marginLeft:_r,backgroundPositionX:_r,backgroundPositionY:_r,...Nse,zIndex:rI,fillOpacity:Rv,strokeOpacity:Rv,numOctaves:rI},kse={...Dk,color:Ui,backgroundColor:Ui,outlineColor:Ui,fill:Ui,stroke:Ui,borderColor:Ui,borderTopColor:Ui,borderRightColor:Ui,borderBottomColor:Ui,borderLeftColor:Ui,filter:v3,WebkitFilter:v3},eV=e=>kse[e];function tV(e,t){let r=eV(e);return r!==v3&&(r=Vf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Cse=new Set(["auto","none","0"]);function Pse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Cse.has(i)&&Fv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=tV(r,a)}class jse extends Pk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),_k(c))){const u=XU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!QU.has(n)||t.length!==2)return;const[a,i]=t,s=tI(a),o=tI(i);if(s!==o)if(QO(s)&&QO(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Hd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Sse(t[a]))&&n.push(a);n.length&&Pse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Hd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function rV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const nI=30,Ose=e=>!isNaN(parseFloat(e)),Ug={current:void 0};class Ise{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Rs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Rs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ose(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new yk);const n=this.events[t].add(r);return t==="change"?()=>{n(),na.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ug.current&&Ug.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,nI);return gU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(e,t){return new Ise(e,t)}const nV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Lk,cancel:KBe}=CU(queueMicrotask,!1),cl={x:!1,y:!1};function aV(){return cl.x||cl.y}function Dse(e){return e==="x"||e==="y"?cl[e]?null:(cl[e]=!0,()=>{cl[e]=!1}):cl.x||cl.y?null:(cl.x=cl.y=!0,()=>{cl.x=cl.y=!1})}function iV(e,t){const r=rV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function aI(e){return!(e.pointerType==="touch"||aV())}function Lse(e,t,r={}){const[n,a,i]=iV(e,r),s=o=>{if(!aI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=d=>{aI(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const sV=(e,t)=>t?e===t?!0:sV(e,t.parentElement):!1,Mk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Mse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rse(e){return Mse.has(e.tagName)||e.tabIndex!==-1}const u2=new WeakSet;function iI(e){return t=>{t.key==="Enter"&&e(t)}}function ES(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Fse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=iI(()=>{if(u2.has(r))return;ES(r,"down");const a=iI(()=>{ES(r,"up")}),i=()=>ES(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function sI(e){return Mk(e)&&!aV()}function $se(e,t,r={}){const[n,a,i]=iV(e,r),s=o=>{const l=o.currentTarget;if(!sI(o))return;u2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),u2.has(l)&&u2.delete(l),sI(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||r.useGlobalTarget||sV(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Ok(o)&&(o.addEventListener("focus",c=>Fse(c,a)),!Rse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Rk(e){return pU(e)&&"ownerSVGElement"in e}function oV(e){return Rk(e)&&e.tagName==="svg"}function Bse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=UU(a,i,s);return t?o(n):o}const ci=e=>!!(e&&e.getVelocity),Use=[...ZU,Ui,Vf],Vse=e=>Use.find(JU(e)),b5=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zse extends F.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Ok(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qse({children:e,isPresent:t,anchorX:r}){const n=F.useId(),a=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=F.useContext(b5);return F.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:d}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),f.jsx(zse,{isPresent:t,childRef:a,sizeRef:i,children:F.cloneElement(e,{ref:a})})}const Wse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=X1(Hse),c=F.useId();let u=!0,d=F.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(d={...d}),F.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),F.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=f.jsx(qse,{isPresent:r,anchorX:o,children:e})),f.jsx(y5.Provider,{value:d,children:e})};function Hse(){return new Map}function lV(e=!0){const t=F.useContext(y5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=F.useId();F.useEffect(()=>{if(e)return a(i)},[e]);const s=F.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const hx=e=>e.key||"";function oI(e){const t=[];return F.Children.forEach(e,r=>{F.isValidElement(r)&&t.push(r)}),t}const f2=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=lV(s),u=F.useMemo(()=>oI(e),[e]),d=s&&!l?[]:u.map(hx),h=F.useRef(!0),p=F.useRef(u),g=X1(()=>new Map),[m,v]=F.useState(u),[y,w]=F.useState(u);mk(()=>{h.current=!1,p.current=u;for(let P=0;P<y.length;P++){const j=hx(y[P]);d.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,d.length,d.join("-")]);const b=[];if(u!==m){let P=[...u];for(let j=0;j<y.length;j++){const T=y[j],_=hx(T);d.includes(_)||(P.splice(j,0,T),b.push(T))}return i==="wait"&&b.length&&(P=b),w(oI(P)),v(u),null}const{forceRender:D}=F.useContext(hk);return f.jsx(f.Fragment,{children:y.map(P=>{const j=hx(P),T=s&&!l?!1:u===y||d.includes(j),_=()=>{if(g.has(j))g.set(j,!0);else return;let S=!0;g.forEach(O=>{O||(S=!1)}),S&&(D==null||D(),w(p.current),s&&(c==null||c()),n&&n())};return f.jsx(Wse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:_,anchorX:o,children:P},j)})})},cV=F.createContext({strict:!1}),lI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bp={};for(const e in lI)bp[e]={isEnabled:t=>lI[e].some(r=>!!t[r])};function Gse(e){for(const t in e)bp[t]={...bp[t],...e[t]}}const Kse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Kse.has(e)}let uV=e=>!mb(e);function Yse(e){e&&(uV=t=>t.startsWith("on")?!mb(t):e(t))}try{Yse(require("@emotion/is-prop-valid").default)}catch{}function Xse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(uV(a)||r===!0&&mb(a)||!t&&!mb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Qse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const w5=F.createContext({});function _5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bv(e){return typeof e=="string"||Array.isArray(e)}const Fk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$k=["initial",...Fk];function S5(e){return _5(e.animate)||$k.some(t=>Bv(e[t]))}function fV(e){return!!(S5(e)||e.variants)}function Jse(e,t){if(S5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bv(r)?r:void 0,animate:Bv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Zse(e){const{initial:t,animate:r}=Jse(e,F.useContext(w5));return F.useMemo(()=>({initial:t,animate:r}),[cI(t),cI(r)])}function cI(e){return Array.isArray(e)?e.join(" "):e}const eoe=Symbol.for("motionComponentSymbol");function N0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function toe(e,t,r){return F.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):N0(r)&&(r.current=n))},[t])}const Bk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),roe="framerAppearId",dV="data-"+Bk(roe),hV=F.createContext({});function noe(e,t,r,n,a){var m,v;const{visualElement:i}=F.useContext(w5),s=F.useContext(cV),o=F.useContext(y5),l=F.useContext(b5).reducedMotion,c=F.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=F.useContext(hV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&aoe(c.current,r,a,d);const h=F.useRef(!1);F.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[dV],g=F.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return mk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Lk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function aoe(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:pV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&N0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function pV(e){if(e)return e.options.allowProjection!==!1?e.projection:pV(e.parent)}function ioe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Gse(e);function i(o,l){let c;const u={...F.useContext(b5),...o,layoutId:soe(o)},{isStatic:d}=u,h=Zse(o),p=n(o,d);if(!d&&pk){ooe();const g=loe(u);c=g.MeasureLayout,h.visualElement=noe(a,p,u,t,g.ProjectionNode)}return f.jsxs(w5.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,toe(p,h.visualElement,l),p,d,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=F.forwardRef(i);return s[eoe]=a,s}function soe({layoutId:e}){const t=F.useContext(hk).id;return t&&e!==void 0?t+"-"+e:e}function ooe(e,t){F.useContext(cV).strict}function loe(e){const{drag:t,layout:r}=bp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Uv={};function coe(e){for(const t in e)Uv[t]=e[t],wk(t)&&(Uv[t].isCSSVariable=!0)}function mV(e,{layout:t,layoutId:r}){return lm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Uv[e]||e==="opacity")}const uoe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},foe=om.length;function doe(e,t,r){let n="",a=!0;for(let i=0;i<foe;i++){const s=om[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=nV(o,Dk[s]);if(!l){a=!1;const u=uoe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Uk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(lm.has(l)){s=!0;continue}else if(wk(l)){a[l]=c;continue}else{const u=nV(c,Dk[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=doe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Vk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gV(e,t,r){for(const n in t)!ci(t[n])&&!mV(n,r)&&(e[n]=t[n])}function hoe({transformTemplate:e},t){return F.useMemo(()=>{const r=Vk();return Uk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function poe(e,t){const r=e.style||{},n={};return gV(n,r,e),Object.assign(n,hoe(e,t)),n}function moe(e,t){const r={},n=poe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const goe={offset:"stroke-dashoffset",array:"stroke-dasharray"},voe={offset:"strokeDashoffset",array:"strokeDasharray"};function yoe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?goe:voe;e[i.offset]=_r.transform(-n);const s=_r.transform(t),o=_r.transform(r);e[i.array]=`${s} ${o}`}function vV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Uk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&yoe(d,a,i,s,!1)}const yV=()=>({...Vk(),attrs:{}}),xV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xoe(e,t,r,n){const a=F.useMemo(()=>{const i=yV();return vV(i,t,xV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};gV(i,e.style,e),a.style={...i,...a.style}}return a}const boe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zk(e){return typeof e!="string"||e.includes("-")?!1:!!(boe.indexOf(e)>-1||/[A-Z]/u.test(e))}function woe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(zk(r)?xoe:moe)(n,i,s,r),c=Xse(n,typeof r=="string",e),u=r!==F.Fragment?{...c,...l,ref:a}:{},{children:d}=n,h=F.useMemo(()=>ci(d)?d.get():d,[d]);return F.createElement(r,{...u,children:h})}}function uI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function qk(e,t,r,n){if(typeof t=="function"){const[a,i]=uI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=uI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function d2(e){return ci(e)?e.get():e}function _oe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Soe(r,n,a,e),renderState:t()}}const bV=e=>(t,r)=>{const n=F.useContext(w5),a=F.useContext(y5),i=()=>_oe(e,t,n,a);return r?i():X1(i)};function Soe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=d2(i[h]);let{initial:s,animate:o}=e;const l=S5(e),c=fV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const d=u?o:s;if(d&&typeof d!="boolean"&&!_5(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=qk(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const D=u?b.length-1:0;b=b[D]}b!==null&&(a[w]=b)}for(const w in m)a[w]=m[w]}}}return a}function Wk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ci(n[s])||t.style&&ci(t.style[s])||mV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Aoe={useVisualState:bV({scrapeMotionValuesFromProps:Wk,createRenderState:Vk})};function wV(e,t,r){const n=Wk(e,t,r);for(const a in e)if(ci(e[a])||ci(t[a])){const i=om.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Toe={useVisualState:bV({scrapeMotionValuesFromProps:wV,createRenderState:yV})};function Eoe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...zk(n)?Toe:Aoe,preloadedFeatures:e,useRender:woe(a),createVisualElement:t,Component:n};return ioe(s)}}function Vv(e,t,r){const n=e.getProps();return qk(n,t,r!==void 0?r:n.custom,e)}const y3=e=>Array.isArray(e);function Noe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,lh(r))}function koe(e){return y3(e)?e[e.length-1]||0:e}function Coe(e,t){const r=Vv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=koe(i[s]);Noe(e,s,o)}}function Poe(e){return!!(ci(e)&&e.add)}function x3(e,t){const r=e.getValue("willChange");if(Poe(r))return r.add(t);if(!r&&au.WillChange){const n=new au.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function _V(e){return e.props[dV]}const joe=e=>e!==null;function Ooe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(joe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Ioe={type:"spring",stiffness:500,damping:25,restSpeed:10},Doe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Loe={type:"keyframes",duration:.8},Moe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Roe=(e,{keyframes:t})=>t.length>2?Loe:lm.has(e)?e.startsWith("scale")?Doe(t[1]):Ioe:Moe;function Foe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Hk=(e,t,r,n={},a,i)=>s=>{const o=Ik(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Tl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Foe(o)||Object.assign(u,Roe(e,u)),u.duration&&(u.duration=Tl(u.duration)),u.repeatDelay&&(u.repeatDelay=Tl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(au.instantAnimations||au.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const h=Ooe(u.keyframes,o);if(h!==void 0){na.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Ck(u):new vse(u)};function $oe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Gk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const d=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&$oe(c,u))continue;const p={delay:r,...Ik(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=_V(e);if(y){const w=window.MotionHandoffAnimation(y,u,na);w!==null&&(p.startTime=w,m=!0)}}x3(e,u),d.start(Hk(u,d,h,e.shouldReduceMotion&&QU.has(u)?{type:!1}:p,e,m));const v=d.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{na.update(()=>{s&&Coe(e,s)})}),l}function b3(e,t,r={}){var l;const n=Vv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Gk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return Boe(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Boe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Uoe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(b3(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Uoe(e,t){return e.sortNodePosition(t)}function Voe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>b3(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=b3(e,t,r);else{const a=typeof t=="function"?Vv(e,t,r.custom):t;n=Promise.all(Gk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function SV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const zoe=$k.length;function AV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?AV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<zoe;r++){const n=$k[r],a=e.props[n];(Bv(a)||a===!1)&&(t[n]=a)}return t}const qoe=[...Fk].reverse(),Woe=Fk.length;function Hoe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Voe(e,r,n)))}function Goe(e){let t=Hoe(e),r=fI(),n=!0;const a=l=>(c,u)=>{var h;const d=Vv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=AV(e.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let v=0;v<Woe;v++){const y=qoe[v],w=r[y],b=c[y]!==void 0?c[y]:u[y],D=Bv(b),P=y===l?w.isActive:null;P===!1&&(g=v);let j=b===u[y]&&b!==c[y]&&D;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...p},!w.isActive&&P===null||!b&&!w.prevProp||_5(b)||typeof b=="boolean")continue;const T=Koe(w.prevProp,b);let _=T||y===l&&w.isActive&&!j&&D||v>g&&D,S=!1;const O=Array.isArray(b)?b:[b];let E=O.reduce(a(y),{});P===!1&&(E={});const{prevResolvedValues:N={}}=w,k={...N,...E},U=G=>{_=!0,h.has(G)&&(S=!0,h.delete(G)),w.needsAnimating[G]=!0;const V=e.getValue(G);V&&(V.liveStyle=!1)};for(const G in k){const V=E[G],W=N[G];if(p.hasOwnProperty(G))continue;let te=!1;y3(V)&&y3(W)?te=!SV(V,W):te=V!==W,te?V!=null?U(G):h.add(G):V!==void 0&&h.has(G)?U(G):w.protectedKeys[G]=!0}w.prevProp=b,w.prevResolvedValues=E,w.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(j&&T)||S)&&d.push(...O.map(G=>({animation:G,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Vv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=fI(),n=!0}}}function Koe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SV(t,e):!1}function xd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fI(){return{animate:xd(!0),whileInView:xd(),whileHover:xd(),whileTap:xd(),whileDrag:xd(),whileFocus:xd(),exit:xd()}}class Jf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Yoe extends Jf{constructor(t){super(t),t.animationState||(t.animationState=Goe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Xoe=0;class Qoe extends Jf{constructor(){super(...arguments),this.id=Xoe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Joe={animation:{Feature:Yoe},exit:{Feature:Qoe}};function zv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ey(e){return{point:{x:e.pageX,y:e.pageY}}}const Zoe=e=>t=>Mk(t)&&e(t,ey(t));function Vg(e,t,r,n){return zv(e,t,Zoe(r),n)}function TV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ele({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tle(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const EV=1e-4,rle=1-EV,nle=1+EV,NV=.01,ale=0-NV,ile=0+NV;function ys(e){return e.max-e.min}function sle(e,t,r){return Math.abs(e-t)<=r}function dI(e,t,r,n=.5){e.origin=n,e.originPoint=ta(t.min,t.max,e.origin),e.scale=ys(r)/ys(t),e.translate=ta(r.min,r.max,e.origin)-e.originPoint,(e.scale>=rle&&e.scale<=nle||isNaN(e.scale))&&(e.scale=1),(e.translate>=ale&&e.translate<=ile||isNaN(e.translate))&&(e.translate=0)}function zg(e,t,r,n){dI(e.x,t.x,r.x,n?n.originX:void 0),dI(e.y,t.y,r.y,n?n.originY:void 0)}function hI(e,t,r){e.min=r.min+t.min,e.max=e.min+ys(t)}function ole(e,t,r){hI(e.x,t.x,r.x),hI(e.y,t.y,r.y)}function pI(e,t,r){e.min=t.min-r.min,e.max=e.min+ys(t)}function qg(e,t,r){pI(e.x,t.x,r.x),pI(e.y,t.y,r.y)}const mI=()=>({translate:0,scale:1,origin:0,originPoint:0}),k0=()=>({x:mI(),y:mI()}),gI=()=>({min:0,max:0}),ua=()=>({x:gI(),y:gI()});function Po(e){return[e("x"),e("y")]}function NS(e){return e===void 0||e===1}function w3({scale:e,scaleX:t,scaleY:r}){return!NS(e)||!NS(t)||!NS(r)}function Ad(e){return w3(e)||kV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kV(e){return vI(e.x)||vI(e.y)}function vI(e){return e&&e!=="0%"}function gb(e,t,r){const n=e-r,a=t*n;return r+a}function yI(e,t,r,n,a){return a!==void 0&&(e=gb(e,a,n)),gb(e,r,n)+t}function _3(e,t=0,r=1,n,a){e.min=yI(e.min,t,r,n,a),e.max=yI(e.max,t,r,n,a)}function CV(e,{x:t,y:r}){_3(e.x,t.translate,t.scale,t.originPoint),_3(e.y,r.translate,r.scale,r.originPoint)}const xI=.999999999999,bI=1.0000000000001;function lle(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&P0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,CV(e,s)),n&&Ad(i.latestValues)&&P0(e,i.latestValues))}t.x<bI&&t.x>xI&&(t.x=1),t.y<bI&&t.y>xI&&(t.y=1)}function C0(e,t){e.min=e.min+t,e.max=e.max+t}function wI(e,t,r,n,a=.5){const i=ta(e.min,e.max,a);_3(e,t,r,i,n)}function P0(e,t){wI(e.x,t.x,t.scaleX,t.scale,t.originX),wI(e.y,t.y,t.scaleY,t.scale,t.originY)}function PV(e,t){return TV(tle(e.getBoundingClientRect(),t))}function cle(e,t,r){const n=PV(e,r),{scroll:a}=t;return a&&(C0(n.x,a.offset.x),C0(n.y,a.offset.y)),n}const jV=({current:e})=>e?e.ownerDocument.defaultView:null,_I=(e,t)=>Math.abs(e-t);function ule(e,t){const r=_I(e.x,t.x),n=_I(e.y,t.y);return Math.sqrt(r**2+n**2)}class OV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=CS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=ule(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=wi;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=kS(h,this.transformPagePoint),na.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=CS(d.type==="pointercancel"?this.lastMoveEventInfo:kS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),g&&g(d,v)},!Mk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=ey(t),o=kS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=wi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,CS(o,this.history)),this.removeListeners=Q1(Vg(this.contextWindow,"pointermove",this.handlePointerMove),Vg(this.contextWindow,"pointerup",this.handlePointerUp),Vg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),iu(this.updatePoint)}}function kS(e,t){return t?{point:t(e.point)}:e}function SI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CS({point:e},t){return{point:e,delta:SI(e,IV(t)),offset:SI(e,fle(t)),velocity:dle(t,.1)}}function fle(e){return e[0]}function IV(e){return e[e.length-1]}function dle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=IV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Tl(t)));)r--;if(!n)return{x:0,y:0};const i=tc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function hle(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ta(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ta(r,e,n.max):Math.min(e,r)),e}function AI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ple(e,{top:t,left:r,bottom:n,right:a}){return{x:AI(e.x,r,a),y:AI(e.y,t,n)}}function TI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function mle(e,t){return{x:TI(e.x,t.x),y:TI(e.y,t.y)}}function gle(e,t){let r=.5;const n=ys(e),a=ys(t);return a>n?r=xp(t.min,t.max-n,e.min):n>a&&(r=xp(e.min,e.max-a,t.min)),nu(0,1,r)}function vle(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const S3=.35;function yle(e=S3){return e===!1?e=0:e===!0&&(e=S3),{x:EI(e,"left","right"),y:EI(e,"top","bottom")}}function EI(e,t,r){return{min:NI(e,t),max:NI(e,r)}}function NI(e,t){return typeof e=="number"?e:e[t]||0}const xle=new WeakMap;class ble{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ua(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ey(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Po(v=>{let y=this.getAxisMotionValue(v).get()||0;if(rc.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(y=ys(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&na.postRender(()=>g(u,d)),x3(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=wle(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Po(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new OV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&na.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!px(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=hle(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&N0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ple(n.layoutBox,t):this.constraints=!1,this.elastic=yle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Po(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=vle(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!N0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=cle(n,a.root,this.visualElement.getTransformPagePoint());let s=mle(a.layout.layoutBox,i);if(r){const o=r(ele(s));this.hasMutatedConstraints=!!o,o&&(s=TV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Po(u=>{if(!px(u,r,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return x3(this.visualElement,t),n.start(Hk(t,n,0,r,this.visualElement,!1))}stopAnimation(){Po(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Po(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Po(r=>{const{drag:n}=this.getProps();if(!px(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-ta(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!N0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Po(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=gle({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Po(s=>{if(!px(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(ta(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;xle.set(this.visualElement,this);const t=this.visualElement.current,r=Vg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();N0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),na.read(n);const s=zv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Po(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=S3,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function px(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function wle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class _le extends Jf{constructor(t){super(t),this.removeGroupControls=Fo,this.removeListeners=Fo,this.controls=new ble(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fo}unmount(){this.removeGroupControls(),this.removeListeners()}}const kI=e=>(t,r)=>{e&&na.postRender(()=>e(t,r))};class Sle extends Jf{constructor(){super(...arguments),this.removePointerDownListener=Fo}onPointerDown(t){this.session=new OV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:kI(t),onStart:kI(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&na.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Vg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const h2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_r.test(e))e=parseFloat(e);else return e;const r=CI(e,t.target.x),n=CI(e,t.target.y);return`${r}% ${n}%`}},Ale={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Vf.parse(e);if(a.length>5)return n;const i=Vf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=ta(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class Tle extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;coe(Ele),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),h2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||na.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DV(e){const[t,r]=lV(),n=F.useContext(hk);return f.jsx(Tle,{...e,layoutGroup:n,switchLayoutGroup:F.useContext(hV),isPresent:t,safeToRemove:r})}const Ele={borderRadius:{...Gm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gm,borderTopRightRadius:Gm,borderBottomLeftRadius:Gm,borderBottomRightRadius:Gm,boxShadow:Ale};function LV(e,t,r){const n=ci(e)?e:lh(e);return n.start(Hk("",n,t,r)),n.animation}const Nle=(e,t)=>e.depth-t.depth;class kle{constructor(){this.children=[],this.isDirty=!1}add(t){gk(this.children,t),this.isDirty=!0}remove(t){x5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Nle),this.isDirty=!1,this.children.forEach(t)}}function Cle(e,t){const r=Rs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(iu(n),e(i-t))};return na.setup(n,!0),()=>iu(n)}const MV=["TopLeft","TopRight","BottomLeft","BottomRight"],Ple=MV.length,PI=e=>typeof e=="string"?parseFloat(e):e,jI=e=>typeof e=="number"||_r.test(e);function jle(e,t,r,n,a,i){a?(e.opacity=ta(0,r.opacity??1,Ole(n)),e.opacityExit=ta(t.opacity??1,0,Ile(n))):i&&(e.opacity=ta(t.opacity??1,r.opacity??1,n));for(let s=0;s<Ple;s++){const o=`border${MV[s]}Radius`;let l=OI(t,o),c=OI(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jI(l)===jI(c)?(e[o]=Math.max(ta(PI(l),PI(c),n),0),(rc.test(c)||rc.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ta(t.rotate||0,r.rotate||0,n))}function OI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ole=RV(0,.5,SU),Ile=RV(.5,.95,Fo);function RV(e,t,r){return n=>n<e?0:n>t?1:r(xp(e,t,n))}function II(e,t){e.min=t.min,e.max=t.max}function So(e,t){II(e.x,t.x),II(e.y,t.y)}function DI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function LI(e,t,r,n,a){return e-=t,e=gb(e,1/r,n),a!==void 0&&(e=gb(e,1/a,n)),e}function Dle(e,t=0,r=1,n=.5,a,i=e,s=e){if(rc.test(t)&&(t=parseFloat(t),t=ta(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=ta(i.min,i.max,n);e===i&&(o-=t),e.min=LI(e.min,t,r,o,a),e.max=LI(e.max,t,r,o,a)}function MI(e,t,[r,n,a],i,s){Dle(e,t[r],t[n],t[a],t.scale,i,s)}const Lle=["x","scaleX","originX"],Mle=["y","scaleY","originY"];function RI(e,t,r,n){MI(e.x,t,Lle,r?r.x:void 0,n?n.x:void 0),MI(e.y,t,Mle,r?r.y:void 0,n?n.y:void 0)}function FI(e){return e.translate===0&&e.scale===1}function FV(e){return FI(e.x)&&FI(e.y)}function $I(e,t){return e.min===t.min&&e.max===t.max}function Rle(e,t){return $I(e.x,t.x)&&$I(e.y,t.y)}function BI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $V(e,t){return BI(e.x,t.x)&&BI(e.y,t.y)}function UI(e){return ys(e.x)/ys(e.y)}function VI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fle{constructor(){this.members=[]}add(t){gk(this.members,t),t.scheduleRender()}remove(t){if(x5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $le(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const PS=["","X","Y","Z"],Ble={visibility:"hidden"},Ule=1e3;let Vle=0;function jS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function BV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=_V(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",na,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&BV(n)}function UV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Vle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wle),this.nodes.forEach(Xle),this.nodes.forEach(Qle),this.nodes.forEach(Hle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new kle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new yk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Rk(s)&&!oV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Cle(d,250),h2.hasAnimatedSinceResize&&(h2.hasAnimatedSinceResize=!1,this.nodes.forEach(qI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||rce,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!$V(this.targetLayout,p),w=!d&&h;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const b={...Ik(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else d||qI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zI);return}this.isUpdating||this.nodes.forEach(Kle),this.isUpdating=!1,this.nodes.forEach(Yle),this.nodes.forEach(zle),this.nodes.forEach(qle),this.clearAllSnapshots();const o=Rs.now();wi.delta=nu(0,1e3/60,o-wi.timestamp),wi.timestamp=o,wi.isProcessing=!0,wS.update.process(wi),wS.preRender.process(wi),wS.render.process(wi),wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gle),this.sharedNodes.forEach(Zle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,na.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){na.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ua(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!FV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Ad(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),nce(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ua();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ace))){const{scroll:u}=this.root;u&&(C0(o.x,u.offset.x),C0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ua();if(So(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&So(o,s),C0(o.x,d.offset.x),C0(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=ua();So(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&P0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ad(u.latestValues)&&P0(l,u.latestValues)}return Ad(this.latestValues)&&P0(l,this.latestValues),l}removeTransform(s){const o=ua();So(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ad(c.latestValues))continue;w3(c.latestValues)&&c.updateSnapshot();const u=ua(),d=c.measurePageBox();So(u,d),RI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ad(this.latestValues)&&RI(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=wi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),qg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ua(),this.targetWithTransforms=ua()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ole(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):So(this.target,this.layout.layoutBox),CV(this.target,this.targetDelta)):So(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ua(),this.relativeTargetOrigin=ua(),qg(this.relativeTargetOrigin,this.target,p.target),So(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w3(this.parent.latestValues)||kV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;So(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;lle(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ua());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DI(this.prevProjectionDelta.x,this.projectionDelta.x),DI(this.prevProjectionDelta.y,this.projectionDelta.y)),zg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!VI(this.projectionDelta.x,this.prevProjectionDelta.x)||!VI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=k0(),this.projectionDelta=k0(),this.projectionDeltaWithTransform=k0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=k0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ua(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(tce));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const P=D/1e3;WI(d.x,s.x,P),WI(d.y,s.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ece(this.relativeTarget,this.relativeTargetOrigin,h,P),b&&Rle(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ua()),So(b,this.relativeTarget)),m&&(this.animationValues=u,jle(u,c,this.latestValues,P,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=na.update(()=>{h2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lh(0)),this.currentAnimation=LV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ule),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&VV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ua();const d=ys(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ys(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}So(o,l),P0(o,u),zg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Fle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&jS("z",s,c,this.animationValues);for(let u=0;u<PS.length;u++)jS(`rotate${PS[u]}`,s,c,this.animationValues),jS(`skew${PS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ble;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=d2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=d2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ad(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=$le(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Uv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Uv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const w=m.length;for(let b=0;b<w;b++)o[m[b]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?d2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(zI),this.root.sharedNodes.clear()}}}function zle(e){e.updateLayout()}function qle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Po(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ys(h);h.min=n[d].min,h.max=h.min+p}):VV(i,t.layoutBox,n)&&Po(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ys(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=k0();zg(o,n,t.layoutBox);const l=k0();s?zg(l,e.applyTransform(a,!0),t.measuredBox):zg(l,n,t.layoutBox);const c=!FV(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=ua();qg(g,t.layoutBox,h.layoutBox);const m=ua();qg(m,n,p.layoutBox),$V(g,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Wle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Gle(e){e.clearSnapshot()}function zI(e){e.clearMeasurements()}function Kle(e){e.isLayoutDirty=!1}function Yle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xle(e){e.resolveTargetDelta()}function Qle(e){e.calcProjection()}function Jle(e){e.resetSkewAndRotation()}function Zle(e){e.removeLeadSnapshot()}function WI(e,t,r){e.translate=ta(t.translate,0,r),e.scale=ta(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function HI(e,t,r,n){e.min=ta(t.min,r.min,n),e.max=ta(t.max,r.max,n)}function ece(e,t,r,n){HI(e.x,t.x,r.x,n),HI(e.y,t.y,r.y,n)}function tce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rce={duration:.45,ease:[.4,0,.1,1]},GI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KI=GI("applewebkit/")&&!GI("chrome/")?Math.round:Fo;function YI(e){e.min=KI(e.min),e.max=KI(e.max)}function nce(e){YI(e.x),YI(e.y)}function VV(e,t,r){return e==="position"||e==="preserve-aspect"&&!sle(UI(t),UI(r),.2)}function ace(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ice=UV({attachResizeListener:(e,t)=>zv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OS={current:void 0},zV=UV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!OS.current){const e=new ice({});e.mount(window),e.setOptions({layoutScroll:!0}),OS.current=e}return OS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sce={pan:{Feature:Sle},drag:{Feature:_le,ProjectionNode:zV,MeasureLayout:DV}};function XI(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&na.postRender(()=>i(t,ey(t)))}class oce extends Jf{mount(){const{current:t}=this.node;t&&(this.unmount=Lse(t,(r,n)=>(XI(this.node,n,"Start"),a=>XI(this.node,a,"End"))))}unmount(){}}class lce extends Jf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Q1(zv(this.node.current,"focus",()=>this.onFocus()),zv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QI(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&na.postRender(()=>i(t,ey(t)))}class cce extends Jf{mount(){const{current:t}=this.node;t&&(this.unmount=$se(t,(r,n)=>(QI(this.node,n,"Start"),(a,{success:i})=>QI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A3=new WeakMap,IS=new WeakMap,uce=e=>{const t=A3.get(e.target);t&&t(e)},fce=e=>{e.forEach(uce)};function dce({root:e,...t}){const r=e||document;IS.has(r)||IS.set(r,{});const n=IS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(fce,{root:e,...t})),n[a]}function hce(e,t,r){const n=dce(t);return A3.set(e,r),n.observe(e),()=>{A3.delete(e),n.unobserve(e)}}const pce={some:0,all:1};class mce extends Jf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:pce[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return hce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(gce(t,r))&&this.startObserver()}unmount(){}}function gce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const vce={inView:{Feature:mce},tap:{Feature:cce},focus:{Feature:lce},hover:{Feature:oce}},yce={layout:{ProjectionNode:zV,MeasureLayout:DV}},T3={current:null},qV={current:!1};function xce(){if(qV.current=!0,!!pk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T3.current=e.matches;e.addListener(t),t()}else T3.current=!1}const qv=new WeakMap;function bce(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ci(a))e.addValue(n,a);else if(ci(i))e.addValue(n,lh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,lh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const JI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Rs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,na.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=S5(r),this.isVariantNode=fV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&ci(p)&&p.set(l[h],!1)}}mount(t){this.current=t,qv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),qV.current||xce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),iu(this.notifyUpdate),iu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=lm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&na.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bp){const r=bp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ua()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<JI.length;n++){const a=JI[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=bce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=lh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(hU(n)||mU(n))?n=parseFloat(n):!Vse(n)&&Vf.test(r)&&(n=tV(t,r)),this.setBaseTarget(t,ci(n)?n.get():n)),ci(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=qk(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ci(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new yk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class HV extends WV{constructor(){super(...arguments),this.KeyframeResolver=jse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ci(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function GV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function wce(e){return window.getComputedStyle(e)}class KV extends HV{constructor(){super(...arguments),this.type="html",this.renderInstance=GV}readValueFromInstance(t,r){var n;if(lm.has(r))return(n=this.projection)!=null&&n.isProjecting?d3(r):Kie(t,r);{const a=wce(t),i=(wk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return PV(t,r)}build(t,r,n){Uk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Wk(t,r,n)}}const YV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _ce(e,t,r,n){GV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(YV.has(a)?a:Bk(a),t.attrs[a])}class XV extends HV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ua}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(lm.has(r)){const n=eV(r);return n&&n.default||0}return r=YV.has(r)?r:Bk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return wV(t,r,n)}build(t,r,n){vV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){_ce(t,r,n,a)}mount(t){this.isSVGTag=xV(t.tagName),super.mount(t)}}const Sce=(e,t)=>zk(e)?new XV(t):new KV(t,{allowProjection:e!==F.Fragment}),Ace=Eoe({...Joe,...vce,...sce,...yce},Sce),Gn=Qse(Ace);function E3(e){const t=X1(()=>lh(e)),{isStatic:r}=F.useContext(b5);if(r){const[,n]=F.useState(e);F.useEffect(()=>t.on("change",n),[])}return t}function QV(e,t){const r=E3(t()),n=()=>r.set(t());return n(),mk(()=>{const a=()=>na.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),iu(n)}}),r}function Tce(e){Ug.current=[],e();const t=QV(Ug.current,e);return Ug.current=void 0,t}function ZI(e,t,r,n){if(typeof e=="function")return Tce(e);const a=typeof t=="function"?t:Bse(t,r,n);return Array.isArray(e)?eD(e,a):eD([e],([i])=>a(i))}function eD(e,t){const r=X1(()=>[]);return QV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Kk(e){return typeof e=="object"&&!Array.isArray(e)}function JV(e,t,r,n){return typeof e=="string"&&Kk(t)?rV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Ece(e,t,r){return e*(t+1)}function tD(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Nce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(x5(e,a),n--)}}function kce(e,t,r,n,a,i){Nce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:ta(a,i,n[s]),easing:NU(r,s)})}function Cce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Pce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const jce="easeInOut";function Oce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,d=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,d);continue}else if(!Array.isArray(g)){c.set(g.name,tD(d,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(d=tD(d,y.at,u,c));let w=0;const b=(D,P,j,T=0,_=0)=>{const S=Ice(D),{delay:O=0,times:E=zU(S),type:N="keyframes",repeat:k,repeatType:U,repeatDelay:X=0,...z}=P;let{ease:G=t.ease||"easeOut",duration:V}=P;const W=typeof O=="function"?O(T,_):O,te=S.length,Z=jk(N)?N:a==null?void 0:a[N];if(te<=2&&Z){let Y=100;if(te===2&&Mce(S)){const fe=S[1]-S[0];Y=Math.abs(fe)}const J={...z};V!==void 0&&(J.duration=Tl(V));const ie=$U(J,Y,Z);G=ie.ease,V=ie.duration}V??(V=i);const I=d+W;E.length===1&&E[0]===0&&(E[1]=1);const M=E.length-S.length;if(M>0&&VU(E,M),S.length===1&&S.unshift(null),k){V=Ece(V,k);const Y=[...S],J=[...E];G=Array.isArray(G)?[...G]:[G];const ie=[...G];for(let fe=0;fe<k;fe++){S.push(...Y);for(let ae=0;ae<Y.length;ae++)E.push(J[ae]+(fe+1)),G.push(ae===0?"linear":NU(ie,ae-1))}Cce(E,k)}const q=I+V;kce(j,S,G,E,I,q),w=Math.max(W+V,w),h=Math.max(q,h)};if(ci(m)){const D=rD(m,o);b(v,y,nD("default",D))}else{const D=JV(m,v,n,l),P=D.length;for(let j=0;j<P;j++){v=v,y=y;const T=D[j],_=rD(T,o);for(const S in v)b(v[S],Dce(y,S),nD(S,_),j,P)}}u=d,d+=w}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(Pce);const y=[],w=[],b=[];for(let P=0;P<v.length;P++){const{at:j,value:T,easing:_}=v[P];y.push(T),w.push(xp(0,h,j)),b.push(_||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),b.unshift(jce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=y,D.transition[m]={...t,duration:h,ease:b,times:w,...r}}}),s}function rD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function nD(e,t){return t[e]||(t[e]=[]),t[e]}function Ice(e){return Array.isArray(e)?e:[e]}function Dce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Lce=e=>typeof e=="number",Mce=e=>e.every(Lce);function Rce(e,t){return e in t}class Fce extends WV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Rce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ua()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function $ce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Rk(e)&&!oV(e)?new XV(t):new KV(t);r.mount(e),qv.set(e,r)}function Bce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Fce(t);r.mount(e),qv.set(e,r)}function Uce(e,t){return ci(e)||typeof e=="number"||typeof e=="string"&&!Kk(t)}function ZV(e,t,r,n){const a=[];if(Uce(e,t))a.push(LV(e,Kk(t)&&t.default||t,r&&(r.default||r)));else{const i=JV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?$ce:Bce;qv.has(l)||c(l);const u=qv.get(l),d={...r};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,s)),a.push(...Gk(u,{...t,transition:d},{}))}}return a}function Vce(e,t,r){const n=[];return Oce(e,t,r,{spring:$v}).forEach(({keyframes:i,transition:s},o)=>{n.push(...ZV(o,i,s))}),n}function zce(e){return Array.isArray(e)&&e.some(Array.isArray)}function qce(e){function t(r,n,a){let i=[];return zce(r)?i=Vce(r,n,e):i=ZV(r,n,a,e),new xse(i)}return t}const aD=qce(),Wce=()=>{const{user:e,logout:t}=ga(),r=Jp(),{isDarkMode:n}=an(),[a,i]=F.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},d=[{to:"/",icon:f.jsx(RZ,{size:20}),label:"Dashboard",roles:["admin","manager"]},{to:"/add",icon:f.jsx(fi,{size:20}),label:"Add",roles:["admin","manager","staff"]},{to:"/stock",icon:f.jsx(M4,{size:20}),label:"Inbound",roles:["admin","manager","staff"]},{to:"/outbound-stock",icon:f.jsx(UZ,{size:20}),label:"Outbound",roles:["admin","manager","staff"]},{to:"/inventory",icon:f.jsx(PZ,{size:20}),label:"Inventory",roles:["admin","manager"]},{to:"/jobs",icon:f.jsx(h9,{size:20}),label:"Jobs",roles:["admin","manager","staff"]},{to:"/warehouse-locations",icon:f.jsx(wN,{size:20}),label:"Locations",roles:["admin","manager","staff"]},{to:"/orders",icon:f.jsx(qZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:f.jsx(d9,{size:20}),label:"Reports",roles:["admin","manager","staff"]},{to:"/warehouse-operations",icon:f.jsx(kZ,{size:20}),label:"Logs",roles:["admin","manager","staff"]},{to:"/settings",icon:f.jsx(zZ,{size:20}),label:"Settings",roles:["admin","manager","staff"]},{to:"/supply-serve",icon:f.jsx(M4,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?d.filter(p=>p.roles.includes(e.role)):[];return f.jsxs(Gn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[f.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx(Gn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:f.jsx(uS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:f.jsx(Gn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),f.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:f.jsx("div",{className:"group relative",children:f.jsx(uS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>f.jsxs(f.Fragment,{children:[f.jsx(Gn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),f.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),f.jsxs("div",{className:"flex items-center gap-4",children:[e&&f.jsxs(Gn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsx(Gn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(Tj,{size:20})})]}),f.jsx(Gn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?f.jsx(fp,{size:24}):f.jsx(BZ,{size:24})})]})]})}),f.jsx(f2,{children:a&&f.jsx(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:f.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:f.jsx(uS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:f.jsxs(Gn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,f.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),f.jsx(Gn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),f.jsxs(Gn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(Tj,{size:18}),f.jsx("span",{children:"Logout"})]})]})})]})})})]})},Hce=()=>{const{isAuthenticated:e}=ga(),t=Jp(),{isDarkMode:r}=an();return Ue.useEffect(()=>{e||t("/login")},[e,t]),e?f.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[f.jsx(Wce,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:f.jsx(cZ,{})})]}):null},ez=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=F.useState(!1),[s,o]=F.useState(!1);F.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const d=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(d)},[n,r]);const l={success:f.jsx(D4,{className:"text-green-500",size:20}),error:f.jsx(Ej,{className:"text-red-500",size:20}),warning:f.jsx(ih,{className:"text-yellow-500",size:20}),info:f.jsx(MZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return f.jsx("div",{className:"fixed top-4 right-4 z-50",children:f.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],f.jsx("p",{className:"text-sm font-medium",children:e}),f.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:f.jsx(Ej,{size:18})})]})})},tz=F.createContext(void 0),cc=()=>{const e=F.useContext(tz);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Gce=({children:e})=>{const[t,r]=F.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return f.jsxs(tz.Provider,{value:{showToast:n},children:[e,t&&f.jsx(ez,{message:t.message,type:t.type,onClose:a})]})},jt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=an(),l=i??o;return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsxs("div",{className:"relative",children:[r&&f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ue.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),f.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Xu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=F.useState(!1),{isDarkMode:l}=an(),c=a??l,u=()=>{o(!s)};return f.jsxs("div",{className:"relative",children:[f.jsx(jt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),f.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?f.jsx(LZ,{size:18}):f.jsx(L4,{size:18})})]})},at=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return f.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Kce=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ga(),{showToast:u}=cc(),{isDarkMode:d,toggleDarkMode:h}=an(),p=Jp();F.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return f.jsxs("div",{className:`min-h-screen flex overflow-hidden ${d?"bg-slate-900":"bg-slate-100"}`,children:[f.jsx(Gn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"max-w-md p-8 text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),f.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),f.jsx(Gn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[f.jsx(VZ,{size:48,className:"mx-auto text-blue-600"}),f.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"AZTEC"}),f.jsx("p",{className:d?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),f.jsxs("div",{className:`${d?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"Welcome back"}),f.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${d?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?f.jsx(y9,{size:20}):f.jsx(g9,{size:20})})]}),a&&f.jsx(Gn.div,{className:`${d?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsx(jt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:f.jsx(R4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:d}),f.jsx(Xu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:d}),f.jsx(at,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Wa=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=an(),i=E3(0),s=E3(0),o=ZI(i,Math.round),l=ZI(s,Math.round);return Ue.useEffect(()=>{if(typeof t=="number"){const c=aD(i,t,{duration:1});if(n){const u=aD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),f.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),f.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?f.jsx(Gn.span,{children:o}):t}),n&&f.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||f.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),f.jsx(Gn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&f.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),f.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},df=()=>{const{isDarkMode:e}=an();return f.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),f.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:f.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},Zh=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=an();return f.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&f.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:f.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),f.jsx("div",{className:"p-6",children:t})]})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function rs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function $r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fr(e){$r(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||pn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Yce(e,t){$r(2,arguments);var r=Fr(e),n=rs(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function rz(e,t){$r(2,arguments);var r=Fr(e),n=rs(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function nz(e,t){$r(2,arguments);var r=Fr(e).getTime(),n=rs(t);return new Date(r+n)}var Xce=36e5;function Qce(e,t){$r(2,arguments);var r=rs(t);return nz(e,r*Xce)}var Jce={};function _h(){return Jce}function Zce(e,t){var r,n,a,i,s,o;$r(1,arguments);var l=_h(),c=rs((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Fr(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function N3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function wp(e){$r(1,arguments);var t=Fr(e);return t.setHours(0,0,0,0),t}function p2(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var az=6e4,iz=36e5;function iD(e,t){$r(2,arguments);var r=wp(e),n=wp(t);return r.getTime()===n.getTime()}function eue(e){return $r(1,arguments),e instanceof Date||pn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tue(e){if($r(1,arguments),!eue(e)&&typeof e!="number")return!1;var t=Fr(e);return!isNaN(Number(t))}function rue(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function nue(e,t){return $r(2,arguments),Fr(e).getTime()-Fr(t).getTime()}var sD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},aue="trunc";function iue(e){return e?sD[e]:sD[aue]}function Wv(e){$r(1,arguments);var t=Fr(e);return t.setHours(23,59,59,999),t}function sz(e){$r(1,arguments);var t=Fr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function sue(e){$r(1,arguments);var t=Fr(e);return Wv(t).getTime()===sz(t).getTime()}function oue(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t),a=p2(r,n),i=Math.abs(rue(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=p2(r,n)===-a;sue(Fr(e))&&i===1&&p2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function lue(e,t,r){$r(2,arguments);var n=nue(e,t)/1e3;return iue(void 0)(n)}function cue(e,t){var r;$r(1,arguments);var n=e||{},a=Fr(n.start),i=Fr(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push(Fr(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function uue(e){$r(1,arguments);var t=Fr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function fue(e,t){var r,n,a,i,s,o;$r(1,arguments);var l=_h(),c=rs((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Fr(e),d=u.getDay(),h=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function due(e,t){$r(2,arguments);var r=rs(t);return nz(e,-r)}var hue=864e5;function pue(e){$r(1,arguments);var t=Fr(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/hue)+1}function vb(e){$r(1,arguments);var t=1,r=Fr(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function oz(e){$r(1,arguments);var t=Fr(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=vb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=vb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function mue(e){$r(1,arguments);var t=oz(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=vb(r);return n}var gue=6048e5;function vue(e){$r(1,arguments);var t=Fr(e),r=vb(t).getTime()-mue(t).getTime();return Math.round(r/gue)+1}function yb(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=_h(),d=rs((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fr(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function lz(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=Fr(e),d=u.getUTCFullYear(),h=_h(),p=rs((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var m=yb(g,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var y=yb(v,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function yue(e,t){var r,n,a,i,s,o,l,c;$r(1,arguments);var u=_h(),d=rs((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=lz(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var g=yb(p,t);return g}var xue=6048e5;function bue(e,t){$r(1,arguments);var r=Fr(e),n=yb(r,t).getTime()-yue(r,t).getTime();return Math.round(n/xue)+1}function wn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Wu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return wn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):wn(n+1,2)},d:function(t,r){return wn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return wn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return wn(t.getUTCHours(),r.length)},m:function(t,r){return wn(t.getUTCMinutes(),r.length)},s:function(t,r){return wn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return wn(i,r.length)}},e0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Wu.y(t,r)},Y:function(t,r,n,a){var i=lz(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return wn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):wn(s,r.length)},R:function(t,r){var n=oz(t);return wn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return wn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return wn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return wn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Wu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return wn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=bue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):wn(i,r.length)},I:function(t,r,n){var a=vue(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):wn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Wu.d(t,r)},D:function(t,r,n){var a=pue(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):wn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return wn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return wn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return wn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=e0.noon:a===0?i=e0.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=e0.evening:a>=12?i=e0.afternoon:a>=4?i=e0.morning:i=e0.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Wu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Wu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):wn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Wu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Wu.s(t,r)},S:function(t,r){return Wu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return lD(s);case"XXXX":case"XX":return Td(s);case"XXXXX":case"XXX":default:return Td(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return lD(s);case"xxxx":case"xx":return Td(s);case"xxxxx":case"xxx":default:return Td(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+oD(s,":");case"OOOO":default:return"GMT"+Td(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+oD(s,":");case"zzzz":default:return"GMT"+Td(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return wn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return wn(s,r.length)}};function oD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+wn(i,2)}function lD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+wn(Math.abs(e)/60,2)}return Td(e,t)}function Td(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=wn(Math.floor(a/60),2),s=wn(a%60,2);return n+i+r+s}var cD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},cz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},_ue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return cD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",cD(a,r)).replace("{{time}}",cz(i,r))},Sue={p:cz,P:_ue},Aue=["D","DD"],Tue=["YY","YYYY"];function Eue(e){return Aue.indexOf(e)!==-1}function Nue(e){return Tue.indexOf(e)!==-1}function uD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cue=function(t,r,n){var a,i=kue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function DS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Pue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iue={date:DS({formats:Pue,defaultWidth:"full"}),time:DS({formats:jue,defaultWidth:"full"}),dateTime:DS({formats:Oue,defaultWidth:"full"})},Due={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lue=function(t,r,n,a){return Due[t]};function Km(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Mue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$ue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zue={ordinalNumber:Vue,era:Km({values:Mue,defaultWidth:"wide"}),quarter:Km({values:Rue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Km({values:Fue,defaultWidth:"wide"}),day:Km({values:$ue,defaultWidth:"wide"}),dayPeriod:Km({values:Bue,defaultWidth:"wide",formattingValues:Uue,defaultFormattingWidth:"wide"})};function Ym(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Wue(o,function(d){return d.test(s)}):que(o,function(d){return d.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function que(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Wue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Hue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var Gue=/^(\d+)(th|st|nd|rd)?/i,Kue=/\d+/i,Yue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xue={any:[/^b/i,/^(a|c)/i]},Que={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jue={any:[/1/i,/2/i,/3/i,/4/i]},Zue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},efe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},afe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ife={ordinalNumber:Hue({matchPattern:Gue,parsePattern:Kue,valueCallback:function(t){return parseInt(t,10)}}),era:Ym({matchPatterns:Yue,defaultMatchWidth:"wide",parsePatterns:Xue,defaultParseWidth:"any"}),quarter:Ym({matchPatterns:Que,defaultMatchWidth:"wide",parsePatterns:Jue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ym({matchPatterns:Zue,defaultMatchWidth:"wide",parsePatterns:efe,defaultParseWidth:"any"}),day:Ym({matchPatterns:tfe,defaultMatchWidth:"wide",parsePatterns:rfe,defaultParseWidth:"any"}),dayPeriod:Ym({matchPatterns:nfe,defaultMatchWidth:"any",parsePatterns:afe,defaultParseWidth:"any"})},uz={code:"en-US",formatDistance:Cue,formatLong:Iue,formatRelative:Lue,localize:zue,match:ife,options:{weekStartsOn:0,firstWeekContainsDate:1}},sfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ofe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lfe=/^'([^]*?)'?$/,cfe=/''/g,ufe=/[a-zA-Z]/;function qt(e,t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v;$r(2,arguments);var y=String(t),w=_h(),b=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:uz,D=rs((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=rs((d=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var j=Fr(e);if(!tue(j))throw new RangeError("Invalid time value");var T=N3(j),_=due(j,T),S={firstWeekContainsDate:D,weekStartsOn:P,locale:b,_originalDate:j},O=y.match(ofe).map(function(E){var N=E[0];if(N==="p"||N==="P"){var k=Sue[N];return k(E,b.formatLong)}return E}).join("").match(sfe).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return ffe(E);var k=wue[N];if(k)return Nue(E)&&uD(E,t,String(e)),Eue(E)&&uD(E,t,String(e)),k(_,E,b.localize,S);if(N.match(ufe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return O}function ffe(e){var t=e.match(lfe);return t?t[1].replace(cfe,"'"):e}function fz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function dfe(e){return fz({},e)}var fD=1440,hfe=2520,LS=43200,pfe=86400;function mfe(e,t,r){var n,a;$r(2,arguments);var i=_h(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:uz;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=p2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=fz(dfe(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=Fr(t),u=Fr(e)):(c=Fr(e),u=Fr(t));var d=lue(u,c),h=(N3(u)-N3(c))/1e3,p=Math.round((d-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<fD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<hfe)return s.formatDistance("xDays",1,l);if(p<LS){var v=Math.round(p/fD);return s.formatDistance("xDays",v,l)}else if(p<pfe)return g=Math.round(p/LS),s.formatDistance("aboutXMonths",g,l)}if(g=oue(u,c),g<12){var y=Math.round(p/LS);return s.formatDistance("xMonths",y,l)}else{var w=g%12,b=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",b,l):w<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function gfe(e,t){return $r(1,arguments),mfe(e,Date.now(),t)}function dD(e,t){$r(2,arguments);var r=Fr(e),n=Fr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function hD(e,t){$r(2,arguments);var r=Fr(e).getTime(),n=Fr(t.start).getTime(),a=Fr(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Mr(e,t){$r(2,arguments);var r=rs(t);return Yce(e,-r)}function vfe(e,t){var r;$r(1,arguments);var n=rs((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=wfe(e),i;if(a.date){var s=_fe(a.date,n);i=Sfe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Afe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Tfe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(o+l+c)}var mx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wfe(e){var t={},r=e.split(mx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],mx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=mx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function _fe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Sfe(e,t){if(t===null)return new Date(NaN);var r=e.match(yfe);if(!r)return new Date(NaN);var n=!!r[4],a=Xm(r[1]),i=Xm(r[2])-1,s=Xm(r[3]),o=Xm(r[4]),l=Xm(r[5])-1;if(n)return Pfe(t,o,l)?Efe(t,o,l):new Date(NaN);var c=new Date(0);return!kfe(t,i,s)||!Cfe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Xm(e){return e?parseInt(e):1}function Afe(e){var t=e.match(xfe);if(!t)return NaN;var r=MS(t[1]),n=MS(t[2]),a=MS(t[3]);return jfe(r,n,a)?r*iz+n*az+a*1e3:NaN}function MS(e){return e&&parseFloat(e.replace(",","."))||0}function Tfe(e){if(e==="Z")return 0;var t=e.match(bfe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Ofe(n,a)?r*(n*iz+a*az):NaN}function Efe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Nfe=[31,null,31,30,31,30,31,31,30,31,30,31];function dz(e){return e%400===0||e%4===0&&e%100!==0}function kfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Nfe[t]||(dz(e)?29:28))}function Cfe(e,t){return t>=1&&t<=(dz(e)?366:365)}function Pfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function jfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ofe(e,t){return t>=0&&t<=59}function Ife(e,t){$r(2,arguments);var r=rs(t);return rz(e,-r)}function pD(e,t){$r(2,arguments);var r=rs(t);return Qce(e,-r)}const Fs=e=>(e==null?void 0:e.role)==="admin",RS=e=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager",mD=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState([]),[s,o]=F.useState([]),[l,c]=F.useState({time:new Date().toLocaleTimeString(),date:new Date().toLocaleDateString()}),[u,d]=F.useState({stockByLocation:[],stockByStore:[]}),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:g}=an(),{user:m}=ga(),v=Jp(),y=async()=>{t(!0);try{const T=new Date,_=Mr(T,1),S=T,O=lr(wt(Xe,"inventory")),E=lr(wt(Xe,"inventory"),sr("lastUpdated",">=",ir.fromDate(_)),sr("lastUpdated","<=",ir.fromDate(S))),[N,k]=await Promise.all([ur(O),ur(E)]),U=N.docs.reduce((Ie,Ye)=>{const we=Ye.data();return Ie+(we.quantity||0)},0),X=k.docs.reduce((Ie,Ye)=>{const we=Ye.data();return Ie+(we.quantityChange||0)},0),z=N.docs.reduce((Ie,Ye)=>{const we=Ye.data();return Ie+(we.quantity||0)*(we.price||0)},0),G=lr(wt(Xe,"inventory")),W=(await ur(G)).docs.map(Ie=>({id:Ie.id,...Ie.data()})),te=W.filter(Ie=>Ie.quantity<=10),Z=W.filter(Ie=>Ie.quantity>10&&Ie.quantity<=25);i(te),o(Z);const I=new Date,M=wp(I),q=Wv(I),Y=wp(Mr(I,1)),J=Wv(Mr(I,1)),ie=lr(wt(Xe,"activityLogs"),sr("time",">=",M.toISOString()),sr("time","<=",q.toISOString())),fe=lr(wt(Xe,"activityLogs"),sr("time",">=",Y.toISOString()),sr("time","<=",J.toISOString())),[ae,ge]=await Promise.all([ur(ie),ur(fe)]),ye=ae.docs.map(Ie=>Ie.data()),H=ge.docs.map(Ie=>Ie.data()),ke=ye.reduce((Ie,Ye)=>{const we=Ye.detail.match(/(\d+) units deducted/);return Ie+(we?parseInt(we[1]):0)},0),Ce=H.reduce((Ie,Ye)=>{const we=Ye.detail.match(/(\d+) units deducted/);return Ie+(we?parseInt(we[1]):0)},0),Se=ye.reduce((Ie,Ye)=>{const we=Ye.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Ie+(we?parseInt(we[1]):0)},0),le=ye.reduce((Ie,Ye)=>{const we=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(we){const[,Fe,Te]=we,Oe=N.docs.find(qe=>qe.data().name===Fe);if(Oe){const qe=Oe.data().price||0;return Ie+parseInt(Te)*qe}}return Ie},0),Me=ye.reduce((Ie,Ye)=>{const we=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(we)||/damaged/i.test(we)||/damageditems/i.test(we)||/damaged items/i.test(we)){const Fe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Te of Fe){const Oe=we.match(Te);if(Oe)if(Oe.length===3){const qe=parseInt(Oe[1]),nt=parseInt(Oe[2]);return Ie+Math.abs(qe-nt)}else return Ie+parseInt(Oe[1])}return Ie+1}return Ie},0),We=H.reduce((Ie,Ye)=>{const we=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(we)||/damaged/i.test(we)||/damageditems/i.test(we)||/damaged items/i.test(we)){const Fe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Te of Fe){const Oe=we.match(Te);if(Oe)if(Oe.length===3){const qe=parseInt(Oe[1]),nt=parseInt(Oe[2]);return Ie+Math.abs(qe-nt)}else return Ie+parseInt(Oe[1])}return Ie+1}return Ie},0);p({totalOrders:0,totalStock:U,totalInventoryValue:z,todayDamagedProducts:Me,yesterdayDamagedProducts:We,yesterdayOrders:0,yesterdayStockChange:X,yesterdayRevenue:0,totalDeductions:ke,yesterdayDeductions:Ce,todayStockAdditions:Se,todayInventoryValueAdditions:le})}catch(T){console.error("Error fetching stats:",T)}finally{t(!1)}},w=async()=>{try{const T=lr(wt(Xe,"activityLogs"),Fa("time","desc"),vg(5)),S=(await ur(T)).docs.map(O=>({id:O.id,...O.data()}));n(S)}catch(T){console.error("Error fetching recent activities:",T)}},b=()=>{const T=new Date;c({time:T.toLocaleTimeString(),date:T.toLocaleDateString()})},D=async()=>{try{const T=lr(wt(Xe,"inventory")),S=(await ur(T)).docs.map(U=>({id:U.id,...U.data()})),O=new Map;S.forEach(U=>{const X=U.locationCode||"Unknown",z=U.quantity||0,G=z*(U.price||0);if(O.has(X)){const V=O.get(X);O.set(X,{quantity:V.quantity+z,value:V.value+G})}else O.set(X,{quantity:z,value:G})});const E=Array.from(O.entries()).map(([U,X])=>({location:U,quantity:X.quantity,value:X.value})).sort((U,X)=>X.quantity-U.quantity),N=new Map;S.forEach(U=>{const X=U.storeName||"Unknown",z=U.quantity||0,G=z*(U.price||0);if(N.has(X)){const V=N.get(X);N.set(X,{quantity:V.quantity+z,value:V.value+G})}else N.set(X,{quantity:z,value:G})});const k=Array.from(N.entries()).map(([U,X])=>({store:U,quantity:X.quantity,value:X.value})).sort((U,X)=>X.value-U.value);d({stockByLocation:E,stockByStore:k})}catch(T){console.error("Error fetching inventory data:",T)}},P=async()=>{await Promise.all([y(),w(),D()])};F.useEffect(()=>{P();const T=setInterval(b,1e3);return()=>clearInterval(T)},[]);const j=()=>{const{isDarkMode:T}=an();return f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:`h-10 ${T?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((_,S)=>f.jsx("div",{className:`h-16 ${T?"bg-slate-700":"bg-slate-200"} rounded mb-2`},S))]})};return f.jsxs("div",{className:`space-y-6 ${g?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${g?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),f.jsx("p",{className:`${g?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${g?"bg-slate-800 border border-slate-700":"bg-white border border-slate-200"}`,children:[f.jsx(G2,{size:20,className:"text-blue-500"}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${g?"text-white":"text-slate-800"}`,children:l.time}),f.jsx("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:l.date})]})]}),f.jsx(at,{variant:"secondary",onClick:P,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(La,{size:16,className:e?"animate-spin":""})})]})]}),f.jsx(Zh,{title:"Quick Actions",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs(at,{variant:"outline",onClick:()=>v("/add"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(M4,{size:24,className:"text-blue-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Add Product"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/jobs"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(h9,{size:24,className:"text-green-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Jobs"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/stock"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Do,{size:24,className:"text-purple-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Stock"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/reports-analytics"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(d9,{size:24,className:"text-orange-600"}),f.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/warehouse-locations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(DZ,{size:24,className:"text-indigo-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Locations"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/warehouse-operations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(G2,{size:24,className:"text-teal-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Activity Logs"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?f.jsxs(f.Fragment,{children:[f.jsx(df,{}),f.jsx(df,{}),f.jsx(df,{}),f.jsx(df,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Wa,{title:"Total Stock",value:h.totalStock,icon:f.jsx(Do,{size:24,className:"text-blue-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(fi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"unit added today":"units added today"}}),f.jsx(Wa,{title:"Total Units Deducted Today",value:h.totalDeductions,icon:f.jsx(x9,{size:24,className:"text-blue-600"}),change:{value:h.yesterdayDeductions,isPositive:h.totalDeductions>=h.yesterdayDeductions,label:h.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),f.jsx(Wa,{title:"Damaged Products Today",value:h.todayDamagedProducts,icon:f.jsx(ih,{size:24,className:"text-red-600"}),change:{value:h.yesterdayDamagedProducts,isPositive:h.todayDamagedProducts<=h.yesterdayDamagedProducts,label:h.yesterdayDamagedProducts===0?"no damage yesterday":h.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),Fs(m)?f.jsx(Wa,{title:"Total Inventory Value",value:h.totalInventoryValue,icon:f.jsx(Y2,{size:24,className:"text-blue-600"}),formatValue:T=>`£${T.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:h.todayInventoryValueAdditions,isPositive:!0,customIcon:f.jsx(fi,{size:16,className:"text-green-500 mr-1"}),label:h.todayInventoryValueAdditions===0?"no value added today":"£ added today"}}):f.jsx(Wa,{title:"Total Products",value:u.stockByLocation.length,icon:f.jsx(Do,{size:24,className:"text-purple-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(fi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"addition today":"additions today"}})]})}),f.jsx(Zh,{title:"Stock Value by Store",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByStore.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(wj,{size:20,className:"text-blue-500"}),f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:Fs(m)?f.jsxs(f.Fragment,{children:["Total Value: £",u.stockByStore.reduce((T,_)=>T+_.value,0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})," across ",u.stockByStore.length," stores"]}):f.jsxs(f.Fragment,{children:["Total Quantity: ",u.stockByStore.reduce((T,_)=>T+_.quantity,0)," units across ",u.stockByStore.length," stores"]})})]}),f.jsx("div",{className:"space-y-3",children:u.stockByStore.slice(0,5).map((T,_)=>{const S=Math.max(...u.stockByStore.slice(0,5).map(N=>N.value)),O=S>0?T.value/S*100:0,E=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:T.store.toUpperCase()}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[T.quantity.toLocaleString()," units"]}),Fs(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["£",T.value.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${E[_%E.length]}`,style:{width:`${O}%`}})})]},_)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Do,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No store data available"})]})}),f.jsx(Zh,{title:"Stock Distribution by Location",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByLocation.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(wj,{size:20,className:"text-blue-500"}),f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Total: ",u.stockByLocation.reduce((T,_)=>T+_.quantity,0)," units across ",u.stockByLocation.length," locations"]})]}),f.jsx("div",{className:"space-y-3",children:u.stockByLocation.slice(0,5).map((T,_)=>{const S=Math.max(...u.stockByLocation.slice(0,5).map(N=>N.quantity)),O=S>0?T.quantity/S*100:0,E=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Location ",T.location]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[T.quantity," units"]}),Fs(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["£",T.value.toFixed(2)]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${E[_%E.length]}`,style:{width:`${O}%`}})})]},_)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Do,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No inventory data available"})]})}),f.jsx(Zh,{title:"Recent Activity",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(j,{}):r.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:T.user}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.role}),f.jsx("td",{className:`px-6 py-4 text-sm ${g?"text-slate-400":"text-slate-500"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.detail,children:T.detail})}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:gfe(new Date(T.time),{addSuffix:!0})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),f.jsx(Zh,{title:"Low Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(j,{}):s.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.name,children:T.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[T.locationCode,"-",T.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})}),f.jsx(Zh,{title:"Critical Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(j,{}):a.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.name,children:T.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[T.locationCode,"-",T.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})]})},fn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=an(),o=F.useRef(null);if(F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),F.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),f.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),f.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:f.jsx(fp,{size:20})})]}),f.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},Sh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=F.useState(!1),i=F.useRef(null);return F.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),f.jsx(fn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:f.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[f.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:f.jsx(Zc,{size:32,className:"text-blue-500"})}),f.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),f.jsxs("div",{className:"text-center text-sm text-slate-500",children:[f.jsx("p",{children:"Point your barcode scanner at the product"}),f.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hz=1252,Dfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Yk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Xk=function(e){Dfe.indexOf(e)!=-1&&(hz=Yk[0]=e)};function Lfe(){Xk(1252)}var bl=function(e){Xk(e)};function pz(){bl(1200),Lfe()}function gD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Mfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function mz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var bg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Mfe(e.slice(2)):t==254&&r==255?mz(e.slice(2)):t==65279?e.slice(1):e},gx=function(t){return String.fromCharCode(t)},vD=function(t){return String.fromCharCode(t)},nf,hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=hf.charAt(i)+hf.charAt(s)+hf.charAt(o)+hf.charAt(l);return t}function uo(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=hf.indexOf(e.charAt(c++)),s=hf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=hf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=hf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Qr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ah=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function zf(e){return Qr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function xD(e){return Qr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vl=function(t){return Qr?Ah(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Th(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Qk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Qk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var af=Qr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ah(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Rfe(e){for(var t=[],r=0,n=e.length+250,a=zf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=zf(65535),n=65530)}return t.push(a.slice(0,r)),af(t)}var Ss=/\u0000/g,wg=/[\u0001-\u0006]/g;function q0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function wl(e,t){var r=""+e;return r.length>=t?r:pa("0",t-r.length)+r}function Jk(e,t){var r=""+e;return r.length>=t?r:pa(" ",t-r.length)+r}function xb(e,t){var r=""+e;return r.length>=t?r:r+pa(" ",t-r.length)}function Ffe(e,t){var r=""+Math.round(e);return r.length>=t?r:pa("0",t-r.length)+r}function $fe(e,t){var r=""+e;return r.length>=t?r:pa("0",t-r.length)+r}var bD=Math.pow(2,32);function t0(e,t){if(e>bD||e<-bD)return Ffe(e,t);var r=Math.round(e);return $fe(r,t)}function bb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var wD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],FS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Bfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},_D={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ufe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function wb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Fd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Gfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var gz=new Date(1899,11,31,0,0,0),Vfe=gz.getTime(),zfe=new Date(1900,2,1,0,0,0);function vz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=zfe&&(r+=24*60*60*1e3),(r-(Vfe+(e.getTimezoneOffset()-gz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Zk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Wfe(e){var t=e<0?12:11,r=Zk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Hfe(e){var t=Zk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Hv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Wfe(e):t===10?r=e.toFixed(10).substr(0,12):r=Hfe(e),Zk(qfe(r.toUpperCase()))}function ch(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Hv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wo(14,vz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Gfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Kfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return FS[r.m-1][1];case 5:return FS[r.m-1][0];default:return FS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return wD[r.q][0];default:return wD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?wl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=wl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?wl(l,c):"";return u}function pf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var yz=/%/g;function Yfe(e,t,r){var n=t.replace(yz,""),a=t.length-n.length;return Uc(e,n,r*Math.pow(10,2*a))+pa("%",a)}function Xfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Uc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var bz=/# (\?+)( ?)\/( ?)(\d+)/;function Qfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?pa(" ",e[1].length+1+e[4].length):Jk(s,e[1].length)+e[2]+"/"+e[3]+wl(o,e[4].length))}function Jfe(e,t,r){return r+(t===0?"":""+t)+pa(" ",e[1].length+2+e[4].length)}var wz=/^#*0*\.([0#]+)/,_z=/\).*[0#]/,Sz=/\(###\) ###\\?-####/;function hs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function SD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function AD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Zfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function ede(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Co(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_z)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Co("n",n,r):"("+Co("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Xfe(e,t,r);if(t.indexOf("%")!==-1)return Yfe(e,t,r);if(t.indexOf("E")!==-1)return xz(t,r);if(t.charCodeAt(0)===36)return"$"+Co(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+t0(l,t.length);if(t.match(/^[#?]+$/))return a=t0(r,0),a==="0"&&(a=""),a.length>t.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(bz))return Qfe(i,l,c);if(t.match(/^#+0+$/))return c+t0(l,t.length-t.indexOf("0"));if(i=t.match(wz))return a=SD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+hs(i[1])).replace(/\.$/,"."+hs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+pa("0",hs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+SD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+pf(t0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Co(e,t,-r):pf(""+(Math.floor(r)+Zfe(r,i[1].length)))+"."+wl(AD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Co(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=q0(Co(e,t.replace(/[\\-]/g,""),r)),s=0,q0(q0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Sz))return a=Co(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=wb(l,Math.pow(10,s)-1,!1),a=""+c,u=Uc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xb(o[2],s),u.length<i[4].length&&(u=hs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Jk(o[1],s)+i[2]+"/"+i[3]+xb(o[2],s):pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=t0(r,0),t.length<=a.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return hs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=AD(r,i[1].length),r<0?"-"+Co(e,t,-r):pf(ede(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?wl(0,3-g.length):"")+g})+"."+wl(s,i[1].length);switch(t){case"###,##0.00":return Co(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=pf(t0(l,0));return p!=="0"?c+p:"";case"###,###.00":return Co(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Co(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function tde(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Uc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function rde(e,t,r){var n=t.replace(yz,""),a=t.length-n.length;return Uc(e,n,r*Math.pow(10,2*a))+pa("%",a)}function Az(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Az(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function zl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_z)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?zl("n",n,r):"("+zl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return tde(e,t,r);if(t.indexOf("%")!==-1)return rde(e,t,r);if(t.indexOf("E")!==-1)return Az(t,r);if(t.charCodeAt(0)===36)return"$"+zl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+wl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(bz))return Jfe(i,l,c);if(t.match(/^#+0+$/))return c+wl(l,t.length-t.indexOf("0"));if(i=t.match(wz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+hs(i[1])).replace(/\.$/,"."+hs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+pa("0",hs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+pf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+zl(e,t,-r):pf(""+r)+"."+pa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return zl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=q0(zl(e,t.replace(/[\\-]/g,""),r)),s=0,q0(q0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Sz))return a=zl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=wb(l,Math.pow(10,s)-1,!1),a=""+c,u=Uc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xb(o[2],s),u.length<i[4].length&&(u=hs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Jk(o[1],s)+i[2]+"/"+i[3]+xb(o[2],s):pa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:hs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return hs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+zl(e,t,-r):pf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?wl(0,3-g.length):"")+g})+"."+wl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=pf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return zl(e,t.slice(0,t.lastIndexOf(".")),r)+hs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Uc(e,t,r){return(r|0)===r?zl(e,t,r):Co(e,t,r)}function nde(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Tz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":bb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Tz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ade(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!bb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Fd(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Fd(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Fd(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Tz)){if(c==null&&(c=Fd(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",cm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Kfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;b+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=ch(t,r);break}var P="",j,T;if(b.length>0){b.charCodeAt(0)==40?(j=t<0&&b.charCodeAt(0)===45?-t:t,T=Uc("n",b,j)):(j=t<0&&n>1?-t:t,T=Uc("n",b,j),j<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var S=a.length;if(_===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=T.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=T.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v)}else if(_!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(D--)+P);a[s].v=P,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v),D=T.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<T.length&&(P+=T.charAt(D++));a[s].v=P,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Uc(a[s].t,a[s].v,j),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var TD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ED(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function ide(e,t){var r=nde(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(TD),o=r[1].match(TD);return ED(t,s)?[n,r[0]]:ED(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Wo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Lr)[e],n==null&&(n=r.table&&r.table[_D[e]]||Lr[_D[e]]),n==null&&(n=Ufe[e]||"General");break}if(bb(n,0))return ch(t,r);t instanceof Date&&(t=vz(t,r.date1904));var a=ide(n,t);if(bb(a[1]))return ch(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ade(a[1],t,r,a[0])}function Kd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Lr[r]==null){t<0&&(t=r);continue}if(Lr[r]==e){t=r;break}}t<0&&(t=391)}return Lr[t]=e,t}function Ez(){Lr=Bfe()}var sde={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Nz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ode(e){var t=typeof e=="number"?Lr[e]:e;return t=t.replace(Nz,"(\\d+)"),new RegExp("^"+t+"$")}function lde(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(Nz)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var cde=function(){var e={};e.version="1.2.0";function t(){for(var T=0,_=new Array(256),S=0;S!=256;++S)T=S,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,_[S]=T;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(T){var _=0,S=0,O=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)E[O]=T[O];for(O=0;O!=256;++O)for(S=T[O],_=256+O;_<4096;_+=256)S=E[_]=S>>>8^T[S&255];var N=[];for(O=1;O!=16;++O)N[O-1]=typeof Int32Array<"u"?E.subarray(O*256,O*256+256):E.slice(O*256,O*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function D(T,_){for(var S=_^-1,O=0,E=T.length;O<E;)S=S>>>8^r[(S^T.charCodeAt(O++))&255];return~S}function P(T,_){for(var S=_^-1,O=T.length-15,E=0;E<O;)S=b[T[E++]^S&255]^w[T[E++]^S>>8&255]^y[T[E++]^S>>16&255]^v[T[E++]^S>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^d[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(O+=15;E<O;)S=S>>>8^r[(S^T[E++])&255];return~S}function j(T,_){for(var S=_^-1,O=0,E=T.length,N=0,k=0;O<E;)N=T.charCodeAt(O++),N<128?S=S>>>8^r[(S^N)&255]:N<2048?(S=S>>>8^r[(S^(192|N>>6&31))&255],S=S>>>8^r[(S^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,k=T.charCodeAt(O++)&1023,S=S>>>8^r[(S^(240|N>>8&7))&255],S=S>>>8^r[(S^(128|N>>2&63))&255],S=S>>>8^r[(S^(128|k>>6&15|(N&3)<<4))&255],S=S>>>8^r[(S^(128|k&63))&255]):(S=S>>>8^r[(S^(224|N>>12&15))&255],S=S>>>8^r[(S^(128|N>>6&63))&255],S=S>>>8^r[(S^(128|N&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=P,e.str=j,e}(),rn=function(){var t={};t.version="1.2.1";function r(ee,ve){for(var he=ee.split("/"),me=ve.split("/"),xe=0,_e=0,He=Math.min(he.length,me.length);xe<He;++xe){if(_e=he[xe].length-me[xe].length)return _e;if(he[xe]!=me[xe])return he[xe]<me[xe]?-1:1}return he.length-me.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(0,ve+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ve=ee.lastIndexOf("/");return ve===-1?ee:ee.slice(ve+1)}function i(ee,ve){typeof ve=="string"&&(ve=new Date(ve));var he=ve.getHours();he=he<<6|ve.getMinutes(),he=he<<5|ve.getSeconds()>>>1,ee.write_shift(2,he);var me=ve.getFullYear()-1980;me=me<<4|ve.getMonth()+1,me=me<<5|ve.getDate(),ee.write_shift(2,me)}function s(ee){var ve=ee.read_shift(2)&65535,he=ee.read_shift(2)&65535,me=new Date,xe=he&31;he>>>=5;var _e=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(_e-1),me.setDate(xe);var He=ve&31;ve>>>=5;var tt=ve&63;return ve>>>=6,me.setHours(ve),me.setMinutes(tt),me.setSeconds(He<<1),me}function o(ee){Si(ee,0);for(var ve={},he=0;ee.l<=ee.length-4;){var me=ee.read_shift(2),xe=ee.read_shift(2),_e=ee.l+xe,He={};switch(me){case 21589:he=ee.read_shift(1),he&1&&(He.mtime=ee.read_shift(4)),xe>5&&(he&2&&(He.atime=ee.read_shift(4)),he&4&&(He.ctime=ee.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}ee.l=_e,ve[me]=He}return ve}var l;function c(){return l||(l={})}function u(ee,ve){if(ee[0]==80&&ee[1]==75)return vt(ee,ve);if((ee[0]|32)==109&&(ee[1]|32)==105)return An(ee,ve);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var he=3,me=512,xe=0,_e=0,He=0,tt=0,Ge=0,Ke=[],Ze=ee.slice(0,512);Si(Ze,0);var Tt=d(Ze);switch(he=Tt[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(Tt[1]==0)return vt(ee,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(Ze=ee.slice(0,me),Si(Ze,28));var Rt=ee.slice(0,me);h(Ze,he);var Vt=Ze.read_shift(4,"i");if(he===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);Ze.l+=4,He=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),tt=Ze.read_shift(4,"i"),xe=Ze.read_shift(4,"i"),Ge=Ze.read_shift(4,"i"),_e=Ze.read_shift(4,"i");for(var It=-1,Bt=0;Bt<109&&(It=Ze.read_shift(4,"i"),!(It<0));++Bt)Ke[Bt]=It;var dr=p(ee,me);v(Ge,_e,dr,me,Ke);var Vr=w(dr,He,Ke,me);Vr[He].name="!Directory",xe>0&&tt!==k&&(Vr[tt].name="!MiniFAT"),Vr[Ke[0]].name="!FAT",Vr.fat_addrs=Ke,Vr.ssz=me;var Hr={},sn=[],pi=[],Ws=[];b(He,Vr,dr,sn,xe,Hr,pi,tt),g(pi,Ws,sn),sn.shift();var is={FileIndex:pi,FullPaths:Ws};return ve&&ve.raw&&(is.raw={header:Rt,sectors:dr}),is}function d(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(U,"Header Signature: "),ee.l+=16;var ve=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ve]}function h(ee,ve){var he=9;switch(ee.l+=2,he=ee.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ve){for(var he=Math.ceil(ee.length/ve)-1,me=[],xe=1;xe<he;++xe)me[xe-1]=ee.slice(xe*ve,(xe+1)*ve);return me[he-1]=ee.slice(he*ve),me}function g(ee,ve,he){for(var me=0,xe=0,_e=0,He=0,tt=0,Ge=he.length,Ke=[],Ze=[];me<Ge;++me)Ke[me]=Ze[me]=me,ve[me]=he[me];for(;tt<Ze.length;++tt)me=Ze[tt],xe=ee[me].L,_e=ee[me].R,He=ee[me].C,Ke[me]===me&&(xe!==-1&&Ke[xe]!==xe&&(Ke[me]=Ke[xe]),_e!==-1&&Ke[_e]!==_e&&(Ke[me]=Ke[_e])),He!==-1&&(Ke[He]=me),xe!==-1&&me!=Ke[me]&&(Ke[xe]=Ke[me],Ze.lastIndexOf(xe)<tt&&Ze.push(xe)),_e!==-1&&me!=Ke[me]&&(Ke[_e]=Ke[me],Ze.lastIndexOf(_e)<tt&&Ze.push(_e));for(me=1;me<Ge;++me)Ke[me]===me&&(_e!==-1&&Ke[_e]!==_e?Ke[me]=Ke[_e]:xe!==-1&&Ke[xe]!==xe&&(Ke[me]=Ke[xe]));for(me=1;me<Ge;++me)if(ee[me].type!==0){if(tt=me,tt!=Ke[tt])do tt=Ke[tt],ve[me]=ve[tt]+"/"+ve[me];while(tt!==0&&Ke[tt]!==-1&&tt!=Ke[tt]);Ke[me]=-1}for(ve[0]+="/",me=1;me<Ge;++me)ee[me].type!==2&&(ve[me]+="/")}function m(ee,ve,he){for(var me=ee.start,xe=ee.size,_e=[],He=me;he&&xe>0&&He>=0;)_e.push(ve.slice(He*N,He*N+N)),xe-=N,He=Pd(he,He*4);return _e.length===0?Ha(0):af(_e).slice(0,ee.size)}function v(ee,ve,he,me,xe){var _e=k;if(ee===k){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var He=he[ee],tt=(me>>>2)-1;if(!He)return;for(var Ge=0;Ge<tt&&(_e=Pd(He,Ge*4))!==k;++Ge)xe.push(_e);v(Pd(He,me-4),ve-1,he,me,xe)}}function y(ee,ve,he,me,xe){var _e=[],He=[];xe||(xe=[]);var tt=me-1,Ge=0,Ke=0;for(Ge=ve;Ge>=0;){xe[Ge]=!0,_e[_e.length]=Ge,He.push(ee[Ge]);var Ze=he[Math.floor(Ge*4/me)];if(Ke=Ge*4&tt,me<4+Ke)throw new Error("FAT boundary crossed: "+Ge+" 4 "+me);if(!ee[Ze])break;Ge=Pd(ee[Ze],Ke)}return{nodes:_e,data:MD([He])}}function w(ee,ve,he,me){var xe=ee.length,_e=[],He=[],tt=[],Ge=[],Ke=me-1,Ze=0,Tt=0,Rt=0,Vt=0;for(Ze=0;Ze<xe;++Ze)if(tt=[],Rt=Ze+ve,Rt>=xe&&(Rt-=xe),!He[Rt]){Ge=[];var It=[];for(Tt=Rt;Tt>=0;){It[Tt]=!0,He[Tt]=!0,tt[tt.length]=Tt,Ge.push(ee[Tt]);var Bt=he[Math.floor(Tt*4/me)];if(Vt=Tt*4&Ke,me<4+Vt)throw new Error("FAT boundary crossed: "+Tt+" 4 "+me);if(!ee[Bt]||(Tt=Pd(ee[Bt],Vt),It[Tt]))break}_e[Rt]={nodes:tt,data:MD([Ge])}}return _e}function b(ee,ve,he,me,xe,_e,He,tt){for(var Ge=0,Ke=me.length?2:0,Ze=ve[ee].data,Tt=0,Rt=0,Vt;Tt<Ze.length;Tt+=128){var It=Ze.slice(Tt,Tt+128);Si(It,64),Rt=It.read_shift(2),Vt=aC(It,0,Rt-Ke),me.push(Vt);var Bt={name:Vt,type:It.read_shift(1),color:It.read_shift(1),L:It.read_shift(4,"i"),R:It.read_shift(4,"i"),C:It.read_shift(4,"i"),clsid:It.read_shift(16),state:It.read_shift(4,"i"),start:0,size:0},dr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);dr!==0&&(Bt.ct=D(It,It.l-8));var Vr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);Vr!==0&&(Bt.mt=D(It,It.l-8)),Bt.start=It.read_shift(4,"i"),Bt.size=It.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=k,Bt.name=""),Bt.type===5?(Ge=Bt.start,xe>0&&Ge!==k&&(ve[Ge].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",ve[Bt.start]===void 0&&(ve[Bt.start]=y(he,Bt.start,ve.fat_addrs,ve.ssz)),ve[Bt.start].name=Bt.name,Bt.content=ve[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:Ge!==k&&Bt.start!==k&&ve[Ge]&&(Bt.content=m(Bt,ve[Ge].data,(ve[tt]||{}).data))),Bt.content&&Si(Bt.content,0),_e[Vt]=Bt,He.push(Bt)}}function D(ee,ve){return new Date((ro(ee,ve+4)/1e7*Math.pow(2,32)+ro(ee,ve)/1e7-11644473600)*1e3)}function P(ee,ve){return c(),u(l.readFileSync(ee),ve)}function j(ee,ve){var he=ve&&ve.type;switch(he||Qr&&Buffer.isBuffer(ee)&&(he="buffer"),he||"base64"){case"file":return P(ee,ve);case"base64":return u(vl(uo(ee)),ve);case"binary":return u(vl(ee),ve)}return u(ee,ve)}function T(ee,ve){var he=ve||{},me=he.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=me+"/",ee.FileIndex[0]={name:me,type:5}),he.CLSID&&(ee.FileIndex[0].clsid=he.CLSID),_(ee)}function _(ee){var ve="Sh33tJ5";if(!rn.find(ee,"/"+ve)){var he=Ha(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ee.FileIndex.push({name:ve,type:2,content:he,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ve),S(ee)}}function S(ee,ve){T(ee);for(var he=!1,me=!1,xe=ee.FullPaths.length-1;xe>=0;--xe){var _e=ee.FileIndex[xe];switch(_e.type){case 0:me?he=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(_e.R*_e.L*_e.C)&&(he=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ve)){var He=new Date(1987,1,19),tt=0,Ge=Object.create?Object.create(null):{},Ke=[];for(xe=0;xe<ee.FullPaths.length;++xe)Ge[ee.FullPaths[xe]]=!0,ee.FileIndex[xe].type!==0&&Ke.push([ee.FullPaths[xe],ee.FileIndex[xe]]);for(xe=0;xe<Ke.length;++xe){var Ze=n(Ke[xe][0]);me=Ge[Ze],me||(Ke.push([Ze,{name:a(Ze).replace("/",""),type:1,clsid:z,ct:He,mt:He,content:null}]),Ge[Ze]=!0)}for(Ke.sort(function(Vt,It){return r(Vt[0],It[0])}),ee.FullPaths=[],ee.FileIndex=[],xe=0;xe<Ke.length;++xe)ee.FullPaths[xe]=Ke[xe][0],ee.FileIndex[xe]=Ke[xe][1];for(xe=0;xe<Ke.length;++xe){var Tt=ee.FileIndex[xe],Rt=ee.FullPaths[xe];if(Tt.name=a(Rt).replace("/",""),Tt.L=Tt.R=Tt.C=-(Tt.color=1),Tt.size=Tt.content?Tt.content.length:0,Tt.start=0,Tt.clsid=Tt.clsid||z,xe===0)Tt.C=Ke.length>1?1:-1,Tt.size=0,Tt.type=5;else if(Rt.slice(-1)=="/"){for(tt=xe+1;tt<Ke.length&&n(ee.FullPaths[tt])!=Rt;++tt);for(Tt.C=tt>=Ke.length?-1:tt,tt=xe+1;tt<Ke.length&&n(ee.FullPaths[tt])!=n(Rt);++tt);Tt.R=tt>=Ke.length?-1:tt,Tt.type=1}else n(ee.FullPaths[xe+1]||"")==n(Rt)&&(Tt.R=xe+1),Tt.type=2}}}function O(ee,ve){var he=ve||{};if(he.fileType=="mad")return Yt(ee,he);switch(S(ee),he.fileType){case"zip":return Kt(ee,he)}var me=function(Vt){for(var It=0,Bt=0,dr=0;dr<Vt.FileIndex.length;++dr){var Vr=Vt.FileIndex[dr];if(Vr.content){var Hr=Vr.content.length;Hr>0&&(Hr<4096?It+=Hr+63>>6:Bt+=Hr+511>>9)}}for(var sn=Vt.FullPaths.length+3>>2,pi=It+7>>3,Ws=It+127>>7,is=pi+Bt+sn+Ws,ji=is+127>>7,ss=ji<=109?0:Math.ceil((ji-109)/127);is+ji+ss+127>>7>ji;)ss=++ji<=109?0:Math.ceil((ji-109)/127);var Ba=[1,ss,ji,Ws,sn,Bt,It,0];return Vt.FileIndex[0].size=It<<6,Ba[7]=(Vt.FileIndex[0].start=Ba[0]+Ba[1]+Ba[2]+Ba[3]+Ba[4]+Ba[5])+(Ba[6]+7>>3),Ba}(ee),xe=Ha(me[7]<<9),_e=0,He=0;{for(_e=0;_e<8;++_e)xe.write_shift(1,X[_e]);for(_e=0;_e<8;++_e)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),_e=0;_e<3;++_e)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,me[2]),xe.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:k),xe.write_shift(4,me[3]),xe.write_shift(-4,me[1]?me[0]-1:k),xe.write_shift(4,me[1]),_e=0;_e<109;++_e)xe.write_shift(-4,_e<me[2]?me[1]+_e:-1)}if(me[1])for(He=0;He<me[1];++He){for(;_e<236+He*127;++_e)xe.write_shift(-4,_e<me[2]?me[1]+_e:-1);xe.write_shift(-4,He===me[1]-1?k:He+1)}var tt=function(Vt){for(He+=Vt;_e<He-1;++_e)xe.write_shift(-4,_e+1);Vt&&(++_e,xe.write_shift(-4,k))};for(He=_e=0,He+=me[1];_e<He;++_e)xe.write_shift(-4,G.DIFSECT);for(He+=me[2];_e<He;++_e)xe.write_shift(-4,G.FATSECT);tt(me[3]),tt(me[4]);for(var Ge=0,Ke=0,Ze=ee.FileIndex[0];Ge<ee.FileIndex.length;++Ge)Ze=ee.FileIndex[Ge],Ze.content&&(Ke=Ze.content.length,!(Ke<4096)&&(Ze.start=He,tt(Ke+511>>9)));for(tt(me[6]+7>>3);xe.l&511;)xe.write_shift(-4,G.ENDOFCHAIN);for(He=_e=0,Ge=0;Ge<ee.FileIndex.length;++Ge)Ze=ee.FileIndex[Ge],Ze.content&&(Ke=Ze.content.length,!(!Ke||Ke>=4096)&&(Ze.start=He,tt(Ke+63>>6)));for(;xe.l&511;)xe.write_shift(-4,G.ENDOFCHAIN);for(_e=0;_e<me[4]<<2;++_e){var Tt=ee.FullPaths[_e];if(!Tt||Tt.length===0){for(Ge=0;Ge<17;++Ge)xe.write_shift(4,0);for(Ge=0;Ge<3;++Ge)xe.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)xe.write_shift(4,0);continue}Ze=ee.FileIndex[_e],_e===0&&(Ze.start=Ze.size?Ze.start-1:k);var Rt=_e===0&&he.root||Ze.name;if(Ke=2*(Rt.length+1),xe.write_shift(64,Rt,"utf16le"),xe.write_shift(2,Ke),xe.write_shift(1,Ze.type),xe.write_shift(1,Ze.color),xe.write_shift(-4,Ze.L),xe.write_shift(-4,Ze.R),xe.write_shift(-4,Ze.C),Ze.clsid)xe.write_shift(16,Ze.clsid,"hex");else for(Ge=0;Ge<4;++Ge)xe.write_shift(4,0);xe.write_shift(4,Ze.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Ze.start),xe.write_shift(4,Ze.size),xe.write_shift(4,0)}for(_e=1;_e<ee.FileIndex.length;++_e)if(Ze=ee.FileIndex[_e],Ze.size>=4096)if(xe.l=Ze.start+1<<9,Qr&&Buffer.isBuffer(Ze.content))Ze.content.copy(xe,xe.l,0,Ze.size),xe.l+=Ze.size+511&-512;else{for(Ge=0;Ge<Ze.size;++Ge)xe.write_shift(1,Ze.content[Ge]);for(;Ge&511;++Ge)xe.write_shift(1,0)}for(_e=1;_e<ee.FileIndex.length;++_e)if(Ze=ee.FileIndex[_e],Ze.size>0&&Ze.size<4096)if(Qr&&Buffer.isBuffer(Ze.content))Ze.content.copy(xe,xe.l,0,Ze.size),xe.l+=Ze.size+63&-64;else{for(Ge=0;Ge<Ze.size;++Ge)xe.write_shift(1,Ze.content[Ge]);for(;Ge&63;++Ge)xe.write_shift(1,0)}if(Qr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function E(ee,ve){var he=ee.FullPaths.map(function(Ge){return Ge.toUpperCase()}),me=he.map(function(Ge){var Ke=Ge.split("/");return Ke[Ke.length-(Ge.slice(-1)=="/"?2:1)]}),xe=!1;ve.charCodeAt(0)===47?(xe=!0,ve=he[0].slice(0,-1)+ve):xe=ve.indexOf("/")!==-1;var _e=ve.toUpperCase(),He=xe===!0?he.indexOf(_e):me.indexOf(_e);if(He!==-1)return ee.FileIndex[He];var tt=!_e.match(wg);for(_e=_e.replace(Ss,""),tt&&(_e=_e.replace(wg,"!")),He=0;He<he.length;++He)if((tt?he[He].replace(wg,"!"):he[He]).replace(Ss,"")==_e||(tt?me[He].replace(wg,"!"):me[He]).replace(Ss,"")==_e)return ee.FileIndex[He];return null}var N=64,k=-2,U="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(ee,ve,he){c();var me=O(ee,he);l.writeFileSync(ve,me)}function W(ee){for(var ve=new Array(ee.length),he=0;he<ee.length;++he)ve[he]=String.fromCharCode(ee[he]);return ve.join("")}function te(ee,ve){var he=O(ee,ve);switch(ve&&ve.type||"buffer"){case"file":return c(),l.writeFileSync(ve.filename,he),he;case"binary":return typeof he=="string"?he:W(he);case"base64":return yD(typeof he=="string"?he:W(he));case"buffer":if(Qr)return Buffer.isBuffer(he)?he:Ah(he);case"array":return typeof he=="string"?vl(he):he}return he}var Z;function I(ee){try{var ve=ee.InflateRaw,he=new ve;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)Z=ee;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function M(ee,ve){if(!Z)return Re(ee,ve);var he=Z.InflateRaw,me=new he,xe=me._processChunk(ee.slice(ee.l),me._finishFlushFlag);return ee.l+=me.bytesRead,xe}function q(ee){return Z?Z.deflateRawSync(ee):mt(ee)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(ee){var ve=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var ae=typeof Uint8Array<"u",ge=ae?new Uint8Array(256):[],ye=0;ye<256;++ye)ge[ye]=fe(ye);function H(ee,ve){var he=ge[ee&255];return ve<=8?he>>>8-ve:(he=he<<8|ge[ee>>8&255],ve<=16?he>>>16-ve:(he=he<<8|ge[ee>>16&255],he>>>24-ve))}function ke(ee,ve){var he=ve&7,me=ve>>>3;return(ee[me]|(he<=6?0:ee[me+1]<<8))>>>he&3}function Ce(ee,ve){var he=ve&7,me=ve>>>3;return(ee[me]|(he<=5?0:ee[me+1]<<8))>>>he&7}function Se(ee,ve){var he=ve&7,me=ve>>>3;return(ee[me]|(he<=4?0:ee[me+1]<<8))>>>he&15}function le(ee,ve){var he=ve&7,me=ve>>>3;return(ee[me]|(he<=3?0:ee[me+1]<<8))>>>he&31}function Me(ee,ve){var he=ve&7,me=ve>>>3;return(ee[me]|(he<=1?0:ee[me+1]<<8))>>>he&127}function We(ee,ve,he){var me=ve&7,xe=ve>>>3,_e=(1<<he)-1,He=ee[xe]>>>me;return he<8-me||(He|=ee[xe+1]<<8-me,he<16-me)||(He|=ee[xe+2]<<16-me,he<24-me)||(He|=ee[xe+3]<<24-me),He&_e}function Ie(ee,ve,he){var me=ve&7,xe=ve>>>3;return me<=5?ee[xe]|=(he&7)<<me:(ee[xe]|=he<<me&255,ee[xe+1]=(he&7)>>8-me),ve+3}function Ye(ee,ve,he){var me=ve&7,xe=ve>>>3;return he=(he&1)<<me,ee[xe]|=he,ve+1}function we(ee,ve,he){var me=ve&7,xe=ve>>>3;return he<<=me,ee[xe]|=he&255,he>>>=8,ee[xe+1]=he,ve+8}function Fe(ee,ve,he){var me=ve&7,xe=ve>>>3;return he<<=me,ee[xe]|=he&255,he>>>=8,ee[xe+1]=he&255,ee[xe+2]=he>>>8,ve+16}function Te(ee,ve){var he=ee.length,me=2*he>ve?2*he:ve+5,xe=0;if(he>=ve)return ee;if(Qr){var _e=xD(me);if(ee.copy)ee.copy(_e);else for(;xe<ee.length;++xe)_e[xe]=ee[xe];return _e}else if(ae){var He=new Uint8Array(me);if(He.set)He.set(ee);else for(;xe<he;++xe)He[xe]=ee[xe];return He}return ee.length=me,ee}function Oe(ee){for(var ve=new Array(ee),he=0;he<ee;++he)ve[he]=0;return ve}function qe(ee,ve,he){var me=1,xe=0,_e=0,He=0,tt=0,Ge=ee.length,Ke=ae?new Uint16Array(32):Oe(32);for(_e=0;_e<32;++_e)Ke[_e]=0;for(_e=Ge;_e<he;++_e)ee[_e]=0;Ge=ee.length;var Ze=ae?new Uint16Array(Ge):Oe(Ge);for(_e=0;_e<Ge;++_e)Ke[xe=ee[_e]]++,me<xe&&(me=xe),Ze[_e]=0;for(Ke[0]=0,_e=1;_e<=me;++_e)Ke[_e+16]=tt=tt+Ke[_e-1]<<1;for(_e=0;_e<Ge;++_e)tt=ee[_e],tt!=0&&(Ze[_e]=Ke[tt+16]++);var Tt=0;for(_e=0;_e<Ge;++_e)if(Tt=ee[_e],Tt!=0)for(tt=H(Ze[_e],me)>>me-Tt,He=(1<<me+4-Tt)-1;He>=0;--He)ve[tt|He<<Tt]=Tt&15|_e<<4;return me}var nt=ae?new Uint16Array(512):Oe(512),ot=ae?new Uint16Array(32):Oe(32);if(!ae){for(var xt=0;xt<512;++xt)nt[xt]=0;for(xt=0;xt<32;++xt)ot[xt]=0}(function(){for(var ee=[],ve=0;ve<32;ve++)ee.push(5);qe(ee,ot,32);var he=[];for(ve=0;ve<=143;ve++)he.push(8);for(;ve<=255;ve++)he.push(9);for(;ve<=279;ve++)he.push(7);for(;ve<=287;ve++)he.push(8);qe(he,nt,288)})();var ht=function(){for(var ve=ae?new Uint8Array(32768):[],he=0,me=0;he<ie.length-1;++he)for(;me<ie[he+1];++me)ve[me]=he;for(;me<32768;++me)ve[me]=29;var xe=ae?new Uint8Array(259):[];for(he=0,me=0;he<J.length-1;++he)for(;me<J[he+1];++me)xe[me]=he;function _e(tt,Ge){for(var Ke=0;Ke<tt.length;){var Ze=Math.min(65535,tt.length-Ke),Tt=Ke+Ze==tt.length;for(Ge.write_shift(1,+Tt),Ge.write_shift(2,Ze),Ge.write_shift(2,~Ze&65535);Ze-- >0;)Ge[Ge.l++]=tt[Ke++]}return Ge.l}function He(tt,Ge){for(var Ke=0,Ze=0,Tt=ae?new Uint16Array(32768):[];Ze<tt.length;){var Rt=Math.min(65535,tt.length-Ze);if(Rt<10){for(Ke=Ie(Ge,Ke,+(Ze+Rt==tt.length)),Ke&7&&(Ke+=8-(Ke&7)),Ge.l=Ke/8|0,Ge.write_shift(2,Rt),Ge.write_shift(2,~Rt&65535);Rt-- >0;)Ge[Ge.l++]=tt[Ze++];Ke=Ge.l*8;continue}Ke=Ie(Ge,Ke,+(Ze+Rt==tt.length)+2);for(var Vt=0;Rt-- >0;){var It=tt[Ze];Vt=(Vt<<5^It)&32767;var Bt=-1,dr=0;if((Bt=Tt[Vt])&&(Bt|=Ze&-32768,Bt>Ze&&(Bt-=32768),Bt<Ze))for(;tt[Bt+dr]==tt[Ze+dr]&&dr<250;)++dr;if(dr>2){It=xe[dr],It<=22?Ke=we(Ge,Ke,ge[It+1]>>1)-1:(we(Ge,Ke,3),Ke+=5,we(Ge,Ke,ge[It-23]>>5),Ke+=3);var Vr=It<8?0:It-4>>2;Vr>0&&(Fe(Ge,Ke,dr-J[It]),Ke+=Vr),It=ve[Ze-Bt],Ke=we(Ge,Ke,ge[It]>>3),Ke-=3;var Hr=It<4?0:It-2>>1;Hr>0&&(Fe(Ge,Ke,Ze-Bt-ie[It]),Ke+=Hr);for(var sn=0;sn<dr;++sn)Tt[Vt]=Ze&32767,Vt=(Vt<<5^tt[Ze])&32767,++Ze;Rt-=dr-1}else It<=143?It=It+48:Ke=Ye(Ge,Ke,1),Ke=we(Ge,Ke,ge[It]),Tt[Vt]=Ze&32767,++Ze}Ke=we(Ge,Ke,0)-1}return Ge.l=(Ke+7)/8|0,Ge.l}return function(Ge,Ke){return Ge.length<8?_e(Ge,Ke):He(Ge,Ke)}}();function mt(ee){var ve=Ha(50+Math.floor(ee.length*1.1)),he=ht(ee,ve);return ve.slice(0,he)}var ct=ae?new Uint16Array(32768):Oe(32768),Zt=ae?new Uint16Array(32768):Oe(32768),Ht=ae?new Uint16Array(128):Oe(128),Rr=1,Ir=1;function Wr(ee,ve){var he=le(ee,ve)+257;ve+=5;var me=le(ee,ve)+1;ve+=5;var xe=Se(ee,ve)+4;ve+=4;for(var _e=0,He=ae?new Uint8Array(19):Oe(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Ke=ae?new Uint8Array(8):Oe(8),Ze=ae?new Uint8Array(8):Oe(8),Tt=He.length,Rt=0;Rt<xe;++Rt)He[Y[Rt]]=_e=Ce(ee,ve),Ge<_e&&(Ge=_e),Ke[_e]++,ve+=3;var Vt=0;for(Ke[0]=0,Rt=1;Rt<=Ge;++Rt)Ze[Rt]=Vt=Vt+Ke[Rt-1]<<1;for(Rt=0;Rt<Tt;++Rt)(Vt=He[Rt])!=0&&(tt[Rt]=Ze[Vt]++);var It=0;for(Rt=0;Rt<Tt;++Rt)if(It=He[Rt],It!=0){Vt=ge[tt[Rt]]>>8-It;for(var Bt=(1<<7-It)-1;Bt>=0;--Bt)Ht[Vt|Bt<<It]=It&7|Rt<<3}var dr=[];for(Ge=1;dr.length<he+me;)switch(Vt=Ht[Me(ee,ve)],ve+=Vt&7,Vt>>>=3){case 16:for(_e=3+ke(ee,ve),ve+=2,Vt=dr[dr.length-1];_e-- >0;)dr.push(Vt);break;case 17:for(_e=3+Ce(ee,ve),ve+=3;_e-- >0;)dr.push(0);break;case 18:for(_e=11+Me(ee,ve),ve+=7;_e-- >0;)dr.push(0);break;default:dr.push(Vt),Ge<Vt&&(Ge=Vt);break}var Vr=dr.slice(0,he),Hr=dr.slice(he);for(Rt=he;Rt<286;++Rt)Vr[Rt]=0;for(Rt=me;Rt<30;++Rt)Hr[Rt]=0;return Rr=qe(Vr,ct,286),Ir=qe(Hr,Zt,30),ve}function Pe(ee,ve){if(ee[0]==3&&!(ee[1]&3))return[zf(ve),2];for(var he=0,me=0,xe=xD(ve||1<<18),_e=0,He=xe.length>>>0,tt=0,Ge=0;!(me&1);){if(me=Ce(ee,he),he+=3,me>>>1)me>>1==1?(tt=9,Ge=5):(he=Wr(ee,he),tt=Rr,Ge=Ir);else{he&7&&(he+=8-(he&7));var Ke=ee[he>>>3]|ee[(he>>>3)+1]<<8;if(he+=32,Ke>0)for(!ve&&He<_e+Ke&&(xe=Te(xe,_e+Ke),He=xe.length);Ke-- >0;)xe[_e++]=ee[he>>>3],he+=8;continue}for(;;){!ve&&He<_e+32767&&(xe=Te(xe,_e+32767),He=xe.length);var Ze=We(ee,he,tt),Tt=me>>>1==1?nt[Ze]:ct[Ze];if(he+=Tt&15,Tt>>>=4,!(Tt>>>8&255))xe[_e++]=Tt;else{if(Tt==256)break;Tt-=257;var Rt=Tt<8?0:Tt-4>>2;Rt>5&&(Rt=0);var Vt=_e+J[Tt];Rt>0&&(Vt+=We(ee,he,Rt),he+=Rt),Ze=We(ee,he,Ge),Tt=me>>>1==1?ot[Ze]:Zt[Ze],he+=Tt&15,Tt>>>=4;var It=Tt<4?0:Tt-2>>1,Bt=ie[Tt];for(It>0&&(Bt+=We(ee,he,It),he+=It),!ve&&He<Vt&&(xe=Te(xe,Vt+100),He=xe.length);_e<Vt;)xe[_e]=xe[_e-Bt],++_e}}}return ve?[xe,he+7>>>3]:[xe.slice(0,_e),he+7>>>3]}function Re(ee,ve){var he=ee.slice(ee.l||0),me=Pe(he,ve);return ee.l+=me[1],me[0]}function rt(ee,ve){if(ee)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function vt(ee,ve){var he=ee;Si(he,0);var me=[],xe=[],_e={FileIndex:me,FullPaths:xe};T(_e,{root:ve.root});for(var He=he.length-4;(he[He]!=80||he[He+1]!=75||he[He+2]!=5||he[He+3]!=6)&&He>=0;)--He;he.l=He+4,he.l+=4;var tt=he.read_shift(2);he.l+=6;var Ge=he.read_shift(4);for(he.l=Ge,He=0;He<tt;++He){he.l+=20;var Ke=he.read_shift(4),Ze=he.read_shift(4),Tt=he.read_shift(2),Rt=he.read_shift(2),Vt=he.read_shift(2);he.l+=8;var It=he.read_shift(4),Bt=o(he.slice(he.l+Tt,he.l+Tt+Rt));he.l+=Tt+Rt+Vt;var dr=he.l;he.l=It+4,Nt(he,Ke,Ze,_e,Bt),he.l=dr}return _e}function Nt(ee,ve,he,me,xe){ee.l+=2;var _e=ee.read_shift(2),He=ee.read_shift(2),tt=s(ee);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ee.read_shift(4),Ke=ee.read_shift(4),Ze=ee.read_shift(4),Tt=ee.read_shift(2),Rt=ee.read_shift(2),Vt="",It=0;It<Tt;++It)Vt+=String.fromCharCode(ee[ee.l++]);if(Rt){var Bt=o(ee.slice(ee.l,ee.l+Rt));(Bt[21589]||{}).mt&&(tt=Bt[21589].mt),((xe||{})[21589]||{}).mt&&(tt=xe[21589].mt)}ee.l+=Rt;var dr=ee.slice(ee.l,ee.l+Ke);switch(He){case 8:dr=M(ee,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var Vr=!1;_e&8&&(Ge=ee.read_shift(4),Ge==134695760&&(Ge=ee.read_shift(4),Vr=!0),Ke=ee.read_shift(4),Ze=ee.read_shift(4)),Ke!=ve&&rt(Vr,"Bad compressed size: "+ve+" != "+Ke),Ze!=he&&rt(Vr,"Bad uncompressed size: "+he+" != "+Ze),Rn(me,Vt,dr,{unsafe:!0,mt:tt})}function Kt(ee,ve){var he=ve||{},me=[],xe=[],_e=Ha(1),He=he.compression?8:0,tt=0,Ge=0,Ke=0,Ze=0,Tt=0,Rt=ee.FullPaths[0],Vt=Rt,It=ee.FileIndex[0],Bt=[],dr=0;for(Ge=1;Ge<ee.FullPaths.length;++Ge)if(Vt=ee.FullPaths[Ge].slice(Rt.length),It=ee.FileIndex[Ge],!(!It.size||!It.content||Vt=="Sh33tJ5")){var Vr=Ze,Hr=Ha(Vt.length);for(Ke=0;Ke<Vt.length;++Ke)Hr.write_shift(1,Vt.charCodeAt(Ke)&127);Hr=Hr.slice(0,Hr.l),Bt[Tt]=cde.buf(It.content,0);var sn=It.content;He==8&&(sn=q(sn)),_e=Ha(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,tt),_e.write_shift(2,He),It.mt?i(_e,It.mt):_e.write_shift(4,0),_e.write_shift(-4,Bt[Tt]),_e.write_shift(4,sn.length),_e.write_shift(4,It.content.length),_e.write_shift(2,Hr.length),_e.write_shift(2,0),Ze+=_e.length,me.push(_e),Ze+=Hr.length,me.push(Hr),Ze+=sn.length,me.push(sn),_e=Ha(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,tt),_e.write_shift(2,He),_e.write_shift(4,0),_e.write_shift(-4,Bt[Tt]),_e.write_shift(4,sn.length),_e.write_shift(4,It.content.length),_e.write_shift(2,Hr.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,Vr),dr+=_e.l,xe.push(_e),dr+=Hr.length,xe.push(Hr),++Tt}return _e=Ha(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,Tt),_e.write_shift(2,Tt),_e.write_shift(4,dr),_e.write_shift(4,Ze),_e.write_shift(2,0),af([af(me),af(xe),_e])}var Ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dt(ee,ve){if(ee.ctype)return ee.ctype;var he=ee.name||"",me=he.match(/\.([^\.]+)$/);return me&&Ft[me[1]]||ve&&(me=(he=ve).match(/[\.\\]([^\.\\])+$/),me&&Ft[me[1]])?Ft[me[1]]:"application/octet-stream"}function rr(ee){for(var ve=yD(ee),he=[],me=0;me<ve.length;me+=76)he.push(ve.slice(me,me+76));return he.join(`\r
`)+`\r
`}function gr(ee){var ve=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ke){var Ze=Ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=ve.split(`\r
`),xe=0;xe<me.length;++xe){var _e=me[xe];if(_e.length==0){he.push("");continue}for(var He=0;He<_e.length;){var tt=76,Ge=_e.slice(He,He+tt);Ge.charAt(tt-1)=="="?tt--:Ge.charAt(tt-2)=="="?tt-=2:Ge.charAt(tt-3)=="="&&(tt-=3),Ge=_e.slice(He,He+tt),He+=tt,He<_e.length&&(Ge+="="),he.push(Ge)}}return he.join(`\r
`)}function or(ee){for(var ve=[],he=0;he<ee.length;++he){for(var me=ee[he];he<=ee.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ee[++he];ve.push(me)}for(var xe=0;xe<ve.length;++xe)ve[xe]=ve[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return vl(ve.join(`\r
`))}function Tr(ee,ve,he){for(var me="",xe="",_e="",He,tt=0;tt<10;++tt){var Ge=ve[tt];if(!Ge||Ge.match(/^\s*$/))break;var Ke=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Ke)switch(Ke[1].toLowerCase()){case"content-location":me=Ke[2].trim();break;case"content-type":_e=Ke[2].trim();break;case"content-transfer-encoding":xe=Ke[2].trim();break}}switch(++tt,xe.toLowerCase()){case"base64":He=vl(uo(ve.slice(tt).join("")));break;case"quoted-printable":He=or(ve.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Ze=Rn(ee,me.slice(he.length),He,{unsafe:!0});_e&&(Ze.ctype=_e)}function An(ee,ve){if(W(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ve&&ve.root||"",me=(Qr&&Buffer.isBuffer(ee)?ee.toString("binary"):W(ee)).split(`\r
`),xe=0,_e="";for(xe=0;xe<me.length;++xe)if(_e=me[xe],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),he||(he=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),_e.slice(0,he.length)!=he););var He=(me[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var tt="--"+(He[1]||""),Ge=[],Ke=[],Ze={FileIndex:Ge,FullPaths:Ke};T(Ze);var Tt,Rt=0;for(xe=0;xe<me.length;++xe){var Vt=me[xe];Vt!==tt&&Vt!==tt+"--"||(Rt++&&Tr(Ze,me.slice(Tt,xe),he),Tt=xe)}return Ze}function Yt(ee,ve){var he=ve||{},me=he.boundary||"SheetJS";me="------="+me;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],_e=ee.FullPaths[0],He=_e,tt=ee.FileIndex[0],Ge=1;Ge<ee.FullPaths.length;++Ge)if(He=ee.FullPaths[Ge].slice(_e.length),tt=ee.FileIndex[Ge],!(!tt.size||!tt.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dr){return"_x"+dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dr){return"_u"+dr.charCodeAt(0).toString(16)+"_"});for(var Ke=tt.content,Ze=Qr&&Buffer.isBuffer(Ke)?Ke.toString("binary"):W(Ke),Tt=0,Rt=Math.min(1024,Ze.length),Vt=0,It=0;It<=Rt;++It)(Vt=Ze.charCodeAt(It))>=32&&Vt<128&&++Tt;var Bt=Tt>=Rt*4/5;xe.push(me),xe.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+He),xe.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),xe.push("Content-Type: "+Dt(tt,He)),xe.push(""),xe.push(Bt?gr(Ze):rr(Ze))}return xe.push(me+`--\r
`),xe.join(`\r
`)}function Mn(ee){var ve={};return T(ve,ee),ve}function Rn(ee,ve,he,me){var xe=me&&me.unsafe;xe||T(ee);var _e=!xe&&rn.find(ee,ve);if(!_e){var He=ee.FullPaths[0];ve.slice(0,He.length)==He?He=ve:(He.slice(-1)!="/"&&(He+="/"),He=(He+ve).replace("//","/")),_e={name:a(ve),type:2},ee.FileIndex.push(_e),ee.FullPaths.push(He),xe||rn.utils.cfb_gc(ee)}return _e.content=he,_e.size=he?he.length:0,me&&(me.CLSID&&(_e.clsid=me.CLSID),me.mt&&(_e.mt=me.mt),me.ct&&(_e.ct=me.ct)),_e}function Ne(ee,ve){T(ee);var he=rn.find(ee,ve);if(he){for(var me=0;me<ee.FileIndex.length;++me)if(ee.FileIndex[me]==he)return ee.FileIndex.splice(me,1),ee.FullPaths.splice(me,1),!0}return!1}function it(ee,ve,he){T(ee);var me=rn.find(ee,ve);if(me){for(var xe=0;xe<ee.FileIndex.length;++xe)if(ee.FileIndex[xe]==me)return ee.FileIndex[xe].name=a(he),ee.FullPaths[xe]=he,!0}return!1}function ut(ee){S(ee,!0)}return t.find=E,t.read=j,t.parse=u,t.write=te,t.writeFile=V,t.utils={cfb_new:Mn,cfb_add:Rn,cfb_del:Ne,cfb_mov:it,cfb_gc:ut,ReadShift:Wg,CheckField:Yz,prep_blob:Si,bconcat:af,use_zlib:I,_deflateRaw:mt,_inflateRaw:Re,consts:G},t}();function ude(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function oc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function eC(e){for(var t=[],r=oc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var _b=new Date(1899,11,30,0,0,0);function As(e,t){var r=e.getTime(),n=_b.getTime()+(e.getTimezoneOffset()-_b.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var kz=new Date,fde=_b.getTime()+(kz.getTimezoneOffset()-_b.getTimezoneOffset())*6e4,ND=kz.getTimezoneOffset();function A5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+fde),t.getTimezoneOffset()!==ND&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ND)*6e4),t}function dde(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var kD=new Date("2017-02-19T19:06:09.000Z"),Cz=isNaN(kD.getFullYear())?new Date("2/19/17"):kD,hde=Cz.getFullYear()==2017;function di(e,t){var r=new Date(e);if(hde)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Cz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function uh(e,t){if(Qr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Sg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Sg(mz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Sg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Sg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ni(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ni(e[r]));return t}function pa(e,t){for(var r="";r.length<t;)r+=e;return r}function El(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var pde=["january","february","march","april","may","june","july","august","september","october","november","december"];function _p(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&pde.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var mde=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function Pz(e){return e?e.content&&e.type?uh(e.content,!0):e.data?bg(e.data):e.asNodeBuffer&&Qr?bg(e.asNodeBuffer().toString("binary")):e.asBinary?bg(e.asBinary()):e._data&&e._data.getContent?bg(uh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function jz(e){if(!e)return null;if(e.data)return gD(e.data);if(e.asNodeBuffer&&Qr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?gD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function gde(e){return e&&e.name.slice(-4)===".bin"?jz(e):Pz(e)}function jo(e,t){for(var r=e.FullPaths||oc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function tC(e,t){var r=jo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ja(e,t,r){if(!r)return gde(tC(e,t));if(!t)return null;try{return ja(e,t)}catch{return null}}function no(e,t,r){if(!r)return Pz(tC(e,t));if(!t)return null;try{return no(e,t)}catch{return null}}function vde(e,t,r){return jz(tC(e,t))}function CD(e){for(var t=e.FullPaths||oc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function yde(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qr?n=Ah(r):n=Rfe(r),rn.utils.cfb_add(e,t,n)}rn.utils.cfb_add(e,t,r)}else e.file(t,r)}function Oz(e,t){switch(t.type){case"base64":return rn.read(e,{type:"base64"});case"binary":return rn.read(e,{type:"binary"});case"buffer":case"array":return rn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _g(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Iz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,xde=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,PD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,bde=/<[^>]*>/g,as=Iz.match(PD)?PD:bde,wde=/<\w*:/,_de=/<(\/?)\w+:/;function Ar(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(xde),o=0,l="",c=0,u="",d="",h=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(u=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function uc(e){return e.replace(_de,"<$1")}var Dz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Sde=eC(Dz),cn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return Dz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Ade=/[&<>'"]/g,Tde=/[\u0000-\u001f]/g;function rC(e){var t=e+"";return t.replace(Ade,function(r){return Sde[r]}).replace(/\n/g,"<br/>").replace(Tde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var jD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Zn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $S(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function OD(e){var t=zf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function ID(e){return Ah(e,"binary").toString("utf8")}var vx="foo bar bazâð£",qn=Qr&&(ID(vx)==$S(vx)&&ID||OD(vx)==$S(vx)&&OD)||$S,Sg=Qr?function(e){return Ah(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Gv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Lz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Ede=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Nde=/<\/?(?:vt:)?variant>/g,kde=/<(?:vt:)([^>]*)>([\s\S]*)</;function DD(e,t){var r=Ar(e),n=e.match(Ede(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Nde,"").match(kde);s&&a.push({v:qn(s[2]),t:s[1]})}),a}var Cde=/(^\s|\s$|\n)/;function Pde(e){return oc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function jde(e,t,r){return"<"+e+(r!=null?Pde(r):"")+(t!=null?(t.match(Cde)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function nC(e){if(Qr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return qn(Th(Qk(e)));throw new Error("Bad input format: expected Buffer or string")}var Kv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ode={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ide=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Dde(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Lde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var LD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},MD=Qr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ah(t)})):LD(e)}:LD,RD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Lc(e,a)));return n.join("").replace(Ss,"")},aC=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ss,""):RD(e,t,r)}:RD,FD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Mz=Qr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):FD(e,t,r)}:FD,$D=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(f0(e,a)));return n.join("")},ty=Qr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):$D(t,r,n)}:$D,Rz=function(e,t){var r=ro(e,t);return r>0?ty(e,t+4,t+4+r-1):""},Fz=Rz,$z=function(e,t){var r=ro(e,t);return r>0?ty(e,t+4,t+4+r-1):""},Bz=$z,Uz=function(e,t){var r=2*ro(e,t);return r>0?ty(e,t+4,t+4+r-1):""},Vz=Uz,zz=function(t,r){var n=ro(t,r);return n>0?aC(t,r+4,r+4+n):""},qz=zz,Wz=function(e,t){var r=ro(e,t);return r>0?ty(e,t+4,t+4+r):""},Hz=Wz,Gz=function(e,t){return Dde(e,t)},Sb=Gz,Kz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qr&&(Fz=function(t,r){if(!Buffer.isBuffer(t))return Rz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Bz=function(t,r){if(!Buffer.isBuffer(t))return $z(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Vz=function(t,r){if(!Buffer.isBuffer(t))return Uz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},qz=function(t,r){if(!Buffer.isBuffer(t))return zz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Hz=function(t,r){if(!Buffer.isBuffer(t))return Wz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Sb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Gz(t,r)},Kz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var f0=function(e,t){return e[t]},Lc=function(e,t){return e[t+1]*256+e[t]},Mde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ro=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Pd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Rde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Wg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Qr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Lc(this,c)),c+=2;e*=2;break;case"utf8":r=ty(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aC(this,this.l,this.l+e);break;case"wstr":return Wg.call(this,e,"dbcs");case"lpstr-ansi":r=Fz(this,this.l),e=4+ro(this,this.l);break;case"lpstr-cp":r=Bz(this,this.l),e=4+ro(this,this.l);break;case"lpwstr":r=Vz(this,this.l),e=4+2*ro(this,this.l);break;case"lpp4":e=4+ro(this,this.l),r=qz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ro(this,this.l),r=Hz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=f0(this,this.l+e++))!==0;)i.push(gx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Lc(this,this.l+e))!==0;)i.push(gx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=f0(this,c),this.l=c+1,o=Wg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gx(Lc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=f0(this,c),this.l=c+1,o=Wg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gx(f0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=f0(this,this.l),this.l++,n;case 2:return n=(t==="i"?Mde:Lc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Pd:Rde)(this,this.l),this.l+=4,n):(a=ro(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Sb(this,this.l):a=Sb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Mz(this,this.l,e);break}}return this.l+=e,r}var Fde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},$de=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Bde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Ude(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Bde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Fde(this,t,this.l);break;case 8:if(n=8,r==="f"){Lde(this,t,this.l);break}case 16:break;case-4:n=4,$de(this,t,this.l);break}return this.l+=n,this}function Yz(e,t){var r=Mz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Si(e,t){e.l=t,e.read_shift=Wg,e.chk=Yz,e.write_shift=Ude}function ns(e,t){e.l+=t}function Ha(e){var t=zf(e);return Si(t,0),t}function gu(e,t,r){if(e){var n,a,i;Si(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Cb[o]||Cb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function k3(){var e=[],t=Qr?256:2048,r=function(c){var u=Ha(c);return Si(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),af(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Hg(e,t,r){var n=Ni(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function BD(e,t,r){var n=Ni(e);return n.s=Hg(n.s,t.s,r),n.e=Hg(n.e,t.s,r),n}function Gg(e,t){if(e.cRel&&e.c<0)for(e=Ni(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ni(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Or(e);return!e.cRel&&e.cRel!=null&&(r=qde(r)),!e.rRel&&e.rRel!=null&&(r=Vde(r)),r}function BS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ya(e.s.c)+":"+(e.e.cRel?"":"$")+Ya(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ki(e.s.r)+":"+(e.e.rRel?"":"$")+ki(e.e.r):Gg(e.s,t.biff)+":"+Gg(e.e,t.biff)}function iC(e){return parseInt(zde(e),10)-1}function ki(e){return""+(e+1)}function Vde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zde(e){return e.replace(/\$(\d+)$/,"$1")}function sC(e){for(var t=Wde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ya(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function qde(e){return e.replace(/^([A-Z])/,"$$$1")}function Wde(e){return e.replace(/^\$([A-Z])/,"$1")}function Hde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function um(e){var t=e.indexOf(":");return t==-1?{s:xs(e),e:xs(e)}:{s:xs(e.slice(0,t)),e:xs(e.slice(t+1))}}function nn(e,t){return typeof t>"u"||typeof t=="number"?nn(e.s,e.e):(typeof e!="string"&&(e=Or(e)),typeof t!="string"&&(t=Or(t)),e==t?e:e+":"+t)}function va(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function UD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wo(e.z,r?As(t):t)}catch{}try{return e.w=Wo((e.XF||{}).numFmtId||(r?14:0),r?As(t):t)}catch{return""+t}}function su(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?kh[e.v]||e.v:t==null?UD(e,e.v):UD(e,t))}function Zf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Xz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?xs(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=va(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Lr[14],n.cellDates?(p.t="d",p.w=Wo(p.z,As(p.v))):(p.t="n",p.v=As(p.v),p.w=Wo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Or({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=nn(c)),i}function fm(e,t){return Xz(null,e,t)}function Gde(e){return e.read_shift(4,"i")}function es(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Kde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function oC(e,t){var r=e.l,n=e.read_shift(1),a=es(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(Kde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Yde=oC;function Go(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Eh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Xde=es;function lC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Qde=es,C3=lC;function cC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Sb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Pd(t,0)>>2;return r?a/100:a}function Qz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Nh=Qz;function Yi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Jde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Yd[a];c&&(t.rgb=Xv(c));break;case 2:t.rgb=Xv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Zde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Jz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function ehe(e){return Jz(e,1)}function the(e){return Jz(e,2)}var uC=2,js=3,yx=11,VD=12,Ab=19,xx=64,rhe=65,nhe=71,ahe=4108,ihe=4126,ai=80,Zz=81,she=[ai,Zz],ohe={1:{n:"CodePage",t:uC},2:{n:"Category",t:ai},3:{n:"PresentationFormat",t:ai},4:{n:"ByteCount",t:js},5:{n:"LineCount",t:js},6:{n:"ParagraphCount",t:js},7:{n:"SlideCount",t:js},8:{n:"NoteCount",t:js},9:{n:"HiddenCount",t:js},10:{n:"MultimediaClipCount",t:js},11:{n:"ScaleCrop",t:yx},12:{n:"HeadingPairs",t:ahe},13:{n:"TitlesOfParts",t:ihe},14:{n:"Manager",t:ai},15:{n:"Company",t:ai},16:{n:"LinksUpToDate",t:yx},17:{n:"CharacterCount",t:js},19:{n:"SharedDoc",t:yx},22:{n:"HyperlinksChanged",t:yx},23:{n:"AppVersion",t:js,p:"version"},24:{n:"DigSig",t:rhe},26:{n:"ContentType",t:ai},27:{n:"ContentStatus",t:ai},28:{n:"Language",t:ai},29:{n:"Version",t:ai},255:{},2147483648:{n:"Locale",t:Ab},2147483651:{n:"Behavior",t:Ab},1919054434:{}},lhe={1:{n:"CodePage",t:uC},2:{n:"Title",t:ai},3:{n:"Subject",t:ai},4:{n:"Author",t:ai},5:{n:"Keywords",t:ai},6:{n:"Comments",t:ai},7:{n:"Template",t:ai},8:{n:"LastAuthor",t:ai},9:{n:"RevNumber",t:ai},10:{n:"EditTime",t:xx},11:{n:"LastPrinted",t:xx},12:{n:"CreatedDate",t:xx},13:{n:"ModifiedDate",t:xx},14:{n:"PageCount",t:js},15:{n:"WordCount",t:js},16:{n:"CharCount",t:js},17:{n:"Thumbnail",t:nhe},18:{n:"Application",t:ai},19:{n:"DocSecurity",t:js},255:{},2147483648:{n:"Locale",t:Ab},2147483651:{n:"Behavior",t:Ab},1919054434:{}},zD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},che=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function uhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var fhe=uhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yd=Ni(fhe),kh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function dhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hhe(e){var t=dhe();if(!e||!e.match)return t;var r={};if((e.match(as)||[]).forEach(function(n){var a=Ar(n);switch(a[0].replace(wde,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[qD[a.ContentType]]!==void 0&&t[qD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Ode.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var j0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function P3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Kg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(as)||[]).forEach(function(a){var i=Ar(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:_g(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var phe="application/vnd.oasis.opendocument.spreadsheet";function mhe(e,t){for(var r=nC(e),n,a;n=Kv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ar(n[0],!1),a.path=="/"&&a.type!==phe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Yg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ghe=function(){for(var e=new Array(Yg.length),t=0;t<Yg.length;++t){var r=Yg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function tq(e){var t={};e=qn(e);for(var r=0;r<Yg.length;++r){var n=Yg[r],a=e.match(ghe[r]);a!=null&&a.length>0&&(t[n[1]]=cn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=di(t[n[1]]))}return t}var vhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function rq(e,t,r,n){var a=[];if(typeof e=="string")a=DD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?DD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function yhe(e,t,r){var n={};return t||(t={}),e=qn(e),vhe.forEach(function(a){var i=(e.match(Gv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=cn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&rq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var xhe=/<[^>]+>[^<]*/g;function bhe(e,t){var r={},n="",a=e.match(xhe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Ar(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=cn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=cn(u);break;case"bool":r[n]=Zn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=di(u);break;case"cy":case"error":r[n]=cn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var whe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},US;function _he(e,t,r){US||(US=eC(whe)),t=US[t]||t,e[t]=r}function fC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function aq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function iq(e,t,r){return t===31?aq(e):nq(e,t,r)}function j3(e,t,r){return iq(e,t,r===!1?0:4)}function She(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return iq(e,t,0)}function Ahe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ss,""),e.l-a&2&&(e.l+=2)}return r}function The(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ss,"");return r}function Ehe(e){var t=e.l,r=Tb(e,Zz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Tb(e,js);return[r,n]}function Nhe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Ehe(e));return r}function WD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ss,"").replace(wg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function sq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function khe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Tb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==VD&&n!==t&&she.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===VD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return nq(e,n,4).replace(Ss,"");case 31:return aq(e);case 64:return fC(e);case 65:return sq(e);case 71:return khe(e);case 80:return j3(e,n,!i.raw).replace(Ss,"");case 81:return She(e,n).replace(Ss,"");case 4108:return Nhe(e);case 4126:case 4127:return n==4127?Ahe(e):The(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function HD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),d=e.read_shift(4);i[s]=[u,d+r]}i.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Tb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Tb(e,uC),bl(o),l!==-1){var m=e.l;e.l=i[l][1],c=WD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=WD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=sq(e);break;case 30:e.l+=4,y=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ba(e,4);break;case 64:e.l+=4,y=di(fC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function GD(e,t,r){var n=e.content;if(!n)return{};Si(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==rn.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var d=HD(n,t),h={SystemIdentifier:c};for(var p in d)h[p]=d[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=HD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Hu(e,t){return e.read_shift(t),null}function Che(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ba(e,t){return e.read_shift(t)===1}function Oa(e){return e.read_shift(2,"u")}function oq(e,t){return Che(e,t,Oa)}function Phe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function ry(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function jhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function fh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ny(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):fh(e,n,r)}function Ch(e,t,r){if(r.biff>5)return ny(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Ohe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Ihe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ss,"");return n&&(e.l+=24),a}function Dhe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ss,"");return r+s}function Lhe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Ihe(e);case"0303000000000000c000000000000046":return Dhe(e);default:throw new Error("Unsupported Moniker "+r)}}function bx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ss,""):"";return r}function Mhe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,d;a&16&&(i=bx(e,r-e.l)),a&128&&(s=bx(e,r-e.l)),(a&257)===257&&(o=bx(e,r-e.l)),(a&257)===1&&(l=Lhe(e,r-e.l)),a&8&&(c=bx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(d=fC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),d&&(p.time=d),i&&(p.Tooltip=i),p}function lq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function cq(e,t){var r=lq(e);return r[3]=0,r}function fc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Rhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Fhe(e,t,r){return t===0?"":Ch(e,t,r)}function $he(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function uq(e){var t=e.read_shift(2),r=cC(e);return[t,r]}function Bhe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ry(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function T5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function fq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Uhe=fq;function dq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Vhe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function zhe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Mi(e){e.l+=2,e.l+=e.read_shift(2)}var qhe={0:Mi,4:Mi,5:Mi,6:Mi,7:zhe,8:Mi,9:Mi,10:Mi,11:Mi,12:Mi,13:Vhe,14:Mi,15:Mi,16:Mi,17:Mi,18:Mi,19:Mi,20:Mi,21:dq};function Whe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(qhe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function wx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Hhe(e,t){return t===0||e.read_shift(2),1200}function Ghe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ch(e,0,r);return e.read_shift(t+n-e.l),a}function Khe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Yhe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=ry(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Xhe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(jhe(e));return i.Count=n,i.Unique=a,i}function Qhe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Jhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Zhe(e){var t=Rhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function e0e(e){return e.read_shift(2),e.read_shift(4)}function KD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function t0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function r0e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function n0e(){}function a0e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ry(e,0,r),n}function i0e(e){var t=fc(e);return t.isst=e.read_shift(4),t}function s0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=fc(e);r.biff==2&&e.l++;var i=ny(e,n-e.l,r);return a.val=i,a}function o0e(e,t,r){var n=e.read_shift(2),a=Ch(e,0,r);return[n,a]}var l0e=Ch;function YD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function c0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=uq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function u0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(uq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function f0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function d0e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=che[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function h0e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=d0e(e,t,n.fStyle,r),n}function p0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function XD(e,t,r){var n=fc(e);(r.biff==2||t==9)&&++e.l;var a=Phe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function m0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=fc(e),a=Yi(e);return n.val=a,n}var QD=Fhe;function g0e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=fh(e,i),o=[];n>e.l;)o.push(ny(e));return[i,a,s,o]}function JD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Bhe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var v0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ZD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=fh(e,s,r);a&32&&(c=v0e[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var d=n==e.l||o===0||!(u>0)?[]:Jge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:d}}function hq(e,t,r){if(r.biff<8)return y0e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push($he(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function y0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ry(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function x0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=fh(e,n,r),s=fh(e,a,r);return[i,s]}function b0e(e,t,r){var n=fq(e);e.l++;var a=e.read_shift(1);return t-=8,[Zge(e,t,r),a,n]}function e8(e,t,r){var n=Uhe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Xge(e,t,r)]}function w0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function _0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=Ch(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function S0e(e,t,r){return _0e(e,t,r)}function A0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(T5(e));return r}function T0e(e,t,r){if(r&&r.biff<8)return N0e(e,t,r);var n=dq(e),a=Whe(e,t-22,n[1]);return{cmo:n,ft:a}}var E0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function N0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((E0e[n]||ns)(e,t,r)),{cmo:[a,n,i],ft:s}}function k0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Ohe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],d=fh(e,e.lens[c+1]-e.lens[c]-1);if(a+=d,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function C0e(e,t){var r=T5(e);e.l+=16;var n=Mhe(e,t-24);return[r,n]}function P0e(e,t){e.read_shift(2);var r=T5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ss,""),[r,n]}function j0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=zD[r]||r,r=e.read_shift(2),t[1]=zD[r]||r,t}function O0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cq(e));return r}function I0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cq(e));return r}function D0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function pq(e,t,r){if(!r.cellStyles)return ns(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function L0e(e,t){var r={};return t<32||(e.l+=16,r.header=Yi(e),r.footer=Yi(e),e.l+=2),r}function M0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var R0e=fc,F0e=oq,$0e=ny;function B0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function U0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=fc(e);++e.l;var a=Ch(e,t-7,r);return n.t="str",n.val=a,n}function V0e(e){var t=fc(e);++e.l;var r=Yi(e);return t.t="n",t.val=r,t}function z0e(e){var t=fc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function q0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function W0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function H0e(e,t,r){var n=e.l+t,a=fc(e),i=e.read_shift(2),s=fh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var G0e=[2,3,48,49,131,139,140,245],t8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=eC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=zf(1);switch(l.type){case"base64":u=vl(uo(o));break;case"binary":u=vl(o);break;case"buffer":case"array":u=o;break}Si(u,0);var d=u.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],D={},P=Math.min(u.length,d==2?521:v-10-(p?264:0)),j=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=nf.utils.decode(w,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,D.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),d==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&b.push(D),d!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,_=0;for(c[0]=[],_=0;_!=b.length;++_)c[0][_]=b[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],_=0,_=0;_!=b.length;++_){var S=u.slice(u.l,u.l+b[_].len);u.l+=b[_].len,Si(S,0);var O=nf.utils.decode(w,S);switch(b[_].type){case"C":O.trim().length&&(c[T][_]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[T][_]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[T][_]=O;break;case"F":c[T][_]=parseFloat(O.trim());break;case"+":case"I":c[T][_]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[T][_]=!0;break;case"N":case"F":c[T][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][_]="##MEMO##"+(g?parseInt(O.trim(),10):S.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[T][_]=+O||0);break;case"@":c[T][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[T][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[T][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][_]=-S.read_shift(-8,"f");break;case"B":if(p&&b[_].len==8){c[T][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=b[_].len;break;case"0":if(b[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[_].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=fm(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function a(o,l){try{return Zf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&bl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=k3(),d=F3(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=va(o["!ref"]),D=[],P=[],j=[];for(m=0;m<=b.e.c-b.s.c;++m){var T="",_="",S=0,O=[];for(v=0;v<p.length;++v)p[v][m]!=null&&O.push(p[v][m]);if(O.length==0||h[m]==null){D[m]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=O[v]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(O[v]).length),T=T&&T!=_?"C":_}S>250&&(S=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),T=="B"&&_=="N"&&(T="N",j[m]=g[m].DBF.dec,S=g[m].DBF.len),P[m]=T=="C"||_=="N"?S:i[T]||0,w+=P[m],D[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,w),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[hz]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),k=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,k,"sbcs"),N.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,P[m]||i[D[m]]||0),N.write_shift(1,j[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=P[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var X=u.next(w);for(X.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(D[v]){case"L":X.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":X.write_shift(8,p[m][v]||0,"f");break;case"N":var z="0";for(typeof p[m][v]=="number"&&(z=p[m][v].toFixed(j[v]||0)),y=0;y<P[v]-z.length;++y)X.write_shift(1,32);X.write_shift(1,z,"sbcs");break;case"D":p[m][v]?(X.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[m][v]!=null?p[m][v]:"").slice(0,P[v]);for(X.write_shift(1,G,"sbcs"),y=0;y<P[v]-G.length;++y)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),K0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+oc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?vD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:vD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(uo(h),p);case"binary":return i(h,p);case"buffer":return i(Qr&&Buffer.isBuffer(h)?h.toString("binary"):Th(h),p);case"array":return i(uh(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,b=[],D=[],P=null,j={},T=[],_=[],S=[],O=0,E;for(+p.codepage>=0&&bl(+p.codepage);y!==g.length;++y){O=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),k=N.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),U=k[0],X;if(N.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&D.push(N.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,G=!1,V=!1,W=!1,te=-1,Z=-1;for(w=1;w<k.length;++w)switch(k[w].charAt(0)){case"A":break;case"X":v=parseInt(k[w].slice(1))-1,G=!0;break;case"Y":for(m=parseInt(k[w].slice(1))-1,G||(v=0),E=b.length;E<=m;++E)b[E]=[];break;case"K":X=k[w].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(El(X))?isNaN(_p(X).getDate())||(X=di(X)):(X=El(X),P!==null&&cm(P)&&(X=A5(X))),z=!0;break;case"E":W=!0;var I=W0(k[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],I];break;case"S":V=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":te=parseInt(k[w].slice(1))-1;break;case"C":Z=parseInt(k[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(z&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=X:b[m][v]=X,P=null),V){if(W)throw new Error("SYLK shared formula cannot have own formula");var M=te>-1&&b[te][Z];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=Aq(M[1],{r:m-te,c:v-Z})}break;case"F":var q=0;for(w=1;w<k.length;++w)switch(k[w].charAt(0)){case"X":v=parseInt(k[w].slice(1))-1,++q;break;case"Y":for(m=parseInt(k[w].slice(1))-1,E=b.length;E<=m;++E)b[E]=[];break;case"M":O=parseInt(k[w].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(k[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=k[w].slice(1).split(" "),E=parseInt(S[0],10);E<=parseInt(S[1],10);++E)O=parseInt(S[2],10),_[E-1]=O===0?{hidden:!0}:{wch:O},Sp(_[E-1]);break;case"C":v=parseInt(k[w].slice(1))-1,_[v]||(_[v]={});break;case"R":m=parseInt(k[w].slice(1))-1,T[m]||(T[m]={}),O>0?(T[m].hpt=O,T[m].hpx=Qv(O)):O===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}q<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(j["!rows"]=T),_.length>0&&(j["!cols"]=_),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,j]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=fm(m,p);return oc(v).forEach(function(w){y[w]=v[w]}),y}function o(h,p){return Zf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Dme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Nb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=kb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*wq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],v=va(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var P=v.s.c;P<=v.e.c;++P){var j=Or({r:D,c:P});y=w?(h[D]||[])[P]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,D,P))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),Y0e=function(){function e(i,s){switch(s.type){case"base64":return t(uo(i),s);case"binary":return t(i,s);case"buffer":return t(Qr&&Buffer.isBuffer(i)?i.toString("binary"):Th(i),s);case"array":return t(uh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(El(g))?isNaN(_p(g).getDate())?d[l][c]=g:d[l][c]=di(g):d[l][c]=El(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return fm(e(i,s),s)}function n(i,s){return Zf(r(i,s),s)}var a=function(){var i=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=va(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Or({r:p,c:g});if(d=h?(l[p]||[])[g]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Wo(d.z||Lr[14],As(di(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),X0e=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=xs(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var D=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],D])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(d,h){return fm(r(d,h),h)}function a(d,h){return Zf(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",v=um(d["!ref"]),y=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=Or({r:w,c:b}),g=y?(d[w]||[])[b]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=As(di(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||Wo(g.z||Lr[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Yv=function(){function e(u,d,h,p,g){g.raw?d[h][p]=u:u===""||(u==="TRUE"?d[h][p]=!0:u==="FALSE"?d[h][p]=!1:isNaN(El(u))?isNaN(_p(u).getDate())?d[h][p]=u:d[h][p]=di(u):d[h][p]=El(u))}function t(u,d){var h=d||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){p[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),p,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var d={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,w=0,b=0,D=0,P=p.charCodeAt(0),j=!1,T=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?ode(h.dateNF):null;function O(){var E=u.slice(b,D),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):Mme(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(w=El(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=w;else if(!isNaN(_p(E).getDate())||S&&E.match(S)){N.z=h.dateNF||Lr[14];var k=0;S&&E.match(S)&&(E=lde(E,h.dateNF,E.match(S)||[]),k=1),h.cellDates?(N.t="d",N.v=di(E,k)):(N.t="n",N.v=As(di(E,k))),h.cellText!==!1&&(N.w=Wo(N.z,N.v instanceof Date?As(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[Or({c:y,r:v})]=N),b=D+1,_=u.charCodeAt(b),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;D<u.length;++D)switch(T=u.charCodeAt(D)){case 34:_===34&&(j=!j);break;case P:case 10:case 13:if(!j&&O())break e;break}return D-b>0&&O(),g["!ref"]=nn(m),g}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,d):fm(t(u,d),d)}function o(u,d){var h="",p=d.type=="string"?[0,0,0,0]:xC(u,d);switch(d.type){case"base64":h=uo(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof nf<"u"?h=nf.utils.decode(d.codepage,u):h=Qr&&Buffer.isBuffer(u)?u.toString("binary"):Th(u);break;case"array":h=uh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=qn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=qn(h):d.type=="binary"&&typeof nf<"u"&&d.codepage&&(h=nf.utils.decode(d.codepage,nf.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?X0e.to_sheet(d.type=="string"?h:qn(h),d):s(h,d)}function l(u,d){return Zf(o(u,d),d)}function c(u){for(var d=[],h=va(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=Or({r:m,c:y});if(p=g?(u[m]||[])[y]:u[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(su(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function Q0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=K0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Yv.to_workbook(e,t)}}var Xg=function(){function e(I,M,q){if(I){Si(I,I.l||0);for(var Y=q.Enum||te;I.l<I.length;){var J=I.read_shift(2),ie=Y[J]||Y[65535],fe=I.read_shift(2),ae=I.l+fe,ge=ie.f&&ie.f(I,fe,q);if(I.l=ae,M(ge,ie,J))return}}}function t(I,M){switch(M.type){case"base64":return r(vl(uo(I)),M);case"binary":return r(vl(I),M);case"buffer":case"array":return r(I,M)}throw"Unsupported type "+M.type}function r(I,M){if(!I)return I;var q=M||{},Y=q.dense?[]:{},J="Sheet1",ie="",fe=0,ae={},ge=[],ye=[],H={s:{r:0,c:0},e:{r:0,c:0}},ke=q.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)q.Enum=te,e(I,function(Me,We,Ie){switch(Ie){case 0:q.vers=Me,Me>=4096&&(q.qpro=!0);break;case 6:H=Me;break;case 204:Me&&(ie=Me);break;case 222:ie=Me;break;case 15:case 51:q.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:Ie==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=q.dateNF||Lr[14],q.cellDates&&(Me[1].t="d",Me[1].v=A5(Me[1].v))),q.qpro&&Me[3]>fe&&(Y["!ref"]=nn(H),ae[J]=Y,ge.push(J),Y=q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},fe=Me[3],J=ie||"Sheet"+(fe+1),ie="");var Ye=q.dense?(Y[Me[0].r]||[])[Me[0].c]:Y[Or(Me[0])];if(Ye){Ye.t=Me[1].t,Ye.v=Me[1].v,Me[1].z!=null&&(Ye.z=Me[1].z),Me[1].f!=null&&(Ye.f=Me[1].f);break}q.dense?(Y[Me[0].r]||(Y[Me[0].r]=[]),Y[Me[0].r][Me[0].c]=Me[1]):Y[Or(Me[0])]=Me[1];break}},q);else if(I[2]==26||I[2]==14)q.Enum=Z,I[2]==14&&(q.qpro=!0,I.l=0),e(I,function(Me,We,Ie){switch(Ie){case 204:J=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>fe&&(Y["!ref"]=nn(H),ae[J]=Y,ge.push(J),Y=q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},fe=Me[3],J="Sheet"+(fe+1)),ke>0&&Me[0].r>=ke)break;q.dense?(Y[Me[0].r]||(Y[Me[0].r]=[]),Y[Me[0].r][Me[0].c]=Me[1]):Y[Or(Me[0])]=Me[1],H.e.c<Me[0].c&&(H.e.c=Me[0].c),H.e.r<Me[0].r&&(H.e.r=Me[0].r);break;case 27:Me[14e3]&&(ye[Me[14e3][0]]=Me[14e3][1]);break;case 1537:ye[Me[0]]=Me[1],Me[0]==fe&&(J=Me[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Y["!ref"]=nn(H),ae[ie||J]=Y,ge.push(ie||J),!ye.length)return{SheetNames:ge,Sheets:ae};for(var Ce={},Se=[],le=0;le<ye.length;++le)ae[ge[le]]?(Se.push(ye[le]||ge[le]),Ce[ye[le]]=ae[ye[le]]||ae[ge[le]]):(Se.push(ye[le]),Ce[ye[le]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ce}}function n(I,M){var q=M||{};if(+q.codepage>=0&&bl(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=k3(),J=va(I["!ref"]),ie=Array.isArray(I),fe=[];il(Y,0,i(1030)),il(Y,6,l(J));for(var ae=Math.min(J.e.r,8191),ge=J.s.r;ge<=ae;++ge)for(var ye=ki(ge),H=J.s.c;H<=J.e.c;++H){ge===J.s.r&&(fe[H]=Ya(H));var ke=fe[H]+ye,Ce=ie?(I[ge]||[])[H]:I[ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?il(Y,13,p(ge,H,Ce.v)):il(Y,14,m(ge,H,Ce.v));else{var Se=su(Ce);il(Y,15,d(ge,H,Se.slice(0,239)))}}return il(Y,1),Y.end()}function a(I,M){var q=M||{};if(+q.codepage>=0&&bl(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=k3();il(Y,0,s(I));for(var J=0,ie=0;J<I.SheetNames.length;++J)(I.Sheets[I.SheetNames[J]]||{})["!ref"]&&il(Y,27,W(I.SheetNames[J],ie++));var fe=0;for(J=0;J<I.SheetNames.length;++J){var ae=I.Sheets[I.SheetNames[J]];if(!(!ae||!ae["!ref"])){for(var ge=va(ae["!ref"]),ye=Array.isArray(ae),H=[],ke=Math.min(ge.e.r,8191),Ce=ge.s.r;Ce<=ke;++Ce)for(var Se=ki(Ce),le=ge.s.c;le<=ge.e.c;++le){Ce===ge.s.r&&(H[le]=Ya(le));var Me=H[le]+Se,We=ye?(ae[Ce]||[])[le]:ae[Me];if(!(!We||We.t=="z"))if(We.t=="n")il(Y,23,O(Ce,le,fe,We.v));else{var Ie=su(We);il(Y,22,T(Ce,le,fe,Ie.slice(0,239)))}}++fe}}return il(Y,1),Y.end()}function i(I){var M=Ha(2);return M.write_shift(2,I),M}function s(I){var M=Ha(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var q=0,Y=0,J=0,ie=0;ie<I.SheetNames.length;++ie){var fe=I.SheetNames[ie],ae=I.Sheets[fe];if(!(!ae||!ae["!ref"])){++J;var ge=um(ae["!ref"]);q<ge.e.r&&(q=ge.e.r),Y<ge.e.c&&(Y=ge.e.c)}}return q>8191&&(q=8191),M.write_shift(2,q),M.write_shift(1,J),M.write_shift(1,Y),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(I,M,q){var Y={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&q.qpro?(Y.s.c=I.read_shift(1),I.l++,Y.s.r=I.read_shift(2),Y.e.c=I.read_shift(1),I.l++,Y.e.r=I.read_shift(2),Y):(Y.s.c=I.read_shift(2),Y.s.r=I.read_shift(2),M==12&&q.qpro&&(I.l+=2),Y.e.c=I.read_shift(2),Y.e.r=I.read_shift(2),M==12&&q.qpro&&(I.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(I){var M=Ha(8);return M.write_shift(2,I.s.c),M.write_shift(2,I.s.r),M.write_shift(2,I.e.c),M.write_shift(2,I.e.r),M}function c(I,M,q){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Y[0].c=I.read_shift(1),Y[3]=I.read_shift(1),Y[0].r=I.read_shift(2),I.l+=2):(Y[2]=I.read_shift(1),Y[0].c=I.read_shift(2),Y[0].r=I.read_shift(2)),Y}function u(I,M,q){var Y=I.l+M,J=c(I,M,q);if(J[1].t="s",q.vers==20768){I.l++;var ie=I.read_shift(1);return J[1].v=I.read_shift(ie,"utf8"),J}return q.qpro&&I.l++,J[1].v=I.read_shift(Y-I.l,"cstr"),J}function d(I,M,q){var Y=Ha(7+q.length);Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,I),Y.write_shift(1,39);for(var J=0;J<Y.length;++J){var ie=q.charCodeAt(J);Y.write_shift(1,ie>=128?95:ie)}return Y.write_shift(1,0),Y}function h(I,M,q){var Y=c(I,M,q);return Y[1].v=I.read_shift(2,"i"),Y}function p(I,M,q){var Y=Ha(7);return Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,I),Y.write_shift(2,q,"i"),Y}function g(I,M,q){var Y=c(I,M,q);return Y[1].v=I.read_shift(8,"f"),Y}function m(I,M,q){var Y=Ha(13);return Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,I),Y.write_shift(8,q,"f"),Y}function v(I,M,q){var Y=I.l+M,J=c(I,M,q);if(J[1].v=I.read_shift(8,"f"),q.qpro)I.l=Y;else{var ie=I.read_shift(2);D(I.slice(I.l,I.l+ie),J),I.l+=ie}return J}function y(I,M,q){var Y=M&32768;return M&=-32769,M=(Y?I:0)+(M>=8192?M-16384:M),(Y?"":"$")+(q?Ya(M):ki(M))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(I,M){Si(I,0);for(var q=[],Y=0,J="",ie="",fe="",ae="";I.l<I.length;){var ge=I[I.l++];switch(ge){case 0:q.push(I.read_shift(8,"f"));break;case 1:ie=y(M[0].c,I.read_shift(2),!0),J=y(M[0].r,I.read_shift(2),!1),q.push(ie+J);break;case 2:{var ye=y(M[0].c,I.read_shift(2),!0),H=y(M[0].r,I.read_shift(2),!1);ie=y(M[0].c,I.read_shift(2),!0),J=y(M[0].r,I.read_shift(2),!1),q.push(ye+H+":"+ie+J)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(I.read_shift(2));break;case 6:{for(var ke="";ge=I[I.l++];)ke+=String.fromCharCode(ge);q.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ae=q.pop(),fe=q.pop(),q.push(["AND","OR"][ge-20]+"("+fe+","+ae+")");break;default:if(ge<32&&b[ge])ae=q.pop(),fe=q.pop(),q.push(fe+b[ge]+ae);else if(w[ge]){if(Y=w[ge][1],Y==69&&(Y=I[I.l++]),Y>q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-Y);q.length-=Y,q.push(w[ge][0]+"("+Ce.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}q.length==1?M[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function P(I){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=I.read_shift(2),M[3]=I[I.l++],M[0].c=I[I.l++],M}function j(I,M){var q=P(I);return q[1].t="s",q[1].v=I.read_shift(M-4,"cstr"),q}function T(I,M,q,Y){var J=Ha(6+Y.length);J.write_shift(2,I),J.write_shift(1,q),J.write_shift(1,M),J.write_shift(1,39);for(var ie=0;ie<Y.length;++ie){var fe=Y.charCodeAt(ie);J.write_shift(1,fe>=128?95:fe)}return J.write_shift(1,0),J}function _(I,M){var q=P(I);q[1].v=I.read_shift(2);var Y=q[1].v>>1;if(q[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return q[1].v=Y,q}function S(I,M){var q=P(I),Y=I.read_shift(4),J=I.read_shift(4),ie=I.read_shift(2);if(ie==65535)return Y===0&&J===3221225472?(q[1].t="e",q[1].v=15):Y===0&&J===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var fe=ie&32768;return ie=(ie&32767)-16446,q[1].v=(1-fe*2)*(J*Math.pow(2,ie+32)+Y*Math.pow(2,ie)),q}function O(I,M,q,Y){var J=Ha(14);if(J.write_shift(2,I),J.write_shift(1,q),J.write_shift(1,M),Y==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var ie=0,fe=0,ae=0,ge=0;return Y<0&&(ie=1,Y=-Y),fe=Math.log2(Y)|0,Y/=Math.pow(2,fe-31),ge=Y>>>0,ge&2147483648||(Y/=2,++fe,ge=Y>>>0),Y-=ge,ge|=2147483648,ge>>>=0,Y*=Math.pow(2,32),ae=Y>>>0,J.write_shift(4,ae),J.write_shift(4,ge),fe+=16383+(ie?32768:0),J.write_shift(2,fe),J}function E(I,M){var q=S(I);return I.l+=M-14,q}function N(I,M){var q=P(I),Y=I.read_shift(4);return q[1].v=Y>>6,q}function k(I,M){var q=P(I),Y=I.read_shift(8,"f");return q[1].v=Y,q}function U(I,M){var q=k(I);return I.l+=M-10,q}function X(I,M){return I[I.l+M-1]==0?I.read_shift(M,"cstr"):""}function z(I,M){var q=I[I.l++];q>M-1&&(q=M-1);for(var Y="";Y.length<q;)Y+=String.fromCharCode(I[I.l++]);return Y}function G(I,M,q){if(!(!q.qpro||M<21)){var Y=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var J=I.read_shift(M-21,"cstr");return[Y,J]}}function V(I,M){for(var q={},Y=I.l+M;I.l<Y;){var J=I.read_shift(2);if(J==14e3){for(q[J]=[0,""],q[J][0]=I.read_shift(2);I[I.l];)q[J][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return q}function W(I,M){var q=Ha(5+I.length);q.write_shift(2,14e3),q.write_shift(2,M);for(var Y=0;Y<I.length;++Y){var J=I.charCodeAt(Y);q[q.l++]=J>127?95:J}return q[q.l++]=0,q}var te={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function J0e(e){var t={},r=e.match(as),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Ar(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Yk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Z0e=function(){var e=Gv("t"),t=Gv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:cn(s[1])},l=i.match(t);return l&&(o.s=J0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),epe=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),tpe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,rpe=/<(?:\w+:)?r>/,npe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function dC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=cn(qn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=qn(e),r&&(n.h=rC(n.t))):e.match(rpe)&&(n.r=qn(e),n.t=cn(qn((e.replace(npe,"").match(tpe)||[]).join("").replace(as,""))),r&&(n.h=epe(Z0e(n.r)))),n):{t:""}}var ape=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ipe=/<(?:\w+:)?(?:si|sstItem)>/g,spe=/<\/(?:\w+:)?(?:si|sstItem)>/;function ope(e,t){var r=[],n="";if(!e)return r;var a=e.match(ape);if(a){n=a[2].replace(ipe,"").split(spe);for(var i=0;i!=n.length;++i){var s=dC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Ar(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function lpe(e){return[e.read_shift(4),e.read_shift(4)]}function cpe(e,t){var r=[],n=!1;return gu(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function mq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Vc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function upe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Vc(e,4),t.U=Vc(e,4),t.W=Vc(e,4),t}function fpe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function dpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(fpe(e));return t}function hpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function ppe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Vc(e,4),t.U=Vc(e,4),t.W=Vc(e,4),t}function mpe(e){var t=ppe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function gq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function vq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function gpe(e){var t=Vc(e);switch(t.Minor){case 2:return[t.Minor,vpe(e)];case 3:return[t.Minor,ype()];case 4:return[t.Minor,xpe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function vpe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=gq(e,r),a=vq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function ype(){throw new Error("File is password-protected: ECMA-376 Extensible")}function xpe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(as,function(i){var s=Ar(i);switch(uc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function bpe(e,t){var r={},n=r.EncryptionVersionInfo=Vc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=gq(e,a),t-=a,r.EncryptionVerifier=vq(e,t),r}function wpe(e){var t={},r=t.EncryptionVersionInfo=Vc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function _pe(e){var t=0,r,n=mq(e),a=n.length+1,i,s,o,l,c;for(r=zf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var yq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],d=0;d!=7;++d)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=mq(s),l=i(o),c=o.length,u=zf(16),d=0;d!=16;++d)u[d]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Spe=function(e,t,r,n,a){a||(a=t),n||(n=yq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Ape=function(e){var t=0,r=yq(e);return function(n){var a=Spe("",n,t,r);return t=a[1],a[0]}};function Tpe(e,t,r,n){var a={key:Oa(e),verificationBytes:Oa(e)};return r.password&&(a.verifier=_pe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Ape(r.password)),a}function Epe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=wpe(e):n.Data=bpe(e,t),n}function Npe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Epe(e,t-2,n):Tpe(e,r.biff>=8?t:t-2,r,n),n}var kpe=function(){function e(a,i){switch(i.type){case"base64":return t(uo(a),i);case"binary":return t(a,i);case"buffer":return t(Qr&&Buffer.isBuffer(a)?a.toString("binary"):Th(a),i);case"array":return t(uh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[d][m]=y:o[Or({r:d,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=nn(c),o}function r(a,i){return Zf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=va(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=Or({r:c,c:u});o=l?(a[c]||[])[u]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(su(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Cpe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Xv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ppe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function jpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Eb(e,t){if(t===0)return e;var r=Ppe(Cpe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Xv(jpe(r))}var xq=6,Ope=15,Ipe=1,ms=xq;function Nb(e){return Math.floor((e+Math.round(128/ms)/256)*ms)}function kb(e){return Math.floor((e-5)/ms*100+.5)/100}function O3(e){return Math.round((e*ms+5)/ms*256)/256}function VS(e){return O3(kb(Nb(e)))}function hC(e){var t=Math.abs(e-VS(e)),r=ms;if(t>.005)for(ms=Ipe;ms<Ope;++ms)Math.abs(e-VS(e))<=t&&(t=Math.abs(e-VS(e)),r=ms);ms=r}function Sp(e){e.width?(e.wpx=Nb(e.width),e.wch=kb(e.wpx),e.MDW=ms):e.wpx?(e.wch=kb(e.wpx),e.width=O3(e.wch),e.MDW=ms):typeof e.wch=="number"&&(e.width=O3(e.wch),e.wpx=Nb(e.width),e.MDW=ms),e.customWidth&&delete e.customWidth}var Dpe=96,bq=Dpe;function wq(e){return e*96/bq}function Qv(e){return e*bq/96}var Lpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(uc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Zn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Zn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Rpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(uc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Fpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(as)||[]).forEach(function(s){var o=Ar(s);switch(uc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=qn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Zn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Zn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Zn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Zn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Zn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Zn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Zn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Yk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Zn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Yd[a.color.index];a.color.index==81&&(l=Yd[1]),l||(l=Yd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Eb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function $pe(e,t,r){t.NumberFmt=[];for(var n=oc(Lr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Lr[n[a]];var i=e[0].match(as);if(i)for(a=0;a<i.length;++a){var s=Ar(i[a]);switch(uc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=cn(qn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Kd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var _x=["numFmtId","fillId","fontId","borderId","xfId"],Sx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Bpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(as)||[]).forEach(function(i){var s=Ar(i),o=0;switch(uc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<_x.length;++o)n[_x[o]]&&(n[_x[o]]=parseInt(n[_x[o]],10));for(o=0;o<Sx.length;++o)n[Sx[o]]&&(n[Sx[o]]=Zn(n[Sx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Zn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Upe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&$pe(d,u,c),(d=o.match(a))&&Fpe(d,u,l,c),(d=o.match(n))&&Rpe(d,u,l,c),(d=o.match(i))&&Mpe(d,u,l,c),(d=o.match(r))&&Bpe(d,u,c),u}}();function Vpe(e,t){var r=e.read_shift(2),n=es(e);return[r,n]}function zpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Zde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Jde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=es(e),n}var qpe=ns;function Wpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Hpe=ns;function Gpe(e,t,r){var n={};n.NumberFmt=[];for(var a in Lr)n.NumberFmt[a]=Lr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return gu(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Kd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Eb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Kpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ype(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(as)||[]).forEach(function(a){var i=Ar(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Kpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Xpe(){}function Qpe(){}var Jpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Zpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,eme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function tme(e,t,r){t.themeElements={};var n;[["clrScheme",Jpe,Ype],["fontScheme",Zpe,Xpe],["fmtScheme",eme,Qpe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var rme=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function _q(e,t){(!e||e.length===0)&&(e=nme());var r,n={};if(!(r=e.match(rme)))throw new Error("themeElements not found in theme");return tme(r[0],n,t),n.raw=e,n}function nme(e,t){var r=[Iz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ame(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=Oz(i,{type:"array"})}catch{return}var o=no(s,"theme/theme/theme1.xml",!0);if(o)return _q(o,r)}}function ime(e){return e.read_shift(4)}function sme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ome(e,4);break;case 2:t.xclrValue=lq(e);break;case 3:t.xclrValue=ime(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ome(e,t){return ns(e,t)}function lme(e,t){return ns(e,t)}function cme(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=sme(e);break;case 6:n[1]=lme(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ume(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(cme(e,r-e.l));return{ixfe:n,ext:i}}function fme(e,t){t.forEach(function(r){switch(r[0]){}})}function dme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:es(e)}}function hme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function pme(e){return e.l+=4,e.read_shift(4)!=0}function mme(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return gu(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function gme(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(as,function(o){var l=Ar(o);switch(uc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function vme(e){var t=[];if(!e)return t;var r=1;return(e.match(as)||[]).forEach(function(n){var a=Ar(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function yme(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function xme(e,t,r){var n=[];return gu(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function bme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;gu(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function wme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function r8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=xs(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=va(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=nn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var d=i.c.length-1;d>=0;--d){if(!r&&i.c[d].T)return;r&&!i.c[d].T&&i.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}i.c.push(u)})}function _me(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ar(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=xs(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&dC(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Sme(e,t){var r=[],n=!1,a={},i=0;return e.replace(as,function(o,l){var c=Ar(o);switch(uc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Ame(e,t){var r=[],n=!1;return e.replace(as,function(i){var s=Ar(i);switch(uc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Tme(e){var t={};t.iauthor=e.read_shift(4);var r=Nh(e);return t.rfx=r.s,t.ref=Or(r.s),e.l+=16,t}var Eme=es;function Nme(e,t){var r=[],n=[],a={},i=!1;return gu(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var kme="application/vnd.ms-office.vbaProject";function Cme(e){var t=rn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rn.utils.cfb_add(t,a,e.FileIndex[n].content)}}),rn.write(t)}function Pme(){return{"!type":"dialog"}}function jme(){return{"!type":"dialog"}}function Ome(){return{"!type":"macro"}}function Ime(){return{"!type":"macro"}}var W0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ya(u)+(l?"":"$")+ki(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Sq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Dme=function(){return function(t,r){return t.replace(Sq,function(n,a,i,s,o,l){var c=sC(s)-(i?0:r.c),u=iC(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function Aq(e,t){return e.replace(Sq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ya(sC(i)+t.c))+(s=="$"?s+o:ki(iC(o)+t.r))})}function Lme(e,t,r){var n=um(t),a=n.s,i=xs(r),s={r:i.r-a.r,c:i.c-a.c};return Aq(e,s)}function Mme(e){return e.length!=1}function n8(e){return e.replace(/_xlfn\./g,"")}function Ca(e){e.l+=1}function qf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Tq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Eq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=qf(e),o=qf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Eq(e){var t=qf(e),r=qf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Rme(e,t,r){if(r.biff<8)return Eq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=qf(e),s=qf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Nq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Fme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=qf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Fme(e){var t=qf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function $me(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Bme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Ume(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function Ume(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Vme(e,t,r){var n=(e[e.l++]&96)>>5,a=Tq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function zme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Tq(e,i,r);return[n,a,s]}function qme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Wme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Hme(e,t,r){var n=(e[e.l++]&96)>>5,a=Rme(e,t-1,r);return[n,a]}function Gme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function a8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Kme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Yme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Xme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Qme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Jme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function kq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Zme(e){return e.read_shift(2),kq(e)}function ege(e){return e.read_shift(2),kq(e)}function tge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Nq(e,0,r);return[n,a]}function rge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Bme(e,0,r);return[n,a]}function nge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Nq(e,0,r);return[n,a,i]}function age(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[ive[a],jq[a],n]}function ige(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:sge(e);return[a,(i[0]===0?jq:ave)[i[1]]]}function sge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function oge(e,t,r){e.l+=r&&r.biff==2?3:4}function lge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function cge(e){return e.l++,kh[e.read_shift(1)]}function uge(e){return e.l++,e.read_shift(2)}function fge(e){return e.l++,e.read_shift(1)!==0}function dge(e){return e.l++,Yi(e)}function hge(e,t,r){return e.l++,ry(e,t-1,r)}function pge(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ba(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=kh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yi(e);break;case 2:r[1]=Ch(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function mge(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Nh:T5)(e));return a}function gge(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=pge(e,r.biff);return s}function vge(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function yge(e,t,r){if(r.biff==5)return xge(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function xge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function bge(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function wge(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _ge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Sge(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Age=ns,Tge=ns,Ege=ns;function ay(e,t,r){return e.l+=2,[$me(e)]}function pC(e){return e.l+=6,[]}var Nge=ay,kge=pC,Cge=pC,Pge=ay;function Cq(e){return e.l+=2,[Oa(e),e.read_shift(2)&1]}var jge=ay,Oge=Cq,Ige=pC,Dge=ay,Lge=ay,Mge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Rge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Mge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Fge(e){return e.l+=2,[e.read_shift(4)]}function $ge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Bge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Uge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Vge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function zge(e){return e.l+=4,[0,0]}var i8={1:{n:"PtgExp",f:lge},2:{n:"PtgTbl",f:Ege},3:{n:"PtgAdd",f:Ca},4:{n:"PtgSub",f:Ca},5:{n:"PtgMul",f:Ca},6:{n:"PtgDiv",f:Ca},7:{n:"PtgPower",f:Ca},8:{n:"PtgConcat",f:Ca},9:{n:"PtgLt",f:Ca},10:{n:"PtgLe",f:Ca},11:{n:"PtgEq",f:Ca},12:{n:"PtgGe",f:Ca},13:{n:"PtgGt",f:Ca},14:{n:"PtgNe",f:Ca},15:{n:"PtgIsect",f:Ca},16:{n:"PtgUnion",f:Ca},17:{n:"PtgRange",f:Ca},18:{n:"PtgUplus",f:Ca},19:{n:"PtgUminus",f:Ca},20:{n:"PtgPercent",f:Ca},21:{n:"PtgParen",f:Ca},22:{n:"PtgMissArg",f:Ca},23:{n:"PtgStr",f:hge},26:{n:"PtgSheet",f:$ge},27:{n:"PtgEndSheet",f:Bge},28:{n:"PtgErr",f:cge},29:{n:"PtgBool",f:fge},30:{n:"PtgInt",f:uge},31:{n:"PtgNum",f:dge},32:{n:"PtgArray",f:Gme},33:{n:"PtgFunc",f:age},34:{n:"PtgFuncVar",f:ige},35:{n:"PtgName",f:vge},36:{n:"PtgRef",f:tge},37:{n:"PtgArea",f:Vme},38:{n:"PtgMemArea",f:bge},39:{n:"PtgMemErr",f:Age},40:{n:"PtgMemNoMem",f:Tge},41:{n:"PtgMemFunc",f:wge},42:{n:"PtgRefErr",f:_ge},43:{n:"PtgAreaErr",f:qme},44:{n:"PtgRefN",f:rge},45:{n:"PtgAreaN",f:Hme},46:{n:"PtgMemAreaN",f:Uge},47:{n:"PtgMemNoMemN",f:Vge},57:{n:"PtgNameX",f:yge},58:{n:"PtgRef3d",f:nge},59:{n:"PtgArea3d",f:zme},60:{n:"PtgRefErr3d",f:Sge},61:{n:"PtgAreaErr3d",f:Wme},255:{}},qge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Wge={1:{n:"PtgElfLel",f:Cq},2:{n:"PtgElfRw",f:Dge},3:{n:"PtgElfCol",f:Nge},6:{n:"PtgElfRwV",f:Lge},7:{n:"PtgElfColV",f:Pge},10:{n:"PtgElfRadical",f:jge},11:{n:"PtgElfRadicalS",f:Ige},13:{n:"PtgElfColS",f:kge},15:{n:"PtgElfColSV",f:Cge},16:{n:"PtgElfRadicalLel",f:Oge},25:{n:"PtgList",f:Rge},29:{n:"PtgSxName",f:Fge},255:{}},Hge={0:{n:"PtgAttrNoop",f:zge},1:{n:"PtgAttrSemi",f:Jme},2:{n:"PtgAttrIf",f:Xme},4:{n:"PtgAttrChoose",f:Kme},8:{n:"PtgAttrGoto",f:Yme},16:{n:"PtgAttrSum",f:oge},32:{n:"PtgAttrBaxcel",f:a8},33:{n:"PtgAttrBaxcel",f:a8},64:{n:"PtgAttrSpace",f:Zme},65:{n:"PtgAttrSpaceSemi",f:ege},128:{n:"PtgAttrIfError",f:Qme},255:{}};function iy(e,t,r,n){if(n.biff<8)return ns(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=gge(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=mge(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(ns(e,t)),i}function sy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=i8[i]||i8[qge[i]],(i===24||i===25)&&(a=(i===24?Wge:Hge)[e[e.l+1]]),!a||!a.f?ns(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Gge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Kge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Pq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function s8(e,t,r){var n=Pq(e,t,r);return n=="#REF"?n:Yge(n,r)}function qi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=pa(" ",e[0][m][1][1]);break;case 1:v=pa("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Kge[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Hg(b[1][1],s,a),o.push(Gg(u,i));break;case"PtgRefN":u=r?Hg(b[1][1],r,a):b[1][1],o.push(Gg(u,i));break;case"PtgRef3d":d=b[1][1],u=Hg(b[1][2],s,a),g=s8(n,d,a),o.push(g+"!"+Gg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=b[1][0],P=b[1][1];D||(D=0),D&=127;var j=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=BD(b[1][1],r?{s:r}:s,a),o.push(BS(p,a));break;case"PtgArea":p=BD(b[1][1],s,a),o.push(BS(p,a));break;case"PtgArea3d":d=b[1][1],p=b[1][2],g=s8(n,d,a),o.push(g+"!"+BS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],_=T?T.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var S=b[1][1];h=b[1][2];var O;if(a.biff<=5)S<0&&(S=-S),n[S]&&(O=n[S][h]);else{var E="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(E=n.SheetNames[n[S][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])E+=n[S][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(Pq(n,S,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var k="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:k=pa(" ",e[0][m][1][1])+k;break;case 3:k=pa("\r",e[0][m][1][1])+k;break;case 4:U=pa(" ",e[0][m][1][1])+U;break;case 5:U=pa("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(k+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[Or(u)]){var z=n.sharedf[Or(u)];o.push(qi(z,s,X,n,a))}else{var G=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(qi(c[1],s,X,n,a)),G=!0;break}G||o.push(b[1])}break;case"PtgArray":o.push("{"+Gge(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&V.indexOf(e[0][y][0])==-1){b=e[0][m];var W=!0;switch(b[1][0]){case 4:W=!1;case 0:v=pa(" ",b[1][1]);break;case 5:W=!1;case 1:v=pa("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((W?v:"")+o.pop()+(W?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Xge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ns(e,t-2)];var o=sy(e,s,r);return t!==s+a&&(i=iy(e,t-s-a,o,r)),e.l=n,[o,i]}function Qge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],ns(e,t-2)];var o=sy(e,s,r);return t!==s+a&&(i=iy(e,t-s-a,o,r)),e.l=n,[o,i]}function Jge(e,t,r,n){var a=e.l+t,i=sy(e,n,r),s;return a!==e.l&&(s=iy(e,a-e.l,i,r)),[i,s]}function Zge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=sy(e,i,r);return i==65535?[[],ns(e,t-2)]:(t!==i+2&&(a=iy(e,n-i-2,s,r)),[s,a])}function eve(e){var t;if(Lc(e,e.l+6)!==65535)return[Yi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function zS(e,t,r){var n=e.l+t,a=fc(e);r.biff==2&&++e.l;var i=eve(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Qge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function E5(e,t,r){var n=e.read_shift(4),a=sy(e,n,r),i=e.read_shift(4),s=i>0?iy(e,i,a,r):null;return[a,s]}var tve=E5,N5=E5,rve=E5,nve=E5,ave={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ive={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function o8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function qS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Qg={},H0={};function Jg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Oq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Lr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=di(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Lr[t]==null&&Kd(sde[t]||"General",t),e.t==="e")e.w=e.w||kh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v);else if(e.t==="d"){var s=As(e.v);(s|0)===s?e.w=s.toString(10):e.w=Hv(s)}else{if(e.v===void 0)return"";e.w=ch(e.v,H0)}else e.t==="d"?e.w=Wo(t,As(e.v),H0):e.w=Wo(t,e.v,H0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Eb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Eb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function sve(e,t){var r=va(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=nn(r))}var ove=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,lve=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,cve=/<(?:\w:)?hyperlink [^>]*>/mg,uve=/"(\w*:\w*)"/,fve=/<(?:\w:)?col\b[^>]*[\/]?>/g,dve=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,hve=/<(?:\w:)?pageMargins[^>]*\/>/g,Iq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,pve=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,mve=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function gve(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(lve);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(Iq);h?mC(h[0],o,a,r):(h=c.match(pve))&&vve(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(uve);g&&sve(o,g[1])}var m=c.match(mve);m&&m[1]&&Sve(m[1],a);var v=[];if(t.cellStyles){var y=c.match(fve);y&&bve(v,y)}d&&Ave(d[1],o,t,l,i,s);var w=u.match(dve);w&&(o["!autofilter"]=wve(w[0]));var b=[],D=u.match(ove);if(D)for(p=0;p!=D.length;++p)b[p]=va(D[p].slice(D[p].indexOf('"')+1));var P=u.match(cve);P&&yve(o,P,n);var j=u.match(hve);if(j&&(o["!margins"]=xve(Ar(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=nn(l)),t.sheetRows>0&&o["!ref"]){var T=va(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=nn(T))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function mC(e,t,r,n){var a=Ar(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=cn(qn(a.codeName)))}function vve(e,t,r,n,a){mC(e.slice(0,e.indexOf(">")),r,n,a)}function yve(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Ar(qn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+cn(i.location))):(i.Target="#"+cn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=va(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Or({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function xve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function bve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ar(t[n],!0);a.hidden&&(a.hidden=Zn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,hC(a.width)),Sp(a);i<=s;)e[i++]=Ni(a)}}function wve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var _ve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Sve(e,t){t.Views||(t.Views=[{}]),(e.match(_ve)||[]).forEach(function(r,n){var a=Ar(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Zn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Ave=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Gv("v"),s=Gv("f");return function(l,c,u,d,h,p){for(var g=0,m="",v=[],y=[],w=0,b=0,D=0,P="",j,T,_=0,S=0,O,E,N=0,k=0,U=Array.isArray(p.CellXf),X,z=[],G=[],V=Array.isArray(c),W=[],te={},Z=!1,I=!!u.sheetStubs,M=l.split(t),q=0,Y=M.length;q!=Y;++q){m=M[q].trim();var J=m.length;if(J!==0){var ie=0;e:for(g=0;g<J;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Ar(m.slice(ie,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,u.sheetRows&&u.sheetRows<_)continue;te={},Z=!1,T.ht&&(Z=!0,te.hpt=parseFloat(T.ht),te.hpx=Qv(te.hpt)),T.hidden=="1"&&(Z=!0,te.hidden=!0),T.outlineLevel!=null&&(Z=!0,te.level=+T.outlineLevel),Z&&(W[_-1]=te)}break;case"<":ie=g;break}if(ie>=g)break;if(T=Ar(m.slice(ie,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,!(u.sheetRows&&u.sheetRows<_)){d.s.r>_-1&&(d.s.r=_-1),d.e.r<_-1&&(d.e.r=_-1),u&&u.cellStyles&&(te={},Z=!1,T.ht&&(Z=!0,te.hpt=parseFloat(T.ht),te.hpx=Qv(te.hpt)),T.hidden=="1"&&(Z=!0,te.hidden=!0),T.outlineLevel!=null&&(Z=!0,te.level=+T.outlineLevel),Z&&(W[_-1]=te)),v=m.slice(g).split(e);for(var fe=0;fe!=v.length&&v[fe].trim().charAt(0)=="<";++fe);for(v=v.slice(fe),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,b=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,P=y[1],b=0;b!=P.length&&!((D=P.charCodeAt(b)-64)<1||D>26);++b)w=26*w+D;--w,S=w}else++S;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,T=Ar(m.slice(0,b),!0),T.r||(T.r=Or({r:_-1,c:S})),P=m.slice(b),j={t:""},(y=P.match(i))!=null&&y[1]!==""&&(j.v=cn(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(j.f=cn(qn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=n8(j.f)),y[0].indexOf('t="array"')>-1)j.F=(P.match(a)||[])[1],j.F.indexOf(":")>-1&&z.push([va(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){E=Ar(y[0]);var ae=cn(qn(y[1]));u.xlfn||(ae=n8(ae)),G[parseInt(E.si,10)]=[E,ae,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(E=Ar(y[0]),G[E.si]&&(j.f=Lme(G[E.si][1],G[E.si][2],T.r)));var ge=xs(T.r);for(b=0;b<z.length;++b)ge.r>=z[b][0].s.r&&ge.r<=z[b][0].e.r&&ge.c>=z[b][0].s.c&&ge.c<=z[b][0].e.c&&(j.F=z[b][1])}if(T.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(I)j.t="z";else continue;else j.t=T.t||"n";switch(d.s.c>S&&(d.s.c=S),d.e.c<S&&(d.e.c=S),j.t){case"n":if(j.v==""||j.v==null){if(!I)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!I)continue;j.t="z"}else O=Qg[parseInt(j.v,10)],j.v=O.t,j.r=O.r,u.cellHTML&&(j.h=O.h);break;case"str":j.t="s",j.v=j.v!=null?qn(j.v):"",u.cellHTML&&(j.h=rC(j.v));break;case"inlineStr":y=P.match(n),j.t="s",y!=null&&(O=dC(y[1]))?(j.v=O.t,u.cellHTML&&(j.h=O.h)):j.v="";break;case"b":j.v=Zn(j.v);break;case"d":u.cellDates?j.v=di(j.v,1):(j.v=As(di(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=eq[j.v];break}if(N=k=0,X=null,U&&T.s!==void 0&&(X=p.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(N=X.numFmtId),u.cellStyles&&X.fillId!=null&&(k=X.fillId))),Oq(j,N,k,u,h,p),u.cellDates&&U&&j.t=="n"&&cm(Lr[N])&&(j.t="d",j.v=A5(j.v)),T.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+T.cm-1];ye&&ye.type=="XLDAPR"&&(j.D=!0)}if(V){var H=xs(T.r);c[H.r]||(c[H.r]=[]),c[H.r][H.c]=j}else c[T.r]=j}}}}W.length>0&&(c["!rows"]=W)}}();function Tve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Eve=Nh;function Nve(){}function kve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Xde(e),r}function Cve(e){var t=Go(e);return[t]}function Pve(e){var t=Eh(e);return[t]}function jve(e){var t=Go(e),r=e.read_shift(1);return[t,r,"b"]}function Ove(e){var t=Eh(e),r=e.read_shift(1);return[t,r,"b"]}function Ive(e){var t=Go(e),r=e.read_shift(1);return[t,r,"e"]}function Dve(e){var t=Eh(e),r=e.read_shift(1);return[t,r,"e"]}function Lve(e){var t=Go(e),r=e.read_shift(4);return[t,r,"s"]}function Mve(e){var t=Eh(e),r=e.read_shift(4);return[t,r,"s"]}function Rve(e){var t=Go(e),r=Yi(e);return[t,r,"n"]}function Dq(e){var t=Eh(e),r=Yi(e);return[t,r,"n"]}function Fve(e){var t=Go(e),r=cC(e);return[t,r,"n"]}function $ve(e){var t=Eh(e),r=cC(e);return[t,r,"n"]}function Bve(e){var t=Go(e),r=oC(e);return[t,r,"is"]}function Uve(e){var t=Go(e),r=es(e);return[t,r,"str"]}function Vve(e){var t=Eh(e),r=es(e);return[t,r,"str"]}function zve(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=N5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function qve(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=N5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Wve(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=Yi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=N5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Hve(e,t,r){var n=e.l+t,a=Go(e);a.r=r["!row"];var i=es(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=N5(e,n-e.l,r);s[3]=qi(o,null,a,r.supbooks,r)}else e.l=n;return s}var Gve=Nh;function Kve(e,t){var r=e.l+t,n=Nh(e),a=lC(e),i=es(e),s=es(e),o=es(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Yve(){}function Xve(e,t,r){var n=e.l+t,a=Qz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=tve(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Qve(e,t,r){var n=e.l+t,a=Nh(e),i=[a];if(r.cellFormula){var s=nve(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Jve=["left","right","top","bottom","header","footer"];function Zve(e){var t={};return Jve.forEach(function(r){t[r]=Yi(e)}),t}function e1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function t1e(){}function r1e(){}function n1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,p,g,m,v,y,w,b,D,P,j=[];o.biff=12,o["!row"]=0;var T=0,_=!1,S=[],O={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=O,E.arrayf=S,E.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var k=[],U=[],X=!1;Cb[16]={n:"BrtShortReal",f:Dq};var z;if(gu(e,function(W,te,Z){if(!h)switch(Z){case 148:c=W;break;case 0:p=W,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=ki(v=p.r),o["!row"]=p.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Qv(W.hpt)),U[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:W[2]},W[2]){case"n":g.v=W[1];break;case"s":b=Qg[W[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!W[1];break;case"e":g.v=W[1],o.cellText!==!1&&(g.w=kh[g.v]);break;case"str":g.t="s",g.v=W[1];break;case"is":g.t="s",g.v=W[1].t;break}if((m=s.CellXf[W[0].iStyleRef])&&Oq(g,m.numFmtId,null,o,i,s),y=W[0].c==-1?y+1:W[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ya(y)+D]=g,o.cellFormula){for(_=!1,T=0;T<S.length;++T){var I=S[T];p.r>=I[0].s.r&&p.r<=I[0].e.r&&y>=I[0].s.c&&y<=I[0].e.c&&(g.F=nn(I[0]),_=!0)}!_&&W.length>3&&(g.f=W[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&cm(Lr[m.numFmtId])){var M=Fd(g.v);M&&(g.t="d",g.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},y=W[0].c==-1?y+1:W[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ya(y)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 176:j.push(W);break;case 49:z=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var q=n["!id"][W.relId];for(q?(W.Target=q.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=q):W.relId==""&&(W.Target="#"+W.loc),v=W.rfx.s.r;v<=W.rfx.e.r;++v)for(y=W.rfx.s.c;y<=W.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=W):(w=Or({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=W);break;case 426:if(!o.cellFormula)break;S.push(W),P=o.dense?l[v][y]:l[Ya(y)+D],P.f=qi(W[1],u,{r:p.r,c:y},E,o),P.F=nn(W[0]);break;case 427:if(!o.cellFormula)break;O[Or(W[0].s)]=W[1],P=o.dense?l[v][y]:l[Ya(y)+D],P.f=qi(W[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)k[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},X||(X=!0,hC(W.w/256)),Sp(k[W.e+1]);break;case 161:l["!autofilter"]={ref:nn(W)};break;case 476:l["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!te.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=nn(c||u)),o.sheetRows&&l["!ref"]){var G=va(l["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>u.e.r&&(G.e.r=u.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>u.e.c&&(G.e.c=u.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),l["!fullref"]=l["!ref"],l["!ref"]=nn(G))}return j.length>0&&(l["!merges"]=j),k.length>0&&(l["!cols"]=k),U.length>0&&(l["!rows"]=U),l}function a1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=cn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function i1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=a1e(d);u.s.r=u.s.c=0,u.e.c=o,c=Ya(o),h[0].forEach(function(p,g){s[c+ki(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=nn(u)),s}function s1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Iq);return o&&mC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function o1e(e,t){e.l+=10;var r=es(e);return{name:r}}function l1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return gu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var Lq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],c1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],u1e=[],f1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function l8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Zn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function c8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Zn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Mq(e){c8(e.WBProps,Lq),c8(e.CalcPr,f1e),l8(e.WBView,c1e),l8(e.Sheets,u1e),H0.date1904=Zn(e.WBProps.date1904)}var d1e="][*?/\\".split("");function h1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return d1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var p1e=/<\w+:workbook/;function m1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(as,function(l,c){var u=Ar(l);switch(uc(u[0])){case"<?xml":break;case"<workbook":l.match(p1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Lq.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=Zn(u[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:r.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(r.WBProps.CodeName=qn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=cn(qn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=qn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Zn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=cn(qn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Ide.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Mq(r),r}function g1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=C3(e),r.name=es(e),r}function v1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?es(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function y1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function x1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Qde(e),s=rve(e,0,r),o=lC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function b1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Cb[16]={n:"BrtFRTArchID$",f:y1e},gu(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=qi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Mq(r),r.Names=i,r.supbooks=s,r}function w1e(e,t,r){return t.slice(-4)===".bin"?b1e(e,r):m1e(e,r)}function _1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?n1e(e,n,r,a,i,s,o):gve(e,n,r,a,i,s,o)}function S1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?l1e(e,n,r,a,i):s1e(e,n,r,a,i)}function A1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ome():Ime()}function T1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Pme():jme()}function E1e(e,t,r,n){return t.slice(-4)===".bin"?Gpe(e,r,n):Upe(e,r,n)}function N1e(e,t,r){return _q(e,r)}function k1e(e,t,r){return t.slice(-4)===".bin"?cpe(e,r):ope(e,r)}function C1e(e,t,r){return t.slice(-4)===".bin"?Nme(e,r):_me(e,r)}function P1e(e,t,r){return t.slice(-4)===".bin"?xme(e):vme(e)}function j1e(e,t,r,n){return r.slice(-4)===".bin"?bme(e,t,r,n):void 0}function O1e(e,t,r){return t.slice(-4)===".bin"?mme(e,t,r):gme(e,t,r)}var Rq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Fq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function al(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Rq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Fq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function I1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Rq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Fq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Zg;function D1e(e,t){var r=Zg[e]||cn(e);return r==="General"?ch(t):Wo(r,t)}function L1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Zn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=di(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[cn(t)]=a}function M1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||kh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v):e.w=ch(e.v):e.w=D1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Zg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&cm(n)){var a=Fd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function R1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Lpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function F1e(e,t,r,n,a,i,s,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var p=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);i[d]!==void 0&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&p.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Zn(e);break;case"String":n.t="s",n.r=jD(cn(e)),n.v=e.indexOf("<")>-1?cn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(di(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=cn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=eq[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=jD(t||e));break}if(M1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=cn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=W0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=W0("RC:RC",a):n.ArrayRange&&(n.F=W0(n.ArrayRange,a),l.push([va(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function $1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function WS(e,t){var r=t||{};Ez();var n=bg(nC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=qn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ni(r);return s.type="string",Yv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(We){a.indexOf("<"+We)>=0&&(i=!0)}),i)return K1e(n,r);Zg={"General Number":"General","General Date":Lr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Lr[15],"Short Date":Lr[14],"Long Time":Lr[19],"Medium Time":Lr[18],"Short Time":Lr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Lr[2],Standard:Lr[4],Percent:Lr[10],Scientific:Lr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=r.dense?[]:{},p="",g={},m={},v=al('<Data ss:Type="String">'),y=0,w=0,b=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},T="",_=0,S=[],O={},E={},N=0,k=[],U=[],X={},z=[],G,V=!1,W=[],te=[],Z={},I=0,M=0,q={Sheets:[],WBProps:{date1904:!1}},Y={};Kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=Kv.exec(n);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?F1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?X:g,{c:w,r:b},P,z[w],m,W,r):(T="",v=al(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Ya(w)+ki(b)]=g),g.HRef&&(g.l={Target:cn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(I=w+(parseInt(g.MergeAcross,10)|0),M=b+(parseInt(g.MergeDown,10)|0),S.push({s:{c:w,r:b},e:{c:I,r:M}})),!r.sheetStubs)g.MergeAcross?w=I+1:++w;else if(g.MergeAcross||g.MergeDown){for(var ie=w;ie<=I;++ie)for(var fe=b;fe<=M;++fe)(ie>w||fe>b)&&(r.dense?(h[fe]||(h[fe]=[]),h[fe][ie]={t:"z"}):h[Ya(ie)+ki(fe)]={t:"z"});w=I+1}else++w;else g=I1e(o[0]),g.Index&&(w=+g.Index-1),w<D.s.c&&(D.s.c=w),w>D.e.c&&(D.e.c=w),o[0].slice(-2)==="/>"&&++w,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<D.s.r&&(D.s.r=b),b>D.e.r&&(D.e.r=b),o[0].slice(-2)==="/>"&&(m=al(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=al(o[0]),m.Index&&(b=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=wq(Z.hpx),te[b]=Z),m.Hidden=="1"&&(Z.hidden=!0,te[b]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=nn(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=nn(D))),S.length&&(h["!merges"]=S),z.length>0&&(h["!cols"]=z),te.length>0&&(h["!rows"]=te),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=al(o[0]),p=cn(c.Name),h=r.dense?[]:{},S=[],W=[],te=[],Y={name:p,Hidden:0},q.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],V=!1}break;case"style":o[1]==="/"?R1e(P,j,r):j=al(o[0]);break;case"numberformat":j.nf=cn(al(o[0]).Format||"General"),Zg[j.nf]&&(j.nf=Zg[j.nf]);for(var ae=0;ae!=392&&Lr[ae]!=j.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Lr[ae]==null){Kd(j.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(G=al(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!V&&G.wpx>10){V=!0,ms=xq;for(var ge=0;ge<z.length;++ge)z[ge]&&Sp(z[ge])}V&&Sp(G),z[G.Index-1||z.length]=G;for(var ye=0;ye<+G.Span;++ye)z[z.length]=Ni(G);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var H=Ar(o[0]),ke={Name:H.Name,Ref:W0(H.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(ke.Sheet=q.Sheets.length-1),q.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=al(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?_he(O,J,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));$1e(X),U.push(X)}else l.push([o[3],!1]),c=al(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=al(o[0]);h["!autofilter"]={ref:W0(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return m8(n,r);var Se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+Ar(o[0]).Margin)||(h["!margins"].header=+Ar(o[0]).Margin);break;case"footer":h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+Ar(o[0]).Margin)||(h["!margins"].footer=+Ar(o[0]).Margin);break;case"pagemargins":var le=Ar(o[0]);h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+le.Top)||(h["!margins"].top=+le.Top),isNaN(+le.Left)||(h["!margins"].left=+le.Left),isNaN(+le.Right)||(h["!margins"].right=+le.Right),isNaN(+le.Bottom)||(h["!margins"].bottom=+le.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?L1e(E,J,k,n.slice(N,o.index)):(k=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Me={};return!r.bookSheets&&!r.bookProps&&(Me.Sheets=u),Me.SheetNames=d,Me.Workbook=q,Me.SSF=Ni(Lr),Me.Props=O,Me.Custprops=E,Me}function I3(e,t){switch(yC(t=t||{}),t.type||"base64"){case"base64":return WS(uo(e),t);case"binary":case"buffer":case"file":return WS(e,t);case"array":return WS(Th(e),t)}}function B1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=ehe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=the(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var U1e=[60,1084,2066,2165,2175];function V1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Lc(r,r.l),c=D3[l],u=0;c!=null&&U1e.indexOf(l)>-1;)i=Lc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=D3[l=Lc(r,r.l)];var d=af(s);Si(d,0);var h=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(h),h+=s[p].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function Vl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Lr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||kh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v):e.w=ch(e.v):e.w=Wo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&cm(Lr[n]||String(n))){var a=Fd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ax(e,t,r){return{v:e,ixfe:t,t:r}}function z1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},d,h="",p,g,m,v,y={},w=[],b,D,P=[],j=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},S=function(mt){return mt<8?Yd[mt]:mt<64&&j[mt-8]||Yd[mt]},O=function(mt,ct,Zt){var Ht=ct.XF.data;if(!(!Ht||!Ht.patternType||!Zt||!Zt.cellStyles)){ct.s={},ct.s.patternType=Ht.patternType;var Rr;(Rr=Xv(S(Ht.icvFore)))&&(ct.s.fgColor={rgb:Rr}),(Rr=Xv(S(Ht.icvBack)))&&(ct.s.bgColor={rgb:Rr})}},E=function(mt,ct,Zt){if(!(Z>1)&&!(Zt.sheetRows&&mt.r>=Zt.sheetRows)){if(Zt.cellStyles&&ct.XF&&ct.XF.data&&O(mt,ct,Zt),delete ct.ixfe,delete ct.XF,d=mt,h=Or(mt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<s.s.r&&(s.s.r=mt.r),mt.c<s.s.c&&(s.s.c=mt.c),mt.r+1>s.e.r&&(s.e.r=mt.r+1),mt.c+1>s.e.c&&(s.e.c=mt.c+1),Zt.cellFormula&&ct.f){for(var Ht=0;Ht<w.length;++Ht)if(!(w[Ht][0].s.c>mt.c||w[Ht][0].s.r>mt.r)&&!(w[Ht][0].e.c<mt.c||w[Ht][0].e.r<mt.r)){ct.F=nn(w[Ht][0]),(w[Ht][0].s.c!=mt.c||w[Ht][0].s.r!=mt.r)&&delete ct.f,ct.f&&(ct.f=""+qi(w[Ht][1],s,mt,W,N));break}}Zt.dense?(a[mt.r]||(a[mt.r]=[]),a[mt.r][mt.c]=ct):a[h]=ct}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var k,U=[],X=[],z=[],G=[],V=!1,W=[];W.SheetNames=N.snames,W.sharedf=N.sharedf,W.arrayf=N.arrayf,W.names=[],W.XTI=[];var te=0,Z=0,I=0,M=[],q=[],Y;N.codepage=1200,bl(1200);for(var J=!1;e.l<e.length-1;){var ie=e.l,fe=e.read_shift(2);if(fe===0&&te===10)break;var ae=e.l===e.length?0:e.read_shift(2),ge=D3[fe];if(ge&&ge.f){if(t.bookSheets&&te===133&&fe!==133)break;if(te=fe,ge.r===2||ge.r==12){var ye=e.read_shift(2);if(ae-=2,!N.enc&&ye!==fe&&((ye&255)<<8|ye>>8)!==fe)throw new Error("rt mismatch: "+ye+"!="+fe);ge.r==12&&(e.l+=10,ae-=10)}var H={};if(fe===10?H=ge.f(e,ae,N):H=V1e(fe,ge,e,ae,N),Z==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(fe){case 34:r.opts.Date1904=T.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=H,!t.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=H;break;case 66:var ke=Number(H);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}bl(N.codepage=ke),J=!0;break;case 317:N.rrtabid=H;break;case 25:N.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:N.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(a["!type"]="dialog"),H.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),H.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(H);break;case 430:W.push([H]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(H);break;case 24:case 536:Y={Name:H.Name,Ref:qi(H.rgce,s,null,W,N)},H.itab>0&&(Y.Sheet=H.itab-1),W.names.push(Y),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(q[H.itab-1]={ref:nn(H.rgce[0][0][1][2])});break;case 22:N.ExternCount=H;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(H),W.XTI=W.XTI.concat(H);break;case 2196:if(N.biff<8)break;Y!=null&&(Y.Comment=H[1]);break;case 18:a["!protect"]=H;break;case 19:H!==0&&N.WTF&&console.error("Password verifier: "+H);break;case 133:i[H.pos]=H,N.snames.push(H.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=nn(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=nn(s),s.e.r=Ce}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),X.length>0&&(a["!objects"]=X),z.length>0&&(a["!cols"]=z),G.length>0&&(a["!rows"]=G),T.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),N.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(N.biff=5,J=!0,bl(N.codepage=28591)),N.biff==8&&H.BIFFVer==0&&H.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!J&&(J=!0,bl(N.codepage=t.codepage||1252)),N.biff<5||H.BIFFVer==0&&H.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-ae,name:c};i[Se.pos]=Se,N.snames.push(c)}else c=(i[ie]||{name:""}).name;H.dt==32&&(a["!type"]="chart"),H.dt==64&&(a["!type"]="macro"),U=[],X=[],N.arrayf=w=[],z=[],G=[],V=!1,_={Hidden:(i[ie]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[H.r]||[])[H.c]:a[Or({c:H.c,r:H.r})])&&++H.c,b={ixfe:H.ixfe,XF:P[H.ixfe]||{},v:H.val,t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t);break;case 5:case 517:b={ixfe:H.ixfe,XF:P[H.ixfe],v:H.val,t:H.t},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t);break;case 638:b={ixfe:H.ixfe,XF:P[H.ixfe],v:H.rknum,t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t);break;case 189:for(var le=H.c;le<=H.C;++le){var Me=H.rkrec[le-H.c][0];b={ixfe:Me,XF:P[Me],v:H.rkrec[le-H.c][1],t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:le,r:H.r},b,t)}break;case 6:case 518:case 1030:{if(H.val=="String"){o=H;break}if(b=Ax(H.val,H.cell.ixfe,H.tt),b.XF=P[b.ixfe],t.cellFormula){var We=H.formula;if(We&&We[0]&&We[0][0]&&We[0][0][0]=="PtgExp"){var Ie=We[0][0][1][0],Ye=We[0][0][1][1],we=Or({r:Ie,c:Ye});y[we]?b.f=""+qi(H.formula,s,H.cell,W,N):b.F=((t.dense?(a[Ie]||[])[Ye]:a[we])||{}).F}else b.f=""+qi(H.formula,s,H.cell,W,N)}I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E(H.cell,b,t),o=H}break;case 7:case 519:if(o)o.val=H,b=Ax(H,o.cell.ixfe,"s"),b.XF=P[b.ixfe],t.cellFormula&&(b.f=""+qi(o.formula,s,o.cell,W,N)),I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(H);var Fe=Or(H[0].s);if(p=t.dense?(a[H[0].s.r]||[])[H[0].s.c]:a[Fe],t.cellFormula&&p){if(!o||!Fe||!p)break;p.f=""+qi(H[1],s,H[0],W,N),p.F=nn(H[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Or(o.cell)]=H[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Or(o.cell)],(p||{}).f=""+qi(H[0],s,d,W,N)}}break;case 253:b=Ax(l[H.isst].t,H.ixfe,"s"),l[H.isst].h&&(b.h=l[H.isst].h),b.XF=P[b.ixfe],I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:H.ixfe,XF:P[H.ixfe],t:"z"},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t));break;case 190:if(t.sheetStubs)for(var Te=H.c;Te<=H.C;++Te){var Oe=H.ixfe[Te-H.c];b={ixfe:Oe,XF:P[Oe],t:"z"},I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:Te,r:H.r},b,t)}break;case 214:case 516:case 4:b=Ax(H.val,H.ixfe,"s"),b.XF=P[b.ixfe],I>0&&(b.z=M[b.ixfe>>8&63]),Vl(b,t,r.opts.Date1904),E({c:H.c,r:H.r},b,t);break;case 0:case 512:Z===1&&(s=H);break;case 252:l=H;break;case 1054:if(N.biff==4){M[I++]=H[1];for(var qe=0;qe<I+163&&Lr[qe]!=H[1];++qe);qe>=163&&Kd(H[1],I+163)}else Kd(H[1],H[0]);break;case 30:{M[I++]=H;for(var nt=0;nt<I+163&&Lr[nt]!=H;++nt);nt>=163&&Kd(H,I+163)}break;case 229:U=U.concat(H);break;case 93:X[H.cmo[0]]=N.lastobj=H;break;case 438:N.lastobj.TxO=H;break;case 127:N.lastobj.ImData=H;break;case 440:for(v=H[0].s.r;v<=H[0].e.r;++v)for(m=H[0].s.c;m<=H[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Or({c:m,r:v})],p&&(p.l=H[1]);break;case 2048:for(v=H[0].s.r;v<=H[0].e.r;++v)for(m=H[0].s.c;m<=H[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Or({c:m,r:v})],p&&p.l&&(p.l.Tooltip=H[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[H[0].r]||[])[H[0].c]:a[Or(H[0])];var ot=X[H[2]];p||(t.dense?(a[H[0].r]||(a[H[0].r]=[]),p=a[H[0].r][H[0].c]={t:"z"}):p=a[Or(H[0])]={t:"z"},s.e.r=Math.max(s.e.r,H[0].r),s.s.r=Math.min(s.s.r,H[0].r),s.e.c=Math.max(s.e.c,H[0].c),s.s.c=Math.min(s.s.c,H[0].c)),p.c||(p.c=[]),g={a:H[1],t:ot.TxO.t},p.c.push(g)}break;case 2173:fme(P[H.ixfe],H.ext);break;case 125:{if(!N.cellStyles)break;for(;H.e>=H.s;)z[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},V||(V=!0,hC(H.w/256)),Sp(z[H.e+1])}break;case 520:{var xt={};H.level!=null&&(G[H.r]=xt,xt.level=H.level),H.hidden&&(G[H.r]=xt,xt.hidden=!0),H.hpt&&(G[H.r]=xt,xt.hpt=H.hpt,xt.hpx=Qv(H.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Jg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=H;break;case 161:a["!margins"]||Jg(a["!margins"]={}),a["!margins"].header=H.header,a["!margins"].footer=H.footer;break;case 574:H.RTL&&(T.Views[0].RTL=!0);break;case 146:j=H;break;case 2198:k=H;break;case 140:D=H;break;case 442:c?_.CodeName=H||_.name:T.WBProps.CodeName=H||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=ae}return r.SheetNames=oc(i).sort(function(ht,mt){return Number(ht)-Number(mt)}).map(function(ht){return i[ht].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(ht,mt){r.Sheets[r.SheetNames[mt]]["!autofilter"]=ht}),r.Strings=l,r.SSF=Ni(Lr),N.enc&&(r.Encryption=N.enc),k&&(r.Themes=k),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),W.names.length>0&&(T.Names=W.names),r.Workbook=T,r}var u8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function q1e(e,t,r){var n=rn.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=GD(n,ohe,u8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=rn.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=GD(s,lhe,u8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(rq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function $q(e,t){t||(t={}),yC(t),pz(),t.codepage&&Xk(t.codepage);var r,n;if(e.FullPaths){if(rn.find(e,"/encryption"))throw new Error("File is password-protected");r=rn.find(e,"!CompObj"),n=rn.find(e,"/Workbook")||rn.find(e,"/Book")}else{switch(t.type){case"base64":e=vl(uo(e));break;case"binary":e=vl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Si(e,0),n={content:e}}var a,i;if(r&&B1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Qr?"buffer":"array";if(n&&n.content)a=z1e(n.content,t);else if((i=rn.find(e,"PerfectOffice_MAIN"))&&i.content)a=Xg.to_workbook(i.content,(t.type=s,t));else if((i=rn.find(e,"NativeContent_MAIN"))&&i.content)a=Xg.to_workbook(i.content,(t.type=s,t));else throw(i=rn.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&rn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Cme(e))}var o={};return e.FullPaths&&q1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Cb={0:{f:Tve},1:{f:Cve},2:{f:Fve},3:{f:Ive},4:{f:jve},5:{f:Rve},6:{f:Uve},7:{f:Lve},8:{f:Hve},9:{f:Wve},10:{f:zve},11:{f:qve},12:{f:Pve},13:{f:$ve},14:{f:Dve},15:{f:Ove},16:{f:Dq},17:{f:Vve},18:{f:Mve},19:{f:oC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:x1e},40:{},42:{},43:{f:zpe},44:{f:Vpe},45:{f:qpe},46:{f:Hpe},47:{f:Wpe},48:{},49:{f:Gde},50:{},51:{f:hme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pq},62:{f:Bve},63:{f:yme},64:{f:t1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ns,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:e1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:kve},148:{f:Eve,p:16},151:{f:Yve},152:{},153:{f:v1e},154:{},155:{},156:{f:g1e},157:{},158:{},159:{T:1,f:lpe},160:{T:-1},161:{T:1,f:Nh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Gve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:dme},336:{T:-1},337:{f:pme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:C3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Xve},427:{f:Qve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Nve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Kve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:C3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eme},633:{T:1},634:{T:-1},635:{T:1,f:Tme},636:{T:-1},637:{f:Yde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:o1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:r1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},D3={6:{f:zS},10:{f:Hu},12:{f:Oa},13:{f:Oa},14:{f:ba},15:{f:ba},16:{f:Yi},17:{f:ba},18:{f:ba},19:{f:Oa},20:{f:QD},21:{f:QD},23:{f:hq},24:{f:ZD},25:{f:ba},26:{},27:{},28:{f:S0e},29:{},34:{f:ba},35:{f:JD},38:{f:Yi},39:{f:Yi},40:{f:Yi},41:{f:Yi},42:{f:ba},43:{f:ba},47:{f:Npe},49:{f:a0e},51:{f:Oa},60:{},61:{f:t0e},64:{f:ba},65:{f:n0e},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:Ghe},93:{f:T0e},94:{},95:{f:ba},96:{},97:{},99:{f:ba},125:{f:pq},128:{f:p0e},129:{f:Khe},130:{f:Oa},131:{f:ba},132:{f:ba},133:{f:Yhe},134:{},140:{f:j0e},141:{f:Oa},144:{},146:{f:I0e},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:F0e},161:{f:L0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:u0e},190:{f:f0e},193:{f:Hu},197:{},198:{},199:{},200:{},201:{},202:{f:ba},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:ba},222:{},224:{f:h0e},225:{f:Hhe},226:{f:Hu},227:{},229:{f:A0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Xhe},253:{f:i0e},255:{f:Qhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:oq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ba},353:{f:Hu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:g0e},431:{f:ba},432:{},433:{},434:{},437:{},438:{f:k0e},439:{f:ba},440:{f:C0e},441:{},442:{f:ny},443:{},444:{f:Oa},445:{},446:{},448:{f:Hu},449:{f:e0e,r:2},450:{f:Hu},512:{f:YD},513:{f:R0e},515:{f:m0e},516:{f:s0e},517:{f:XD},519:{f:$0e},520:{f:Jhe},523:{},545:{f:e8},549:{f:KD},566:{},574:{f:r0e},638:{f:c0e},659:{},1048:{},1054:{f:o0e},1084:{},1212:{f:b0e},2048:{f:P0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Hu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:D0e,r:12},2173:{f:ume,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ba,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:x0e,r:12},2197:{},2198:{f:ame,r:12},2199:{},2200:{},2201:{},2202:{f:w0e,r:12},2203:{f:Hu},2204:{},2205:{},2206:{},2207:{},2211:{f:Zhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:M0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:O0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:YD},1:{},2:{f:z0e},3:{f:V0e},4:{f:U0e},5:{f:XD},7:{f:q0e},8:{},9:{f:wx},11:{},22:{f:Oa},30:{f:l0e},31:{},32:{},33:{f:e8},36:{},37:{f:KD},50:{f:W0e},62:{},52:{},67:{},68:{f:Oa},69:{},86:{},126:{},127:{f:B0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:H0e},223:{},234:{},354:{},421:{},518:{f:zS},521:{f:wx},536:{f:ZD},547:{f:JD},561:{},579:{},1030:{f:zS},1033:{f:wx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function il(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Kz(r)&&e.push(r)}}function f8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=mde(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,D=0;b.charAt(0)=="<"&&(D=b.indexOf(">"))>-1;)b=b.slice(D+1);for(var P=0;P<g.length;++P){var j=g[P];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,P=-1)}var T=Ar(w.slice(0,w.indexOf(">")));h=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var _=T.t||T["data-t"]||"";if(!b.length){u+=h;continue}if(b=Lz(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!b.length){u+=h;continue}var S={t:"s",v:b};r.raw||!b.trim().length||_=="s"||(b==="TRUE"?S={t:"b",v:!0}:b==="FALSE"?S={t:"b",v:!1}:isNaN(El(b))?isNaN(_p(b).getDate())||(S={t:"d",v:di(b)},r.cellDates||(S={t:"n",v:As(S.v)}),S.z=r.dateNF||Lr[14]):S={t:"n",v:El(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[Or({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=nn(p),g.length&&(n["!merges"]=g),n}function W1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Or({r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],h=d&&d.v!=null&&(d.h||rC(d.w||(su(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(jde("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var H1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',G1e="</body></html>";function K1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Zf(f8(r[0],t),t);var n=bC();return r.forEach(function(a,i){wC(n,f8(a,t),"Sheet"+(i+1))}),n}function Y1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function X1e(e,t){var r=t||{},n=r.header!=null?r.header:H1e,a=r.footer!=null?r.footer:G1e,i=[n],s=um(e["!ref"]);r.dense=Array.isArray(e),i.push(Y1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(W1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Bq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?xs(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=um(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(d8(D)){if(n.display)continue;p[m]={hidden:!0}}var P=D.children;for(v=y=0;v<P.length;++v){var j=P[v];if(!(n.display&&d8(j))){var T=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Lz(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<d.length;++h){var S=d[h];S.s.c==y+i&&S.s.r<m+a&&m+a<=S.e.r&&(y=S.e.c+1-i,h=-1)}b=+j.getAttribute("colspan")||1,((w=+j.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(b||1)-1}});var O={t:"s",v:T},E=j.getAttribute("data-t")||j.getAttribute("t")||"";T!=null&&(T.length==0?O.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?O={t:"b",v:!0}:T==="FALSE"?O={t:"b",v:!1}:isNaN(El(T))?isNaN(_p(T).getDate())||(O={t:"d",v:di(T)},n.cellDates||(O={t:"n",v:As(O.v)}),O.z=n.dateNF||Lr[14]):O={t:"n",v:El(T)})),O.z===void 0&&_!=null&&(O.z=_);var N="",k=j.getElementsByTagName("A");if(k&&k.length)for(var U=0;U<k.length&&!(k[U].hasAttribute("href")&&(N=k[U].getAttribute("href"),N.charAt(0)!="#"));++U);N&&N.charAt(0)!="#"&&(O.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=O):e[Or({c:y+i,r:m+a})]=O,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=nn(c),m>=l&&(e["!fullref"]=nn((c.e.r=o.length-g+m-1+a,c))),e}function Uq(e,t){var r=t||{},n=r.dense?[]:{};return Bq(n,e,t)}function Q1e(e,t){return Zf(Uq(e,t),t)}function d8(e){var t="",r=J1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function J1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Z1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=cn(t.replace(/<[^>]*>/g,""));return[r]}var h8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Vq(e,t){var r=t||{},n=nC(e),a=[],i,s,o={name:""},l="",c=0,u,d,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},w="",b=0,D=[],P=-1,j=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},O=[],E={},N=0,k=0,U=[],X=1,z=1,G=[],V={Names:[]},W={},te=["",""],Z=[],I={},M="",q=0,Y=!1,J=!1,ie=0;for(Kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Kv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=nn(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=nn(T)),O.length&&(g["!merges"]=O),U.length&&(g["!rows"]=U),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,J=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Ar(m[0],!1),P=j=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},O=[],U=[],J=!0);break;case"table-row-group":m[1]==="/"?--_:++_;break;case"table-row":case"行":if(m[1]==="/"){P+=X,X=1;break}if(d=Ar(m[0],!1),d.行号?P=d.行号-1:P==-1&&(P=0),X=+d["number-rows-repeated"]||1,X<10)for(ie=0;ie<X;++ie)_>0&&(U[P+ie]={level:_});j=-1;break;case"covered-table-cell":m[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][j]={t:"z"}):g[Or({r:P,c:j})]={t:"z"}),w="",D=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++j,y=Ar(m[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=o8(cn(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=cn(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][j]=v):g[Or({r:P,c:j})]=v),j+=z-1;else if(m[1]!=="/"){++j,w="",b=0,D=[],z=1;var fe=X?P+X-1:P;if(j>T.e.c&&(T.e.c=j),j<T.s.c&&(T.s.c=j),P<T.s.r&&(T.s.r=P),fe>T.e.r&&(T.e.r=fe),y=Ar(m[0],!1),Z=[],I={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=cn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,k=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+k-1}},v.F=nn(E),G.push([E,v.F])),y.formula)v.f=o8(y.formula);else for(ie=0;ie<G.length;++ie)P>=G[ie][0].s.r&&P<=G[ie][0].e.r&&j>=G[ie][0].s.c&&j<=G[ie][0].e.c&&(v.F=G[ie][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,k=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+k-1}},O.push(E)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Zn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=di(y["date-value"]),r.cellDates||(v.t="n",v.v=As(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=dde(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=A5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=cn(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Y=!1,v.t==="s"&&(v.v=w||"",D.length&&(v.R=D),Y=b==0),W.Target&&(v.l=W),Z.length>0&&(v.c=Z,Z=[]),w&&r.cellText!==!1&&(v.w=w),Y&&(v.t="z",delete v.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ae=0;ae<X;++ae){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ae]||(g[P+ae]=[]),g[P+ae][j]=ae==0?v:Ni(v);--z>0;)g[P+ae][j+z]=Ni(v);else for(g[Or({r:P+ae,c:j})]=v;--z>0;)g[Or({r:P+ae,c:j+z})]=Ni(v);T.e.c<=j&&(T.e.c=j)}z=parseInt(y["number-columns-repeated"]||"1",10),j+=z-1,z=0,v={},w="",D=[]}W={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;I.t=w,D.length&&(I.R=D),I.a=M,Z.push(I)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);M="",q=0,w="",b=0,D=[];break;case"creator":m[1]==="/"?M=n.slice(q,m.index):q=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",b=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Ar(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ar(m[0],!1),l+=h8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ar(m[0],!1),l+=h8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Ar(m[0],!1),te=qS(s["cell-range-address"]);var ge={Name:s.name,Ref:te[0]+"!"+te[1]};J&&(ge.Sheet=p.length),V.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var ye=Z1e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+ye[0]}else Ar(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{te=qS(Ar(m[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(W=Ar(m[0],!1),!W.href)break;W.Target=cn(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(te=qS(W.Target.slice(1)),W.Target="#"+te[0]+"!"+te[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var H={Sheets:h,SheetNames:p,Workbook:V};return r.bookSheets&&delete H.Sheets,H}function p8(e,t){t=t||{},jo(e,"META-INF/manifest.xml")&&mhe(ja(e,"META-INF/manifest.xml"),t);var r=no(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Vq(qn(r),t);return jo(e,"meta.xml")&&(n.Props=tq(ja(e,"meta.xml"))),n}function m8(e,t){return Vq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function L3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):qn(Th(e))}function M3(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function g8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function eye(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ja(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Jv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Jv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function vC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function tye(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Jv(e,n),i=Qi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ja(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Qi(o.data),c=Ja(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Ja(i[3][0].data)>>>0>0),r.push(s)}return r}function rye(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Jv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[M3(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=M3(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function nye(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(rye(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return M3(t)}function aye(e,t,r,n){var a=gC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+g8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=g8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function iye(e,t,r){var n=gC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=eye(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return d}function sye(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return aye(e,t,r,e[0]);case 5:return iye(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Pf(e){var t=Qi(e);return Jv(t[1][0].data)}function v8(e,t){var r=Qi(t.data),n=Ja(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Qi(s.data),l=Ja(o[1][0].data)>>>0;switch(n){case 1:i[l]=L3(o[3][0].data);break;case 8:{var c=e[Pf(o[9][0].data)][0],u=Qi(c.data),d=e[Pf(u[1][0].data)][0],h=Ja(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Qi(d.data);i[l]=p[3].map(function(g){return L3(g.data)}).join("")}break}}),i}function oye(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g,m,v=Qi(e),y=Ja(v[1][0].data)>>>0,w=Ja(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ja(v[8][0].data)>0||!1,D,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&t!=1)D=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=b?4:1,T=gC(D),_=[],S=0;S<D.length/2;++S){var O=T.getUint16(S*2,!0);O<65535&&_.push([S,O])}if(_.length!=w)throw"Expected ".concat(w," cells, found ").concat(_.length);var E=[];for(S=0;S<_.length-1;++S)E[_[S][0]]=P.subarray(_[S][1]*j,_[S+1][1]*j);return _.length>=1&&(E[_[_.length-1][0]]=P.subarray(_[_.length-1][1]*j)),{R:y,cells:E}}function lye(e,t){var r,n=Qi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ja(n[7][0].data)>>>0>0?1:0:-1,i=vC(n[5],function(s){return oye(s,a)});return{nrows:Ja(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function cye(e,t,r){var n,a=Qi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ja(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ja(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=nn(i);var s=Qi(a[4][0].data),o=v8(e,e[Pf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?v8(e,e[Pf(s[17][0].data)][0]):[],c=Qi(s[3][0].data),u=0;c[1].forEach(function(d){var h=Qi(d.data),p=e[Pf(h[2][0].data)][0],g=Ja(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=lye(e,p);m.data.forEach(function(v,y){v.forEach(function(w,b){var D=Or({r:u+y,c:b}),P=sye(w,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function uye(e,t){var r=Qi(t.data),n={"!ref":"A1"},a=e[Pf(r[2][0].data)],i=Ja(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return cye(e,a[0],n),n}function fye(e,t){var r,n=Qi(t.data),a={name:(r=n[1])!=null&&r[0]?L3(n[1][0].data):"",sheets:[]},i=vC(n[2],Pf);return i.forEach(function(s){e[s].forEach(function(o){var l=Ja(o.meta[1][0].data);l==6e3&&a.sheets.push(uye(e,o))})}),a}function dye(e,t){var r=bC(),n=Qi(t.data),a=vC(n[1],Pf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ja(s.meta[1][0].data);if(o==2){var l=fye(e,s);l.sheets.forEach(function(c,u){wC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function HS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=nye(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=tye(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){i[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ja(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ja(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return dye(i,o)}function hye(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function yC(e){hye([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function pye(e){return j0.WS.indexOf(e)>-1?"sheet":e==j0.CS?"chart":e==j0.DS?"dialog":e==j0.MS?"macro":e&&e.length?e:"sheet"}function mye(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,pye(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function gye(e,t,r,n,a,i,s,o,l,c,u,d){try{i[n]=Kg(no(e,r,!0),t);var h=ja(e,t),p;switch(o){case"sheet":p=_1e(h,t,a,l,i[n],c,u,d);break;case"chart":if(p=S1e(h,t,a,l,i[n],c,u,d),!p||!p["!drawel"])break;var g=_g(p["!drawel"].Target,t),m=P3(g),v=wme(no(e,g,!0),Kg(no(e,m,!0),g)),y=_g(v,g),w=P3(y);p=i1e(no(e,y,!0),y,l,Kg(no(e,w,!0),y),c,p);break;case"macro":p=A1e(h,t,a,l,i[n],c,u,d);break;case"dialog":p=T1e(h,t,a,l,i[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&oc(i[n]).forEach(function(D){var P="";if(i[n][D].Type==j0.CMNT){P=_g(i[n][D].Target,t);var j=C1e(ja(e,P,!0),P,l);if(!j||!j.length)return;r8(p,j,!1)}i[n][D].Type==j0.TCMNT&&(P=_g(i[n][D].Target,t),b=b.concat(Sme(ja(e,P,!0),l)))}),b&&b.length&&r8(p,b,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function Ao(e){return e.charAt(0)=="/"?e.slice(1):e}function vye(e,t){if(Ez(),t=t||{},yC(t),jo(e,"META-INF/manifest.xml")||jo(e,"objectdata.xml"))return p8(e,t);if(jo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof HS<"u"){if(e.FileIndex)return HS(e);var r=rn.utils.cfb_new();return CD(e).forEach(function(U){yde(r,U,vde(e,U))}),HS(r)}throw new Error("Unsupported NUMBERS file")}if(!jo(e,"[Content_Types].xml"))throw jo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):jo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=CD(e),a=hhe(no(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ja(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ja(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Qg=[],a.sst)try{Qg=k1e(ja(e,Ao(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=N1e(no(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=E1e(ja(e,Ao(a.style)),a.style,l,t))}a.links.map(function(U){try{var X=Kg(no(e,P3(Ao(U))),U);return j1e(ja(e,Ao(U)),X,U,t)}catch{}});var u=w1e(ja(e,Ao(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=ja(e,Ao(a.coreprops[0]),!0),h&&(d=tq(h)),a.extprops.length!==0&&(h=ja(e,Ao(a.extprops[0]),!0),h&&yhe(h,d,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=no(e,Ao(a.custprops[0]),!0),h&&(p=bhe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=P1e(ja(e,Ao(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var D=u.Sheets;d.Worksheets=D.length,d.SheetNames=[];for(var P=0;P!=D.length;++P)d.SheetNames[P]=D[P].name}var j=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");jo(e,_)||(_="xl/_rels/workbook."+j+".rels");var S=Kg(no(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=O1e(ja(e,Ao(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Ame(ja(e,Ao(a.people[0])),t)),S&&(S=mye(S,u.Sheets));var O=ja(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var E="sheet";if(S&&S[v]?(w="xl/"+S[v][1].replace(/[\/]?xl\//,""),jo(e,w)||(w=S[v][1]),jo(e,w)||(w=_.replace(/_rels\/.*$/,"")+S[v][1]),E=S[v][2]):(w="xl/worksheets/sheet"+(v+1-O)+"."+j,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,k=0;k!=t.sheets.length;++k)typeof t.sheets[k]=="number"&&t.sheets[k]==v&&(N=1),typeof t.sheets[k]=="string"&&t.sheets[k].toLowerCase()==d.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}gye(e,w,b,d.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:d,Custprops:p,Deps:m,Sheets:s,SheetNames:d.SheetNames,Strings:Qg,Styles:c,Themes:l,SSF:Ni(Lr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,X){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=ja(e,Ao(a.vba[0]),!0):a.defaults&&a.defaults.bin===kme&&(g.vbaraw=ja(e,"xl/vbaProject.bin",!0))),g}function yye(e,t){var r=t||{},n="Workbook",a=rn.find(e,n);try{if(n="/!DataSpaces/Version",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(upe(a.content),n="/!DataSpaces/DataSpaceMap",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=dpe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=hpe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);mpe(a.content)}catch{}if(n="/EncryptionInfo",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=gpe(a.content);if(n="/EncryptedPackage",a=rn.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function xC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=uo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function xye(e,t){return rn.find(e,"EncryptedPackage")?yye(e,t):$q(e,t)}function bye(e,t){var r,n=e,a=t||{};return a.type||(a.type=Qr&&Buffer.isBuffer(e)?"buffer":"base64"),r=Oz(n,a),vye(r,a)}function zq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return I3(e.slice(r),t);default:break e}return Yv.to_workbook(e,t)}function wye(e,t){var r="",n=xC(e,t);switch(t.type){case"base64":r=uo(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=uh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=qn(r)),t.type="binary",zq(r,t)}function _ye(e,t){var r=e;return t.type=="base64"&&(r=uo(r)),r=nf.utils.decode(1200,r.slice(2),"str"),t.type="binary",zq(r,t)}function Sye(e){return e.match(/[^\x00-\x7F]/)?Sg(e):e}function GS(e,t,r,n){return n?(r.type="string",Yv.to_workbook(e,r)):Yv.to_workbook(t,r)}function R3(e,t){pz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return R3(new Uint8Array(e),(r=Ni(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),H0={},r.dateNF&&(H0.dateNF=r.dateNF),r.type||(r.type=Qr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Qr?"buffer":"binary",n=ude(e),typeof Uint8Array<"u"&&!Qr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Sye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ni(r),r.type="array",R3(Qk(n),r)}switch((a=xC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return xye(rn.read(n,r),r);break;case 9:if(a[1]<=8)return $q(n,r);break;case 60:return I3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Q0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Y0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?bye(n,r):GS(e,n,r,i);case 239:return a[3]===60?I3(n,r):GS(e,n,r,i);case 255:if(a[1]===254)return _ye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Xg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Xg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return t8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return kpe.to_workbook(n,r);break;case 10:case 13:case 32:return wye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return G0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?t8.to_workbook(n,r):GS(e,n,r,i)}function Aye(e,t,r,n,a,i,s,o){var l=ki(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:su(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function F3(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=va(u);break;case"number":l=va(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var d=ki(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(D[w]||{}).hidden)switch(h[w]=Ya(w),r=v?e[y][w]:e[h[w]+d],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=su(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var j=Aye(e,l,y,h,n,i,v,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var y8=/"/g;function Tye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",d=ki(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:su(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(y8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(y8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function qq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=va(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Ya(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=Tye(e,a,v,d,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function Eye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=qq(e,t);return r}function Nye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=va(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ya(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ki(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Wq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?xs(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=va(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){oc(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=m[y],b="z",D="",P=Or({c:o+p,r:s+v+a});c=Zv(i,P),w&&typeof w=="object"&&!(w instanceof Date)?i[P]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=As(w)),D=n.dateNF||Lr[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:b,v:w},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=ki(s);if(a)for(p=0;p<h.length;++p)i[Ya(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=nn(u),i}function kye(e,t){return Wq(null,e,t)}function Zv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=xs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zv(e,Or(t)):Zv(e,Or({r:t,c:r||0}))}function Cye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function bC(){return{SheetNames:[],Sheets:{}}}function wC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(h1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Pye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Cye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function jye(e,t){return e.z=t,e}function Hq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Oye(e,t,r){return Hq(e,"#"+t,r)}function Iye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Dye(e,t,r,n){for(var a=typeof t!="string"?t:va(t),i=typeof t=="string"?t:nn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Zv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Lye={encode_col:Ya,encode_row:ki,encode_cell:Or,encode_range:nn,decode_col:sC,decode_row:iC,split_cell:Hde,decode_cell:xs,decode_range:um,format_cell:su,sheet_add_aoa:Xz,sheet_add_json:Wq,sheet_add_dom:Bq,aoa_to_sheet:fm,json_to_sheet:kye,table_to_sheet:Uq,table_to_book:Q1e,sheet_to_csv:qq,sheet_to_txt:Eye,sheet_to_json:F3,sheet_to_html:X1e,sheet_to_formulae:Nye,sheet_to_row_object_array:F3,sheet_get_cell:Zv,book_new:bC,book_append_sheet:wC,book_set_sheet_visibility:Pye,cell_set_number_format:jye,cell_set_hyperlink:Hq,cell_set_internal_link:Oye,cell_add_comment:Iye,sheet_set_array_formula:Dye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Gq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(cg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var O=P(S);O.chunkSize=parseInt(O.chunkSize),S.step||S.chunk||(O.chunkSize=null),this._handle=new m(O),(this._handle.streamer=this)._config=O}).call(this,_),this.parseChunk=function(S,O){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let k=this._config.newline;k||(N=this._config.quoteChar||'"',k=this._handle.guessLineEndings(S,N)),S=[...S.split(k).slice(E)].join(k)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!O){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){T(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function d(_){var S;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var O,E=this._config.downloadRequestHeaders;for(O in E)S.setRequestHeader(O,E[O])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(O){O=S.statusText||O,this._sendError(new Error(O))}}function h(_){(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var S,O,E=typeof FileReader<"u";this.stream=function(N){this._input=N,O=N.slice||N.webkitSlice||N.mozSlice,E?((S=new FileReader).onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),N=O.call(N,this._start,k)),S.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(_){var S;u.call(this,_=_||{}),this.stream=function(O){return S=O,this._nextChunk()},this._nextChunk=function(){var O,E;if(!this._finished)return O=this._config.chunkSize,S=O?(E=S.substring(0,O),S.substring(O)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function g(_){u.call(this,_=_||{});var S=[],O=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):O=!0},this._streamData=j(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(k){this._streamError(k)}},this),this._streamError=j(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=j(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var S,O,E,N,k=Math.pow(2,53),U=-k,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,V=0,W=0,te=!1,Z=!1,I=[],M={data:[],errors:[],meta:{}};function q(fe){return _.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function Y(){if(M&&E&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),_.skipEmptyLines&&(M.data=M.data.filter(function(ye){return!q(ye)})),J()){let ye=function(H,ke){T(_.transformHeader)&&(H=_.transformHeader(H,ke)),I.push(H)};if(M)if(Array.isArray(M.data[0])){for(var fe=0;J()&&fe<M.data.length;fe++)M.data[fe].forEach(ye);M.data.splice(0,1)}else M.data.forEach(ye)}function ae(ye,H){for(var ke=_.header?{}:[],Ce=0;Ce<ye.length;Ce++){var Se=Ce,le=ye[Ce],le=((Me,We)=>(Ie=>(_.dynamicTypingFunction&&_.dynamicTyping[Ie]===void 0&&(_.dynamicTyping[Ie]=_.dynamicTypingFunction(Ie)),(_.dynamicTyping[Ie]||_.dynamicTyping)===!0))(Me)?We==="true"||We==="TRUE"||We!=="false"&&We!=="FALSE"&&((Ie=>{if(X.test(Ie)&&(Ie=parseFloat(Ie),U<Ie&&Ie<k))return 1})(We)?parseFloat(We):z.test(We)?new Date(We):We===""?null:We):We)(Se=_.header?Ce>=I.length?"__parsed_extra":I[Ce]:Se,le=_.transform?_.transform(le,Se):le);Se==="__parsed_extra"?(ke[Se]=ke[Se]||[],ke[Se].push(le)):ke[Se]=le}return _.header&&(Ce>I.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Ce,W+H):Ce<I.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Ce,W+H)),ke}var ge;M&&(_.header||_.dynamicTyping||_.transform)&&(ge=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(ae),ge=M.data.length):M.data=ae(M.data,0),_.header&&M.meta&&(M.meta.fields=I),W+=ge)}function J(){return _.header&&I.length===0}function ie(fe,ae,ge,ye){fe={type:fe,code:ae,message:ge},ye!==void 0&&(fe.row=ye),M.errors.push(fe)}T(_.step)&&(N=_.step,_.step=function(fe){M=fe,J()?Y():(Y(),M.data.length!==0&&(V+=fe.data.length,_.preview&&V>_.preview?O.abort():(M.data=M.data[0],N(M,G))))}),this.parse=function(fe,ae,ge){var ye=_.quoteChar||'"',ye=(_.newline||(_.newline=this.guessLineEndings(fe,ye)),E=!1,_.delimiter?T(_.delimiter)&&(_.delimiter=_.delimiter(fe),M.meta.delimiter=_.delimiter):((ye=((H,ke,Ce,Se,le)=>{var Me,We,Ie,Ye;le=le||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var we=0;we<le.length;we++){for(var Fe,Te=le[we],Oe=0,qe=0,nt=0,ot=(Ie=void 0,new y({comments:Se,delimiter:Te,newline:ke,preview:10}).parse(H)),xt=0;xt<ot.data.length;xt++)Ce&&q(ot.data[xt])?nt++:(Fe=ot.data[xt].length,qe+=Fe,Ie===void 0?Ie=Fe:0<Fe&&(Oe+=Math.abs(Fe-Ie),Ie=Fe));0<ot.data.length&&(qe/=ot.data.length-nt),(We===void 0||Oe<=We)&&(Ye===void 0||Ye<qe)&&1.99<qe&&(We=Oe,Me=Te,Ye=qe)}return{successful:!!(_.delimiter=Me),bestDelimiter:Me}})(fe,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ye.bestDelimiter:(E=!0,_.delimiter=c.DefaultDelimiter),M.meta.delimiter=_.delimiter),P(_));return _.preview&&_.header&&ye.preview++,S=fe,O=new y(ye),M=O.parse(S,ae,ge),Y(),te?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,O.abort(),S=T(_.chunk)?"":S.substring(O.getCharIndex())},this.resume=function(){G.streamer._halted?(te=!1,G.streamer.parseChunk(S,!0)):setTimeout(G.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,O.abort(),M.meta.aborted=!0,T(_.complete)&&_.complete(M),S=""},this.guessLineEndings=function(H,ye){H=H.substring(0,1048576);var ye=new RegExp(v(ye)+"([^]*?)"+v(ye),"gm"),ge=(H=H.replace(ye,"")).split("\r"),ye=H.split(`
`),H=1<ye.length&&ye[0].length<ge[0].length;if(ge.length===1||H)return`
`;for(var ke=0,Ce=0;Ce<ge.length;Ce++)ge[Ce][0]===`
`&&ke++;return ke>=ge.length/2?`\r
`:"\r"}}function v(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var S=(_=_||{}).delimiter,O=_.newline,E=_.comments,N=_.step,k=_.preview,U=_.fastMode,X=null,z=!1,G=_.quoteChar==null?'"':_.quoteChar,V=G;if(_.escapeChar!==void 0&&(V=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var W=0,te=!1;this.parse=function(Z,I,M){if(typeof Z!="string")throw new Error("Input must be a string");var q=Z.length,Y=S.length,J=O.length,ie=E.length,fe=T(N),ae=[],ge=[],ye=[],H=W=0;if(!Z)return Oe();if(U||U!==!1&&Z.indexOf(G)===-1){for(var ke=Z.split(O),Ce=0;Ce<ke.length;Ce++){if(ye=ke[Ce],W+=ye.length,Ce!==ke.length-1)W+=O.length;else if(M)return Oe();if(!E||ye.substring(0,ie)!==E){if(fe){if(ae=[],Ye(ye.split(S)),qe(),te)return Oe()}else Ye(ye.split(S));if(k&&k<=Ce)return ae=ae.slice(0,k),Oe(!0)}}return Oe()}for(var Se=Z.indexOf(S,W),le=Z.indexOf(O,W),Me=new RegExp(v(V)+v(G),"g"),We=Z.indexOf(G,W);;)if(Z[W]===G)for(We=W,W++;;){if((We=Z.indexOf(G,We+1))===-1)return M||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:W}),Fe();if(We===q-1)return Fe(Z.substring(W,We).replace(Me,G));if(G===V&&Z[We+1]===V)We++;else if(G===V||We===0||Z[We-1]!==V){Se!==-1&&Se<We+1&&(Se=Z.indexOf(S,We+1));var Ie=we((le=le!==-1&&le<We+1?Z.indexOf(O,We+1):le)===-1?Se:Math.min(Se,le));if(Z.substr(We+1+Ie,Y)===S){ye.push(Z.substring(W,We).replace(Me,G)),Z[W=We+1+Ie+Y]!==G&&(We=Z.indexOf(G,W)),Se=Z.indexOf(S,W),le=Z.indexOf(O,W);break}if(Ie=we(le),Z.substring(We+1+Ie,We+1+Ie+J)===O){if(ye.push(Z.substring(W,We).replace(Me,G)),Te(We+1+Ie+J),Se=Z.indexOf(S,W),We=Z.indexOf(G,W),fe&&(qe(),te))return Oe();if(k&&ae.length>=k)return Oe(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:W}),We++}}else if(E&&ye.length===0&&Z.substring(W,W+ie)===E){if(le===-1)return Oe();W=le+J,le=Z.indexOf(O,W),Se=Z.indexOf(S,W)}else if(Se!==-1&&(Se<le||le===-1))ye.push(Z.substring(W,Se)),W=Se+Y,Se=Z.indexOf(S,W);else{if(le===-1)break;if(ye.push(Z.substring(W,le)),Te(le+J),fe&&(qe(),te))return Oe();if(k&&ae.length>=k)return Oe(!0)}return Fe();function Ye(nt){ae.push(nt),H=W}function we(nt){var ot=0;return ot=nt!==-1&&(nt=Z.substring(We+1,nt))&&nt.trim()===""?nt.length:ot}function Fe(nt){return M||(nt===void 0&&(nt=Z.substring(W)),ye.push(nt),W=q,Ye(ye),fe&&qe()),Oe()}function Te(nt){W=nt,Ye(ye),ye=[],le=Z.indexOf(O,W)}function Oe(nt){if(_.header&&!I&&ae.length&&!z){var ot=ae[0],xt=Object.create(null),ht=new Set(ot);let mt=!1;for(let ct=0;ct<ot.length;ct++){let Zt=ot[ct];if(xt[Zt=T(_.transformHeader)?_.transformHeader(Zt,ct):Zt]){let Ht,Rr=xt[Zt];for(;Ht=Zt+"_"+Rr,Rr++,ht.has(Ht););ht.add(Ht),ot[ct]=Ht,xt[Zt]++,mt=!0,(X=X===null?{}:X)[Ht]=Zt}else xt[Zt]=1,ot[ct]=Zt;ht.add(Zt)}mt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:ae,errors:ge,meta:{delimiter:S,linebreak:O,aborted:te,truncated:!!nt,cursor:H+(I||0),renamedHeaders:X}}}function qe(){N(Oe()),ae=[],ge=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return W}}function w(_){var S=_.data,O=o[S.workerId],E=!1;if(S.error)O.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){E=!0,b(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(T(O.userStep)){for(var k=0;k<S.results.data.length&&(O.userStep({data:S.results.data[k],errors:S.results.errors,meta:S.results.meta},N),!E);k++);delete S.results}else T(O.userChunk)&&(O.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!E&&b(S.workerId,S.results)}function b(_,S){var O=o[_];T(O.userComplete)&&O.userComplete(S),O.terminate(),delete o[_]}function D(){throw new Error("Not implemented.")}function P(_){if(typeof _!="object"||_===null)return _;var S,O=Array.isArray(_)?[]:{};for(S in _)O[S]=P(_[S]);return O}function j(_,S){return function(){_.apply(S,arguments)}}function T(_){return typeof _=="function"}return c.parse=function(_,S){var O=(S=S||{}).dynamicTyping||!1;if(T(O)&&(S.dynamicTypingFunction=O,O={}),S.dynamicTyping=O,S.transform=!!T(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return O=null,c.NODE_STREAM_INPUT,typeof _=="string"?(_=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(_),O=new(S.download?d:p)(S)):_.readable===!0&&T(_.read)&&T(_.on)?O=new g(S):(n.File&&_ instanceof File||_ instanceof Object)&&(O=new h(S)),O.stream(_);(O=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,k=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=w,E.id=l++,o[E.id]=E)})()).userStep=S.step,O.userChunk=S.chunk,O.userComplete=S.complete,O.userError=S.error,S.step=T(S.step),S.chunk=T(S.chunk),S.complete=T(S.complete),S.error=T(S.error),delete S.worker,O.postMessage({input:_,config:S,workerId:O.id})},c.unparse=function(_,S){var O=!1,E=!0,N=",",k=`\r
`,U='"',X=U+U,z=!1,G=null,V=!1,W=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return S.delimiter.indexOf(I)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(O=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(z=S.skipEmptyLines),typeof S.newline=="string"&&(k=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");G=S.columns}S.escapeChar!==void 0&&(X=S.escapeChar+U),S.escapeFormulae instanceof RegExp?V=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(U),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return te(null,_,z);if(typeof _[0]=="object")return te(G||Object.keys(_[0]),_,z)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||G),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),te(_.fields||[],_.data||[],z);throw new Error("Unable to serialize unrecognized input");function te(I,M,q){var Y="",J=(typeof I=="string"&&(I=JSON.parse(I)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(I)&&0<I.length),ie=!Array.isArray(M[0]);if(J&&E){for(var fe=0;fe<I.length;fe++)0<fe&&(Y+=N),Y+=Z(I[fe],fe);0<M.length&&(Y+=k)}for(var ae=0;ae<M.length;ae++){var ge=(J?I:M[ae]).length,ye=!1,H=J?Object.keys(M[ae]).length===0:M[ae].length===0;if(q&&!J&&(ye=q==="greedy"?M[ae].join("").trim()==="":M[ae].length===1&&M[ae][0].length===0),q==="greedy"&&J){for(var ke=[],Ce=0;Ce<ge;Ce++){var Se=ie?I[Ce]:Ce;ke.push(M[ae][Se])}ye=ke.join("").trim()===""}if(!ye){for(var le=0;le<ge;le++){0<le&&!H&&(Y+=N);var Me=J&&ie?I[le]:le;Y+=Z(M[ae][Me],le)}ae<M.length-1&&(!q||0<ge&&!H)&&(Y+=k)}}return Y}function Z(I,M){var q,Y;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(Y=!1,V&&typeof I=="string"&&V.test(I)&&(I="'"+I,Y=!0),q=I.toString().replace(W,X),(Y=Y||O===!0||typeof O=="function"&&O(I,M)||Array.isArray(O)&&O[M]||((J,ie)=>{for(var fe=0;fe<ie.length;fe++)if(-1<J.indexOf(ie[fe]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(N)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?U+q+U:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(_){var S=_.config||{},O=[];return this.each(function(k){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)O.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},S)})}),E(),this;function E(){if(O.length===0)T(_.complete)&&_.complete();else{var k,U,X,z,G=O[0];if(T(_.before)){var V=_.before(G.file,G.inputElem);if(typeof V=="object"){if(V.action==="abort")return k="AbortError",U=G.file,X=G.inputElem,z=V.reason,void(T(_.error)&&_.error({name:k},U,X,z));if(V.action==="skip")return void N();typeof V.config=="object"&&(G.instanceConfig=a.extend(G.instanceConfig,V.config))}else if(V==="skip")return void N()}var W=G.instanceConfig.complete;G.instanceConfig.complete=function(te){T(W)&&W(te,G.file,G.inputElem),N()},c.parse(G.file,G.instanceConfig)}}function N(){O.splice(0,1),E()}}),s&&(n.onmessage=function(_){_=_.data,c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=c.parse(_.input,_.config))&&n.postMessage({workerId:c.WORKER_ID,results:_,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Gq);var Mye=Gq.exports;const Rye=kn(Mye),Kq=()=>{const{user:e}=ga(),{isDarkMode:t}=an(),[r,n]=F.useState(!1),[a,i]=F.useState([]),[s,o]=F.useState(!1),[l,c]=F.useState({name:"",unit:"",asin:"",barcode:""}),[u,d]=F.useState(null),[h,p]=F.useState(null),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,P]=F.useState(null),[j,T]=F.useState(!1),[_,S]=F.useState(""),[O,E]=F.useState(null),[N,k]=F.useState(null),U=Ue.useRef(null),[X,z]=F.useState(null),[G,V]=F.useState(!1),[W,te]=F.useState([]);F.useEffect(()=>{Z(),I()},[]);const Z=async H=>{o(!0);try{let ke;if(H&&H.trim()!==""){const Ce=lr(wt(Xe,"scannedProducts"),sr("name",">=",H),sr("name","<=",H+""),Fa("name"),vg(100)),Se=lr(wt(Xe,"scannedProducts"),sr("barcode",">=",H),sr("barcode","<=",H+""),Fa("barcode"),vg(100)),le=lr(wt(Xe,"scannedProducts"),sr("asin",">=",H),sr("asin","<=",H+""),Fa("asin"),vg(100)),[Me,We,Ie]=await Promise.all([ur(Ce),ur(Se),ur(le)]),Ye=[...Me.docs,...We.docs,...Ie.docs].reduce((we,Fe)=>(we.some(Te=>Te.id===Fe.id)||we.push(Fe),we),[]);i(Ye.map(we=>{const Fe=we.data();return{id:we.id,name:Fe.name,unit:Fe.unit,asin:Fe.asin||"",barcode:Fe.barcode,createdAt:Fe.createdAt instanceof ir?Fe.createdAt.toDate():new Date(Fe.createdAt)}}))}else{ke=lr(wt(Xe,"scannedProducts"),Fa("createdAt","desc"),vg(100));const Se=(await ur(ke)).docs.map(le=>{const Me=le.data();return{id:le.id,name:Me.name,unit:Me.unit,asin:Me.asin||"",barcode:Me.barcode,createdAt:Me.createdAt instanceof ir?Me.createdAt.toDate():new Date(Me.createdAt)}});i(Se)}}catch{d("Failed to fetch products")}finally{o(!1)}},I=async()=>{try{const H=wt(Xe,"scannedProducts"),ke=await dk(H);z(ke.data().count)}catch{z(null)}},M=()=>{const H={};a.forEach(Ce=>{H[Ce.name]||(H[Ce.name]=[]),H[Ce.name].push(Ce)});const ke=Object.entries(H).filter(([,Ce])=>Ce.length>1).map(([Ce,Se])=>({name:Ce,products:Se.sort((le,Me)=>new Date(Me.createdAt).getTime()-new Date(le.createdAt).getTime())})).sort((Ce,Se)=>Se.products.length-Ce.products.length);te(ke),V(!0)},q=()=>{V(!1),te([])},Y=H=>{H?(c({name:H.name||"",unit:H.unit||"",asin:H.asin||"",barcode:H.barcode||""}),p(H)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),d(null)},J=()=>{n(!1),d(null)},ie=H=>{c({...l,[H.target.name]:H.target.value})},fe=async H=>{c(ke=>({...ke,barcode:H})),m(!1),b(null),y(!0);try{const Ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${H}`,le=await(await fetch(Ce)).json();if(le&&le.items&&le.items.length>0){const Me=le.items[0];c(We=>({...We,name:Me.title||We.name,asin:Me.asin||Me.amazon_asin||""}))}else b("No product info found for this barcode.")}catch{b("Failed to fetch product info.")}finally{y(!1)}},ae=async H=>{if(H.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){d("Name, Unit, and Barcode are required");return}o(!0);try{const ke=l.name.toUpperCase();if(h){const Ce=Sr(Xe,"scannedProducts",h.id);if(await Vn(Ce,{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const Se=[];h.name!==ke&&Se.push(`name from "${h.name}" to "${ke}"`),h.unit!==l.unit&&Se.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Se.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&Se.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),Se.length>0&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${ke}": ${Se.join(", ")}`,time:new Date().toISOString()})}}else await mr(wt(Xe,"scannedProducts"),{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:ir.fromDate(new Date)}),e&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${ke}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{d("Failed to save product")}finally{o(!1)}},ge=async()=>{if(D){T(!0);try{const H=a.find(ke=>ke.id===D);await Ms(Sr(Xe,"scannedProducts",D)),e&&H&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${H.name}" with barcode ${H.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{T(!1)}}},ye=async H=>{var Se;const ke=(Se=H.target.files)==null?void 0:Se[0];if(!ke)return;let Ce=[];try{if(ke.name.endsWith(".csv")){const le=await ke.text(),We=Rye.parse(le,{header:!0}).data;Ce=We.map(Ye=>{var we,Fe,Te,Oe;return{name:((we=Ye.Description)==null?void 0:we.toString().trim())||"",unit:((Fe=Ye.Unit)==null?void 0:Fe.toString().trim())||"",asin:((Te=Ye.ASIN)==null?void 0:Te.toString().trim())||"",barcode:((Oe=Ye.EAN)==null?void 0:Oe.toString().trim())||""}}).filter(Ye=>Ye.name||Ye.unit||Ye.barcode);const Ie=We.length-Ce.length;Ie>0&&k({type:"error",message:`${Ie} rows skipped (all columns empty).`})}else if(ke.name.endsWith(".xlsx")){const le=await ke.arrayBuffer(),Me=R3(le,{type:"array"}),We=Me.Sheets[Me.SheetNames[0]],Ie=Lye.sheet_to_json(We);Ce=Ie.map(we=>{var Fe,Te,Oe,qe;return{name:((Fe=we.Description)==null?void 0:Fe.toString().trim())||"",unit:((Te=we.Unit)==null?void 0:Te.toString().trim())||"",asin:((Oe=we.ASIN)==null?void 0:Oe.toString().trim())||"",barcode:((qe=we.EAN)==null?void 0:qe.toString().trim())||""}}).filter(we=>we.name||we.unit||we.barcode);const Ye=Ie.length-Ce.length;Ye>0&&k({type:"error",message:`${Ye} rows skipped (all columns empty).`})}else{k({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(Ce.length===0){k({type:"error",message:"No valid products found in file."});return}for(const le of Ce)await mr(wt(Xe,"scannedProducts"),{name:le.name.toUpperCase(),unit:le.unit,barcode:le.barcode,asin:"",createdAt:ir.fromDate(new Date)});e&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${Ce.length} products from file "${ke.name}"`,time:new Date().toISOString()}),k({type:"success",message:`Uploaded ${Ce.length} products successfully!`}),Z()}catch{k({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"&&e.role!=="manager"?f.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):f.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",X!==null?X:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),f.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[f.jsx(at,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:f.jsx(La,{size:18,className:s?"animate-spin":""})}),f.jsx(at,{variant:G?"primary":"secondary",onClick:G?q:M,className:"w-full md:w-auto",icon:G?f.jsx(La,{size:18}):f.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M7 12h10"}),f.jsx("path",{d:"M9 18h6"})]}),children:G?"Clear Filter":"Show Duplicates"}),f.jsx(at,{icon:f.jsx(HZ,{size:18}),onClick:()=>{var H;return(H=U.current)==null?void 0:H.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),f.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:ye,style:{display:"none"}}),f.jsx(at,{icon:f.jsx(fi,{size:18}),onClick:()=>Y(),className:"w-full md:w-auto",children:"Add Product"})]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:_,onChange:H=>{const ke=H.target.value;S(ke),Z(ke.toUpperCase())},className:"pl-10",fullWidth:!0}),f.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:f.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[f.jsx("circle",{cx:"7",cy:"7",r:"6"}),f.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),f.jsx(fn,{isOpen:r,onClose:J,title:h?"Edit Product":"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:l.name,onChange:ie,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(jt,{label:"Unit",name:"unit",value:l.unit,onChange:ie,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsx(jt,{label:"ASIN",name:"asin",value:l.asin,onChange:ie,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ie,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){b(null),y(!0);try{await fe(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?f.jsx(gs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(Zc,{size:18,className:"text-blue-500"})})]}),u&&f.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&f.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(gs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),f.jsx(at,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),f.jsx(Sh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:fe}),f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[f.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?f.jsx("tr",{children:f.jsx("td",{colSpan:6,style:{border:0,padding:0},children:f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):G&&W.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):G&&W.length>0?W.flatMap((H,ke)=>[f.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:f.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[H.name," - ",H.products.length," duplicates"]})},`header-${H.name}`),...H.products.map((Ce,Se)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.1+Se*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(Ce),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(Ce.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:le=>{le.stopPropagation(),Y(Ce)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:le=>{le.stopPropagation(),P(Ce.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===Ce.id,children:f.jsx(li,{size:16})})]})]},Ce.id))]):a.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((H,ke)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(H),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:H.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(H.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),Y(H)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(H.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===H.id,children:f.jsx(li,{size:16})})]})]},H.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):G&&W.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):G&&W.length>0?W.map(H=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[H.name," - ",H.products.length," duplicates"]}),H.products.map(ke=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(ke),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:ke.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",ke.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",ke.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),Y(ke)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(ke.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===ke.id,children:f.jsx(li,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:ke.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(ke.createdAt,"MMM d, yyyy, h:mm a")})]})]},ke.id))]},H.name)):a.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(H=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(H),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:H.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",H.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",H.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),Y(H)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),P(H.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===H.id,children:f.jsx(li,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:H.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(H.createdAt,"MMM d, yyyy, h:mm a")})]})]},H.id))}),f.jsx(fn,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{children:"Are you sure you want to delete this product?"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{variant:"secondary",onClick:()=>P(null),disabled:j,children:"Cancel"}),f.jsxs(at,{variant:"danger",onClick:ge,isLoading:j,className:"flex items-center justify-center",children:[j&&f.jsx(gs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),f.jsx(fn,{isOpen:!!O,onClose:()=>E(null),title:O?O.name:"Product Details",size:"xl",children:O&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:O.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:O.asin||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:O.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(O.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&f.jsx(ez,{type:N.type,message:N.message,onClose:()=>k(null)})]})]})},Fye=()=>{const{user:e}=ga();if(!e)return null;switch(e.role){case"admin":return f.jsx(mD,{});case"manager":return f.jsx(mD,{});case"staff":return f.jsx(Kq,{});default:return null}},Jr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=an();return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},$ye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ga(),[a,i]=F.useState({name:"",unit:"",barcode:""}),[s,o]=F.useState(null),[l,c]=F.useState(!1),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(null),v=D=>{i({...a,[D.target.name]:D.target.value})},y=async D=>{i(P=>({...P,barcode:D})),d(!1),m(null),p(!0);try{const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,_=await(await fetch(j)).json();if(_&&_.items&&_.items.length>0){const S=_.items[0];i(O=>({...O,name:S.title||O.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},w=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await mr(wt(Xe,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:ir.fromDate(new Date)}),n&&await mr(wt(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},b=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return f.jsxs(f.Fragment,{children:[f.jsx(fn,{isOpen:e,onClose:b,title:"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(jt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?f.jsx(gs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(Zc,{size:18,className:"text-blue-500"})})]}),s&&f.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&f.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(gs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:()=>d(!0),children:"Scan"}),f.jsx(at,{type:"submit",isLoading:l,children:"Add"})]})]})}),f.jsx(Sh,{isOpen:u,onClose:()=>d(!1),onBarcodeScanned:y})]})},Bye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>f.jsx(fn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(wN,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",f.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",f.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),f.jsx(at,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),Uye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Ev,{size:24}),f.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),f.jsx(at,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},jf=e=>{const t=e==="Awaiting Location"||e==="Awaiting Locations Sparklin"||e==="Awaiting Locations Aztec",r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1]),n=t?0:r?7:5;return Array.from({length:n+1},(a,i)=>({value:i.toString(),label:i.toString()}))},Vye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],zye=e=>jf(e),KS=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Yq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=ga(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=F.useState({name:"",price:"",unit:"",supplier:KS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=F.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[d,h]=F.useState({}),[p,g]=F.useState(!1),[m,v]=F.useState(!1),[y,w]=F.useState(""),{isDarkMode:b}=an(),[D,P]=F.useState(null),[j,T]=F.useState(!1),[_,S]=F.useState(null),[O,E]=F.useState(!1),[N,k]=F.useState(""),[U,X]=F.useState(!1),[z,G]=F.useState(null),[V,W]=F.useState(null),[te,Z]=F.useState(!1),[I,M]=F.useState(""),[q,Y]=F.useState(!1),[J,ie]=F.useState(null),[fe,ae]=F.useState([]),[ge,ye]=F.useState(!1),[H,ke]=F.useState(null),[Ce,Se]=F.useState([]),[le,Me]=F.useState(!1),[We,Ie]=F.useState(null);F.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(Re=>({...Re,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const Ye=Re=>{const{name:rt,value:vt}=Re.target;if(l(Nt=>({...Nt,[rt]:vt})),rt==="supplier"&&(E(vt==="other"),vt!=="other"&&k("")),d[rt]&&h(Nt=>{const Kt={...Nt};return delete Kt[rt],Kt}),rt==="barcode"&&vt.length===13&&!j){J&&clearTimeout(J);const Nt=setTimeout(()=>{vt.length===13&&nt(vt)},500);ie(Nt)}else rt==="barcode"&&vt.length!==13&&J&&(clearTimeout(J),ie(null))},we=(Re,rt,vt)=>{u(Nt=>{const Kt=[...Nt];if(Kt[Re]={...Kt[Re],[rt]:vt},rt==="locationCode"&&(Kt[Re].shelfNumber="0"),rt==="shelfNumber"){const Ft=Kt[Re].locationCode,Dt=jf(Ft).length-1;parseInt(vt)>Dt&&(Kt[Re].shelfNumber="0")}return Kt})},Fe=()=>{u(Re=>[...Re,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Te=Re=>{u(rt=>rt.filter((vt,Nt)=>Nt!==Re))},Oe=async Re=>{l(vt=>({...vt,barcode:Re})),P(null),S(null),T(!0);let rt=!1;try{const vt=lr(wt(Xe,"scannedProducts"),sr("barcode","==",Re)),Nt=await ur(vt);if(Nt.empty){const Ft=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Re}`,rr=await(await fetch(Ft)).json();if(rr&&rr.items&&rr.items.length>0){const gr=rr.items[0],or=gr.asin||gr.amazon_asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),Se([]),ke({name:gr.title||"",unit:"",asin:Tr[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),rt=!0;return}}l(Tr=>({...Tr,name:gr.title||Tr.name,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),P("Product name and ASIN auto-filled from external database."),a&&gr.title&&a(gr.title,Re),rt=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Kt=Nt.docs[0].data(),Ft=Kt.asin||"";if(Ft&&Ft.includes(" ")){const Dt=Ft.split(" ").filter(rr=>rr.trim());if(Dt.length>1){ae(Dt),Se([]),ke({name:Kt.name||"",unit:Kt.unit||"",asin:Dt[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),rt=!0;return}}l(Dt=>({...Dt,name:Kt.name||Dt.name,unit:Kt.unit||Dt.unit,asin:Ft||Dt.asin,selectedAsins:Ft?[Ft]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Kt.name&&a(Kt.name,Re),rt=!0}}catch{S("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{T(!1),!rt&&Re.length===13&&setTimeout(()=>{nt(Re)},100)}},qe=async Re=>{try{const rt=lr(wt(Xe,"inventory"),sr("barcode","==",Re),sr("quantity","==",0)),vt=await ur(rt);if(!vt.empty){const Nt=vt.docs[0].data();return Ie({hiddenProduct:{...Nt,id:vt.docs[0].id,lastUpdated:Nt.lastUpdated instanceof Date?Nt.lastUpdated:new Date(Nt.lastUpdated)},newProductName:o.name||"New Product"}),Me(!0),!0}return!1}catch(rt){return console.error("Error checking for hidden products:",rt),!1}},nt=async Re=>{const rt=Re||o.barcode;if(!(!rt||j)){S(null),T(!0);try{const vt=lr(wt(Xe,"scannedProducts"),sr("barcode","==",rt)),Nt=await ur(vt);if(!Nt.empty){const gr=Nt.docs[0].data(),or=gr.asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),Se([]),ke({name:gr.name||"",unit:gr.unit||"",asin:Tr[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Tr=>({...Tr,name:gr.name||Tr.name,unit:gr.unit||Tr.unit,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&gr.name&&a(gr.name,rt),T(!1);return}const Ft=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${rt}`,rr=await(await fetch(Ft)).json();if(rr&&rr.items&&rr.items.length>0){const gr=rr.items[0],or=gr.asin||gr.amazon_asin||"";if(or&&or.includes(" ")){const Tr=or.split(" ").filter(An=>An.trim());if(Tr.length>1){ae(Tr),Se([]),ke({name:gr.title||"",unit:"",asin:Tr[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Tr=>({...Tr,name:gr.title||Tr.name,asin:or||Tr.asin,selectedAsins:or?[or]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&gr.title&&a(gr.title,rt)}else S("No product info found for this barcode.")}catch{S("Failed to fetch product info.")}finally{T(!1),await qe(rt)}}},ot=()=>{const Re={};return o.name.trim()||(Re.name="Product name is required"),c.forEach((rt,vt)=>{rt.quantity?(isNaN(Number(rt.quantity))||Number(rt.quantity)<0)&&(Re[`location_${vt}_quantity`]="Quantity must be a positive number"):Re[`location_${vt}_quantity`]="Quantity is required"}),h(Re),Object.keys(Re).length===0},xt=async Re=>{if(Re.preventDefault(),ot()){const rt=o.supplier||KS[0].value,vt=o.storeName||"supply & serve",Nt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Kt=c.map(Dt=>({name:o.name,quantity:parseInt(Dt.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:rt==="other"?N:rt,locationCode:Dt.locationCode,shelfNumber:Dt.shelfNumber,asin:Nt.length>0?Nt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:vt==="other"?y:vt})),Ft=Kt.find(Dt=>r.some(rr=>rr.name.trim().toLowerCase()===Dt.name.trim().toLowerCase()&&(rr.barcode||"")===(Dt.barcode||"")&&rr.locationCode===Dt.locationCode&&rr.shelfNumber===Dt.shelfNumber));if(Ft){W({name:Ft.name,location:`${Ft.locationCode}-${Ft.shelfNumber}`}),G(Kt),X(!0);return}try{await e(Kt)}catch(Dt){console.error("Error adding stock:",Dt)}}},ht=async()=>{if(z){try{await e(z)}catch(Re){console.error("Error adding stock:",Re)}X(!1),G(null),W(null)}},mt=()=>{X(!1),G(null),W(null)},ct=()=>{Y(!0)},Zt=()=>{M("Product has been successfully added to the database!"),Z(!0)},Ht=Re=>{H&&(l(rt=>({...rt,name:H.name||rt.name,unit:H.unit||rt.unit,asin:Re.join(", "),selectedAsins:Re})),P(`Product info and ${Re.length} selected ASIN(s) auto-filled.`)),ye(!1),ae([]),ke(null),Se([])},Rr=()=>{ye(!1),ae([]),ke(null),Se([]),P("ASIN selection cancelled. Please enter details manually.")},Ir=Re=>{Se(rt=>rt.includes(Re)?rt.filter(Nt=>Nt!==Re):[...rt,Re])},Wr=(Re,rt)=>{c.length>0&&u(vt=>{const Nt=[...vt];return Nt[0]={...Nt[0],locationCode:Re,shelfNumber:rt},Nt}),Me(!1),Ie(null)},Pe=()=>{Me(!1),Ie(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:xt,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:o.name,onChange:Ye,error:d.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx("div",{children:f.jsx(Jr,{label:"Supplier",name:"supplier",value:o.supplier,onChange:Ye,options:KS,required:!0,fullWidth:!0})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&f.jsx(jt,{label:"Price",name:"price",type:"number",value:o.price,onChange:Ye,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!O&&f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Ye,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),O&&f.jsx(jt,{label:"Other Supplier",value:N,onChange:Re=>k(Re.target.value),placeholder:"Enter supplier name",required:O,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O&&f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Ye,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),f.jsx(at,{type:"button",onClick:Fe,variant:"primary",icon:f.jsx(fi,{size:18}),children:"Add Location"})]}),c.map((Re,rt)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[f.jsx(Jr,{label:"Location Code",value:Re.locationCode,onChange:vt=>we(rt,"locationCode",vt.target.value),options:Vye,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",value:Re.shelfNumber,onChange:vt=>we(rt,"shelfNumber",vt.target.value),options:zye(Re.locationCode),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Quantity",type:"number",value:Re.quantity,onChange:vt=>we(rt,"quantity",vt.target.value),error:d[`location_${rt}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&f.jsx(at,{type:"button",onClick:()=>Te(rt),variant:"danger",icon:f.jsx(li,{size:18}),children:"Remove"})]},rt))]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:Ye,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),f.jsx(Jr,{label:"Status",name:"status",value:o.status,onChange:Ye,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:Ye,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>nt(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:j,children:j?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Zc,{size:18,className:"text-blue-500"})})]}),f.jsx(jt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:Ye,placeholder:"Enter Amazon ASIN",fullWidth:!0}),_&&f.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),D&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Jr,{label:"Store Name",value:o.storeName,onChange:Re=>{const rt=Re.target.value;l(vt=>({...vt,storeName:rt,fulfillmentType:rt==="supply & serve"?"mf":vt.fulfillmentType})),v(rt==="other"),rt!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:Re=>w(Re.target.value),placeholder:"Enter store name",required:m})]})]}),f.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{type:"button",onClick:ct,variant:"primary",icon:f.jsx(fi,{size:18}),children:"Add New Product"}),f.jsx(at,{type:"submit",isLoading:t,variant:"success",icon:f.jsx(fi,{size:18}),children:"Confirm"})]})})]}),f.jsx(Sh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:Oe}),f.jsx($ye,{isOpen:q,onClose:()=>Y(!1),onSuccess:Zt}),f.jsx(Uye,{isOpen:U,onClose:mt,onConfirm:ht,title:"Duplicate Stock Detected",message:V?`A product with the same name and barcode already exists at location ${V.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(fn,{isOpen:te,onClose:()=>Z(!1),title:"Success!",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[f.jsx(Sj,{size:24}),f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:I})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(at,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),f.jsx(fn,{isOpen:ge,onClose:Rr,title:"Multiple ASINs Detected",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),f.jsx("div",{className:"space-y-3",children:fe.map((Re,rt)=>f.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ce.includes(Re)?b?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":b?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>Ir(Re),children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`font-mono text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Re}),f.jsxs("div",{className:"flex items-center gap-2",children:[Ce.includes(Re)&&f.jsx(Sj,{size:16,className:"text-blue-500"}),f.jsxs("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["ASIN ",rt+1]})]})]})},rt))}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[f.jsx("div",{className:"text-sm text-slate-500",children:Ce.length>0?`${Ce.length} ASIN(s) selected`:"No ASINs selected"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{variant:"secondary",onClick:Rr,children:"Cancel"}),f.jsx(at,{variant:"primary",onClick:()=>Ht(Ce),disabled:Ce.length===0,children:"Confirm Selection"})]})]})]})}),(We==null?void 0:We.hiddenProduct)&&f.jsx(Bye,{isOpen:le,onClose:()=>Me(!1),onUseLocation:Wr,onManualLocation:Pe,hiddenProduct:We.hiddenProduct,newProductName:We.newProductName||"New Product"})]})},qye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Wye=e=>jf(e),Hye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],x8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Xq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=an(),{user:a}=ga(),[i,s]=F.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!Hye.includes(l),u=x8.some(k=>k.value===(e.supplier||"")),d=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=F.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:d,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=F.useState(c),[y,w]=F.useState(c?l:""),[b,D]=F.useState(d==="other"),[P,j]=F.useState(h),[T,_]=F.useState(!1);F.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(k=>({...k,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const S=k=>{const{name:U,value:X}=k.target;if(U==="damagedItems"){const z=Number(X),G=Number(p.quantity);if(z<0){s("Damaged items cannot be negative");return}s(null),g(V=>({...V,damagedItems:X,quantity:(G-(z-Number(V.damagedItems))).toString()}));return}U==="supplier"&&(D(X==="other"),X!=="other"&&j("")),g(z=>({...z,[U]:X}))},O=k=>{g(U=>({...U,barcode:k})),_(!1)},E=async k=>{if(k.preventDefault(),N())try{const U={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(U,e)}catch(U){console.error("Error updating stock:",U),s("Failed to update stock. Please try again.")}},N=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:p.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?f.jsx(Jr,{label:"Status",name:"status",value:p.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):f.jsx(jt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&f.jsx(jt,{label:"Price",name:"price",type:"number",value:p.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),f.jsx(jt,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),f.jsx(Jr,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:S,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:S,options:qye,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:S,options:Wye(p.locationCode),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Zc,{size:18,className:"text-blue-500"})})]}),f.jsx(jt,{label:"ASIN",name:"asin",value:p.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Jr,{label:"Supplier",name:"supplier",value:p.supplier,onChange:S,options:x8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),f.jsx(Jr,{value:p.storeName,onChange:k=>{const U=k.target.value;g(X=>({...X,storeName:U,fulfillmentType:U==="supply & serve"?"mf":X.fulfillmentType})),v(U==="other"),U!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&f.jsx(jt,{label:"Other Supplier",value:P,onChange:k=>j(k.target.value),placeholder:"Enter supplier name",required:b,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:k=>w(k.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(jt,{type:"text",value:y,onChange:k=>w(k.target.value),placeholder:"Enter store name",required:m})]}),f.jsxs("div",{children:[f.jsx(jt,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:r,icon:f.jsx(fi,{size:18}),children:"Update Product"})}),f.jsx(Sh,{isOpen:T,onClose:()=>_(!1),onBarcodeScanned:O})]})},Gye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Qq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=F.useState([]),[i,s]=F.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=F.useState({}),[c,u]=F.useState(!1),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState(null),y=F.useRef(null);F.useEffect(()=>{a(jf(i.locationCode))},[]),F.useEffect(()=>{a(jf(i.locationCode));const _=jf(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(S=>({...S,shelfNumber:"0"}))},[i.locationCode]);const w=_=>{const{name:S,value:O}=_.target;s(E=>({...E,[S]:O})),o[S]&&l(E=>{const N={...E};return delete N[S],N}),S==="barcode"&&O.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{O.length===13&&P(O)},500)):S==="barcode"&&O.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},b=()=>{u(!0)},D=async _=>{s(O=>({...O,barcode:_})),h(null),v(null),g(!0);let S=!1;try{const O=lr(wt(Xe,"scannedProducts"),sr("barcode","==",_)),E=await ur(O);if(E.empty){const k=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,X=await(await fetch(k)).json();if(X&&X.items&&X.items.length>0){const z=X.items[0];s(G=>({...G,name:z.title||G.name})),h("Product name auto-filled from external database."),S=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=E.docs[0].data();s(k=>({...k,name:N.name||k.name})),h("Product name auto-filled from scanned products."),S=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!S&&_.length===13&&setTimeout(()=>{P(_)},100)}},P=async _=>{const S=_||i.barcode;if(!(!S||p)){v(null),g(!0);try{const O=lr(wt(Xe,"scannedProducts"),sr("barcode","==",S)),E=await ur(O);if(E.empty){const k=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,X=await(await fetch(k)).json();if(X&&X.items&&X.items.length>0){const z=X.items[0];s(G=>({...G,name:z.title||G.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=E.docs[0].data();s(k=>({...k,name:N.name||k.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},j=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},T=async _=>{if(_.preventDefault(),!j())return;const S={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([S]),t()}catch(O){console.error("Error adding stock:",O)}};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsx(jt,{label:"Product Name",name:"name",value:i.name,onChange:w,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:w,options:Gye,error:o.locationCode,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:w,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(jt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:w,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(Zc,{size:18,className:"text-blue-500"})})]}),m&&f.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),d&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:d}),p&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),f.jsx(jt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:w,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),f.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{type:"submit",isLoading:r,icon:f.jsx(fi,{size:18}),children:"Quick Add"}),f.jsx(at,{type:"button",onClick:b,variant:"primary",icon:f.jsx(Zc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),f.jsx(Sh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:D})]})},oy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=an(),{user:a}=ga();return r?f.jsx(fn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 flex items-center justify-between",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),Fs(a)&&f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),f.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),f.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>f.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?qt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),f.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),f.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),f.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[f.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),f.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[f.jsx("span",{children:"0"}),f.jsx("span",{children:"Critical: <10"}),f.jsx("span",{children:"Low: 10-25"}),f.jsx("span",{children:"25+"})]})]})]})}):null},dh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Ev,{size:24}),f.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),f.jsx(at,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Jq=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),d=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return f.jsx(fn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Ev,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",f.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),f.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>f.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&f.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),f.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",d," product",d!==1?"s":""," (",h," units)"]})]}):f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",f.jsx("strong",{children:l})," to this location?"]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&f.jsx(at,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),f.jsx(at,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Kye=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=an();return f.jsx(fn,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Do,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),f.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),f.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",r]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),f.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(wN,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),f.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?f.jsx("div",{className:"space-y-2",children:a.map((s,o)=>f.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),f.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):f.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(at,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},Yye=()=>{var Mn,Rn;const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("name"),[s,o]=F.useState(!1),[l,c]=F.useState("date"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,P]=F.useState(null),[j,T]=F.useState([]),[_,S]=F.useState(new Set),[O,E]=F.useState(!1),{showToast:N}=cc(),{isDarkMode:k}=an(),{user:U}=ga(),[X,z]=F.useState(!1),[G,V]=F.useState(null),[W,te]=F.useState(!1),[Z,I]=F.useState(!1),[M,q]=F.useState(null),[Y,J]=F.useState(null),[ie,fe]=F.useState(null),[ae,ge]=F.useState(!1),[ye,H]=F.useState("all"),[ke,Ce]=F.useState(!1),[Se,le]=F.useState({min:null,max:null}),[Me,We]=F.useState(!1),[Ie,Ye]=F.useState(null),[we,Fe]=F.useState(!1),[Te,Oe]=F.useState(null);F.useEffect(()=>{const Ne=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ne)}},[e]);const qe=F.useCallback(async()=>{b(!0);try{const Ne=lr(wt(Xe,"inventory"),Fa("name")),ut=(await ur(Ne)).docs.map(ee=>{const ve=ee.data();return{id:ee.id,...ve,lastUpdated:ve.lastUpdated instanceof ir?ve.lastUpdated.toDate():new Date(ve.lastUpdated)}});T(ut)}catch(Ne){N("Failed to fetch stock items","error"),console.log(Ne)}finally{b(!1)}},[N]),nt=F.useCallback(async()=>{try{const Ne=wt(Xe,"inventory"),it=await dk(Ne);Ye(it.data().count)}catch{Ye(null)}},[]);F.useEffect(()=>{qe(),nt()},[qe,nt]),F.useEffect(()=>{const Ne=it=>{const ut=it.target;ut.closest(".store-filter-dropdown")||ge(!1),ut.closest(".status-filter-dropdown")||Ce(!1),ut.closest(".search-type-dropdown")||o(!1),ut.closest(".quantity-filter-dropdown")||We(!1)};return(ae||ke||s||Me)&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[ae,ke,s,Me]);const ot=F.useMemo(()=>{const Ne=[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"}];return Fs(U)&&Ne.push({value:"price",label:"Price (High-Low)"}),Ne},[U]),xt=F.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),ht=F.useCallback(Ne=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Ne]||"bg-gray-100 text-gray-700",[]),mt=F.useMemo(()=>{const Ne=r.toLowerCase();return j.filter(it=>{if(it.quantity===0)return!1;let ut=!0;if(r!=="")switch(a){case"name":ut=it.name.toLowerCase().includes(Ne);break;case"barcode":ut=!!(it.barcode&&it.barcode.toLowerCase().includes(Ne));break;case"asin":ut=!!(it.asin&&it.asin.split(",").some(me=>me.trim().toLowerCase().includes(Ne)));break;case"location":ut=`${it.locationCode}-${it.shelfNumber}`.toLowerCase().includes(Ne);break;default:ut=!0}const ee=ie?ie.fulfillmentType==="all"?ie.storeName==="other"?!xt.includes(it.storeName):it.storeName===ie.storeName:ie.storeName==="other"?!xt.includes(it.storeName)&&it.fulfillmentType===ie.fulfillmentType:it.storeName===ie.storeName&&it.fulfillmentType===ie.fulfillmentType:!0,ve=ye==="all"||it.status===ye,he=!Se.min&&!Se.max?!0:(!Se.min||it.quantity>=Se.min)&&(!Se.max||it.quantity<=Se.max);return ut&&ee&&ve&&he}).sort((it,ut)=>l==="name"?it.name.localeCompare(ut.name):l==="quantity"?ut.quantity-it.quantity:l==="price"?ut.price-it.price:l==="date"?new Date(ut.lastUpdated).getTime()-new Date(it.lastUpdated).getTime():0)},[j,r,a,ie,ye,Se,l,xt]),ct=F.useCallback((Ne,it)=>j.filter(ut=>ut.locationCode===Ne&&ut.shelfNumber===it),[j]),Zt=F.useCallback(Ne=>j.filter(it=>it.barcode===Ne&&it.quantity>0),[j]),Ht=F.useCallback((Ne,it)=>{const ut=Zt(it);ut.length>0&&(Oe({productName:Ne,barcode:it,existingLocations:ut}),Fe(!0))},[Zt]),Rr=F.useCallback(async Ne=>{b(!0);try{const it=[];for(const ut of Ne)if(ut.barcode){const ee=lr(wt(Xe,"inventory"),sr("barcode","==",ut.barcode),sr("quantity","==",0)),ve=await ur(ee);if(!ve.empty){const he=ve.docs[0];if(await Ms(Sr(Xe,"inventory",he.id)),T(me=>me.filter(xe=>xe.id!==he.id)),U){const me=he.data();await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${me.name}" with barcode ${ut.barcode} from location ${me.locationCode}-${me.shelfNumber}`,time:new Date().toISOString()})}}}for(const ut of Ne){const ee=await mr(wt(Xe,"inventory"),{...ut,lastUpdated:ir.fromDate(new Date)});it.push({...ut,id:ee.id,lastUpdated:new Date})}if(U){const ut=Ne.reduce((ve,he)=>ve+he.quantity,0),ee=Ne.map(ve=>`${ve.quantity} at ${ve.locationCode}-${ve.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ne[0].name}" with total quantity ${ut} (${ee})`,time:new Date().toISOString()})}T(ut=>[...ut,...it]),d(!1),te(!1),N("Stock items added successfully","success")}catch(it){console.log(it),N("Failed to add stock items","error")}finally{b(!1)}},[U,N]),Ir=F.useCallback(async Ne=>{const it=[];for(const ut of Ne){const ee=ct(ut.locationCode,ut.shelfNumber);ee.length>0&&it.push({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,products:ee})}if(it.length>0){const ut=it[0];J({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,existingProducts:ut.products,newProductName:Ne[0].name,newProductBarcode:Ne[0].barcode||void 0}),q(Ne),I(!0);return}await Rr(Ne)},[ct,Rr]),Wr=F.useCallback(async()=>{M&&(await Rr(M),I(!1),q(null),J(null),d(!1),te(!1))},[M,Rr]),Pe=F.useCallback(()=>{I(!1),q(null),J(null),d(!1),te(!1)},[]),Re=F.useCallback(async()=>{if(M&&Y)try{b(!0);const Ne=Y.existingProducts.find(it=>it.barcode===Y.newProductBarcode);if(Ne){const it=Ne.quantity+M[0].quantity,ut=Sr(Xe,"inventory",Ne.id);await Vn(ut,{quantity:it,lastUpdated:ir.fromDate(new Date)}),U&&(await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${M[0].quantity} units of "${M[0].name}" with existing stock "${Ne.name}" at location ${Y.locationCode}-${Y.shelfNumber}`,time:new Date().toISOString()}),await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": quantity from ${Ne.quantity} to ${it}`,time:new Date().toISOString()})),await qe(),N("Products merged successfully","success")}}catch(Ne){N("Failed to merge products","error"),console.log(Ne)}finally{b(!1),I(!1),q(null),J(null),d(!1),te(!1)}},[M,Y,U,qe,N]),rt=F.useCallback(async(Ne,it)=>{b(!0);try{const ut=new Date,ee={},ve=[];if(Ne.name!==it.name&&(ee.name=Ne.name,ve.push(`name from "${it.name}" to "${Ne.name}"`)),Ne.price!==it.price){ee.price=Ne.price;const he=Number(it.price||0).toFixed(2),me=Number(Ne.price||0).toFixed(2);ve.push(`price from £${he} to £${me}`)}if((Ne.locationCode!==it.locationCode||Ne.shelfNumber!==it.shelfNumber)&&(ee.locationCode=Ne.locationCode,ee.shelfNumber=Ne.shelfNumber,ve.push(`location from ${it.locationCode}-${it.shelfNumber} to ${Ne.locationCode}-${Ne.shelfNumber}`)),Ne.supplier!==it.supplier&&(ee.supplier=Ne.supplier,ve.push(`supplier from "${it.supplier||"none"}" to "${Ne.supplier||"none"}"`)),Ne.asin!==it.asin&&(ee.asin=Ne.asin,ve.push(`ASIN from "${it.asin||"none"}" to "${Ne.asin||"none"}"`)),Ne.status!==it.status&&(ee.status=Ne.status,ve.push(`status from "${it.status}" to "${Ne.status}"`)),Ne.damagedItems!==it.damagedItems&&(ee.damagedItems=Ne.damagedItems,ve.push(`damaged items from ${it.damagedItems} to ${Ne.damagedItems}`)),Ne.fulfillmentType!==it.fulfillmentType&&(ee.fulfillmentType=Ne.fulfillmentType,ve.push(`fulfillment type from "${it.fulfillmentType.toUpperCase()}" to "${Ne.fulfillmentType.toUpperCase()}"`)),Ne.storeName!==it.storeName&&(ee.storeName=Ne.storeName,ve.push(`store name from "${it.storeName}" to "${Ne.storeName}"`)),Ne.unit!==it.unit&&(ee.unit=Ne.unit,ve.push(`unit from "${it.unit||"none"}" to "${Ne.unit||"none"}"`)),Ne.barcode!==it.barcode&&(ee.barcode=Ne.barcode,ve.push(`barcode from "${it.barcode||"none"}" to "${Ne.barcode||"none"}"`)),Object.keys(ee).length>0){const he=Sr(Xe,"inventory",Ne.id);await Vn(he,{...ee,lastUpdated:ir.fromDate(ut)}),U&&ve.length>0&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": ${ve.join(", ")}`,time:ut.toISOString()});const me=j.map(xe=>xe.id===Ne.id?{...xe,...ee,lastUpdated:ut}:xe);T(me),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ne.quantity>it.quantity)V({itemId:Ne.id,newQuantity:Ne.quantity}),z(!0),p(!1);else if(Ne.quantity!==it.quantity){const he=Sr(Xe,"inventory",Ne.id);await Vn(he,{quantity:Ne.quantity,lastUpdated:ir.fromDate(ut)}),U&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ne.name}": quantity from ${it.quantity} to ${Ne.quantity}`,time:ut.toISOString()});const me=j.map(xe=>xe.id===Ne.id?{...xe,quantity:Ne.quantity,lastUpdated:ut}:xe);T(me),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(ut){N("Failed to update stock item","error"),console.log(ut)}finally{b(!1)}},[j,U,N]),vt=F.useCallback(async()=>{if(G){b(!0);try{const{itemId:Ne,newQuantity:it}=G,ut=new Date,ee=j.find(me=>me.id===Ne),ve=Sr(Xe,"inventory",Ne);await Vn(ve,{quantity:it,lastUpdated:ir.fromDate(ut)}),U&&ee&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${ee.name}": quantity from ${ee.quantity} to ${it}`,time:ut.toISOString()});const he=j.map(me=>me.id===Ne?{...me,quantity:it,lastUpdated:ut}:me);T(he),N("Stock quantity updated successfully","success"),P(null)}catch(Ne){N("Failed to update quantity","error"),console.log(Ne)}finally{b(!1),z(!1),V(null)}}},[G,j,U,N]),Nt=F.useCallback(async Ne=>{b(!0);try{const it=j.find(ut=>ut.id===Ne);await Ms(Sr(Xe,"inventory",Ne)),U&&it&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${it.name}" (${it.quantity} units) from location ${it.locationCode}-${it.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(ut=>ut.id!==Ne)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(it){N("Failed to delete stock item","error"),console.log(it)}finally{b(!1)}},[j,U,N]),Kt=F.useCallback(Ne=>{P(Ne)},[]),Ft=F.useCallback((Ne,it)=>{Ne.stopPropagation(),P(it),p(!0)},[]),Dt=F.useCallback((Ne,it)=>{Ne.stopPropagation(),P(it),m(!0)},[]),rr=F.useCallback(()=>{_.size===mt.length?S(new Set):S(new Set(mt.map(Ne=>Ne.id)))},[mt,_.size]),gr=F.useCallback(Ne=>{const it=new Set(_);it.has(Ne)?it.delete(Ne):it.add(Ne),S(it)},[_]),or=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Ne=j.filter(ut=>_.has(ut.id)),it=Array.from(_).map(ut=>Ms(Sr(Xe,"inventory",ut)));if(await Promise.all(it),U){const ut=Ne.map(ee=>`"${ee.name}" (${ee.quantity} units) from ${ee.locationCode}-${ee.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${ut}`,time:new Date().toISOString()})}T(j.filter(ut=>!_.has(ut.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Ne){N("Failed to delete selected items","error"),console.log(Ne)}finally{b(!1)}}},[_,j,U,N]),Tr=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Ne=j.filter(ut=>_.has(ut.id)&&ut.status==="pending");if(Ne.length===0){N("No pending items selected to activate","error");return}const it=Ne.map(ut=>Vn(Sr(Xe,"inventory",ut.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(it),U){const ut=Ne.map(ee=>`"${ee.name}" from ${ee.locationCode}-${ee.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ne.length} pending products: ${ut}`,time:new Date().toISOString()})}T(j.map(ut=>_.has(ut.id)&&ut.status==="pending"?{...ut,status:"active",lastUpdated:new Date}:ut)),S(new Set),E(!1),N(`Successfully activated ${Ne.length} items`,"success")}catch(Ne){N("Failed to activate selected items","error"),console.log(Ne)}finally{b(!1)}}},[_,j,U,N]),An=F.useCallback(()=>{E(!O),O||S(new Set)},[O]),Yt=F.useCallback(({item:Ne})=>{var it;return f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Kt(Ne),children:[O&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:ut=>ut.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:_.has(Ne.id),onChange:()=>gr(Ne.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:Ne.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.storeName&&Ne.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ne.storeName)}`,children:(it=Ne.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[Ne.locationCode," - ",Ne.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.asin?Ne.asin.split(",").length>3?Ne.asin.split(",").slice(0,3).map(ut=>ut.trim()).join(", ")+"...":Ne.asin.split(",").map(ut=>ut.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Ne.price)>0?`£${Number(Ne.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Ne.quantity*Ne.price)>0?`£${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ne.quantity>10&&Ne.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Ne.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:qt(new Date(Ne.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:ut=>Ft(ut,Ne),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:ut=>Dt(ut,Ne),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(li,{size:16})})]})})]},Ne.id)},[O,_,k,U,Kt,gr,Ft,Dt,ht]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:"Inbound"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Ie!==null?Ie:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:O?f.jsxs(f.Fragment,{children:[ye==="pending"&&f.jsxs(at,{onClick:Tr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(v9,{size:16}),"Go Live (",_.size,")"]}),f.jsxs(at,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(li,{size:16}),"Delete Selected (",_.size,")"]}),f.jsx(at,{onClick:An,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(at,{onClick:An,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(r2,{size:16}),"Select Items"]}),f.jsxs(at,{variant:"secondary",onClick:()=>te(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(fi,{size:16}),"Quick Add"]}),f.jsxs(at,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(fi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Ne=>t(Ne.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative search-type-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",f.jsx(xl,{size:16})]}),s&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Ne=>f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Ne.value?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Ne.value),t(""),o(!1)},children:Ne.label},Ne.value))]})})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:l,onChange:Ne=>c(Ne.target.value),options:ot})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",f.jsx(xl,{size:16})]}),ke&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{H("all"),Ce(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>ge(!ae),className:`flex items-center gap-2 ${ie?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ie?`${ie.storeName==="other"?"OTHER":(Mn=ie.storeName)==null?void 0:Mn.toUpperCase()}${ie.fulfillmentType!=="all"?` - ${ie.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",f.jsx(xl,{size:16})]}),ae&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ne=>f.jsx("div",{children:f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ie==null?void 0:ie.storeName)===Ne?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{fe({storeName:Ne,fulfillmentType:"all"}),ge(!1)},children:Ne.toUpperCase()})},Ne)),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{fe(null),ge(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative quantity-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>We(!Me),className:`flex items-center gap-2 ${Se.min!==null||Se.max!==null?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[Se.min!==null||Se.max!==null?`Qty: ${Se.min||0}-${Se.max||"∞"}`:"Quantity Filter",f.jsx(xl,{size:16})]}),Me&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:`text-sm font-medium mb-3 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Quantity Range"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Minimum Quantity"}),f.jsx(jt,{type:"number",placeholder:"Min quantity",value:Se.min||"",onChange:Ne=>le(it=>({...it,min:Ne.target.value?parseInt(Ne.target.value):null})),className:"w-full",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Maximum Quantity"}),f.jsx(jt,{type:"number",placeholder:"Max quantity",value:Se.max||"",onChange:Ne=>le(it=>({...it,max:Ne.target.value?parseInt(Ne.target.value):null})),className:"w-full",min:"0"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>{le({min:null,max:null}),We(!1)},className:"flex-1",children:"Clear"}),f.jsx(at,{variant:"primary",size:"sm",onClick:()=>We(!1),className:"flex-1",children:"Apply"})]})]})})]})]}),f.jsx(at,{variant:"secondary",onClick:qe,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(La,{size:16,className:w?"animate-spin":""})})]}),(r||ie||ye!=="all"||Se.min!==null||Se.max!==null)&&f.jsx("div",{className:`px-4 py-2 rounded-lg ${k?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-blue-400":"bg-blue-600"}`}),f.jsxs("span",{className:`text-sm font-medium ${k?"text-slate-300":"text-slate-700"}`,children:[mt.length," product",mt.length!==1?"s":""," found"]}),mt.length!==j.length&&f.jsxs("span",{className:`text-xs ${k?"text-slate-400":"text-slate-500"}`,children:["(filtered from ",j.length," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-700"}`,children:['Search: "',r,'"']}),ie&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-green-900 text-green-300":"bg-green-100 text-green-700"}`,children:["Store: ",ie.storeName==="other"?"OTHER":(Rn=ie.storeName)==null?void 0:Rn.toUpperCase()]}),ye!=="all"&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-yellow-900 text-yellow-300":"bg-yellow-100 text-yellow-700"}`,children:["Status: ",ye==="active"?"Active":"Pending"]}),(Se.min!==null||Se.max!==null)&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-700"}`,children:["Qty: ",Se.min||0,"-",Se.max||"∞"]}),f.jsx("button",{onClick:()=>{t(""),fe(null),H("all"),le({min:null,max:null})},className:`px-2 py-1 text-xs font-medium rounded transition-colors ${k?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:"Clear All"})]})]})}),w?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):mt.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[O&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:_.size===mt.length,onChange:rr,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:mt.map((Ne,it)=>f.jsx(Yt,{item:Ne,index:it},Ne.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:mt.map(Ne=>{var it;return f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Kt(Ne),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:Ne.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"}),Ne.storeName&&Ne.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ne.storeName)}`,children:(it=Ne.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Ne.locationCode," - ",Ne.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Ne.quantity})]}),Ne.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Ne.asin})]}),Fs(U)&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Ne.price)>0?`£${Number(Ne.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Ne.quantity*Ne.price)>0?`£${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(Ne.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(at,{size:"sm",variant:"secondary",onClick:ut=>{ut.stopPropagation(),Ft(ut,Ne)},children:[f.jsx(vs,{size:14})," Edit"]}),f.jsxs(at,{size:"sm",variant:"danger",onClick:ut=>{ut.stopPropagation(),Dt(ut,Ne)},children:[f.jsx(li,{size:14})," Delete"]})]})]},Ne.id)})})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:u,onClose:()=>d(!1),title:"Add New Stock Item",size:"xl",children:f.jsx(Yq,{onSubmit:Ir,onCancel:()=>d(!1),isLoading:w,existingStockItems:j,onShowProductLocationInfo:Ht})}),f.jsx(fn,{isOpen:W,onClose:()=>te(!1),title:"Quick Add Stock",size:"md",children:f.jsx(Qq,{onSubmit:Ir,onClose:()=>te(!1),isLoading:w})}),f.jsx(fn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&f.jsx(Xq,{item:D,onSubmit:rt,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(dh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>Nt(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!X&&f.jsx(oy,{isOpen:!!D,onClose:()=>P(null),item:D}),f.jsx(dh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:or,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(fn,{isOpen:X,onClose:()=>{z(!1),V(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(at,{variant:"secondary",onClick:()=>{z(!1),V(null)},children:"No"}),f.jsx(at,{onClick:vt,isLoading:w,children:"Yes"})]})]})}),Y&&f.jsx(Jq,{isOpen:Z,onClose:Pe,onConfirm:Wr,onCancel:Pe,onMerge:Re,locationCode:Y.locationCode,shelfNumber:Y.shelfNumber,existingProducts:Y.existingProducts,newProductName:Y.newProductName,newProductBarcode:Y.newProductBarcode}),Te&&f.jsx(Kye,{isOpen:we,onClose:()=>{Fe(!1),Oe(null)},productName:Te.productName,barcode:Te.barcode,existingLocations:Te.existingLocations})]})},Xye=()=>{const{isDarkMode:e}=an(),{showToast:t}=cc(),{user:r}=ga();ga();const[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(""),[c,u]=F.useState(null),[d,h]=F.useState(""),[p,g]=F.useState(null),[m,v]=F.useState("all"),[y,w]=F.useState("all"),[b,D]=F.useState(!1),[P,j]=F.useState(!1),[T,_]=F.useState(null),S=async Z=>{if(r)try{await mr(wt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(I){console.error("Failed to log activity:",I)}},O=F.useCallback(async()=>{a(!0);try{const Z=lr(wt(Xe,"inventory"),Fa("name")),M=(await ur(Z)).docs.map(q=>{const Y=q.data();return{id:q.id,...Y,lastUpdated:Y.lastUpdated instanceof ir?Y.lastUpdated.toDate():new Date(Y.lastUpdated)}});s(M)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=F.useCallback(async()=>{try{const Z=wt(Xe,"inventory"),I=await dk(Z);g(I.data().count)}catch{g(null)}},[]);F.useEffect(()=>{O(),E()},[O,E]),F.useEffect(()=>{const Z=I=>{const M=I.target;M.closest(".damage-filter-dropdown")||D(!1),M.closest(".duplicate-filter-dropdown")||j(!1)};return(b||P)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[b,P]);const N=F.useMemo(()=>{const Z={};for(const I of i){const M=(I.name||"").trim().toLowerCase();if(!M)continue;const q=`${I.locationCode||""}-${I.shelfNumber||""}`.trim().toLowerCase();Z[M]||(Z[M]=new Set),Z[M].add(q)}return Z},[i]),U=((Z,I)=>{const[M,q]=F.useState(Z);return F.useEffect(()=>{const Y=setTimeout(()=>q(Z),I);return()=>clearTimeout(Y)},[Z,I]),M})(o,300),X=F.useMemo(()=>{const Z=U.trim().toLowerCase();return i.filter(I=>{var H,ke;const M=((H=I.name)==null?void 0:H.toLowerCase())||"",q=(I.asin||"").toLowerCase(),Y=(I.barcode||"").toLowerCase(),J=Z?M.includes(Z)||q.includes(Z)||Y.includes(Z):!0,ie=m==="all"?!0:m==="damaged"?(I.damagedItems||0)>0:(I.damagedItems||0)<=0,fe=(I.name||"").trim().toLowerCase(),ge=(fe&&((ke=N[fe])==null?void 0:ke.size)||0)>1;return J&&ie&&(y==="all"?!0:y==="duplicates"?ge:!ge)})},[i,U,m,y,N]),z=F.useMemo(()=>U.trim()?X.reduce((Z,I)=>Z+(I.quantity||0),0):0,[X,U]),G=F.useMemo(()=>{var ae;const Z=X.length;let I=0,M=0,q=0,Y=0,J=0;for(const ge of X){(ge.damagedItems||0)>0&&I++,ge.status==="active"&&M++,ge.status==="pending"&&q++,Number(ge.price)>0&&Y++;const ye=(ge.name||"").trim().toLowerCase();(ye&&((ae=N[ye])==null?void 0:ae.size)||0)>1&&J++}const ie=Z-J,fe=Z-Y;return{total:Z,damaged:I,duplicates:J,unique:ie,active:M,pending:q,priceSet:Y,noPrice:fe}},[X,N]),V=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},W=()=>{u(null),h("")},te=async Z=>{const I=Number(d);if(Number.isNaN(I)||I<0){t("Enter a valid non-negative price","error");return}a(!0);try{const M=new Date,q=Sr(Xe,"inventory",Z.id);await Vn(q,{price:I,lastUpdated:ir.fromDate(M)}),await S(`updated price for ${Z.name} (barcode: ${Z.barcode}) from £${Z.price||0} to £${I.toFixed(2)}`),s(Y=>Y.map(J=>J.id===Z.id?{...J,price:I,lastUpdated:M}:J)),t("Price updated","success"),u(null),h("")}catch(M){console.error("Failed to update price",M),t("Failed to update price","error")}finally{a(!1)}};return f.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[f.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:f.jsx("span",{className:"animate-pulse",children:"..."})]}),f.jsxs(at,{variant:"secondary",onClick:()=>{O(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[f.jsx(La,{size:14,className:n?"animate-spin":""}),f.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?f.jsx(Wa,{title:"Total Quantity",value:z,icon:f.jsx(Do,{size:20,className:"text-blue-600"})}):f.jsx(Wa,{title:"Products",value:G.total,icon:f.jsx(Do,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"Damaged",value:G.damaged,icon:f.jsx(ih,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"Duplicates",value:G.duplicates,icon:f.jsx(IZ,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"Unique",value:G.unique,icon:f.jsx(D4,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[f.jsx(Wa,{title:"Active",value:G.active,icon:f.jsx(D4,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"Pending",value:G.pending,icon:f.jsx(ih,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"With Price",value:G.priceSet,icon:f.jsx(Y2,{size:20,className:"text-blue-600"})}),f.jsx(Wa,{title:"No Price",value:G.noPrice,icon:f.jsx(Y2,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[f.jsxs(at,{variant:"secondary",onClick:()=>D(!b),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),f.jsx(xl,{size:16})]}),b&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),D(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),D(!1)},children:"Damaged"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),f.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[f.jsxs(at,{variant:"secondary",onClick:()=>j(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),f.jsx(xl,{size:16})]}),P&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),j(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),j(!1)},children:"Duplicates Only"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),j(!1)},children:"Unique Only"})]})})]})]})]}),n?f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[f.jsx(gs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):X.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),Fs(r)&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),f.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:X.map(Z=>f.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(I=>I.trim()).join(", ")+"...":Z.asin.split(",").map(I=>I.trim()).join(", "):"-"}),Fs(r)&&f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?f.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:I=>I.stopPropagation(),children:[f.jsx(jt,{type:"number",step:"0.01",value:d,onChange:I=>h(I.target.value),className:"w-28 text-right"}),f.jsx(at,{size:"sm",onClick:()=>te(Z),isLoading:n,children:f.jsx(Aj,{size:14})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:W,disabled:n,children:f.jsx(fp,{size:14})})]}):f.jsx("button",{onClick:I=>{I.stopPropagation(),V(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"(Not set)"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:f.jsx("button",{onClick:()=>_(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:f.jsx(L4,{size:16})})})]},Z.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-3",children:X.map(Z=>{var I;return f.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),f.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:((I=Z.asin)==null?void 0:I.split(",")[0])||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",f.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",f.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[Fs(r)&&f.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"No price"}),f.jsxs("div",{className:"flex gap-1",children:[c===Z.id?f.jsxs(f.Fragment,{children:[f.jsx(at,{size:"sm",onClick:()=>te(Z),isLoading:n,children:f.jsx(Aj,{size:12})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),W()},disabled:n,children:f.jsx(fp,{size:12})})]}):f.jsx(at,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),V(Z)},children:f.jsx(vs,{size:12})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:()=>_(Z),children:f.jsx(L4,{size:12})})]})]})]}),c===Z.id&&f.jsx("div",{className:"mt-1",children:f.jsx(jt,{type:"number",step:"0.01",value:d,onChange:M=>h(M.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&f.jsx(oy,{isOpen:!!T,onClose:()=>_(null),item:T})]})},Zq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=an(),[o,l]=F.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},d=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range";return f.jsxs("div",{className:`relative ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(p9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&f.jsx("span",{onClick:p=>{p.stopPropagation(),d()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),d())},children:f.jsx(fp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:e?qt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:t?qt(t,"yyyy-MM-dd"):"",onChange:u,min:e?qt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:d,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Qye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState("stock sold"),[l,c]=F.useState(""),[u,d]=F.useState(""),[h,p]=F.useState([]),[g,m]=F.useState(""),[v,y]=F.useState(!1),{isDarkMode:w}=an();F.useEffect(()=>{(async()=>{y(!0);try{let S=lr(wt(Xe,"inventory"),sr("barcode","==",e.barcode)),O=await ur(S);if(O.empty&&e.barcode){const k=String(e.barcode).trim();S=lr(wt(Xe,"inventory"),sr("barcode","==",k)),O=await ur(S)}O.empty&&e.name&&(S=lr(wt(Xe,"inventory"),sr("name","==",e.name)),O=await ur(S));const E=[];O.docs.forEach(k=>{const U=k.data();U.locationCode&&U.shelfNumber&&(U.quantity||0)>0&&E.push({locationCode:String(U.locationCode).trim(),shelfNumber:String(U.shelfNumber).trim(),quantity:Number(U.quantity)||0,storeName:(U.storeName?String(U.storeName):"Unknown").trim()})});const N=E.filter((k,U,X)=>U===X.findIndex(z=>z.locationCode===k.locationCode&&z.shelfNumber===k.shelfNumber)).sort((k,U)=>k.locationCode.localeCompare(U.locationCode));if(p(N),N.length>0){const k=N[0];m(`${k.locationCode}-${k.shelfNumber}`),d(k.storeName)}}catch(S){console.error("Error fetching locations:",S)}finally{y(!1)}})()},[e.barcode]);const b=_=>{if(m(_),_){const[S,O]=_.split("-"),E=h.find(N=>String(N.locationCode)===String(S)&&String(N.shelfNumber)===String(O));E&&d(E.storeName)}},D=async _=>{_.preventDefault();const S=Number(a);if(!a||S<0)return;const O=P();if(S>O||!g)return;const E=s==="other"?l:s,N=u.trim(),[k,U]=g.split("-");await t({id:e.id,quantity:e.quantity-S,reason:E,storeName:N,locationCode:k,shelfNumber:U})},P=()=>{if(!g)return e.quantity;const[_,S]=g.split("-"),O=h.find(E=>String(E.locationCode)===String(_)&&String(E.shelfNumber)===String(S));return O?O.quantity:e.quantity},T=(()=>{const _=Number(a);if(!a||_<0)return"Quantity to deduct must be 0 or greater";const S=P();return _>S?`Cannot deduct more than current stock at selected location (${S} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return f.jsxs("form",{onSubmit:D,className:`space-y-6 ${w?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${w?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${w?"text-white":"text-gray-900"}`,children:e.name}),f.jsx("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:g&&f.jsxs("span",{className:` ${w?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),f.jsxs("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${w?"text-slate-400":"text-slate-500"}`,children:[f.jsx(gs,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?f.jsx(Jr,{id:"location",value:g,onChange:_=>b(_.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(_=>{var S;return{value:`${_.locationCode}-${_.shelfNumber}`,label:`${_.locationCode} - Shelf ${_.shelfNumber} (${_.quantity} units) - ${(S=_.storeName)==null?void 0:S.toUpperCase()}`}})],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):f.jsx("div",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:"No locations with available stock found for this product"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(jt,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:_=>i(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&f.jsxs("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Jr,{id:"reason",value:s,onChange:_=>o(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(jt,{id:"otherReason",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter the reason",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsxs("div",{className:`p-3 rounded-lg ${w?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[f.jsx("span",{className:`text-sm font-medium ${w?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${w?"text-red-400":"text-red-600"}`,children:[f.jsx(ih,{size:16}),f.jsx("span",{children:T})]}):f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),f.jsx(at,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?f.jsxs(f.Fragment,{children:[f.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Jye=({isOpen:e,onClose:t})=>{const[r,n]=F.useState("0"),[a,i]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},d=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const w=parseFloat(r);if(a===null)i(w);else if(s){const D=g(a||0,w,s);n(String(D)),i(D)}c(!0),o(y)},g=(y,w,b)=>{switch(b){case"+":return y+w;case"-":return y-w;case"×":return y*w;case"÷":return y/w;default:return w}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>d("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>d("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>d("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>d("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>d("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>d("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>d("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>d("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>d("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>d("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),w=g(a,y,s);n(String(w)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return f.jsx(fn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[f.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&f.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,w)=>f.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},w))}),f.jsx("div",{className:"pt-2",children:f.jsx(at,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function eW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=eW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function un(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=eW(e))&&(n&&(n+=" "),n+=t);return n}var Zye=Array.isArray,zs=Zye,exe=typeof cg=="object"&&cg&&cg.Object===Object&&cg,tW=exe,txe=tW,rxe=typeof self=="object"&&self&&self.Object===Object&&self,nxe=txe||rxe||Function("return this")(),dc=nxe,axe=dc,ixe=axe.Symbol,ly=ixe,b8=ly,rW=Object.prototype,sxe=rW.hasOwnProperty,oxe=rW.toString,Qm=b8?b8.toStringTag:void 0;function lxe(e){var t=sxe.call(e,Qm),r=e[Qm];try{e[Qm]=void 0;var n=!0}catch{}var a=oxe.call(e);return n&&(t?e[Qm]=r:delete e[Qm]),a}var cxe=lxe,uxe=Object.prototype,fxe=uxe.toString;function dxe(e){return fxe.call(e)}var hxe=dxe,w8=ly,pxe=cxe,mxe=hxe,gxe="[object Null]",vxe="[object Undefined]",_8=w8?w8.toStringTag:void 0;function yxe(e){return e==null?e===void 0?vxe:gxe:_8&&_8 in Object(e)?pxe(e):mxe(e)}var vu=yxe;function xxe(e){return e!=null&&typeof e=="object"}var yu=xxe,bxe=vu,wxe=yu,_xe="[object Symbol]";function Sxe(e){return typeof e=="symbol"||wxe(e)&&bxe(e)==_xe}var dm=Sxe,Axe=zs,Txe=dm,Exe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nxe=/^\w*$/;function kxe(e,t){if(Axe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Txe(e)?!0:Nxe.test(e)||!Exe.test(e)||t!=null&&e in Object(t)}var _C=kxe;function Cxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ed=Cxe;const hm=kn(ed);var Pxe=vu,jxe=ed,Oxe="[object AsyncFunction]",Ixe="[object Function]",Dxe="[object GeneratorFunction]",Lxe="[object Proxy]";function Mxe(e){if(!jxe(e))return!1;var t=Pxe(e);return t==Ixe||t==Dxe||t==Oxe||t==Lxe}var SC=Mxe;const Br=kn(SC);var Rxe=dc,Fxe=Rxe["__core-js_shared__"],$xe=Fxe,YS=$xe,S8=function(){var e=/[^.]+$/.exec(YS&&YS.keys&&YS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bxe(e){return!!S8&&S8 in e}var Uxe=Bxe,Vxe=Function.prototype,zxe=Vxe.toString;function qxe(e){if(e!=null){try{return zxe.call(e)}catch{}try{return e+""}catch{}}return""}var nW=qxe,Wxe=SC,Hxe=Uxe,Gxe=ed,Kxe=nW,Yxe=/[\\^$.*+?()[\]{}|]/g,Xxe=/^\[object .+?Constructor\]$/,Qxe=Function.prototype,Jxe=Object.prototype,Zxe=Qxe.toString,e2e=Jxe.hasOwnProperty,t2e=RegExp("^"+Zxe.call(e2e).replace(Yxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function r2e(e){if(!Gxe(e)||Hxe(e))return!1;var t=Wxe(e)?t2e:Xxe;return t.test(Kxe(e))}var n2e=r2e;function a2e(e,t){return e==null?void 0:e[t]}var i2e=a2e,s2e=n2e,o2e=i2e;function l2e(e,t){var r=o2e(e,t);return s2e(r)?r:void 0}var Ph=l2e,c2e=Ph,u2e=c2e(Object,"create"),k5=u2e,A8=k5;function f2e(){this.__data__=A8?A8(null):{},this.size=0}var d2e=f2e;function h2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var p2e=h2e,m2e=k5,g2e="__lodash_hash_undefined__",v2e=Object.prototype,y2e=v2e.hasOwnProperty;function x2e(e){var t=this.__data__;if(m2e){var r=t[e];return r===g2e?void 0:r}return y2e.call(t,e)?t[e]:void 0}var b2e=x2e,w2e=k5,_2e=Object.prototype,S2e=_2e.hasOwnProperty;function A2e(e){var t=this.__data__;return w2e?t[e]!==void 0:S2e.call(t,e)}var T2e=A2e,E2e=k5,N2e="__lodash_hash_undefined__";function k2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=E2e&&t===void 0?N2e:t,this}var C2e=k2e,P2e=d2e,j2e=p2e,O2e=b2e,I2e=T2e,D2e=C2e;function pm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pm.prototype.clear=P2e;pm.prototype.delete=j2e;pm.prototype.get=O2e;pm.prototype.has=I2e;pm.prototype.set=D2e;var L2e=pm;function M2e(){this.__data__=[],this.size=0}var R2e=M2e;function F2e(e,t){return e===t||e!==e&&t!==t}var AC=F2e,$2e=AC;function B2e(e,t){for(var r=e.length;r--;)if($2e(e[r][0],t))return r;return-1}var C5=B2e,U2e=C5,V2e=Array.prototype,z2e=V2e.splice;function q2e(e){var t=this.__data__,r=U2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():z2e.call(t,r,1),--this.size,!0}var W2e=q2e,H2e=C5;function G2e(e){var t=this.__data__,r=H2e(t,e);return r<0?void 0:t[r][1]}var K2e=G2e,Y2e=C5;function X2e(e){return Y2e(this.__data__,e)>-1}var Q2e=X2e,J2e=C5;function Z2e(e,t){var r=this.__data__,n=J2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ebe=Z2e,tbe=R2e,rbe=W2e,nbe=K2e,abe=Q2e,ibe=ebe;function mm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mm.prototype.clear=tbe;mm.prototype.delete=rbe;mm.prototype.get=nbe;mm.prototype.has=abe;mm.prototype.set=ibe;var P5=mm,sbe=Ph,obe=dc,lbe=sbe(obe,"Map"),TC=lbe,T8=L2e,cbe=P5,ube=TC;function fbe(){this.size=0,this.__data__={hash:new T8,map:new(ube||cbe),string:new T8}}var dbe=fbe;function hbe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var pbe=hbe,mbe=pbe;function gbe(e,t){var r=e.__data__;return mbe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var j5=gbe,vbe=j5;function ybe(e){var t=vbe(this,e).delete(e);return this.size-=t?1:0,t}var xbe=ybe,bbe=j5;function wbe(e){return bbe(this,e).get(e)}var _be=wbe,Sbe=j5;function Abe(e){return Sbe(this,e).has(e)}var Tbe=Abe,Ebe=j5;function Nbe(e,t){var r=Ebe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var kbe=Nbe,Cbe=dbe,Pbe=xbe,jbe=_be,Obe=Tbe,Ibe=kbe;function gm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gm.prototype.clear=Cbe;gm.prototype.delete=Pbe;gm.prototype.get=jbe;gm.prototype.has=Obe;gm.prototype.set=Ibe;var EC=gm,aW=EC,Dbe="Expected a function";function NC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Dbe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(NC.Cache||aW),r}NC.Cache=aW;var iW=NC;const Lbe=kn(iW);var Mbe=iW,Rbe=500;function Fbe(e){var t=Mbe(e,function(n){return r.size===Rbe&&r.clear(),n}),r=t.cache;return t}var $be=Fbe,Bbe=$be,Ube=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vbe=/\\(\\)?/g,zbe=Bbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ube,function(r,n,a,i){t.push(a?i.replace(Vbe,"$1"):n||r)}),t}),qbe=zbe;function Wbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var kC=Wbe,E8=ly,Hbe=kC,Gbe=zs,Kbe=dm,Ybe=1/0,N8=E8?E8.prototype:void 0,k8=N8?N8.toString:void 0;function sW(e){if(typeof e=="string")return e;if(Gbe(e))return Hbe(e,sW)+"";if(Kbe(e))return k8?k8.call(e):"";var t=e+"";return t=="0"&&1/e==-Ybe?"-0":t}var Xbe=sW,Qbe=Xbe;function Jbe(e){return e==null?"":Qbe(e)}var oW=Jbe,Zbe=zs,ewe=_C,twe=qbe,rwe=oW;function nwe(e,t){return Zbe(e)?e:ewe(e,t)?[e]:twe(rwe(e))}var lW=nwe,awe=dm,iwe=1/0;function swe(e){if(typeof e=="string"||awe(e))return e;var t=e+"";return t=="0"&&1/e==-iwe?"-0":t}var O5=swe,owe=lW,lwe=O5;function cwe(e,t){t=owe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lwe(t[r++])];return r&&r==n?e:void 0}var CC=cwe,uwe=CC;function fwe(e,t,r){var n=e==null?void 0:uwe(e,t);return n===void 0?r:n}var cW=fwe;const $o=kn(cW);function dwe(e){return e==null}var hwe=dwe;const zr=kn(hwe);var pwe=vu,mwe=zs,gwe=yu,vwe="[object String]";function ywe(e){return typeof e=="string"||!mwe(e)&&gwe(e)&&pwe(e)==vwe}var xwe=ywe;const hh=kn(xwe);var uW={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=Symbol.for("react.element"),jC=Symbol.for("react.portal"),I5=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),L5=Symbol.for("react.profiler"),M5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),bwe=Symbol.for("react.server_context"),F5=Symbol.for("react.forward_ref"),$5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),U5=Symbol.for("react.memo"),V5=Symbol.for("react.lazy"),wwe=Symbol.for("react.offscreen"),fW;fW=Symbol.for("react.module.reference");function Ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PC:switch(e=e.type,e){case I5:case L5:case D5:case $5:case B5:return e;default:switch(e=e&&e.$$typeof,e){case bwe:case R5:case F5:case V5:case U5:case M5:return e;default:return t}}case jC:return t}}}Sn.ContextConsumer=R5;Sn.ContextProvider=M5;Sn.Element=PC;Sn.ForwardRef=F5;Sn.Fragment=I5;Sn.Lazy=V5;Sn.Memo=U5;Sn.Portal=jC;Sn.Profiler=L5;Sn.StrictMode=D5;Sn.Suspense=$5;Sn.SuspenseList=B5;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return Ko(e)===R5};Sn.isContextProvider=function(e){return Ko(e)===M5};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PC};Sn.isForwardRef=function(e){return Ko(e)===F5};Sn.isFragment=function(e){return Ko(e)===I5};Sn.isLazy=function(e){return Ko(e)===V5};Sn.isMemo=function(e){return Ko(e)===U5};Sn.isPortal=function(e){return Ko(e)===jC};Sn.isProfiler=function(e){return Ko(e)===L5};Sn.isStrictMode=function(e){return Ko(e)===D5};Sn.isSuspense=function(e){return Ko(e)===$5};Sn.isSuspenseList=function(e){return Ko(e)===B5};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===I5||e===L5||e===D5||e===$5||e===B5||e===wwe||typeof e=="object"&&e!==null&&(e.$$typeof===V5||e.$$typeof===U5||e.$$typeof===M5||e.$$typeof===R5||e.$$typeof===F5||e.$$typeof===fW||e.getModuleId!==void 0)};Sn.typeOf=Ko;uW.exports=Sn;var _we=uW.exports,Swe=vu,Awe=yu,Twe="[object Number]";function Ewe(e){return typeof e=="number"||Awe(e)&&Swe(e)==Twe}var dW=Ewe;const Nwe=kn(dW);var kwe=dW;function Cwe(e){return kwe(e)&&e!=+e}var Pwe=Cwe;const cy=kn(Pwe);var _l=function(t){return t===0?0:t>0?1:-1},$d=function(t){return hh(t)&&t.indexOf("%")===t.length-1},Ut=function(t){return Nwe(t)&&!cy(t)},jwe=function(t){return zr(t)},Xa=function(t){return Ut(t)||hh(t)},Owe=0,uy=function(t){var r=++Owe;return"".concat(t||"").concat(r)},ph=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ut(t)&&!hh(t))return n;var i;if($d(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return cy(i)&&(i=n),a&&i>r&&(i=r),i},sf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Iwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},gl=function(t,r){return Ut(t)&&Ut(r)?function(n){return t+n*(r-t)}:function(){return r}};function Pb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$o(n,t))===r})}var Dwe=function(t,r){return Ut(t)&&Ut(r)?t-r:hh(t)&&hh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function G0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $3(e){"@babel/helpers - typeof";return $3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$3(e)}var Lwe=["viewBox","children"],Mwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C8=["points","pathLength"],XS={svg:Lwe,polygon:C8,polyline:C8},OC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!hm(n))return null;var a={};return Object.keys(n).forEach(function(i){OC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Rwe=function(t,r,n){return function(a){return t(r,n,a),null}},Ob=function(t,r,n){if(!hm(t)||$3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];OC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Rwe(s,r,n))}),a},Fwe=["children"],$we=["children"];function P8(e,t){if(e==null)return{};var r=Bwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B3(e){"@babel/helpers - typeof";return B3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B3(e)}var j8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},O8=null,QS=null,IC=function e(t){if(t===O8&&Array.isArray(QS))return QS;var r=[];return F.Children.forEach(t,function(n){zr(n)||(_we.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),QS=r,O8=t,r};function Bo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return zc(a)}):n=[zc(t)],IC(e).forEach(function(a){var i=$o(a,"type.displayName")||$o(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function to(e,t){var r=Bo(e,t);return r&&r[0]}var I8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ut(n)||n<=0||!Ut(a)||a<=0)},Uwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vwe=function(t){return t&&t.type&&hh(t.type)&&Uwe.indexOf(t.type)>=0},zwe=function(t){return t&&B3(t)==="object"&&"clipDot"in t},qwe=function(t,r,n,a){var i,s=(i=XS==null?void 0:XS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Br(t)&&(a&&s.includes(r)||Mwe.includes(r))||n&&OC.includes(r)},Zr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!hm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;qwe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},U3=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return D8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!D8(i,s))return!1}return!0},D8=function(t,r){if(zr(t)&&zr(r))return!0;if(!zr(t)&&!zr(r)){var n=t.props||{},a=n.children,i=P8(n,Fwe),s=r.props||{},o=s.children,l=P8(s,$we);return a&&o?G0(i,l)&&U3(a,o):!a&&!o?G0(i,l):!1}return!1},L8=function(t,r){var n=[],a={};return IC(t).forEach(function(i,s){if(Vwe(i))n.push(i);else if(i){var o=zc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},Wwe=function(t){var r=t&&t.type;return r&&j8[r]?j8[r]:null},Hwe=function(t,r){return IC(r).indexOf(t)},Gwe=["children","width","height","viewBox","className","style","title","desc"];function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function Kwe(e,t){if(e==null)return{};var r=Ywe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Kwe(e,Gwe),u=a||{width:r,height:n,x:0,y:0},d=un("recharts-surface",i);return Ue.createElement("svg",V3({},Zr(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ue.createElement("title",null,o),Ue.createElement("desc",null,l),t)}var Xwe=["children","className"];function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function Qwe(e,t){if(e==null)return{};var r=Jwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ea=Ue.forwardRef(function(e,t){var r=e.children,n=e.className,a=Qwe(e,Xwe),i=un("recharts-layer",n);return Ue.createElement("g",q3({className:i},Zr(a,!0),{ref:t}),r)}),qc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Zwe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var e5e=Zwe,t5e=e5e;function r5e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:t5e(e,t,r)}var n5e=r5e,a5e="\\ud800-\\udfff",i5e="\\u0300-\\u036f",s5e="\\ufe20-\\ufe2f",o5e="\\u20d0-\\u20ff",l5e=i5e+s5e+o5e,c5e="\\ufe0e\\ufe0f",u5e="\\u200d",f5e=RegExp("["+u5e+a5e+l5e+c5e+"]");function d5e(e){return f5e.test(e)}var hW=d5e;function h5e(e){return e.split("")}var p5e=h5e,pW="\\ud800-\\udfff",m5e="\\u0300-\\u036f",g5e="\\ufe20-\\ufe2f",v5e="\\u20d0-\\u20ff",y5e=m5e+g5e+v5e,x5e="\\ufe0e\\ufe0f",b5e="["+pW+"]",W3="["+y5e+"]",H3="\\ud83c[\\udffb-\\udfff]",w5e="(?:"+W3+"|"+H3+")",mW="[^"+pW+"]",gW="(?:\\ud83c[\\udde6-\\uddff]){2}",vW="[\\ud800-\\udbff][\\udc00-\\udfff]",_5e="\\u200d",yW=w5e+"?",xW="["+x5e+"]?",S5e="(?:"+_5e+"(?:"+[mW,gW,vW].join("|")+")"+xW+yW+")*",A5e=xW+yW+S5e,T5e="(?:"+[mW+W3+"?",W3,gW,vW,b5e].join("|")+")",E5e=RegExp(H3+"(?="+H3+")|"+T5e+A5e,"g");function N5e(e){return e.match(E5e)||[]}var k5e=N5e,C5e=p5e,P5e=hW,j5e=k5e;function O5e(e){return P5e(e)?j5e(e):C5e(e)}var I5e=O5e,D5e=n5e,L5e=hW,M5e=I5e,R5e=oW;function F5e(e){return function(t){t=R5e(t);var r=L5e(t)?M5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?D5e(r,1).join(""):t.slice(1);return n[e]()+a}}var $5e=F5e,B5e=$5e,U5e=B5e("toUpperCase"),V5e=U5e;const z5=kn(V5e);function Un(e){return function(){return e}}const bW=Math.cos,Ib=Math.sin,jl=Math.sqrt,Db=Math.PI,q5=2*Db,G3=Math.PI,K3=2*G3,Ed=1e-6,z5e=K3-Ed;function wW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function q5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class W5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wW:q5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ed)if(!(Math.abs(d*l-c*u)>Ed)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(h),b=i*Math.tan((G3-Math.acos((m+h-v)/(2*y*w)))/2),D=b/w,P=b/y;Math.abs(D-1)>Ed&&this._append`L${t+D*u},${r+D*d}`,this._append`A${i},${i},0,0,${+(d*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ed||Math.abs(this._y1-u)>Ed)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%K3+K3),h>z5e?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Ed&&this._append`A${n},${n},0,${+(h>=G3)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function DC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new W5e(t)}function LC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _W(e){this._context=e}_W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function W5(e){return new _W(e)}function SW(e){return e[0]}function AW(e){return e[1]}function TW(e,t){var r=Un(!0),n=null,a=W5,i=null,s=DC(o);e=typeof e=="function"?e:e===void 0?SW:Un(e),t=typeof t=="function"?t:t===void 0?AW:Un(t);function o(l){var c,u=(l=LC(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Un(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Un(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Un(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Tx(e,t,r){var n=null,a=Un(!0),i=null,s=W5,o=null,l=DC(c);e=typeof e=="function"?e:e===void 0?SW:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AW:Un(+r);function c(d){var h,p,g,m=(d=LC(d)).length,v,y=!1,w,b=new Array(m),D=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],D[g]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,d),D[h]=+t(v,h,d),o.point(n?+n(v,h,d):b[h],r?+r(v,h,d):D[h]))}if(w)return o=null,w+""||null}function u(){return TW().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Un(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Un(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Un(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Un(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Un(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class EW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function H5e(e){return new EW(e,!0)}function G5e(e){return new EW(e,!1)}const MC={draw(e,t){const r=jl(t/Db);e.moveTo(r,0),e.arc(0,0,r,0,q5)}},K5e={draw(e,t){const r=jl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},NW=jl(1/3),Y5e=NW*2,X5e={draw(e,t){const r=jl(t/Y5e),n=r*NW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Q5e={draw(e,t){const r=jl(t),n=-r/2;e.rect(n,n,r,r)}},J5e=.8908130915292852,kW=Ib(Db/10)/Ib(7*Db/10),Z5e=Ib(q5/10)*kW,e_e=-bW(q5/10)*kW,t_e={draw(e,t){const r=jl(t*J5e),n=Z5e*r,a=e_e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=q5*i/5,o=bW(s),l=Ib(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},JS=jl(3),r_e={draw(e,t){const r=-jl(t/(JS*3));e.moveTo(0,r*2),e.lineTo(-JS*r,-r),e.lineTo(JS*r,-r),e.closePath()}},To=-.5,Eo=jl(3)/2,Y3=1/jl(12),n_e=(Y3/2+1)*3,a_e={draw(e,t){const r=jl(t/n_e),n=r/2,a=r*Y3,i=n,s=r*Y3+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(To*n-Eo*a,Eo*n+To*a),e.lineTo(To*i-Eo*s,Eo*i+To*s),e.lineTo(To*o-Eo*l,Eo*o+To*l),e.lineTo(To*n+Eo*a,To*a-Eo*n),e.lineTo(To*i+Eo*s,To*s-Eo*i),e.lineTo(To*o+Eo*l,To*l-Eo*o),e.closePath()}};function i_e(e,t){let r=null,n=DC(a);e=typeof e=="function"?e:Un(e||MC),t=typeof t=="function"?t:Un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Lb(){}function Mb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CW(e){this._context=e}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s_e(e){return new CW(e)}function PW(e){this._context=e}PW.prototype={areaStart:Lb,areaEnd:Lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o_e(e){return new PW(e)}function jW(e){this._context=e}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l_e(e){return new jW(e)}function OW(e){this._context=e}OW.prototype={areaStart:Lb,areaEnd:Lb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c_e(e){return new OW(e)}function M8(e){return e<0?-1:1}function R8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(M8(i)+M8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function F8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Rb(e){this._context=e}Rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZS(this,this._t0,F8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZS(this,F8(this,r=R8(this,e,t)),r);break;default:ZS(this,this._t0,r=R8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function IW(e){this._context=new DW(e)}(IW.prototype=Object.create(Rb.prototype)).point=function(e,t){Rb.prototype.point.call(this,t,e)};function DW(e){this._context=e}DW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function u_e(e){return new Rb(e)}function f_e(e){return new IW(e)}function LW(e){this._context=e}LW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$8(e),a=$8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function d_e(e){return new LW(e)}function H5(e,t){this._context=e,this._t=t}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function h_e(e){return new H5(e,.5)}function p_e(e){return new H5(e,0)}function m_e(e){return new H5(e,1)}function Ap(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function X3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function g_e(e,t){return e[t]}function v_e(e){const t=[];return t.key=e,t}function y_e(){var e=Un([]),t=X3,r=Ap,n=g_e;function a(i){var s=Array.from(e.apply(this,arguments),v_e),o,l=s.length,c=-1,u;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,u=LC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?X3:typeof i=="function"?i:Un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ap,a):r},a}function x_e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ap(e,t)}}function b_e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ap(e,t)}}function w_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Ap(e,t)}}function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}var __e=["type","size","sizeType"];function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){S_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_e(e,t,r){return t=A_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A_e(e){var t=T_e(e,"string");return e1(t)=="symbol"?t:t+""}function T_e(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_e(e,t){if(e==null)return{};var r=N_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MW={symbolCircle:MC,symbolCross:K5e,symbolDiamond:X5e,symbolSquare:Q5e,symbolStar:t_e,symbolTriangle:r_e,symbolWye:a_e},k_e=Math.PI/180,C_e=function(t){var r="symbol".concat(z5(t));return MW[r]||MC},P_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*k_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},j_e=function(t,r){MW["symbol".concat(z5(t))]=r},RC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=E_e(t,__e),c=U8(U8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=C_e(n),y=i_e().type(v).size(P_e(i,o,n));return y()},d=c.className,h=c.cx,p=c.cy,g=Zr(c,!0);return h===+h&&p===+p&&i===+i?Ue.createElement("path",Q3({},g,{className:un("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};RC.registerSymbol=j_e;function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J3.apply(this,arguments)}function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){t1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FW(n.key),n)}}function L_e(e,t,r){return t&&D_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M_e(e,t,r){return t=Fb(t),R_e(e,RW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function R_e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(e)}function F_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function $_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z3(e,t)}function t1(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=B_e(e,"string");return Tp(t)=="symbol"?t:t+""}function B_e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No=32,FC=function(e){function t(){return I_e(this,t),M_e(this,t,arguments)}return $_e(t,e),L_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=No/2,s=No/6,o=No/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:No,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(No,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(No/8,"h").concat(No,"v").concat(No*3/4,"h").concat(-No,"z"),className:"recharts-legend-icon"});if(Ue.isValidElement(n.legendIcon)){var c=O_e({},n);return delete c.legendIcon,Ue.cloneElement(n.legendIcon,c)}return Ue.createElement(RC,{fill:l,cx:i,cy:i,size:No,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:No,height:No},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=un(t1(t1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Br(p.value)?null:p.value;qc(!Br(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return Ue.createElement("li",J3({className:v,style:d,key:"legend-item-".concat(g)},Ob(n.props,p,g)),Ue.createElement(z3,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Ue.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ue.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);t1(FC,"displayName","Legend");t1(FC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var U_e=P5;function V_e(){this.__data__=new U_e,this.size=0}var z_e=V_e;function q_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var W_e=q_e;function H_e(e){return this.__data__.get(e)}var G_e=H_e;function K_e(e){return this.__data__.has(e)}var Y_e=K_e,X_e=P5,Q_e=TC,J_e=EC,Z_e=200;function eSe(e,t){var r=this.__data__;if(r instanceof X_e){var n=r.__data__;if(!Q_e||n.length<Z_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new J_e(n)}return r.set(e,t),this.size=r.size,this}var tSe=eSe,rSe=P5,nSe=z_e,aSe=W_e,iSe=G_e,sSe=Y_e,oSe=tSe;function vm(e){var t=this.__data__=new rSe(e);this.size=t.size}vm.prototype.clear=nSe;vm.prototype.delete=aSe;vm.prototype.get=iSe;vm.prototype.has=sSe;vm.prototype.set=oSe;var $W=vm,lSe="__lodash_hash_undefined__";function cSe(e){return this.__data__.set(e,lSe),this}var uSe=cSe;function fSe(e){return this.__data__.has(e)}var dSe=fSe,hSe=EC,pSe=uSe,mSe=dSe;function $b(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hSe;++t<r;)this.add(e[t])}$b.prototype.add=$b.prototype.push=pSe;$b.prototype.has=mSe;var BW=$b;function gSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var UW=gSe;function vSe(e,t){return e.has(t)}var VW=vSe,ySe=BW,xSe=UW,bSe=VW,wSe=1,_Se=2;function SSe(e,t,r,n,a,i){var s=r&wSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&_Se?new ySe:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],m=t[d];if(n)var v=s?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!xSe(t,function(y,w){if(!bSe(p,w)&&(g===y||a(g,y,r,n,i)))return p.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var zW=SSe,ASe=dc,TSe=ASe.Uint8Array,ESe=TSe;function NSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var kSe=NSe;function CSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $C=CSe,z8=ly,q8=ESe,PSe=AC,jSe=zW,OSe=kSe,ISe=$C,DSe=1,LSe=2,MSe="[object Boolean]",RSe="[object Date]",FSe="[object Error]",$Se="[object Map]",BSe="[object Number]",USe="[object RegExp]",VSe="[object Set]",zSe="[object String]",qSe="[object Symbol]",WSe="[object ArrayBuffer]",HSe="[object DataView]",W8=z8?z8.prototype:void 0,eA=W8?W8.valueOf:void 0;function GSe(e,t,r,n,a,i,s){switch(r){case HSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case WSe:return!(e.byteLength!=t.byteLength||!i(new q8(e),new q8(t)));case MSe:case RSe:case BSe:return PSe(+e,+t);case FSe:return e.name==t.name&&e.message==t.message;case USe:case zSe:return e==t+"";case $Se:var o=OSe;case VSe:var l=n&DSe;if(o||(o=ISe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=LSe,s.set(e,t);var u=jSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case qSe:if(eA)return eA.call(e)==eA.call(t)}return!1}var KSe=GSe;function YSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var qW=YSe,XSe=qW,QSe=zs;function JSe(e,t,r){var n=t(e);return QSe(e)?n:XSe(n,r(e))}var ZSe=JSe;function eAe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var tAe=eAe;function rAe(){return[]}var nAe=rAe,aAe=tAe,iAe=nAe,sAe=Object.prototype,oAe=sAe.propertyIsEnumerable,H8=Object.getOwnPropertySymbols,lAe=H8?function(e){return e==null?[]:(e=Object(e),aAe(H8(e),function(t){return oAe.call(e,t)}))}:iAe,cAe=lAe;function uAe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var fAe=uAe,dAe=vu,hAe=yu,pAe="[object Arguments]";function mAe(e){return hAe(e)&&dAe(e)==pAe}var gAe=mAe,G8=gAe,vAe=yu,WW=Object.prototype,yAe=WW.hasOwnProperty,xAe=WW.propertyIsEnumerable,bAe=G8(function(){return arguments}())?G8:function(e){return vAe(e)&&yAe.call(e,"callee")&&!xAe.call(e,"callee")},BC=bAe,Bb={exports:{}};function wAe(){return!1}var _Ae=wAe;Bb.exports;(function(e,t){var r=dc,n=_Ae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Bb,Bb.exports);var HW=Bb.exports,SAe=9007199254740991,AAe=/^(?:0|[1-9]\d*)$/;function TAe(e,t){var r=typeof e;return t=t??SAe,!!t&&(r=="number"||r!="symbol"&&AAe.test(e))&&e>-1&&e%1==0&&e<t}var UC=TAe,EAe=9007199254740991;function NAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=EAe}var VC=NAe,kAe=vu,CAe=VC,PAe=yu,jAe="[object Arguments]",OAe="[object Array]",IAe="[object Boolean]",DAe="[object Date]",LAe="[object Error]",MAe="[object Function]",RAe="[object Map]",FAe="[object Number]",$Ae="[object Object]",BAe="[object RegExp]",UAe="[object Set]",VAe="[object String]",zAe="[object WeakMap]",qAe="[object ArrayBuffer]",WAe="[object DataView]",HAe="[object Float32Array]",GAe="[object Float64Array]",KAe="[object Int8Array]",YAe="[object Int16Array]",XAe="[object Int32Array]",QAe="[object Uint8Array]",JAe="[object Uint8ClampedArray]",ZAe="[object Uint16Array]",e4e="[object Uint32Array]",Kn={};Kn[HAe]=Kn[GAe]=Kn[KAe]=Kn[YAe]=Kn[XAe]=Kn[QAe]=Kn[JAe]=Kn[ZAe]=Kn[e4e]=!0;Kn[jAe]=Kn[OAe]=Kn[qAe]=Kn[IAe]=Kn[WAe]=Kn[DAe]=Kn[LAe]=Kn[MAe]=Kn[RAe]=Kn[FAe]=Kn[$Ae]=Kn[BAe]=Kn[UAe]=Kn[VAe]=Kn[zAe]=!1;function t4e(e){return PAe(e)&&CAe(e.length)&&!!Kn[kAe(e)]}var r4e=t4e;function n4e(e){return function(t){return e(t)}}var GW=n4e,Ub={exports:{}};Ub.exports;(function(e,t){var r=tW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Ub,Ub.exports);var a4e=Ub.exports,i4e=r4e,s4e=GW,K8=a4e,Y8=K8&&K8.isTypedArray,o4e=Y8?s4e(Y8):i4e,KW=o4e,l4e=fAe,c4e=BC,u4e=zs,f4e=HW,d4e=UC,h4e=KW,p4e=Object.prototype,m4e=p4e.hasOwnProperty;function g4e(e,t){var r=u4e(e),n=!r&&c4e(e),a=!r&&!n&&f4e(e),i=!r&&!n&&!a&&h4e(e),s=r||n||a||i,o=s?l4e(e.length,String):[],l=o.length;for(var c in e)(t||m4e.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||d4e(c,l)))&&o.push(c);return o}var v4e=g4e,y4e=Object.prototype;function x4e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||y4e;return e===r}var b4e=x4e;function w4e(e,t){return function(r){return e(t(r))}}var YW=w4e,_4e=YW,S4e=_4e(Object.keys,Object),A4e=S4e,T4e=b4e,E4e=A4e,N4e=Object.prototype,k4e=N4e.hasOwnProperty;function C4e(e){if(!T4e(e))return E4e(e);var t=[];for(var r in Object(e))k4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var P4e=C4e,j4e=SC,O4e=VC;function I4e(e){return e!=null&&O4e(e.length)&&!j4e(e)}var fy=I4e,D4e=v4e,L4e=P4e,M4e=fy;function R4e(e){return M4e(e)?D4e(e):L4e(e)}var G5=R4e,F4e=ZSe,$4e=cAe,B4e=G5;function U4e(e){return F4e(e,B4e,$4e)}var V4e=U4e,X8=V4e,z4e=1,q4e=Object.prototype,W4e=q4e.hasOwnProperty;function H4e(e,t,r,n,a,i){var s=r&z4e,o=X8(e),l=o.length,c=X8(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:W4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++d<l;){h=o[d];var y=e[h],w=t[h];if(n)var b=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(b===void 0?y===w||a(y,w,r,n,i):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var G4e=H4e,K4e=Ph,Y4e=dc,X4e=K4e(Y4e,"DataView"),Q4e=X4e,J4e=Ph,Z4e=dc,e3e=J4e(Z4e,"Promise"),t3e=e3e,r3e=Ph,n3e=dc,a3e=r3e(n3e,"Set"),XW=a3e,i3e=Ph,s3e=dc,o3e=i3e(s3e,"WeakMap"),l3e=o3e,eT=Q4e,tT=TC,rT=t3e,nT=XW,aT=l3e,QW=vu,ym=nW,Q8="[object Map]",c3e="[object Object]",J8="[object Promise]",Z8="[object Set]",eL="[object WeakMap]",tL="[object DataView]",u3e=ym(eT),f3e=ym(tT),d3e=ym(rT),h3e=ym(nT),p3e=ym(aT),Nd=QW;(eT&&Nd(new eT(new ArrayBuffer(1)))!=tL||tT&&Nd(new tT)!=Q8||rT&&Nd(rT.resolve())!=J8||nT&&Nd(new nT)!=Z8||aT&&Nd(new aT)!=eL)&&(Nd=function(e){var t=QW(e),r=t==c3e?e.constructor:void 0,n=r?ym(r):"";if(n)switch(n){case u3e:return tL;case f3e:return Q8;case d3e:return J8;case h3e:return Z8;case p3e:return eL}return t});var m3e=Nd,tA=$W,g3e=zW,v3e=KSe,y3e=G4e,rL=m3e,nL=zs,aL=HW,x3e=KW,b3e=1,iL="[object Arguments]",sL="[object Array]",Ex="[object Object]",w3e=Object.prototype,oL=w3e.hasOwnProperty;function _3e(e,t,r,n,a,i){var s=nL(e),o=nL(t),l=s?sL:rL(e),c=o?sL:rL(t);l=l==iL?Ex:l,c=c==iL?Ex:c;var u=l==Ex,d=c==Ex,h=l==c;if(h&&aL(e)){if(!aL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new tA),s||x3e(e)?g3e(e,t,r,n,a,i):v3e(e,t,l,r,n,a,i);if(!(r&b3e)){var p=u&&oL.call(e,"__wrapped__"),g=d&&oL.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new tA),a(m,v,r,n,i)}}return h?(i||(i=new tA),y3e(e,t,r,n,a,i)):!1}var S3e=_3e,A3e=S3e,lL=yu;function JW(e,t,r,n,a){return e===t?!0:e==null||t==null||!lL(e)&&!lL(t)?e!==e&&t!==t:A3e(e,t,r,n,JW,a)}var zC=JW,T3e=$W,E3e=zC,N3e=1,k3e=2;function C3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new T3e;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?E3e(u,c,N3e|k3e,n,d):h))return!1}}return!0}var P3e=C3e,j3e=ed;function O3e(e){return e===e&&!j3e(e)}var ZW=O3e,I3e=ZW,D3e=G5;function L3e(e){for(var t=D3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,I3e(a)]}return t}var M3e=L3e;function R3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var eH=R3e,F3e=P3e,$3e=M3e,B3e=eH;function U3e(e){var t=$3e(e);return t.length==1&&t[0][2]?B3e(t[0][0],t[0][1]):function(r){return r===e||F3e(r,e,t)}}var V3e=U3e;function z3e(e,t){return e!=null&&t in Object(e)}var q3e=z3e,W3e=lW,H3e=BC,G3e=zs,K3e=UC,Y3e=VC,X3e=O5;function Q3e(e,t,r){t=W3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=X3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Y3e(a)&&K3e(s,a)&&(G3e(e)||H3e(e)))}var J3e=Q3e,Z3e=q3e,eTe=J3e;function tTe(e,t){return e!=null&&eTe(e,t,Z3e)}var rTe=tTe,nTe=zC,aTe=cW,iTe=rTe,sTe=_C,oTe=ZW,lTe=eH,cTe=O5,uTe=1,fTe=2;function dTe(e,t){return sTe(e)&&oTe(t)?lTe(cTe(e),t):function(r){var n=aTe(r,e);return n===void 0&&n===t?iTe(r,e):nTe(t,n,uTe|fTe)}}var hTe=dTe;function pTe(e){return e}var xm=pTe;function mTe(e){return function(t){return t==null?void 0:t[e]}}var gTe=mTe,vTe=CC;function yTe(e){return function(t){return vTe(t,e)}}var xTe=yTe,bTe=gTe,wTe=xTe,_Te=_C,STe=O5;function ATe(e){return _Te(e)?bTe(STe(e)):wTe(e)}var TTe=ATe,ETe=V3e,NTe=hTe,kTe=xm,CTe=zs,PTe=TTe;function jTe(e){return typeof e=="function"?e:e==null?kTe:typeof e=="object"?CTe(e)?NTe(e[0],e[1]):ETe(e):PTe(e)}var td=jTe;function OTe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var tH=OTe;function ITe(e){return e!==e}var DTe=ITe;function LTe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var MTe=LTe,RTe=tH,FTe=DTe,$Te=MTe;function BTe(e,t,r){return t===t?$Te(e,t,r):RTe(e,FTe,r)}var UTe=BTe,VTe=UTe;function zTe(e,t){var r=e==null?0:e.length;return!!r&&VTe(e,t,0)>-1}var qTe=zTe;function WTe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var HTe=WTe;function GTe(){}var KTe=GTe,rA=XW,YTe=KTe,XTe=$C,QTe=1/0,JTe=rA&&1/XTe(new rA([,-0]))[1]==QTe?function(e){return new rA(e)}:YTe,ZTe=JTe,eEe=BW,tEe=qTe,rEe=HTe,nEe=VW,aEe=ZTe,iEe=$C,sEe=200;function oEe(e,t,r){var n=-1,a=tEe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=rEe;else if(i>=sEe){var c=t?null:aEe(e);if(c)return iEe(c);s=!1,a=nEe,l=new eEe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else a(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var lEe=oEe,cEe=td,uEe=lEe;function fEe(e,t){return e&&e.length?uEe(e,cEe(t)):[]}var dEe=fEe;const cL=kn(dEe);function rH(e,t,r){return t===!0?cL(e,r):Br(t)?cL(e,t):e}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}var hEe=["ref"];function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(n){K5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aH(n.key),n)}}function mEe(e,t,r){return t&&fL(e.prototype,t),r&&fL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gEe(e,t,r){return t=Vb(t),vEe(e,nH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function vEe(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(e)}function yEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function xEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iT(e,t)}function iT(e,t){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iT(e,t)}function K5(e,t,r){return t=aH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=bEe(e,"string");return Ep(t)=="symbol"?t:t+""}function bEe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wEe(e,t){if(e==null)return{};var r=_Ee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SEe(e){return e.value}function AEe(e,t){if(Ue.isValidElement(e))return Ue.cloneElement(e,t);if(typeof e=="function")return Ue.createElement(e,t);t.ref;var r=wEe(t,hEe);return Ue.createElement(FC,r)}var dL=1,Uo=function(e){function t(){var r;pEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gEe(this,t,[].concat(a)),K5(r,"lastBoundingBox",{width:-1,height:-1}),r}return xEe(t,e),mEe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dL||Math.abs(a.height-this.lastBoundingBox.height)>dL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Cc(Cc({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=Cc(Cc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ue.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},AEe(i,Cc(Cc({},this.props),{},{payload:rH(u,c,SEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Cc(Cc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ut(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);K5(Uo,"displayName","Legend");K5(Uo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hL=ly,TEe=BC,EEe=zs,pL=hL?hL.isConcatSpreadable:void 0;function NEe(e){return EEe(e)||TEe(e)||!!(pL&&e&&e[pL])}var kEe=NEe,CEe=qW,PEe=kEe;function iH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=PEe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?iH(o,t-1,r,n,a):CEe(a,o):n||(a[a.length]=o)}return a}var sH=iH;function jEe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var OEe=jEe,IEe=OEe,DEe=IEe(),LEe=DEe,MEe=LEe,REe=G5;function FEe(e,t){return e&&MEe(e,t,REe)}var oH=FEe,$Ee=fy;function BEe(e,t){return function(r,n){if(r==null)return r;if(!$Ee(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var UEe=BEe,VEe=oH,zEe=UEe,qEe=zEe(VEe),qC=qEe,WEe=qC,HEe=fy;function GEe(e,t){var r=-1,n=HEe(e)?Array(e.length):[];return WEe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var lH=GEe;function KEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var YEe=KEe,mL=dm;function XEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=mL(e),s=t!==void 0,o=t===null,l=t===t,c=mL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var QEe=XEe,JEe=QEe;function ZEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=JEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var eNe=ZEe,nA=kC,tNe=CC,rNe=td,nNe=lH,aNe=YEe,iNe=GW,sNe=eNe,oNe=xm,lNe=zs;function cNe(e,t,r){t.length?t=nA(t,function(i){return lNe(i)?function(s){return tNe(s,i.length===1?i[0]:i)}:i}):t=[oNe];var n=-1;t=nA(t,iNe(rNe));var a=nNe(e,function(i,s,o){var l=nA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return aNe(a,function(i,s){return sNe(i,s,r)})}var uNe=cNe;function fNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var dNe=fNe,hNe=dNe,gL=Math.max;function pNe(e,t,r){return t=gL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=gL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),hNe(e,this,o)}}var mNe=pNe;function gNe(e){return function(){return e}}var vNe=gNe,yNe=Ph,xNe=function(){try{var e=yNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cH=xNe,bNe=vNe,vL=cH,wNe=xm,_Ne=vL?function(e,t){return vL(e,"toString",{configurable:!0,enumerable:!1,value:bNe(t),writable:!0})}:wNe,SNe=_Ne,ANe=800,TNe=16,ENe=Date.now;function NNe(e){var t=0,r=0;return function(){var n=ENe(),a=TNe-(n-r);if(r=n,a>0){if(++t>=ANe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var kNe=NNe,CNe=SNe,PNe=kNe,jNe=PNe(CNe),ONe=jNe,INe=xm,DNe=mNe,LNe=ONe;function MNe(e,t){return LNe(DNe(e,t,INe),e+"")}var RNe=MNe,FNe=AC,$Ne=fy,BNe=UC,UNe=ed;function VNe(e,t,r){if(!UNe(r))return!1;var n=typeof t;return(n=="number"?$Ne(r)&&BNe(t,r.length):n=="string"&&t in r)?FNe(r[t],e):!1}var Y5=VNe,zNe=sH,qNe=uNe,WNe=RNe,yL=Y5,HNe=WNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&yL(e,t[0],t[1])?t=[]:r>2&&yL(t[0],t[1],t[2])&&(t=[t[0]]),qNe(e,zNe(t,1),[])}),GNe=HNe;const WC=kn(GNe);function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function KNe(e,t){return JNe(e)||QNe(e,t)||XNe(e,t)||YNe()}function YNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XNe(e,t){if(e){if(typeof e=="string")return xL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xL(e,t)}}function xL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function JNe(e){if(Array.isArray(e))return e}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){ZNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZNe(e,t,r){return t=eke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eke(e){var t=tke(e,"string");return r1(t)=="symbol"?t:t+""}function tke(e,t){if(r1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rke(e){return Array.isArray(e)&&Xa(e[0])&&Xa(e[1])?e.join(" ~ "):e}var nke=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(u&&u.length){var N={padding:0,margin:0},k=(h?WC(u,h):u).map(function(U,X){if(U.type==="none")return null;var z=aA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),G=U.formatter||d||rke,V=U.value,W=U.name,te=V,Z=W;if(G&&te!=null&&Z!=null){var I=G(V,W,U,X,u);if(Array.isArray(I)){var M=KNe(I,2);te=M[0],Z=M[1]}else te=I}return Ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:z},Xa(Z)?Ue.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Xa(Z)?Ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ue.createElement("span",{className:"recharts-tooltip-item-value"},te),Ue.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Ue.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},D=aA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=aA({margin:0},c),j=!zr(m),T=j?m:"",_=un("recharts-default-tooltip",p),S=un("recharts-tooltip-label",g);j&&v&&u!==void 0&&u!==null&&(T=v(m,u));var O=w?{role:"status","aria-live":"assertive"}:{};return Ue.createElement("div",sT({className:_,style:D},O),Ue.createElement("p",{className:S,style:P},Ue.isValidElement(T)?T:"".concat(T)),b())};function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function Nx(e,t,r){return t=ake(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ake(e){var t=ike(e,"string");return n1(t)=="symbol"?t:t+""}function ike(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jm="recharts-tooltip-wrapper",ske={visibility:"hidden"};function oke(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return un(Jm,Nx(Nx(Nx(Nx({},"".concat(Jm,"-right"),Ut(r)&&t&&Ut(t.x)&&r>=t.x),"".concat(Jm,"-left"),Ut(r)&&t&&Ut(t.x)&&r<t.x),"".concat(Jm,"-bottom"),Ut(n)&&t&&Ut(t.y)&&n>=t.y),"".concat(Jm,"-top"),Ut(n)&&t&&Ut(t.y)&&n<t.y))}function wL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ut(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?u:d;if(s[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function lke(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cke(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,d;return s.height>0&&s.width>0&&r?(u=wL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=wL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=lke({translateX:u,translateY:d,useTranslate3d:o})):c=ske,{cssProperties:c,cssClasses:oke({translateX:u,translateY:d,coordinate:r})}}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){lT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fH(n.key),n)}}function dke(e,t,r){return t&&fke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hke(e,t,r){return t=zb(t),pke(e,uH()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function pke(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mke(e)}function mke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uH=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oT(e,t)}function lT(e,t,r){return t=fH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fH(e){var t=vke(e,"string");return Np(t)=="symbol"?t:t+""}function vke(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AL=1,yke=function(e){function t(){var r;uke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hke(this,t,[].concat(a)),lT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return gke(t,e),dke(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AL||Math.abs(n.height-this.state.lastBoundingBox.height)>AL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=cke({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),D=b.cssClasses,P=b.cssProperties,j=SL(SL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ue.createElement("div",{tabIndex:-1,className:D,style:j,ref:function(_){n.wrapperNode=_}},c)}}])}(F.PureComponent),xke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wc={isSsr:xke(),get:function(t){return Wc[t]},set:function(t,r){if(typeof t=="string")Wc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Wc[a]=t[a]})}}};function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){HC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function _ke(e,t,r){return t&&wke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ske(e,t,r){return t=qb(t),Ake(e,dH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function Ake(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(e)}function Tke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function Eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cT(e,t)}function cT(e,t){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cT(e,t)}function HC(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=Nke(e,"string");return kp(t)=="symbol"?t:t+""}function Nke(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kke(e){return e.dataKey}function Cke(e,t){return Ue.isValidElement(e)?Ue.cloneElement(e,t):typeof e=="function"?Ue.createElement(e,t):Ue.createElement(nke,t)}var ps=function(e){function t(){return bke(this,t),Ske(this,t,arguments)}return Eke(t,e),_ke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,D=a.wrapperStyle,P=g??[];d&&P.length&&(P=rH(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,kke));var j=P.length>0;return Ue.createElement(yke,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:D},Cke(c,EL(EL({},this.props),{},{payload:P})))}}])}(F.PureComponent);HC(ps,"displayName","Tooltip");HC(ps,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pke=dc,jke=function(){return Pke.Date.now()},Oke=jke,Ike=/\s/;function Dke(e){for(var t=e.length;t--&&Ike.test(e.charAt(t)););return t}var Lke=Dke,Mke=Lke,Rke=/^\s+/;function Fke(e){return e&&e.slice(0,Mke(e)+1).replace(Rke,"")}var $ke=Fke,Bke=$ke,NL=ed,Uke=dm,kL=NaN,Vke=/^[-+]0x[0-9a-f]+$/i,zke=/^0b[01]+$/i,qke=/^0o[0-7]+$/i,Wke=parseInt;function Hke(e){if(typeof e=="number")return e;if(Uke(e))return kL;if(NL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=NL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bke(e);var r=zke.test(e);return r||qke.test(e)?Wke(e.slice(2),r?2:8):Vke.test(e)?kL:+e}var pH=Hke,Gke=ed,iA=Oke,CL=pH,Kke="Expected a function",Yke=Math.max,Xke=Math.min;function Qke(e,t,r){var n,a,i,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Kke);t=CL(t)||0,Gke(r)&&(u=!!r.leading,d="maxWait"in r,i=d?Yke(CL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var T=n,_=a;return n=a=void 0,c=j,s=e.apply(_,T),s}function g(j){return c=j,o=setTimeout(y,t),u?p(j):s}function m(j){var T=j-l,_=j-c,S=t-T;return d?Xke(S,i-_):S}function v(j){var T=j-l,_=j-c;return l===void 0||T>=t||T<0||d&&_>=i}function y(){var j=iA();if(v(j))return w(j);o=setTimeout(y,m(j))}function w(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:w(iA())}function P(){var j=iA(),T=v(j);if(n=arguments,a=this,l=j,T){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=b,P.flush=D,P}var Jke=Qke,Zke=Jke,eCe=ed,tCe="Expected a function";function rCe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(tCe);return eCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Zke(e,t,{leading:n,maxWait:t,trailing:a})}var nCe=rCe;const mH=kn(nCe);function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function PL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(r),!0).forEach(function(n){aCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aCe(e,t,r){return t=iCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iCe(e){var t=sCe(e,"string");return a1(t)=="symbol"?t:t+""}function sCe(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oCe(e,t){return fCe(e)||uCe(e,t)||cCe(e,t)||lCe()}function lCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cCe(e,t){if(e){if(typeof e=="string")return jL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(e,t)}}function jL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function fCe(e){if(Array.isArray(e))return e}var K0=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,D=b===void 0?{}:b,P=F.useRef(null),j=F.useRef();j.current=w,F.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=F.useState({containerWidth:a.width,containerHeight:a.height}),_=oCe(T,2),S=_[0],O=_[1],E=F.useCallback(function(k,U){O(function(X){var z=Math.round(k),G=Math.round(U);return X.containerWidth===z&&X.containerHeight===G?X:{containerWidth:z,containerHeight:G}})},[]);F.useEffect(function(){var k=function(W){var te,Z=W[0].contentRect,I=Z.width,M=Z.height;E(I,M),(te=j.current)===null||te===void 0||te.call(j,I,M)};m>0&&(k=mH(k,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(k),X=P.current.getBoundingClientRect(),z=X.width,G=X.height;return E(z,G),U.observe(P.current),function(){U.disconnect()}},[E,m]);var N=F.useMemo(function(){var k=S.containerWidth,U=S.containerHeight;if(k<0||U<0)return null;qc($d(s)||$d(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),qc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=$d(s)?k:s,z=$d(l)?U:l;r&&r>0&&(X?z=X/r:z&&(X=z*r),h&&z>h&&(z=h)),qc(X>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,z,s,l,u,d,r);var G=!Array.isArray(p)&&zc(p.type).endsWith("Chart");return Ue.Children.map(p,function(V){return Ue.isValidElement(V)?F.cloneElement(V,kx({width:X,height:z},G?{style:kx({height:"100%",width:"100%",maxHeight:z,maxWidth:X},V.props.style)}:{})):V})},[r,p,l,h,d,u,S,s]);return Ue.createElement("div",{id:v?"".concat(v):void 0,className:un("recharts-responsive-container",y),style:kx(kx({},D),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:P},N)}),gH=function(t){return null};gH.displayName="Cell";function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function OL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(r),!0).forEach(function(n){dCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dCe(e,t,r){return t=hCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hCe(e){var t=pCe(e,"string");return i1(t)=="symbol"?t:t+""}function pCe(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0={widthCache:{},cacheCount:0},mCe=2e3,gCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IL="recharts_measurement_span";function vCe(e){var t=uT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ev=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wc.isSsr)return{width:0,height:0};var n=vCe(r),a=JSON.stringify({text:t,copyStyle:n});if(r0.widthCache[a])return r0.widthCache[a];try{var i=document.getElementById(IL);i||(i=document.createElement("span"),i.setAttribute("id",IL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=uT(uT({},gCe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return r0.widthCache[a]=l,++r0.cacheCount>mCe&&(r0.cacheCount=0,r0.widthCache={}),l}catch{return{width:0,height:0}}},yCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function Wb(e,t){return _Ce(e)||wCe(e,t)||bCe(e,t)||xCe()}function xCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(e,t){if(e){if(typeof e=="string")return DL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DL(e,t)}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function _Ce(e){if(Array.isArray(e))return e}function SCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TCe(n.key),n)}}function ACe(e,t,r){return t&&LL(e.prototype,t),r&&LL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TCe(e){var t=ECe(e,"string");return s1(t)=="symbol"?t:t+""}function ECe(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ML=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CCe=Object.keys(vH),O0="NaN";function PCe(e,t){return e*vH[t]}var Cx=function(){function e(t,r){SCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!NCe.test(r)&&(this.num=NaN,this.unit=""),CCe.includes(r)&&(this.num=PCe(t,r),this.unit="px")}return ACe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=kCe.exec(r))!==null&&n!==void 0?n:[],i=Wb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function yH(e){if(e.includes(O0))return O0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ML.exec(t))!==null&&r!==void 0?r:[],a=Wb(n,4),i=a[1],s=a[2],o=a[3],l=Cx.parse(i??""),c=Cx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return O0;t=t.replace(ML,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=RL.exec(t))!==null&&d!==void 0?d:[],p=Wb(h,4),g=p[1],m=p[2],v=p[3],y=Cx.parse(g??""),w=Cx.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return O0;t=t.replace(RL,b.toString())}return t}var FL=/\(([^()]*)\)/;function jCe(e){for(var t=e;t.includes("(");){var r=FL.exec(t),n=Wb(r,2),a=n[1];t=t.replace(FL,yH(a))}return t}function OCe(e){var t=e.replace(/\s+/g,"");return t=jCe(t),t=yH(t),t}function ICe(e){try{return OCe(e)}catch{return O0}}function sA(e){var t=ICe(e.slice(5,-1));return t===O0?"":t}var DCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LCe=["dx","dy","angle","className","breakAll"];function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fT.apply(this,arguments)}function $L(e,t){if(e==null)return{};var r=MCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BL(e,t){return BCe(e)||$Ce(e,t)||FCe(e,t)||RCe()}function RCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(e,t){if(e){if(typeof e=="string")return UL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UL(e,t)}}function UL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Ce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BCe(e){if(Array.isArray(e))return e}var xH=/[ \f\n\r\t\v\u2028\u2029]+/,bH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];zr(r)||(n?i=r.toString().split(""):i=r.toString().split(xH));var s=i.map(function(l){return{word:l,width:ev(l,a).width}}),o=n?0:ev(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},UCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ut(s),d=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(z,G){var V=G.word,W=G.width,te=z[z.length-1];if(te&&(a==null||i||te.width+W+n<Number(a)))te.words.push(V),te.width+=W+n;else{var Z={words:[V],width:W};z.push(Z)}return z},[])},p=h(r),g=function(X){return X.reduce(function(z,G){return z.width>G.width?z:G})};if(!u)return p;for(var m="…",v=function(X){var z=d.slice(0,X),G=bH({breakAll:c,style:l,children:z+m}).wordsWithComputedWidth,V=h(G),W=V.length>s||g(V).width>Number(a);return[W,V]},y=0,w=d.length-1,b=0,D;y<=w&&b<=d.length-1;){var P=Math.floor((y+w)/2),j=P-1,T=v(j),_=BL(T,2),S=_[0],O=_[1],E=v(P),N=BL(E,1),k=N[0];if(!S&&!k&&(y=P+1),S&&k&&(w=P-1),!S&&k){D=O;break}b++}return D||p},VL=function(t){var r=zr(t)?[]:t.toString().split(xH);return[{words:r}]},VCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Wc.isSsr){var l,c,u=bH({breakAll:s,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return VL(a);return UCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return VL(a)},zL="#808080",Hb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?zL:v,w=$L(t,DCe),b=F.useMemo(function(){return VCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),D=w.dx,P=w.dy,j=w.angle,T=w.className,_=w.breakAll,S=$L(w,LCe);if(!Xa(n)||!Xa(i))return null;var O=n+(Ut(D)?D:0),E=i+(Ut(P)?P:0),N;switch(m){case"start":N=sA("calc(".concat(c,")"));break;case"middle":N=sA("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=sA("calc(".concat(b.length-1," * -").concat(o,")"));break}var k=[];if(d){var U=b[0].width,X=w.width;k.push("scale(".concat((Ut(X)?X/U:1)/U,")"))}return j&&k.push("rotate(".concat(j,", ").concat(O,", ").concat(E,")")),k.length&&(S.transform=k.join(" ")),Ue.createElement("text",fT({},Zr(S,!0),{x:O,y:E,className:un("recharts-text",T),textAnchor:p,fill:y.includes("url")?zL:y}),b.map(function(z,G){var V=z.words.join(_?"":" ");return Ue.createElement("tspan",{x:O,dy:G===0?N:o,key:"".concat(V,"-").concat(G)},V)}))};function Of(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GC(e){let t,r,n;e.length!==2?(t=Of,r=(o,l)=>Of(e(o),l),n=(o,l)=>e(o)-l):(t=e===Of||e===zCe?e:qCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=a(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function qCe(){return 0}function wH(e){return e===null?NaN:+e}function*WCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const HCe=GC(Of),dy=HCe.right;GC(wH).center;class qL extends Map{constructor(t,r=YCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(WL(this,t))}has(t){return super.has(WL(this,t))}set(t,r){return super.set(GCe(this,t),r)}delete(t){return super.delete(KCe(this,t))}}function WL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function GCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function KCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XCe(e=Of){if(e===Of)return _H;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _H(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QCe=Math.sqrt(50),JCe=Math.sqrt(10),ZCe=Math.sqrt(2);function Gb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=QCe?10:i>=JCe?5:i>=ZCe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Gb(e,t,r*2):[o,l,c]}function dT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Gb(t,e,r):Gb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function hT(e,t,r){return t=+t,e=+e,r=+r,Gb(e,t,r)[2]}function pT(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?hT(t,e,r):hT(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function HL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function GL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_H:XCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));SH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Zm(e,r,t),a(e[n],i)>0&&Zm(e,r,n);s<o;){for(Zm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Zm(e,r,o):(++o,Zm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Zm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ePe(e,t,r){if(e=Float64Array.from(WCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return GL(e);if(t>=1)return HL(e);var n,a=(n-1)*t,i=Math.floor(a),s=HL(SH(e,i).subarray(0,i+1)),o=GL(e.subarray(i+1));return s+(o-s)*(a-i)}}function tPe(e,t,r=wH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function rPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Yo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mT=Symbol("implicit");function KC(){var e=new qL,t=[],r=[],n=mT;function a(i){let s=e.get(i);if(s===void 0){if(n!==mT)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new qL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return KC(t,r).unknown(n)},Yo.apply(a,arguments),a}function o1(){var e=KC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=rPe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return o1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Yo.apply(d(),arguments)}function AH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AH(t())},e}function tv(){return AH(o1.apply(null,arguments).paddingInner(1))}function YC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function TH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hy(){}var l1=.7,Kb=1/l1,Y0="\\s*([+-]?\\d+)\\s*",c1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nPe=/^#([0-9a-f]{3,8})$/,aPe=new RegExp(`^rgb\\(${Y0},${Y0},${Y0}\\)$`),iPe=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),sPe=new RegExp(`^rgba\\(${Y0},${Y0},${Y0},${c1}\\)$`),oPe=new RegExp(`^rgba\\(${nc},${nc},${nc},${c1}\\)$`),lPe=new RegExp(`^hsl\\(${c1},${nc},${nc}\\)$`),cPe=new RegExp(`^hsla\\(${c1},${nc},${nc},${c1}\\)$`),KL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YC(hy,u1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YL,formatHex:YL,formatHex8:uPe,formatHsl:fPe,formatRgb:XL,toString:XL});function YL(){return this.rgb().formatHex()}function uPe(){return this.rgb().formatHex8()}function fPe(){return EH(this).formatHsl()}function XL(){return this.rgb().formatRgb()}function u1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QL(t):r===3?new $s(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Px(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Px(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aPe.exec(e))?new $s(t[1],t[2],t[3],1):(t=iPe.exec(e))?new $s(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sPe.exec(e))?Px(t[1],t[2],t[3],t[4]):(t=oPe.exec(e))?Px(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lPe.exec(e))?eM(t[1],t[2]/100,t[3]/100,1):(t=cPe.exec(e))?eM(t[1],t[2]/100,t[3]/100,t[4]):KL.hasOwnProperty(e)?QL(KL[e]):e==="transparent"?new $s(NaN,NaN,NaN,0):null}function QL(e){return new $s(e>>16&255,e>>8&255,e&255,1)}function Px(e,t,r,n){return n<=0&&(e=t=r=NaN),new $s(e,t,r,n)}function dPe(e){return e instanceof hy||(e=u1(e)),e?(e=e.rgb(),new $s(e.r,e.g,e.b,e.opacity)):new $s}function gT(e,t,r,n){return arguments.length===1?dPe(e):new $s(e,t,r,n??1)}function $s(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}YC($s,gT,TH(hy,{brighter(e){return e=e==null?Kb:Math.pow(Kb,e),new $s(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?l1:Math.pow(l1,e),new $s(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $s(Xd(this.r),Xd(this.g),Xd(this.b),Yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JL,formatHex:JL,formatHex8:hPe,formatRgb:ZL,toString:ZL}));function JL(){return`#${Bd(this.r)}${Bd(this.g)}${Bd(this.b)}`}function hPe(){return`#${Bd(this.r)}${Bd(this.g)}${Bd(this.b)}${Bd((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZL(){const e=Yb(this.opacity);return`${e===1?"rgb(":"rgba("}${Xd(this.r)}, ${Xd(this.g)}, ${Xd(this.b)}${e===1?")":`, ${e})`}`}function Yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bd(e){return e=Xd(e),(e<16?"0":"")+e.toString(16)}function eM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yl(e,t,r,n)}function EH(e){if(e instanceof yl)return new yl(e.h,e.s,e.l,e.opacity);if(e instanceof hy||(e=u1(e)),!e)return new yl;if(e instanceof yl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new yl(s,o,l,e.opacity)}function pPe(e,t,r,n){return arguments.length===1?EH(e):new yl(e,t,r,n??1)}function yl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}YC(yl,pPe,TH(hy,{brighter(e){return e=e==null?Kb:Math.pow(Kb,e),new yl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?l1:Math.pow(l1,e),new yl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new $s(oA(e>=240?e-240:e+120,a,n),oA(e,a,n),oA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new yl(tM(this.h),jx(this.s),jx(this.l),Yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yb(this.opacity);return`${e===1?"hsl(":"hsla("}${tM(this.h)}, ${jx(this.s)*100}%, ${jx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tM(e){return e=(e||0)%360,e<0?e+360:e}function jx(e){return Math.max(0,Math.min(1,e||0))}function oA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const XC=e=>()=>e;function mPe(e,t){return function(r){return e+r*t}}function gPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vPe(e){return(e=+e)==1?NH:function(t,r){return r-t?gPe(t,r,e):XC(isNaN(t)?r:t)}}function NH(e,t){var r=t-e;return r?mPe(e,r):XC(isNaN(e)?t:e)}const rM=function e(t){var r=vPe(t);function n(a,i){var s=r((a=gT(a)).r,(i=gT(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=NH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function yPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function xPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=bm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function wPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _Pe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var vT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lA=new RegExp(vT.source,"g");function SPe(e){return function(){return e}}function APe(e){return function(t){return e(t)+""}}function TPe(e,t){var r=vT.lastIndex=lA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=vT.exec(e))&&(a=lA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Xb(n,a)})),r=lA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?APe(l[0].x):SPe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function bm(e,t){var r=typeof t,n;return t==null||r==="boolean"?XC(t):(r==="number"?Xb:r==="string"?(n=u1(t))?(t=n,rM):TPe:t instanceof u1?rM:t instanceof Date?wPe:xPe(t)?yPe:Array.isArray(t)?bPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Pe:Xb)(e,t)}function QC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EPe(e,t){t===void 0&&(t=e,e=bm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function NPe(e){return function(){return e}}function Qb(e){return+e}var nM=[0,1];function bs(e){return e}function yT(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NPe(isNaN(t)?NaN:.5)}function kPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function CPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=yT(a,n),i=r(s,i)):(n=yT(n,a),i=r(i,s)),function(o){return i(n(o))}}function PPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=yT(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=dy(e,o,1,n)-1;return i[l](a[l](o))}}function py(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X5(){var e=nM,t=nM,r=bm,n,a,i,s=bs,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==bs&&(s=kPe(e[0],e[h-1])),o=h>2?PPe:CPe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),Xb)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Qb),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=QC,u()},d.clamp=function(h){return arguments.length?(s=h?!0:bs,u()):s!==bs},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function JC(){return X5()(bs,bs)}function jPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cp(e){return e=Jb(Math.abs(e)),e?e[1]:NaN}function OPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function IPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f1(e){if(!(t=DPe.exec(e)))throw new Error("invalid format: "+e);var t;return new ZC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}f1.prototype=ZC.prototype;function ZC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ZC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var kH;function MPe(e,t){var r=Jb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(kH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jb(e,Math.max(0,t+i-1))[0]}function aM(e,t){var r=Jb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const iM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aM(e*100,t),r:aM,s:MPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sM(e){return e}var oM=Array.prototype.map,lM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function RPe(e){var t=e.grouping===void 0||e.thousands===void 0?sM:OPe(oM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?sM:IPe(oM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=f1(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,y=d.width,w=d.comma,b=d.precision,D=d.trim,P=d.type;P==="n"?(w=!0,P="g"):iM[P]||(b===void 0&&(b=12),D=!0,P="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",_=iM[P],S=/[defgprs%]/.test(P);b=b===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(E){var N=j,k=T,U,X,z;if(P==="c")k=_(E)+k,E="";else{E=+E;var G=E<0||1/E<0;if(E=isNaN(E)?l:_(Math.abs(E),b),D&&(E=LPe(E)),G&&+E==0&&g!=="+"&&(G=!1),N=(G?g==="("?g:o:g==="-"||g==="("?"":g)+N,k=(P==="s"?lM[8+kH/3]:"")+k+(G&&g==="("?")":""),S){for(U=-1,X=E.length;++U<X;)if(z=E.charCodeAt(U),48>z||z>57){k=(z===46?a+E.slice(U+1):E.slice(U))+k,E=E.slice(0,U);break}}}w&&!v&&(E=t(E,1/0));var V=N.length+E.length+k.length,W=V<y?new Array(y-V+1).join(h):"";switch(w&&v&&(E=t(W+E,W.length?y-k.length:1/0),W=""),p){case"<":E=N+E+k+W;break;case"=":E=N+W+E+k;break;case"^":E=W.slice(0,V=W.length>>1)+N+E+k+W.slice(V);break;default:E=W+N+E+k;break}return i(E)}return O.toString=function(){return d+""},O}function u(d,h){var p=c((d=f1(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Cp(h)/3)))*3,m=Math.pow(10,-g),v=lM[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var Ox,eP,CH;FPe({thousands:",",grouping:[3],currency:["$",""]});function FPe(e){return Ox=RPe(e),eP=Ox.format,CH=Ox.formatPrefix,Ox}function $Pe(e){return Math.max(0,-Cp(Math.abs(e)))}function BPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cp(t)/3)))*3-Cp(Math.abs(e)))}function UPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cp(t)-Cp(e))+1}function PH(e,t,r,n){var a=pT(e,t,r),i;switch(n=f1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=BPe(a,s))&&(n.precision=i),CH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=UPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$Pe(a))&&(n.precision=i-(n.type==="%")*2);break}}return eP(n)}function rd(e){var t=e.domain;return e.ticks=function(r){var n=t();return dT(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return PH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=hT(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Zb(){var e=JC();return e.copy=function(){return py(e,Zb())},Yo.apply(e,arguments),rd(e)}function jH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jH(e).unknown(t)},e=arguments.length?Array.from(e,Qb):[0,1],rd(r)}function OH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function cM(e){return Math.log(e)}function uM(e){return Math.exp(e)}function VPe(e){return-Math.log(-e)}function zPe(e){return-Math.exp(-e)}function qPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function WPe(e){return e===10?qPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fM(e){return(t,r)=>-e(-t,r)}function tP(e){const t=e(cM,uM),r=t.domain;let n=10,a,i;function s(){return a=HPe(n),i=WPe(n),r()[0]<0?(a=fM(a),i=fM(i),e(VPe,zPe)):e(cM,uM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=dT(c,u,v))}else y=dT(h,p,Math.min(p-h,v)).map(i);return d?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=f1(l)).precision==null&&(l.trim=!0),l=eP(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(OH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function IH(){const e=tP(X5()).domain([1,10]);return e.copy=()=>py(e,IH()).base(e.base()),Yo.apply(e,arguments),e}function dM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rP(e){var t=1,r=e(dM(t),hM(t));return r.constant=function(n){return arguments.length?e(dM(t=+n),hM(t)):t},rd(r)}function DH(){var e=rP(X5());return e.copy=function(){return py(e,DH()).constant(e.constant())},Yo.apply(e,arguments)}function pM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KPe(e){return e<0?-e*e:e*e}function nP(e){var t=e(bs,bs),r=1;function n(){return r===1?e(bs,bs):r===.5?e(GPe,KPe):e(pM(r),pM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},rd(t)}function aP(){var e=nP(X5());return e.copy=function(){return py(e,aP()).exponent(e.exponent())},Yo.apply(e,arguments),e}function YPe(){return aP.apply(null,arguments).exponent(.5)}function mM(e){return Math.sign(e)*e*e}function XPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LH(){var e=JC(),t=[0,1],r=!1,n;function a(i){var s=XPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(mM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qb)).map(mM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return LH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yo.apply(a,arguments),rd(a)}function MH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=tPe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[dy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Of),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return MH().domain(e).range(t).unknown(n)},Yo.apply(i,arguments)}function RH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[dy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return RH().domain([e,t]).range(a).unknown(i)},Yo.apply(rd(s),arguments)}function FH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[dy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return FH().domain(e).range(t).unknown(r)},Yo.apply(a,arguments)}const cA=new Date,uA=new Date;function Za(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Za(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(cA.setTime(+i),uA.setTime(+s),e(cA),e(uA),Math.floor(r(cA,uA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ew=Za(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ew.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Za(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ew);ew.range;const Mc=1e3,Mo=Mc*60,Rc=Mo*60,ou=Rc*24,iP=ou*7,gM=ou*30,fA=ou*365,Ud=Za(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mc)},(e,t)=>(t-e)/Mc,e=>e.getUTCSeconds());Ud.range;const sP=Za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mc)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getMinutes());sP.range;const oP=Za(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCMinutes());oP.range;const lP=Za(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mc-e.getMinutes()*Mo)},(e,t)=>{e.setTime(+e+t*Rc)},(e,t)=>(t-e)/Rc,e=>e.getHours());lP.range;const cP=Za(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rc)},(e,t)=>(t-e)/Rc,e=>e.getUTCHours());cP.range;const my=Za(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mo)/ou,e=>e.getDate()-1);my.range;const Q5=Za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>e.getUTCDate()-1);Q5.range;const $H=Za(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ou,e=>Math.floor(e/ou));$H.range;function jh(e){return Za(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mo)/iP)}const J5=jh(0),tw=jh(1),QPe=jh(2),JPe=jh(3),Pp=jh(4),ZPe=jh(5),e6e=jh(6);J5.range;tw.range;QPe.range;JPe.range;Pp.range;ZPe.range;e6e.range;function Oh(e){return Za(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/iP)}const Z5=Oh(0),rw=Oh(1),t6e=Oh(2),r6e=Oh(3),jp=Oh(4),n6e=Oh(5),a6e=Oh(6);Z5.range;rw.range;t6e.range;r6e.range;jp.range;n6e.range;a6e.range;const uP=Za(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uP.range;const fP=Za(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fP.range;const lu=Za(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Za(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lu.range;const cu=Za(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Za(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cu.range;function BH(e,t,r,n,a,i){const s=[[Ud,1,Mc],[Ud,5,5*Mc],[Ud,15,15*Mc],[Ud,30,30*Mc],[i,1,Mo],[i,5,5*Mo],[i,15,15*Mo],[i,30,30*Mo],[a,1,Rc],[a,3,3*Rc],[a,6,6*Rc],[a,12,12*Rc],[n,1,ou],[n,2,2*ou],[r,1,iP],[t,1,gM],[t,3,3*gM],[e,1,fA]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=GC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(pT(c/fA,u/fA,d));if(p===0)return ew.every(Math.max(pT(c,u,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[i6e,s6e]=BH(cu,fP,Z5,$H,cP,oP),[o6e,l6e]=BH(lu,uP,J5,my,lP,sP);function dA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function c6e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=tg(a),u=rg(a),d=tg(i),h=rg(i),p=tg(s),g=rg(s),m=tg(o),v=rg(o),y=tg(l),w=rg(l),b={a:G,A:V,b:W,B:te,c:null,d:_M,e:_M,f:O6e,g:V6e,G:q6e,H:C6e,I:P6e,j:j6e,L:UH,m:I6e,M:D6e,p:Z,q:I,Q:TM,s:EM,S:L6e,u:M6e,U:R6e,V:F6e,w:$6e,W:B6e,x:null,X:null,y:U6e,Y:z6e,Z:W6e,"%":AM},D={a:M,A:q,b:Y,B:J,c:null,d:SM,e:SM,f:Y6e,g:ije,G:oje,H:H6e,I:G6e,j:K6e,L:zH,m:X6e,M:Q6e,p:ie,q:fe,Q:TM,s:EM,S:J6e,u:Z6e,U:eje,V:tje,w:rje,W:nje,x:null,X:null,y:aje,Y:sje,Z:lje,"%":AM},P={a:O,A:E,b:N,B:k,c:U,d:bM,e:bM,f:T6e,g:xM,G:yM,H:wM,I:wM,j:w6e,L:A6e,m:b6e,M:_6e,p:S,q:x6e,Q:N6e,s:k6e,S:S6e,u:p6e,U:m6e,V:g6e,w:h6e,W:v6e,x:X,X:z,y:xM,Y:yM,Z:y6e,"%":E6e};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),D.x=j(r,D),D.X=j(n,D),D.c=j(t,D);function j(ae,ge){return function(ye){var H=[],ke=-1,Ce=0,Se=ae.length,le,Me,We;for(ye instanceof Date||(ye=new Date(+ye));++ke<Se;)ae.charCodeAt(ke)===37&&(H.push(ae.slice(Ce,ke)),(Me=vM[le=ae.charAt(++ke)])!=null?le=ae.charAt(++ke):Me=le==="e"?" ":"0",(We=ge[le])&&(le=We(ye,Me)),H.push(le),Ce=ke+1);return H.push(ae.slice(Ce,ke)),H.join("")}}function T(ae,ge){return function(ye){var H=eg(1900,void 0,1),ke=_(H,ae,ye+="",0),Ce,Se;if(ke!=ye.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ge&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ce=hA(eg(H.y,0,1)),Se=Ce.getUTCDay(),Ce=Se>4||Se===0?rw.ceil(Ce):rw(Ce),Ce=Q5.offset(Ce,(H.V-1)*7),H.y=Ce.getUTCFullYear(),H.m=Ce.getUTCMonth(),H.d=Ce.getUTCDate()+(H.w+6)%7):(Ce=dA(eg(H.y,0,1)),Se=Ce.getDay(),Ce=Se>4||Se===0?tw.ceil(Ce):tw(Ce),Ce=my.offset(Ce,(H.V-1)*7),H.y=Ce.getFullYear(),H.m=Ce.getMonth(),H.d=Ce.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Se="Z"in H?hA(eg(H.y,0,1)).getUTCDay():dA(eg(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Se+5)%7:H.w+H.U*7-(Se+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,hA(H)):dA(H)}}function _(ae,ge,ye,H){for(var ke=0,Ce=ge.length,Se=ye.length,le,Me;ke<Ce;){if(H>=Se)return-1;if(le=ge.charCodeAt(ke++),le===37){if(le=ge.charAt(ke++),Me=P[le in vM?ge.charAt(ke++):le],!Me||(H=Me(ae,ye,H))<0)return-1}else if(le!=ye.charCodeAt(H++))return-1}return H}function S(ae,ge,ye){var H=c.exec(ge.slice(ye));return H?(ae.p=u.get(H[0].toLowerCase()),ye+H[0].length):-1}function O(ae,ge,ye){var H=p.exec(ge.slice(ye));return H?(ae.w=g.get(H[0].toLowerCase()),ye+H[0].length):-1}function E(ae,ge,ye){var H=d.exec(ge.slice(ye));return H?(ae.w=h.get(H[0].toLowerCase()),ye+H[0].length):-1}function N(ae,ge,ye){var H=y.exec(ge.slice(ye));return H?(ae.m=w.get(H[0].toLowerCase()),ye+H[0].length):-1}function k(ae,ge,ye){var H=m.exec(ge.slice(ye));return H?(ae.m=v.get(H[0].toLowerCase()),ye+H[0].length):-1}function U(ae,ge,ye){return _(ae,t,ge,ye)}function X(ae,ge,ye){return _(ae,r,ge,ye)}function z(ae,ge,ye){return _(ae,n,ge,ye)}function G(ae){return s[ae.getDay()]}function V(ae){return i[ae.getDay()]}function W(ae){return l[ae.getMonth()]}function te(ae){return o[ae.getMonth()]}function Z(ae){return a[+(ae.getHours()>=12)]}function I(ae){return 1+~~(ae.getMonth()/3)}function M(ae){return s[ae.getUTCDay()]}function q(ae){return i[ae.getUTCDay()]}function Y(ae){return l[ae.getUTCMonth()]}function J(ae){return o[ae.getUTCMonth()]}function ie(ae){return a[+(ae.getUTCHours()>=12)]}function fe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ge=j(ae+="",b);return ge.toString=function(){return ae},ge},parse:function(ae){var ge=T(ae+="",!1);return ge.toString=function(){return ae},ge},utcFormat:function(ae){var ge=j(ae+="",D);return ge.toString=function(){return ae},ge},utcParse:function(ae){var ge=T(ae+="",!0);return ge.toString=function(){return ae},ge}}}var vM={"-":"",_:" ",0:"0"},hi=/^\s*\d+/,u6e=/^%/,f6e=/[\\^$*+?|[\]().{}]/g;function dn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function d6e(e){return e.replace(f6e,"\\$&")}function tg(e){return new RegExp("^(?:"+e.map(d6e).join("|")+")","i")}function rg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function h6e(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function p6e(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function m6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function g6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function v6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function yM(e,t,r){var n=hi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xM(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function y6e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function x6e(e,t,r){var n=hi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function b6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bM(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function w6e(e,t,r){var n=hi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wM(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function S6e(e,t,r){var n=hi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function A6e(e,t,r){var n=hi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function T6e(e,t,r){var n=hi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E6e(e,t,r){var n=u6e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function N6e(e,t,r){var n=hi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function k6e(e,t,r){var n=hi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _M(e,t){return dn(e.getDate(),t,2)}function C6e(e,t){return dn(e.getHours(),t,2)}function P6e(e,t){return dn(e.getHours()%12||12,t,2)}function j6e(e,t){return dn(1+my.count(lu(e),e),t,3)}function UH(e,t){return dn(e.getMilliseconds(),t,3)}function O6e(e,t){return UH(e,t)+"000"}function I6e(e,t){return dn(e.getMonth()+1,t,2)}function D6e(e,t){return dn(e.getMinutes(),t,2)}function L6e(e,t){return dn(e.getSeconds(),t,2)}function M6e(e){var t=e.getDay();return t===0?7:t}function R6e(e,t){return dn(J5.count(lu(e)-1,e),t,2)}function VH(e){var t=e.getDay();return t>=4||t===0?Pp(e):Pp.ceil(e)}function F6e(e,t){return e=VH(e),dn(Pp.count(lu(e),e)+(lu(e).getDay()===4),t,2)}function $6e(e){return e.getDay()}function B6e(e,t){return dn(tw.count(lu(e)-1,e),t,2)}function U6e(e,t){return dn(e.getFullYear()%100,t,2)}function V6e(e,t){return e=VH(e),dn(e.getFullYear()%100,t,2)}function z6e(e,t){return dn(e.getFullYear()%1e4,t,4)}function q6e(e,t){var r=e.getDay();return e=r>=4||r===0?Pp(e):Pp.ceil(e),dn(e.getFullYear()%1e4,t,4)}function W6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function SM(e,t){return dn(e.getUTCDate(),t,2)}function H6e(e,t){return dn(e.getUTCHours(),t,2)}function G6e(e,t){return dn(e.getUTCHours()%12||12,t,2)}function K6e(e,t){return dn(1+Q5.count(cu(e),e),t,3)}function zH(e,t){return dn(e.getUTCMilliseconds(),t,3)}function Y6e(e,t){return zH(e,t)+"000"}function X6e(e,t){return dn(e.getUTCMonth()+1,t,2)}function Q6e(e,t){return dn(e.getUTCMinutes(),t,2)}function J6e(e,t){return dn(e.getUTCSeconds(),t,2)}function Z6e(e){var t=e.getUTCDay();return t===0?7:t}function eje(e,t){return dn(Z5.count(cu(e)-1,e),t,2)}function qH(e){var t=e.getUTCDay();return t>=4||t===0?jp(e):jp.ceil(e)}function tje(e,t){return e=qH(e),dn(jp.count(cu(e),e)+(cu(e).getUTCDay()===4),t,2)}function rje(e){return e.getUTCDay()}function nje(e,t){return dn(rw.count(cu(e)-1,e),t,2)}function aje(e,t){return dn(e.getUTCFullYear()%100,t,2)}function ije(e,t){return e=qH(e),dn(e.getUTCFullYear()%100,t,2)}function sje(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function oje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jp(e):jp.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function lje(){return"+0000"}function AM(){return"%"}function TM(e){return+e}function EM(e){return Math.floor(+e/1e3)}var n0,WH,HH;cje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cje(e){return n0=c6e(e),WH=n0.format,n0.parse,HH=n0.utcFormat,n0.utcParse,n0}function uje(e){return new Date(e)}function fje(e){return e instanceof Date?+e:+new Date(+e)}function dP(e,t,r,n,a,i,s,o,l,c){var u=JC(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),b=c("%B"),D=c("%Y");function P(j){return(l(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?v:n(j)<j?a(j)<j?y:w:r(j)<j?b:D)(j)}return u.invert=function(j){return new Date(d(j))},u.domain=function(j){return arguments.length?h(Array.from(j,fje)):h().map(uje)},u.ticks=function(j){var T=h();return e(T[0],T[T.length-1],j??10)},u.tickFormat=function(j,T){return T==null?P:c(T)},u.nice=function(j){var T=h();return(!j||typeof j.range!="function")&&(j=t(T[0],T[T.length-1],j??10)),j?h(OH(T,j)):u},u.copy=function(){return py(u,dP(e,t,r,n,a,i,s,o,l,c))},u}function dje(){return Yo.apply(dP(o6e,l6e,lu,uP,J5,my,lP,sP,Ud,WH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hje(){return Yo.apply(dP(i6e,s6e,cu,fP,Z5,Q5,cP,oP,Ud,HH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e_(){var e=0,t=1,r,n,a,i,s=bs,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(bm),c.rangeRound=u(QC),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function nd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GH(){var e=rd(e_()(bs));return e.copy=function(){return nd(e,GH())},xu.apply(e,arguments)}function KH(){var e=tP(e_()).domain([1,10]);return e.copy=function(){return nd(e,KH()).base(e.base())},xu.apply(e,arguments)}function YH(){var e=rP(e_());return e.copy=function(){return nd(e,YH()).constant(e.constant())},xu.apply(e,arguments)}function hP(){var e=nP(e_());return e.copy=function(){return nd(e,hP()).exponent(e.exponent())},xu.apply(e,arguments)}function pje(){return hP.apply(null,arguments).exponent(.5)}function XH(){var e=[],t=bs;function r(n){if(n!=null&&!isNaN(n=+n))return t((dy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Of),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ePe(e,i/n))},r.copy=function(){return XH(t).domain(e)},xu.apply(r,arguments)}function t_(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=bs,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,c=EPe(m,[y,w,b]),p):[c(0),c(.5),c(1)]}}return p.range=g(bm),p.rangeRound=g(QC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function QH(){var e=rd(t_()(bs));return e.copy=function(){return nd(e,QH())},xu.apply(e,arguments)}function JH(){var e=tP(t_()).domain([.1,1,10]);return e.copy=function(){return nd(e,JH()).base(e.base())},xu.apply(e,arguments)}function ZH(){var e=rP(t_());return e.copy=function(){return nd(e,ZH()).constant(e.constant())},xu.apply(e,arguments)}function pP(){var e=nP(t_());return e.copy=function(){return nd(e,pP()).exponent(e.exponent())},xu.apply(e,arguments)}function mje(){return pP.apply(null,arguments).exponent(.5)}const NM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o1,scaleDiverging:QH,scaleDivergingLog:JH,scaleDivergingPow:pP,scaleDivergingSqrt:mje,scaleDivergingSymlog:ZH,scaleIdentity:jH,scaleImplicit:mT,scaleLinear:Zb,scaleLog:IH,scaleOrdinal:KC,scalePoint:tv,scalePow:aP,scaleQuantile:MH,scaleQuantize:RH,scaleRadial:LH,scaleSequential:GH,scaleSequentialLog:KH,scaleSequentialPow:hP,scaleSequentialQuantile:XH,scaleSequentialSqrt:pje,scaleSequentialSymlog:YH,scaleSqrt:YPe,scaleSymlog:DH,scaleThreshold:FH,scaleTime:dje,scaleUtc:hje,tickFormat:PH},Symbol.toStringTag,{value:"Module"}));var gje=dm;function vje(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!gje(s):r(s,o)))var o=s,l=i}return l}var eG=vje;function yje(e,t){return e>t}var xje=yje,bje=eG,wje=xje,_je=xm;function Sje(e){return e&&e.length?bje(e,_je,wje):void 0}var Aje=Sje;const r_=kn(Aje);function Tje(e,t){return e<t}var Eje=Tje,Nje=eG,kje=Eje,Cje=xm;function Pje(e){return e&&e.length?Nje(e,Cje,kje):void 0}var jje=Pje;const n_=kn(jje);var Oje=kC,Ije=td,Dje=lH,Lje=zs;function Mje(e,t){var r=Lje(e)?Oje:Dje;return r(e,Ije(t))}var Rje=Mje,Fje=sH,$je=Rje;function Bje(e,t){return Fje($je(e,t),1)}var Uje=Bje;const Vje=kn(Uje);var zje=zC;function qje(e,t){return zje(e,t)}var Wje=qje;const a_=kn(Wje);var wm=1e9,Hje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gP,ra=!0,Ho="[DecimalError] ",Qd=Ho+"Invalid argument: ",mP=Ho+"Exponent out of range: ",_m=Math.floor,kd=Math.pow,Gje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ao,ii=1e7,Yn=7,tG=9007199254740991,nw=_m(tG/Yn),tr={};tr.absoluteValue=tr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tr.comparedTo=tr.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};tr.decimalPlaces=tr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tr.dividedBy=tr.div=function(e){return Hc(this,new this.constructor(e))};tr.dividedToIntegerBy=tr.idiv=function(e){var t=this,r=t.constructor;return Ln(Hc(t,new r(e),0,1),r.precision)};tr.equals=tr.eq=function(e){return!this.cmp(e)};tr.exponent=function(){return $a(this)};tr.greaterThan=tr.gt=function(e){return this.cmp(e)>0};tr.greaterThanOrEqualTo=tr.gte=function(e){return this.cmp(e)>=0};tr.isInteger=tr.isint=function(){return this.e>this.d.length-2};tr.isNegative=tr.isneg=function(){return this.s<0};tr.isPositive=tr.ispos=function(){return this.s>0};tr.isZero=function(){return this.s===0};tr.lessThan=tr.lt=function(e){return this.cmp(e)<0};tr.lessThanOrEqualTo=tr.lte=function(e){return this.cmp(e)<1};tr.logarithm=tr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ao))throw Error(Ho+"NaN");if(r.s<1)throw Error(Ho+(r.s?"NaN":"-Infinity"));return r.eq(ao)?new n(0):(ra=!1,t=Hc(d1(r,i),d1(e,i),i),ra=!0,Ln(t,a))};tr.minus=tr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aG(t,e):rG(t,(e.s=-e.s,e))};tr.modulo=tr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ho+"NaN");return r.s?(ra=!1,t=Hc(r,e,0,1).times(e),ra=!0,r.minus(t)):Ln(new n(r),a)};tr.naturalExponential=tr.exp=function(){return nG(this)};tr.naturalLogarithm=tr.ln=function(){return d1(this)};tr.negated=tr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tr.plus=tr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rG(t,e):aG(t,(e.s=-e.s,e))};tr.precision=tr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qd+e);if(t=$a(a)+1,n=a.d.length-1,r=n*Yn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tr.squareRoot=tr.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ho+"NaN")}for(e=$a(o),ra=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Kl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_m((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Hc(o,i,s+2)).times(.5),Kl(i.d).slice(0,s)===(t=Kl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ln(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return ra=!0,Ln(n,r)};tr.times=tr.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ii|0,t=o/ii|0;i[a]=(i[a]+t)%ii|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ra?Ln(e,d.precision):e};tr.toDecimalPlaces=tr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(lc(e,0,wm),t===void 0?t=n.rounding:lc(t,0,8),Ln(r,e+$a(r)+1,t))};tr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=mh(n,!0):(lc(e,0,wm),t===void 0?t=a.rounding:lc(t,0,8),n=Ln(new a(n),e+1,t),r=mh(n,!0,e+1)),r};tr.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?mh(a):(lc(e,0,wm),t===void 0?t=i.rounding:lc(t,0,8),n=Ln(new i(a),e+$a(a)+1,t),r=mh(n.abs(),!1,e+$a(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};tr.toInteger=tr.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),$a(e)+1,t.rounding)};tr.toNumber=function(){return+this};tr.toPower=tr.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(ao);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ho+"Infinity");return o}if(o.eq(ao))return o;if(n=l.precision,e.eq(ao))return Ln(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=tG){for(a=new l(ao),t=Math.ceil(n/Yn+4),ra=!1;r%2&&(a=a.times(o),CM(a.d,t)),r=_m(r/2),r!==0;)o=o.times(o),CM(o.d,t);return ra=!0,e.s<0?new l(ao).div(a):Ln(a,n)}}else if(i<0)throw Error(Ho+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,ra=!1,a=e.times(d1(o,n+c)),ra=!0,a=nG(a),a.s=i,a};tr.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=$a(a),n=mh(a,r<=i.toExpNeg||r>=i.toExpPos)):(lc(e,1,wm),t===void 0?t=i.rounding:lc(t,0,8),a=Ln(new i(a),e,t),r=$a(a),n=mh(a,e<=r||r<=i.toExpNeg,e)),n};tr.toSignificantDigits=tr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(lc(e,1,wm),t===void 0?t=n.rounding:lc(t,0,8)),Ln(new n(r),e,t)};tr.toString=tr.valueOf=tr.val=tr.toJSON=tr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$a(e),r=e.constructor;return mh(e,t<=r.toExpNeg||t>=r.toExpPos)};function rG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ra?Ln(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/Yn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ii|0,l[i]%=ii;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,ra?Ln(t,d):t}function lc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qd+e)}function Kl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yn-n.length,r&&(i+=Zu(r)),i+=n;s=e[t],n=s+"",r=Yn-n.length,r&&(i+=Zu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Hc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ii|0,s=i/ii|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ii+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,d,h,p,g,m,v,y,w,b,D,P,j,T,_,S=n.constructor,O=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Ho+"Division by zero");for(l=n.e-a.e,T=N.length,P=E.length,p=new S(O),g=p.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?w=i=S.precision:s?w=i+($a(n)-$a(a))+1:w=i,w<0)return new S(0);if(w=w/Yn+2|0,c=0,T==1)for(u=0,N=N[0],w++;(c<P||u)&&w--;c++)b=u*ii+(E[c]||0),g[c]=b/N|0,u=b%N|0;else{for(u=ii/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,P=E.length),D=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;_=N.slice(),_.unshift(0),j=N[0],N[1]>=ii/2&&++j;do u=0,o=t(N,m,T,v),o<0?(y=m[0],T!=v&&(y=y*ii+(m[1]||0)),u=y/j|0,u>1?(u>=ii&&(u=ii-1),d=e(N,u),h=d.length,v=m.length,o=t(d,m,h,v),o==1&&(u--,r(d,T<h?_:N,h))):(u==0&&(o=u=1),d=N.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=t(N,m,T,v),o<1&&(u++,r(m,T<v?_:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[D]||0:(m=[E[D]],v=1);while((D++<P||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Ln(p,s?i+$a(p)+1:i)}}();function nG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,d=u.precision;if($a(e)>16)throw Error(mP+$a(e));if(!e.s)return new u(ao);for(t==null?(ra=!1,o=d):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(kd(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(ao),u.precision=o;;){if(a=Ln(a.times(e),o),r=r.times(++l),s=i.plus(Hc(a,r,o)),Kl(s.d).slice(0,o)===Kl(i.d).slice(0,o)){for(;c--;)i=Ln(i.times(i),o);return u.precision=d,t==null?(ra=!0,Ln(i,d)):i}i=s}}function $a(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function pA(e,t,r){if(t>e.LN10.sd())throw ra=!0,r&&(e.precision=r),Error(Ho+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function Zu(e){for(var t="";e--;)t+="0";return t}function d1(e,t){var r,n,a,i,s,o,l,c,u,d=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Ho+(p.s?"NaN":"-Infinity"));if(p.eq(ao))return new m(0);if(t==null?(ra=!1,c=v):c=t,p.eq(10))return t==null&&(ra=!0),pA(m,c);if(c+=h,m.precision=c,r=Kl(g),n=r.charAt(0),i=$a(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Kl(p.d),n=r.charAt(0),d++;i=$a(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=pA(m,c+2,v).times(i+""),p=d1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(ra=!0,Ln(p,v)):p;for(o=s=p=Hc(p.minus(ao),p.plus(ao),c),u=Ln(p.times(p),c),a=3;;){if(s=Ln(s.times(u),c),l=o.plus(Hc(s,new m(a),c)),Kl(l.d).slice(0,c)===Kl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(pA(m,c+2,v).times(i+""))),o=Hc(o,new m(d),c),m.precision=v,t==null?(ra=!0,Ln(o,v)):o;o=l,a+=2}}function kM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_m(r/Yn),e.d=[],n=(r+1)%Yn,r<0&&(n+=Yn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yn;n<a;)e.d.push(+t.slice(n,n+=Yn));t=t.slice(n),n=Yn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ra&&(e.e>nw||e.e<-nw))throw Error(mP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,r){var n,a,i,s,o,l,c,u,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yn,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Yn),i=d.length,u>=i)return e;for(c=i=d[u],s=1;i>=10;i/=10)s++;n%=Yn,a=n-Yn+s}if(r!==void 0&&(i=kd(10,s-a-1),o=c/i%10|0,l=t<0||d[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/kd(10,s-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=$a(e),d.length=1,t=t-i-1,d[0]=kd(10,(Yn-t%Yn)%Yn),e.e=_m(-t/Yn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=kd(10,Yn-n),d[u]=a>0?(c/kd(10,s-a)%kd(10,a)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==ii&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=ii)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(ra&&(e.e>nw||e.e<-nw))throw Error(mP+$a(e));return e}function aG(e,t){var r,n,a,i,s,o,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ra?Ln(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/Yn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}s=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=ii-1;--l[i],l[a]+=ii}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,ra?Ln(t,p):t):new h(0)}function mh(e,t,r){var n,a=$a(e),i=Kl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Zu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zu(-a-1)+i,r&&(n=r-s)>0&&(i+=Zu(n))):a>=s?(i+=Zu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Zu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Zu(n))),e.s<0?"-"+i:i}function CM(e,t){if(e.length>t)return e.length=t,!0}function iG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return kM(s,i.toString())}else if(typeof i!="string")throw Error(Qd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Gje.test(i))kM(s,i);else throw Error(Qd+i)}if(a.prototype=tr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=iG,a.config=a.set=Kje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Kje(e){if(!e||typeof e!="object")throw Error(Ho+"Object expected");var t,r,n,a=["precision",1,wm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_m(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qd+r+": "+n);return this}var gP=iG(Hje);ao=new gP(1);const Nn=gP;function Yje(e){return Zje(e)||Jje(e)||Qje(e)||Xje()}function Xje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qje(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function Jje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Zje(e){if(Array.isArray(e))return xT(e)}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eOe=function(t){return t},sG={"@@functional/placeholder":!0},oG=function(t){return t===sG},PM=function(t){return function r(){return arguments.length===0||arguments.length===1&&oG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},tOe=function e(t,r){return t===1?r:PM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==sG}).length;return s>=t?r.apply(void 0,a):e(t-s,PM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(d){return oG(d)?l.shift():d});return r.apply(void 0,Yje(u).concat(l))}))})},i_=function(t){return tOe(t.length,t)},bT=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},rOe=i_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),nOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return eOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},wT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},lG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function aOe(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function iOe(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var sOe=i_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),oOe=i_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),lOe=i_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const s_={rangeStep:iOe,getDigitCount:aOe,interpolateNumber:sOe,uninterpolateNumber:oOe,uninterpolateTruncation:lOe};function _T(e){return fOe(e)||uOe(e)||cG(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fOe(e){if(Array.isArray(e))return ST(e)}function h1(e,t){return pOe(e)||hOe(e,t)||cG(e,t)||dOe()}function dOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cG(e,t){if(e){if(typeof e=="string")return ST(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(e,t)}}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function pOe(e){if(Array.isArray(e))return e}function uG(e){var t=h1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function fG(e,t,r){if(e.lte(0))return new Nn(0);var n=s_.getDigitCount(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Nn(Math.ceil(l))}function mOe(e,t,r){var n=1,a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(s_.getDigitCount(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var s=Math.floor((t-1)/2),o=nOe(rOe(function(l){return a.add(new Nn(l-s).mul(n)).toNumber()}),bT);return o(0,t)}function dG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var i=fG(new Nn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Nn(0):(s=new Nn(e).add(t).div(2),s=s.sub(new Nn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Nn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?dG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Nn(o).mul(i)),tickMax:s.add(new Nn(l).mul(i))})}function gOe(e){var t=h1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=uG([r,n]),l=h1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(_T(bT(0,a-1).map(function(){return 1/0}))):[].concat(_T(bT(0,a-1).map(function(){return-1/0})),[u]);return r>n?wT(d):d}if(c===u)return mOe(c,a,i);var h=dG(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=s_.rangeStep(g,m.add(new Nn(.1).mul(p)),p);return r>n?wT(v):v}function vOe(e,t){var r=h1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=uG([n,a]),o=h1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=fG(new Nn(c).sub(l).div(u-1),i,0),h=[].concat(_T(s_.rangeStep(new Nn(l),new Nn(c).sub(new Nn(.99).mul(d)),d)),[c]);return n>a?wT(h):h}var yOe=lG(gOe),xOe=lG(vOe),bOe="Invariant failed";function gh(e,t){throw new Error(bOe)}var wOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function _Oe(e,t){return EOe(e)||TOe(e,t)||AOe(e,t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(e,t){if(e){if(typeof e=="string")return jM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(e,t)}}function jM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function EOe(e){if(Array.isArray(e))return e}function NOe(e,t){if(e==null)return{};var r=kOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function COe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function POe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mG(n.key),n)}}function jOe(e,t,r){return t&&POe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OOe(e,t,r){return t=iw(t),IOe(e,hG()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function IOe(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DOe(e)}function DOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function LOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AT(e,t)}function AT(e,t){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AT(e,t)}function pG(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=MOe(e,"string");return Op(t)=="symbol"?t:t+""}function MOe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=function(e){function t(){return COe(this,t),OOe(this,t,arguments)}return LOe(t,e),jOe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=NOe(n,wOe),p=Zr(h,!1);this.props.direction==="x"&&u.type!=="number"&&gh();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,b=v.value,D=v.errorVal;if(!D)return null;var P=[],j,T;if(Array.isArray(D)){var _=_Oe(D,2);j=_[0],T=_[1]}else j=T=D;if(i==="vertical"){var S=u.scale,O=w+a,E=O+s,N=O-s,k=S(b-j),U=S(b+T);P.push({x1:U,y1:E,x2:U,y2:N}),P.push({x1:k,y1:O,x2:U,y2:O}),P.push({x1:k,y1:E,x2:k,y2:N})}else if(i==="horizontal"){var X=d.scale,z=y+a,G=z-s,V=z+s,W=X(b-j),te=X(b+T);P.push({x1:G,y1:te,x2:V,y2:te}),P.push({x1:z,y1:W,x2:z,y2:te}),P.push({x1:G,y1:W,x2:V,y2:W})}return Ue.createElement(Ea,aw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),P.map(function(Z){return Ue.createElement("line",aw({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Ue.createElement(Ea,{className:"recharts-errorBars"},g)}}])}(Ue.Component);pG(gy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pG(gy,"displayName","ErrorBar");function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){ROe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ROe(e,t,r){return t=FOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FOe(e){var t=$Oe(e,"string");return p1(t)=="symbol"?t:t+""}function $Oe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=to(r,Uo);if(!s)return null;var o=Uo.defaultProps,l=o!==void 0?bd(bd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?bd(bd({},h),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:vP(d),value:m||g,payload:p}}),bd(bd(bd({},l),Uo.getWithHeight(s,a)),{},{payload:c,item:s})};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function IM(e){return zOe(e)||VOe(e)||UOe(e)||BOe()}function BOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UOe(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function VOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zOe(e){if(Array.isArray(e))return TT(e)}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){X0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X0(e,t,r){return t=qOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qOe(e){var t=WOe(e,"string");return m1(t)=="symbol"?t:t+""}function WOe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fo(e,t,r){return zr(e)||zr(t)?r:Xa(t)?$o(e,t,r):Br(t)?t(e):r}function rv(e,t,r,n){var a=Vje(e,function(o){return fo(o,t)});if(r==="number"){var i=a.filter(function(o){return Ut(o)||parseFloat(o)});return i.length?[n_(i),r_(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!zr(o)}):a;return s.map(function(o){return Xa(o)||o instanceof Date?o:""})}var HOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(_l(d-u)!==_l(h-d)){var g=[];if(_l(h-d)===_l(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),b=Math.max(u,h);if(t>(w+d)/2&&t<=(b+d)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},vP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},GOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return zc(T.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?ma(ma({},w),y[0].props):y[0].props,D=b.barSize,P=b[v];s[P]||(s[P]=[]);var j=zr(D)?r:D;s[P].push({item:y[0],stackList:y.slice(1),barSize:zr(j)?void 0:ph(j,n,0)})}}return s},KOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ph(r,a,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(D,P){var j={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},T=[].concat(IM(D),[j]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:v})}),T},d)}else{var y=ph(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var b=o===+o?Math.min(w,o):w;u=s.reduce(function(D,P,j){var T=[].concat(IM(D),[{item:P.item,position:{offset:y+(w+c)*j+(w-b)/2,size:b}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:T[T.length-1].position})}),T},d)}return u},YOe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=gG({children:i,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ut(t[p]))return ma(ma({},t),{},X0({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ut(t[g]))return ma(ma({},t),{},X0({},g,t[g]+(h||0)))}return t},XOe=function(t,r,n){return zr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vG=function(t,r,n,a,i){var s=r.props.children,o=Bo(s,gy).filter(function(c){return XOe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=fo(u,n);if(zr(d))return c;var h=Array.isArray(d)?[n_(d),r_(d)]:[d,d],p=l.reduce(function(g,m){var v=fo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},QOe=function(t,r,n,a,i){var s=r.map(function(o){return vG(t,o,n,i,a)}).filter(function(o){return!zr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},yG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&vG(t,l,c,a)||rv(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},xG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},bG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Fc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?_l(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!cy(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},mA=new WeakMap,Ix=function(t,r){if(typeof r!="function")return t;mA.has(t)||mA.set(t,new WeakMap);var n=mA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},JOe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:o1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Zb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tv(),realScaleType:"point"}:i==="category"?{scale:o1(),realScaleType:"band"}:{scale:Zb(),realScaleType:"linear"};if(hh(a)){var l="scale".concat(z5(a));return{scale:(NM[l]||tv)(),realScaleType:NM[l]?l:"point"}}return Br(a)?{scale:a}:{scale:tv(),realScaleType:"point"}},LM=1e-4,ZOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-LM,s=Math.max(a[0],a[1])+LM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},eIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},tIe=function(t,r){if(!r||r.length!==2||!Ut(r[0])||!Ut(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ut(t[0])||t[0]<n)&&(i[0]=n),(!Ut(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},rIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=cy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},nIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=cy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},aIe={sign:rIe,expand:x_e,none:Ap,silhouette:b_e,wiggle:w_e,positive:nIe},iIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=aIe[n],s=y_e().keys(a).value(function(o,l){return+fo(o,l,0)}).order(X3).offset(i);return s(t)},sIe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ma(ma({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return d;var y=g[n],w=d[y]||{hasStack:!1,stackGroups:{}};if(Xa(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[uy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ma(ma({},d),{},X0({},y,w))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return ma(ma({},m),{},X0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:iIe(t,y.items,i)}))},g)}return ma(ma({},d),{},X0({},h,p))},u)},oIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=yOe(c,i,o);return t.domain([n_(u),r_(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=xOe(d,i,o);return{niceTicks:h}}return null};function MM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zr(a[t.dataKey])){var o=Pb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=fo(a,zr(s)?t.dataKey:s);return zr(l)?null:t.scale(l)}var RM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=fo(s,r.dataKey,r.domain[o]);return zr(l)?null:r.scale(l)-i/2+a},lIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},cIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Xa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},uIe=function(t){return t.reduce(function(r,n){return[n_(n.concat([r[0]]).filter(Ut)),r_(n.concat([r[1]]).filter(Ut))]},[1/0,-1/0])},wG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var d=uIe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},FM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$M=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ET=function(t,r,n){if(Br(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ut(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(FM.test(t[0])){var i=+FM.exec(t[0])[1];a[0]=r[0]-i}else Br(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ut(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if($M.test(t[1])){var s=+$M.exec(t[1])[1];a[1]=r[1]+s}else Br(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},sw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=WC(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},BM=function(t,r,n){return!t||!t.length||a_(t,$o(n,"type.defaultProps.domain"))?r:t},_G=function(t,r){var n=t.type.defaultProps?ma(ma({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ma(ma({},Zr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:vP(t),value:fo(r,a),type:l,payload:r,chartType:c,hide:u})};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){fIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fIe(e,t,r){return t=dIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dIe(e){var t=hIe(e,"string");return g1(t)=="symbol"?t:t+""}function hIe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ow=Math.PI/180,pIe=function(t){return t*180/Math.PI},Ti=function(t,r,n,a){return{x:t+Math.cos(-ow*a)*n,y:r+Math.sin(-ow*a)*n}},mIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},gIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=mIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:pIe(c),angleInRadian:c}},vIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},yIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},zM=function(t,r){var n=t.x,a=t.y,i=gIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=vIe(r),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?VM(VM({},r),{},{radius:s,angle:yIe(p,r)}):null};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var xIe=["offset"];function bIe(e){return AIe(e)||SIe(e)||_Ie(e)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(e,t){if(e){if(typeof e=="string")return NT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(e,t)}}function SIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AIe(e){if(Array.isArray(e))return NT(e)}function NT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TIe(e,t){if(e==null)return{};var r=EIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){NIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NIe(e,t,r){return t=kIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kIe(e){var t=CIe(e,"string");return v1(t)=="symbol"?t:t+""}function CIe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}var PIe=function(t){var r=t.value,n=t.formatter,a=zr(t.children)?r:t.children;return Br(n)?n(a):a},jIe=function(t,r){var n=_l(r-t),a=Math.min(Math.abs(r-t),360);return n*a},OIe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+h)/2,y=jIe(p,g),w=y>=0?1:-1,b,D;a==="insideStart"?(b=p+w*s,D=m):a==="insideEnd"?(b=g-w*s,D=!m):a==="end"&&(b=g+w*s,D=m),D=y<=0?D:!D;var P=Ti(c,u,v,b),j=Ti(c,u,v,b+(D?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(j.x,",").concat(j.y),_=zr(t.id)?uy("recharts-radial-line-"):t.id;return Ue.createElement("text",y1({},n,{dominantBaseline:"central",className:un("recharts-radial-bar-label",o)}),Ue.createElement("defs",null,Ue.createElement("path",{id:_,d:T})),Ue.createElement("textPath",{xlinkHref:"#".concat(_)},r))},IIe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var p=Ti(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ti(s,o,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},DIe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return qa(qa({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return qa(qa({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return qa(qa({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return qa(qa({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?qa({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?qa({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?qa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?qa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?qa({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},T):i==="insideTopRight"?qa({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?qa({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:p},T):i==="insideBottomRight"?qa({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):hm(i)&&(Ut(i.x)||$d(i.x))&&(Ut(i.y)||$d(i.y))?qa({x:o+ph(i.x,c),y:l+ph(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):qa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},LIe=function(t){return"cx"in t&&Ut(t.cx)};function Gi(e){var t=e.offset,r=t===void 0?5:t,n=TIe(e,xIe),a=qa({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||zr(o)&&zr(l)&&!F.isValidElement(c)&&!Br(c))return null;if(F.isValidElement(c))return F.cloneElement(c,a);var p;if(Br(c)){if(p=F.createElement(c,a),F.isValidElement(p))return p}else p=PIe(a);var g=LIe(i),m=Zr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return OIe(a,p,m);var v=g?IIe(a):DIe(a);return Ue.createElement(Hb,y1({className:un("recharts-label",d)},m,v,{breakAll:h}),p)}Gi.displayName="Label";var SG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ut(m)&&Ut(v)){if(Ut(d)&&Ut(h))return{x:d,y:h,width:m,height:v};if(Ut(p)&&Ut(g))return{x:p,y:g,width:m,height:v}}return Ut(d)&&Ut(h)?{x:d,y:h,width:0,height:0}:Ut(r)&&Ut(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},MIe=function(t,r){return t?t===!0?Ue.createElement(Gi,{key:"label-implicit",viewBox:r}):Xa(t)?Ue.createElement(Gi,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Gi?F.cloneElement(t,{key:"label-implicit",viewBox:r}):Ue.createElement(Gi,{key:"label-implicit",content:t,viewBox:r}):Br(t)?Ue.createElement(Gi,{key:"label-implicit",content:t,viewBox:r}):hm(t)?Ue.createElement(Gi,y1({viewBox:r},t,{key:"label-implicit"})):null:null},RIe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=SG(t),s=Bo(a,Gi).map(function(l,c){return F.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=MIe(t.label,r||i);return[o].concat(bIe(s))};Gi.parseViewBox=SG;Gi.renderCallByParent=RIe;function FIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $Ie=FIe;const BIe=kn($Ie);function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}var UIe=["valueAccessor"],VIe=["data","dataKey","clockWise","id","textBreakAll"];function zIe(e){return GIe(e)||HIe(e)||WIe(e)||qIe()}function qIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WIe(e,t){if(e){if(typeof e=="string")return kT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(e,t)}}function HIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GIe(e){if(Array.isArray(e))return kT(e)}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){KIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KIe(e,t,r){return t=YIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YIe(e){var t=XIe(e,"string");return x1(t)=="symbol"?t:t+""}function XIe(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GM(e,t){if(e==null)return{};var r=QIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JIe=function(t){return Array.isArray(t.value)?BIe(t.value):t.value};function If(e){var t=e.valueAccessor,r=t===void 0?JIe:t,n=GM(e,UIe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=GM(n,VIe);return!a||!a.length?null:Ue.createElement(Ea,{className:"recharts-label-list"},a.map(function(u,d){var h=zr(i)?r(u,d):fo(u&&u.payload,i),p=zr(o)?{}:{id:"".concat(o,"-").concat(d)};return Ue.createElement(Gi,lw({},Zr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Gi.parseViewBox(zr(s)?u:HM(HM({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}If.displayName="LabelList";function ZIe(e,t){return e?e===!0?Ue.createElement(If,{key:"labelList-implicit",data:t}):Ue.isValidElement(e)||Br(e)?Ue.createElement(If,{key:"labelList-implicit",data:t,content:e}):hm(e)?Ue.createElement(If,lw({data:t},e,{key:"labelList-implicit"})):null:null}function eDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Bo(n,If).map(function(s,o){return F.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=ZIe(e.label,t);return[i].concat(zIe(a))}If.renderCallByParent=eDe;function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function CT(){return CT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CT.apply(this,arguments)}function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(n){tDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tDe(e,t,r){return t=rDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rDe(e){var t=nDe(e,"string");return b1(t)=="symbol"?t:t+""}function nDe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aDe=function(t,r){var n=_l(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Dx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,d=Math.asin(l/u)/ow,h=c?i:i+s*d,p=Ti(r,n,u,h),g=Ti(r,n,a,h),m=c?i-s*d:i,v=Ti(r,n,u*Math.cos(d*ow),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},AG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=aDe(s,o),c=s+l,u=Ti(r,n,i,s),d=Ti(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ti(r,n,a,s),g=Ti(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},iDe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=_l(u-c),h=Dx({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Dx({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,b=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var j=Dx({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=j.circleTangency,_=j.lineTangency,S=j.theta,O=Dx({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=O.circleTangency,N=O.lineTangency,k=O.theta,U=l?Math.abs(c-u):Math.abs(c-u)-S-k;if(U<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},sDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TG=function(t){var r=YM(YM({},sDe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(s<i||u===d)return null;var p=un("recharts-sector",h),g=s-i,m=ph(o,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=iDe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=AG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),Ue.createElement("path",CT({},Zr(r,!0),{className:p,d:v,role:"img"}))};function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PT.apply(this,arguments)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){oDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oDe(e,t,r){return t=lDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lDe(e){var t=cDe(e,"string");return w1(t)=="symbol"?t:t+""}function cDe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JM={curveBasisClosed:o_e,curveBasisOpen:l_e,curveBasis:s_e,curveBumpX:H5e,curveBumpY:G5e,curveLinearClosed:c_e,curveLinear:W5,curveMonotoneX:u_e,curveMonotoneY:f_e,curveNatural:d_e,curveStep:h_e,curveStepAfter:m_e,curveStepBefore:p_e},Lx=function(t){return t.x===+t.x&&t.y===+t.y},ng=function(t){return t.x},ag=function(t){return t.y},uDe=function(t,r){if(Br(t))return t;var n="curve".concat(z5(t));return(n==="curveMonotone"||n==="curveBump")&&r?JM["".concat(n).concat(r==="vertical"?"Y":"X")]:JM[n]||W5},fDe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=uDe(n,o),d=c?i.filter(function(m){return Lx(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Lx(m)}):s,g=d.map(function(m,v){return QM(QM({},m),{},{base:p[v]})});return o==="vertical"?h=Tx().y(ag).x1(ng).x0(function(m){return m.base.x}):h=Tx().x(ng).y1(ag).y0(function(m){return m.base.y}),h.defined(Lx).curve(u),h(g)}return o==="vertical"&&Ut(s)?h=Tx().y(ag).x1(ng).x0(s):Ut(s)?h=Tx().x(ng).y1(ag).y0(s):h=TW().x(ng).y(ag),h.defined(Lx).curve(u),h(d)},jT=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?fDe(t):a;return F.createElement("path",PT({},Zr(t,!1),jb(t),{className:un("recharts-curve",r),d:s,ref:i}))},EG={exports:{}},dDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hDe=dDe,pDe=hDe;function NG(){}function kG(){}kG.resetWarningCache=NG;var mDe=function(){function e(n,a,i,s,o,l){if(l!==pDe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kG,resetWarningCache:NG};return r.PropTypes=r,r};EG.exports=mDe();var gDe=EG.exports;const yn=kn(gDe);var vDe=Object.getOwnPropertyNames,yDe=Object.getOwnPropertySymbols,xDe=Object.prototype.hasOwnProperty;function ZM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Mx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function e7(e){return vDe(e).concat(yDe(e))}var bDe=Object.hasOwn||function(e,t){return xDe.call(e,t)};function Ih(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var wDe="__v",_De="__o",SDe="_owner",t7=Object.getOwnPropertyDescriptor,r7=Object.keys;function ADe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function TDe(e,t){return Ih(e.getTime(),t.getTime())}function EDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NDe(e,t){return e===t}function n7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var kDe=Ih;function CDe(e,t,r){var n=r7(e),a=n.length;if(r7(t).length!==a)return!1;for(;a-- >0;)if(!CG(e,t,r,n[a]))return!1;return!0}function ig(e,t,r){var n=e7(e),a=n.length;if(e7(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!CG(e,t,r,i)||(s=t7(e,i),o=t7(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function PDe(e,t){return Ih(e.valueOf(),t.valueOf())}function jDe(e,t){return e.source===t.source&&e.flags===t.flags}function a7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function ODe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function IDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function CG(e,t,r,n){return(n===SDe||n===_De||n===wDe)&&(e.$$typeof||t.$$typeof)?!0:bDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var DDe="[object Arguments]",LDe="[object Boolean]",MDe="[object Date]",RDe="[object Error]",FDe="[object Map]",$De="[object Number]",BDe="[object Object]",UDe="[object RegExp]",VDe="[object Set]",zDe="[object String]",qDe="[object URL]",WDe=Array.isArray,i7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,s7=Object.assign,HDe=Object.prototype.toString.call.bind(Object.prototype.toString);function GDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(WDe(g))return t(g,m,v);if(i7!=null&&i7(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var b=HDe(g);return b===MDe?r(g,m,v):b===UDe?c(g,m,v):b===FDe?i(g,m,v):b===VDe?u(g,m,v):b===BDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):b===qDe?h(g,m,v):b===RDe?n(g,m,v):b===DDe?o(g,m,v):b===LDe||b===$De||b===zDe?l(g,m,v):!1}}function KDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?ig:ADe,areDatesEqual:TDe,areErrorsEqual:EDe,areFunctionsEqual:NDe,areMapsEqual:n?ZM(n7,ig):n7,areNumbersEqual:kDe,areObjectsEqual:n?ig:CDe,arePrimitiveWrappersEqual:PDe,areRegExpsEqual:jDe,areSetsEqual:n?ZM(a7,ig):a7,areTypedArraysEqual:n?ig:ODe,areUrlsEqual:IDe};if(r&&(a=s7({},a,r(a))),t){var i=Mx(a.areArraysEqual),s=Mx(a.areMapsEqual),o=Mx(a.areObjectsEqual),l=Mx(a.areSetsEqual);a=s7({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function YDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function XDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var QDe=ad();ad({strict:!0});ad({circular:!0});ad({circular:!0,strict:!0});ad({createInternalComparator:function(){return Ih}});ad({strict:!0,createInternalComparator:function(){return Ih}});ad({circular:!0,createInternalComparator:function(){return Ih}});ad({circular:!0,createInternalComparator:function(){return Ih},strict:!0});function ad(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=KDe(e),l=GDe(o),c=n?n(l):YDe(l);return XDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function JDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function o7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):JDe(a)};requestAnimationFrame(n)}function OT(e){"@babel/helpers - typeof";return OT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OT(e)}function ZDe(e){return n8e(e)||r8e(e)||t8e(e)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(e,t){if(e){if(typeof e=="string")return l7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l7(e,t)}}function l7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n8e(e){if(Array.isArray(e))return e}function a8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ZDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){o7(a.bind(null,c),l);return}a(l),o7(a.bind(null,c));return}OT(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function c7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return t=i8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8e(e){var t=s8e(e,"string");return _1(t)==="symbol"?t:String(t)}function s8e(e,t){if(_1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},l8e=function(t){return t},c8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},nv=function(t,r){return Object.keys(r).reduce(function(n,a){return u7(u7({},n),{},PG({},a,t(a,r[a])))},{})},f7=function(t,r,n){return t.map(function(a){return"".concat(c8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function u8e(e,t){return h8e(e)||d8e(e,t)||jG(e,t)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function h8e(e){if(Array.isArray(e))return e}function p8e(e){return v8e(e)||g8e(e)||jG(e)||m8e()}function m8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){if(e){if(typeof e=="string")return IT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(e,t)}}function g8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8e(e){if(Array.isArray(e))return IT(e)}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cw=1e-4,OG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},IG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},d7=function(t,r){return function(n){var a=OG(t,r);return IG(a,n)}},y8e=function(t,r){return function(n){var a=OG(t,r),i=[].concat(p8e(a.map(function(s,o){return s*o}).slice(1)),[0]);return IG(i,n)}},h7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=u8e(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var d=d7(a,s),h=d7(i,o),p=y8e(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,D=0;D<8;++D){var P=d(b)-w,j=p(b);if(Math.abs(P-w)<cw||j<cw)return h(b);b=g(b-P/j)}return h(b)};return m.isStepper=!1,m},x8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<cw&&Math.abs(m)<cw?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},b8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h7(a);case"spring":return x8e();default:if(a.split("(")[0]==="cubic-bezier")return h7(a)}return typeof a=="function"?a:null};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function p7(e){return S8e(e)||_8e(e)||DG(e)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S8e(e){if(Array.isArray(e))return LT(e)}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){DT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DT(e,t,r){return t=A8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A8e(e){var t=T8e(e,"string");return S1(t)==="symbol"?t:String(t)}function T8e(e,t){if(S1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E8e(e,t){return C8e(e)||k8e(e,t)||DG(e,t)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(e,t){if(e){if(typeof e=="string")return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function C8e(e){if(Array.isArray(e))return e}var uw=function(t,r,n){return t+(r-t)*n},MT=function(t){var r=t.from,n=t.to;return r!==n},P8e=function e(t,r,n){var a=nv(function(i,s){if(MT(s)){var o=t(s.from,s.to,s.velocity),l=E8e(o,2),c=l[0],u=l[1];return xi(xi({},s),{},{from:c,velocity:u})}return s},r);return n<1?nv(function(i,s){return MT(s)?xi(xi({},s),{},{velocity:uw(s.velocity,a[i].velocity,n),from:uw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const j8e=function(e,t,r,n,a){var i=o8e(e,t),s=i.reduce(function(v,y){return xi(xi({},v),{},DT({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return xi(xi({},v),{},DT({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return nv(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(MT).length},g=function(y){c||(c=y);var w=y-c,b=w/r.dt;o=P8e(r,o,b),a(xi(xi(xi({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},m=function(y){u||(u=y);var w=(y-u)/n,b=nv(function(P,j){return uw.apply(void 0,p7(j).concat([r(w)]))},s);if(a(xi(xi(xi({},e),t),b)),w<1)l=requestAnimationFrame(d);else{var D=nv(function(P,j){return uw.apply(void 0,p7(j).concat([r(1)]))},s);a(xi(xi(xi({},e),t),D))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}var O8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function I8e(e,t){if(e==null)return{};var r=D8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gA(e){return F8e(e)||R8e(e)||M8e(e)||L8e()}function L8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8e(e,t){if(e){if(typeof e=="string")return RT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(e,t)}}function R8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F8e(e){if(Array.isArray(e))return RT(e)}function RT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function U8e(e,t,r){return t&&B8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LG(e){var t=V8e(e,"string");return Ip(t)==="symbol"?t:String(t)}function V8e(e,t){if(Ip(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FT(e,t)}function FT(e,t){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FT(e,t)}function q8e(e){var t=W8e();return function(){var n=fw(e),a;if(t){var i=fw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $T(this,a)}}function $T(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BT(e)}function BT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}var uu=function(e){z8e(r,e);var t=q8e(r);function r(n,a){var i;$8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(BT(i)),i.changeStyle=i.changeStyle.bind(BT(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),$T(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},$T(i);i.state={style:l?Ag({},l,c):c}}else i.state={style:{}};return i}return U8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Ag({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(QDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var v={style:l?Ag({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(sl(sl({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=j8e(s,o,b8e(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,D=b===void 0?"ease":b,P=v.style,j=v.properties,T=v.onAnimationEnd,_=y>0?s[y-1]:v,S=j||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(gA(m),[i.runJSAnimation.bind(i,{from:_.style,to:P,duration:w,easing:D}),w]);var O=f7(S,w,D),E=sl(sl(sl({},_.style),P),{},{transition:O});return[].concat(gA(m),[E,w,T]).filter(l8e)};return this.manager.start([l].concat(gA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=a8e());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?Ag({},o,l):l,v=f7(Object.keys(m),s,c);g.start([u,i,sl(sl({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=I8e(a,O8e),c=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=F.cloneElement(p,sl(sl({},l),{},{style:sl(sl({},v),u),className:y}));return w};return c===1?d(F.Children.only(i)):Ue.createElement("div",null,F.Children.map(i,function(h){return d(h)}))}}]),r}(F.PureComponent);uu.displayName="Animate";uu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uu.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function H8e(e,t){return X8e(e)||Y8e(e,t)||K8e(e,t)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return v7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v7(e,t)}}function v7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function X8e(e){if(Array.isArray(e))return e}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(n){Q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8e(e,t,r){return t=J8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8e(e){var t=Z8e(e,"string");return A1(t)=="symbol"?t:t+""}function Z8e(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b7=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),u+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},eLe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},tLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yP=function(t){var r=x7(x7({},tLe),t),n=F.useRef(),a=F.useState(-1),i=H8e(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=un("recharts-rectangle",p);return w?Ue.createElement(uu,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(D){var P=D.width,j=D.height,T=D.x,_=D.y;return Ue.createElement(uu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Ue.createElement("path",dw({},Zr(r,!0),{className:b,d:b7(T,_,P,j,h),ref:n})))}):Ue.createElement("path",dw({},Zr(r,!0),{className:b,d:b7(l,c,u,d,h)}))};function UT(){return UT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UT.apply(this,arguments)}var xP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=un("recharts-dot",i);return r===+r&&n===+n&&a===+a?F.createElement("circle",UT({},Zr(t,!1),jb(t),{className:s,cx:r,cy:n,r:a})):null};function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}var rLe=["x","y","top","left","width","height","className"];function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function w7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nLe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w7(Object(r),!0).forEach(function(n){aLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aLe(e,t,r){return t=iLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iLe(e){var t=sLe(e,"string");return T1(t)=="symbol"?t:t+""}function sLe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oLe(e,t){if(e==null)return{};var r=lLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cLe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},uLe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=oLe(t,rLe),v=nLe({x:n,y:i,top:o,left:c,width:d,height:p},m);return!Ut(n)||!Ut(i)||!Ut(d)||!Ut(p)||!Ut(o)||!Ut(c)?null:Ue.createElement("path",VT({},Zr(v,!0),{className:un("recharts-cross",g),d:cLe(n,i,d,p,o,c)}))},fLe=YW,dLe=fLe(Object.getPrototypeOf,Object),hLe=dLe,pLe=vu,mLe=hLe,gLe=yu,vLe="[object Object]",yLe=Function.prototype,xLe=Object.prototype,MG=yLe.toString,bLe=xLe.hasOwnProperty,wLe=MG.call(Object);function _Le(e){if(!gLe(e)||pLe(e)!=vLe)return!1;var t=mLe(e);if(t===null)return!0;var r=bLe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MG.call(r)==wLe}var SLe=_Le;const ALe=kn(SLe);var TLe=vu,ELe=yu,NLe="[object Boolean]";function kLe(e){return e===!0||e===!1||ELe(e)&&TLe(e)==NLe}var CLe=kLe;const PLe=kn(CLe);function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function jLe(e,t){return LLe(e)||DLe(e,t)||ILe(e,t)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(e,t){if(e){if(typeof e=="string")return _7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _7(e,t)}}function _7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function LLe(e){if(Array.isArray(e))return e}function S7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(r),!0).forEach(function(n){MLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MLe(e,t,r){return t=RLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RLe(e){var t=FLe(e,"string");return E1(t)=="symbol"?t:t+""}function FLe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T7=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},$Le={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BLe=function(t){var r=A7(A7({},$Le),t),n=F.useRef(),a=F.useState(-1),i=jLe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var w=un("recharts-trapezoid",p);return y?Ue.createElement(uu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(b){var D=b.upperWidth,P=b.lowerWidth,j=b.height,T=b.x,_=b.y;return Ue.createElement(uu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ue.createElement("path",hw({},Zr(r,!0),{className:w,d:T7(T,_,D,P,j),ref:n})))}):Ue.createElement("g",null,Ue.createElement("path",hw({},Zr(r,!0),{className:w,d:T7(l,c,u,d,h)})))},ULe=["option","shapeType","propTransformer","activeClassName","isActive"];function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function VLe(e,t){if(e==null)return{};var r=zLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(n){qLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qLe(e,t,r){return t=WLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WLe(e){var t=HLe(e,"string");return N1(t)=="symbol"?t:t+""}function HLe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GLe(e,t){return pw(pw({},t),e)}function KLe(e,t){return e==="symbols"}function N7(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ue.createElement(yP,r);case"trapezoid":return Ue.createElement(BLe,r);case"sector":return Ue.createElement(TG,r);case"symbols":if(KLe(t))return Ue.createElement(RC,r);break;default:return null}}function YLe(e){return F.isValidElement(e)?e.props:e}function XLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?GLe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=VLe(e,ULe),c;if(F.isValidElement(t))c=F.cloneElement(t,pw(pw({},l),YLe(t)));else if(Br(t))c=t(l);else if(ALe(t)&&!PLe(t)){var u=a(t,l);c=Ue.createElement(N7,{shapeType:r,elementProps:u})}else{var d=l;c=Ue.createElement(N7,{shapeType:r,elementProps:d})}return o?Ue.createElement(Ea,{className:s},c):c}function o_(e,t){return t!=null&&"trapezoids"in e.props}function l_(e,t){return t!=null&&"sectors"in e.props}function k1(e,t){return t!=null&&"points"in e.props}function QLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function JLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ZLe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function eMe(e,t){var r;return o_(e,t)?r=QLe:l_(e,t)?r=JLe:k1(e,t)&&(r=ZLe),r}function tMe(e,t){var r;return o_(e,t)?r="trapezoids":l_(e,t)?r="sectors":k1(e,t)&&(r="points"),r}function rMe(e,t){if(o_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(l_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return k1(e,t)?t.payload:{}}function nMe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=tMe(r,t),i=rMe(r,t),s=n.filter(function(l,c){var u=a_(i,l),d=r.props[a].filter(function(g){var m=eMe(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var aMe=Math.ceil,iMe=Math.max;function sMe(e,t,r,n){for(var a=-1,i=iMe(aMe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var oMe=sMe,lMe=pH,k7=1/0,cMe=17976931348623157e292;function uMe(e){if(!e)return e===0?e:0;if(e=lMe(e),e===k7||e===-k7){var t=e<0?-1:1;return t*cMe}return e===e?e:0}var RG=uMe,fMe=oMe,dMe=Y5,vA=RG;function hMe(e){return function(t,r,n){return n&&typeof n!="number"&&dMe(t,r,n)&&(r=n=void 0),t=vA(t),r===void 0?(r=t,t=0):r=vA(r),n=n===void 0?t<r?1:-1:vA(n),fMe(t,r,n,e)}}var pMe=hMe,mMe=pMe,gMe=mMe(),vMe=gMe;const mw=kn(vMe);function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return t=yMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yMe(e){var t=xMe(e,"string");return C1(t)=="symbol"?t:t+""}function xMe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bMe=["Webkit","Moz","O","ms"],wMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=bMe.reduce(function(i,s){return P7(P7({},i),{},FG({},s+n,r))},{});return a[t]=r,a};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function j7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(r),!0).forEach(function(n){Zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BG(n.key),n)}}function SMe(e,t,r){return t&&O7(e.prototype,t),r&&O7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AMe(e,t,r){return t=vw(t),TMe(e,$G()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function TMe(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EMe(e)}function EMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function NMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zT(e,t)}function zT(e,t){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zT(e,t)}function Zs(e,t,r){return t=BG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=kMe(e,"string");return Dp(t)=="symbol"?t:t+""}function kMe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=tv().domain(mw(0,l)).range([i,i+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},I7=function(t){return t.changedTouches&&!!t.changedTouches.length},Lp=function(e){function t(r){var n;return _Me(this,t),n=AMe(this,t,[r]),Zs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Zs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Zs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Zs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zs(n,"handleSlideDragStart",function(a){var i=I7(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return NMe(t,e),SMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=fo(i[n],o,n);return Br(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-d-o,c+u-d-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=I7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,d+h-p-c):w<0&&(w=Math.max(w,d-c)),y[s]=c+w;var b=this.getIndex(y),D=b.startIndex,P=b.endIndex,j=function(){var _=v.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===_||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===_};this.setState(Zs(Zs({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&j()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Zs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ue.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=F.Children.only(c);return d?Ue.cloneElement(d,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=yA(yA({},Zr(this.props,!1)),{},{x:y,y:c,width:u,height:d}),b=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Ue.createElement(Ea,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return Ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Ue.createElement(Ea,{className:"recharts-brush-texts"},Ue.createElement(Hb,gw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Ue.createElement(Hb,gw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Ut(o)||!Ut(l)||!Ut(c)||!Ut(u)||c<=0||u<=0)return null;var b=un("recharts-brush",i),D=Ue.Children.count(s)===1,P=wMe("userSelect","none");return Ue.createElement(Ea,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ue.createElement(Ue.Fragment,null,Ue.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ue.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ue.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ue.isValidElement(n)?i=Ue.cloneElement(n,a):Br(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return yA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?CMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(F.PureComponent);Zs(Lp,"displayName","Brush");Zs(Lp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PMe=qC;function jMe(e,t){var r;return PMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var OMe=jMe,IMe=UW,DMe=td,LMe=OMe,MMe=zs,RMe=Y5;function FMe(e,t,r){var n=MMe(e)?IMe:LMe;return r&&RMe(e,t,r)&&(t=void 0),n(e,DMe(t))}var $Me=FMe;const BMe=kn($Me);var ac=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},D7=cH;function UMe(e,t,r){t=="__proto__"&&D7?D7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var VMe=UMe,zMe=VMe,qMe=oH,WMe=td;function HMe(e,t){var r={};return t=WMe(t),qMe(e,function(n,a,i){zMe(r,a,t(n,a,i))}),r}var GMe=HMe;const KMe=kn(GMe);function YMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var XMe=YMe,QMe=qC;function JMe(e,t){var r=!0;return QMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var ZMe=JMe,e7e=XMe,t7e=ZMe,r7e=td,n7e=zs,a7e=Y5;function i7e(e,t,r){var n=n7e(e)?e7e:t7e;return r&&a7e(e,t,r)&&(t=void 0),n(e,r7e(t))}var s7e=i7e;const UG=kn(s7e);var o7e=["x","y"];function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function L7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(r),!0).forEach(function(n){l7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l7e(e,t,r){return t=c7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7e(e){var t=u7e(e,"string");return P1(t)=="symbol"?t:t+""}function u7e(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7e(e,t){if(e==null)return{};var r=d7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h7e(e,t){var r=e.x,n=e.y,a=f7e(e,o7e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return sg(sg(sg(sg(sg({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function M7(e){return Ue.createElement(XLe,qT({shapeType:"rectangle",propTransformer:h7e,activeClassName:"recharts-active-bar"},e))}var p7e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ut(n)||jwe(n);return i?t(n,a):(i||gh(),r)}},m7e=["value","background"],VG;function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function g7e(e,t){if(e==null)return{};var r=v7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(this,arguments)}function R7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(r),!0).forEach(function(n){mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qG(n.key),n)}}function x7e(e,t,r){return t&&F7(e.prototype,t),r&&F7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b7e(e,t,r){return t=xw(t),w7e(e,zG()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function w7e(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7e(e)}function _7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function S7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WT(e,t)}function WT(e,t){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WT(e,t)}function mf(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=A7e(e,"string");return Mp(t)=="symbol"?t:t+""}function A7e(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vy=function(e){function t(){var r;y7e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=b7e(this,t,[].concat(a)),mf(r,"state",{isAnimationFinished:!1}),mf(r,"id",uy("recharts-bar-")),mf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),mf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return S7e(t,e),x7e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Zr(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:s,m=Ia(Ia(Ia({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ue.createElement(Ea,yw({className:"recharts-bar-rectangle"},Ob(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),Ue.createElement(M7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return Ue.createElement(uu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var b=gl(w.x,v.x),D=gl(w.y,v.y),P=gl(w.width,v.width),j=gl(w.height,v.height);return Ia(Ia({},v),{},{x:b(g),y:D(g),width:P(g),height:j(g)})}if(s==="horizontal"){var T=gl(0,v.height),_=T(g);return Ia(Ia({},v),{},{y:v.y+v.height-_,height:_})}var S=gl(0,v.width),O=S(g);return Ia(Ia({},v),{},{width:O})});return Ue.createElement(Ea,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!a_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Zr(this.props.background,!1);return i.map(function(c,u){c.value;var d=c.background,h=g7e(c,m7e);if(!d)return null;var p=Ia(Ia(Ia(Ia(Ia({},h),{},{fill:"#eee"},d),l),Ob(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ue.createElement(M7,yw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Bo(u,gy);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:fo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Ea,g,d.map(function(m){return Ue.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=un("recharts-bar",s),w=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,D=w||b,P=zr(m)?this.id:m;return Ue.createElement(Ea,{className:y},w||b?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(P)},Ue.createElement("rect",{x:w?c:c-d/2,y:b?u:u-h/2,width:w?d:d*2,height:b?h:h*2}))):null,Ue.createElement(Ea,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||v)&&If.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);VG=vy;mf(vy,"displayName","Bar");mf(vy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mf(vy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=eIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ia(Ia({},m),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,j=lIe({numericAxis:D}),T=Bo(w,gH),_=d.map(function(S,O){var E,N,k,U,X,z;c?E=tIe(c[u+O],P):(E=fo(S,y),Array.isArray(E)||(E=[j,E]));var G=p7e(b,VG.defaultProps.minPointSize)(E[1],O);if(g==="horizontal"){var V,W=[s.scale(E[0]),s.scale(E[1])],te=W[0],Z=W[1];N=RM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:S,index:O}),k=(V=Z??te)!==null&&V!==void 0?V:void 0,U=p.size;var I=te-Z;if(X=Number.isNaN(I)?0:I,z={x:N,y:s.y,width:U,height:s.height},Math.abs(G)>0&&Math.abs(X)<Math.abs(G)){var M=_l(X||G)*(Math.abs(G)-Math.abs(X));k-=M,X+=M}}else{var q=[i.scale(E[0]),i.scale(E[1])],Y=q[0],J=q[1];if(N=Y,k=RM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:S,index:O}),U=J-Y,X=p.size,z={x:i.x,y:k,width:i.width,height:X},Math.abs(G)>0&&Math.abs(U)<Math.abs(G)){var ie=_l(U||G)*(Math.abs(G)-Math.abs(U));U+=ie}}return Ia(Ia(Ia({},S),{},{x:N,y:k,width:U,height:X,value:c?E:E[1],payload:S,background:z},T&&T[O]&&T[O].props),{},{tooltipPayload:[_G(r,S)],tooltipPosition:{x:N+U/2,y:k+X/2}})});return Ia({data:_,layout:g},h)});function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function T7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function E7e(e,t,r){return t&&$7(e.prototype,t),r&&$7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=N7e(e,"string");return j1(t)=="symbol"?t:t+""}function N7e(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!to(c,vy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,D=m.mirror,P=m.reversed,j="".concat(v).concat(D?"Mirror":""),T,_,S,O,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],k=1/0,U=m.categoricalDomain.sort(Dwe);if(U.forEach(function(q,Y){Y>0&&(k=Math.min((q||0)-(U[Y-1]||0),k))}),Number.isFinite(k)){var X=k/N,z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=X*z/2),m.padding==="no-gap"){var G=ph(t.barCategoryGap,X*z),V=X*z/2;T=V-G-(V-G)/z*G}}}a==="xAxis"?_=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:_=m.range,P&&(_=[_[1],_[0]]);var W=JOe(m,i,h),te=W.scale,Z=W.realScaleType;te.domain(y).range(_),ZOe(te);var I=oIe(te,hl(hl({},m),{},{realScaleType:Z}));a==="xAxis"?(E=v==="top"&&!D||v==="bottom"&&D,S=n.left,O=d[j]-E*m.height):a==="yAxis"&&(E=v==="left"&&!D||v==="right"&&D,S=d[j]-E*m.width,O=n.top);var M=hl(hl(hl({},m),I),{},{realScaleType:Z,x:S,y:O,scale:te,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return M.bandSize=sw(M,I),!m.hide&&a==="xAxis"?d[j]+=(E?-1:1)*M.height:m.hide||(d[j]+=(E?-1:1)*M.width),hl(hl({},p),{},c_({},g,M))},{})},HG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},C7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return HG({x:r,y:n},{x:a,y:i})},GG=function(){function e(t){T7e(this,e),this.scale=t}return E7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();c_(GG,"EPS",1e-4);var bP=function(t){var r=Object.keys(t).reduce(function(n,a){return hl(hl({},n),{},c_({},a,GG.create(t[a])))},{});return hl(hl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return KMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return UG(a,function(i,s){return r[s].isInRange(i)})}})};function P7e(e){return(e%180+180)%180}var j7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=P7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},O7e=td,I7e=fy,D7e=G5;function L7e(e){return function(t,r,n){var a=Object(t);if(!I7e(t)){var i=O7e(r);t=D7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var M7e=L7e,R7e=RG;function F7e(e){var t=R7e(e),r=t%1;return t===t?r?t-r:t:0}var $7e=F7e,B7e=tH,U7e=td,V7e=$7e,z7e=Math.max;function q7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:V7e(r);return a<0&&(a=z7e(n+a,0)),B7e(e,U7e(t),a)}var W7e=q7e,H7e=M7e,G7e=W7e,K7e=H7e(G7e),Y7e=K7e;const X7e=kn(Y7e);var Q7e=Lbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),wP=F.createContext(void 0),_P=F.createContext(void 0),KG=F.createContext(void 0),YG=F.createContext({}),XG=F.createContext(void 0),QG=F.createContext(0),JG=F.createContext(0),U7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=Q7e(i);return Ue.createElement(wP.Provider,{value:n},Ue.createElement(_P.Provider,{value:a},Ue.createElement(YG.Provider,{value:i},Ue.createElement(KG.Provider,{value:u},Ue.createElement(XG.Provider,{value:s},Ue.createElement(QG.Provider,{value:c},Ue.createElement(JG.Provider,{value:l},o)))))))},J7e=function(){return F.useContext(XG)},ZG=function(t){var r=F.useContext(wP);r==null&&gh();var n=r[t];return n==null&&gh(),n},Z7e=function(){var t=F.useContext(wP);return sf(t)},eRe=function(){var t=F.useContext(_P),r=X7e(t,function(n){return UG(n.domain,Number.isFinite)});return r||sf(t)},eK=function(t){var r=F.useContext(_P);r==null&&gh();var n=r[t];return n==null&&gh(),n},tRe=function(){var t=F.useContext(KG);return t},rRe=function(){return F.useContext(YG)},SP=function(){return F.useContext(JG)},AP=function(){return F.useContext(QG)};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function nRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rK(n.key),n)}}function iRe(e,t,r){return t&&aRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sRe(e,t,r){return t=bw(t),oRe(e,tK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function oRe(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lRe(e)}function lRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function cRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HT(e,t)}function HT(e,t){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HT(e,t)}function V7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return t=rK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=uRe(e,"string");return Rp(t)=="symbol"?t:t+""}function uRe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fRe(e,t){return mRe(e)||pRe(e,t)||hRe(e,t)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hRe(e,t){if(e){if(typeof e=="string")return q7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q7(e,t)}}function q7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function mRe(e){if(Array.isArray(e))return e}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}var gRe=function(t,r){var n;return Ue.isValidElement(t)?n=Ue.cloneElement(t,r):Br(t)?n=t(r):n=Ue.createElement("line",GT({},r,{className:"recharts-reference-line-line"})),n},vRe=function(t,r,n,a,i,s,o,l,c){var u=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(ac(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if(ac(c,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return o==="top"?b.reverse():b}if(a){var D=c.segment,P=D.map(function(j){return t.apply(j,{position:s})});return ac(c,"discard")&&BMe(P,function(j){return!t.isInRange(j)})?null:P}return null};function yRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=J7e(),u=ZG(a),d=eK(i),h=tRe();if(!c||!h)return null;qc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=bP({x:u.scale,y:d.scale}),g=Xa(t),m=Xa(r),v=n&&n.length===2,y=vRe(p,g,m,v,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var w=fRe(y,2),b=w[0],D=b.x,P=b.y,j=w[1],T=j.x,_=j.y,S=ac(e,"hidden")?"url(#".concat(c,")"):void 0,O=z7(z7({clipPath:S},Zr(e,!0)),{},{x1:D,y1:P,x2:T,y2:_});return Ue.createElement(Ea,{className:un("recharts-reference-line",o)},gRe(s,O),Gi.renderCallByParent(e,C7e({x1:D,y1:P,x2:T,y2:_})))}var EP=function(e){function t(){return nRe(this,t),sRe(this,t,arguments)}return cRe(t,e),iRe(t,[{key:"render",value:function(){return Ue.createElement(yRe,this.props)}}])}(Ue.Component);TP(EP,"displayName","ReferenceLine");TP(EP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function W7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(r),!0).forEach(function(n){u_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aK(n.key),n)}}function wRe(e,t,r){return t&&bRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Re(e,t,r){return t=ww(t),SRe(e,nK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function SRe(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ARe(e)}function ARe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function TRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YT(e,t)}function u_(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=ERe(e,"string");return Fp(t)=="symbol"?t:t+""}function ERe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NRe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=bP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return ac(t,"discard")&&!s.isInRange(o)?null:o},f_=function(e){function t(){return xRe(this,t),_Re(this,t,arguments)}return TRe(t,e),wRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Xa(a),u=Xa(i);if(qc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=NRe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,y=ac(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=H7(H7({clipPath:y},Zr(this.props,!0)),{},{cx:h,cy:p});return Ue.createElement(Ea,{className:un("recharts-reference-dot",v)},t.renderDot(m,w),Gi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Ue.Component);u_(f_,"displayName","ReferenceDot");u_(f_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});u_(f_,"renderDot",function(e,t){var r;return Ue.isValidElement(e)?r=Ue.cloneElement(e,t):Br(e)?r=e(t):r=Ue.createElement(xP,KT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function PRe(e,t,r){return t&&CRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jRe(e,t,r){return t=_w(t),ORe(e,iK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function ORe(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(e)}function IRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function DRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QT(e,t)}function QT(e,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QT(e,t)}function d_(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=LRe(e,"string");return $p(t)=="symbol"?t:t+""}function LRe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MRe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=bP({x:u.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ac(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:HG(p,g)},h_=function(e){function t(){return kRe(this,t),jRe(this,t,arguments)}return DRe(t,e),PRe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;qc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Xa(a),h=Xa(i),p=Xa(s),g=Xa(o),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var v=MRe(d,h,p,g,this.props);if(!v&&!m)return null;var y=ac(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ue.createElement(Ea,{className:un("recharts-reference-area",l)},t.renderRect(m,K7(K7({clipPath:y},Zr(this.props,!0)),v)),Gi.renderCallByParent(this.props,v))}}])}(Ue.Component);d_(h_,"displayName","ReferenceArea");d_(h_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d_(h_,"renderRect",function(e,t){var r;return Ue.isValidElement(e)?r=Ue.cloneElement(e,t):Br(e)?r=e(t):r=Ue.createElement(yP,XT({},t,{className:"recharts-reference-area-rect"})),r});function oK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function RRe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return j7e(n,r)}function FRe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Sw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function $Re(e,t){return oK(e,t+1)}function BRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:oK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=l===0||Sw(e,w,y,u,o);b||(l=0,u=s,c+=1),b&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function Y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(r),!0).forEach(function(n){URe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function URe(e,t,r){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VRe(e){var t=zRe(e,"string");return O1(t)=="symbol"?t:t+""}function zRe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Vi(Vi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Vi(Vi({},p),{},{tickCoord:p.coordinate});var y=Sw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Vi(Vi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function WRe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Vi(Vi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Sw(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),s[o-1]=Vi(Vi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var b=s[w],D,P=function(){return D===void 0&&(D=r(b,w)),D};if(w===0){var j=e*(b.coordinate-e*P()/2-l);s[w]=b=Vi(Vi({},b),{},{tickCoord:j<0?b.coordinate-j*e:b.coordinate})}else s[w]=b=Vi(Vi({},b),{},{tickCoord:b.coordinate});var T=Sw(e,b.tickCoord,P,l,c);T&&(l=b.tickCoord+e*(P()/2+a),s[w]=Vi(Vi({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function NP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ut(l)||Wc.isSsr)return $Re(a,typeof l=="number"&&Ut(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?ev(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,D){var P=Br(c)?c(b.value,D):b.value;return p==="width"?RRe(ev(P,{fontSize:t,letterSpacing:r}),g,d):ev(P,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?_l(a[1].coordinate-a[0].coordinate):1,y=FRe(i,v,p);return l==="equidistantPreserveStart"?BRe(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=WRe(v,y,m,a,s,l==="preserveStartEnd"):h=qRe(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var HRe=["viewBox"],GRe=["viewBox"],KRe=["ticks"];function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function X7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(r),!0).forEach(function(n){kP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xA(e,t){if(e==null)return{};var r=YRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function QRe(e,t,r){return t&&Q7(e.prototype,t),r&&Q7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JRe(e,t,r){return t=Aw(t),ZRe(e,lK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function ZRe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eFe(e)}function eFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function tFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JT(e,t)}function JT(e,t){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JT(e,t)}function kP(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=rFe(e,"string");return Bp(t)=="symbol"?t:t+""}function rFe(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sm=function(e){function t(r){var n;return XRe(this,t),n=JRe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return tFe(t,e),QRe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=xA(n,HRe),o=this.props,l=o.viewBox,c=xA(o,GRe);return!G0(i,l)||!G0(s,c)||!G0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,v,y,w,b=d?-1:1,D=n.tickSize||u,P=Ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!d*l,m=v-b*D,w=m-b*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!d*o,p=g-b*D,y=p-b*h,w=P;break;case"right":m=v=n.coordinate,g=i+ +d*o,p=g+b*D,y=p+b*h,w=P;break;default:p=g=n.coordinate,v=s+ +d*l,m=v+b*D,w=m+b*h,y=P;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=za(za(za({},Zr(this.props,!1)),Zr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=za(za({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=za(za({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Ue.createElement("line",I0({},d,{className:un("recharts-cartesian-axis-line",$o(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=NP(za(za({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Zr(this.props,!1),y=Zr(u,!1),w=za(za({},v),{},{fill:"none"},Zr(l,!1)),b=p.map(function(D,P){var j=s.getTickLineCoord(D),T=j.line,_=j.tick,S=za(za(za(za({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),_),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:d});return Ue.createElement(Ea,I0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Ob(s.props,D,P)),l&&Ue.createElement("line",I0({},w,T,{className:un("recharts-cartesian-axis-tick-line",$o(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(Br(d)?d(D.value,P):D.value).concat(h||"")))});return Ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=xA(d,KRe),g=h;return Br(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Ue.createElement(Ea,{className:un("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=un(a.className,"recharts-cartesian-axis-tick-value");return Ue.isValidElement(n)?s=Ue.cloneElement(n,za(za({},a),{},{className:o})):Br(n)?s=n(za(za({},a),{},{className:o})):s=Ue.createElement(Hb,I0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(F.Component);kP(Sm,"displayName","CartesianAxis");kP(Sm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nFe=["x1","y1","x2","y2","key"],aFe=["offset"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function J7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(r),!0).forEach(function(n){iFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iFe(e,t,r){return t=sFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sFe(e){var t=oFe(e,"string");return vh(t)=="symbol"?t:t+""}function oFe(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function Z7(e,t){if(e==null)return{};var r=lFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ue.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uK(e,t){var r;if(Ue.isValidElement(e))r=Ue.cloneElement(e,t);else if(Br(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=Z7(t,nFe),c=Zr(l,!1);c.offset;var u=Z7(c,aFe);r=Ue.createElement("line",Vd({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function uFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ki(Ki({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return uK(a,c)});return Ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ki(Ki({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return uK(a,c)});return Ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function dFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return Ue.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return Ue.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return bG(NP(Ki(Ki(Ki({},Sm.defaultProps),n),{},{ticks:Fc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},mFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return bG(NP(Ki(Ki(Ki({},Sm.defaultProps),n),{},{ticks:Fc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},a0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jd(e){var t,r,n,a,i,s,o=SP(),l=AP(),c=rRe(),u=Ki(Ki({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:a0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:a0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:a0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:a0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:a0.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:a0.verticalFill,x:Ut(e.x)?e.x:c.left,y:Ut(e.y)?e.y:c.top,width:Ut(e.width)?e.width:c.width,height:Ut(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=Z7e(),b=eRe();if(!Ut(p)||p<=0||!Ut(g)||g<=0||!Ut(d)||d!==+d||!Ut(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||pFe,P=u.horizontalCoordinatesGenerator||mFe,j=u.horizontalPoints,T=u.verticalPoints;if((!j||!j.length)&&Br(P)){var _=v&&v.length,S=P({yAxis:b?Ki(Ki({},b),{},{ticks:_?v:b.ticks}):void 0,width:o,height:l,offset:c},_?!0:m);qc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vh(S),"]")),Array.isArray(S)&&(j=S)}if((!T||!T.length)&&Br(D)){var O=y&&y.length,E=D({xAxis:w?Ki(Ki({},w),{},{ticks:O?y:w.ticks}):void 0,width:o,height:l,offset:c},O?!0:m);qc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vh(E),"]")),Array.isArray(E)&&(T=E)}return Ue.createElement("g",{className:"recharts-cartesian-grid"},Ue.createElement(cFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ue.createElement(uFe,Vd({},u,{offset:c,horizontalPoints:j,xAxis:w,yAxis:b})),Ue.createElement(fFe,Vd({},u,{offset:c,verticalPoints:T,xAxis:w,yAxis:b})),Ue.createElement(dFe,Vd({},u,{horizontalPoints:j})),Ue.createElement(hFe,Vd({},u,{verticalPoints:T})))}Jd.displayName="CartesianGrid";var gFe=["type","layout","connectNulls","ref"],vFe=["key"];function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function eR(e,t){if(e==null)return{};var r=yFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(this,arguments)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0(e){return _Fe(e)||wFe(e)||bFe(e)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bFe(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function wFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Fe(e){if(Array.isArray(e))return ZT(e)}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dK(n.key),n)}}function AFe(e,t,r){return t&&rR(e.prototype,t),r&&rR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TFe(e,t,r){return t=Tw(t),EFe(e,fK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function EFe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NFe(e)}function NFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function kFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eE(e,t)}function pl(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=CFe(e,"string");return Up(t)=="symbol"?t:t+""}function CFe(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Da=function(e){function t(){var r;SFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=TFe(this,t,[].concat(a)),pl(r,"state",{isAnimationFinished:!0,totalLength:0}),pl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),pl(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),d=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(i0(l.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(i0(t.repeat(l,u)),i0(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),pl(r,"id",uy("recharts-line-")),pl(r,"pathRef",function(s){r.mainCurve=s}),pl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return kFe(t,e),AFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Bo(u,gy);if(!d)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:fo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(Ea,p,d.map(function(g){return Ue.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=Zr(this.props,!1),h=Zr(l,!0),p=c.map(function(m,v){var y=Js(Js(Js({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(Ea,av({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=eR(o,gFe),h=Js(Js(Js({},Zr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ue.createElement(jT,av({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,b=y.totalLength;return Ue.createElement(uu,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(w){var j=w.length/o.length,T=o.map(function(N,k){var U=Math.floor(k*j);if(w[U]){var X=w[U],z=gl(X.x,N.x),G=gl(X.y,N.y);return Js(Js({},N),{},{x:z(P),y:G(P)})}if(g){var V=gl(m*2,N.x),W=gl(v/2,N.y);return Js(Js({},N),{},{x:V(P),y:W(P)})}return Js(Js({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var _=gl(0,b),S=_(P),O;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=i.getStrokeDasharray(S,b,E)}else O=i.generateSimpleStrokeDasharray(b,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!a_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,b=un("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,j=D||P,T=zr(v)?this.id:v,_=(n=Zr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=_.r,O=S===void 0?3:S,E=_.strokeWidth,N=E===void 0?2:E,k=zwe(s)?s:{},U=k.clipDot,X=U===void 0?!0:U,z=O*2+N;return Ue.createElement(Ea,{className:b},D||P?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(T)},Ue.createElement("rect",{x:D?h:h-p/2,y:P?d:d-g/2,width:D?p:p*2,height:P?g:g*2})),!X&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ue.createElement("rect",{x:h-z/2,y:d-z/2,width:p+z,height:g+z}))):null,!w&&this.renderCurve(j,T),this.renderErrorBar(j,T),(w||s)&&this.renderDots(j,X,T),(!m||y)&&If.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(i0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(i0(s),i0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ue.isValidElement(n))i=Ue.cloneElement(n,a);else if(Br(n))i=n(a);else{var s=a.key,o=eR(a,vFe),l=un("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ue.createElement(xP,av({key:s},o,{className:l}))}return i}}])}(F.PureComponent);pl(Da,"displayName","Line");pl(Da,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pl(Da,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var g=fo(h,s);return u==="horizontal"?{x:MM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:zr(g)?null:n.scale(g),value:g,payload:h}:{x:zr(g)?null:r.scale(g),y:MM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Js({points:d,layout:u},c)});function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function PFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mK(n.key),n)}}function OFe(e,t,r){return t&&jFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IFe(e,t,r){return t=Ew(t),DFe(e,hK()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function DFe(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LFe(e)}function LFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function MFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(e,t)}function pK(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=RFe(e,"string");return Vp(t)=="symbol"?t:t+""}function RFe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function FFe(e){var t=e.xAxisId,r=SP(),n=AP(),a=ZG(t);return a==null?null:F.createElement(Sm,rE({},a,{className:un("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Fc(s,!0)}}))}var Gc=function(e){function t(){return PFe(this,t),IFe(this,t,arguments)}return MFe(t,e),OFe(t,[{key:"render",value:function(){return F.createElement(FFe,this.props)}}])}(F.Component);pK(Gc,"displayName","XAxis");pK(Gc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yK(n.key),n)}}function UFe(e,t,r){return t&&BFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VFe(e,t,r){return t=Nw(t),zFe(e,gK()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function zFe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qFe(e)}function qFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function WFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function vK(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=HFe(e,"string");return zp(t)=="symbol"?t:t+""}function HFe(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}var GFe=function(t){var r=t.yAxisId,n=SP(),a=AP(),i=eK(r);return i==null?null:F.createElement(Sm,aE({},i,{className:un("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Fc(o,!0)}}))},Kc=function(e){function t(){return $Fe(this,t),VFe(this,t,arguments)}return WFe(t,e),UFe(t,[{key:"render",value:function(){return F.createElement(GFe,this.props)}}])}(F.Component);vK(Kc,"displayName","YAxis");vK(Kc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nR(e){return QFe(e)||XFe(e)||YFe(e)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YFe(e,t){if(e){if(typeof e=="string")return iE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iE(e,t)}}function XFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QFe(e){if(Array.isArray(e))return iE(e)}function iE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sE=function(t,r,n,a,i){var s=Bo(t,EP),o=Bo(t,f_),l=[].concat(nR(s),nR(o)),c=Bo(t,h_),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&ac(v.props,"extendDomain")&&Ut(v.props[d])){var y=v.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&ac(v.props,"extendDomain")&&Ut(v.props[p])&&Ut(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Ut(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},xK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var D=v.length,P;for(b=0;b<D;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,h);break;default:if(!w)for(P=1,w=new Array(y-1);P<y;P++)w[P-1]=arguments[P];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(xK);var JFe=xK.exports;const ZFe=kn(JFe);var bA=new ZFe,wA="recharts.syncMouseEvents";function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function e$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bK(n.key),n)}}function r$e(e,t,r){return t&&t$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _A(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=n$e(e,"string");return I1(t)=="symbol"?t:t+""}function n$e(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a$e=function(){function e(){e$e(this,e),_A(this,"activeIndex",0),_A(this,"coordinateList",[]),_A(this,"layout","horizontal")}return r$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function i$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ut(n)&&Ut(a))return!0}return!1}function s$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ti(t,r,n,a),o=Ti(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function o$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Ti(o,l,c,d),p=Ti(o,l,u,d);n=h.x,a=h.y,i=p.x,s=p.y}else return wK(t);return[{x:n,y:a},{x:i,y:s}]}function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){l$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$e(e,t,r){return t=c$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$e(e){var t=u$e(e,"string");return D1(t)=="symbol"?t:t+""}function u$e(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=jT;if(h==="ScatterChart")g=s,m=uLe;else if(h==="BarChart")g=s$e(d,s,l,u),m=yP;else if(d==="radial"){var v=wK(s),y=v.cx,w=v.cy,b=v.radius,D=v.startAngle,P=v.endAngle;g={cx:y,cy:w,startAngle:D,endAngle:P,innerRadius:b,outerRadius:b},m=TG}else g={points:o$e(d,s,l)},m=jT;var j=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},l),g),Zr(p,!1)),{},{payload:o,payloadIndex:c,className:un("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,j):F.createElement(m,j)}var d$e=["item"],h$e=["children","className","width","height","style","compact","title","desc"];function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function iR(e,t){return g$e(e)||m$e(e,t)||SK(e,t)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function g$e(e){if(Array.isArray(e))return e}function sR(e,t){if(e==null)return{};var r=v$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AK(n.key),n)}}function b$e(e,t,r){return t&&x$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w$e(e,t,r){return t=kw(t),_$e(e,_K()?Reflect.construct(t,r||[],kw(e).constructor):t.apply(e,r))}function _$e(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S$e(e)}function S$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(e)}function A$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oE(e,t)}function Wp(e){return N$e(e)||E$e(e)||SK(e)||T$e()}function T$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SK(e,t){if(e){if(typeof e=="string")return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}}function E$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N$e(e){if(Array.isArray(e))return lE(e)}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vr(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=k$e(e,"string");return qp(t)=="symbol"?t:t+""}function k$e(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C$e={xAxis:["bottom","top"],yAxis:["left","right"]},P$e={width:"100%",height:"100%"},TK={x:0,y:0};function Fx(e){return e}var j$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},O$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ft(ft(ft({},a),Ti(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ft(ft(ft({},a),Ti(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return TK},p_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Wp(o),Wp(c)):o},[]);return s.length>0?s:t&&t.length&&Ut(a)&&Ut(i)?t.slice(a,i+1):[]};function EK(e){return e==="number"?[0,"auto"]:void 0}var cE=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=p_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Pb(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(Wp(l),[_G(c,h)]):l},[])},lR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=j$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=HOe(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=cE(t,r,u,d),p=O$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},I$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=xG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?ft(ft({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,D=y.allowDataOverflow,P=y.allowDuplicatedCategory,j=y.scale,T=y.ticks,_=y.includeHidden,S=y[s];if(g[S])return g;var O=p_(t.data,{graphicalItems:a.filter(function(I){var M,q=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s];return q===S}),dataStartIndex:l,dataEndIndex:c}),E=O.length,N,k,U;i$e(y.domain,D,w)&&(N=ET(y.domain,null,D),p&&(w==="number"||j!=="auto")&&(U=rv(O,b,"category")));var X=EK(w);if(!N||N.length===0){var z,G=(z=y.domain)!==null&&z!==void 0?z:X;if(b){if(N=rv(O,b,w),w==="category"&&p){var V=Iwe(N);P&&V?(k=N,N=mw(0,E)):P||(N=BM(G,N,m).reduce(function(I,M){return I.indexOf(M)>=0?I:[].concat(Wp(I),[M])},[]))}else if(w==="category")P?N=N.filter(function(I){return I!==""&&!zr(I)}):N=BM(G,N,m).reduce(function(I,M){return I.indexOf(M)>=0||M===""||zr(M)?I:[].concat(Wp(I),[M])},[]);else if(w==="number"){var W=QOe(O,a.filter(function(I){var M,q,Y=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s],J="hide"in I.props?I.props.hide:(q=I.type.defaultProps)===null||q===void 0?void 0:q.hide;return Y===S&&(_||!J)}),b,i,u);W&&(N=W)}p&&(w==="number"||j!=="auto")&&(U=rv(O,b,"category"))}else p?N=mw(0,E):o&&o[S]&&o[S].hasStack&&w==="number"?N=h==="expand"?[0,1]:wG(o[S].stackGroups,l,c):N=yG(O,a.filter(function(I){var M=s in I.props?I.props[s]:I.type.defaultProps[s],q="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return M===S&&(_||!q)}),w,u,!0);if(w==="number")N=sE(d,N,S,i,T),G&&(N=ET(G,N,D));else if(w==="category"&&G){var te=G,Z=N.every(function(I){return te.indexOf(I)>=0});Z&&(N=te)}}return ft(ft({},g),{},vr({},S,ft(ft({},y),{},{axisType:i,domain:N,categoricalDomain:U,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:p,layout:u})))},{})},D$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=p_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=xG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?ft(ft({},y.type.defaultProps),y.props):y.props,b=w[s],D=EK("number");if(!v[b]){m++;var P;return g?P=mw(0,p):o&&o[b]&&o[b].hasStack?(P=wG(o[b].stackGroups,l,c),P=sE(d,P,b,i)):(P=ET(D,yG(h,n.filter(function(j){var T,_,S=s in j.props?j.props[s]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[s],O="hide"in j.props?j.props.hide:(_=j.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===b&&!O}),"number",u),a.defaultProps.allowDataOverflow),P=sE(d,P,b,i)),ft(ft({},v),{},vr({},b,ft(ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:$o(C$e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return v},{})},L$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=Bo(u,i),p={};return h&&h.length?p=I$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=D$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},M$e=function(t){var r=sf(t),n=Fc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:WC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sw(r,n)}},cR=function(t){var r=t.children,n=t.defaultShowTooltip,a=to(r,Lp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},R$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=zc(r&&r.type);return n&&n.indexOf("Bar")>=0})},uR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=to(d,Lp),g=to(d,Uo),m=Object.keys(l).reduce(function(P,j){var T=l[j],_=T.orientation;return!T.mirror&&!T.hide?ft(ft({},P),{},vr({},_,P[_]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,j){var T=s[j],_=T.orientation;return!T.mirror&&!T.hide?ft(ft({},P),{},vr({},_,$o(P,"".concat(_))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=ft(ft({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||Lp.defaultProps.height),g&&r&&(y=YOe(y,a,n,r));var b=c-y.left-y.right,D=u-y.top-y.bottom;return ft(ft({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(D,0)})},$$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},B$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,w){var b=w.graphicalItems,D=w.stackGroups,P=w.offset,j=w.updateId,T=w.dataStartIndex,_=w.dataEndIndex,S=y.barSize,O=y.layout,E=y.barGap,N=y.barCategoryGap,k=y.maxBarSize,U=uR(O),X=U.numericAxisName,z=U.cateAxisName,G=R$e(b),V=[];return b.forEach(function(W,te){var Z=p_(y.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:_}),I=W.type.defaultProps!==void 0?ft(ft({},W.type.defaultProps),W.props):W.props,M=I.dataKey,q=I.maxBarSize,Y=I["".concat(X,"Id")],J=I["".concat(z,"Id")],ie={},fe=l.reduce(function(we,Fe){var Te=w["".concat(Fe.axisType,"Map")],Oe=I["".concat(Fe.axisType,"Id")];Te&&Te[Oe]||Fe.axisType==="zAxis"||gh();var qe=Te[Oe];return ft(ft({},we),{},vr(vr({},Fe.axisType,qe),"".concat(Fe.axisType,"Ticks"),Fc(qe)))},ie),ae=fe[z],ge=fe["".concat(z,"Ticks")],ye=D&&D[Y]&&D[Y].hasStack&&cIe(W,D[Y].stackGroups),H=zc(W.type).indexOf("Bar")>=0,ke=sw(ae,ge),Ce=[],Se=G&&GOe({barSize:S,stackGroups:D,totalSize:$$e(fe,z)});if(H){var le,Me,We=zr(q)?k:q,Ie=(le=(Me=sw(ae,ge,!0))!==null&&Me!==void 0?Me:We)!==null&&le!==void 0?le:0;Ce=KOe({barGap:E,barCategoryGap:N,bandSize:Ie!==ke?Ie:ke,sizeList:Se[J],maxBarSize:We}),Ie!==ke&&(Ce=Ce.map(function(we){return ft(ft({},we),{},{position:ft(ft({},we.position),{},{offset:we.position.offset-Ie/2})})}))}var Ye=W&&W.type&&W.type.getComposedData;Ye&&V.push({props:ft(ft({},Ye(ft(ft({},fe),{},{displayedData:Z,props:y,dataKey:M,item:W,bandSize:ke,barPosition:Ce,offset:P,stackedData:ye,layout:O,dataStartIndex:T,dataEndIndex:_}))),{},vr(vr(vr({key:W.key||"item-".concat(te)},X,fe[X]),z,fe[z]),"animationId",j)),childIndex:Hwe(W,y.children),item:W})}),V},p=function(y,w){var b=y.props,D=y.dataStartIndex,P=y.dataEndIndex,j=y.updateId;if(!I8({props:b}))return null;var T=b.children,_=b.layout,S=b.stackOffset,O=b.data,E=b.reverseStackOrder,N=uR(_),k=N.numericAxisName,U=N.cateAxisName,X=Bo(T,n),z=sIe(O,X,"".concat(k,"Id"),"".concat(U,"Id"),S,E),G=l.reduce(function(I,M){var q="".concat(M.axisType,"Map");return ft(ft({},I),{},vr({},q,L$e(b,ft(ft({},M),{},{graphicalItems:X,stackGroups:M.axisType===k&&z,dataStartIndex:D,dataEndIndex:P}))))},{}),V=F$e(ft(ft({},G),{},{props:b,graphicalItems:X}),w==null?void 0:w.legendBBox);Object.keys(G).forEach(function(I){G[I]=u(b,G[I],V,I.replace("Map",""),r)});var W=G["".concat(U,"Map")],te=M$e(W),Z=h(b,ft(ft({},G),{},{dataStartIndex:D,dataEndIndex:P,updateId:j,graphicalItems:X,stackGroups:z,offset:V}));return ft(ft({formattedGraphicalItems:Z,graphicalItems:X,offset:V,stackGroups:z},te),G)},g=function(v){function y(w){var b,D,P;return y$e(this,y),P=w$e(this,y,[w]),vr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vr(P,"accessibilityManager",new a$e),vr(P,"handleLegendBBoxUpdate",function(j){if(j){var T=P.state,_=T.dataStartIndex,S=T.dataEndIndex,O=T.updateId;P.setState(ft({legendBBox:j},p({props:P.props,dataStartIndex:_,dataEndIndex:S,updateId:O},ft(ft({},P.state),{},{legendBBox:j}))))}}),vr(P,"handleReceiveSyncEvent",function(j,T,_){if(P.props.syncId===j){if(_===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),vr(P,"handleBrushChange",function(j){var T=j.startIndex,_=j.endIndex;if(T!==P.state.dataStartIndex||_!==P.state.dataEndIndex){var S=P.state.updateId;P.setState(function(){return ft({dataStartIndex:T,dataEndIndex:_},p({props:P.props,dataStartIndex:T,dataEndIndex:_,updateId:S},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:_})}}),vr(P,"handleMouseEnter",function(j){var T=P.getMouseInfo(j);if(T){var _=ft(ft({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseEnter;Br(S)&&S(_,j)}}),vr(P,"triggeredAfterMouseMove",function(j){var T=P.getMouseInfo(j),_=T?ft(ft({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseMove;Br(S)&&S(_,j)}),vr(P,"handleItemMouseEnter",function(j){P.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),vr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),vr(P,"handleMouseMove",function(j){j.persist(),P.throttleTriggeredAfterMouseMove(j)}),vr(P,"handleMouseLeave",function(j){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var _=P.props.onMouseLeave;Br(_)&&_(T,j)}),vr(P,"handleOuterEvent",function(j){var T=Wwe(j),_=$o(P.props,"".concat(T));if(T&&Br(_)){var S,O;/.*touch.*/i.test(T)?O=P.getMouseInfo(j.changedTouches[0]):O=P.getMouseInfo(j),_((S=O)!==null&&S!==void 0?S:{},j)}}),vr(P,"handleClick",function(j){var T=P.getMouseInfo(j);if(T){var _=ft(ft({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onClick;Br(S)&&S(_,j)}}),vr(P,"handleMouseDown",function(j){var T=P.props.onMouseDown;if(Br(T)){var _=P.getMouseInfo(j);T(_,j)}}),vr(P,"handleMouseUp",function(j){var T=P.props.onMouseUp;if(Br(T)){var _=P.getMouseInfo(j);T(_,j)}}),vr(P,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),vr(P,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseDown(j.changedTouches[0])}),vr(P,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseUp(j.changedTouches[0])}),vr(P,"handleDoubleClick",function(j){var T=P.props.onDoubleClick;if(Br(T)){var _=P.getMouseInfo(j);T(_,j)}}),vr(P,"handleContextMenu",function(j){var T=P.props.onContextMenu;if(Br(T)){var _=P.getMouseInfo(j);T(_,j)}}),vr(P,"triggerSyncEvent",function(j){P.props.syncId!==void 0&&bA.emit(wA,P.props.syncId,j,P.eventEmitterSymbol)}),vr(P,"applySyncEvent",function(j){var T=P.props,_=T.layout,S=T.syncMethod,O=P.state.updateId,E=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)P.setState(ft({dataStartIndex:E,dataEndIndex:N},p({props:P.props,dataStartIndex:E,dataEndIndex:N,updateId:O},P.state)));else if(j.activeTooltipIndex!==void 0){var k=j.chartX,U=j.chartY,X=j.activeTooltipIndex,z=P.state,G=z.offset,V=z.tooltipTicks;if(!G)return;if(typeof S=="function")X=S(V,j);else if(S==="value"){X=-1;for(var W=0;W<V.length;W++)if(V[W].value===j.activeLabel){X=W;break}}var te=ft(ft({},G),{},{x:G.left,y:G.top}),Z=Math.min(k,te.x+te.width),I=Math.min(U,te.y+te.height),M=V[X]&&V[X].value,q=cE(P.state,P.props.data,X),Y=V[X]?{x:_==="horizontal"?V[X].coordinate:Z,y:_==="horizontal"?I:V[X].coordinate}:TK;P.setState(ft(ft({},j),{},{activeLabel:M,activeCoordinate:Y,activePayload:q,activeTooltipIndex:X}))}else P.setState(j)}),vr(P,"renderCursor",function(j){var T,_=P.state,S=_.isTooltipActive,O=_.activeCoordinate,E=_.activePayload,N=_.offset,k=_.activeTooltipIndex,U=_.tooltipAxisBandSize,X=P.getTooltipEventType(),z=(T=j.props.active)!==null&&T!==void 0?T:S,G=P.props.layout,V=j.key||"_recharts-cursor";return Ue.createElement(f$e,{key:V,activeCoordinate:O,activePayload:E,activeTooltipIndex:k,chartName:r,element:j,isActive:z,layout:G,offset:N,tooltipAxisBandSize:U,tooltipEventType:X})}),vr(P,"renderPolarAxis",function(j,T,_){var S=$o(j,"type.axisType"),O=$o(P.state,"".concat(S,"Map")),E=j.type.defaultProps,N=E!==void 0?ft(ft({},E),j.props):j.props,k=O&&O[N["".concat(S,"Id")]];return F.cloneElement(j,ft(ft({},k),{},{className:un(S,k.className),key:j.key||"".concat(T,"-").concat(_),ticks:Fc(k,!0)}))}),vr(P,"renderPolarGrid",function(j){var T=j.props,_=T.radialLines,S=T.polarAngles,O=T.polarRadius,E=P.state,N=E.radiusAxisMap,k=E.angleAxisMap,U=sf(N),X=sf(k),z=X.cx,G=X.cy,V=X.innerRadius,W=X.outerRadius;return F.cloneElement(j,{polarAngles:Array.isArray(S)?S:Fc(X,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(O)?O:Fc(U,!0).map(function(te){return te.coordinate}),cx:z,cy:G,innerRadius:V,outerRadius:W,key:j.key||"polar-grid",radialLines:_})}),vr(P,"renderLegend",function(){var j=P.state.formattedGraphicalItems,T=P.props,_=T.children,S=T.width,O=T.height,E=P.props.margin||{},N=S-(E.left||0)-(E.right||0),k=gG({children:_,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!k)return null;var U=k.item,X=sR(k,d$e);return F.cloneElement(U,ft(ft({},X),{},{chartWidth:S,chartHeight:O,margin:E,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),vr(P,"renderTooltip",function(){var j,T=P.props,_=T.children,S=T.accessibilityLayer,O=to(_,ps);if(!O)return null;var E=P.state,N=E.isTooltipActive,k=E.activeCoordinate,U=E.activePayload,X=E.activeLabel,z=E.offset,G=(j=O.props.active)!==null&&j!==void 0?j:N;return F.cloneElement(O,{viewBox:ft(ft({},z),{},{x:z.left,y:z.top}),active:G,label:X,payload:G?U:[],coordinate:k,accessibilityLayer:S})}),vr(P,"renderBrush",function(j){var T=P.props,_=T.margin,S=T.data,O=P.state,E=O.offset,N=O.dataStartIndex,k=O.dataEndIndex,U=O.updateId;return F.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ix(P.handleBrushChange,j.props.onChange),data:S,x:Ut(j.props.x)?j.props.x:E.left,y:Ut(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Ut(j.props.width)?j.props.width:E.width,startIndex:N,endIndex:k,updateId:"brush-".concat(U)})}),vr(P,"renderReferenceElement",function(j,T,_){if(!j)return null;var S=P,O=S.clipPathId,E=P.state,N=E.xAxisMap,k=E.yAxisMap,U=E.offset,X=j.type.defaultProps||{},z=j.props,G=z.xAxisId,V=G===void 0?X.xAxisId:G,W=z.yAxisId,te=W===void 0?X.yAxisId:W;return F.cloneElement(j,{key:j.key||"".concat(T,"-").concat(_),xAxis:N[V],yAxis:k[te],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:O})}),vr(P,"renderActivePoints",function(j){var T=j.item,_=j.activePoint,S=j.basePoint,O=j.childIndex,E=j.isRange,N=[],k=T.props.key,U=T.item.type.defaultProps!==void 0?ft(ft({},T.item.type.defaultProps),T.item.props):T.item.props,X=U.activeDot,z=U.dataKey,G=ft(ft({index:O,dataKey:z,cx:_.x,cy:_.y,r:4,fill:vP(T.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Zr(X,!1)),jb(X));return N.push(y.renderActiveDot(X,G,"".concat(k,"-activePoint-").concat(O))),S?N.push(y.renderActiveDot(X,ft(ft({},G),{},{cx:S.x,cy:S.y}),"".concat(k,"-basePoint-").concat(O))):E&&N.push(null),N}),vr(P,"renderGraphicChild",function(j,T,_){var S=P.filterFormatItem(j,T,_);if(!S)return null;var O=P.getTooltipEventType(),E=P.state,N=E.isTooltipActive,k=E.tooltipAxis,U=E.activeTooltipIndex,X=E.activeLabel,z=P.props.children,G=to(z,ps),V=S.props,W=V.points,te=V.isRange,Z=V.baseLine,I=S.item.type.defaultProps!==void 0?ft(ft({},S.item.type.defaultProps),S.item.props):S.item.props,M=I.activeDot,q=I.hide,Y=I.activeBar,J=I.activeShape,ie=!!(!q&&N&&G&&(M||Y||J)),fe={};O!=="axis"&&G&&G.props.trigger==="click"?fe={onClick:Ix(P.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(fe={onMouseLeave:Ix(P.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ix(P.handleItemMouseEnter,j.props.onMouseEnter)});var ae=F.cloneElement(j,ft(ft({},S.props),fe));function ge(Fe){return typeof k.dataKey=="function"?k.dataKey(Fe.payload):null}if(ie)if(U>=0){var ye,H;if(k.dataKey&&!k.allowDuplicatedCategory){var ke=typeof k.dataKey=="function"?ge:"payload.".concat(k.dataKey.toString());ye=Pb(W,ke,X),H=te&&Z&&Pb(Z,ke,X)}else ye=W==null?void 0:W[U],H=te&&Z&&Z[U];if(J||Y){var Ce=j.props.activeIndex!==void 0?j.props.activeIndex:U;return[F.cloneElement(j,ft(ft(ft({},S.props),fe),{},{activeIndex:Ce})),null,null]}if(!zr(ye))return[ae].concat(Wp(P.renderActivePoints({item:S,activePoint:ye,basePoint:H,childIndex:U,isRange:te})))}else{var Se,le=(Se=P.getItemByXY(P.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:ae},Me=le.graphicalItem,We=Me.item,Ie=We===void 0?j:We,Ye=Me.childIndex,we=ft(ft(ft({},S.props),fe),{},{activeIndex:Ye});return[F.cloneElement(Ie,we),null,null]}return te?[ae,null,null]:[ae,null]}),vr(P,"renderCustomized",function(j,T,_){return F.cloneElement(j,ft(ft({key:"recharts-customized-".concat(_)},P.props),P.state))}),vr(P,"renderMap",{CartesianGrid:{handler:Fx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Fx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Fx},YAxis:{handler:Fx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:uy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=mH(P.triggeredAfterMouseMove,(D=w.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return A$e(y,v),b$e(y,[{key:"componentDidMount",value:function(){var b,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,D=b.children,P=b.data,j=b.height,T=b.layout,_=to(D,ps);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,E=cE(this.state,P,S,O),N=this.state.tooltipTicks[S].coordinate,k=(this.state.offset.top+j)/2,U=T==="horizontal",X=U?{x:N,y:k}:{y:N,x:k},z=this.state.formattedGraphicalItems.find(function(V){var W=V.item;return W.type.name==="Scatter"});z&&(X=ft(ft({},X),z.props.points[S].tooltipPosition),E=z.props.points[S].tooltipPayload);var G={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:O,activePayload:E,activeCoordinate:X};this.setState(G),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var P,j;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){U3([to(b.children,ps)],[to(this.props.children,ps)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=to(this.props.children,ps);if(b&&typeof b.props.shared=="boolean"){var D=b.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),j=yCe(P),T={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},_=P.width/D.offsetWidth||1,S=this.inRange(T.chartX,T.chartY,_);if(!S)return null;var O=this.state,E=O.xAxisMap,N=O.yAxisMap,k=this.getTooltipEventType(),U=lR(this.state,this.props.data,this.props.layout,S);if(k!=="axis"&&E&&N){var X=sf(E).scale,z=sf(N).scale,G=X&&X.invert?X.invert(T.chartX):null,V=z&&z.invert?z.invert(T.chartY):null;return ft(ft({},T),{},{xValue:G,yValue:V},U)}return U?ft(ft({},T),U):null}},{key:"inRange",value:function(b,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=b/P,_=D/P;if(j==="horizontal"||j==="vertical"){var S=this.state.offset,O=T>=S.left&&T<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return O?{x:T,y:_}:null}var E=this.state,N=E.angleAxisMap,k=E.radiusAxisMap;if(N&&k){var U=sf(N);return zM({x:T,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,D=this.getTooltipEventType(),P=to(b,ps),j={};P&&D==="axis"&&(P.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=jb(this.props,this.handleOuterEvent);return ft(ft({},T),j)}},{key:"addListener",value:function(){bA.on(wA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bA.removeListener(wA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,D,P){for(var j=this.state.formattedGraphicalItems,T=0,_=j.length;T<_;T++){var S=j[T];if(S.item===b||S.props.key===b.key||D===zc(S.item.type)&&P===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,D=this.state.offset,P=D.left,j=D.top,T=D.height,_=D.width;return Ue.createElement("defs",null,Ue.createElement("clipPath",{id:b},Ue.createElement("rect",{x:P,y:j,height:T,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(D,P){var j=iR(P,2),T=j[0],_=j[1];return ft(ft({},D),{},vr({},T,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(D,P){var j=iR(P,2),T=j[0],_=j[1];return ft(ft({},D),{},vr({},T,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(b){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(b){var D=this.state,P=D.formattedGraphicalItems,j=D.activeItem;if(P&&P.length)for(var T=0,_=P.length;T<_;T++){var S=P[T],O=S.props,E=S.item,N=E.type.defaultProps!==void 0?ft(ft({},E.type.defaultProps),E.props):E.props,k=zc(E.type);if(k==="Bar"){var U=(O.data||[]).find(function(V){return eLe(b,V)});if(U)return{graphicalItem:S,payload:U}}else if(k==="RadialBar"){var X=(O.data||[]).find(function(V){return zM(b,V)});if(X)return{graphicalItem:S,payload:X}}else if(o_(S,j)||l_(S,j)||k1(S,j)){var z=nMe({graphicalItem:S,activeTooltipItem:j,itemData:N.data}),G=N.activeIndex===void 0?z:N.activeIndex;return{graphicalItem:ft(ft({},S),{},{childIndex:G}),payload:k1(S,j)?N.data[z]:S.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!I8(this))return null;var D=this.props,P=D.children,j=D.className,T=D.width,_=D.height,S=D.style,O=D.compact,E=D.title,N=D.desc,k=sR(D,h$e),U=Zr(k,!1);if(O)return Ue.createElement(U7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement(z3,D0({},U,{width:T,height:_,title:E,desc:N}),this.renderClipPath(),L8(P,this.renderMap)));if(this.props.accessibilityLayer){var X,z;U.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){b.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return Ue.createElement(U7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement("div",D0({className:un("recharts-wrapper",j),style:ft({position:"relative",cursor:"default",width:T,height:_},S)},G,{ref:function(W){b.container=W}}),Ue.createElement(z3,D0({},U,{width:T,height:_,title:E,desc:N,style:P$e}),this.renderClipPath(),L8(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);vr(g,"displayName",r),vr(g,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),vr(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,D=v.children,P=v.width,j=v.height,T=v.layout,_=v.stackOffset,S=v.margin,O=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=cR(v);return ft(ft(ft({},N),{},{updateId:0},p(ft(ft({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(w!==y.prevDataKey||b!==y.prevData||P!==y.prevWidth||j!==y.prevHeight||T!==y.prevLayout||_!==y.prevStackOffset||!G0(S,y.prevMargin)){var k=cR(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=ft(ft({},lR(y,b,T)),{},{updateId:y.updateId+1}),z=ft(ft(ft({},k),U),X);return ft(ft(ft({},z),p(ft({props:v},z),y)),{},{prevDataKey:w,prevData:b,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(!U3(D,y.prevChildren)){var G,V,W,te,Z=to(D,Lp),I=Z&&(G=(V=Z.props)===null||V===void 0?void 0:V.startIndex)!==null&&G!==void 0?G:O,M=Z&&(W=(te=Z.props)===null||te===void 0?void 0:te.endIndex)!==null&&W!==void 0?W:E,q=I!==O||M!==E,Y=!zr(b),J=Y&&!q?y.updateId:y.updateId+1;return ft(ft({updateId:J},p(ft(ft({props:v},y),{},{updateId:J,dataStartIndex:I,dataEndIndex:M}),y)),{},{prevChildren:D,dataStartIndex:I,dataEndIndex:M})}return null}),vr(g,"renderActiveDot",function(v,y,w){var b;return F.isValidElement(v)?b=F.cloneElement(v,y):Br(v)?b=v(y):b=Ue.createElement(xP,y),Ue.createElement(Ea,{className:"recharts-active-dot",key:w},b)});var m=F.forwardRef(function(y,w){return Ue.createElement(g,D0({},y,{ref:w}))});return m.displayName=g.displayName,m},Q0=B$e({chartName:"LineChart",GraphicalChild:Da,axisComponents:[{axisType:"xAxis",AxisComp:Gc},{axisType:"yAxis",AxisComp:Kc}],formatAxisMap:k7e});const U$e=()=>{const{isDarkMode:e}=an(),{showToast:t}=cc(),{user:r}=ga(),[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState([]),[d,h]=F.useState([]),[p,g]=F.useState(null),[m,v]=F.useState(null),[y,w]=F.useState(null),[b,D]=F.useState(!1),[P,j]=F.useState(!1),[T,_]=F.useState(!1),[S,O]=F.useState(!1),[E,N]=F.useState(!1),[k,U]=F.useState(""),[X,z]=F.useState(!1),[G,V]=F.useState(null),[W,te]=F.useState(null),[Z,I]=F.useState(0),[M,q]=F.useState(new Set),[Y,J]=F.useState(!1),[ie,fe]=F.useState(!1),[ae,ge]=F.useState(0),[ye,H]=F.useState(new Set),[ke,Ce]=F.useState(new Set),[Se,le]=F.useState(!1),[Me,We]=F.useState(""),[Ie,Ye]=F.useState([]),[we,Fe]=F.useState(!1),[Te,Oe]=F.useState("name"),[qe,nt]=F.useState(!1),[ot,xt]=F.useState(null),[ht,mt]=F.useState(null),[ct,Zt]=F.useState("all"),[Ht,Rr]=F.useState(""),[Ir,Wr]=F.useState([]),[Pe,Re]=F.useState(()=>{const se=new Date;return se.setHours(0,0,0,0),se}),[rt,vt]=F.useState(""),[Nt,Kt]=F.useState(()=>{const se=new Date,Ee=new Date;return Ee.setDate(Ee.getDate()-6),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),{start:Ee,end:se}}),[Ft,Dt]=F.useState({dailyStats:[],userStats:[]}),[rr,gr]=F.useState(!1),[or,Tr]=F.useState({workerStats:[],dailyProductivity:[]}),[An,Yt]=F.useState(!1),[Mn,Rn]=F.useState(()=>{const se=new Date,Ee=new Date;return Ee.setDate(Ee.getDate()-30),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),{start:Ee,end:se}}),Ne=se=>{const Ee=new Date,St=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate());return se.createdAt<St&&se.status==="completed"},it=se=>{if(!ot&&!ht)return!0;const Ee=se.createdAt;return ot&&ht?Ee>=ot&&Ee<=ht:ot?Ee>=ot:ht?Ee<=ht:!0},ut=()=>{const se=new Set(i.map(Ee=>Ee.createdBy));return Array.from(se).sort()},ee=se=>ct==="all"?!0:se.createdBy===ct,ve=se=>{if(!Ht.trim())return!0;const Ee=Ht.toLowerCase().trim();return se.jobId.toLowerCase().includes(Ee)?!0:se.items.some(St=>St.name&&St.name.toLowerCase().includes(Ee))},he=i.filter(se=>P?Ne(se)&&it(se)&&ee(se)&&ve(se):b?se.status==="completed"&&!Ne(se):T?se.status==="picking":se.status!=="completed"),me=()=>{const se=i.filter(St=>St.status==="picking"),Ee=Ir.filter(St=>St.isActive);return{databaseJobs:se,uiSessions:Ee,totalCount:se.length+Ee.length}},xe=F.useCallback(async()=>{try{const se=new Date(Date.now()-36e5),Ee=lr(wt(Xe,"liveJobSessions"),sr("startTime","<",se)),St=await ur(Ee),$t=[];if(St.forEach(pt=>{(pt.data().items||[]).length===0&&$t.push(pt.id)}),$t.length>0){const pt=$t.map(dt=>Ms(Sr(Xe,"liveJobSessions",dt)));await Promise.all(pt)}}catch(se){console.log("error",se)}},[]),_e=F.useCallback(async()=>{console.log("Starting productivity data generation..."),Yt(!0);try{const{start:se,end:Ee}=Mn,St=i.filter(Lt=>{const Et=Lt.createdAt;return Et>=se&&Et<=Ee&&Lt.status==="completed"}),$t=new Map;St.forEach(Lt=>{if(!Lt.picker)return;const Et=Lt.picker,ar=$t.get(Et)||{totalJobs:0,completedJobs:0,totalPickingTime:0,totalItems:0,pickingTimes:[]};ar.totalJobs++,Lt.status==="completed"&&ar.completedJobs++,Lt.pickingTime&&Lt.pickingTime>0&&(ar.totalPickingTime+=Lt.pickingTime,ar.pickingTimes.push(Lt.pickingTime)),ar.totalItems+=Lt.items.reduce((Nr,pr)=>Nr+pr.quantity,0),$t.set(Et,ar)});const pt=Array.from($t.entries()).map(([Lt,Et])=>{const ar=Et.pickingTimes.length>0?Et.pickingTimes.reduce((Fn,Pn)=>Fn+Pn,0)/Et.pickingTimes.length:0,Nr=Et.totalPickingTime>0?Et.totalItems/(Et.totalPickingTime/60):0;let pr;return Nr>=10?pr="excellent":Nr>=7?pr="good":Nr>=4?pr="average":pr="needs_improvement",{name:Lt,totalJobs:Et.totalJobs,completedJobs:Et.completedJobs,avgPickingTime:Math.round(ar),totalPickingTime:Et.totalPickingTime,itemsPicked:Et.totalItems,efficiency:Math.round(Nr*100)/100,performance:pr}}).sort((Lt,Et)=>Et.efficiency-Lt.efficiency),dt=[],Ot=new Date(se);for(;Ot<=Ee;){const Lt=new Date(Ot);Lt.setHours(0,0,0,0);const Et=new Date(Ot);Et.setHours(23,59,59,999);const ar=St.filter(Pn=>{const Gr=Pn.createdAt;return Gr>=Lt&&Gr<=Et}),Nr=ar.reduce((Pn,Gr)=>Pn+Gr.items.reduce((Tn,ei)=>Tn+ei.quantity,0),0),pr=ar.filter(Pn=>Pn.pickingTime&&Pn.pickingTime>0).map(Pn=>Pn.pickingTime),Fn=pr.length>0?pr.reduce((Pn,Gr)=>Pn+Gr,0)/pr.length:0;dt.push({date:Ot.toISOString().split("T")[0],totalJobs:ar.length,avgPickingTime:Math.round(Fn),totalItems:Nr}),Ot.setDate(Ot.getDate()+1)}Tr({workerStats:pt,dailyProductivity:dt}),await new Promise(Lt=>setTimeout(Lt,500)),console.log("Productivity data generation completed")}catch(se){console.error("Error generating productivity data:",se),t("Failed to generate productivity data","error")}finally{Yt(!1)}},[i,Mn,t]),He=F.useCallback(async se=>{console.log("Starting reports generation..."),gr(!0);try{const Ee=new Date(se);Ee.setHours(0,0,0,0);const St=new Date(se);St.setHours(23,59,59,999);const $t=i.filter(Lt=>{const Et=Lt.createdAt;return Et>=Ee&&Et<=St}),pt=[];for(let Lt=6;Lt>=0;Lt--){const Et=new Date(se);Et.setDate(Et.getDate()-Lt);const ar=new Date(Et);ar.setHours(0,0,0,0);const Nr=new Date(Et);Nr.setHours(23,59,59,999);const pr=i.filter(Gr=>{const Tn=Gr.createdAt;return Tn>=ar&&Tn<=Nr}),Fn=pr.reduce((Gr,Tn)=>Gr+Tn.items.reduce((ei,Wn)=>ei+Wn.quantity,0),0),Pn=pr.filter(Gr=>Gr.status==="completed").length;pt.push({date:Et.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:Fn,jobsCompleted:Pn})}const dt=[],Ot=new Set($t.map(Lt=>Lt.createdBy));for(const Lt of Ot){const Et=$t.filter(Gr=>Gr.createdBy===Lt),ar=Et.filter(Gr=>Gr.status==="completed"),Nr=Et.reduce((Gr,Tn)=>Gr+Tn.items.reduce((ei,Wn)=>ei+Wn.quantity,0),0);let pr=0,Fn=0;ar.forEach(Gr=>{Gr.pickingTime&&Gr.pickingTime>0&&(pr+=Gr.pickingTime,Fn++)});const Pn=Fn>0?pr/Fn:0;dt.push({name:Lt,jobsCreated:Et.length,jobsCompleted:ar.length,itemsPicked:Nr,avgTimePerJob:Pn,totalTime:pr})}dt.sort((Lt,Et)=>Et.itemsPicked-Lt.itemsPicked),Dt({dailyStats:pt,userStats:dt}),await new Promise(Lt=>setTimeout(Lt,500)),console.log("Reports generation completed")}catch(Ee){console.log("error",Ee),t("Failed to generate reports","error")}finally{gr(!1)}},[i,t]),tt=async se=>{if(r)try{await mr(wt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:se,time:new Date().toISOString()})}catch(Ee){console.log("error",Ee)}},Ge=se=>{if(se<60)return`${Math.round(se)}s`;if(se<3600){const Ee=Math.floor(se/60),St=Math.round(se%60);return`${Ee}m ${St}s`}else{const Ee=Math.floor(se/3600),St=Math.floor(se%3600/60),$t=Math.round(se%60);return`${Ee}h ${St}m ${$t}s`}},Ke=F.useCallback(async()=>{a(!0),D(!1),j(!1),_(!1),O(!1),xt(null),mt(null),Zt("all"),H(new Set);try{const se=lr(wt(Xe,"jobs"),Fa("createdAt","desc")),St=(await ur(se)).docs.map(pt=>{const dt=pt.data();return{id:pt.id,jobId:dt.jobId||"",createdAt:dt.createdAt instanceof ir?dt.createdAt.toDate():new Date,createdBy:dt.createdBy||"Unknown",status:dt.status||"picking",picker:dt.picker??null,packer:dt.packer??null,items:Array.isArray(dt.items)?dt.items.map(Ot=>({barcode:String(Ot.barcode||""),name:Ot.name??null,asin:Ot.asin??null,quantity:Number(Ot.quantity||1),verified:!!Ot.verified,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,reason:Ot.reason||"Unknown",storeName:Ot.storeName||"Unknown"})):[],pickingTime:dt.pickingTime||0}}),$t=await Promise.all(St.map(async pt=>{const dt=await Promise.all(pt.items.map(async Ot=>{if(Ot.name)return Ot;try{const Lt=lr(wt(Xe,"inventory"),sr("barcode","==",Ot.barcode)),Et=await ur(Lt);if(!Et.empty){const ar=Et.docs[0].data();return{...Ot,name:ar.name||null}}}catch(Lt){console.log("error",Lt),console.log("")}return Ot}));return{...pt,items:dt}}));s($t)}catch(se){console.log("error",se),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);F.useEffect(()=>{Ke()},[Ke]),F.useEffect(()=>{xe()},[xe]),F.useEffect(()=>{const se=setInterval(()=>{xe()},18e5);return()=>clearInterval(se)},[xe]),F.useEffect(()=>()=>{H(new Set),Ce(new Set)},[i]),F.useEffect(()=>{P&&!ot&&!ht&&sn()},[P,ot,ht]),F.useEffect(()=>{if(!T)return;xe();const se=zae(wt(Xe,"liveJobSessions"),Ee=>{const St=[];Ee.forEach($t=>{const pt=$t.data();pt.isActive&&St.push({id:$t.id,createdBy:pt.createdBy||"Unknown",startTime:pt.startTime instanceof ir?pt.startTime.toDate():new Date(pt.startTime),items:pt.items||[],isActive:pt.isActive||!1})}),Wr(St)},Ee=>{console.log("error",Ee)});return()=>se()},[T,xe]),F.useEffect(()=>{S&&(console.log("Reports view shown, generating reports for date:",Pe),He(Pe))},[S,Pe,He]),F.useEffect(()=>{E&&(console.log("Productivity view shown, generating productivity data"),_e())},[E,_e]),F.useEffect(()=>{S&&Re(new Date(Nt.end))},[Nt,S]),F.useEffect(()=>{if(S&&i.length>0){const se=Array.from(new Set(i.map(Ee=>Ee.createdBy)));se.length>0&&!rt&&vt(se[0])}},[S,i,rt]),F.useEffect(()=>{S&&console.log("reportDate",Pe)},[Pe,S]);const Ze=se=>{Ce(Ee=>{const St=new Set(Ee);return St.has(se)?St.delete(se):St.add(se),St})};F.useEffect(()=>{let se;return W&&(se=setInterval(()=>{const St=Math.floor((new Date().getTime()-W.getTime())/1e3);I(St),St>=600&&!ie&&(fe(!0),ge(600)),St>=600&&St%300===0&&St!==ae&&(fe(!0),ge(St))},1e3)),()=>{se&&clearInterval(se)}},[W,ie,ae]);const Tt=se=>{const Ee=Math.floor(se/60),St=se%60;return`${Ee}:${St.toString().padStart(2,"0")}`},Rt=()=>{U(""),u([]),h([]),te(new Date),I(0),fe(!1),ge(0),l(!0);const se=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;mr(wt(Xe,"liveJobSessions"),{id:se,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:ff(),items:[],isActive:!0,createdAt:ff()}).catch(Ee=>{console.log("error",Ee)})},Vt=async se=>{try{const Ee=lr(wt(Xe,"inventory"),sr("barcode","==",se));return!(await ur(Ee)).empty}catch(Ee){return console.log("error",Ee),!1}},It=async se=>{se.preventDefault();const Ee=k.trim();if(!Ee)return;if(!await Vt(Ee)){t(`Product with barcode ${Ee} does not exist`,"error");return}try{const $t=lr(wt(Xe,"inventory"),sr("barcode","==",Ee)),pt=await ur($t);if(!pt.empty){const dt=pt.docs[0].data(),Ot={...dt,id:pt.docs[0].id,lastUpdated:dt.lastUpdated instanceof ir?dt.lastUpdated.toDate():new Date(dt.lastUpdated)};V(Ot),z(!0),l(!1)}}catch($t){console.log("error",$t),t("Error fetching stock item details","error")}},Bt=async se=>{if(!G)return;const Ee=G.quantity-se.quantity;try{const pt=lr(wt(Xe,"inventory"),sr("barcode","==",G.barcode),sr("locationCode","==",String(se.locationCode).trim())),dt=await ur(pt);if(dt.empty){t("Stock item not found for this location","error");return}const Ot=String(se.shelfNumber).trim(),Lt=Number(Ot),Et=dt.docs.filter(pr=>{const Fn=pr.data().shelfNumber;return String(Fn).trim()===Ot||!Number.isNaN(Lt)&&Number(Fn)===Lt});if(Et.length===0){t("Stock item not found for this shelf","error");return}const ar=Et.slice().sort((pr,Fn)=>(Number(Fn.data().quantity)||0)-(Number(pr.data().quantity)||0))[0],Nr={...G,id:ar.id,quantity:Number(ar.data().quantity)||0};if(Ee>Nr.quantity){t(`Cannot deduct ${Ee} units - only ${Nr.quantity} units available at this location`,"error");return}if(Ee<0){t("Cannot deduct negative quantity","error");return}h(pr=>[...pr,{stockItem:Nr,deductedQuantity:Ee,reason:se.reason,storeName:se.storeName,locationCode:se.locationCode,shelfNumber:se.shelfNumber}])}catch{t("Error locating stock for this location","error");return}G.barcode&&u(pt=>{const dt=G.barcode,Ot=pt.findIndex(Lt=>Lt.barcode===dt&&Lt.locationCode===se.locationCode&&Lt.shelfNumber===se.shelfNumber);if(Ot>=0){const Lt=[...pt];return Lt[Ot]={...Lt[Ot],quantity:Lt[Ot].quantity+Ee},Lt}else return[...pt,{barcode:dt,name:G.name,quantity:Ee,verified:!1,locationCode:se.locationCode,shelfNumber:se.shelfNumber,reason:se.reason,storeName:se.storeName}]}),t("Item added to job","success"),z(!1),V(null),l(!0),U("");const St=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),$t=await ur(St);if(!$t.empty){const pt=$t.docs[0],dt=pt.data().items||[],Ot={barcode:G.barcode,name:G.name,quantity:Ee,verified:!1,locationCode:se.locationCode,shelfNumber:se.shelfNumber,reason:se.reason,storeName:se.storeName};await Vn(Sr(Xe,"liveJobSessions",pt.id),{items:[...dt,Ot]})}Vr()},dr=()=>{z(!1),V(null),l(!0),Vr()},Vr=()=>{We(""),Ye([]),Oe("name"),nt(!1)},Hr=()=>{P?sn():(xt(null),mt(null))},sn=()=>{const se=new Date,Ee=new Date(se);Ee.setDate(se.getDate()-1);const St=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()),$t=new Date(se.getFullYear(),se.getMonth(),se.getDate(),23,59,59,999);xt(St),mt($t)},pi=()=>{P?sn():(xt(null),mt(null)),Zt("all"),Rr("")},Ws=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(Y){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}J(!0),a(!0);try{for(const pt of d){const dt=Sr(Xe,"inventory",pt.stockItem.id),Ot=pt.stockItem.quantity-pt.deductedQuantity;if(Ot<0)throw t(`Error: Cannot deduct ${pt.deductedQuantity} units from "${pt.stockItem.name}" - only ${pt.stockItem.quantity} units available`,"error"),new Error(`Insufficient stock: trying to deduct ${pt.deductedQuantity} from ${pt.stockItem.quantity} units`);await Vn(dt,{quantity:Ot,lastUpdated:ff()}),await mr(wt(Xe,"activityLogs"),{detail:`${pt.deductedQuantity} units deducted from stock "${pt.stockItem.name}"  (Reason: ${pt.reason}, Store: ${pt.storeName}) by ${r==null?void 0:r.role} from location ${pt.locationCode} shelf ${pt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}const se=Date.now().toString(),Ee=await mr(wt(Xe,"jobs"),{jobId:se,createdAt:ff(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:Z});await Vn(Ee,{docId:Ee.id}),await tt(`created new job ${se} with ${c.length} items (${c.reduce((pt,dt)=>pt+dt.quantity,0)} total units)`),t(`Job ${se} created and awaiting pack`,"success"),l(!1),u([]),h([]),U(""),te(null),I(0),fe(!1),ge(0);const St=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0)),$t=await ur(St);$t.empty||await Ms(Sr(Xe,"liveJobSessions",$t.docs[0].id)),Ke()}catch(se){console.log("error",se),t("Failed to create job","error")}finally{a(!1),J(!1)}},is=async se=>{try{await Vn(Sr(Xe,"jobs",se.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||se.picker||null}),await tt(`completed picking for job ${se.jobId} with ${se.items.length} items (${se.items.reduce((Ee,St)=>Ee+St.quantity,0)} total units)`),t(`Job ${se.jobId} completed and awaiting pack`,"success"),Ke()}catch{t("Failed to update job","error")}},ji=async(se,Ee,St)=>{const $t=`${se.id}-${Ee}`;q(pt=>new Set(pt).add($t));try{if(!se.id||!Ee){t("Invalid job or barcode","error");return}H(St?pt=>new Set(pt).add($t):pt=>{const dt=new Set(pt);return dt.delete($t),dt})}catch(pt){console.log("error",pt),t("Failed to verify item","error")}finally{q(pt=>{const dt=new Set(pt);return dt.delete($t),dt})}},ss=async se=>{try{const Ee=Array.from(ye).filter(pt=>pt.startsWith(se.id)).map(pt=>pt.split("-")[1]),St=se.items.filter(pt=>pt.verified||Ee.includes(pt.barcode)).length,$t=se.items.map(pt=>({...pt,verified:Ee.includes(pt.barcode)||pt.verified}));await Vn(Sr(Xe,"jobs",se.id),{status:"completed",packer:(r==null?void 0:r.name)||se.packer||null,items:$t}),await tt(`completed packing for job ${se.jobId} with ${se.items.length} items (${se.items.reduce((pt,dt)=>pt+dt.quantity,0)} total units) - ${St} items verified`),H(pt=>{const dt=new Set(pt);return Ee.forEach(Ot=>{dt.delete(`${se.id}-${Ot}`)}),dt}),t(`Job ${se.jobId} completed successfully with ${St}/${se.items.length} items verified`,"success"),Ke()}catch(Ee){console.log("error",Ee),t("Failed to complete job","error")}},Ba=se=>{w(se)},Cn=async()=>{if(y)try{await tt(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((se,Ee)=>se+Ee.quantity,0)} total units))`),await Ms(Sr(Xe,"jobs",y.id)),H(se=>{const Ee=new Set(se);return y.items.forEach(St=>{Ee.delete(`${y.id}-${St.barcode}`)}),Ee}),t("Job deleted","success"),w(null),Ke()}catch{t("Failed to delete job","error")}},pc=async(se,Ee,St,$t)=>{try{const pt=[...se.items];pt[Ee]={...pt[Ee],barcode:St,quantity:$t},await Vn(Sr(Xe,"jobs",se.id),{items:pt}),await tt(`updated job item in job ${se.jobId}: barcode ${se.items[Ee].barcode} → ${St}, quantity ${se.items[Ee].quantity} → ${$t}`),t("Job item updated successfully","success"),v(null),Ke()}catch{t("Failed to update job item","error")}},mc=async(se,Ee)=>{try{const St=se.items.filter(($t,pt)=>pt!==Ee);await Vn(Sr(Xe,"jobs",se.id),{items:St}),await tt(`removed item ${se.items[Ee].barcode} (qty: ${se.items[Ee].quantity}) from job ${se.jobId}`),t("Job item removed successfully","success"),Ke()}catch{t("Failed to remove job item","error")}},gc=async(se,Ee)=>{if(!se.trim()){Ye([]);return}Fe(!0);try{let St;switch(Ee){case"barcode":St=lr(wt(Xe,"inventory"),sr("barcode","==",se.trim()));break;case"asin":St=lr(wt(Xe,"inventory"),sr("asin","==",se.trim()));break;case"name":default:St=lr(wt(Xe,"inventory"),sr("name",">=",se.trim().toUpperCase()),sr("name","<=",se.trim().toUpperCase()+""));break}const pt=(await ur(St)).docs.map(dt=>{const Ot=dt.data();return{id:dt.id,name:Ot.name||"",quantity:Ot.quantity||0,price:Ot.price||0,unit:Ot.unit||null,supplier:Ot.supplier||null,lastUpdated:Ot.lastUpdated instanceof ir?Ot.lastUpdated.toDate():new Date,locationCode:Ot.locationCode||"",shelfNumber:Ot.shelfNumber||"",barcode:Ot.barcode||null,asin:Ot.asin||null,status:Ot.status||"pending",damagedItems:Ot.damagedItems||0,fulfillmentType:Ot.fulfillmentType||"fba",storeName:Ot.storeName||""}});Ye(pt)}catch(St){console.log("error",St),t("Failed to search inventory","error"),Ye([])}finally{Fe(!1)}},vc=({job:se})=>{const Ee=se.status==="awaiting_pack",St=se.status==="picking",$t=se.status==="completed",pt=ke.has(se.id);return f.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(fS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",se.jobId]}),f.jsx("button",{onClick:()=>Ze(se.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:pt?f.jsxs(f.Fragment,{children:[f.jsx(m9,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",se.items.length,")"]}):f.jsxs(f.Fragment,{children:[f.jsx(xl,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",se.items.length,")"]})})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",se.createdBy," • ",se.createdAt.toLocaleString(),se.pickingTime&&se.pickingTime>0&&f.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Ge(se.pickingTime)]})]}),(b||P)&&se.packer&&f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",se.packer]}),!pt&&se.items.length>0&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[se.items.length," item",se.items.length!==1?"s":""," • Total Qty: ",se.items.reduce((dt,Ot)=>dt+Ot.quantity,0),Ee&&f.jsxs("span",{className:"ml-2",children:["• Verified: ",se.items.filter(dt=>dt.verified||ye.has(`${se.id}-${dt.barcode}`)).length,"/",se.items.length]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$t?"bg-green-100 text-green-700":Ee?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:$t?"Completed":Ee?"Awaiting Pack":"Picking"}),f.jsx(at,{variant:"secondary",onClick:Ke,size:"sm",className:"h-8 w-8 p-0",children:f.jsx(La,{size:14})}),f.jsx(at,{variant:"danger",onClick:()=>Ba(se),size:"sm",className:"h-8 w-8 p-0",children:f.jsx(li,{size:14})})]})]})})}),pt&&f.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[St&&f.jsxs(at,{onClick:()=>z(!0),className:"flex items-center gap-1",size:"sm",children:[f.jsx(fS,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),Ee&&f.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",se.items.filter(dt=>dt.verified||ye.has(`${se.id}-${dt.barcode}`)).length,"/",se.items.length," items verified"]})]}),f.jsxs("div",{className:"space-y-3",children:[se.items.map((dt,Ot)=>{var Lt;return f.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===se.id&&(m==null?void 0:m.itemIndex)===Ot?f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[f.jsx(jt,{value:m.barcode,onChange:Et=>v({...m,barcode:Et.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),f.jsx(jt,{type:"number",value:m.quantity.toString(),onChange:Et=>v({...m,quantity:Number(Et.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{size:"sm",onClick:()=>pc(se,Ot,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:dt.name||dt.barcode}),dt.name&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",dt.barcode]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Ee&&f.jsx(at,{variant:dt.verified||ye.has(`${se.id}-${dt.barcode}`)?"success":"primary",size:"sm",onClick:()=>ji(se,dt.barcode,!(dt.verified||ye.has(`${se.id}-${dt.barcode}`))),disabled:M.has(`${se.id}-${dt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${dt.verified||ye.has(`${se.id}-${dt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:M.has(`${se.id}-${dt.barcode}`)?f.jsx(La,{size:12,className:"animate-spin"}):f.jsx("span",{className:"hidden sm:inline",children:dt.verified||ye.has(`${se.id}-${dt.barcode}`)?"Verified":"Verify"})}),Ee&&!m&&f.jsx(f.Fragment,{children:f.jsx(at,{variant:"danger",size:"sm",onClick:()=>mc(se,Ot),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:f.jsx(li,{size:16})})})]})]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[f.jsxs("div",{children:["Qty: ",dt.quantity]}),dt.locationCode&&dt.shelfNumber&&f.jsxs("div",{children:["Location: ",dt.locationCode,"-",dt.shelfNumber]}),dt.reason&&f.jsxs("div",{children:["Reason: ",dt.reason]}),dt.storeName&&f.jsxs("div",{children:["Store: ",(Lt=dt.storeName)==null?void 0:Lt.toUpperCase()]})]})]})},`${dt.barcode}-${Ot}-${se.id}`)}),se.items.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[St&&f.jsxs(at,{onClick:()=>is(se),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(r2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),Ee&&f.jsxs(at,{onClick:()=>ss(se),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(r2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":b?"Completed":T?"Live":S?"Reports":E?"Worker Productivity":"Active"," Jobs"]}),T&&f.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx(at,{variant:"secondary",onClick:Ke,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:f.jsx(La,{size:16,className:n?"animate-spin":""})}),f.jsxs(at,{onClick:Rt,className:"flex items-center gap-1",size:"sm",children:[f.jsx(fi,{size:16})," ",f.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),f.jsx(at,{variant:!b&&!P&&!T&&!S&&!E?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),O(!1),N(!1)},size:"sm",children:"Active Jobs"}),f.jsx(at,{variant:b?"primary":"secondary",onClick:()=>{D(!0),j(!1),_(!1),O(!1),N(!1)},size:"sm",children:"Completed Jobs"}),f.jsx(at,{variant:P?"primary":"secondary",onClick:()=>{D(!1),j(!0),_(!1),O(!1),N(!1),sn()},size:"sm",children:"Archived Jobs"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(at,{variant:T?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!0),O(!1),N(!1)},size:"sm",children:"Live Jobs"}),f.jsx(at,{variant:S?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),N(!1),O(!0)},size:"sm",children:"Reports"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(at,{variant:E?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),O(!1),N(!0)},size:"sm",children:"Productivity"})]})]}),f.jsx("div",{className:"flex flex-col gap-4",children:P&&f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),f.jsxs("div",{className:"relative",children:[f.jsx(kl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),f.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:Ht,onChange:se=>Rr(se.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),f.jsxs("select",{value:ct,onChange:se=>Zt(se.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[f.jsx("option",{value:"all",children:"All Users"}),ut().map(se=>f.jsx("option",{value:se,children:se},se))]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),f.jsx(Zq,{startDate:ot,endDate:ht,onStartDateChange:xt,onEndDateChange:mt,onClear:Hr,className:"w-full"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{variant:"secondary",onClick:pi,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),f.jsxs("div",{className:"space-y-4",children:[P&&(ot||ht||ct!=="all"||Ht.trim())&&f.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:"Active Filters:"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ht.trim()&&f.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',Ht,'"']}),ct!=="all"&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",ct]}),ot&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",ot.toLocaleDateString()]}),ht&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",ht.toLocaleDateString()]}),f.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[he.length," jobs found"]})]})]})}),!S&&!E&&he.map(se=>f.jsx(vc,{job:se},se.id)),T&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[me().totalCount," active"]})]}),f.jsxs(at,{variant:"secondary",onClick:()=>{Ke(),xe()},className:"flex items-center gap-2",size:"sm",children:[f.jsx(La,{size:16}),"Refresh Live Jobs"]})]}),me().uiSessions.map(se=>f.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(fS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",se.createdBy," • Started at ",se.startTime.toLocaleString()]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[se.items.length," item",se.items.length!==1?"s":""," scanned"]})]})]})})})})},se.id))]}),S&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const se=String(Pe.getDate()).padStart(2,"0"),Ee=String(Pe.getMonth()+1).padStart(2,"0"),St=Pe.getFullYear();return`${se}/${Ee}/${St}`})()})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"date",value:(()=>{const se=Pe.getFullYear(),Ee=String(Pe.getMonth()+1).padStart(2,"0"),St=String(Pe.getDate()).padStart(2,"0");return`${se}-${Ee}-${St}`})(),onChange:se=>{const Ee=new Date(se.target.value);Re(Ee),He(Ee)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),f.jsx(at,{variant:"secondary",onClick:()=>He(Pe),className:"flex items-center gap-2",size:"sm",disabled:rr,children:f.jsx(La,{size:16,className:rr?"animate-spin":""})})]})]}),rr?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(La,{size:32,className:"animate-spin text-blue-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Generating Reports..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we analyze the data"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Ft.userStats.reduce((se,Ee)=>se+Ee.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:Ft.userStats.reduce((se,Ee)=>se+Ee.jobsCompleted,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Ft.userStats.length})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Pe.toLocaleDateString()]}),Ft.userStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[600px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),f.jsx("tbody",{children:Ft.userStats.map((se,Ee)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.jobsCreated}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.jobsCompleted}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:se.itemsPicked}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ge(se.avgTimePerJob)}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ge(se.totalTime)})]},Ee))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const se=[];for(let Ee=6;Ee>=0;Ee--){const St=new Date;St.setDate(St.getDate()-Ee);const $t=new Date(St);$t.setHours(0,0,0,0);const pt=new Date(St);pt.setHours(23,59,59,999);const dt=i.filter(ar=>{const Nr=ar.createdAt;return Nr>=$t&&Nr<=pt}),Ot=dt.reduce((ar,Nr)=>ar+Nr.items.reduce((pr,Fn)=>pr+Fn.quantity,0),0),Lt=dt.filter(ar=>ar.status==="completed").length,Et=qt(St,"MMM dd");se.push({date:Et,itemsPicked:Ot,jobsCompleted:Lt})}return se})().map((se,Ee)=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:se.date}),f.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:se.itemsPicked}),f.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[se.jobsCompleted," jobs"]})]},Ee))})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:(()=>{const se=Nt.start.getFullYear(),Ee=String(Nt.start.getMonth()+1).padStart(2,"0"),St=String(Nt.start.getDate()).padStart(2,"0");return`${se}-${Ee}-${St}`})(),onChange:se=>{const Ee=new Date(se.target.value);Ee.setHours(0,0,0,0),Ee<=Nt.end&&Kt(St=>({...St,start:Ee}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:(()=>{const se=Nt.end.getFullYear(),Ee=String(Nt.end.getMonth()+1).padStart(2,"0"),St=String(Nt.end.getDate()).padStart(2,"0");return`${se}-${Ee}-${St}`})(),onChange:se=>{const Ee=new Date(se.target.value);Ee.setHours(23,59,59,999),Ee>=Nt.start&&Kt(St=>({...St,end:Ee}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{onClick:()=>{const se=new Date,Ee=new Date;Ee.setDate(Ee.getDate()-6),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),Kt({start:Ee,end:se})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const se=new Date,Ee=new Date;return Ee.setDate(Ee.getDate()-6),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),Nt.start.getTime()===Ee.getTime()&&Nt.end.getTime()===se.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),f.jsx("button",{onClick:()=>{const se=new Date,Ee=new Date;Ee.setDate(Ee.getDate()-29),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),Kt({start:Ee,end:se})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const se=new Date,Ee=new Date;return Ee.setDate(Ee.getDate()-29),Ee.setHours(0,0,0,0),se.setHours(23,59,59,999),Nt.start.getTime()===Ee.getTime()&&Nt.end.getTime()===se.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),f.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Nt.start.toLocaleDateString("en-GB")," to ",Nt.end.toLocaleDateString("en-GB"),")"]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:(()=>{const se=[],Ee=new Map,St=new Date(Nt.start),$t=new Date(Nt.end),pt=Math.ceil(($t.getTime()-St.getTime())/(1e3*60*60*24));for(let dt=0;dt<=pt;dt++){const Ot=new Date(St);Ot.setDate(St.getDate()+dt);const Lt=new Date(Ot);Lt.setHours(0,0,0,0);const Et=new Date(Ot);Et.setHours(23,59,59,999);const ar=i.filter(Gr=>{const Tn=Gr.createdAt;return Tn>=Lt&&Tn<=Et}),Nr=ar.reduce((Gr,Tn)=>Gr+Tn.items.reduce((ei,Wn)=>ei+Wn.quantity,0),0),pr=ar.filter(Gr=>Gr.status==="completed").length,Fn=ar.length,Pn=qt(Ot,"MMM dd");Ee.set(Pn,{itemsPicked:Nr,jobsCompleted:pr,jobsCreated:Fn})}return Ee.forEach((dt,Ot)=>{se.push({date:Ot,itemsPicked:dt.itemsPicked,jobsCompleted:dt.jobsCompleted,jobsCreated:dt.jobsCreated})}),se.sort((dt,Ot)=>{const Lt=new Date(dt.date),Et=new Date(Ot.date);return Lt.getTime()-Et.getTime()})})(),children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(Kc,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ee)=>Ee==="Items Picked"?[`${se} items`,Ee]:Ee==="Jobs Completed"?[`${se} jobs`,Ee]:Ee==="Jobs Created"?[`${se} jobs`,Ee]:[se,Ee],labelFormatter:se=>`Date: ${se}`}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Nt.start.toLocaleDateString("en-GB")," to ",Nt.end.toLocaleDateString("en-GB")]}),f.jsx("select",{value:rt||(()=>{const se=Array.from(new Set(i.map(Ee=>Ee.createdBy)));return se.length>0?se[0]:""})(),onChange:se=>{vt(se.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(Ee=>Ee.createdBy))).map(Ee=>f.jsx("option",{value:Ee,children:Ee},Ee))})]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:(()=>{const se=[],Ee=new Map,St=Array.from(new Set(i.map(Lt=>Lt.createdBy))),$t=rt||(St.length>0?St[0]:""),pt=new Date(Nt.start),dt=new Date(Nt.end),Ot=Math.ceil((dt.getTime()-pt.getTime())/(1e3*60*60*24));for(let Lt=0;Lt<=Ot;Lt++){const Et=new Date(pt);Et.setDate(pt.getDate()+Lt);const ar=new Date(Et);ar.setHours(0,0,0,0);const Nr=new Date(Et);Nr.setHours(23,59,59,999);const pr=i.filter(Wn=>{const os=Wn.createdAt;return os>=ar&&os<=Nr&&Wn.createdBy===$t}),Fn=pr.reduce((Wn,os)=>Wn+os.items.reduce((jn,bu)=>jn+bu.quantity,0),0),Pn=pr.filter(Wn=>Wn.status==="completed").length,Gr=pr.length;let Tn=0;pr.forEach(Wn=>{Wn.pickingTime&&Wn.pickingTime>0&&(Tn+=Wn.pickingTime)});const ei=qt(Et,"MMM dd");Ee.set(ei,{itemsPicked:Fn,jobsCompleted:Pn,jobsCreated:Gr,totalPickingTime:Tn})}return Ee.forEach((Lt,Et)=>{se.push({date:Et,itemsPicked:Lt.itemsPicked,jobsCompleted:Lt.jobsCompleted,jobsCreated:Lt.jobsCreated,totalPickingTime:Lt.totalPickingTime})}),se.sort((Lt,Et)=>{const ar=new Date(Lt.date),Nr=new Date(Et.date);return ar.getTime()-Nr.getTime()})})(),children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(Kc,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ee)=>Ee==="Items Picked"?[`${se} items`,Ee]:Ee==="Jobs Completed"?[`${se} jobs`,Ee]:Ee==="Jobs Created"?[`${se} jobs`,Ee]:Ee==="Total Picking Time"?[`${Ge(se)}`,Ee]:[se,Ee],labelFormatter:se=>`Date: ${se}`}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),E&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Productivity Analytics"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[Mn.start.toLocaleDateString()," - ",Mn.end.toLocaleDateString()]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"From:"}),f.jsx("input",{type:"date",value:Mn.start.toISOString().split("T")[0],onChange:se=>{const Ee=new Date(se.target.value);Rn(St=>({...St,start:Ee})),_e()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"To:"}),f.jsx("input",{type:"date",value:Mn.end.toISOString().split("T")[0],onChange:se=>{const Ee=new Date(se.target.value);Rn(St=>({...St,end:Ee})),_e()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsx(at,{variant:"secondary",onClick:_e,className:"flex items-center gap-2",size:"sm",disabled:An,children:f.jsx(La,{size:16,className:An?"animate-spin":""})})]})]}),An?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(La,{size:32,className:"animate-spin text-green-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Analyzing Worker Productivity..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we calculate performance metrics"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Workers"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:or.workerStats.length})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:or.workerStats.reduce((se,Ee)=>se+Ee.completedJobs,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:or.workerStats.reduce((se,Ee)=>se+Ee.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Avg Efficiency"}),f.jsxs("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[or.workerStats.length>0?(or.workerStats.reduce((se,Ee)=>se+Ee.efficiency,0)/or.workerStats.length).toFixed(1):"0"," items/min"]})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Worker Performance Ranking"}),or.workerStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[700px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Rank"}),f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Worker"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Efficiency"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Performance"})]})}),f.jsx("tbody",{children:or.workerStats.map((se,Ee)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:["#",Ee+1]}),f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.completedJobs}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:se.itemsPicked}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-green-400":"text-green-600"} font-semibold`,children:[se.efficiency," items/min"]}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:[Math.round(se.avgPickingTime/60),"m ",se.avgPickingTime%60,"s"]}),f.jsx("td",{className:"text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se.performance==="excellent"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":se.performance==="good"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":se.performance==="average"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:se.performance==="needs_improvement"?"Needs Improvement":se.performance.charAt(0).toUpperCase()+se.performance.slice(1)})})]},se.name))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No productivity data available for the selected date range"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Daily Productivity Trends"}),f.jsx("div",{className:"h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:or.dailyProductivity,children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:e?"#94a3b8":"#64748b",fontSize:12,tickFormatter:se=>new Date(se).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),f.jsx(Kc,{stroke:e?"#94a3b8":"#64748b",fontSize:12}),f.jsx(ps,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ee)=>Ee==="Total Items"?[`${se} items`,Ee]:Ee==="Total Jobs"?[`${se} jobs`,Ee]:Ee==="Avg Picking Time"?[`${Math.round(se/60)}m ${se%60}s`,Ee]:[se,Ee],labelFormatter:se=>`Date: ${new Date(se).toLocaleDateString()}`}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"totalJobs",stroke:"#10b981",name:"Total Jobs",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"totalItems",stroke:"#3b82f6",name:"Total Items",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"avgPickingTime",stroke:"#f59e0b",name:"Avg Picking Time",strokeWidth:2})]})})})]})]})]}),!S&&!E&&he.length===0&&me().uiSessions.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"No archived jobs found."}),(ot||ht||ct!=="all")&&f.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):b?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),f.jsx(fn,{isOpen:o,onClose:()=>{l(!1),te(null),I(0),fe(!1),ge(0),nt(!1);const se=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(se).then(Ee=>{Ee.empty||Ms(Sr(Xe,"liveJobSessions",Ee.docs[0].id))}).catch(Ee=>{console.log("error",Ee)})},title:qe?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:f.jsxs("div",{className:"space-y-4",children:[!qe&&f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>nt(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[f.jsx(kl,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),f.jsx(at,{variant:"secondary",onClick:()=>le(!0),size:"sm",className:"px-3 py-2",children:f.jsx(_j,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(G2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Tt(Z)})]})]}),ie&&f.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-pulse",children:"⚠️"}),f.jsx("span",{className:"font-medium",children:Z>=600&&Z<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(Z/60)} minutes elapsed. Please complete the job soon.`}),f.jsx("button",{onClick:()=>fe(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),qe&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>nt(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[f.jsx(CZ,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),f.jsx(at,{variant:"secondary",onClick:()=>le(!0),size:"sm",className:"px-3 py-2",children:f.jsx(_j,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(G2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Tt(Z)})]})]}),f.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(se=>f.jsx("button",{onClick:()=>Oe(se),className:`px-3 py-1 text-xs rounded-md transition-colors ${Te===se?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:se.charAt(0).toUpperCase()+se.slice(1)},se))}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsx(jt,{value:Me,onChange:se=>We(se.target.value),placeholder:`Search by ${Te}...`,className:"flex-1",onKeyPress:se=>se.key==="Enter"&&gc(Me,Te)}),f.jsx(at,{onClick:()=>gc(Me,Te),disabled:we||!Me.trim(),size:"sm",className:"px-4",children:we?f.jsx(La,{size:14,className:"animate-spin"}):"Search"})]}),Ie.length>0&&f.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[f.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Ie.length," product",Ie.length!==1?"s":"",":"]}),Ie.map(se=>{var Ee;return f.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[f.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[se.barcode&&f.jsxs("span",{className:"mr-3",children:["Barcode: ",se.barcode]}),se.asin&&f.jsxs("span",{className:"mr-3",children:["ASIN: ",se.asin]}),se.locationCode&&se.shelfNumber&&f.jsxs("span",{className:"mr-3",children:["Location: ",se.locationCode,"-",se.shelfNumber]}),f.jsxs("span",{className:"mr-3",children:["Qty: ",se.quantity]}),f.jsxs("span",{children:["Store: ",(Ee=se.storeName)==null?void 0:Ee.toUpperCase()]})]})]},se.id)})]}),Me&&Ie.length===0&&!we&&f.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Me,'"']})]}),!qe&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),f.jsxs("form",{onSubmit:It,className:"flex gap-2",children:[f.jsx(jt,{name:"manualBarcode",type:"text",value:k,onChange:se=>U(se.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),f.jsxs(at,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[f.jsx(fi,{size:16})," Add"]})]})]}),f.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!qe&&c.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),f.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((se,Ee)=>{var St;return f.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===Ee?f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(jt,{value:p.barcode,onChange:$t=>g({...p,barcode:$t.target.value}),className:"w-24 text-sm"}),f.jsx(jt,{type:"number",value:p.quantity,onChange:$t=>g({...p,quantity:Number($t.target.value)||1}),className:"w-16 text-sm",min:"1"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx(at,{size:"sm",onClick:()=>{const $t=c[Ee].quantity,pt=Number(p.quantity),dt=pt-$t;u(Lt=>{const Et=[...Lt];return Et[Ee]={...Et[Ee],barcode:p.barcode,quantity:pt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Et}),h(Lt=>{const Et=[...Lt],ar=Et.findIndex(Nr=>Nr.stockItem.barcode===p.barcode&&Nr.locationCode===c[Ee].locationCode&&Nr.shelfNumber===c[Ee].shelfNumber);return ar>=0&&(Et[ar]={...Et[ar],deductedQuantity:Et[ar].deductedQuantity+dt}),Et});const Ot=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(Ot).then(Lt=>{if(!Lt.empty){const Et=Lt.docs[0],Nr=(Et.data().items||[]).map(pr=>pr.barcode===c[Ee].barcode&&pr.locationCode===c[Ee].locationCode&&pr.shelfNumber===c[Ee].shelfNumber?{...pr,barcode:p.barcode,quantity:pt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:pr);Vn(Sr(Xe,"liveJobSessions",Et.id),{items:Nr})}}).catch(Lt=>{console.log("error",Lt)}),g(null)},className:"h-6 px-2",children:"✓"}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"truncate block font-medium",children:se.name||se.barcode}),se.name&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",se.barcode]}),se.locationCode&&se.shelfNumber&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",se.locationCode," - Shelf ",se.shelfNumber]}),se.reason&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",se.reason]}),se.storeName&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(St=se.storeName)==null?void 0:St.toUpperCase()]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",se.quantity]}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>g({index:Ee,barcode:se.barcode,quantity:se.quantity,reason:se.reason,storeName:se.storeName,name:se.name}),className:"h-6 px-2",children:"Edit"}),f.jsx("button",{type:"button",onClick:()=>{u(dt=>dt.filter((Ot,Lt)=>Lt!==Ee));const $t=c[Ee];h(dt=>dt.filter(Ot=>!(Ot.stockItem.barcode===$t.barcode&&Ot.locationCode===$t.locationCode&&Ot.shelfNumber===$t.shelfNumber)));const pt=lr(wt(Xe,"liveJobSessions"),sr("createdBy","==",r==null?void 0:r.name),sr("isActive","==",!0));ur(pt).then(dt=>{if(!dt.empty){const Ot=dt.docs[0],Et=(Ot.data().items||[]).filter(ar=>!(ar.barcode===$t.barcode&&ar.locationCode===$t.locationCode&&ar.shelfNumber===$t.shelfNumber));Vn(Sr(Xe,"liveJobSessions",Ot.id),{items:Et})}}).catch(dt=>{console.log("error",dt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${se.barcode}-${se.locationCode}-${se.shelfNumber}-${Ee}`)})}),f.jsx("div",{className:"pt-2",children:f.jsxs(at,{onClick:Ws,disabled:c.length===0||Y,isLoading:Y,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[f.jsx(r2,{size:16}),Y?"Creating Job...":"Finish Picking"]})})]})]})}),f.jsx(dh,{isOpen:!!y,onClose:()=>w(null),onConfirm:Cn,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),f.jsx(fn,{isOpen:X,onClose:()=>z(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:G&&f.jsx(Qye,{item:G,onSubmit:Bt,onCancel:dr,isLoading:!1})}),f.jsx(Jye,{isOpen:Se,onClose:()=>le(!1)})]})},V$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return f.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},NK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return f.jsx(V$e,{variant:t(),children:r()})},z$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=an();return f.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),f.jsxs("div",{className:"flex items-center gap-2",children:[r,f.jsx(NK,{status:e.status})]})]}),f.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),f.jsx("div",{className:"space-y-1 mb-3",children:f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),f.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),f.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[f.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:qt(e.createdAt,"MMM d, yyyy")}),f.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},q$e=({isOpen:e,onClose:t,order:r})=>r?f.jsx(fn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),f.jsx("div",{className:"mt-1",children:f.jsx(NK,{status:r.status})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),f.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),f.jsx("p",{className:"text-slate-800",children:r.createdAt?qt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),f.jsx("p",{className:"text-slate-800",children:r.updatedAt?qt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),f.jsx("p",{className:"text-slate-800",children:r.shippedTime?qt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),f.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[f.jsx("thead",{className:"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),f.jsx("tfoot",{className:"bg-slate-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),f.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),f.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),f.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})}):null,Cw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Mr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Mr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Mr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Mr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Mr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Mr(new Date,6),locationCode:"D2",shelfNumber:4}],W$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Mr(new Date,1),updatedAt:Mr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Mr(new Date,2),updatedAt:Mr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Mr(new Date,5),updatedAt:Mr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Mr(new Date,10),updatedAt:Mr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Mr(new Date,15),updatedAt:Mr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];W$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:qt(Mr(new Date,29-t),"MMM dd"),amount:r}});Mr(new Date,1),Mr(new Date,1),Mr(new Date,3),Mr(new Date,4),Mr(new Date,5);const H$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],G$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],SA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},fR={street:"",city:"",state:"",zipCode:"",country:""};function K$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Y$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,dR=e=>Y$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},X$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("pending"),[u,d]=F.useState(""),[h,p]=F.useState([{...SA}]),[g,m]=F.useState({...fR}),[v,y]=F.useState({...fR}),[w,b]=F.useState("Credit Card"),[D,P]=F.useState(""),[j,T]=F.useState([]),[_,S]=F.useState(!1);F.useEffect(()=>{e&&(i(K$e()),d(qt(new Date,"yyyy-MM-dd")),p([{...SA}]),c("pending"))},[e]),F.useEffect(()=>{e&&(async()=>{S(!0);try{const z=lr(wt(Xe,"inventory"),Fa("name")),V=(await ur(z)).docs.map(W=>({id:W.id,...W.data()}));T(V.length>0?V:Cw)}catch{T(Cw)}finally{S(!1)}})()},[e]);const O=(X,z,G)=>{p(V=>V.map((W,te)=>{if(te!==X)return W;if(z==="productName"){const Z=j.find(I=>I.name===G);return Z?{...W,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:W}if(z==="quantity"){const Z=Number(G);return{...W,quantity:Z,totalPrice:W.unitPrice*Z}}return{...W,[z]:G}}))},E=()=>{p([...h,{...SA}])},N=X=>{p(z=>z.filter((G,V)=>V!==X))},k=(X,z,G)=>{X==="shipping"?m(V=>({...dR(V),[z]:G})):y(V=>({...dR(V),[z]:G}))},U=X=>{if(X.preventDefault(),h.some(V=>!V.productId||!V.productName)){alert("Please select a product for each order item.");return}const z=new Date,G={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):z,updatedAt:z,items:h.map((V,W)=>({...V,id:`item${W+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((V,W)=>V+(W.totalPrice||0),0)};D&&(G.notes=D),r(G),t()};return f.jsx(fn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(jt,{label:"Customer Name",value:s,onChange:X=>o(X.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Status",value:l,onChange:X=>c(X.target.value),options:H$e,required:!0,fullWidth:!0,disabled:!0}),f.jsx(Jr,{label:"Payment Method",value:w,onChange:X=>b(X.target.value),options:G$e,required:!0,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.jsx(jt,{label:"Order Date",type:"date",value:u,onChange:X=>d(X.target.value),required:!0,fullWidth:!0})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((X,z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Jr,{label:"Product Name",value:X.productName,onChange:G=>O(z,"productName",G.target.value),options:[{value:"",label:"Select product..."},...j.map(G=>({value:G.name,label:G.name}))],required:!0,fullWidth:!0,disabled:_}),f.jsx(jt,{label:"Quantity",type:"number",value:X.quantity,onChange:G=>O(z,"quantity",Number(G.target.value)),min:1,required:!0,fullWidth:!0,disabled:!X.productName}),f.jsx(jt,{label:"Unit Price",type:"number",value:X.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(jt,{label:"Total Price",type:"number",value:X.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(at,{type:"button",variant:"danger",size:"sm",icon:f.jsx(li,{size:16}),onClick:()=>N(z),children:"Remove"})]},z)),f.jsx(at,{type:"button",variant:"primary",icon:f.jsx(fi,{size:16}),onClick:E,disabled:_,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(jt,{label:"Street",value:g.street,onChange:X=>k("shipping","street",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:g.city,onChange:X=>k("shipping","city",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:g.state,onChange:X=>k("shipping","state",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:g.zipCode,onChange:X=>k("shipping","zipCode",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:g.country,onChange:X=>k("shipping","country",X.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(jt,{label:"Street",value:v.street,onChange:X=>k("billing","street",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:v.city,onChange:X=>k("billing","city",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:v.state,onChange:X=>k("billing","state",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:v.zipCode,onChange:X=>k("billing","zipCode",X.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:v.country,onChange:X=>k("billing","country",X.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(jt,{label:"Notes (optional)",value:D,onChange:X=>P(X.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(at,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Q$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],J$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],hR={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},pR={street:"",city:"",state:"",zipCode:"",country:""},Z$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState("pending"),[d,h]=F.useState(""),[p,g]=F.useState(""),[m,v]=F.useState([{...hR}]),[y,w]=F.useState({...pR}),[b,D]=F.useState({...pR}),[P,j]=F.useState("Credit Card"),[T,_]=F.useState(""),[S,O]=F.useState([]),[E,N]=F.useState(!1);F.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(qt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(te=>({...te}))),w(a.shippingAddress),D(a.billingAddress),j(a.paymentMethod),_(a.notes||""),a.status==="shipped"&&a.shippedTime?g(qt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),F.useEffect(()=>{e&&(async()=>{N(!0);try{const Z=lr(wt(Xe,"inventory"),Fa("name")),M=(await ur(Z)).docs.map(q=>({id:q.id,...q.data()}));O(M.length>0?M:Cw)}catch{O(Cw)}finally{N(!1)}})()},[e]);const k=(te,Z,I)=>{v(M=>M.map((q,Y)=>{if(Y!==te)return q;if(Z==="productName"){const J=S.find(ie=>ie.name===I);return J?{...q,productId:J.id,productName:J.name,unitPrice:J.price,quantity:1,totalPrice:J.price*1}:q}if(Z==="quantity"){const J=Number(I);return{...q,quantity:J,totalPrice:q.unitPrice*J}}return{...q,[Z]:I}}))},U=()=>{v([...m,{...hR}])},X=te=>{v(Z=>Z.filter((I,M)=>M!==te))},z=(te,Z,I)=>{te==="shipping"?w(M=>({...W(M),[Z]:I})):D(M=>({...W(M),[Z]:I}))},G=te=>{if(te.preventDefault(),m.some(M=>!M.productId||!M.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((M,q)=>{let Y;return typeof M.id=="string"&&M.id?Y=M.id:Y=`item${q+1}`,{...M,id:Y}}),shippingAddress:y,billingAddress:b,paymentMethod:P,totalAmount:m.reduce((M,q)=>M+(q.totalPrice||0),0)};T&&(Z.notes=T),c==="shipped"&&p?Z.shippedTime=vfe(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const I={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(I),t()},V=te=>typeof te=="object"&&te!==null&&!Array.isArray(te)&&"street"in te&&"city"in te&&"state"in te&&"zipCode"in te&&"country"in te,W=te=>V(te)?te:{street:"",city:"",state:"",zipCode:"",country:""};return f.jsx(fn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:f.jsxs("form",{onSubmit:G,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(jt,{label:"Customer Name",value:o,onChange:te=>l(te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Jr,{label:"Status",value:c,onChange:te=>u(te.target.value),options:Q$e,required:!0,fullWidth:!0}),f.jsx(Jr,{label:"Payment Method",value:P,onChange:te=>j(te.target.value),options:J$e,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Order Date",type:"date",value:d,onChange:te=>h(te.target.value),required:!0,fullWidth:!0}),c==="shipped"&&f.jsx(jt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:te=>g(te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((te,Z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Jr,{label:"Product Name",value:te.productName,onChange:I=>k(Z,"productName",I.target.value),options:[{value:"",label:"Select product..."},...S.map(I=>({value:I.name,label:I.name}))],required:!0,fullWidth:!0,disabled:E}),f.jsx(jt,{label:"Quantity",type:"number",value:te.quantity,onChange:I=>k(Z,"quantity",Number(I.target.value)),min:1,required:!0,fullWidth:!0,disabled:!te.productName}),f.jsx(jt,{label:"Unit Price",type:"number",value:te.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(jt,{label:"Total Price",type:"number",value:te.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(at,{type:"button",variant:"danger",size:"sm",icon:f.jsx(li,{size:16}),onClick:()=>X(Z),children:"Remove"})]},Z)),f.jsx(at,{type:"button",variant:"primary",icon:f.jsx(fi,{size:16}),onClick:U,disabled:E,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(jt,{label:"Street",value:y.street,onChange:te=>z("shipping","street",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:y.city,onChange:te=>z("shipping","city",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:y.state,onChange:te=>z("shipping","state",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:y.zipCode,onChange:te=>z("shipping","zipCode",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:y.country,onChange:te=>z("shipping","country",te.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(jt,{label:"Street",value:b.street,onChange:te=>z("billing","street",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"City",value:b.city,onChange:te=>z("billing","city",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"State",value:b.state,onChange:te=>z("billing","state",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Zip Code",value:b.zipCode,onChange:te=>z("billing","zipCode",te.target.value),required:!0,fullWidth:!0}),f.jsx(jt,{label:"Country",value:b.country,onChange:te=>z("billing","country",te.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(jt,{label:"Notes (optional)",value:T,onChange:te=>_(te.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(at,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},e9e=()=>{const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("date"),[s,o]=F.useState(null),[l,c]=F.useState("grid"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState([]),[v,y]=F.useState(null),[w,b]=F.useState(!1),{showToast:D}=cc(),{user:P}=ga(),{isDarkMode:j}=an(),T=async()=>{p(!0);try{const V=lr(wt(Xe,"orders"),Fa("createdAt","desc")),te=(await ur(V)).docs.map(Z=>{const I=Z.data();return{id:Z.id,orderNumber:I.orderNumber||"",customerName:I.customerName||"",items:I.items||[],status:I.status||"pending",createdAt:I.createdAt instanceof ir?I.createdAt.toDate():new Date(I.createdAt),updatedAt:I.updatedAt instanceof ir?I.updatedAt.toDate():new Date(I.updatedAt),shippingAddress:I.shippingAddress||{},billingAddress:I.billingAddress||{},paymentMethod:I.paymentMethod||"",totalAmount:I.totalAmount||0,notes:I.notes||"",shippedTime:I.shippedTime instanceof ir?I.shippedTime.toDate():I.shippedTime?new Date(I.shippedTime):void 0}});m(te)}catch(V){console.error("Error fetching orders:",V),D("Failed to fetch orders","error")}finally{p(!1)}};F.useEffect(()=>{T()},[]);const _=g.filter(V=>{const W=V.orderNumber.toLowerCase().includes(e.toLowerCase())||V.customerName.toLowerCase().includes(e.toLowerCase()),te=r==="all"||V.status===r;return W&&te}).sort((V,W)=>a==="date"?new Date(W.createdAt).getTime()-new Date(V.createdAt).getTime():a==="amount"?W.totalAmount-V.totalAmount:0),S=V=>{o(V)},O=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async V=>{p(!0);try{await mr(wt(Xe,"orders"),{...V,createdAt:ff(),updatedAt:ff()}),await mr(wt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${V.orderNumber} for '${V.customerName}' with ${V.items.length} items (${V.items.map(W=>`${W.quantity} ${W.productName}`).join(", ")}) - Total: $${V.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),V.status==="shipped"&&await $x(V.items,!0),await T(),d(!1),D("Order added successfully!","success")}catch(W){console.error("Error in handleAddOrder:",W),alert("Error adding order: "+((W==null?void 0:W.message)||W))}finally{p(!1)}},k=async V=>{p(!0);try{const W=Sr(Xe,"orders",V.id),Z=(await Wd(W)).data(),I={status:V.status,updatedAt:ff()},M=[];if((Z==null?void 0:Z.status)!==V.status&&M.push(`status from "${Z==null?void 0:Z.status}" to "${V.status}"`),(Z==null?void 0:Z.customerName)!==V.customerName&&M.push(`customer from "${Z==null?void 0:Z.customerName}" to "${V.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(V.items)){const Y=[];V.items.forEach(J=>{const ie=Z==null?void 0:Z.items.find(fe=>fe.id===J.id);ie?ie.quantity!==J.quantity&&Y.push(`changed ${J.productName} quantity from ${ie.quantity} to ${J.quantity}`):Y.push(`added ${J.quantity} ${J.productName}`)}),Z==null||Z.items.forEach(J=>{V.items.find(ie=>ie.id===J.id)||Y.push(`removed ${J.quantity} ${J.productName}`)}),Y.length>0&&M.push(`items: ${Y.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==V.totalAmount&&M.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${V.totalAmount.toFixed(2)}`),V.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(await $x(V.items,!0),V.shippedTime?I.shippedTime=ir.fromDate(V.shippedTime):I.shippedTime=ff()):(Z==null?void 0:Z.status)==="shipped"&&V.status!=="shipped"?(await $x(V.items,!1),I.shippedTime=$O()):(V.status==="cancelled"||V.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(await $x(V.items,!1),I.shippedTime=$O()):Z!=null&&Z.shippedTime&&(I.shippedTime=ir.fromDate(Z.shippedTime));const{...q}=V;Object.assign(I,q),await Vn(W,I),M.length>0&&await mr(wt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${V.orderNumber}: ${M.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),D("Order updated successfully!","success")}catch(W){console.error("Error updating order:",W),D("Failed to update order","error")}finally{p(!1)}},U=()=>{y(null)},X=async V=>{p(!0);try{const W=Sr(Xe,"orders",V),Z=(await Wd(W)).data();Z&&(await mr(wt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(I=>`${I.quantity} ${I.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Ms(W),await T(),b(!1),o(null),D("Order deleted successfully!","success"))}catch(W){console.error("Error deleting order:",W),D("Failed to delete order","error")}finally{p(!1)}},z=(V,W)=>{V.stopPropagation(),o(W),b(!0)},G=(V,W)=>{V.stopPropagation(),y(W)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-slate-800"}`,children:"Current Orders"}),f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),f.jsx(at,{onClick:()=>d(!0),className:"flex items-center gap-2",children:f.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"md:flex-1",children:f.jsx(jt,{placeholder:"Search by order number or customer...",value:e,onChange:V=>t(V.target.value),icon:f.jsx(kl,{size:18}),fullWidth:!0})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Jr,{options:O,value:r,onChange:V=>n(V.target.value)}),f.jsx(Jr,{options:E,value:a,onChange:V=>i(V.target.value)})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("div",{className:"relative inline-block",children:[f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[f.jsx(FZ,{size:18,className:"inline mr-1"})," Grid"]}),f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[f.jsx(WZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx(gs,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-500"} animate-spin`}),f.jsx("p",{className:`mt-2 ${j?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?_.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(V=>f.jsx("div",{className:"flex flex-col",children:f.jsx(z$e,{order:V,onClick:()=>S(V),editButton:f.jsx("button",{onClick:W=>G(W,V),className:`p-2 ${j?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:f.jsx(vs,{className:`w-4 h-4 ${j?"text-blue-400":"text-blue-500"}`})})})},V.id))}):f.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):_.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[f.jsx("thead",{className:j?"bg-slate-900":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`${j?"divide-slate-700":"divide-slate-200"}`,children:_.map(V=>f.jsxs("tr",{className:`${j?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(V),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:V.orderNumber}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:V.customerName}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"} capitalize`,children:V.status}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:new Date(V.createdAt).toLocaleDateString()}),f.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${j?"text-slate-200":"text-slate-900"} text-right`,children:["$",V.totalAmount.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:W=>{W.stopPropagation(),y(V)},className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:W=>z(W,V),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(li,{size:16})})]})})]},V.id))})]})}):f.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&f.jsx(q$e,{isOpen:!!s,onClose:()=>o(null),order:s}),f.jsx(X$e,{isOpen:u,onClose:()=>d(!1),onAdd:N,isLoading:h}),f.jsx(Z$e,{isOpen:!!v,onClose:U,onEdit:k,isLoading:h,order:v}),s&&f.jsx(dh,{isOpen:w,onClose:()=>{b(!1),o(null)},onConfirm:()=>X(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},$x=async(e,t)=>{const r=Hae(Xe),n=[];for(const a of e){const i=Sr(Xe,"inventory",a.productId),s=await Wd(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await mr(wt(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},t9e="modulepreload",r9e=function(e){return"/"+e},mR={},uE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=r9e(l),l in mR)return;mR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":t9e,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Xi=Uint8Array,oo=Uint16Array,CP=Int32Array,m_=new Xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g_=new Xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fE=new Xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kK=function(e,t){for(var r=new oo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new CP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},CK=kK(m_,2),PK=CK.b,dE=CK.r;PK[28]=258,dE[258]=28;var jK=kK(g_,0),n9e=jK.b,gR=jK.r,hE=new oo(32768);for(var Qn=0;Qn<32768;++Qn){var Gu=(Qn&43690)>>1|(Qn&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,hE[Qn]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var ic=function(e,t,r){for(var n=e.length,a=0,i=new oo(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new oo(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new oo(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[hE[d]>>l]=c}else for(o=new oo(n),a=0;a<n;++a)e[a]&&(o[a]=hE[s[e[a]-1]++]>>15-e[a]);return o},Wf=new Xi(288);for(var Qn=0;Qn<144;++Qn)Wf[Qn]=8;for(var Qn=144;Qn<256;++Qn)Wf[Qn]=9;for(var Qn=256;Qn<280;++Qn)Wf[Qn]=7;for(var Qn=280;Qn<288;++Qn)Wf[Qn]=8;var L1=new Xi(32);for(var Qn=0;Qn<32;++Qn)L1[Qn]=5;var a9e=ic(Wf,9,0),i9e=ic(Wf,9,1),s9e=ic(L1,5,0),o9e=ic(L1,5,1),AA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ol=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},TA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},PP=function(e){return(e+7)/8|0},OK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Xi(e.subarray(t,r))},l9e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fl=function(e,t,r){var n=new Error(t||l9e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,fl),!r)throw n;return n},c9e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Xi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Xi(a*3));var c=function(ye){var H=r.length;if(ye>H){var ke=new Xi(Math.max(H*2,ye));ke.set(r),r=ke}},u=t.f||0,d=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=ol(e,d,1);var w=ol(e,d+1,3);if(d+=3,w)if(w==1)p=i9e,g=o9e,m=9,v=5;else if(w==2){var j=ol(e,d,31)+257,T=ol(e,d+10,15)+4,_=j+ol(e,d+5,31)+1;d+=14;for(var S=new Xi(_),O=new Xi(19),E=0;E<T;++E)O[fE[E]]=ol(e,d+E*3,7);d+=T*3;for(var N=AA(O),k=(1<<N)-1,U=ic(O,N,1),E=0;E<_;){var X=U[ol(e,d,k)];d+=X&15;var b=X>>4;if(b<16)S[E++]=b;else{var z=0,G=0;for(b==16?(G=3+ol(e,d,3),d+=2,z=S[E-1]):b==17?(G=3+ol(e,d,7),d+=3):b==18&&(G=11+ol(e,d,127),d+=7);G--;)S[E++]=z}}var V=S.subarray(0,j),W=S.subarray(j);m=AA(V),v=AA(W),p=ic(V,m,1),g=ic(W,v,1)}else fl(1);else{var b=PP(d)+4,D=e[b-4]|e[b-3]<<8,P=b+D;if(P>a){l&&fl(0);break}o&&c(h+D),r.set(e.subarray(b,P),h),t.b=h+=D,t.p=d=P*8,t.f=u;continue}if(d>y){l&&fl(0);break}}o&&c(h+131072);for(var te=(1<<m)-1,Z=(1<<v)-1,I=d;;I=d){var z=p[TA(e,d)&te],M=z>>4;if(d+=z&15,d>y){l&&fl(0);break}if(z||fl(2),M<256)r[h++]=M;else if(M==256){I=d,p=null;break}else{var q=M-254;if(M>264){var E=M-257,Y=m_[E];q=ol(e,d,(1<<Y)-1)+PK[E],d+=Y}var J=g[TA(e,d)&Z],ie=J>>4;J||fl(3),d+=J&15;var W=n9e[ie];if(ie>3){var Y=g_[ie];W+=TA(e,d)&(1<<Y)-1,d+=Y}if(d>y){l&&fl(0);break}o&&c(h+131072);var fe=h+q;if(h<W){var ae=i-W,ge=Math.min(W,fe);for(ae+h<0&&fl(3);h<ge;++h)r[h]=n[ae+h]}for(;h<fe;++h)r[h]=r[h-W]}}t.l=p,t.p=I,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?OK(r,0,h):r.subarray(0,h)},Pc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},og=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},EA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:DK,l:0};if(a==1){var s=new Xi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,j){return P.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new oo(h+1),g=pE(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(j,T){return p[T.s]-p[j.s]||j.f-T.f});n<a;++n){var w=i[n].s;if(p[w]>t)m+=y-(1<<g-p[w]),p[w]=t;else break}for(m>>=v;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new Xi(p),l:g}},pE=function(e,t,r){return e.s==-1?Math.max(pE(e.l,t,r+1),pE(e.r,t,r+1)):t[e.s]=r},vR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new oo(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},lg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},IK=function(e,t,r){var n=r.length,a=PP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},yR=function(e,t,r,n,a,i,s,o,l,c,u){Pc(t,u++,r),++a[256];for(var d=EA(a,15),h=d.t,p=d.l,g=EA(i,15),m=g.t,v=g.l,y=vR(h),w=y.c,b=y.n,D=vR(m),P=D.c,j=D.n,T=new oo(19),_=0;_<w.length;++_)++T[w[_]&31];for(var _=0;_<P.length;++_)++T[P[_]&31];for(var S=EA(T,7),O=S.t,E=S.l,N=19;N>4&&!O[fE[N-1]];--N);var k=c+5<<3,U=lg(a,Wf)+lg(i,L1)+s,X=lg(a,h)+lg(i,m)+s+14+3*N+lg(T,O)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&k<=U&&k<=X)return IK(t,u,e.subarray(l,l+c));var z,G,V,W;if(Pc(t,u,1+(X<U)),u+=2,X<U){z=ic(h,p,0),G=h,V=ic(m,v,0),W=m;var te=ic(O,E,0);Pc(t,u,b-257),Pc(t,u+5,j-1),Pc(t,u+10,N-4),u+=14;for(var _=0;_<N;++_)Pc(t,u+3*_,O[fE[_]]);u+=3*N;for(var Z=[w,P],I=0;I<2;++I)for(var M=Z[I],_=0;_<M.length;++_){var q=M[_]&31;Pc(t,u,te[q]),u+=O[q],q>15&&(Pc(t,u,M[_]>>5&127),u+=M[_]>>12)}}else z=a9e,G=Wf,V=s9e,W=L1;for(var _=0;_<o;++_){var Y=n[_];if(Y>255){var q=Y>>18&31;og(t,u,z[q+257]),u+=G[q+257],q>7&&(Pc(t,u,Y>>23&31),u+=m_[q]);var J=Y&31;og(t,u,V[J]),u+=W[J],J>3&&(og(t,u,Y>>5&8191),u+=g_[J])}else og(t,u,z[Y]),u+=G[Y]}return og(t,u,z[256]),u+G[256]},u9e=new CP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DK=new Xi(0),f9e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Xi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=u9e[t-1],h=d>>13,p=d&8191,g=(1<<r)-1,m=i.p||new oo(32768),v=i.h||new oo(g+1),y=Math.ceil(r/3),w=2*y,b=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<w)&g},D=new CP(25e3),P=new oo(288),j=new oo(32),T=0,_=0,S=i.i||0,O=0,E=i.w||0,N=0;S+2<s;++S){var k=b(S),U=S&32767,X=v[k];if(m[U]=X,v[k]=U,E<=S){var z=s-S;if((T>7e3||O>24576)&&(z>423||!c)){u=yR(e,l,0,D,P,j,_,O,N,S-N,u),O=T=_=0,N=S;for(var G=0;G<286;++G)P[G]=0;for(var G=0;G<30;++G)j[G]=0}var V=2,W=0,te=p,Z=U-X&32767;if(z>2&&k==b(S-Z))for(var I=Math.min(h,z)-1,M=Math.min(32767,S),q=Math.min(258,z);Z<=M&&--te&&U!=X;){if(e[S+V]==e[S+V-Z]){for(var Y=0;Y<q&&e[S+Y]==e[S+Y-Z];++Y);if(Y>V){if(V=Y,W=Z,Y>I)break;for(var J=Math.min(Z,Y-2),ie=0,G=0;G<J;++G){var fe=S-Z+G&32767,ae=m[fe],ge=fe-ae&32767;ge>ie&&(ie=ge,X=fe)}}}U=X,X=m[U],Z+=U-X&32767}if(W){D[O++]=268435456|dE[V]<<18|gR[W];var ye=dE[V]&31,H=gR[W]&31;_+=m_[ye]+g_[H],++P[257+ye],++j[H],E=S+V,++T}else D[O++]=e[S],++P[e[S]]}}for(S=Math.max(S,E);S<s;++S)D[O++]=e[S],++P[e[S]];u=yR(e,l,c,D,P,j,_,O,N,S-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=S,i.w=E)}else{for(var S=i.w||0;S<s+c;S+=65535){var ke=S+65535;ke>=s&&(l[u/8|0]=c,ke=s),u=IK(l,u+1,e.subarray(S,ke))}i.i=s}return OK(o,0,n+PP(u)+a)},LK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},d9e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Xi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return f9e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},MK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},h9e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=LK();a.p(t.dictionary),MK(e,2,a.d())}},p9e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&fl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&fl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function mE(e,t){t||(t={});var r=LK();r.p(e);var n=d9e(e,t,t.dictionary?6:2,4);return h9e(n,t),MK(n,n.length-4,r.d()),n}function m9e(e,t){return c9e(e.subarray(p9e(e,t),-4),{i:2},t,t)}var g9e=typeof TextDecoder<"u"&&new TextDecoder,v9e=0;try{g9e.decode(DK,{stream:!0}),v9e=1}catch{}var xr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function NA(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var Dn={log:NA,warn:function(e){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):NA.call(null,arguments))},error:function(e){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):NA(e))}};function kA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Cd(n.response,t,r)},n.onerror=function(){Dn.error("could not download file")},n.send()}function xR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var iv,gE,Cd=xr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xr.URL||xr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?xR(a.href)?kA(e,t,r):Bx(a,a.target="_blank"):Bx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Bx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(xR(e))kA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Bx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:pn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return kA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(xr.HTMLElement)||xr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=xr.URL||xr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function CA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ri(r,n,a,i,t[0],7,-680876936),i=Ri(i,r,n,a,t[1],12,-389564586),a=Ri(a,i,r,n,t[2],17,606105819),n=Ri(n,a,i,r,t[3],22,-1044525330),r=Ri(r,n,a,i,t[4],7,-176418897),i=Ri(i,r,n,a,t[5],12,1200080426),a=Ri(a,i,r,n,t[6],17,-1473231341),n=Ri(n,a,i,r,t[7],22,-45705983),r=Ri(r,n,a,i,t[8],7,1770035416),i=Ri(i,r,n,a,t[9],12,-1958414417),a=Ri(a,i,r,n,t[10],17,-42063),n=Ri(n,a,i,r,t[11],22,-1990404162),r=Ri(r,n,a,i,t[12],7,1804603682),i=Ri(i,r,n,a,t[13],12,-40341101),a=Ri(a,i,r,n,t[14],17,-1502002290),r=Fi(r,n=Ri(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Fi(i,r,n,a,t[6],9,-1069501632),a=Fi(a,i,r,n,t[11],14,643717713),n=Fi(n,a,i,r,t[0],20,-373897302),r=Fi(r,n,a,i,t[5],5,-701558691),i=Fi(i,r,n,a,t[10],9,38016083),a=Fi(a,i,r,n,t[15],14,-660478335),n=Fi(n,a,i,r,t[4],20,-405537848),r=Fi(r,n,a,i,t[9],5,568446438),i=Fi(i,r,n,a,t[14],9,-1019803690),a=Fi(a,i,r,n,t[3],14,-187363961),n=Fi(n,a,i,r,t[8],20,1163531501),r=Fi(r,n,a,i,t[13],5,-1444681467),i=Fi(i,r,n,a,t[2],9,-51403784),a=Fi(a,i,r,n,t[7],14,1735328473),r=$i(r,n=Fi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=$i(i,r,n,a,t[8],11,-2022574463),a=$i(a,i,r,n,t[11],16,1839030562),n=$i(n,a,i,r,t[14],23,-35309556),r=$i(r,n,a,i,t[1],4,-1530992060),i=$i(i,r,n,a,t[4],11,1272893353),a=$i(a,i,r,n,t[7],16,-155497632),n=$i(n,a,i,r,t[10],23,-1094730640),r=$i(r,n,a,i,t[13],4,681279174),i=$i(i,r,n,a,t[0],11,-358537222),a=$i(a,i,r,n,t[3],16,-722521979),n=$i(n,a,i,r,t[6],23,76029189),r=$i(r,n,a,i,t[9],4,-640364487),i=$i(i,r,n,a,t[12],11,-421815835),a=$i(a,i,r,n,t[15],16,530742520),r=Bi(r,n=$i(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Bi(i,r,n,a,t[7],10,1126891415),a=Bi(a,i,r,n,t[14],15,-1416354905),n=Bi(n,a,i,r,t[5],21,-57434055),r=Bi(r,n,a,i,t[12],6,1700485571),i=Bi(i,r,n,a,t[3],10,-1894986606),a=Bi(a,i,r,n,t[10],15,-1051523),n=Bi(n,a,i,r,t[1],21,-2054922799),r=Bi(r,n,a,i,t[8],6,1873313359),i=Bi(i,r,n,a,t[15],10,-30611744),a=Bi(a,i,r,n,t[6],15,-1560198380),n=Bi(n,a,i,r,t[13],21,1309151649),r=Bi(r,n,a,i,t[4],6,-145523070),i=Bi(i,r,n,a,t[11],10,-1120210379),a=Bi(a,i,r,n,t[2],15,718787259),n=Bi(n,a,i,r,t[9],21,-343485551),e[0]=gf(r,e[0]),e[1]=gf(n,e[1]),e[2]=gf(a,e[2]),e[3]=gf(i,e[3])}function v_(e,t,r,n,a,i){return t=gf(gf(t,e),gf(n,i)),gf(t<<a|t>>>32-a,r)}function Ri(e,t,r,n,a,i,s){return v_(t&r|~t&n,e,t,a,i,s)}function Fi(e,t,r,n,a,i,s){return v_(t&n|r&~n,e,t,a,i,s)}function $i(e,t,r,n,a,i,s){return v_(t^r^n,e,t,a,i,s)}function Bi(e,t,r,n,a,i,s){return v_(r^(t|~n),e,t,a,i,s)}function FK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)CA(n,y9e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(CA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,CA(n,a),n}function y9e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}iv=xr.atob.bind(xr),gE=xr.btoa.bind(xr);var bR="0123456789abcdef".split("");function x9e(e){for(var t="",r=0;r<4;r++)t+=bR[e>>8*r+4&15]+bR[e>>8*r&15];return t}function b9e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vE(e){return FK(e).map(b9e).join("")}var w9e=function(e){for(var t=0;t<e.length;t++)e[t]=x9e(e[t]);return e.join("")}(FK("hello"))!="5d41402abc4b2a76b9719d911017c592";function gf(e,t){if(w9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,h=0,p=0,g="";for(l=0;l<d;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wR={print:4,modify:8,copy:16,"annot-forms":32};function d0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(wR.perm!==void 0)throw new Error("Invalid permission: "+o);a+=wR[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=vE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yE(this.encryptionKey,this.padding)}function h0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function _R(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){xr.console&&Dn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pw(e){if(!(this instanceof Pw))return new Pw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $K(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function jd(e,t,r,n,a){if(!(this instanceof jd))return new jd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$K.call(this,n,a)}function L0(e,t,r,n,a){if(!(this instanceof L0))return new L0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$K.call(this,n,a)}function yr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;pn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=_R;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function D(){this.saveGraphicsState(),le(new Yt(ct,0,0,-ct,0,Oi()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",b=w.ADVANCED}function P(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};p.advancedAPI=function(L){var re=b===w.COMPAT;return re&&D.call(this),typeof L!="function"||(L(this),re&&P.call(this)),this},p.compatAPI=function(L){var re=b===w.ADVANCED;return re&&P.call(this),typeof L!="function"||(L(this),re&&D.call(this)),this},p.isAdvancedAPI=function(){return b===w.ADVANCED};var T,_=function(L){if(b!==w.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(L,re){var Ae=t||re;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var O=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?L*ct:b===w.ADVANCED?L:void 0},k=function(L){return b===w.COMPAT?Oi()-L:b===w.ADVANCED?L:void 0},U=function(L){return N(k(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var X,z="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return z},V=p.__private__.setFileId=function(L){return z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(jn=new d0(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(L){return V(L),this},p.getFileId=function(){return G()};var W=p.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Ae=re<0?"+":"-",je=Math.floor(Math.abs(re/60)),Ve=Math.abs(re%60),lt=[Ae,q(je),"'",q(Ve),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),lt].join("")},te=p.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,je=parseInt(L.substr(8,2),10),Ve=parseInt(L.substr(10,2),10),lt=parseInt(L.substr(12,2),10),Ct=parseInt(L.substr(14,2),10);return new Date(re,Ae,je,Ve,lt,Ct,0)},Z=p.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return X=re},I=p.__private__.getCreationDate=function(L){var re=X;return L==="jsDate"&&(re=te(X)),re};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return I(L)};var M,q=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Y=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},J=0,ie=[],fe=[],ae=0,ge=[],ye=[],H=!1,ke=fe,Ce=function(){J=0,ae=0,fe=[],ie=[],ge=[],he=ut(),me=ut()};p.__private__.setCustomOutputDestination=function(L){H=!0,ke=L};var Se=function(L){H||(ke=L)};p.__private__.resetCustomOutputDestination=function(){H=!1,ke=fe};var le=p.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,ke.push(L),ke},Me=p.__private__.write=function(L){return le(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(L){for(var re=L.length,Ae=new ArrayBuffer(re),je=new Uint8Array(Ae);re--;)je[re]=L.charCodeAt(re);return Ae},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ie};var Ye=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Ye=b===w.ADVANCED?L/ct:L,this};var we,Fe=p.__private__.getFontSize=p.getFontSize=function(){return b===w.COMPAT?Ye:Ye*ct},Te=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Te=L,this},p.__private__.getR2L=p.getR2L=function(){return Te};var Oe,qe=p.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))we=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');we=L}else we=parseInt(L,10)};p.__private__.getZoomMode=function(){return we};var nt,ot=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Oe=L};p.__private__.getPageMode=function(){return Oe};var xt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');nt=L};p.__private__.getLayoutMode=function(){return nt},p.__private__.setDisplayMode=p.setDisplayMode=function(L,re,Ae){return qe(L),xt(re),ot(Ae),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[L]},p.__private__.getDocumentProperties=function(){return ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var re in ht)ht.hasOwnProperty(re)&&L[re]&&(ht[re]=L[re]);return this},p.__private__.setDocumentProperty=function(L,re){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[L]=re};var mt,ct,Zt,Ht,Rr,Ir={},Wr={},Pe=[],Re={},rt={},vt={},Nt={},Kt=null,Ft=0,Dt=[],rr=new _R(p),gr=e.hotfixes||[],or={},Tr={},An=[],Yt=function L(re,Ae,je,Ve,lt,Ct){if(!(this instanceof L))return new L(re,Ae,je,Ve,lt,Ct);isNaN(re)&&(re=1),isNaN(Ae)&&(Ae=0),isNaN(je)&&(je=0),isNaN(Ve)&&(Ve=1),isNaN(lt)&&(lt=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,Ae,je,Ve,lt,Ct]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Yt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,je=L.shx*this.sx+L.sy*this.shx,Ve=L.shx*this.shy+L.sy*this.sy,lt=L.tx*this.sx+L.ty*this.shx+this.tx,Ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new Yt(re,Ae,je,Ve,lt,Ct)},Yt.prototype.decompose=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,Ve=this.tx,lt=this.ty,Ct=Math.sqrt(L*L+re*re),Wt=(L/=Ct)*Ae+(re/=Ct)*je;Ae-=L*Wt,je-=re*Wt;var A=Math.sqrt(Ae*Ae+je*je);return Wt/=A,L*(je/=A)<re*(Ae/=A)&&(L=-L,re=-re,Wt=-Wt,Ct=-Ct),{scale:new Yt(Ct,0,0,A,0,0),translate:new Yt(1,0,0,1,Ve,lt),rotate:new Yt(L,re,-re,L,0,0),skew:new Yt(1,0,Wt,1,0,0)}},Yt.prototype.toString=function(L){return this.join(" ")},Yt.prototype.inversed=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,Ve=this.tx,lt=this.ty,Ct=1/(L*je-re*Ae),Wt=je*Ct,A=-re*Ct,B=-Ae*Ct,Q=L*Ct;return new Yt(Wt,A,B,Q,-Wt*Ve-B*lt,-A*Ve-Q*lt)},Yt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new bc(re,Ae)},Yt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Ae=this.applyToPoint(new bc(L.x+L.w,L.y+L.h));return new Cu(re.x,re.y,Ae.x-re.x,Ae.y-re.y)},Yt.prototype.clone=function(){var L=this.sx,re=this.shy,Ae=this.shx,je=this.sy,Ve=this.tx,lt=this.ty;return new Yt(L,re,Ae,je,Ve,lt)},p.Matrix=Yt;var Mn=p.matrixMult=function(L,re){return re.multiply(L)},Rn=new Yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Rn;var Ne=function(L,re){if(!rt[L]){var Ae=(re instanceof jd?"Sh":"P")+(Object.keys(Re).length+1).toString(10);re.id=Ae,rt[L]=Ae,Re[Ae]=re,rr.publish("addPattern",re)}};p.ShadingPattern=jd,p.TilingPattern=L0,p.addShadingPattern=function(L,re){return _("addShadingPattern()"),Ne(L,re),this},p.beginTilingPattern=function(L){_("beginTilingPattern()"),Pu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,re){_("endTilingPattern()"),re.stream=ye[M].join(`
`),Ne(L,re),rr.publish("endTilingPattern",re),An.pop().restore()};var it=p.__private__.newObject=function(){var L=ut();return ee(L,!0),L},ut=p.__private__.newObjectDeferred=function(){return J++,ie[J]=function(){return ae},J},ee=function(L,re){return re=typeof re=="boolean"&&re,ie[L]=ae,re&&le(L+" 0 obj"),L},ve=p.__private__.newAdditionalObject=function(){var L={objId:ut(),content:""};return ge.push(L),L},he=ut(),me=ut(),xe=p.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ae=parseFloat(re[0]);re=[Ae,Ae,Ae,"r"]}for(var je="#",Ve=0;Ve<3;Ve++)je+=("0"+Math.floor(255*parseFloat(re[Ve])).toString(16)).slice(-2);return je},_e=p.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,je=L.ch2,Ve=L.ch3,lt=L.ch4,Ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Wt=new RK(Ae);if(Wt.ok)Ae=Wt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var A=parseInt(Ae.substr(1),16);Ae=A>>16&255,je=A>>8&255,Ve=255&A}if(je===void 0||lt===void 0&&Ae===je&&je===Ve)if(typeof Ae=="string")re=Ae+" "+Ct[0];else switch(L.precision){case 2:re=O(Ae/255)+" "+Ct[0];break;case 3:default:re=E(Ae/255)+" "+Ct[0]}else if(lt===void 0||pn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof Ae=="string")re=[Ae,je,Ve,Ct[1]].join(" ");else switch(L.precision){case 2:re=[O(Ae/255),O(je/255),O(Ve/255),Ct[1]].join(" ");break;default:case 3:re=[E(Ae/255),E(je/255),E(Ve/255),Ct[1]].join(" ")}}else if(typeof Ae=="string")re=[Ae,je,Ve,lt,Ct[2]].join(" ");else switch(L.precision){case 2:re=[O(Ae),O(je),O(Ve),O(lt),Ct[2]].join(" ");break;case 3:default:re=[E(Ae),E(je),E(Ve),E(lt),Ct[2]].join(" ")}return re},He=p.__private__.getFilters=function(){return s},tt=p.__private__.putStream=function(L){var re=(L=L||{}).data||"",Ae=L.filters||He(),je=L.alreadyAppliedFilters||[],Ve=L.addLength1||!1,lt=re.length,Ct=L.objectId,Wt=function(Cr){return Cr};if(u!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Wt=jn.encryptor(Ct,0));var A={};Ae===!0&&(Ae=["FlateEncode"]);var B=L.additionalKeyValues||[],Q=(A=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(re,Ae):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(A.data.length!==0&&(B.push({key:"Length",value:A.data.length}),Ve===!0&&B.push({key:"Length1",value:lt})),Q.length!=0)if(Q.split("/").length-1==1)B.push({key:"Filter",value:Q});else{B.push({key:"Filter",value:"["+Q+"]"});for(var ue=0;ue<B.length;ue+=1)if(B[ue].key==="DecodeParms"){for(var Be=[],et=0;et<A.reverseChain.split("/").length-1;et+=1)Be.push("null");Be.push(B[ue].value),B[ue].value="["+Be.join(" ")+"]"}}le("<<");for(var Pt=0;Pt<B.length;Pt++)le("/"+B[Pt].key+" "+B[Pt].value);le(">>"),A.data.length!==0&&(le("stream"),le(Wt(A.data)),le("endstream"))},Ge=p.__private__.putPage=function(L){var re=L.number,Ae=L.data,je=L.objId,Ve=L.contentsObjId;ee(je,!0),le("<</Type /Page"),le("/Parent "+L.rootDictionaryObjId+" 0 R"),le("/Resources "+L.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&le("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&le("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&le("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&le("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&le("/UserUnit "+L.userUnit),rr.publish("putPage",{objId:je,pageContext:Dt[re],pageNumber:re,page:Ae}),le("/Contents "+Ve+" 0 R"),le(">>"),le("endobj");var lt=Ae.join(`
`);return b===w.ADVANCED&&(lt+=`
Q`),ee(Ve,!0),tt({data:lt,filters:He(),objectId:Ve}),le("endobj"),je},Ke=p.__private__.putPages=function(){var L,re,Ae=[];for(L=1;L<=Ft;L++)Dt[L].objId=ut(),Dt[L].contentsObjId=ut();for(L=1;L<=Ft;L++)Ae.push(Ge({number:L,data:ye[L],objId:Dt[L].objId,contentsObjId:Dt[L].contentsObjId,mediaBox:Dt[L].mediaBox,cropBox:Dt[L].cropBox,bleedBox:Dt[L].bleedBox,trimBox:Dt[L].trimBox,artBox:Dt[L].artBox,userUnit:Dt[L].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));ee(he,!0),le("<</Type /Pages");var je="/Kids [";for(re=0;re<Ft;re++)je+=Ae[re]+" 0 R ";le(je+"]"),le("/Count "+Ft),le(">>"),le("endobj"),rr.publish("postPutPages")},Ze=function(L){rr.publish("putFont",{font:L,out:le,newObject:it,putStream:tt}),L.isAlreadyPutted!==!0&&(L.objectNumber=it(),le("<<"),le("/Type /Font"),le("/BaseFont /"+h0(L.postScriptName)),le("/Subtype /Type1"),typeof L.encoding=="string"&&le("/Encoding /"+L.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Tt=function(){for(var L in Ir)Ir.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&Ze(Ir[L])},Rt=function(L){L.objectNumber=it();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);tt({data:Ae,additionalKeyValues:re,objectId:L.objectNumber}),le("endobj")},Vt=function(){for(var L in or)or.hasOwnProperty(L)&&Rt(or[L])},It=function(L,re){var Ae,je=[],Ve=1/(re-1);for(Ae=0;Ae<1;Ae+=Ve)je.push(Ae);if(je.push(1),L[0].offset!=0){var lt={offset:0,color:L[0].color};L.unshift(lt)}if(L[L.length-1].offset!=1){var Ct={offset:1,color:L[L.length-1].color};L.push(Ct)}for(var Wt="",A=0,B=0;B<je.length;B++){for(Ae=je[B];Ae>L[A+1].offset;)A++;var Q=L[A].offset,ue=(Ae-Q)/(L[A+1].offset-Q),Be=L[A].color,et=L[A+1].color;Wt+=Y(Math.round((1-ue)*Be[0]+ue*et[0]).toString(16))+Y(Math.round((1-ue)*Be[1]+ue*et[1]).toString(16))+Y(Math.round((1-ue)*Be[2]+ue*et[2]).toString(16))}return Wt.trim()},Bt=function(L,re){re||(re=21);var Ae=it(),je=It(L.colors,re),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+re+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:je,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),le("endobj"),L.objectNumber=it(),le("<< /ShadingType "+L.type),le("/ColorSpace /DeviceRGB");var lt="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),le(lt+="]"),L.matrix&&le("/Matrix ["+L.matrix.toString()+"]"),le("/Function "+Ae+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},dr=function(L,re){var Ae=ut(),je=it();re.push({resourcesOid:Ae,objectOid:je}),L.objectNumber=je;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Ve.push({key:"XStep",value:T(L.xStep)}),Ve.push({key:"YStep",value:T(L.yStep)}),Ve.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&Ve.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),tt({data:L.stream,additionalKeyValues:Ve,objectId:L.objectNumber}),le("endobj")},Vr=function(L){var re;for(re in Re)Re.hasOwnProperty(re)&&(Re[re]instanceof jd?Bt(Re[re]):Re[re]instanceof L0&&dr(Re[re],L))},Hr=function(L){for(var re in L.objectNumber=it(),le("<<"),L)switch(re){case"opacity":le("/ca "+O(L[re]));break;case"stroke-opacity":le("/CA "+O(L[re]))}le(">>"),le("endobj")},sn=function(){var L;for(L in vt)vt.hasOwnProperty(L)&&Hr(vt[L])},pi=function(){for(var L in le("/XObject <<"),or)or.hasOwnProperty(L)&&or[L].objectNumber>=0&&le("/"+L+" "+or[L].objectNumber+" 0 R");rr.publish("putXobjectDict"),le(">>")},Ws=function(){jn.oid=it(),le("<<"),le("/Filter /Standard"),le("/V "+jn.v),le("/R "+jn.r),le("/U <"+jn.toHexString(jn.U)+">"),le("/O <"+jn.toHexString(jn.O)+">"),le("/P "+jn.P),le(">>"),le("endobj")},is=function(){for(var L in le("/Font <<"),Ir)Ir.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&le("/"+L+" "+Ir[L].objectNumber+" 0 R");le(">>")},ji=function(){if(Object.keys(Re).length>0){for(var L in le("/Shading <<"),Re)Re.hasOwnProperty(L)&&Re[L]instanceof jd&&Re[L].objectNumber>=0&&le("/"+L+" "+Re[L].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),le(">>")}},ss=function(L){if(Object.keys(Re).length>0){for(var re in le("/Pattern <<"),Re)Re.hasOwnProperty(re)&&Re[re]instanceof p.TilingPattern&&Re[re].objectNumber>=0&&Re[re].objectNumber<L&&le("/"+re+" "+Re[re].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),le(">>")}},Ba=function(){if(Object.keys(vt).length>0){var L;for(L in le("/ExtGState <<"),vt)vt.hasOwnProperty(L)&&vt[L].objectNumber>=0&&le("/"+L+" "+vt[L].objectNumber+" 0 R");rr.publish("putGStateDict"),le(">>")}},Cn=function(L){ee(L.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),is(),ji(),ss(L.objectOid),Ba(),pi(),le(">>"),le("endobj")},pc=function(){var L=[];Tt(),sn(),Vt(),Vr(L),rr.publish("putResources"),L.forEach(Cn),Cn({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},mc=function(){rr.publish("putAdditionalObjects");for(var L=0;L<ge.length;L++){var re=ge[L];ee(re.objId,!0),le(re.content),le("endobj")}rr.publish("postPutAdditionalObjects")},gc=function(L){Wr[L.fontName]=Wr[L.fontName]||{},Wr[L.fontName][L.fontStyle]=L.id},vc=function(L,re,Ae,je,Ve){var lt={id:"F"+(Object.keys(Ir).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Ae,encoding:je,isStandardFont:Ve||!1,metadata:{}};return rr.publish("addFont",{font:lt,instance:this}),Ir[lt.id]=lt,gc(lt),lt.id},se=function(L){for(var re=0,Ae=Ie.length;re<Ae;re++){var je=vc.call(this,L[re][0],L[re][1],L[re][2],Ie[re][3],!0);d===!1&&(h[je]=!0);var Ve=L[re][0].split("-");gc({id:je,fontName:Ve[0],fontStyle:Ve[1]||""})}rr.publish("addFonts",{fonts:Ir,dictionary:Wr})},Ee=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(je){var re=je.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ae="Error in function "+re.split(`
`)[0].split("<")[0]+": "+je.message;if(!xr.console)throw new Error(Ae);xr.console.error(Ae,je),xr.alert&&alert(Ae)}},L.foo.bar=L,L.foo},St=function(L,re){var Ae,je,Ve,lt,Ct,Wt,A,B,Q;if(Ve=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Ir[mt].metadata&&Ir[mt].metadata[Ve]&&Ir[mt].metadata[Ve].encoding&&(lt=Ir[mt].metadata[Ve].encoding,!Ct&&Ir[mt].encoding&&(Ct=Ir[mt].encoding),!Ct&&lt.codePages&&(Ct=lt.codePages[0]),typeof Ct=="string"&&(Ct=lt[Ct]),Ct)){for(A=!1,Wt=[],Ae=0,je=L.length;Ae<je;Ae++)(B=Ct[L.charCodeAt(Ae)])?Wt.push(String.fromCharCode(B)):Wt.push(L[Ae]),Wt[Ae].charCodeAt(0)>>8&&(A=!0);L=Wt.join("")}for(Ae=L.length;A===void 0&&Ae!==0;)L.charCodeAt(Ae-1)>>8&&(A=!0),Ae--;if(!A)return L;for(Wt=re.noBOM?[]:[254,255],Ae=0,je=L.length;Ae<je;Ae++){if((Q=(B=L.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(Q),Wt.push(B-(Q<<8))}return String.fromCharCode.apply(void 0,Wt)},$t=p.__private__.pdfEscape=p.pdfEscape=function(L,re){return St(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pt=p.__private__.beginPage=function(L){ye[++Ft]=[],Dt[Ft]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Lt(Ft),Se(ye[M])},dt=function(L,re){var Ae,je,Ve;switch(r=re||r,typeof L=="string"&&(Ae=y(L.toLowerCase()),Array.isArray(Ae)&&(je=Ae[0],Ve=Ae[1])),Array.isArray(L)&&(je=L[0]*ct,Ve=L[1]*ct),isNaN(je)&&(je=a[0],Ve=a[1]),(je>14400||Ve>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ve=Math.min(14400,Ve)),a=[je,Ve],r.substr(0,1)){case"l":Ve>je&&(a=[Ve,je]);break;case"p":je>Ve&&(a=[Ve,je])}pt(a),cd(ld),le(mi),dd!==0&&le(dd+" J"),ku!==0&&le(ku+" j"),rr.publish("addPage",{pageNumber:Ft})},Ot=function(L){L>0&&L<=Ft&&(ye.splice(L,1),Dt.splice(L,1),Ft--,M>Ft&&(M=Ft),this.setPage(M))},Lt=function(L){L>0&&L<=Ft&&(M=L)},Et=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},ar=function(L,re,Ae){var je,Ve=void 0;return Ae=Ae||{},L=L!==void 0?L:Ir[mt].fontName,re=re!==void 0?re:Ir[mt].fontStyle,je=L.toLowerCase(),Wr[je]!==void 0&&Wr[je][re]!==void 0?Ve=Wr[je][re]:Wr[L]!==void 0&&Wr[L][re]!==void 0?Ve=Wr[L][re]:Ae.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Ve||Ae.noFallback||(Ve=Wr.times[re])==null&&(Ve=Wr.times.normal),Ve},Nr=p.__private__.putInfo=function(){var L=it(),re=function(je){return je};for(var Ae in u!==null&&(re=jn.encryptor(L,0)),le("<<"),le("/Producer ("+$t(re("jsPDF "+yr.version))+")"),ht)ht.hasOwnProperty(Ae)&&ht[Ae]&&le("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+$t(re(ht[Ae]))+")");le("/CreationDate ("+$t(re(X))+")"),le(">>"),le("endobj")},pr=p.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||he;switch(it(),le("<<"),le("/Type /Catalog"),le("/Pages "+re+" 0 R"),we||(we="fullwidth"),we){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+we;Ae.substr(Ae.length-1)==="%"&&(we=parseInt(we)/100),typeof we=="number"&&le("/OpenAction [3 0 R /XYZ null null "+O(we)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Oe&&le("/PageMode /"+Oe),rr.publish("putCatalog"),le(">>"),le("endobj")},Fn=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(J+1)),le("/Root "+J+" 0 R"),le("/Info "+(J-1)+" 0 R"),u!==null&&le("/Encrypt "+jn.oid+" 0 R"),le("/ID [ <"+z+"> <"+z+"> ]"),le(">>")},Pn=p.__private__.putHeader=function(){le("%PDF-"+g),le("%ºß¬à")},Gr=p.__private__.putXRef=function(){var L="0000000000";le("xref"),le("0 "+(J+1)),le("0000000000 65535 f ");for(var re=1;re<=J;re++)typeof ie[re]=="function"?le((L+ie[re]()).slice(-10)+" 00000 n "):ie[re]!==void 0?le((L+ie[re]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Tn=p.__private__.buildDocument=function(){Ce(),Se(fe),rr.publish("buildDocument"),Pn(),Ke(),mc(),pc(),u!==null&&Ws(),Nr(),pr();var L=ae;return Gr(),Fn(),le("startxref"),le(""+L),le("%%EOF"),Se(ye[M]),fe.join(`
`)},ei=p.__private__.getBlob=function(L){return new Blob([We(L)],{type:"application/pdf"})},Wn=p.output=p.__private__.output=Ee(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Tn();case"save":p.save(re.filename);break;case"arraybuffer":return We(Tn());case"blob":return ei(Tn());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(ei(Tn()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",je=Tn();try{Ae=gE(je)}catch{Ae=gE(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ve=re.pdfObjectUrl,lt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Wt=xr.open();return Wt!==null&&Wt.document.write(Ct),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',B=xr.open();if(B!==null){B.document.write(A);var Q=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=re.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Be=xr.open();if(Be!==null&&(Be.document.write(ue),Be.document.title=re.filename),Be||typeof safari>"u")return Be;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",re);default:return null}}),os=function(L){return Array.isArray(gr)===!0&&gr.indexOf(L)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=os("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var jn=null;Z(),V();var bu=function(L){return u!==null?jn.encryptor(L,0):function(re){return re}},id=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[L].objId,pageNumber:L,pageContext:Dt[L]}},wr=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Dt)if(Dt[re].objId===L)break;return id(re)},Dl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Dt[M].objId,pageNumber:M,pageContext:Dt[M]}};p.addPage=function(){return dt.apply(this,arguments),this},p.setPage=function(){return Lt.apply(this,arguments),Se.call(this,ye[M]),this},p.insertPage=function(L){return this.addPage(),this.movePage(M,L),this},p.movePage=function(L,re){var Ae,je;if(L>re){Ae=ye[L],je=Dt[L];for(var Ve=L;Ve>re;Ve--)ye[Ve]=ye[Ve-1],Dt[Ve]=Dt[Ve-1];ye[re]=Ae,Dt[re]=je,this.setPage(re)}else if(L<re){Ae=ye[L],je=Dt[L];for(var lt=L;lt<re;lt++)ye[lt]=ye[lt+1],Dt[lt]=Dt[lt+1];ye[re]=Ae,Dt[re]=je,this.setPage(re)}return this},p.deletePage=function(){return Ot.apply(this,arguments),this},p.__private__.text=p.text=function(L,re,Ae,je,Ve){var lt,Ct,Wt,A,B,Q,ue,Be,et,Pt=(je=je||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Cr=Ae;Ae=re,re=L,L=Cr}if(arguments[3]instanceof Yt?(_("The transform parameter of text() with a Matrix value"),et=Ve):(Wt=arguments[4],A=arguments[5],pn(ue=arguments[3])==="object"&&ue!==null||(typeof Wt=="string"&&(A=Wt,Wt=null),typeof ue=="string"&&(A=ue,ue=null),typeof ue=="number"&&(Wt=ue,ue=null),je={flags:ue,angle:Wt,align:A})),isNaN(re)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Pt;var Kr="",Pr=!1,vn=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:gn,On=Pt.internal.scaleFactor;function el($n){return $n=$n.split("	").join(Array(je.TabLen||9).join(" ")),$t($n,ue)}function gi($n){for(var Bn,xa=$n.concat(),Va=[],Tc=xa.length;Tc--;)typeof(Bn=xa.shift())=="string"?Va.push(Bn):Array.isArray($n)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Va.push(Bn[0]):Va.push([Bn[0],Bn[1],Bn[2]]);return Va}function Fl($n,Bn){var xa;if(typeof $n=="string")xa=Bn($n)[0];else if(Array.isArray($n)){for(var Va,Tc,Om=$n.concat(),Gh=[],_y=Om.length;_y--;)typeof(Va=Om.shift())=="string"?Gh.push(Bn(Va)[0]):Array.isArray(Va)&&typeof Va[0]=="string"&&(Tc=Bn(Va[0],Va[1],Va[2]),Gh.push([Tc[0],Tc[1],Tc[2]]));xa=Gh}return xa}var $l=!1,Tm=!0;if(typeof L=="string")$l=!0;else if(Array.isArray(L)){var Em=L.concat();Ct=[];for(var $h,vi=Em.length;vi--;)(typeof($h=Em.shift())!="string"||Array.isArray($h)&&typeof $h[0]!="string")&&(Tm=!1);$l=Tm}if($l===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Bh=Ye/Pt.internal.scaleFactor,Uh=Bh*(vn-1);switch(je.baseline){case"bottom":Ae-=Uh;break;case"top":Ae+=Bh-Uh;break;case"hanging":Ae+=Bh-2*Uh;break;case"middle":Ae+=Bh/2-Uh}if((Q=je.maxWidth||0)>0&&(typeof L=="string"?L=Pt.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function($n,Bn){return $n.concat(Pt.splitTextToSize(Bn,Q))},[]))),lt={text:L,x:re,y:Ae,options:je,mutex:{pdfEscape:$t,activeFontKey:mt,fonts:Ir,activeFontSize:Ye}},rr.publish("preProcessText",lt),L=lt.text,Wt=(je=lt.options).angle,!(et instanceof Yt)&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,je.rotationDirection===0&&(Wt=-Wt),b===w.ADVANCED&&(Wt=-Wt);var Vh=Math.cos(Wt),Nm=Math.sin(Wt);et=new Yt(Vh,Nm,-Nm,Vh,0,0)}else Wt&&Wt instanceof Yt&&(et=Wt);b!==w.ADVANCED||et||(et=Rn),(B=je.charSpace||xc)!==void 0&&(Kr+=T(N(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Be=je.horizontalScale)!==void 0&&(Kr+=T(100*Be)+` Tz
`),je.lang;var Ns=-1,x_=je.renderingMode!==void 0?je.renderingMode:je.stroke,km=Pt.internal.getCurrentPageInfo().pageContext;switch(x_){case 0:case!1:case"fill":Ns=0;break;case 1:case!0:case"stroke":Ns=1;break;case 2:case"fillThenStroke":Ns=2;break;case 3:case"invisible":Ns=3;break;case 4:case"fillAndAddForClipping":Ns=4;break;case 5:case"strokeAndAddPathForClipping":Ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ns=6;break;case 7:case"addToPathForClipping":Ns=7}var yy=km.usedRenderingMode!==void 0?km.usedRenderingMode:-1;Ns!==-1?Kr+=Ns+` Tr
`:yy!==-1&&(Kr+=`0 Tr
`),Ns!==-1&&(km.usedRenderingMode=Ns),A=je.align||"left";var go,zh=Ye*vn,xy=Pt.internal.pageSize.getWidth(),by=Ir[mt];B=je.charSpace||xc,Q=je.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Iu=[],hd=function($n){return Pt.getStringUnitWidth($n,{font:by,charSpace:B,fontSize:Ye,doKerning:!1})*Ye/On};if(Object.prototype.toString.call(L)==="[object Array]"){var ks;Ct=gi(L),A!=="left"&&(go=Ct.map(hd));var ls,Du=0;if(A==="right"){re-=go[0],L=[],vi=Ct.length;for(var _c=0;_c<vi;_c++)_c===0?(ls=Ks(re),ks=Ua(Ae)):(ls=N(Du-go[_c]),ks=-zh),L.push([Ct[_c],ls,ks]),Du=go[_c]}else if(A==="center"){re-=go[0]/2,L=[],vi=Ct.length;for(var Sc=0;Sc<vi;Sc++)Sc===0?(ls=Ks(re),ks=Ua(Ae)):(ls=N((Du-go[Sc])/2),ks=-zh),L.push([Ct[Sc],ls,ks]),Du=go[Sc]}else if(A==="left"){L=[],vi=Ct.length;for(var qh=0;qh<vi;qh++)L.push(Ct[qh])}else if(A==="justify"&&by.encoding==="Identity-H"){L=[],vi=Ct.length,Q=Q!==0?Q:xy;for(var Ac=0,ya=0;ya<vi;ya++)if(ks=ya===0?Ua(Ae):-zh,ls=ya===0?Ks(re):Ac,ya<vi-1){var Cm=N((Q-go[ya])/(Ct[ya].split(" ").length-1)),cs=Ct[ya].split(" ");L.push([cs[0]+" ",ls,ks]),Ac=0;for(var vo=1;vo<cs.length;vo++){var Wh=(hd(cs[vo-1]+" "+cs[vo])-hd(cs[vo]))*On+Cm;vo==cs.length-1?L.push([cs[vo],Wh,0]):L.push([cs[vo]+" ",Wh,0]),Ac-=Wh}}else L.push([Ct[ya],ls,ks]);L.push(["",Ac,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],vi=Ct.length,Q=Q!==0?Q:xy,ya=0;ya<vi;ya++)ks=ya===0?Ua(Ae):-zh,ls=ya===0?Ks(re):0,ya<vi-1?Iu.push(T(N((Q-go[ya])/(Ct[ya].split(" ").length-1)))):Iu.push(0),L.push([Ct[ya],ls,ks])}}var wy=typeof je.R2L=="boolean"?je.R2L:Te;wy===!0&&(L=Fl(L,function($n,Bn,xa){return[$n.split("").reverse().join(""),Bn,xa]})),lt={text:L,x:re,y:Ae,options:je,mutex:{pdfEscape:$t,activeFontKey:mt,fonts:Ir,activeFontSize:Ye}},rr.publish("postProcessText",lt),L=lt.text,Pr=lt.mutex.isHex||!1;var Pm=Ir[mt].encoding;Pm!=="WinAnsiEncoding"&&Pm!=="StandardEncoding"||(L=Fl(L,function($n,Bn,xa){return[el($n),Bn,xa]})),Ct=gi(L),L=[];for(var pd,md,Lu,gd=0,Hh=1,vd=Array.isArray(Ct[0])?Hh:gd,Mu="",jm=function($n,Bn,xa){var Va="";return xa instanceof Yt?(xa=typeof je.angle=="number"?Mn(xa,new Yt(1,0,0,1,$n,Bn)):Mn(new Yt(1,0,0,1,$n,Bn),xa),b===w.ADVANCED&&(xa=Mn(new Yt(1,0,0,-1,0,0),xa)),Va=xa.join(" ")+` Tm
`):Va=T($n)+" "+T(Bn)+` Td
`,Va},yo=0;yo<Ct.length;yo++){switch(Mu="",vd){case Hh:Lu=(Pr?"<":"(")+Ct[yo][0]+(Pr?">":")"),pd=parseFloat(Ct[yo][1]),md=parseFloat(Ct[yo][2]);break;case gd:Lu=(Pr?"<":"(")+Ct[yo]+(Pr?">":")"),pd=Ks(re),md=Ua(Ae)}Iu!==void 0&&Iu[yo]!==void 0&&(Mu=Iu[yo]+` Tw
`),yo===0?L.push(Mu+jm(pd,md,et)+Lu):vd===gd?L.push(Mu+Lu):vd===Hh&&L.push(Mu+jm(pd,md,et)+Lu)}L=vd===gd?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var xo=`BT
/`;return xo+=mt+" "+Ye+` Tf
`,xo+=T(Ye*vn)+` TL
`,xo+=Jo+`
`,xo+=Kr,xo+=L,le(xo+="ET"),h[mt]=!0,Pt};var Am=p.__private__.clip=p.clip=function(L){return le(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Am("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var mo=p.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return mo(L)&&(c=L),this};var Lh=p.__private__.getStyle=p.getStyle=function(L){var re=c;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Hs=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(L){return wu("f",L),this},p.fillEvenOdd=function(L){return wu("f*",L),this},p.fillStroke=function(L){return wu("B",L),this},p.fillStrokeEvenOdd=function(L){return wu("B*",L),this};var wu=function(L,re){pn(re)==="object"?Su(re,L):le(L)},sd=function(L){L===null||b===w.ADVANCED&&L===void 0||(L=Lh(L),le(L))};function _u(L,re,Ae,je,Ve){var lt=new L0(re||this.boundingBox,Ae||this.xStep,je||this.yStep,this.gState,Ve||this.matrix);lt.stream=this.stream;var Ct=L+"$$"+this.cloneIndex+++"$$";return Ne(Ct,lt),lt}var Su=function(L,re){var Ae=rt[L.key],je=Re[Ae];if(je instanceof jd)le("q"),le(Mh(re)),je.gState&&p.setGState(je.gState),le(L.matrix.toString()+" cm"),le("/"+Ae+" sh"),le("Q");else if(je instanceof L0){var Ve=new Yt(1,0,0,-1,0,Oi());L.matrix&&(Ve=Ve.multiply(L.matrix||Rn),Ae=_u.call(je,L.key,L.boundingBox,L.xStep,L.yStep,Ve).id),le("q"),le("/Pattern cs"),le("/"+Ae+" scn"),je.gState&&p.setGState(je.gState),le(re),le("Q")}},Mh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xo=p.moveTo=function(L,re){return le(T(N(L))+" "+T(U(re))+" m"),this},Gs=p.lineTo=function(L,re){return le(T(N(L))+" "+T(U(re))+" l"),this},Qo=p.curveTo=function(L,re,Ae,je,Ve,lt){return le([T(N(L)),T(U(re)),T(N(Ae)),T(U(je)),T(N(Ve)),T(U(lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,re,Ae,je,Ve){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!mo(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[Ae-L,je-re]],L,re,[1,1],Ve||"S"):this.lines([[Ae-L,je-re]],L,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,re,Ae,je,Ve,lt){var Ct,Wt,A,B,Q,ue,Be,et,Pt,Cr,Kr,Pr;if(typeof L=="number"&&(Pr=Ae,Ae=re,re=L,L=Pr),je=je||[1,1],lt=lt||!1,isNaN(re)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(je)||!mo(Ve)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xo(re,Ae),Ct=je[0],Wt=je[1],B=L.length,Cr=re,Kr=Ae,A=0;A<B;A++)(Q=L[A]).length===2?(Cr=Q[0]*Ct+Cr,Kr=Q[1]*Wt+Kr,Gs(Cr,Kr)):(ue=Q[0]*Ct+Cr,Be=Q[1]*Wt+Kr,et=Q[2]*Ct+Cr,Pt=Q[3]*Wt+Kr,Cr=Q[4]*Ct+Cr,Kr=Q[5]*Wt+Kr,Qo(ue,Be,et,Pt,Cr,Kr));return lt&&Hs(),sd(Ve),this},p.path=function(L){for(var re=0;re<L.length;re++){var Ae=L[re],je=Ae.c;switch(Ae.op){case"m":Xo(je[0],je[1]);break;case"l":Gs(je[0],je[1]);break;case"c":Qo.apply(this,je);break;case"h":Hs()}}return this},p.__private__.rect=p.rect=function(L,re,Ae,je,Ve){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!mo(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(je=-je),le([T(N(L)),T(U(re)),T(N(Ae)),T(N(je)),"re"].join(" ")),sd(Ve),this},p.__private__.triangle=p.triangle=function(L,re,Ae,je,Ve,lt,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||isNaN(Ve)||isNaN(lt)||!mo(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,je-re],[Ve-Ae,lt-je],[L-Ve,re-lt]],L,re,[1,1],Ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,re,Ae,je,Ve,lt,Ct){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||isNaN(Ve)||isNaN(lt)||!mo(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ae),lt=Math.min(lt,.5*je),this.lines([[Ae-2*Ve,0],[Ve*Wt,0,Ve,lt-lt*Wt,Ve,lt],[0,je-2*lt],[0,lt*Wt,-Ve*Wt,lt,-Ve,lt],[2*Ve-Ae,0],[-Ve*Wt,0,-Ve,-lt*Wt,-Ve,-lt],[0,2*lt-je],[0,-lt*Wt,Ve*Wt,-lt,Ve,-lt]],L+Ve,re,[1,1],Ct,!0),this},p.__private__.ellipse=p.ellipse=function(L,re,Ae,je,Ve){if(isNaN(L)||isNaN(re)||isNaN(Ae)||isNaN(je)||!mo(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Ae,Ct=4/3*(Math.SQRT2-1)*je;return Xo(L+Ae,re),Qo(L+Ae,re-Ct,L+lt,re-je,L,re-je),Qo(L-lt,re-je,L-Ae,re-Ct,L-Ae,re),Qo(L-Ae,re+Ct,L-lt,re+je,L,re+je),Qo(L+lt,re+je,L+Ae,re+Ct,L+Ae,re),sd(Ve),this},p.__private__.circle=p.circle=function(L,re,Ae,je){if(isNaN(L)||isNaN(re)||isNaN(Ae)||!mo(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Ae,Ae,je)},p.setFont=function(L,re,Ae){return Ae&&(re=j(re,Ae)),mt=ar(L,re,{disableWarning:!1}),this};var od=p.__private__.getFont=p.getFont=function(){return Ir[ar.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,re,Ae={};for(L in Wr)if(Wr.hasOwnProperty(L))for(re in Ae[L]=[],Wr[L])Wr[L].hasOwnProperty(re)&&Ae[L].push(re);return Ae},p.addFont=function(L,re,Ae,je,Ve){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Ae=j(Ae,je)),Ve=Ve||"Identity-H",vc.call(this,L,re,Ae,Ve)};var gn,ld=e.lineWidth||.200025,Au=p.__private__.getLineWidth=p.getLineWidth=function(){return ld},cd=p.__private__.setLineWidth=p.setLineWidth=function(L){return ld=L,le(T(N(L))+" w"),this};p.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return T(N(Ae))}).join(" "),re=T(N(re)),le("["+L+"] "+re+" d"),this};var ud=p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*gn};p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*gn};var fd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(gn=L),this},yc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return gn};fd(e.lineHeight);var Ks=p.__private__.getHorizontalCoordinate=function(L){return N(L)},Ua=p.__private__.getVerticalCoordinate=function(L){return b===w.ADVANCED?L:Dt[M].mediaBox.topRightY-Dt[M].mediaBox.bottomLeftY-N(L)},Rh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Ks(L))},Ll=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Ua(L))},mi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(mi)},p.__private__.setStrokeColor=p.setDrawColor=function(L,re,Ae,je){return mi=_e({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"draw",precision:2}),le(mi),this};var Tu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(Tu)},p.__private__.setFillColor=p.setFillColor=function(L,re,Ae,je){return Tu=_e({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"fill",precision:2}),le(Tu),this};var Jo=e.textColor||"0 g",Eu=p.__private__.getTextColor=p.getTextColor=function(){return xe(Jo)};p.__private__.setTextColor=p.setTextColor=function(L,re,Ae,je){return Jo=_e({ch1:L,ch2:re,ch3:Ae,ch4:je,pdfColorType:"text",precision:3}),this};var xc=e.charSpace,Nu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(xc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xc=L,this};var dd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dd=re,le(re+" J"),this};var ku=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ku=re,le(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(T(N(L))+" M"),this},p.GState=Pw,p.setGState=function(L){(L=typeof L=="string"?vt[Nt[L]]:Ml(null,L)).equals(Kt)||(le("/"+L.id+" gs"),Kt=L)};var Ml=function(L,re){if(!L||!Nt[L]){var Ae=!1;for(var je in vt)if(vt.hasOwnProperty(je)&&vt[je].equals(re)){Ae=!0;break}if(Ae)re=vt[je];else{var Ve="GS"+(Object.keys(vt).length+1).toString(10);vt[Ve]=re,re.id=Ve}return L&&(Nt[L]=re.id),rr.publish("addGState",re),re}};p.addGState=function(L,re){return Ml(L,re),this},p.saveGraphicsState=function(){return le("q"),Pe.push({key:mt,size:Ye,color:Jo}),this},p.restoreGraphicsState=function(){le("Q");var L=Pe.pop();return mt=L.key,Ye=L.size,Jo=L.color,Kt=null,this},p.setCurrentTransformationMatrix=function(L){return le(L.toString()+" cm"),this},p.comment=function(L){return le("#"+L),this};var bc=function(L,re){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(lt){isNaN(lt)||(Ae=parseFloat(lt))}});var je=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(lt){isNaN(lt)||(je=parseFloat(lt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(lt){Ve=lt.toString()}}),this},Cu=function(L,re,Ae,je){bc.call(this,L,re),this.type="rect";var Ve=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Ct){isNaN(Ct)||(Ve=parseFloat(Ct))}});var lt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(Ct){isNaN(Ct)||(lt=parseFloat(Ct))}}),this},wc=function(){this.page=Ft,this.currentPage=M,this.pages=ye.slice(0),this.pagesContext=Dt.slice(0),this.x=Zt,this.y=Ht,this.matrix=Rr,this.width=Rl(M),this.height=Oi(M),this.outputDestination=ke,this.id="",this.objectNumber=-1};wc.prototype.restore=function(){Ft=this.page,M=this.currentPage,Dt=this.pagesContext,ye=this.pages,Zt=this.x,Ht=this.y,Rr=this.matrix,ju(M,this.width),Ou(M,this.height),ke=this.outputDestination};var Pu=function(L,re,Ae,je,Ve){An.push(new wc),Ft=M=0,ye=[],Zt=L,Ht=re,Rr=Ve,pt([Ae,je])},Fh=function(L){if(Tr[L])An.pop().restore();else{var re=new wc,Ae="Xo"+(Object.keys(or).length+1).toString(10);re.id=Ae,Tr[L]=Ae,or[Ae]=re,rr.publish("addFormObject",re),An.pop().restore()}};for(var Zo in p.beginFormObject=function(L,re,Ae,je,Ve){return Pu(L,re,Ae,je,Ve),this},p.endFormObject=function(L){return Fh(L),this},p.doFormObject=function(L,re){var Ae=or[Tr[L]];return le("q"),le(re.toString()+" cm"),le("/"+Ae.id+" Do"),le("Q"),this},p.getFormObject=function(L){var re=or[Tr[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Cd(ei(Tn()),L),typeof Cd.unload=="function"&&xr.setTimeout&&setTimeout(Cd.unload,911),this):new Promise(function(Ae,je){try{var Ve=Cd(ei(Tn()),L);typeof Cd.unload=="function"&&xr.setTimeout&&setTimeout(Cd.unload,911),Ae(Ve)}catch(lt){je(lt.message)}})},yr.API)yr.API.hasOwnProperty(Zo)&&(Zo==="events"&&yr.API.events.length?function(L,re){var Ae,je,Ve;for(Ve=re.length-1;Ve!==-1;Ve--)Ae=re[Ve][0],je=re[Ve][1],L.subscribe.apply(L,[Ae].concat(typeof je=="function"?[je]:je))}(rr,yr.API.events):p[Zo]=yr.API[Zo]);var Rl=p.getPageWidth=function(L){return(Dt[L=L||M].mediaBox.topRightX-Dt[L].mediaBox.bottomLeftX)/ct},ju=p.setPageWidth=function(L,re){Dt[L].mediaBox.topRightX=re*ct+Dt[L].mediaBox.bottomLeftX},Oi=p.getPageHeight=function(L){return(Dt[L=L||M].mediaBox.topRightY-Dt[L].mediaBox.bottomLeftY)/ct},Ou=p.setPageHeight=function(L,re){Dt[L].mediaBox.topRightY=re*ct+Dt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:$t,getStyle:Lh,getFont:od,getFontSize:Fe,getCharSpace:Nu,getTextColor:Eu,getLineHeight:ud,getLineHeightFactor:yc,getLineWidth:Au,write:Me,getHorizontalCoordinate:Ks,getVerticalCoordinate:Ua,getCoordinateString:Rh,getVerticalCoordinateString:Ll,collections:{},newObject:it,newAdditionalObject:ve,newObjectDeferred:ut,newObjectDeferredBegin:ee,getFilters:He,putStream:tt,events:rr,scaleFactor:ct,pageSize:{getWidth:function(){return Rl(M)},setWidth:function(L){ju(M,L)},getHeight:function(){return Oi(M)},setHeight:function(L){Ou(M,L)}},encryptionOptions:u,encryption:jn,getEncryptor:bu,output:Wn,getNumberOfPages:Et,pages:ye,out:le,f2:O,f3:E,getPageInfo:id,getPageInfoByObjId:wr,getCurrentPageInfo:Dl,getPDFVersion:m,Point:bc,Rectangle:Cu,Matrix:Yt,hasHotfix:os},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Rl(M)},set:function(L){ju(M,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Oi(M)},set:function(L){Ou(M,L)},enumerable:!0,configurable:!0}),se.call(p,Ie),mt="F1",dt(a,r),rr.publish("initialized"),p}d0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},d0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},d0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},d0.prototype.processOwnerPassword=function(e,t){return yE(vE(t).substr(0,5),e)},d0.prototype.encryptor=function(e,t){var r=vE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return yE(r,n)}},Pw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.1";var fa=yr.API,jP=1,Dh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(e){return e.toFixed(2)},Ku=function(e){return e.toFixed(5)};fa.__acroform__={};var qs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},SR=function(e){return e*jP},ql=function(e){var t=new UK,r=nr.internal.getHeight(e)||0,n=nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jr(n)),Number(jr(r))],t},_9e=fa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},S9e=fa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},A9e=fa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Sa=fa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A9e(e,t-1)},Aa=fa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _9e(e,t-1)},Ta=fa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return S9e(e,t-1)},T9e=fa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(jr(l.lowerLeft_X)),Number(jr(l.lowerLeft_Y)),Number(jr(l.upperRight_X)),Number(jr(l.upperRight_Y))]},E9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=xE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+jr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ql(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},xE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=nr.internal.getHeight(e)||0;s=s<0?-s:s;var o=nr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,k){if(E+1<a.length){var U=N+" "+a[E+1][0];return Ux(U,e,k).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=Ux("3",e,i).height,h=e.multiline?s-i:(s-d)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ux(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var D=!1;if(a[b].length!==1&&v!==a[b].length-1){if((d+2)*(w+2)+2>s)continue e;y+=a[b][v],D=!0,m=b,b--}else{y=(y+=a[b][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(b),j=l(P,y,i),T=b>=a.length-1;if(j&&!T){y+=" ",v=0;continue}if(j||T){if(T)m=P;else if(e.multiline&&(d+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(w+2)+2>s)continue e;m=P}}for(var _="",S=g;S<=m;S++){var O=a[S];if(e.multiline){if(S===m){_+=O[v]+" ",v=(v+1)%O.length;continue}if(S===g){_+=O[O.length-1]+" ";continue}}_+=O[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Ux(_,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=jr(c)+" "+jr(p)+` Td
`,t+="("+Dh(_)+`) Tj
`,t+=-jr(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},Ux=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},N9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},C9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),pn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},P9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ol.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(N9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new VK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&k9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=T9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nr.createDefaultAppearanceStream(o),pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=E9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&C9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},BK=fa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),pn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Dh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},PA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Dh(n(e))+")"},Yl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yl.prototype.toString=function(){return this.objId+" 0 R"},Yl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:BK(a,this.objId,this.scope)}):a instanceof Yl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var UK=function(){Yl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};qs(UK,Yl);var VK=function(){Yl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dh(r(e))+")"}},set:function(r){e=r}})};qs(VK,Yl);var Ol=function e(){Yl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sa(t,3)},set:function(y){y?this.F=Aa(t,3):this.F=Ta(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof jw)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Dh(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/jP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof jw||this instanceof Zd))return PA(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof oi?h:PA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof oi?y:y.substr(0,1)==="("?s0(y.substr(1,y.length-2)):s0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?s0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof oi?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof oi?p:PA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof oi?y:y.substr(0,1)==="("?s0(y.substr(1,y.length-2)):s0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?s0(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof oi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,1)},set:function(y){y?this.Ff=Aa(this.Ff,1):this.Ff=Ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,2)},set:function(y){y?this.Ff=Aa(this.Ff,2):this.Ff=Ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,3)},set:function(y){y?this.Ff=Aa(this.Ff,3):this.Ff=Ta(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};qs(Ol,Yl);var J0=function(){Ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,18)},set:function(r){r?this.Ff=Aa(this.Ff,18):this.Ff=Ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Aa(this.Ff,19):this.Ff=Ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,20)},set:function(r){r?(this.Ff=Aa(this.Ff,20),t.sort()):this.Ff=Ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,22)},set:function(r){r?this.Ff=Aa(this.Ff,22):this.Ff=Ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,23)},set:function(r){r?this.Ff=Aa(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,27)},set:function(r){r?this.Ff=Aa(this.Ff,27):this.Ff=Ta(this.Ff,27)}}),this.hasAppearanceStream=!1};qs(J0,Ol);var Z0=function(){J0.call(this),this.fontName="helvetica",this.combo=!1};qs(Z0,J0);var ep=function(){Z0.call(this),this.combo=!0};qs(ep,Z0);var m2=function(){ep.call(this),this.edit=!0};qs(m2,ep);var oi=function(){Ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,15)},set:function(r){r?this.Ff=Aa(this.Ff,15):this.Ff=Ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,16)},set:function(r){r?this.Ff=Aa(this.Ff,16):this.Ff=Ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,17)},set:function(r){r?this.Ff=Aa(this.Ff,17):this.Ff=Ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,26)},set:function(r){r?this.Ff=Aa(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Dh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};qs(oi,Ol);var g2=function(){oi.call(this),this.pushButton=!0};qs(g2,oi);var tp=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qs(tp,oi);var jw=function(){var e,t;Ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Dh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){pn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qs(jw,Ol),tp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},tp.prototype.createOption=function(e){var t=new jw;return t.Parent=this,t.optionName=e,this.Kids.push(t),j9e.call(this.scope,t),t};var v2=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nr.CheckBox.createAppearanceStream()};qs(v2,oi);var Zd=function(){Ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,13)},set:function(t){t?this.Ff=Aa(this.Ff,13):this.Ff=Ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,21)},set:function(t){t?this.Ff=Aa(this.Ff,21):this.Ff=Ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,23)},set:function(t){t?this.Ff=Aa(this.Ff,23):this.Ff=Ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,24)},set:function(t){t?this.Ff=Aa(this.Ff,24):this.Ff=Ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,25)},set:function(t){t?this.Ff=Aa(this.Ff,25):this.Ff=Ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,26)},set:function(t){t?this.Ff=Aa(this.Ff,26):this.Ff=Ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qs(Zd,Ol);var y2=function(){Zd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sa(this.Ff,14)},set:function(e){e?this.Ff=Aa(this.Ff,14):this.Ff=Ta(this.Ff,14)}}),this.password=!0};qs(y2,Zd);var nr={CheckBox:{createAppearanceStream:function(){return{N:{On:nr.CheckBox.YesNormal},D:{On:nr.CheckBox.YesPushDown,Off:nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=xE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=nr.internal.getHeight(e),s=nr.internal.getWidth(e),o=xE(e,e.caption);return a.push("1 g"),a.push("0 0 "+jr(s)+" "+jr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jr(s-1)+" "+jr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Circle.YesNormal,t.D[e]=nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=nr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ku(nr.internal.getWidth(e)/2)+" "+Ku(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5)),s=Number((n*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(nr.internal.getWidth(e)/2)+" "+Ku(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ku(nr.internal.getWidth(e)/2)+" "+Ku(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ku(nr.internal.getWidth(e)/2)+" "+Ku(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Cross.YesNormal,t.D[e]=nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ql(e);t.scope=e.scope;var r=[],n=nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=nr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ql(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nr.internal.getWidth(e),r=nr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nr.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=SR(e.Rect[2])),t},nr.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=SR(e.Rect[3])),t};var j9e=fa.addField=function(e){if(P9e(this,e),!(e instanceof Ol))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fa.AcroFormChoiceField=J0,fa.AcroFormListBox=Z0,fa.AcroFormComboBox=ep,fa.AcroFormEditBox=m2,fa.AcroFormButton=oi,fa.AcroFormPushButton=g2,fa.AcroFormRadioButton=tp,fa.AcroFormCheckBox=v2,fa.AcroFormTextField=Zd,fa.AcroFormPasswordField=y2,fa.AcroFormAppearance=nr,fa.AcroForm={ChoiceField:J0,ListBox:Z0,ComboBox:ep,EditBox:m2,Button:oi,PushButton:g2,RadioButton:tp,CheckBox:v2,TextField:Zd,PasswordField:y2,Appearance:nr},yr.AcroForm={ChoiceField:J0,ListBox:Z0,ComboBox:ep,EditBox:m2,Button:oi,PushButton:g2,RadioButton:tp,CheckBox:v2,TextField:Zd,PasswordField:y2,Appearance:nr};function zK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var k,U,X,z,G,V=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(j(E))for(G in r)for(X=r[G],k=0;k<X.length;k+=1){for(z=!0,U=0;U<X[k].length;U+=1)if(X[k][U]!==void 0&&X[k][U]!==E[U]){z=!1;break}if(z===!0){V=G;break}}else for(G in r)for(X=r[G],k=0;k<X.length;k+=1){for(z=!0,U=0;U<X[k].length;U+=1)if(X[k][U]!==void 0&&X[k][U]!==E.charCodeAt(U)){z=!1;break}if(z===!0){V=G;break}}return V===t&&N!==t&&(V=N),V},a=function E(N){for(var k=this.internal.write,U=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:N.width}),z.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var G="",V=0,W=N.transparency.length;V<W;V++)G+=N.transparency[V]+" "+N.transparency[V]+" ";z.push({key:"Mask",value:"["+G+"]"})}N.sMask!==void 0&&z.push({key:"SMask",value:N.objectId+1+" 0 R"});var te=N.filter!==void 0?["/"+N.filter]:void 0;if(U({data:N.data,additionalKeyValues:z,alreadyAppliedFilters:te,objectId:N.objectId}),k("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(I.filter=N.filter),E.call(this,I)}if(N.colorSpace===v.INDEXED){var M=this.internal.newObject();U({data:_(new Uint8Array(N.palette)),objectId:M}),k("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,k=this.internal.write;for(var U in N)k("/I"+(E=N[U]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return pn(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var k=""+E.getAttribute("src");if(k.indexOf("data:image/")===0)return iv(unescape(k).split("base64,").pop());var U=e.loadFile(k,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var X;switch(N){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return iv(E.toDataURL(X,1).split("base64,").pop())}},p=function(E){var N=this.internal.collections.addImage_images;if(N){for(var k in N)if(E===N[k].alias)return N[k]}},g=function(E,N,k){return E||N||(E=-96,N=-96),E<0&&(E=-1*k.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*k.height*72/N/this.internal.scaleFactor),E===0&&(E=N*k.width/k.height),N===0&&(N=E*k.height/k.width),[E,N]},m=function(E,N,k,U,X,z){var G=g.call(this,k,U,X),V=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,te=l.call(this);if(k=G[0],U=G[1],te[X.index]=X,z){z*=Math.PI/180;var Z=Math.cos(z),I=Math.sin(z),M=function(Y){return Y.toFixed(4)},q=[M(Z),M(I),M(-1*I),M(Z),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(E),W(N+U),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([V(k),"0","0",V(U),"0","0","cm"].join(" "))):this.internal.write([V(k),"0","0",V(U),V(E),W(N+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var N,k,U=0;if(typeof E=="string")for(k=E.length,N=0;N<k;N++)U=(U<<5)-U+E.charCodeAt(N),U|=0;else if(j(E))for(k=E.byteLength/2,N=0;N<k;N++)U=(U<<5)-U+E[N],U|=0;return U},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,k=new Uint8Array(N),U=0;U<N;U++)k[U]=E.charCodeAt(U);return k},_=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",k=j(E)?E:new Uint8Array(E),U=0;U<k.length;U+=8192)N+=String.fromCharCode.apply(null,k.subarray(U,U+8192));return N};e.addImage=function(){var E,N,k,U,X,z,G,V,W;if(typeof arguments[1]=="number"?(N=t,k=arguments[1],U=arguments[2],X=arguments[3],z=arguments[4],G=arguments[5],V=arguments[6],W=arguments[7]):(N=arguments[1],k=arguments[2],U=arguments[3],X=arguments[4],z=arguments[5],G=arguments[6],V=arguments[7],W=arguments[8]),pn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var te=E;E=te.imageData,N=te.format||N||t,k=te.x||k||0,U=te.y||U||0,X=te.w||te.width||X,z=te.h||te.height||z,G=te.alias||G,V=te.compression||V,W=te.rotation||te.angle||W}var Z=this.internal.getFilters();if(V===void 0&&Z.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(k)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=S.call(this,E,N,G,V);return m.call(this,k,U,X,z,I,W),this};var S=function(E,N,k,U){var X,z,G;if(typeof E=="string"&&n(E)===t){E=unescape(E);var V=O(E,!1);(V!==""||(V=e.loadFile(E,!0))!==void 0)&&(E=V)}if(d(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((G=k)==null||G.length===0)&&(k=function(W){return typeof W=="string"||j(W)?w(W):j(W.data)?w(W.data):null}(E)),(X=p.call(this,k))||(P()&&(E instanceof Uint8Array||N==="RGBA"||(z=E,E=T(E))),X=this["process"+N.toUpperCase()](E,c.call(this),k,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:y.NONE}(U),z)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},O=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var k,U="";if(typeof E=="string"){var X;k=(X=D(E))!==null&&X!==void 0?X:E;try{U=iv(k)}catch(z){if(N)throw b(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var N,k,U="";if(d(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((U=O(E,!1))===""&&(U=e.loadFile(E)||""),E=U),k=n(E),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!P()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+k.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=k,N}})(yr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(w))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",b=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(b++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,b=0),v===m.length-1&&(y=r,w+=m.charAt(v-(b-1)),v-=b-1,b=0)):(y=r,w+=m.charAt(v-b),v-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,w=0,b="",D="",P="",j=(m=m||"").split("\\s+"),T=[];for(v=0;v<j.length;v+=1){for(T.push(""),y=0;y<j[v].length;y+=1)b=j[v][y],D=j[v][y-1],P=j[v][y+1],s(b)?(w=h(b,D,P),T[v]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):T[v]+=b;T[v]=d(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(yr.API),yr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,D){return b.concat(v.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:d})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],w=[],b=[],D={},P={},j=[],T=[],_=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,O=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=U,this.setFontSize(O),d==null)w=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&pn(d[0])==="object")for(y=d.map(function(te){return te.name}),w=d.map(function(te){return te.prompt||te.name||""}),b=d.map(function(te){return te.align||"left"}),p=0;p<d.length;p+=1)P[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,b=y.map(function(){return"left"}));if(_||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(D[v=y[p]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,j)+N+N,j=[]}if(S){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=w[p],X[y[p]].align=b[p];var z=o.call(this,X,P);T=y.map(function(te){return new i(l,c,P[te],z,X[te].text,void 0,X[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var G=d.reduce(function(te,Z){return te[Z.name]=Z.align,te},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var V=o.call(this,u[p],P);for(m=0;m<y.length;m+=1){var W=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:W},this),s.call(this,new i(l,c,P[y[m]],V,W,p+2,G[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(yr.API);var qK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bE=zK(WK),HK=[100,200,300,400,500,600,700,800,900],O9e=zK(HK);function wE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof bE[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function AR(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var I9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ER(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function D9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},I9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=wE(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+ER(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=bE[l],d=u<=bE.normal?-1:1,h=AR(c,WK,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=qK[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=O9e[l],d=AR(c,HK,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+ER(i)+"'.");return s}function NR(e){return e.trimLeft()}function L9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function M9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vx,kR,CR,jA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=I;Object.defineProperty(this,"pdf",{get:function(){return M}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Se){q=!!Se}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(Se){Y=!!Se}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Se){isNaN(Se)||(J=Se)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Se){isNaN(Se)||(ie=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var le;typeof Se=="number"?le=[Se,Se,Se,Se]:((le=new Array(4))[0]=Se[0],le[1]=Se.length>=2?Se[1]:le[0],le[2]=Se.length>=3?Se[2]:le[0],le[3]=Se.length>=4?Se[3]:le[1]),c.margin=le}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Se){fe=Se}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Se){ae=Se}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Se){ge=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Se){ye=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var le;le=h(Se),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var le=h(Se);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var H=null;function ke(Se,le){if(H===null){var Me=function(We){var Ie=[];return Object.keys(We).forEach(function(Ye){We[Ye].forEach(function(we){var Fe=null;switch(we){case"bold":Fe={family:Ye,weight:"bold"};break;case"italic":Fe={family:Ye,style:"italic"};break;case"bolditalic":Fe={family:Ye,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Ye}}Fe!==null&&(Fe.ref={name:Ye,style:we},Ie.push(Fe))})}),Ie}(Se.getFontList());H=function(We){for(var Ie={},Ye=0;Ye<We.length;++Ye){var we=wE(We[Ye]),Fe=we.family,Te=we.stretch,Oe=we.style,qe=we.weight;Ie[Fe]=Ie[Fe]||{},Ie[Fe][Te]=Ie[Fe][Te]||{},Ie[Fe][Te][Oe]=Ie[Fe][Te][Oe]||{},Ie[Fe][Te][Oe][qe]=we}return Ie}(Me.concat(le))}return H}var Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(Se){H=null,Ce=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var le;if(this.ctx.font=Se,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Me=le[1];le[2];var We=le[3],Ie=le[4];le[5];var Ye=le[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(we==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Fe=function(ht){var mt,ct,Zt=[],Ht=ht.trim();if(Ht==="")return jA;if(Ht in TR)return[TR[Ht]];for(;Ht!=="";){switch(ct=null,mt=(Ht=NR(Ht)).charAt(0)){case'"':case"'":ct=L9e(Ht.substring(1),mt);break;default:ct=M9e(Ht)}if(ct===null||(Zt.push(ct[0]),(Ht=NR(ct[1]))!==""&&Ht.charAt(0)!==","))return jA;Ht=Ht.replace(/^,/,"")}return Zt}(Ye);if(this.fontFaces){var Te=D9e(ke(this.pdf,this.fontFaces),Fe.map(function(ht){return{family:ht,stretch:"normal",weight:We,style:Me}}));this.pdf.setFont(Te.ref.name,Te.ref.style)}else{var Oe="";(We==="bold"||parseInt(We,10)>=700||Me==="bold")&&(Oe="bold"),Me==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var qe="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<Fe.length;ot++){if(this.pdf.internal.getFont(Fe[ot],Oe,{noFallback:!0,disableWarning:!0})!==void 0){qe=Fe[ot];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(Fe[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=Fe[ot],Oe="bold";else if(this.pdf.internal.getFont(Fe[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=Fe[ot],Oe="normal";break}}if(qe===""){for(var xt=0;xt<Fe.length;xt++)if(nt[Fe[xt]]){qe=nt[Fe[xt]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};d.prototype.setLineDash=function(I){this.lineDash=I},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){D.call(this,"fill",!1)},d.prototype.stroke=function(){D.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(I,M){if(isNaN(I)||isNaN(M))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(I,M)},d.prototype.closePath=function(){var I=new s(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&pn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){I=new s(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},d.prototype.lineTo=function(I,M){if(isNaN(I)||isNaN(M))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},d.prototype.quadraticCurveTo=function(I,M,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(I)||isNaN(M))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(q,Y)),ie=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.bezierCurveTo=function(I,M,q,Y,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(J,ie)),ae=this.ctx.transform.applyToPoint(new s(I,M)),ge=this.ctx.transform.applyToPoint(new s(q,Y));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ge.x,y2:ge.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},d.prototype.arc=function(I,M,q,Y,J,ie){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y)||isNaN(J))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(I,M));I=fe.x,M=fe.y;var ae=this.ctx.transform.applyToPoint(new s(0,q)),ge=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ae.x-ge.x,2)+Math.pow(ae.y-ge.y,2))}Math.abs(J-Y)>=2*Math.PI&&(Y=0,J=2*Math.PI),this.path.push({type:"arc",x:I,y:M,radius:q,startAngle:Y,endAngle:J,counterclockwise:ie})},d.prototype.arcTo=function(I,M,q,Y,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(I,M,q,Y){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,M),this.lineTo(I+q,M),this.lineTo(I+q,M+Y),this.lineTo(I,M+Y),this.lineTo(I,M),this.lineTo(I+q,M),this.lineTo(I,M)},d.prototype.fillRect=function(I,M,q,Y){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,M,q,Y),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(I,M,q,Y){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,M,q,Y),this.stroke())},d.prototype.clearRect=function(I,M,q,Y){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,M,q,Y))},d.prototype.save=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(M),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(I){var M,q,Y,J;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))M=0,q=0,Y=0,J=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ie!==null)M=parseInt(ie[1]),q=parseInt(ie[2]),Y=parseInt(ie[3]),J=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)M=parseInt(ie[1]),q=parseInt(ie[2]),Y=parseInt(ie[3]),J=parseFloat(ie[4]);else{if(J=1,typeof I=="string"&&I.charAt(0)!=="#"){var fe=new RK(I);I=fe.ok?fe.toHex():"#000000"}I.length===4?(M=I.substring(1,2),M+=M,q=I.substring(2,3),q+=q,Y=I.substring(3,4),Y+=Y):(M=I.substring(1,3),q=I.substring(3,5),Y=I.substring(5,7)),M=parseInt(M,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:M,g:q,b:Y,a:J,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(I,M,q,Y){if(isNaN(M)||isNaN(q)||typeof I!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!p.call(this)){var J=V(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:q,scale:ie,angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(I,M,q,Y){if(isNaN(M)||isNaN(q)||typeof I!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Y=isNaN(Y)?void 0:Y;var J=V(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:q,scale:ie,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(I){if(typeof I!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,q=this.pdf.internal.scaleFactor,Y=M.internal.getFontSize(),J=M.getStringUnitWidth(I)*Y/M.internal.scaleFactor,ie=function(fe){var ae=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new ie({width:J*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(I,M){if(isNaN(I)||isNaN(M))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(I,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(I){if(isNaN(I))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.translate=function(I,M){if(isNaN(I)||isNaN(M))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,I,M);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(I,M,q,Y,J,ie){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(Y)||isNaN(J)||isNaN(ie))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(I,M,q,Y,J,ie);this.ctx.transform=this.ctx.transform.multiply(fe)},d.prototype.setTransform=function(I,M,q,Y,J,ie){I=isNaN(I)?1:I,M=isNaN(M)?0:M,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,J=isNaN(J)?0:J,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(I,M,q,Y,J,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(I,M,q,Y,J,ie,fe,ae,ge){var ye=this.pdf.getImageProperties(I),H=1,ke=1,Ce=1,Se=1;Y!==void 0&&ae!==void 0&&(Ce=ae/Y,Se=ge/J,H=ye.width/Y*ae/Y,ke=ye.height/J*ge/J),ie===void 0&&(ie=M,fe=q,M=0,q=0),Y!==void 0&&ae===void 0&&(ae=Y,ge=J),Y===void 0&&ae===void 0&&(ae=ye.width,ge=ye.height);for(var le,Me=this.ctx.transform.decompose(),We=V(Me.rotate.shx),Ie=new l,Ye=(Ie=(Ie=(Ie=Ie.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(ie-M*Ce,fe-q*Se,Y*H,J*ke)),we=v.call(this,Ye),Fe=[],Te=0;Te<we.length;Te+=1)Fe.indexOf(we[Te])===-1&&Fe.push(we[Te]);if(b(Fe),this.autoPaging)for(var Oe=Fe[0],qe=Fe[Fe.length-1],nt=Oe;nt<qe+1;nt++){this.pdf.setPage(nt);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=nt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=nt===1?0:ht+(nt-2)*mt;if(this.ctx.clip_path.length!==0){var Zt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(le,this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Zt}var Ht=JSON.parse(JSON.stringify(Ye));Ht=w([Ht],this.posX+this.margin[3],-ct+xt+this.ctx.prevPageLastElemOffset)[0];var Rr=(nt>Oe||nt<qe)&&m.call(this);Rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,mt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,We),Rr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,We)};var v=function(I,M,q){var Y=[];M=M||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Y.push(Math.floor((I.y+J)/q)+1);break;case"arc":Y.push(Math.floor((I.y+J-I.radius)/q)+1),Y.push(Math.floor((I.y+J+I.radius)/q)+1);break;case"qct":var ie=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Y.push(Math.floor((ie.y+J)/q)+1),Y.push(Math.floor((ie.y+ie.h+J)/q)+1);break;case"bct":var fe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Y.push(Math.floor((fe.y+J)/q)+1),Y.push(Math.floor((fe.y+fe.h+J)/q)+1);break;case"rect":Y.push(Math.floor((I.y+J)/q)+1),Y.push(Math.floor((I.y+I.h+J)/q)+1)}for(var ae=0;ae<Y.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ae];)y.call(this);return Y},y=function(){var I=this.fillStyle,M=this.strokeStyle,q=this.font,Y=this.lineCap,J=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=M,this.font=q,this.lineCap=Y,this.lineWidth=J,this.lineJoin=ie},w=function(I,M,q){for(var Y=0;Y<I.length;Y++)switch(I[Y].type){case"bct":I[Y].x2+=M,I[Y].y2+=q;case"qct":I[Y].x1+=M,I[Y].y1+=q;case"mt":case"lt":case"arc":default:I[Y].x+=M,I[Y].y+=q}return I},b=function(I){return I.sort(function(M,q){return M-q})},D=function(I,M){for(var q,Y,J=this.fillStyle,ie=this.strokeStyle,fe=this.lineCap,ae=this.lineWidth,ge=Math.abs(ae*this.ctx.transform.scaleX),ye=this.lineJoin,H=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ce=[],Se=0;Se<ke.length;Se++)if(ke[Se].x!==void 0)for(var le=v.call(this,ke[Se]),Me=0;Me<le.length;Me+=1)Ce.indexOf(le[Me])===-1&&Ce.push(le[Me]);for(var We=0;We<Ce.length;We++)for(;this.pdf.internal.getNumberOfPages()<Ce[We];)y.call(this);if(b(Ce),this.autoPaging)for(var Ie=Ce[0],Ye=Ce[Ce.length-1],we=Ie;we<Ye+1;we++){this.pdf.setPage(we),this.fillStyle=J,this.strokeStyle=ie,this.lineCap=fe,this.lineWidth=ge,this.lineJoin=ye;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=we===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=we===1?0:Oe+(we-2)*qe;if(this.ctx.clip_path.length!==0){var ot=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-nt+Te+this.ctx.prevPageLastElemOffset),P.call(this,I,!0),this.path=ot}if(Y=JSON.parse(JSON.stringify(H)),this.path=w(Y,this.posX+this.margin[3],-nt+Te+this.ctx.prevPageLastElemOffset),M===!1||we===0){var xt=(we>Ie||we<Ye)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,qe,null).clip().discardPath()),P.call(this,I,M),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=ge,P.call(this,I,M),this.lineWidth=ae;this.path=H},P=function(I,M){if((I!=="stroke"||M||!g.call(this))&&(I==="stroke"||M||!p.call(this))){for(var q,Y,J=[],ie=this.path,fe=0;fe<ie.length;fe++){var ae=ie[fe];switch(ae.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ae,deltas:[],abs:[]});break;case"lt":var ge=J.length;if(ie[fe-1]&&!isNaN(ie[fe-1].x)&&(q=[ae.x-ie[fe-1].x,ae.y-ie[fe-1].y],ge>0)){for(;ge>=0;ge--)if(J[ge-1].close!==!0&&J[ge-1].begin!==!0){J[ge-1].deltas.push(q),J[ge-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-ie[fe-1].x,ae.y1-ie[fe-1].y,ae.x2-ie[fe-1].x,ae.y2-ie[fe-1].y,ae.x-ie[fe-1].x,ae.y-ie[fe-1].y],J[J.length-1].deltas.push(q);break;case"qct":var ye=ie[fe-1].x+2/3*(ae.x1-ie[fe-1].x),H=ie[fe-1].y+2/3*(ae.y1-ie[fe-1].y),ke=ae.x+2/3*(ae.x1-ae.x),Ce=ae.y+2/3*(ae.y1-ae.y),Se=ae.x,le=ae.y;q=[ye-ie[fe-1].x,H-ie[fe-1].y,ke-ie[fe-1].x,Ce-ie[fe-1].y,Se-ie[fe-1].x,le-ie[fe-1].y],J[J.length-1].deltas.push(q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ae)}}Y=M?null:I==="stroke"?"stroke":"fill";for(var Me=!1,We=0;We<J.length;We++)if(J[We].arc)for(var Ie=J[We].abs,Ye=0;Ye<Ie.length;Ye++){var we=Ie[Ye];we.type==="arc"?_.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,M,!Me):k.call(this,we.x,we.y),Me=!0}else if(J[We].close===!0)this.pdf.internal.out("h"),Me=!1;else if(J[We].begin!==!0){var Fe=J[We].start.x,Te=J[We].start.y;U.call(this,J[We].deltas,Fe,Te),Me=!0}Y&&S.call(this,Y),M&&O.call(this)}},j=function(I){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-q;case"top":return I+M-q;case"hanging":return I+M-2*q;case"middle":return I+M/2-q;case"ideographic":return I;case"alphabetic":default:return I}},T=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(M,q){this.colorStops.push([M,q])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(I,M,q,Y,J,ie,fe,ae,ge){for(var ye=z.call(this,q,Y,J,ie),H=0;H<ye.length;H++){var ke=ye[H];H===0&&(ge?E.call(this,ke.x1+I,ke.y1+M):k.call(this,ke.x1+I,ke.y1+M)),X.call(this,I,M,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ae?O.call(this):S.call(this,fe)},S=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(I,M){this.pdf.internal.out(r(I)+" "+n(M)+" m")},N=function(I){var M;switch(I.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var q=this.pdf.getTextDimensions(I.text),Y=j.call(this,I.y),J=T.call(this,Y)-q.h,ie=this.ctx.transform.applyToPoint(new s(I.x,Y)),fe=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ge,ye,H,ke=this.ctx.transform.applyToRectangle(new o(I.x,Y,q.w,q.h)),Ce=ae.applyToRectangle(new o(I.x,J,q.w,q.h)),Se=v.call(this,Ce),le=[],Me=0;Me<Se.length;Me+=1)le.indexOf(Se[Me])===-1&&le.push(Se[Me]);if(b(le),this.autoPaging)for(var We=le[0],Ie=le[le.length-1],Ye=We;Ye<Ie+1;Ye++){this.pdf.setPage(Ye);var we=Ye===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],Oe=Te-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],nt=qe-this.margin[3],ot=Ye===1?0:Fe+(Ye-2)*Oe;if(this.ctx.clip_path.length!==0){var xt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*ot+we),P.call(this,"fill",!0),this.path=xt}var ht=w([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ot+we+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale);var mt=this.autoPaging!=="text";if(mt||ht.y+ht.h<=Te){if(mt||ht.y>=we&&ht.x<=qe){var ct=mt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||qe-ht.x)[0],Zt=w([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ot+we+this.ctx.prevPageLastElemOffset)[0],Ht=mt&&(Ye>We||Ye<Ie)&&m.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Oe,null).clip().discardPath()),this.pdf.text(ct,Zt.x,Zt.y,{angle:I.angle,align:M,renderingMode:I.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else ht.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-ht.y);I.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=H)}else I.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale),this.pdf.text(I.text,ie.x+this.posX,ie.y+this.posY,{angle:I.angle,align:M,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=H)},k=function(I,M,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(r(I+q)+" "+n(M+Y)+" l")},U=function(I,M,q){return this.pdf.lines(I,M,q,null,null)},X=function(I,M,q,Y,J,ie,fe,ae){this.pdf.internal.out([t(a(q+I)),t(i(Y+M)),t(a(J+I)),t(i(ie+M)),t(a(fe+I)),t(i(ae+M)),"c"].join(" "))},z=function(I,M,q,Y){for(var J=2*Math.PI,ie=Math.PI/2;M>q;)M-=J;var fe=Math.abs(q-M);fe<J&&Y&&(fe=J-fe);for(var ae=[],ge=Y?-1:1,ye=M;fe>1e-5;){var H=ye+ge*Math.min(fe,ie);ae.push(G.call(this,I,ye,H)),fe-=Math.abs(H-ye),ye=H}return ae},G=function(I,M,q){var Y=(q-M)/2,J=I*Math.cos(Y),ie=I*Math.sin(Y),fe=J,ae=-ie,ge=fe*fe+ae*ae,ye=ge+fe*J+ae*ie,H=4/3*(Math.sqrt(2*ge*ye)-ye)/(fe*ie-ae*J),ke=fe-H*ae,Ce=ae+H*fe,Se=ke,le=-Ce,Me=Y+M,We=Math.cos(Me),Ie=Math.sin(Me);return{x1:I*Math.cos(M),y1:I*Math.sin(M),x2:ke*We-Ce*Ie,y2:ke*Ie+Ce*We,x3:Se*We-le*Ie,y3:Se*Ie+le*We,x4:I*Math.cos(q),y4:I*Math.sin(q)}},V=function(I){return 180*I/Math.PI},W=function(I,M,q,Y,J,ie){var fe=I+.5*(q-I),ae=M+.5*(Y-M),ge=J+.5*(q-J),ye=ie+.5*(Y-ie),H=Math.min(I,J,fe,ge),ke=Math.max(I,J,fe,ge),Ce=Math.min(M,ie,ae,ye),Se=Math.max(M,ie,ae,ye);return new o(H,Ce,ke-H,Se-Ce)},te=function(I,M,q,Y,J,ie,fe,ae){var ge,ye,H,ke,Ce,Se,le,Me,We,Ie,Ye,we,Fe,Te,Oe=q-I,qe=Y-M,nt=J-q,ot=ie-Y,xt=fe-J,ht=ae-ie;for(ye=0;ye<41;ye++)We=(le=(H=I+(ge=ye/40)*Oe)+ge*((Ce=q+ge*nt)-H))+ge*(Ce+ge*(J+ge*xt-Ce)-le),Ie=(Me=(ke=M+ge*qe)+ge*((Se=Y+ge*ot)-ke))+ge*(Se+ge*(ie+ge*ht-Se)-Me),ye==0?(Ye=We,we=Ie,Fe=We,Te=Ie):(Ye=Math.min(Ye,We),we=Math.min(we,Ie),Fe=Math.max(Fe,We),Te=Math.max(Te,Ie));return new o(Math.round(Ye),Math.round(we),Math.round(Fe-Ye),Math.round(Te-we))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,M,q=(I=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:M}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(yr.API),function(e){var t=function(i){var s,o,l,c,u,d,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,d=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,w){for(var b=w;b>0;b--)y.pop()}(l,s[h]),d.fromCharCode.apply(d,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=mE(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(yr.API),function(e){function t(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):uE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):uE(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=pn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,yr.getPageSize=function(s,o,l){if(pn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(wE):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(yr.API),yr.API.addJS=function(e){return CR=e,this.internal.events.subscribe("postPutResources",function(){Vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vx!==void 0&&kR!==void 0&&this.internal.out("/Names <</JavaScript "+Vx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(yr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}p=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(yr.API);var o0,zx,PR,jR,OR,R9e=function(){var e,t,r;function n(i){var s,o,l,c,u,d,h,p,g,m,v,y,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,p,g){var m,v,y,w,b,D,P,j,T,_,S,O,E,N,k,U,X,z,G,V,W,te=Math.ceil((c.width-d)/p),Z=Math.ceil((c.height-h)/g),I=c.width==te&&c.height==Z;for(N=s*te,O=I?o:new Uint8Array(N*Z),D=i.length,E=0,v=0;E<Z&&l<D;){switch(i[l++]){case 0:for(w=X=0;X<N;w=X+=1)O[v++]=i[l++];break;case 1:for(w=z=0;z<N;w=z+=1)m=i[l++],b=w<s?0:O[v-s],O[v++]=(m+b)%256;break;case 2:for(w=G=0;G<N;w=G+=1)m=i[l++],y=(w-w%s)/s,k=E&&O[(E-1)*N+y*s+w%s],O[v++]=(k+m)%256;break;case 3:for(w=V=0;V<N;w=V+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:O[v-s],k=E&&O[(E-1)*N+y*s+w%s],O[v++]=(m+Math.floor((b+k)/2))%256;break;case 4:for(w=W=0;W<N;w=W+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:O[v-s],E===0?k=U=0:(k=O[(E-1)*N+y*s+w%s],U=y&&O[(E-1)*N+(y-1)*s+w%s]),P=b+k-U,j=Math.abs(P-b),_=Math.abs(P-k),S=Math.abs(P-U),T=j<=_&&j<=S?b:_<=S?k:U,O[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!I){var M=((h+E*g)*c.width+d)*s,q=E*N;for(w=0;w<te;w+=1){for(var Y=0;Y<s;Y+=1)o[M++]=O[q++];M+=(p-1)*s}}E++}}return i=m9e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,d,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=d=0,h=o.length;d<h;s=d+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,d,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,d=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=d[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?d[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=d[p++],c[u++]=d[p++],c[u++]=d[p++],c[u++]=o?d[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(xr)==="[object Window]"){try{t=xr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,d,h,p;if(this.animation){for(p=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,d,h=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function F9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,j=1<<(7&D)+1,T=o,_=l,S=!1;D>>7&&(S=!0,T=t,_=j,t+=3*j);var O=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:w,height:b,has_local_palette:S,palette_offset:T,palette_size:_,data_offset:O,data_length:t-O,transparent_index:h,interlaced:!!P,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,k){var U=this.frameInfo(N),X=U.width*U.height,z=new Uint8Array(X);IR(e,U.data_offset,z,X);var G=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var W=U.width,te=r-W,Z=W,I=4*(U.y*r+U.x),M=4*((U.y+U.height)*r+U.x),q=I,Y=4*te;U.interlaced===!0&&(Y+=4*r*7);for(var J=8,ie=0,fe=z.length;ie<fe;++ie){var ae=z[ie];if(Z===0&&(Z=W,(q+=Y)>=M&&(Y=4*te+4*r*(J-1),q=I+(W+te)*(J<<1),J>>=1)),ae===V)q+=4;else{var ge=e[G+3*ae],ye=e[G+3*ae+1],H=e[G+3*ae+2];k[q++]=H,k[q++]=ye,k[q++]=ge,k[q++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,k){var U=this.frameInfo(N),X=U.width*U.height,z=new Uint8Array(X);IR(e,U.data_offset,z,X);var G=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var W=U.width,te=r-W,Z=W,I=4*(U.y*r+U.x),M=4*((U.y+U.height)*r+U.x),q=I,Y=4*te;U.interlaced===!0&&(Y+=4*r*7);for(var J=8,ie=0,fe=z.length;ie<fe;++ie){var ae=z[ie];if(Z===0&&(Z=W,(q+=Y)>=M&&(Y=4*te+4*r*(J-1),q=I+(W+te)*(J<<1),J>>=1)),ae===V)q+=4;else{var ge=e[G+3*ae],ye=e[G+3*ae+1],H=e[G+3*ae+2];k[q++]=ge,k[q++]=ye,k[q++]=H,k[q++]=255}--Z}}}function IR(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)d|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,b=y;b>i;)b=g[b]>>8,++w;var D=b;if(h+w+(y!==v?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=w;for(y!==v&&(r[h++]=D),b=y;w--;)b=g[b],r[--P]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function OA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),b=new Array(64),D=new Array(64),P=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(I,M){for(var q=0,Y=0,J=new Array,ie=1;ie<=16;ie++){for(var fe=1;fe<=I[ie];fe++)J[M[Y]]=[],J[M[Y]][0]=q,J[M[Y]][1]=ie,Y++,q++;q*=2}return J}function G(I){for(var M=I[0],q=I[1]-1;q>=0;)M&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(V(255),V(0)):V(v),y=7,v=0)}function V(I){m.push(I)}function W(I){V(I>>8&255),V(255&I)}function te(I,M,q,Y,J){for(var ie,fe=J[0],ae=J[240],ge=function(Ie,Ye){var we,Fe,Te,Oe,qe,nt,ot,xt,ht,mt,ct=0;for(ht=0;ht<8;++ht){we=Ie[ct],Fe=Ie[ct+1],Te=Ie[ct+2],Oe=Ie[ct+3],qe=Ie[ct+4],nt=Ie[ct+5],ot=Ie[ct+6];var Zt=we+(xt=Ie[ct+7]),Ht=we-xt,Rr=Fe+ot,Ir=Fe-ot,Wr=Te+nt,Pe=Te-nt,Re=Oe+qe,rt=Oe-qe,vt=Zt+Re,Nt=Zt-Re,Kt=Rr+Wr,Ft=Rr-Wr;Ie[ct]=vt+Kt,Ie[ct+4]=vt-Kt;var Dt=.707106781*(Ft+Nt);Ie[ct+2]=Nt+Dt,Ie[ct+6]=Nt-Dt;var rr=.382683433*((vt=rt+Pe)-(Ft=Ir+Ht)),gr=.5411961*vt+rr,or=1.306562965*Ft+rr,Tr=.707106781*(Kt=Pe+Ir),An=Ht+Tr,Yt=Ht-Tr;Ie[ct+5]=Yt+gr,Ie[ct+3]=Yt-gr,Ie[ct+1]=An+or,Ie[ct+7]=An-or,ct+=8}for(ct=0,ht=0;ht<8;++ht){we=Ie[ct],Fe=Ie[ct+8],Te=Ie[ct+16],Oe=Ie[ct+24],qe=Ie[ct+32],nt=Ie[ct+40],ot=Ie[ct+48];var Mn=we+(xt=Ie[ct+56]),Rn=we-xt,Ne=Fe+ot,it=Fe-ot,ut=Te+nt,ee=Te-nt,ve=Oe+qe,he=Oe-qe,me=Mn+ve,xe=Mn-ve,_e=Ne+ut,He=Ne-ut;Ie[ct]=me+_e,Ie[ct+32]=me-_e;var tt=.707106781*(He+xe);Ie[ct+16]=xe+tt,Ie[ct+48]=xe-tt;var Ge=.382683433*((me=he+ee)-(He=it+Rn)),Ke=.5411961*me+Ge,Ze=1.306562965*He+Ge,Tt=.707106781*(_e=ee+it),Rt=Rn+Tt,Vt=Rn-Tt;Ie[ct+40]=Vt+Ke,Ie[ct+24]=Vt-Ke,Ie[ct+8]=Rt+Ze,Ie[ct+56]=Rt-Ze,ct++}for(ht=0;ht<64;++ht)mt=Ie[ht]*Ye[ht],p[ht]=mt>0?mt+.5|0:mt-.5|0;return p}(I,M),ye=0;ye<64;++ye)g[T[ye]]=ge[ye];var H=g[0]-q;q=g[0],H==0?G(Y[0]):(G(Y[h[ie=32767+H]]),G(d[ie]));for(var ke=63;ke>0&&g[ke]==0;)ke--;if(ke==0)return G(fe),q;for(var Ce,Se=1;Se<=ke;){for(var le=Se;g[Se]==0&&Se<=ke;)++Se;var Me=Se-le;if(Me>=16){Ce=Me>>4;for(var We=1;We<=Ce;++We)G(ae);Me&=15}ie=32767+g[Se],G(J[(Me<<4)+h[ie]]),G(d[ie]),Se++}return ke!=63&&G(fe),q}function Z(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(M){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var J=s((q[Y]*M+50)/100);J=Math.min(Math.max(J,1),255),o[T[Y]]=J}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ae=s((ie[fe]*M+50)/100);ae=Math.min(Math.max(ae,1),255),l[T[fe]]=ae}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,H=0;H<8;H++)for(var ke=0;ke<8;ke++)c[ye]=1/(o[T[ye]]*ge[H]*ge[ke]*8),u[ye]=1/(l[T[ye]]*ge[H]*ge[ke]*8),ye++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,M){M&&Z(M),m=new Array,v=0,y=7,W(65496),W(65504),W(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),W(1),W(1),V(0),V(0),function(){W(65499),W(132),V(0);for(var Fe=0;Fe<64;Fe++)V(o[Fe]);V(1);for(var Te=0;Te<64;Te++)V(l[Te])}(),function(Fe,Te){W(65472),W(17),V(8),W(Te),W(Fe),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(I.width,I.height),function(){W(65476),W(418),V(0);for(var Fe=0;Fe<16;Fe++)V(_[Fe+1]);for(var Te=0;Te<=11;Te++)V(S[Te]);V(16);for(var Oe=0;Oe<16;Oe++)V(O[Oe+1]);for(var qe=0;qe<=161;qe++)V(E[qe]);V(1);for(var nt=0;nt<16;nt++)V(N[nt+1]);for(var ot=0;ot<=11;ot++)V(k[ot]);V(17);for(var xt=0;xt<16;xt++)V(U[xt+1]);for(var ht=0;ht<=161;ht++)V(X[ht])}(),W(65498),W(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var q=0,Y=0,J=0;v=0,y=7,this.encode.displayName="_encode_";for(var ie,fe,ae,ge,ye,H,ke,Ce,Se,le=I.data,Me=I.width,We=I.height,Ie=4*Me,Ye=0;Ye<We;){for(ie=0;ie<Ie;){for(ye=Ie*Ye+ie,ke=-1,Ce=0,Se=0;Se<64;Se++)H=ye+(Ce=Se>>3)*Ie+(ke=4*(7&Se)),Ye+Ce>=We&&(H-=Ie*(Ye+1+Ce-We)),ie+ke>=Ie&&(H-=ie+ke-Ie+4),fe=le[H++],ae=le[H++],ge=le[H++],w[Se]=(j[fe]+j[ae+256>>0]+j[ge+512>>0]>>16)-128,b[Se]=(j[fe+768>>0]+j[ae+1024>>0]+j[ge+1280>>0]>>16)-128,D[Se]=(j[fe+1280>>0]+j[ae+1536>>0]+j[ge+1792>>0]>>16)-128;q=te(w,c,q,t,n),Y=te(b,u,Y,r,a),J=te(D,u,J,r,a),ie+=32}Ye+=8}if(y>=0){var we=[];we[1]=y+1,we[0]=(1<<y+1)-1,G(we)}return W(65497),new Uint8Array(m)},e=e||50,function(){for(var I=String.fromCharCode,M=0;M<256;M++)P[M]=I(M)}(),t=z(_,S),r=z(N,k),n=z(O,E),a=z(U,X),function(){for(var I=1,M=2,q=1;q<=15;q++){for(var Y=I;Y<M;Y++)h[32767+Y]=q,d[32767+Y]=[],d[32767+Y][1]=q,d[32767+Y][0]=Y;for(var J=-(M-1);J<=-I;J++)h[32767+J]=q,d[32767+J]=[],d[32767+J][1]=q,d[32767+J][0]=M-1+J;I<<=1,M<<=1}}(),function(){for(var I=0;I<256;I++)j[I]=19595*I,j[I+256>>0]=38470*I,j[I+512>>0]=7471*I+32768,j[I+768>>0]=-11059*I,j[I+1024>>0]=-21709*I,j[I+1280>>0]=32768*I+8421375,j[I+1536>>0]=-27439*I,j[I+1792>>0]=-5329*I}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ll(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DR(e){function t(_){if(!_)throw Error("assert :P")}function r(_,S,O){for(var E=0;4>E;E++)if(_[S+E]!=O.charCodeAt(E))return!0;return!1}function n(_,S,O,E,N){for(var k=0;k<N;k++)_[S+k]=O[E+k]}function a(_,S,O,E){for(var N=0;N<E;N++)_[S+N]=O}function i(_){return new Int32Array(_)}function s(_,S){for(var O=[],E=0;E<_;E++)O.push(new S);return O}function o(_,S){var O=[];return function E(N,k,U){for(var X=U[k],z=0;z<X&&(N.push(U.length>k+1?[]:new S),!(U.length<k+1));z++)E(N[z],k+1,U)}(O,0,_),O}var l=function(){var _=this;function S(x,C){for(var R=1<<C-1>>>0;x&R;)R>>>=1;return R?(x&R-1)+R:x}function O(x,C,R,K,ne){t(!(K%R));do x[C+(K-=R)]=ne;while(0<K)}function E(x,C,R,K,ne){if(t(2328>=ne),512>=ne)var oe=i(512);else if((oe=i(ne))==null)return 0;return function(ce,de,pe,be,De,Qe){var Je,ze,_t=de,st=1<<pe,Le=i(16),$e=i(16);for(t(De!=0),t(be!=null),t(ce!=null),t(0<pe),ze=0;ze<De;++ze){if(15<be[ze])return 0;++Le[be[ze]]}if(Le[0]==De)return 0;for($e[1]=0,Je=1;15>Je;++Je){if(Le[Je]>1<<Je)return 0;$e[Je+1]=$e[Je]+Le[Je]}for(ze=0;ze<De;++ze)Je=be[ze],0<be[ze]&&(Qe[$e[Je]++]=ze);if($e[15]==1)return(be=new N).g=0,be.value=Qe[0],O(ce,_t,1,st,be),st;var gt,kt=-1,bt=st-1,Qt=0,zt=1,hr=1,Gt=1<<pe;for(ze=0,Je=1,De=2;Je<=pe;++Je,De<<=1){if(zt+=hr<<=1,0>(hr-=Le[Je]))return 0;for(;0<Le[Je];--Le[Je])(be=new N).g=Je,be.value=Qe[ze++],O(ce,_t+Qt,De,Gt,be),Qt=S(Qt,Je)}for(Je=pe+1,De=2;15>=Je;++Je,De<<=1){if(zt+=hr<<=1,0>(hr-=Le[Je]))return 0;for(;0<Le[Je];--Le[Je]){if(be=new N,(Qt&bt)!=kt){for(_t+=Gt,gt=1<<(kt=Je)-pe;15>kt&&!(0>=(gt-=Le[kt]));)++kt,gt<<=1;st+=Gt=1<<(gt=kt-pe),ce[de+(kt=Qt&bt)].g=gt+pe,ce[de+kt].value=_t-de-kt}be.g=Je-pe,be.value=Qe[ze++],O(ce,_t+(Qt>>pe),De,Gt,be),Qt=S(Qt,Je)}}return zt!=2*$e[15]-1?0:st}(x,C,R,K,ne,oe)}function N(){this.value=this.g=0}function k(){this.value=this.g=0}function U(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vi,k)}function X(x,C,R,K){t(x!=null),t(C!=null),t(2147483648>K),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=R,x.Jd=C,x.Yc=R+K,x.Zc=4<=K?R+K-4+1:R,ie(x)}function z(x,C){for(var R=0;0<C--;)R|=ae(x,128)<<C;return R}function G(x,C){var R=z(x,C);return fe(x)?-R:R}function V(x,C,R,K){var ne,oe=0;for(t(x!=null),t(C!=null),t(4294967288>K),x.Sb=K,x.Ra=0,x.u=0,x.h=0,4<K&&(K=4),ne=0;ne<K;++ne)oe+=C[R+ne]<<8*ne;x.Ra=oe,x.bb=K,x.oa=C,x.pa=R}function W(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Vh-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function te(x,C){if(t(0<=C),!x.h&&C<=Uh){var R=M(x)&Bh[C];return x.u+=C,W(x),R}return x.h=1,x.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(x){return x.Ra>>>(x.u&Vh-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Vh}function Y(x,C){x.u=C,x.h=q(x)}function J(x){x.u>=Nm&&(t(x.u>=Nm),W(x))}function ie(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function fe(x){return z(x,1)}function ae(x,C){var R=x.Ca;0>x.b&&ie(x);var K=x.b,ne=R*C>>>8,oe=(x.I>>>K>ne)+0;for(oe?(R-=ne,x.I-=ne+1<<K>>>0):R=ne+1,K=R,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+Ns[K],x.b-=K,x.Ca=(R<<K)-1,oe}function ge(x,C,R){x[C+0]=R>>24&255,x[C+1]=R>>16&255,x[C+2]=R>>8&255,x[C+3]=R>>0&255}function ye(x,C){return x[C+0]<<0|x[C+1]<<8}function H(x,C){return ye(x,C)|x[C+2]<<16}function ke(x,C){return ye(x,C)|ye(x,C+2)<<16}function Ce(x,C){var R=1<<C;return t(x!=null),t(0<C),x.X=i(R),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Se(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function Me(x,C,R,K){t(R!=null),t(K!=null);var ne=R[0],oe=K[0];return ne==0&&(ne=(x*oe+C/2)/C),oe==0&&(oe=(C*ne+x/2)/x),0>=ne||0>=oe?0:(R[0]=ne,K[0]=oe,1)}function We(x,C){return x+(1<<C)-1>>>C}function Ie(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function Ye(x,C){_[C]=function(R,K,ne,oe,ce,de,pe){var be;for(be=0;be<ce;++be){var De=_[x](de[pe+be-1],ne,oe+be);de[pe+be]=Ie(R[K+be],De)}}}function we(){this.ud=this.hd=this.jd=0}function Fe(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Te(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Oe(x,C){return Te(x+(x-C+.5>>1))}function qe(x,C,R){return Math.abs(C-R)-Math.abs(x-R)}function nt(x,C,R,K,ne,oe,ce){for(K=oe[ce-1],R=0;R<ne;++R)oe[ce+R]=K=Ie(x[C+R],K)}function ot(x,C,R,K,ne){var oe;for(oe=0;oe<R;++oe){var ce=x[C+oe],de=ce>>8&255,pe=16711935&(pe=(pe=16711935&ce)+((de<<16)+de));K[ne+oe]=(4278255360&ce)+pe>>>0}}function xt(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function ht(x,C,R,K,ne,oe){var ce;for(ce=0;ce<K;++ce){var de=C[R+ce],pe=de>>>8,be=de,De=255&(De=(De=de>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be=be+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(De<<24>>24)>>>5)),ne[oe+ce]=(4278255360&de)+(De<<16)+be}}function mt(x,C,R,K,ne){_[C]=function(oe,ce,de,pe,be,De,Qe,Je,ze){for(pe=Qe;pe<Je;++pe)for(Qe=0;Qe<ze;++Qe)be[De++]=ne(de[K(oe[ce++])])},_[x]=function(oe,ce,de,pe,be,De,Qe){var Je=8>>oe.b,ze=oe.Ea,_t=oe.K[0],st=oe.w;if(8>Je)for(oe=(1<<oe.b)-1,st=(1<<Je)-1;ce<de;++ce){var Le,$e=0;for(Le=0;Le<ze;++Le)Le&oe||($e=K(pe[be++])),De[Qe++]=ne(_t[$e&st]),$e>>=Je}else _["VP8LMapColor"+R](pe,be,_t,st,De,Qe,ce,de,ze)}}function ct(x,C,R,K,ne){for(R=C+R;C<R;){var oe=x[C++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255}}function Zt(x,C,R,K,ne){for(R=C+R;C<R;){var oe=x[C++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255,K[ne++]=oe>>24&255}}function Ht(x,C,R,K,ne){for(R=C+R;C<R;){var oe=(ce=x[C++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;K[ne++]=oe,K[ne++]=ce}}function Rr(x,C,R,K,ne){for(R=C+R;C<R;){var oe=(ce=x[C++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;K[ne++]=oe,K[ne++]=ce}}function Ir(x,C,R,K,ne){for(R=C+R;C<R;){var oe=x[C++];K[ne++]=oe>>0&255,K[ne++]=oe>>8&255,K[ne++]=oe>>16&255}}function Wr(x,C,R,K,ne,oe){if(oe==0)for(R=C+R;C<R;)ge(K,((oe=x[C++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(K,ne,x,C,R)}function Pe(x,C){_[C][0]=_[x+"0"],_[C][1]=_[x+"1"],_[C][2]=_[x+"2"],_[C][3]=_[x+"3"],_[C][4]=_[x+"4"],_[C][5]=_[x+"5"],_[C][6]=_[x+"6"],_[C][7]=_[x+"7"],_[C][8]=_[x+"8"],_[C][9]=_[x+"9"],_[C][10]=_[x+"10"],_[C][11]=_[x+"11"],_[C][12]=_[x+"12"],_[C][13]=_[x+"13"],_[C][14]=_[x+"0"],_[C][15]=_[x+"0"]}function Re(x){return x==__||x==S_||x==ky||x==A_}function rt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new vt,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function rr(x,C){var R=x.T,K=C.ba.f.RGBA,ne=K.eb,oe=K.fb+x.ka*K.A,ce=wo[C.ba.S],de=x.y,pe=x.O,be=x.f,De=x.N,Qe=x.ea,Je=x.W,ze=C.cc,_t=C.dc,st=C.Mc,Le=C.Nc,$e=x.ka,gt=x.ka+x.T,kt=x.U,bt=kt+1>>1;for($e==0?ce(de,pe,null,null,be,De,Qe,Je,be,De,Qe,Je,ne,oe,null,null,kt):(ce(C.ec,C.fc,de,pe,ze,_t,st,Le,be,De,Qe,Je,ne,oe-K.A,ne,oe,kt),++R);$e+2<gt;$e+=2)ze=be,_t=De,st=Qe,Le=Je,De+=x.Rc,Je+=x.Rc,oe+=2*K.A,ce(de,(pe+=2*x.fa)-x.fa,de,pe,ze,_t,st,Le,be,De,Qe,Je,ne,oe-K.A,ne,oe,kt);return pe+=x.fa,x.j+gt<x.o?(n(C.ec,C.fc,de,pe,kt),n(C.cc,C.dc,be,De,bt),n(C.Mc,C.Nc,Qe,Je,bt),R--):1&gt||ce(de,pe,null,null,be,De,Qe,Je,be,De,Qe,Je,ne,oe+K.A,null,null,kt),R}function gr(x,C,R){var K=x.F,ne=[x.J];if(K!=null){var oe=x.U,ce=C.ba.S,de=ce==Ny||ce==ky;C=C.ba.f.RGBA;var pe=[0],be=x.ka;pe[0]=x.T,x.Kb&&(be==0?--pe[0]:(--be,ne[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-be));var De=C.eb;be=C.fb+be*C.A,x=Bn(K,ne[0],x.width,oe,pe,De,be+(de?0:3),C.A),t(R==pe),x&&Re(ce)&&xo(De,be,de,oe,pe,C.A)}return 0}function or(x){var C=x.ma,R=C.ba.S,K=11>R,ne=R==Ty||R==Ey||R==Ny||R==w_||R==12||Re(R);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Tm(C.Oa,x,ne?11:12))return 0;if(ne&&Re(R)&&Ct(),x.da)alert("todo:use_scaling");else{if(K){if(C.Ib=Dt,x.Kb){if(R=x.U+1>>1,C.memory=i(x.U+2*R),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+R,C.Ib=rr,Ct()}}else alert("todo:EmitYUV");ne&&(C.Jb=gr,K&&Ve())}if(K&&!VP){for(x=0;256>x;++x)kY[x]=89858*(x-128)+Py>>Cy,jY[x]=-22014*(x-128)+Py,PY[x]=-45773*(x-128),CY[x]=113618*(x-128)+Py>>Cy;for(x=Dm;x<N_;++x)C=76283*(x-16)+Py>>Cy,OY[x-Dm]=vn(C,255),IY[x-Dm]=vn(C+8>>4,15);VP=1}return 1}function Tr(x){var C=x.ma,R=x.U,K=x.T;return t(!(1&x.ka)),0>=R||0>=K?0:(R=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,R),C.Dc+=R,1)}function An(x){x.ma.memory=null}function Yt(x,C,R,K){return te(x,8)!=47?0:(C[0]=te(x,14)+1,R[0]=te(x,14)+1,K[0]=te(x,1),te(x,3)!=0?0:!x.h)}function Mn(x,C){if(4>x)return x+1;var R=x-2>>1;return(2+(1&x)<<R)+te(C,R)+1}function Rn(x,C){return 120<C?C-120:1<=(R=((R=pY[C-1])>>4)*x+(8-(15&R)))?R:1;var R}function Ne(x,C,R){var K=M(R),ne=x[C+=255&K].g-8;return 0<ne&&(Y(R,R.u+8),K=M(R),C+=x[C].value,C+=K&(1<<ne)-1),Y(R,R.u+x[C].g),x[C].value}function it(x,C,R){return R.g+=x.g,R.value+=x.value<<C>>>0,t(8>=R.g),x.g}function ut(x,C,R){var K=x.xc;return t((C=K==0?0:x.vc[x.md*(R>>K)+(C>>K)])<x.Wb),x.Ya[C]}function ee(x,C,R,K){var ne=x.ab,oe=x.c*C,ce=x.C;C=ce+C;var de=R,pe=K;for(K=x.Ta,R=x.Ua;0<ne--;){var be=x.gc[ne],De=ce,Qe=C,Je=de,ze=pe,_t=(pe=K,de=R,be.Ea);switch(t(De<Qe),t(Qe<=be.nc),be.hc){case 2:yy(Je,ze,(Qe-De)*_t,pe,de);break;case 0:var st=De,Le=Qe,$e=pe,gt=de,kt=(Gt=be).Ea;st==0&&(x_(Je,ze,null,null,1,$e,gt),nt(Je,ze+1,0,0,kt-1,$e,gt+1),ze+=kt,gt+=kt,++st);for(var bt=1<<Gt.b,Qt=bt-1,zt=We(kt,Gt.b),hr=Gt.K,Gt=Gt.w+(st>>Gt.b)*zt;st<Le;){var hn=hr,xn=Gt,on=1;for(km(Je,ze,$e,gt-kt,1,$e,gt);on<kt;){var Yr=(on&~Qt)+bt;Yr>kt&&(Yr=kt),(0,Iu[hn[xn++]>>8&15])(Je,ze+ +on,$e,gt+on-kt,Yr-on,$e,gt+on),on=Yr}ze+=kt,gt+=kt,++st&Qt||(Gt+=zt)}Qe!=be.nc&&n(pe,de-_t,pe,de+(Qe-De-1)*_t,_t);break;case 1:for(_t=Je,Le=ze,kt=(Je=be.Ea)-(gt=Je&~($e=(ze=1<<be.b)-1)),st=We(Je,be.b),bt=be.K,be=be.w+(De>>be.b)*st;De<Qe;){for(Qt=bt,zt=be,hr=new we,Gt=Le+gt,hn=Le+Je;Le<Gt;)xt(Qt[zt++],hr),hd(hr,_t,Le,ze,pe,de),Le+=ze,de+=ze;Le<hn&&(xt(Qt[zt++],hr),hd(hr,_t,Le,kt,pe,de),Le+=kt,de+=kt),++De&$e||(be+=st)}break;case 3:if(Je==pe&&ze==de&&0<be.b){for(Le=pe,Je=_t=de+(Qe-De)*_t-(gt=(Qe-De)*We(be.Ea,be.b)),ze=pe,$e=de,st=[],gt=(kt=gt)-1;0<=gt;--gt)st[gt]=ze[$e+gt];for(gt=kt-1;0<=gt;--gt)Le[Je+gt]=st[gt];go(be,De,Qe,pe,_t,pe,de)}else go(be,De,Qe,Je,ze,pe,de)}de=K,pe=R}pe!=R&&n(K,R,de,pe,oe)}function ve(x,C){var R=x.V,K=x.Ba+x.c*x.C,ne=C-x.C;if(t(C<=x.l.o),t(16>=ne),0<ne){var oe=x.l,ce=x.Ta,de=x.Ua,pe=oe.width;if(ee(x,ne,R,K),ne=de=[de],t((R=x.C)<(K=C)),t(oe.v<oe.va),K>oe.o&&(K=oe.o),R<oe.j){var be=oe.j-R;R=oe.j,ne[0]+=be*pe}if(R>=K?R=0:(ne[0]+=4*oe.v,oe.ka=R-oe.j,oe.U=oe.va-oe.v,oe.T=K-R,R=1),R){if(de=de[0],11>(R=x.ca).S){var De=R.f.RGBA,Qe=(K=R.S,ne=oe.U,oe=oe.T,be=De.eb,De.A),Je=oe;for(De=De.fb+x.Ma*De.A;0<Je--;){var ze=ce,_t=de,st=ne,Le=be,$e=De;switch(K){case Ay:ks(ze,_t,st,Le,$e);break;case Ty:ls(ze,_t,st,Le,$e);break;case __:ls(ze,_t,st,Le,$e),xo(Le,$e,0,st,1,0);break;case OP:Sc(ze,_t,st,Le,$e);break;case Ey:Wr(ze,_t,st,Le,$e,1);break;case S_:Wr(ze,_t,st,Le,$e,1),xo(Le,$e,0,st,1,0);break;case Ny:Wr(ze,_t,st,Le,$e,0);break;case ky:Wr(ze,_t,st,Le,$e,0),xo(Le,$e,1,st,1,0);break;case w_:Du(ze,_t,st,Le,$e);break;case A_:Du(ze,_t,st,Le,$e),$n(Le,$e,st,1,0);break;case IP:_c(ze,_t,st,Le,$e);break;default:t(0)}de+=pe,De+=Qe}x.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=R.height)}}x.C=C,t(x.C<=x.i)}function he(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var R=x.Ya[C].G,K=x.Ya[C].H;if(0<R[1][K[1]+0].g||0<R[2][K[2]+0].g||0<R[3][K[3]+0].g)return 0}return 1}function me(x,C,R,K,ne,oe){if(x.Z!=0){var ce=x.qd,de=x.rd;for(t(Fu[x.Z]!=null);C<R;++C)Fu[x.Z](ce,de,K,ne,K,ne,oe),ce=K,de=ne,ne+=oe;x.qd=ce,x.rd=de}}function xe(x,C){var R=x.l.ma,K=R.Z==0||R.Z==1?x.l.j:x.C;if(K=x.C<K?K:x.C,t(C<=x.l.o),C>K){var ne=x.l.width,oe=R.ca,ce=R.tb+ne*K,de=x.V,pe=x.Ba+x.c*K,be=x.gc;t(x.ab==1),t(be[0].hc==3),xy(be[0],K,C,de,pe,oe,ce),me(R,K,C,oe,ce,ne)}x.C=x.Ma=C}function _e(x,C,R,K,ne,oe,ce){var de=x.$/K,pe=x.$%K,be=x.m,De=x.s,Qe=R+x.$,Je=Qe;ne=R+K*ne;var ze=R+K*oe,_t=280+De.ua,st=x.Pb?de:16777216,Le=0<De.ua?De.Wa:null,$e=De.wc,gt=Qe<ze?ut(De,pe,de):null;t(x.C<oe),t(ze<=ne);var kt=!1;e:for(;;){for(;kt||Qe<ze;){var bt=0;if(de>=st){var Qt=Qe-R;t((st=x).Pb),st.wd=st.m,st.xd=Qt,0<st.s.ua&&Se(st.s.Wa,st.s.vb),st=de+gY}if(pe&$e||(gt=ut(De,pe,de)),t(gt!=null),gt.Qb&&(C[Qe]=gt.qb,kt=!0),!kt)if(J(be),gt.jc){bt=be,Qt=C;var zt=Qe,hr=gt.pd[M(bt)&vi-1];t(gt.jc),256>hr.g?(Y(bt,bt.u+hr.g),Qt[zt]=hr.value,bt=0):(Y(bt,bt.u+hr.g-256),t(256<=hr.value),bt=hr.value),bt==0&&(kt=!0)}else bt=Ne(gt.G[0],gt.H[0],be);if(be.h)break;if(kt||256>bt){if(!kt)if(gt.nd)C[Qe]=(gt.qb|bt<<8)>>>0;else{if(J(be),kt=Ne(gt.G[1],gt.H[1],be),J(be),Qt=Ne(gt.G[2],gt.H[2],be),zt=Ne(gt.G[3],gt.H[3],be),be.h)break;C[Qe]=(zt<<24|kt<<16|bt<<8|Qt)>>>0}if(kt=!1,++Qe,++pe>=K&&(pe=0,++de,ce!=null&&de<=oe&&!(de%16)&&ce(x,de),Le!=null))for(;Je<Qe;)bt=C[Je++],Le.X[(506832829*bt&4294967295)>>>Le.Mb]=bt}else if(280>bt){if(bt=Mn(bt-256,be),Qt=Ne(gt.G[4],gt.H[4],be),J(be),Qt=Rn(K,Qt=Mn(Qt,be)),be.h)break;if(Qe-R<Qt||ne-Qe<bt)break e;for(zt=0;zt<bt;++zt)C[Qe+zt]=C[Qe+zt-Qt];for(Qe+=bt,pe+=bt;pe>=K;)pe-=K,++de,ce!=null&&de<=oe&&!(de%16)&&ce(x,de);if(t(Qe<=ne),pe&$e&&(gt=ut(De,pe,de)),Le!=null)for(;Je<Qe;)bt=C[Je++],Le.X[(506832829*bt&4294967295)>>>Le.Mb]=bt}else{if(!(bt<_t))break e;for(kt=bt-280,t(Le!=null);Je<Qe;)bt=C[Je++],Le.X[(506832829*bt&4294967295)>>>Le.Mb]=bt;bt=Qe,t(!(kt>>>(Qt=Le).Xa)),C[bt]=Qt.X[kt],kt=!0}kt||t(be.h==q(be))}if(x.Pb&&be.h&&Qe<ne)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Se(x.s.vb,x.s.Wa);else{if(be.h)break e;ce!=null&&ce(x,de>oe?oe:de),x.a=0,x.$=Qe-R}return 1}return x.a=3,0}function He(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function tt(){var x=new Fh;return x==null?null:(x.a=0,x.xb=MP,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),yy=ot,hd=ht,ks=ct,ls=Zt,Du=Ht,_c=Rr,Sc=Ir,_.VP8LMapColor32b=zh,_.VP8LMapColor8b=by,x)}function Ge(x,C,R,K,ne){var oe=1,ce=[x],de=[C],pe=K.m,be=K.s,De=null,Qe=0;e:for(;;){if(R)for(;oe&&te(pe,1);){var Je=ce,ze=de,_t=K,st=1,Le=_t.m,$e=_t.gc[_t.ab],gt=te(Le,2);if(_t.Oc&1<<gt)oe=0;else{switch(_t.Oc|=1<<gt,$e.hc=gt,$e.Ea=Je[0],$e.nc=ze[0],$e.K=[null],++_t.ab,t(4>=_t.ab),gt){case 0:case 1:$e.b=te(Le,3)+2,st=Ge(We($e.Ea,$e.b),We($e.nc,$e.b),0,_t,$e.K),$e.K=$e.K[0];break;case 3:var kt,bt=te(Le,8)+1,Qt=16<bt?0:4<bt?1:2<bt?2:3;if(Je[0]=We($e.Ea,Qt),$e.b=Qt,kt=st=Ge(bt,1,0,_t,$e.K)){var zt,hr=bt,Gt=$e,hn=1<<(8>>Gt.b),xn=i(hn);if(xn==null)kt=0;else{var on=Gt.K[0],Yr=Gt.w;for(xn[0]=Gt.K[0][0],zt=1;zt<1*hr;++zt)xn[zt]=Ie(on[Yr+zt],xn[zt-1]);for(;zt<4*hn;++zt)xn[zt]=0;Gt.K[0]=null,Gt.K[0]=xn,kt=1}}st=kt;break;case 2:break;default:t(0)}oe=st}}if(ce=ce[0],de=de[0],oe&&te(pe,1)&&!(oe=1<=(Qe=te(pe,4))&&11>=Qe)){K.a=3;break e}var In;if(In=oe)t:{var En,Dr,Na,Cs=K,ka=ce,Ps=de,bn=Qe,Xs=R,Qs=Cs.m,ti=Cs.s,yi=[null],us=1,_o=0,Bl=mY[bn];r:for(;;){if(Xs&&te(Qs,1)){var ri=te(Qs,3)+2,Nc=We(ka,ri),yd=We(Ps,ri),Kh=Nc*yd;if(!Ge(Nc,yd,0,Cs,yi))break r;for(yi=yi[0],ti.xc=ri,En=0;En<Kh;++En){var $u=yi[En]>>8&65535;yi[En]=$u,$u>=us&&(us=$u+1)}}if(Qs.h)break r;for(Dr=0;5>Dr;++Dr){var ca=DP[Dr];!Dr&&0<bn&&(ca+=1<<bn),_o<ca&&(_o=ca)}var k_=s(us*Bl,N),WP=us,HP=s(WP,U);if(HP==null)var Oy=null;else t(65536>=WP),Oy=HP;var Lm=i(_o);if(Oy==null||Lm==null||k_==null){Cs.a=1;break r}var Iy=k_;for(En=Na=0;En<us;++En){var rl=Oy[En],Yh=rl.G,Xh=rl.H,GP=0,Dy=1,KP=0;for(Dr=0;5>Dr;++Dr){ca=DP[Dr],Yh[Dr]=Iy,Xh[Dr]=Na,!Dr&&0<bn&&(ca+=1<<bn);a:{var Ly,C_=ca,My=Cs,Mm=Lm,MY=Iy,RY=Na,P_=0,Bu=My.m,FY=te(Bu,1);if(a(Mm,0,0,C_),FY){var $Y=te(Bu,1)+1,BY=te(Bu,1),YP=te(Bu,BY==0?1:8);Mm[YP]=1,$Y==2&&(Mm[YP=te(Bu,8)]=1);var Ry=1}else{var XP=i(19),QP=te(Bu,4)+4;if(19<QP){My.a=3;var Fy=0;break a}for(Ly=0;Ly<QP;++Ly)XP[hY[Ly]]=te(Bu,3);var j_=void 0,Rm=void 0,JP=My,UY=XP,$y=C_,ZP=Mm,O_=0,Uu=JP.m,e6=8,t6=s(128,N);n:for(;E(t6,0,7,UY,19);){if(te(Uu,1)){var VY=2+2*te(Uu,3);if((j_=2+te(Uu,VY))>$y)break n}else j_=$y;for(Rm=0;Rm<$y&&j_--;){J(Uu);var r6=t6[0+(127&M(Uu))];Y(Uu,Uu.u+r6.g);var Qh=r6.value;if(16>Qh)ZP[Rm++]=Qh,Qh!=0&&(e6=Qh);else{var zY=Qh==16,n6=Qh-16,qY=fY[n6],a6=te(Uu,uY[n6])+qY;if(Rm+a6>$y)break n;for(var WY=zY?e6:0;0<a6--;)ZP[Rm++]=WY}}O_=1;break n}O_||(JP.a=3),Ry=O_}(Ry=Ry&&!Bu.h)&&(P_=E(MY,RY,8,Mm,C_)),Ry&&P_!=0?Fy=P_:(My.a=3,Fy=0)}if(Fy==0)break r;if(Dy&&dY[Dr]==1&&(Dy=Iy[Na].g==0),GP+=Iy[Na].g,Na+=Fy,3>=Dr){var Fm,I_=Lm[0];for(Fm=1;Fm<ca;++Fm)Lm[Fm]>I_&&(I_=Lm[Fm]);KP+=I_}}if(rl.nd=Dy,rl.Qb=0,Dy&&(rl.qb=(Yh[3][Xh[3]+0].value<<24|Yh[1][Xh[1]+0].value<<16|Yh[2][Xh[2]+0].value)>>>0,GP==0&&256>Yh[0][Xh[0]+0].value&&(rl.Qb=1,rl.qb+=Yh[0][Xh[0]+0].value<<8)),rl.jc=!rl.Qb&&6>KP,rl.jc){var By,kc=rl;for(By=0;By<vi;++By){var Vu=By,zu=kc.pd[Vu],Uy=kc.G[0][kc.H[0]+Vu];256<=Uy.value?(zu.g=Uy.g+256,zu.value=Uy.value):(zu.g=0,zu.value=0,Vu>>=it(Uy,8,zu),Vu>>=it(kc.G[1][kc.H[1]+Vu],16,zu),Vu>>=it(kc.G[2][kc.H[2]+Vu],0,zu),it(kc.G[3][kc.H[3]+Vu],24,zu))}}}ti.vc=yi,ti.Wb=us,ti.Ya=Oy,ti.yc=k_,In=1;break t}In=0}if(!(oe=In)){K.a=3;break e}if(0<Qe){if(be.ua=1<<Qe,!Ce(be.Wa,Qe)){K.a=1,oe=0;break e}}else be.ua=0;var D_=K,i6=ce,HY=de,L_=D_.s,M_=L_.xc;if(D_.c=i6,D_.i=HY,L_.md=We(i6,M_),L_.wc=M_==0?-1:(1<<M_)-1,R){K.xb=SY;break e}if((De=i(ce*de))==null){K.a=1,oe=0;break e}oe=(oe=_e(K,De,0,ce,de,de,null))&&!pe.h;break e}return oe?(ne!=null?ne[0]=De:(t(De==null),t(R)),K.$=0,R||He(be)):He(be),oe}function Ke(x,C){var R=x.c*x.i,K=R+C+16*C;return t(x.c<=C),x.V=i(K),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+R+C,1)}function Ze(x,C){var R=x.C,K=C-R,ne=x.V,oe=x.Ba+x.c*R;for(t(C<=x.l.o);0<K;){var ce=16<K?16:K,de=x.l.ma,pe=x.l.width,be=pe*ce,De=de.ca,Qe=de.tb+pe*R,Je=x.Ta,ze=x.Ua;ee(x,ce,ne,oe),xa(Je,ze,De,Qe,be),me(de,R,R+ce,De,Qe,pe),K-=ce,ne+=ce*x.c,R+=ce}t(R==C),x.C=x.Ma=C}function Tt(){this.ub=this.yd=this.td=this.Rb=0}function Rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function It(){this.Yb=function(){var x=[];return function C(R,K,ne){for(var oe=ne[K],ce=0;ce<oe&&(R.push(ne.length>K+1?[]:0),!(ne.length<K+1));ce++)C(R[ce],K+1,ne)}(x,0,[3,11]),x}()}function Bt(){this.jb=i(3),this.Wc=o([4,8],It),this.Xc=o([4,17],It)}function dr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Hr(){this.Na=this.la=0}function sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ws(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new pi),this.aa=0,this.l=new ss}function is(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ji(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new Tt,this.Kc=new Rt,this.ed=new dr,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new Ws,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,sn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new is),this.Hd=0,this.rb=Array(new Hr),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pi),this.L=this.aa=0,this.gd=o([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ss(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var x=new ji;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Im||(Im=gc)),x}function Cn(x,C,R){return x.a==0&&(x.a=C,x.sc=R,x.cb=0),0}function pc(x,C,R){return 3<=R&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function mc(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return Cn(x,2,"null VP8Io passed to VP8GetHeaders()");var R=C.data,K=C.w,ne=C.ha;if(4>ne)return Cn(x,7,"Truncated header.");var oe=R[K+0]|R[K+1]<<8|R[K+2]<<16,ce=x.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return Cn(x,3,"Incorrect keyframe parameters.");if(!ce.yd)return Cn(x,4,"Frame not displayable.");K+=3,ne-=3;var de=x.Kc;if(ce.Rb){if(7>ne)return Cn(x,7,"cannot parse picture header");if(!pc(R,K,ne))return Cn(x,3,"Bad code word");de.c=16383&(R[K+4]<<8|R[K+3]),de.Td=R[K+4]>>6,de.i=16383&(R[K+6]<<8|R[K+5]),de.Ud=R[K+6]>>6,K+=7,ne-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,C.width=de.c,C.height=de.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((oe=x.Pa).jb,0,255,oe.jb.length),t((oe=x.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>ne)return Cn(x,7,"bad partition length");X(oe=x.m,R,K,ce.ub),K+=ce.ub,ne-=ce.ub,ce.Rb&&(de.Ld=fe(oe),de.Kd=fe(oe)),de=x.Qa;var pe,be=x.Pa;if(t(oe!=null),t(de!=null),de.Cb=fe(oe),de.Cb){if(de.Bb=fe(oe),fe(oe)){for(de.Fb=fe(oe),pe=0;4>pe;++pe)de.Zb[pe]=fe(oe)?G(oe,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=fe(oe)?G(oe,6):0}if(de.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=fe(oe)?z(oe,8):255}else de.Bb=0;if(oe.Ka)return Cn(x,3,"cannot parse segment header");if((de=x.ed).zd=fe(oe),de.Tb=z(oe,6),de.wb=z(oe,3),de.Pc=fe(oe),de.Pc&&fe(oe)){for(be=0;4>be;++be)fe(oe)&&(de.vd[be]=G(oe,6));for(be=0;4>be;++be)fe(oe)&&(de.od[be]=G(oe,6))}if(x.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return Cn(x,3,"cannot parse filter header");var De=ne;if(ne=pe=K,K=pe+De,de=De,x.Xb=(1<<z(x.m,2))-1,De<3*(be=x.Xb))R=7;else{for(pe+=3*be,de-=3*be,De=0;De<be;++De){var Qe=R[ne+0]|R[ne+1]<<8|R[ne+2]<<16;Qe>de&&(Qe=de),X(x.Jc[+De],R,pe,Qe),pe+=Qe,de-=Qe,ne+=3}X(x.Jc[+be],R,pe,de),R=pe<K?0:5}if(R!=0)return Cn(x,R,"cannot parse partitions");for(R=z(pe=x.m,7),ne=fe(pe)?G(pe,4):0,K=fe(pe)?G(pe,4):0,de=fe(pe)?G(pe,4):0,be=fe(pe)?G(pe,4):0,pe=fe(pe)?G(pe,4):0,De=x.Qa,Qe=0;4>Qe;++Qe){if(De.Cb){var Je=De.Zb[Qe];De.Fb||(Je+=R)}else{if(0<Qe){x.pb[Qe]=x.pb[0];continue}Je=R}var ze=x.pb[Qe];ze.Sc[0]=T_[vn(Je+ne,127)],ze.Sc[1]=E_[vn(Je+0,127)],ze.Eb[0]=2*T_[vn(Je+K,127)],ze.Eb[1]=101581*E_[vn(Je+de,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=T_[vn(Je+be,117)],ze.Qc[1]=E_[vn(Je+pe,127)],ze.lc=Je+pe}if(!ce.Rb)return Cn(x,4,"Not a key frame.");for(fe(oe),ce=x.Pa,R=0;4>R;++R){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(de=0;11>de;++de)be=ae(oe,wY[R][ne][K][de])?z(oe,8):xY[R][ne][K][de],ce.Wc[R][ne].Yb[K][de]=be;for(ne=0;17>ne;++ne)ce.Xc[R][ne]=ce.Wc[R][_Y[ne]]}return x.kc=fe(oe),x.kc&&(x.Bd=z(oe,8)),x.cb=1}function gc(x,C,R,K,ne,oe,ce){var de=C[ne].Yb[R];for(R=0;16>ne;++ne){if(!ae(x,de[R+0]))return ne;for(;!ae(x,de[R+1]);)if(de=C[++ne].Yb[0],R=0,ne==16)return 16;var pe=C[ne+1].Yb;if(ae(x,de[R+2])){var be=x,De=0;if(ae(be,(Je=de)[(Qe=R)+3]))if(ae(be,Je[Qe+6])){for(de=0,Qe=2*(De=ae(be,Je[Qe+8]))+(Je=ae(be,Je[Qe+9+De])),De=0,Je=vY[Qe];Je[de];++de)De+=De+ae(be,Je[de]);De+=3+(8<<Qe)}else ae(be,Je[Qe+7])?(De=7+2*ae(be,165),De+=ae(be,145)):De=5+ae(be,159);else De=ae(be,Je[Qe+4])?3+ae(be,Je[Qe+5]):2;de=pe[2]}else De=1,de=pe[1];pe=ce+yY[ne],0>(be=x).b&&ie(be);var Qe,Je=be.b,ze=(Qe=be.Ca>>1)-(be.I>>Je)>>31;--be.b,be.Ca+=ze,be.Ca|=1,be.I-=(Qe+1&ze)<<Je,oe[pe]=((De^ze)-ze)*K[(0<ne)+0]}return 16}function vc(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function se(x,C){if(x==null)return 0;if(C==null)return Cn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!mc(x,C))return 0;if(t(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var R=jy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-R>>4,x.zb=C.j-R>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+R>>4,x.Hb=C.va+15+R>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var K=x.ed;for(R=0;4>R;++R){var ne;if(x.Qa.Cb){var oe=x.Qa.Lb[R];x.Qa.Fb||(oe+=K.Tb)}else oe=K.Tb;for(ne=0;1>=ne;++ne){var ce=x.gd[R][ne],de=oe;if(K.Pc&&(de+=K.vd[0],ne&&(de+=K.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<K.wb&&(pe=4<K.wb?pe>>2:pe>>1)>9-K.wb&&(pe=9-K.wb),1>pe&&(pe=1),ce.dd=pe,ce.tc=2*de+pe,ce.ld=40<=de?2:15<=de?1:0}else ce.tc=0;ce.La=ne}}}R=0}else Cn(x,6,"Frame setup failed"),R=x.a;if(R=R==0){if(R){x.$c=0,0<x.Aa||(x.Ic=LY);e:{R=x.Ic,K=4*(pe=x.za);var be=32*pe,De=pe+1,Qe=0<x.L?pe*(0<x.Aa?2:1):0,Je=(x.Aa==2?2:1)*pe;if((ce=K+832+(ne=3*(16*R+jy[x.L])/2*be)+(oe=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=ce)R=0;else{if(ce>x.Vb){if(x.Vb=0,x.Ec=i(ce),x.Fc=0,x.Ec==null){R=Cn(x,1,"no memory during frame initialization.");break e}x.Vb=ce}ce=x.Ec,de=x.Fc,x.Ac=ce,x.Bc=de,de+=K,x.Gd=s(be,is),x.Hd=0,x.rb=s(De+1,Hr),x.sb=1,x.wa=Qe?s(Qe,Vr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=ce,x.pc=de,de+=832,x.ya=s(Je,pi),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(be=jy[x.L])*x.R,be=be/2*x.B,x.sa=ce,x.ta=de+pe,x.qa=x.sa,x.ra=x.ta+16*R*x.R+be,x.Ha=x.qa,x.Ia=x.ra+8*R*x.B+be,x.$c=0,de+=ne,x.mb=oe?ce:null,x.nb=oe?de:null,t(de+oe<=x.Fc+x.Vb),vc(x),a(x.Ac,x.Bc,0,K),R=1}}if(R){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!_y){for(R=-255;255>=R;++R)Va[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Tc[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Om[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Gh[255+R]=0>R?0:255<R?255:R;_y=1}qh=Nr,Ac=Ot,Cm=Lt,cs=Et,vo=ar,ya=dt,Wh=Tu,wy=Jo,Pm=Nu,pd=dd,md=Eu,Lu=xc,gd=ku,Hh=Ml,vd=yc,Mu=Ks,jm=Ua,yo=Rh,tl[0]=mo,tl[1]=Fn,tl[2]=Dl,tl[3]=Am,tl[4]=Lh,tl[5]=wu,tl[6]=Hs,tl[7]=sd,tl[8]=Su,tl[9]=_u,Ru[0]=os,Ru[1]=Gr,Ru[2]=Tn,Ru[3]=ei,Ru[4]=jn,Ru[5]=bu,Ru[6]=id,Ec[0]=Qo,Ec[1]=Pn,Ec[2]=Mh,Ec[3]=Xo,Ec[4]=gn,Ec[5]=od,Ec[6]=ld,R=1}else R=0}R&&(R=function(ze,_t){for(ze.M=0;ze.M<ze.Va;++ze.M){var st,Le=ze.Jc[ze.M&ze.Xb],$e=ze.m,gt=ze;for(st=0;st<gt.za;++st){var kt=$e,bt=gt,Qt=bt.Ac,zt=bt.Bc+4*st,hr=bt.zc,Gt=bt.ya[bt.aa+st];if(bt.Qa.Bb?Gt.$b=ae(kt,bt.Pa.jb[0])?2+ae(kt,bt.Pa.jb[2]):ae(kt,bt.Pa.jb[1]):Gt.$b=0,bt.kc&&(Gt.Ad=ae(kt,bt.Bd)),Gt.Za=!ae(kt,145)+0,Gt.Za){var hn=Gt.Ob,xn=0;for(bt=0;4>bt;++bt){var on,Yr=hr[0+bt];for(on=0;4>on;++on){Yr=bY[Qt[zt+on]][Yr];for(var In=LP[ae(kt,Yr[0])];0<In;)In=LP[2*In+ae(kt,Yr[In])];Yr=-In,Qt[zt+on]=Yr}n(hn,xn,Qt,zt,4),xn+=4,hr[0+bt]=Yr}}else Yr=ae(kt,156)?ae(kt,128)?1:3:ae(kt,163)?2:0,Gt.Ob[0]=Yr,a(Qt,zt,Yr,4),a(hr,0,Yr,4);Gt.Dd=ae(kt,142)?ae(kt,114)?ae(kt,183)?1:3:2:0}if(gt.m.Ka)return Cn(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(gt=Le,kt=($e=ze).rb[$e.sb-1],Qt=$e.rb[$e.sb+$e.ja],st=$e.ya[$e.aa+$e.ja],zt=$e.kc?st.Ad:0)kt.la=Qt.la=0,st.Za||(kt.Na=Qt.Na=0),st.Hc=0,st.Gc=0,st.ia=0;else{var En,Dr;if(kt=Qt,Qt=gt,zt=$e.Pa.Xc,hr=$e.ya[$e.aa+$e.ja],Gt=$e.pb[hr.$b],bt=hr.ad,hn=0,xn=$e.rb[$e.sb-1],Yr=on=0,a(bt,hn,0,384),hr.Za)var Na=0,Cs=zt[3];else{In=i(16);var ka=kt.Na+xn.Na;if(ka=Im(Qt,zt[1],ka,Gt.Eb,0,In,0),kt.Na=xn.Na=(0<ka)+0,1<ka)qh(In,0,bt,hn);else{var Ps=In[0]+3>>3;for(In=0;256>In;In+=16)bt[hn+In]=Ps}Na=1,Cs=zt[0]}var bn=15&kt.la,Xs=15&xn.la;for(In=0;4>In;++In){var Qs=1&Xs;for(Ps=Dr=0;4>Ps;++Ps)bn=bn>>1|(Qs=(ka=Im(Qt,Cs,ka=Qs+(1&bn),Gt.Sc,Na,bt,hn))>Na)<<7,Dr=Dr<<2|(3<ka?3:1<ka?2:bt[hn+0]!=0),hn+=16;bn>>=4,Xs=Xs>>1|Qs<<7,on=(on<<8|Dr)>>>0}for(Cs=bn,Na=Xs>>4,En=0;4>En;En+=2){for(Dr=0,bn=kt.la>>4+En,Xs=xn.la>>4+En,In=0;2>In;++In){for(Qs=1&Xs,Ps=0;2>Ps;++Ps)ka=Qs+(1&bn),bn=bn>>1|(Qs=0<(ka=Im(Qt,zt[2],ka,Gt.Qc,0,bt,hn)))<<3,Dr=Dr<<2|(3<ka?3:1<ka?2:bt[hn+0]!=0),hn+=16;bn>>=2,Xs=Xs>>1|Qs<<5}Yr|=Dr<<4*En,Cs|=bn<<4<<En,Na|=(240&Xs)<<En}kt.la=Cs,xn.la=Na,hr.Hc=on,hr.Gc=Yr,hr.ia=43690&Yr?0:Gt.ia,zt=!(on|Yr)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[st.$b][st.Za],$e.wa[$e.Y+$e.ja].La|=!zt),gt.Ka)return Cn(ze,7,"Premature end-of-file encountered.")}if(vc(ze),$e=_t,gt=1,st=(Le=ze).D,kt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(st.M=Le.M,st.uc=kt,Fl(Le,st),gt=1,st=(Dr=Le.D).Nb,kt=(Yr=jy[Le.L])*Le.R,Qt=Yr/2*Le.B,In=16*st*Le.R,Ps=8*st*Le.B,zt=Le.sa,hr=Le.ta-kt+In,Gt=Le.qa,bt=Le.ra-Qt+Ps,hn=Le.Ha,xn=Le.Ia-Qt+Ps,Xs=(bn=Dr.M)==0,on=bn>=Le.Va-1,Le.Aa==2&&Fl(Le,Dr),Dr.uc)for(Qs=(ka=Le).D.M,t(ka.D.uc),Dr=ka.yb;Dr<ka.Hb;++Dr){Na=Dr,Cs=Qs;var ti=(yi=(ca=ka).D).Nb;En=ca.R;var yi=yi.wa[yi.Y+Na],us=ca.sa,_o=ca.ta+16*ti*En+16*Na,Bl=yi.dd,ri=yi.tc;if(ri!=0)if(t(3<=ri),ca.L==1)0<Na&&Mu(us,_o,En,ri+4),yi.La&&yo(us,_o,En,ri),0<Cs&&vd(us,_o,En,ri+4),yi.La&&jm(us,_o,En,ri);else{var Nc=ca.B,yd=ca.qa,Kh=ca.ra+8*ti*Nc+8*Na,$u=ca.Ha,ca=ca.Ia+8*ti*Nc+8*Na;ti=yi.ld,0<Na&&(wy(us,_o,En,ri+4,Bl,ti),pd(yd,Kh,$u,ca,Nc,ri+4,Bl,ti)),yi.La&&(Lu(us,_o,En,ri,Bl,ti),Hh(yd,Kh,$u,ca,Nc,ri,Bl,ti)),0<Cs&&(Wh(us,_o,En,ri+4,Bl,ti),Pm(yd,Kh,$u,ca,Nc,ri+4,Bl,ti)),yi.La&&(md(us,_o,En,ri,Bl,ti),gd(yd,Kh,$u,ca,Nc,ri,Bl,ti))}}if(Le.ia&&alert("todo:DitherRow"),$e.put!=null){if(Dr=16*bn,bn=16*(bn+1),Xs?($e.y=Le.sa,$e.O=Le.ta+In,$e.f=Le.qa,$e.N=Le.ra+Ps,$e.ea=Le.Ha,$e.W=Le.Ia+Ps):(Dr-=Yr,$e.y=zt,$e.O=hr,$e.f=Gt,$e.N=bt,$e.ea=hn,$e.W=xn),on||(bn-=Yr),bn>$e.o&&(bn=$e.o),$e.F=null,$e.J=null,Le.Fa!=null&&0<Le.Fa.length&&Dr<bn&&($e.J=Ou(Le,$e,Dr,bn-Dr),$e.F=Le.mb,$e.F==null&&$e.F.length==0)){gt=Cn(Le,3,"Could not decode alpha data.");break e}Dr<$e.j&&(Yr=$e.j-Dr,Dr=$e.j,t(!(1&Yr)),$e.O+=Le.R*Yr,$e.N+=Le.B*(Yr>>1),$e.W+=Le.B*(Yr>>1),$e.F!=null&&($e.J+=$e.width*Yr)),Dr<bn&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=Dr-$e.j,$e.U=$e.va-$e.v,$e.T=bn-Dr,gt=$e.put($e))}st+1!=Le.Ic||on||(n(Le.sa,Le.ta-kt,zt,hr+16*Le.R,kt),n(Le.qa,Le.ra-Qt,Gt,bt+8*Le.B,Qt),n(Le.Ha,Le.Ia-Qt,hn,xn+8*Le.B,Qt))}if(!gt)return Cn(ze,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),R&=1}return R?(x.cb=0,R):0}function Ee(x,C,R,K,ne){ne=x[C+R+32*K]+(ne>>3),x[C+R+32*K]=-256&ne?0>ne?0:255:ne}function St(x,C,R,K,ne,oe){Ee(x,C,0,R,K+ne),Ee(x,C,1,R,K+oe),Ee(x,C,2,R,K-oe),Ee(x,C,3,R,K-ne)}function $t(x){return(20091*x>>16)+x}function pt(x,C,R,K){var ne,oe=0,ce=i(16);for(ne=0;4>ne;++ne){var de=x[C+0]+x[C+8],pe=x[C+0]-x[C+8],be=(35468*x[C+4]>>16)-$t(x[C+12]),De=$t(x[C+4])+(35468*x[C+12]>>16);ce[oe+0]=de+De,ce[oe+1]=pe+be,ce[oe+2]=pe-be,ce[oe+3]=de-De,oe+=4,C++}for(ne=oe=0;4>ne;++ne)de=(x=ce[oe+0]+4)+ce[oe+8],pe=x-ce[oe+8],be=(35468*ce[oe+4]>>16)-$t(ce[oe+12]),Ee(R,K,0,0,de+(De=$t(ce[oe+4])+(35468*ce[oe+12]>>16))),Ee(R,K,1,0,pe+be),Ee(R,K,2,0,pe-be),Ee(R,K,3,0,de-De),oe++,K+=32}function dt(x,C,R,K){var ne=x[C+0]+4,oe=35468*x[C+4]>>16,ce=$t(x[C+4]),de=35468*x[C+1]>>16;St(R,K,0,ne+ce,x=$t(x[C+1]),de),St(R,K,1,ne+oe,x,de),St(R,K,2,ne-oe,x,de),St(R,K,3,ne-ce,x,de)}function Ot(x,C,R,K,ne){pt(x,C,R,K),ne&&pt(x,C+16,R,K+4)}function Lt(x,C,R,K){Ac(x,C+0,R,K,1),Ac(x,C+32,R,K+128,1)}function Et(x,C,R,K){var ne;for(x=x[C+0]+4,ne=0;4>ne;++ne)for(C=0;4>C;++C)Ee(R,K,C,ne,x)}function ar(x,C,R,K){x[C+0]&&cs(x,C+0,R,K),x[C+16]&&cs(x,C+16,R,K+4),x[C+32]&&cs(x,C+32,R,K+128),x[C+48]&&cs(x,C+48,R,K+128+4)}function Nr(x,C,R,K){var ne,oe=i(16);for(ne=0;4>ne;++ne){var ce=x[C+0+ne]+x[C+12+ne],de=x[C+4+ne]+x[C+8+ne],pe=x[C+4+ne]-x[C+8+ne],be=x[C+0+ne]-x[C+12+ne];oe[0+ne]=ce+de,oe[8+ne]=ce-de,oe[4+ne]=be+pe,oe[12+ne]=be-pe}for(ne=0;4>ne;++ne)ce=(x=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],pe=oe[1+4*ne]-oe[2+4*ne],be=x-oe[3+4*ne],R[K+0]=ce+de>>3,R[K+16]=be+pe>>3,R[K+32]=ce-de>>3,R[K+48]=be-pe>>3,K+=64}function pr(x,C,R){var K,ne=C-32,oe=Ys,ce=255-x[ne-1];for(K=0;K<R;++K){var de,pe=oe,be=ce+x[C-1];for(de=0;de<R;++de)x[C+de]=pe[be+x[ne+de]];C+=32}}function Fn(x,C){pr(x,C,4)}function Pn(x,C){pr(x,C,8)}function Gr(x,C){pr(x,C,16)}function Tn(x,C){var R;for(R=0;16>R;++R)n(x,C+32*R,x,C-32,16)}function ei(x,C){var R;for(R=16;0<R;--R)a(x,C,x[C-1],16),C+=32}function Wn(x,C,R){var K;for(K=0;16>K;++K)a(C,R+32*K,x,16)}function os(x,C){var R,K=16;for(R=0;16>R;++R)K+=x[C-1+32*R]+x[C+R-32];Wn(K>>5,x,C)}function jn(x,C){var R,K=8;for(R=0;16>R;++R)K+=x[C-1+32*R];Wn(K>>4,x,C)}function bu(x,C){var R,K=8;for(R=0;16>R;++R)K+=x[C+R-32];Wn(K>>4,x,C)}function id(x,C){Wn(128,x,C)}function wr(x,C,R){return x+2*C+R+2>>2}function Dl(x,C){var R,K=C-32;for(K=new Uint8Array([wr(x[K-1],x[K+0],x[K+1]),wr(x[K+0],x[K+1],x[K+2]),wr(x[K+1],x[K+2],x[K+3]),wr(x[K+2],x[K+3],x[K+4])]),R=0;4>R;++R)n(x,C+32*R,K,0,K.length)}function Am(x,C){var R=x[C-1],K=x[C-1+32],ne=x[C-1+64],oe=x[C-1+96];ge(x,C+0,16843009*wr(x[C-1-32],R,K)),ge(x,C+32,16843009*wr(R,K,ne)),ge(x,C+64,16843009*wr(K,ne,oe)),ge(x,C+96,16843009*wr(ne,oe,oe))}function mo(x,C){var R,K=4;for(R=0;4>R;++R)K+=x[C+R-32]+x[C-1+32*R];for(K>>=3,R=0;4>R;++R)a(x,C+32*R,K,4)}function Lh(x,C){var R=x[C-1+0],K=x[C-1+32],ne=x[C-1+64],oe=x[C-1-32],ce=x[C+0-32],de=x[C+1-32],pe=x[C+2-32],be=x[C+3-32];x[C+0+96]=wr(K,ne,x[C-1+96]),x[C+1+96]=x[C+0+64]=wr(R,K,ne),x[C+2+96]=x[C+1+64]=x[C+0+32]=wr(oe,R,K),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=wr(ce,oe,R),x[C+3+64]=x[C+2+32]=x[C+1+0]=wr(de,ce,oe),x[C+3+32]=x[C+2+0]=wr(pe,de,ce),x[C+3+0]=wr(be,pe,de)}function Hs(x,C){var R=x[C+1-32],K=x[C+2-32],ne=x[C+3-32],oe=x[C+4-32],ce=x[C+5-32],de=x[C+6-32],pe=x[C+7-32];x[C+0+0]=wr(x[C+0-32],R,K),x[C+1+0]=x[C+0+32]=wr(R,K,ne),x[C+2+0]=x[C+1+32]=x[C+0+64]=wr(K,ne,oe),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=wr(ne,oe,ce),x[C+3+32]=x[C+2+64]=x[C+1+96]=wr(oe,ce,de),x[C+3+64]=x[C+2+96]=wr(ce,de,pe),x[C+3+96]=wr(de,pe,pe)}function wu(x,C){var R=x[C-1+0],K=x[C-1+32],ne=x[C-1+64],oe=x[C-1-32],ce=x[C+0-32],de=x[C+1-32],pe=x[C+2-32],be=x[C+3-32];x[C+0+0]=x[C+1+64]=oe+ce+1>>1,x[C+1+0]=x[C+2+64]=ce+de+1>>1,x[C+2+0]=x[C+3+64]=de+pe+1>>1,x[C+3+0]=pe+be+1>>1,x[C+0+96]=wr(ne,K,R),x[C+0+64]=wr(K,R,oe),x[C+0+32]=x[C+1+96]=wr(R,oe,ce),x[C+1+32]=x[C+2+96]=wr(oe,ce,de),x[C+2+32]=x[C+3+96]=wr(ce,de,pe),x[C+3+32]=wr(de,pe,be)}function sd(x,C){var R=x[C+0-32],K=x[C+1-32],ne=x[C+2-32],oe=x[C+3-32],ce=x[C+4-32],de=x[C+5-32],pe=x[C+6-32],be=x[C+7-32];x[C+0+0]=R+K+1>>1,x[C+1+0]=x[C+0+64]=K+ne+1>>1,x[C+2+0]=x[C+1+64]=ne+oe+1>>1,x[C+3+0]=x[C+2+64]=oe+ce+1>>1,x[C+0+32]=wr(R,K,ne),x[C+1+32]=x[C+0+96]=wr(K,ne,oe),x[C+2+32]=x[C+1+96]=wr(ne,oe,ce),x[C+3+32]=x[C+2+96]=wr(oe,ce,de),x[C+3+64]=wr(ce,de,pe),x[C+3+96]=wr(de,pe,be)}function _u(x,C){var R=x[C-1+0],K=x[C-1+32],ne=x[C-1+64],oe=x[C-1+96];x[C+0+0]=R+K+1>>1,x[C+2+0]=x[C+0+32]=K+ne+1>>1,x[C+2+32]=x[C+0+64]=ne+oe+1>>1,x[C+1+0]=wr(R,K,ne),x[C+3+0]=x[C+1+32]=wr(K,ne,oe),x[C+3+32]=x[C+1+64]=wr(ne,oe,oe),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=oe}function Su(x,C){var R=x[C-1+0],K=x[C-1+32],ne=x[C-1+64],oe=x[C-1+96],ce=x[C-1-32],de=x[C+0-32],pe=x[C+1-32],be=x[C+2-32];x[C+0+0]=x[C+2+32]=R+ce+1>>1,x[C+0+32]=x[C+2+64]=K+R+1>>1,x[C+0+64]=x[C+2+96]=ne+K+1>>1,x[C+0+96]=oe+ne+1>>1,x[C+3+0]=wr(de,pe,be),x[C+2+0]=wr(ce,de,pe),x[C+1+0]=x[C+3+32]=wr(R,ce,de),x[C+1+32]=x[C+3+64]=wr(K,R,ce),x[C+1+64]=x[C+3+96]=wr(ne,K,R),x[C+1+96]=wr(oe,ne,K)}function Mh(x,C){var R;for(R=0;8>R;++R)n(x,C+32*R,x,C-32,8)}function Xo(x,C){var R;for(R=0;8>R;++R)a(x,C,x[C-1],8),C+=32}function Gs(x,C,R){var K;for(K=0;8>K;++K)a(C,R+32*K,x,8)}function Qo(x,C){var R,K=8;for(R=0;8>R;++R)K+=x[C+R-32]+x[C-1+32*R];Gs(K>>4,x,C)}function od(x,C){var R,K=4;for(R=0;8>R;++R)K+=x[C+R-32];Gs(K>>3,x,C)}function gn(x,C){var R,K=4;for(R=0;8>R;++R)K+=x[C-1+32*R];Gs(K>>3,x,C)}function ld(x,C){Gs(128,x,C)}function Au(x,C,R){var K=x[C-R],ne=x[C+0],oe=3*(ne-K)+b_[1020+x[C-2*R]-x[C+R]],ce=Sy[112+(oe+4>>3)];x[C-R]=Ys[255+K+Sy[112+(oe+3>>3)]],x[C+0]=Ys[255+ne-ce]}function cd(x,C,R,K){var ne=x[C+0],oe=x[C+R];return bo[255+x[C-2*R]-x[C-R]]>K||bo[255+oe-ne]>K}function ud(x,C,R,K){return 4*bo[255+x[C-R]-x[C+0]]+bo[255+x[C-2*R]-x[C+R]]<=K}function fd(x,C,R,K,ne){var oe=x[C-3*R],ce=x[C-2*R],de=x[C-R],pe=x[C+0],be=x[C+R],De=x[C+2*R],Qe=x[C+3*R];return 4*bo[255+de-pe]+bo[255+ce-be]>K?0:bo[255+x[C-4*R]-oe]<=ne&&bo[255+oe-ce]<=ne&&bo[255+ce-de]<=ne&&bo[255+Qe-De]<=ne&&bo[255+De-be]<=ne&&bo[255+be-pe]<=ne}function yc(x,C,R,K){var ne=2*K+1;for(K=0;16>K;++K)ud(x,C+K,R,ne)&&Au(x,C+K,R)}function Ks(x,C,R,K){var ne=2*K+1;for(K=0;16>K;++K)ud(x,C+K*R,1,ne)&&Au(x,C+K*R,1)}function Ua(x,C,R,K){var ne;for(ne=3;0<ne;--ne)yc(x,C+=4*R,R,K)}function Rh(x,C,R,K){var ne;for(ne=3;0<ne;--ne)Ks(x,C+=4,R,K)}function Ll(x,C,R,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(fd(x,C,R,oe,ce))if(cd(x,C,R,de))Au(x,C,R);else{var pe=x,be=C,De=R,Qe=pe[be-2*De],Je=pe[be-De],ze=pe[be+0],_t=pe[be+De],st=pe[be+2*De],Le=27*(gt=b_[1020+3*(ze-Je)+b_[1020+Qe-_t]])+63>>7,$e=18*gt+63>>7,gt=9*gt+63>>7;pe[be-3*De]=Ys[255+pe[be-3*De]+gt],pe[be-2*De]=Ys[255+Qe+$e],pe[be-De]=Ys[255+Je+Le],pe[be+0]=Ys[255+ze-Le],pe[be+De]=Ys[255+_t-$e],pe[be+2*De]=Ys[255+st-gt]}C+=K}}function mi(x,C,R,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(fd(x,C,R,oe,ce))if(cd(x,C,R,de))Au(x,C,R);else{var pe=x,be=C,De=R,Qe=pe[be-De],Je=pe[be+0],ze=pe[be+De],_t=Sy[112+((st=3*(Je-Qe))+4>>3)],st=Sy[112+(st+3>>3)],Le=_t+1>>1;pe[be-2*De]=Ys[255+pe[be-2*De]+Le],pe[be-De]=Ys[255+Qe+st],pe[be+0]=Ys[255+Je-_t],pe[be+De]=Ys[255+ze-Le]}C+=K}}function Tu(x,C,R,K,ne,oe){Ll(x,C,R,1,16,K,ne,oe)}function Jo(x,C,R,K,ne,oe){Ll(x,C,1,R,16,K,ne,oe)}function Eu(x,C,R,K,ne,oe){var ce;for(ce=3;0<ce;--ce)mi(x,C+=4*R,R,1,16,K,ne,oe)}function xc(x,C,R,K,ne,oe){var ce;for(ce=3;0<ce;--ce)mi(x,C+=4,1,R,16,K,ne,oe)}function Nu(x,C,R,K,ne,oe,ce,de){Ll(x,C,ne,1,8,oe,ce,de),Ll(R,K,ne,1,8,oe,ce,de)}function dd(x,C,R,K,ne,oe,ce,de){Ll(x,C,1,ne,8,oe,ce,de),Ll(R,K,1,ne,8,oe,ce,de)}function ku(x,C,R,K,ne,oe,ce,de){mi(x,C+4*ne,ne,1,8,oe,ce,de),mi(R,K+4*ne,ne,1,8,oe,ce,de)}function Ml(x,C,R,K,ne,oe,ce,de){mi(x,C+4,1,ne,8,oe,ce,de),mi(R,K+4,1,ne,8,oe,ce,de)}function bc(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pu(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new N}function Fh(){this.xb=this.a=0,this.l=new ss,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pu,this.ab=0,this.gc=s(4,wc),this.Oc=0}function Zo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ss,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rl(x,C,R,K,ne,oe,ce){for(x=x==null?0:x[C+0],C=0;C<ce;++C)ne[oe+C]=x+R[K+C]&255,x=ne[oe+C]}function ju(x,C,R,K,ne,oe,ce){var de;if(x==null)Rl(null,null,R,K,ne,oe,ce);else for(de=0;de<ce;++de)ne[oe+de]=x[C+de]+R[K+de]&255}function Oi(x,C,R,K,ne,oe,ce){if(x==null)Rl(null,null,R,K,ne,oe,ce);else{var de,pe=x[C+0],be=pe,De=pe;for(de=0;de<ce;++de)be=De+(pe=x[C+de])-be,De=R[K+de]+(-256&be?0>be?0:255:be)&255,be=pe,ne[oe+de]=De}}function Ou(x,C,R,K){var ne=C.width,oe=C.o;if(t(x!=null&&C!=null),0>R||0>=K||R+K>oe)return null;if(!x.Cc){if(x.ga==null){var ce;if(x.ga=new Zo,(ce=x.ga==null)||(ce=C.width*C.o,t(x.Gb.length==0),x.Gb=i(ce),x.Uc=0,x.Gb==null?ce=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ce=1),ce=!ce),!ce){ce=x.ga;var de=x.Fa,pe=x.P,be=x.qc,De=x.mb,Qe=x.nb,Je=pe+1,ze=be-1,_t=ce.l;if(t(de!=null&&De!=null&&C!=null),Fu[0]=null,Fu[1]=Rl,Fu[2]=ju,Fu[3]=Oi,ce.ca=De,ce.tb=Qe,ce.c=C.width,ce.i=C.height,t(0<ce.c&&0<ce.i),1>=be)C=0;else if(ce.$a=de[pe+0]>>0&3,ce.Z=de[pe+0]>>2&3,ce.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||pe)C=0;else if(_t.put=Tr,_t.ac=or,_t.bc=An,_t.ma=ce,_t.width=C.width,_t.height=C.height,_t.Da=C.Da,_t.v=C.v,_t.va=C.va,_t.j=C.j,_t.o=C.o,ce.$a)e:{t(ce.$a==1),C=tt();t:for(;;){if(C==null){C=0;break e}if(t(ce!=null),ce.mc=C,C.c=ce.c,C.i=ce.i,C.l=ce.l,C.l.ma=ce,C.l.width=ce.c,C.l.height=ce.i,C.a=0,V(C.m,de,Je,ze),!Ge(ce.c,ce.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&he(C.s)?(ce.ic=1,de=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(de),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ce.ic=0,C=Ke(C,ce.c)),!C))break t;C=1;break e}ce.mc=null,C=0}else C=ze>=ce.c*ce.i;ce=!C}if(ce)return null;x.ga.Lc!=1?x.Ga=0:K=oe-R}t(x.ga!=null),t(R+K<=oe);e:{if(C=(de=x.ga).c,oe=de.l.o,de.$a==0){if(Je=x.rc,ze=x.Vc,_t=x.Fa,pe=x.P+1+R*C,be=x.mb,De=x.nb+R*C,t(pe<=x.P+x.qc),de.Z!=0)for(t(Fu[de.Z]!=null),ce=0;ce<K;++ce)Fu[de.Z](Je,ze,_t,pe,be,De,C),Je=be,ze=De,De+=C,pe+=C;else for(ce=0;ce<K;++ce)n(be,De,_t,pe,C),Je=be,ze=De,De+=C,pe+=C;x.rc=Je,x.Vc=ze}else{if(t(de.mc!=null),C=R+K,t((ce=de.mc)!=null),t(C<=ce.i),ce.C>=C)C=1;else if(de.ic||Ve(),de.ic){de=ce.V,Je=ce.Ba,ze=ce.c;var st=ce.i,Le=(_t=1,pe=ce.$/ze,be=ce.$%ze,De=ce.m,Qe=ce.s,ce.$),$e=ze*st,gt=ze*C,kt=Qe.wc,bt=Le<gt?ut(Qe,be,pe):null;t(Le<=$e),t(C<=st),t(he(Qe));t:for(;;){for(;!De.h&&Le<gt;){if(be&kt||(bt=ut(Qe,be,pe)),t(bt!=null),J(De),256>(st=Ne(bt.G[0],bt.H[0],De)))de[Je+Le]=st,++Le,++be>=ze&&(be=0,++pe<=C&&!(pe%16)&&xe(ce,pe));else{if(!(280>st)){_t=0;break t}st=Mn(st-256,De);var Qt,zt=Ne(bt.G[4],bt.H[4],De);if(J(De),!(Le>=(zt=Rn(ze,zt=Mn(zt,De)))&&$e-Le>=st)){_t=0;break t}for(Qt=0;Qt<st;++Qt)de[Je+Le+Qt]=de[Je+Le+Qt-zt];for(Le+=st,be+=st;be>=ze;)be-=ze,++pe<=C&&!(pe%16)&&xe(ce,pe);Le<gt&&be&kt&&(bt=ut(Qe,be,pe))}t(De.h==q(De))}xe(ce,pe>C?C:pe);break t}!_t||De.h&&Le<$e?(_t=0,ce.a=De.h?5:3):ce.$=Le,C=_t}else C=_e(ce,ce.V,ce.Ba,ce.c,ce.i,C,Ze);if(!C){K=0;break e}}R+K>=oe&&(x.Cc=1),K=1}if(!K)return null;if(x.Cc&&((K=x.ga)!=null&&(K.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+R*ne}function L(x,C,R,K,ne,oe){for(;0<ne--;){var ce,de=x,pe=C+(R?1:0),be=x,De=C+(R?0:3);for(ce=0;ce<K;++ce){var Qe=be[De+4*ce];Qe!=255&&(Qe*=32897,de[pe+4*ce+0]=de[pe+4*ce+0]*Qe>>23,de[pe+4*ce+1]=de[pe+4*ce+1]*Qe>>23,de[pe+4*ce+2]=de[pe+4*ce+2]*Qe>>23)}C+=oe}}function re(x,C,R,K,ne){for(;0<K--;){var oe;for(oe=0;oe<R;++oe){var ce=x[C+2*oe+0],de=15&(be=x[C+2*oe+1]),pe=4369*de,be=(240&be|be>>4)*pe>>16;x[C+2*oe+0]=(240&ce|ce>>4)*pe>>16&240|(15&ce|ce<<4)*pe>>16>>4&15,x[C+2*oe+1]=240&be|de}C+=ne}}function Ae(x,C,R,K,ne,oe,ce,de){var pe,be,De=255;for(be=0;be<ne;++be){for(pe=0;pe<K;++pe){var Qe=x[C+pe];oe[ce+4*pe]=Qe,De&=Qe}C+=R,ce+=de}return De!=255}function je(x,C,R,K,ne){var oe;for(oe=0;oe<ne;++oe)R[K+oe]=x[C+oe]>>8}function Ve(){xo=L,$n=re,Bn=Ae,xa=je}function lt(x,C,R){_[x]=function(K,ne,oe,ce,de,pe,be,De,Qe,Je,ze,_t,st,Le,$e,gt,kt){var bt,Qt=kt-1>>1,zt=de[pe+0]|be[De+0]<<16,hr=Qe[Je+0]|ze[_t+0]<<16;t(K!=null);var Gt=3*zt+hr+131074>>2;for(C(K[ne+0],255&Gt,Gt>>16,st,Le),oe!=null&&(Gt=3*hr+zt+131074>>2,C(oe[ce+0],255&Gt,Gt>>16,$e,gt)),bt=1;bt<=Qt;++bt){var hn=de[pe+bt]|be[De+bt]<<16,xn=Qe[Je+bt]|ze[_t+bt]<<16,on=zt+hn+hr+xn+524296,Yr=on+2*(hn+hr)>>3;Gt=Yr+zt>>1,zt=(on=on+2*(zt+xn)>>3)+hn>>1,C(K[ne+2*bt-1],255&Gt,Gt>>16,st,Le+(2*bt-1)*R),C(K[ne+2*bt-0],255&zt,zt>>16,st,Le+(2*bt-0)*R),oe!=null&&(Gt=on+hr>>1,zt=Yr+xn>>1,C(oe[ce+2*bt-1],255&Gt,Gt>>16,$e,gt+(2*bt-1)*R),C(oe[ce+2*bt+0],255&zt,zt>>16,$e,gt+(2*bt+0)*R)),zt=hn,hr=xn}1&kt||(Gt=3*zt+hr+131074>>2,C(K[ne+kt-1],255&Gt,Gt>>16,st,Le+(kt-1)*R),oe!=null&&(Gt=3*hr+zt+131074>>2,C(oe[ce+kt-1],255&Gt,Gt>>16,$e,gt+(kt-1)*R)))}}function Ct(){wo[Ay]=AY,wo[Ty]=RP,wo[OP]=TY,wo[Ey]=FP,wo[Ny]=$P,wo[w_]=BP,wo[IP]=EY,wo[__]=RP,wo[S_]=FP,wo[ky]=$P,wo[A_]=BP}function Wt(x){return x&~NY?0>x?0:255:x>>UP}function A(x,C){return Wt((19077*x>>8)+(26149*C>>8)-14234)}function B(x,C,R){return Wt((19077*x>>8)-(6419*C>>8)-(13320*R>>8)+8708)}function Q(x,C){return Wt((19077*x>>8)+(33050*C>>8)-17685)}function ue(x,C,R,K,ne){K[ne+0]=A(x,R),K[ne+1]=B(x,C,R),K[ne+2]=Q(x,C)}function Be(x,C,R,K,ne){K[ne+0]=Q(x,C),K[ne+1]=B(x,C,R),K[ne+2]=A(x,R)}function et(x,C,R,K,ne){var oe=B(x,C,R);C=oe<<3&224|Q(x,C)>>3,K[ne+0]=248&A(x,R)|oe>>5,K[ne+1]=C}function Pt(x,C,R,K,ne){var oe=240&Q(x,C)|15;K[ne+0]=240&A(x,R)|B(x,C,R)>>4,K[ne+1]=oe}function Cr(x,C,R,K,ne){K[ne+0]=255,ue(x,C,R,K,ne+1)}function Kr(x,C,R,K,ne){Be(x,C,R,K,ne),K[ne+3]=255}function Pr(x,C,R,K,ne){ue(x,C,R,K,ne),K[ne+3]=255}function vn(x,C){return 0>x?0:x>C?C:x}function On(x,C,R){_[x]=function(K,ne,oe,ce,de,pe,be,De,Qe){for(var Je=De+(-2&Qe)*R;De!=Je;)C(K[ne+0],oe[ce+0],de[pe+0],be,De),C(K[ne+1],oe[ce+0],de[pe+0],be,De+R),ne+=2,++ce,++pe,De+=2*R;1&Qe&&C(K[ne+0],oe[ce+0],de[pe+0],be,De)}}function el(x,C,R){return R==0?x==0?C==0?6:5:C==0?4:0:R}function gi(x,C,R,K,ne){switch(x>>>30){case 3:Ac(C,R,K,ne,0);break;case 2:ya(C,R,K,ne);break;case 1:cs(C,R,K,ne)}}function Fl(x,C){var R,K,ne=C.M,oe=C.Nb,ce=x.oc,de=x.pc+40,pe=x.oc,be=x.pc+584,De=x.oc,Qe=x.pc+600;for(R=0;16>R;++R)ce[de+32*R-1]=129;for(R=0;8>R;++R)pe[be+32*R-1]=129,De[Qe+32*R-1]=129;for(0<ne?ce[de-1-32]=pe[be-1-32]=De[Qe-1-32]=129:(a(ce,de-32-1,127,21),a(pe,be-32-1,127,9),a(De,Qe-32-1,127,9)),K=0;K<x.za;++K){var Je=C.ya[C.aa+K];if(0<K){for(R=-1;16>R;++R)n(ce,de+32*R-4,ce,de+32*R+12,4);for(R=-1;8>R;++R)n(pe,be+32*R-4,pe,be+32*R+4,4),n(De,Qe+32*R-4,De,Qe+32*R+4,4)}var ze=x.Gd,_t=x.Hd+K,st=Je.ad,Le=Je.Hc;if(0<ne&&(n(ce,de-32,ze[_t].y,0,16),n(pe,be-32,ze[_t].f,0,8),n(De,Qe-32,ze[_t].ea,0,8)),Je.Za){var $e=ce,gt=de-32+16;for(0<ne&&(K>=x.za-1?a($e,gt,ze[_t].y[15],4):n($e,gt,ze[_t+1].y,0,4)),R=0;4>R;R++)$e[gt+128+R]=$e[gt+256+R]=$e[gt+384+R]=$e[gt+0+R];for(R=0;16>R;++R,Le<<=2)$e=ce,gt=de+zP[R],tl[Je.Ob[R]]($e,gt),gi(Le,st,16*+R,$e,gt)}else if($e=el(K,ne,Je.Ob[0]),Ru[$e](ce,de),Le!=0)for(R=0;16>R;++R,Le<<=2)gi(Le,st,16*+R,ce,de+zP[R]);for(R=Je.Gc,$e=el(K,ne,Je.Dd),Ec[$e](pe,be),Ec[$e](De,Qe),Le=st,$e=pe,gt=be,255&(Je=R>>0)&&(170&Je?Cm(Le,256,$e,gt):vo(Le,256,$e,gt)),Je=De,Le=Qe,255&(R>>=8)&&(170&R?Cm(st,320,Je,Le):vo(st,320,Je,Le)),ne<x.Ub-1&&(n(ze[_t].y,0,ce,de+480,16),n(ze[_t].f,0,pe,be+224,8),n(ze[_t].ea,0,De,Qe+224,8)),R=8*oe*x.B,ze=x.sa,_t=x.ta+16*K+16*oe*x.R,st=x.qa,Je=x.ra+8*K+R,Le=x.Ha,$e=x.Ia+8*K+R,R=0;16>R;++R)n(ze,_t+R*x.R,ce,de+32*R,16);for(R=0;8>R;++R)n(st,Je+R*x.B,pe,be+32*R,8),n(Le,$e+R*x.B,De,Qe+32*R,8)}}function $l(x,C,R,K,ne,oe,ce,de,pe){var be=[0],De=[0],Qe=0,Je=pe!=null?pe.kd:0,ze=pe??new Cu;if(x==null||12>R)return 7;ze.data=x,ze.w=C,ze.ha=R,C=[C],R=[R],ze.gb=[ze.gb];e:{var _t=C,st=R,Le=ze.gb;if(t(x!=null),t(st!=null),t(Le!=null),Le[0]=0,12<=st[0]&&!r(x,_t[0],"RIFF")){if(r(x,_t[0]+8,"WEBP")){Le=3;break e}var $e=ke(x,_t[0]+4);if(12>$e||4294967286<$e){Le=3;break e}if(Je&&$e>st[0]-8){Le=7;break e}Le[0]=$e,_t[0]+=12,st[0]-=12}Le=0}if(Le!=0)return Le;for($e=0<ze.gb[0],R=R[0];;){e:{var gt=x;st=C,Le=R;var kt=be,bt=De,Qt=_t=[0];if((Gt=Qe=[Qe])[0]=0,8>Le[0])Le=7;else{if(!r(gt,st[0],"VP8X")){if(ke(gt,st[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var zt=ke(gt,st[0]+8),hr=1+H(gt,st[0]+12);if(2147483648<=hr*(gt=1+H(gt,st[0]+15))){Le=3;break e}Qt!=null&&(Qt[0]=zt),kt!=null&&(kt[0]=hr),bt!=null&&(bt[0]=gt),st[0]+=18,Le[0]-=18,Gt[0]=1}Le=0}}if(Qe=Qe[0],_t=_t[0],Le!=0)return Le;if(st=!!(2&_t),!$e&&Qe)return 3;if(oe!=null&&(oe[0]=!!(16&_t)),ce!=null&&(ce[0]=st),de!=null&&(de[0]=0),ce=be[0],_t=De[0],Qe&&st&&pe==null){Le=0;break}if(4>R){Le=7;break}if($e&&Qe||!$e&&!Qe&&!r(x,C[0],"ALPH")){R=[R],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{zt=x,Le=C,$e=R;var Gt=ze.gb;kt=ze.na,bt=ze.P,Qt=ze.Sa,hr=22,t(zt!=null),t($e!=null),gt=Le[0];var hn=$e[0];for(t(kt!=null),t(Qt!=null),kt[0]=null,bt[0]=null,Qt[0]=0;;){if(Le[0]=gt,$e[0]=hn,8>hn){Le=7;break e}var xn=ke(zt,gt+4);if(4294967286<xn){Le=3;break e}var on=8+xn+1&-2;if(hr+=on,0<Gt&&hr>Gt){Le=3;break e}if(!r(zt,gt,"VP8 ")||!r(zt,gt,"VP8L")){Le=0;break e}if(hn[0]<on){Le=7;break e}r(zt,gt,"ALPH")||(kt[0]=zt,bt[0]=gt+8,Qt[0]=xn),gt+=on,hn-=on}}if(R=R[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Le!=0)break}R=[R],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(Gt=x,Le=C,$e=R,kt=ze.gb[0],bt=ze.Ja,Qt=ze.xa,zt=Le[0],gt=!r(Gt,zt,"VP8 "),hr=!r(Gt,zt,"VP8L"),t(Gt!=null),t($e!=null),t(bt!=null),t(Qt!=null),8>$e[0])Le=7;else{if(gt||hr){if(Gt=ke(Gt,zt+4),12<=kt&&Gt>kt-12){Le=3;break e}if(Je&&Gt>$e[0]-8){Le=7;break e}bt[0]=Gt,Le[0]+=8,$e[0]-=8,Qt[0]=hr}else Qt[0]=5<=$e[0]&&Gt[zt+0]==47&&!(Gt[zt+4]>>5),bt[0]=$e[0];Le=0}if(R=R[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],C=C[0],Le!=0)break;if(4294967286<ze.Ja)return 3;if(de==null||st||(de[0]=ze.xa?2:1),ce=[ce],_t=[_t],ze.xa){if(5>R){Le=7;break}de=ce,Je=_t,st=oe,x==null||5>R?x=0:5<=R&&x[C+0]==47&&!(x[C+4]>>5)?($e=[0],Gt=[0],kt=[0],V(bt=new I,x,C,R),Yt(bt,$e,Gt,kt)?(de!=null&&(de[0]=$e[0]),Je!=null&&(Je[0]=Gt[0]),st!=null&&(st[0]=kt[0]),x=1):x=0):x=0}else{if(10>R){Le=7;break}de=_t,x==null||10>R||!pc(x,C+3,R-3)?x=0:(Je=x[C+0]|x[C+1]<<8|x[C+2]<<16,st=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=ze.Ja||!st||!x?x=0:(ce&&(ce[0]=st),de&&(de[0]=x),x=1))}if(!x||(ce=ce[0],_t=_t[0],Qe&&(be[0]!=ce||De[0]!=_t)))return 3;pe!=null&&(pe[0]=ze,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-R));break}return Le==0||Le==7&&Qe&&pe==null?(oe!=null&&(oe[0]|=ze.na!=null&&0<ze.na.length),K!=null&&(K[0]=ce),ne!=null&&(ne[0]=_t),0):Le}function Tm(x,C,R){var K=C.width,ne=C.height,oe=0,ce=0,de=K,pe=ne;if(C.Da=x!=null&&0<x.Da,C.Da&&(de=x.cd,pe=x.bd,oe=x.v,ce=x.j,11>R||(oe&=-2,ce&=-2),0>oe||0>ce||0>=de||0>=pe||oe+de>K||ce+pe>ne))return 0;if(C.v=oe,C.j=ce,C.va=oe+de,C.o=ce+pe,C.U=de,C.T=pe,C.da=x!=null&&0<x.da,C.da){if(!Me(de,pe,R=[x.ib],oe=[x.hb]))return 0;C.ib=R[0],C.hb=oe[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*K/4&&C.hb<3*ne/4,C.Kb=0),1}function Em(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function $h(x,C,R,K){if(K==null||0>=x||0>=C)return 2;if(R!=null){if(R.Da){var ne=R.cd,oe=R.bd,ce=-2&R.v,de=-2&R.j;if(0>ce||0>de||0>=ne||0>=oe||ce+ne>x||de+oe>C)return 2;x=ne,C=oe}if(R.da){if(!Me(x,C,ne=[R.ib],oe=[R.hb]))return 2;x=ne[0],C=oe[0]}}K.width=x,K.height=C;e:{var pe=K.width,be=K.height;if(x=K.S,0>=pe||0>=be||!(x>=Ay&&13>x))x=2;else{if(0>=K.Rd&&K.sd==null){ce=oe=ne=C=0;var De=(de=pe*qP[x])*be;if(11>x||(oe=(be+1)/2*(C=(pe+1)/2),x==12&&(ce=(ne=pe)*be)),(be=i(De+2*oe+ce))==null){x=1;break e}K.sd=be,11>x?((pe=K.f.RGBA).eb=be,pe.fb=0,pe.A=de,pe.size=De):((pe=K.f.kb).y=be,pe.O=0,pe.fa=de,pe.Fd=De,pe.f=be,pe.N=0+De,pe.Ab=C,pe.Cd=oe,pe.ea=be,pe.W=0+De+oe,pe.Db=C,pe.Ed=oe,x==12&&(pe.F=be,pe.J=0+De+2*oe),pe.Tc=ce,pe.lb=ne)}if(C=1,ne=K.S,oe=K.width,ce=K.height,ne>=Ay&&13>ne)if(11>ne)x=K.f.RGBA,C&=(de=Math.abs(x.A))*(ce-1)+oe<=x.size,C&=de>=oe*qP[ne],C&=x.eb!=null;else{x=K.f.kb,de=(oe+1)/2,De=(ce+1)/2,pe=Math.abs(x.fa),be=Math.abs(x.Ab);var Qe=Math.abs(x.Db),Je=Math.abs(x.lb),ze=Je*(ce-1)+oe;C&=pe*(ce-1)+oe<=x.Fd,C&=be*(De-1)+de<=x.Cd,C=(C&=Qe*(De-1)+de<=x.Ed)&pe>=oe&be>=de&Qe>=de,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,ne==12&&(C&=Je>=oe,C&=ze<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||R!=null&&R.fd&&(x=Em(K)),x}var vi=64,Bh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Uh=24,Vh=32,Nm=8,Ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(x){return x},_.Predictor2=function(x,C,R){return C[R+0]},_.Predictor3=function(x,C,R){return C[R+1]},_.Predictor4=function(x,C,R){return C[R-1]},_.Predictor5=function(x,C,R){return Fe(Fe(x,C[R+1]),C[R+0])},_.Predictor6=function(x,C,R){return Fe(x,C[R-1])},_.Predictor7=function(x,C,R){return Fe(x,C[R+0])},_.Predictor8=function(x,C,R){return Fe(C[R-1],C[R+0])},_.Predictor9=function(x,C,R){return Fe(C[R+0],C[R+1])},_.Predictor10=function(x,C,R){return Fe(Fe(x,C[R-1]),Fe(C[R+0],C[R+1]))},_.Predictor11=function(x,C,R){var K=C[R+0];return 0>=qe(K>>24&255,x>>24&255,(C=C[R-1])>>24&255)+qe(K>>16&255,x>>16&255,C>>16&255)+qe(K>>8&255,x>>8&255,C>>8&255)+qe(255&K,255&x,255&C)?K:x},_.Predictor12=function(x,C,R){var K=C[R+0];return(Te((x>>24&255)+(K>>24&255)-((C=C[R-1])>>24&255))<<24|Te((x>>16&255)+(K>>16&255)-(C>>16&255))<<16|Te((x>>8&255)+(K>>8&255)-(C>>8&255))<<8|Te((255&x)+(255&K)-(255&C)))>>>0},_.Predictor13=function(x,C,R){var K=C[R-1];return(Oe((x=Fe(x,C[R+0]))>>24&255,K>>24&255)<<24|Oe(x>>16&255,K>>16&255)<<16|Oe(x>>8&255,K>>8&255)<<8|Oe(x>>0&255,K>>0&255))>>>0};var x_=_.PredictorAdd0;_.PredictorAdd1=nt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var km=_.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var yy,go=_.ColorIndexInverseTransform,zh=_.MapARGB,xy=_.VP8LColorIndexInverseTransformAlpha,by=_.MapAlpha,Iu=_.VP8LPredictorsAdd=[];Iu.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var hd,ks,ls,Du,_c,Sc,qh,Ac,ya,Cm,cs,vo,Wh,wy,Pm,pd,md,Lu,gd,Hh,vd,Mu,jm,yo,xo,$n,Bn,xa,Va=i(511),Tc=i(2041),Om=i(225),Gh=i(767),_y=0,b_=Tc,Sy=Om,Ys=Gh,bo=Va,Ay=0,Ty=1,OP=2,Ey=3,Ny=4,w_=5,IP=6,__=7,S_=8,ky=9,A_=10,uY=[2,3,7],fY=[3,3,11],DP=[280,256,256,256,40],dY=[0,1,1,1,0],hY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gY=8,T_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],E_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Im=null,vY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_Y=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ru=[],tl=[],Ec=[],SY=1,MP=2,Fu=[],wo=[];lt("UpsampleRgbLinePair",ue,3),lt("UpsampleBgrLinePair",Be,3),lt("UpsampleRgbaLinePair",Pr,4),lt("UpsampleBgraLinePair",Kr,4),lt("UpsampleArgbLinePair",Cr,4),lt("UpsampleRgba4444LinePair",Pt,2),lt("UpsampleRgb565LinePair",et,2);var AY=_.UpsampleRgbLinePair,TY=_.UpsampleBgrLinePair,RP=_.UpsampleRgbaLinePair,FP=_.UpsampleBgraLinePair,$P=_.UpsampleArgbLinePair,BP=_.UpsampleRgba4444LinePair,EY=_.UpsampleRgb565LinePair,Cy=16,Py=1<<Cy-1,Dm=-227,N_=482,UP=6,NY=(256<<UP)-1,VP=0,kY=i(256),CY=i(256),PY=i(256),jY=i(256),OY=i(N_-Dm),IY=i(N_-Dm);On("YuvToRgbRow",ue,3),On("YuvToBgrRow",Be,3),On("YuvToRgbaRow",Pr,4),On("YuvToBgraRow",Kr,4),On("YuvToArgbRow",Cr,4),On("YuvToRgba4444Row",Pt,2),On("YuvToRgb565Row",et,2);var zP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jy=[0,2,8],DY=[8,7,6,4,4,2,2,2,1,1,1,1],LY=1;this.WebPDecodeRGBA=function(x,C,R,K,ne){var oe=Ty,ce=new bc,de=new Nt;ce.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var pe=de.width,be=de.height,De=new Kt;if(De==null||x==null)var Qe=2;else t(De!=null),Qe=$l(x,C,R,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Qe!=0?pe=0:(pe!=null&&(pe[0]=De.width[0]),be!=null&&(be[0]=De.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(K=new ss,(ne=new Cu).data=x,ne.w=C,ne.ha=R,ne.kd=1,C=[0],t(ne!=null),((x=$l(ne.data,ne.w,ne.ha,null,null,null,C,null,ne))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(ce!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=Tr,K.ac=or,K.bc=An,K.ma=ce,ne.xa){if((x=tt())==null){ce=1;break e}if(function(Je,ze){var _t=[0],st=[0],Le=[0];t:for(;;){if(Je==null)return 0;if(ze==null)return Je.a=2,0;if(Je.l=ze,Je.a=0,V(Je.m,ze.data,ze.w,ze.ha),!Yt(Je.m,_t,st,Le)){Je.a=3;break t}if(Je.xb=MP,ze.width=_t[0],ze.height=st[0],!Ge(_t[0],st[0],1,Je,null))break t;return 1}return t(Je.a!=0),0}(x,K)){if(K=(C=$h(K.width,K.height,ce.Oa,ce.ba))==0){t:{K=x;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((R=K.l)!=null),t((ne=R.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,t(K.ca!=null),!Tm(ne.Oa,R,Ey)){K.a=2;break r}if(!Ke(K,R.width)||R.da)break r;if((R.da||Re(K.ca.S))&&Ve(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Ve()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Ce(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!_e(K,K.V,K.Ba,K.c,K.i,R.o,ve))break r;ne.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(C=x.a)}else C=x.a}else{if((x=new Ba)==null){ce=1;break e}if(x.Fa=ne.na,x.P=ne.P,x.qc=ne.Sa,mc(x,K)){if((C=$h(K.width,K.height,ce.Oa,ce.ba))==0){if(x.Aa=0,R=ce.Oa,t((ne=x)!=null),R!=null){if(0<(pe=0>(pe=R.Md)?0:100<pe?255:255*pe/100)){for(be=De=0;4>be;++be)12>(Qe=ne.pb[be]).lc&&(Qe.ia=pe*DY[0>Qe.lc?0:Qe.lc]>>3),De|=Qe.ia;De&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=R.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}se(x,K)||(C=x.a)}}else C=x.a}C==0&&ce.Oa!=null&&ce.Oa.fd&&(C=Em(ce.ba))}ce=C}oe=ce!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var qP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,S){for(var O="",E=0;E<4;E++)O+=String.fromCharCode(_[S++]);return O}function u(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16)>>>0}function d(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16|_[S+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(_,S){var O={},E=0,N=!1,k=0,U=0;if(O.frames=[],!function(M,q,Y,J){for(var ie=0;ie<J;ie++)if(M[q+ie]!=Y.charCodeAt(ie))return!0;return!1}(_,S,"RIFF",4)){for(d(_,S+=4),S+=8;S<_.length;){var X=c(_,S),z=d(_,S+=4);S+=4;var G=z+(1&z);switch(X){case"VP8 ":case"VP8L":O.frames[E]===void 0&&(O.frames[E]={}),(te=O.frames[E]).src_off=N?U:S-8,te.src_size=k+z+8,E++,N&&(N=!1,k=0,U=0);break;case"VP8X":(te=O.header={}).feature_flags=_[S];var V=S+4;te.canvas_width=1+u(_,V),V+=3,te.canvas_height=1+u(_,V),V+=3;break;case"ALPH":N=!0,k=G+8,U=S-8;break;case"ANIM":(te=O.header).bgcolor=d(_,S),V=S+4,te.loop_count=(Z=_)[(I=V)+0]<<0|Z[I+1]<<8,V+=2;break;case"ANMF":var W,te;(te=O.frames[E]={}).offset_x=2*u(_,S),S+=3,te.offset_y=2*u(_,S),S+=3,te.width=1+u(_,S),S+=3,te.height=1+u(_,S),S+=3,te.duration=u(_,S),S+=3,W=_[S++],te.dispose=1&W,te.blend=W>>1&1}X!="ANMF"&&(S+=G)}var Z,I;return O}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var D=0;D<b.length&&b[D].blend!=0;D++);}var P=b[0],j=m.WebPDecodeRGBA(v,P.src_off,P.src_size,p,h);P.rgba=j,P.imgwidth=p[0],P.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=j[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof mE=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var w=mE(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,p,g,m){for(var v,y,w,b=h.length/p,D=new Uint8Array(h.length+b),P=u(),j=0;j<b;j+=1){if(w=j*p,v=h.subarray(w,w+p),m)D.set(m(v,g,y),w+j);else{for(var T,_=P.length,S=[];T<_;T+=1)S[T]=P[T](v,g,y);var O=d(S.concat());D.set(S[O],w+j)}y=v}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],w=h.length;y[0]=3;for(var b=0;b<w;b+=1)m=h[b-p]||0,v=g&&g[b]||0,y[b+1]=h[b]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,w,b=[],D=h.length;b[0]=4;for(var P=0;P<D;P+=1)m=h[P-p]||0,v=g&&g[P]||0,y=g&&g[P-p]||0,w=c(m,v,y),b[P+1]=h[P]-w+256&255;return b},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},d=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,w,b,D,P,j,T,_,S,O,E,N,k,U,X=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new R9e(h)).imgData,y=w.bits,v=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){_=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,O=new Uint8Array(_*w.colors),S=new Uint8Array(_);var G,V=w.pixelBitlength-w.bits;for(k=0,U=0;k<_;k++){for(N=T[k],G=0;G<V;)O[U++]=N>>>G&255,G+=w.bits;S[k]=N>>>G&255}}if(w.bits===16){_=(T=new Uint32Array(w.decodePixels().buffer)).length,O=new Uint8Array(_*(32/w.pixelBitlength)*w.colors),S=new Uint8Array(_*(32/w.pixelBitlength)),E=w.colors>1,k=0,U=0;for(var W=0;k<_;)N=T[k++],O[U++]=N>>>0&255,E&&(O[U++]=N>>>16&255,N=T[k++],O[U++]=N>>>0&255),S[W++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(O,w.width*w.colors,w.colors,m),j=r(S,w.width,1,m)):(h=O,j=S,X=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,Z=0;for(k=0,_=te.length;k<_;++k)Z+=te[k];if((Z/=255)===_-1&&te.indexOf(0)!==-1)b=[te.indexOf(0)];else if(Z!==_){for(T=w.decodePixels(),S=new Uint8Array(T.length),k=0,_=T.length;k<_;k++)S[k]=te[T[k]];j=r(S,w.width,1)}}var I=function(M){var q;switch(M){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(m);return X===this.decode.FLATE_DECODE&&(z="/Predictor "+I+" "),z+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:X,decodeParameters:z,transparency:b,palette:P,sMask:j,predictor:I,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(yr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new F9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new OA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(yr.API),ll.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ll.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},ll.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ll.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ll.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ll.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},ll.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ll.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},ll.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},ll.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new ll(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new OA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),DR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new DR(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new OA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),yr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],d=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},o0=yr.API,zx=o0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&pn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},PR=o0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return o0.processArabic&&(e=o0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:zx.apply(this,arguments).reduce(function(i,s){return i+s},0)},jR=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},OR=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],d=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=zx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(P,j){return(j&&P.length?`
`:"")+P})):w.push(D[0])}),m=w,l=PR.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(g=(a=zx.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||b){if(g>t){for(o=jR.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];d.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(D,P){return(P?y:"")+D.join(" ")}:function(D){return D.join(" ")},d.map(c)},o0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(OR.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var h,p,g,m,v=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(pn(h)!=="object")throw new Error("Don't know what to do with value type "+pn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,w=v,b=[],D="",P="",j=d.length-1,T=1;T<j;T+=1)(m=d[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([w,g]),w={},g=void 0):m=="}"?((p=b.pop())[0][p[1]]=w,g=void 0,w=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*y,y=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],w[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(yr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(iv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(yr),function(e){function t(){return(xr.canvg?Promise.resolve(xr.canvg):uE(()=>import("./index.es-CpiVS_xs.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}yr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),yr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},yr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(d=0;d<p;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(pn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(yr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;d<h;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+h0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+h0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+h0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+h0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+h0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,p=d.activeFontKey,g=d.fonts,m=p,v="",y=0,w="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var D="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?D=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(D=r(v,g[m])),d.isHex=!0,{text:D,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(yr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var D=function(E){var N=E.charCodeAt(),k=N>>8,U=m[k];return U!==void 0?d[256*U+(255&N)]:k===252||k===253?"AL":y.test(k)?"L":k===8?"R":"N"},P=function(E){for(var N,k=0;k<E.length;k++){if((N=D(E.charAt(k)))==="L")return!1;if(N==="R")return!0}return!1},j=function(E,N,k,U){var X,z,G,V,W=N[U];switch(W){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(W="AN");break;case"AL":w=!0,W="R";break;case"WS":W="N";break;case"CS":U<1||U+1>=N.length||(X=k[U-1])!=="EN"&&X!=="AN"||(z=N[U+1])!=="EN"&&z!=="AN"?W="N":w&&(z="AN"),W=z===X?z:"N";break;case"ES":W=(X=U>0?k[U-1]:"B")==="EN"&&U+1<N.length&&N[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&k[U-1]==="EN"){W="EN";break}if(w){W="N";break}for(G=U+1,V=N.length;G<V&&N[G]==="ET";)G++;W=G<V&&N[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(V=N.length,G=U+1;G<V&&N[G]==="NSM";)G++;if(G<V){var te=E[U],Z=te>=1425&&te<=2303||te===64286;if(X=N[G],Z&&(X==="R"||X==="AL")){W="R";break}}}W=U<1||(X=N[U-1])==="B"?"N":k[U-1];break;case"B":w=!1,a=!0,W=b;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":W="N"}return W},T=function(E,N,k){var U=E.split("");return k&&_(U,k,{hiLevel:b}),U.reverse(),N&&N.reverse(),U.join("")},_=function(E,N,k){var U,X,z,G,V,W=-1,te=E.length,Z=0,I=[],M=b?p:h,q=[];for(w=!1,a=!1,i=!1,X=0;X<te;X++)q[X]=D(E[X]);for(z=0;z<te;z++){if(V=Z,I[z]=j(E,q,I,z),U=240&(Z=M[V][g[I[z]]]),Z&=15,N[z]=G=M[Z][5],U>0)if(U===16){for(X=W;X<z;X++)N[X]=1;W=-1}else W=-1;if(M[Z][6])W===-1&&(W=z);else if(W>-1){for(X=W;X<z;X++)N[X]=G;W=-1}q[z]==="B"&&(N[z]=0),k.hiLevel|=G}i&&function(Y,J,ie){for(var fe=0;fe<ie;fe++)if(Y[fe]==="S"){J[fe]=b;for(var ae=fe-1;ae>=0&&Y[ae]==="WS";ae--)J[ae]=b}}(q,N,te)},S=function(E,N,k,U,X){if(!(X.hiLevel<E)){if(E===1&&b===1&&!a)return N.reverse(),void(k&&k.reverse());for(var z,G,V,W,te=N.length,Z=0;Z<te;){if(U[Z]>=E){for(V=Z+1;V<te&&U[V]>=E;)V++;for(W=Z,G=V-1;W<G;W++,G--)z=N[W],N[W]=N[G],N[G]=z,k&&(z=k[W],k[W]=k[G],k[G]=z);Z=V}Z++}}},O=function(E,N,k){var U=E.split(""),X={hiLevel:b};return k||(k=[]),_(U,k,X),function(z,G,V){if(V.hiLevel!==0&&u)for(var W,te=0;te<z.length;te++)G[te]===1&&(W=v.indexOf(z[te]))>=0&&(z[te]=v[W+1])}(U,k,X),S(2,U,N,k,X),S(1,U,N,k,X),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,k){if(function(X,z){if(z)for(var G=0;G<X.length;G++)z[G]=G;o===void 0&&(o=P(X)),c===void 0&&(c=P(X))}(E,N),s||!l||c)if(s&&l&&o^c)b=o?1:0,E=T(E,N,k);else if(!s&&l&&c)b=o?1:0,E=O(E,N,k),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(b=0,E=O(E,N,k)):(b=1,E=O(E,N,k),E=T(E,N));else if(s&&o&&!l&&c)b=1,E=O(E,N,k),E=T(E,N);else if(!s&&!l&&o^c){var U=u;o?(b=1,E=O(E,N,k),b=0,u=!1,E=O(E,N,k),u=U):(b=0,E=O(E,N,k),E=T(E,N),b=1,u=!1,E=O(E,N,k),u=U,E=T(E,N))}}else b=0,E=O(E,N,k);else b=o?1:0,E=O(E,N,k);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(yr),yr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Hf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Z9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new $9e(this.contents),this.head=new U9e(this),this.name=new H9e(this),this.cmap=new GK(this),this.toUnicode={},this.hhea=new V9e(this),this.maxp=new G9e(this),this.hmtx=new K9e(this),this.post=new q9e(this),this.os2=new z9e(this),this.loca=new J9e(this),this.glyf=new Y9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Il,Hf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),$9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,d,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(a=new Hf).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=KK.call(r);r.length%4;)r.push(0);for(i=new Hf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),B9e={}.hasOwnProperty,hc=function(e,t){for(var r in t)B9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Il=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var U9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Hf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),LR=function(){function e(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=y=0,b=i.length;y<b;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b,D,P,j,T,_,S,O,E,N,k,U,X,z,G,V,W,te,Z,I,M,q,Y,J,ie,fe,ae,ge,ye,H;switch(U=new Hf,s=Object.keys(t).sort(function(ke,Ce){return ke-Ce}),r){case"macroman":for(m=0,v=function(){var ke=[];for(g=0;g<256;++g)ke.push(0);return ke}(),w={0:0},i={},X=0,W=s.length;X<W;X++)w[ae=t[a=s[X]]]==null&&(w[ae]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(N=[],d=[],b=0,w={},n={},y=c=null,z=0,te=s.length;z<te;z++)w[P=t[a=s[z]]]==null&&(w[P]=++b),n[a]={old:P,new:w[P]},o=w[P]-a,y!=null&&o===c||(y&&d.push(y),N.push(a),c=o),y=a;for(y&&d.push(y),d.push(65535),N.push(65535),O=2*(S=N.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,T=2*S-_,l=[],j=[],p=[],g=G=0,Z=N.length;G<Z;g=++G){if(E=N[g],u=d[g],E===65535){l.push(0),j.push(0);break}if(E-(k=n[E].new)>=32768)for(l.push(0),j.push(2*(p.length+S-g)),a=V=E;E<=u?V<=u:V>=u;a=E<=u?++V:--V)p.push(n[a].new);else l.push(k-E),j.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*p.length),U.writeUInt16(0),U.writeUInt16(O),U.writeUInt16(_),U.writeUInt16(h),U.writeUInt16(T),ie=0,I=d.length;ie<I;ie++)a=d[ie],U.writeUInt16(a);for(U.writeUInt16(0),fe=0,M=N.length;fe<M;fe++)a=N[fe],U.writeUInt16(a);for(ge=0,q=l.length;ge<q;ge++)o=l[ge],U.writeUInt16(o);for(ye=0,Y=j.length;ye<Y;ye++)D=j[ye],U.writeUInt16(D);for(H=0,J=p.length;H<J;H++)m=p[H],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},e}(),GK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new LR(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=LR.encode(r,n),(i=new Hf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),V9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),z9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),q9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),W9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},H9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,d,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=d=0,h=a.length;d<h;s=++d)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new W9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),G9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),K9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),KK=[].slice,Y9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,d,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Hf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new Q9e(l,u,h,c,d):new X9e(l,o,u,h,c,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),X9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Q9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Hf(KK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),J9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hc(t,Il),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),d=0;d<a.length;++d)u[4*d+3]=255&a[d],u[4*d+2]=(65280&a[d])>>8,u[4*d+1]=(16711680&a[d])>>16,u[4*d]=(4278190080&a[d])>>24;return u},t}(),Z9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y;for(a in n=GK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(w){var b,D;for(b in D={},w)D[w[b]]=b;return D}(p),d=Object.keys(u).sort(function(w,b){return w-b}),m=function(){var w,b,D;for(D=[],w=0,b=d.length;w<b;w++)o=d[w],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();yr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function YK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(u):e,h=d.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),d&&h>=1){for(var g=0;g<d.length;g++)a.text(d[g],t-a.getStringUnitWidth(d[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var MR={},rp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:MR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return MR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),_E=function(e,t){return _E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},_E(e,t)};function XK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_E(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var QK=function(e){XK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function eBe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function tBe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ow(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function JK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=ZK(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function ZK(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function y_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function eY(e,t){var r=y_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function rBe(e,t,r,n,a){var i={},s=1.3333333333333333,o=IA(t,function(b){return a.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var l=IA(t,function(b){return a.getComputedStyle(b).color});l!=null&&(i.textColor=l);var c=aBe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=IA(t,function(b){return a.getComputedStyle(b)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=nBe(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function nBe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function IA(e,t){var r=tY(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function tY(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:tY(e.parentElement,t):r}function aBe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=y_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function rY(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=iBe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:u,body:d,foot:h}}function iBe(e,t,r,n,a,i){for(var s=new QK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=rBe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:sBe(l)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||d.display!=="none"))return s}function sBe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function oBe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function $c(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function nY(e,t){var r=new rp(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();oBe(a,n,t);var i=$c({},a,n,t),s;typeof window<"u"&&(s=window);var o=lBe(a,n,t),l=cBe(a,n,t),c=uBe(r,i),u=dBe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function lBe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],d=r[l];n.columnStyles=$c({},c,u,d)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=$c({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function cBe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function uBe(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g=y_(t.margin,40/e.scaleFactor()),m=(r=fBe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,b=t.theme||(w?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:b,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function fBe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function dBe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=rY(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||hBe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function hBe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var SE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),pBe=function(e){XK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(SE),mBe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new pBe(t,this,n,a,i,s),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new SE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new SE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),aY=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof QK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),iY=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=y_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),gBe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function vBe(e,t){yBe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=AE(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=AE(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),bBe(t),wBe(t,e),xBe(t)}function yBe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=eY(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=Ow(c.text,c.styles,e)+d;var h=Ow(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function AE(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),d=c<u?u:c;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=AE(h,t,r))}return t}function xBe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function bBe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function wBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=RR(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=RR(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function RR(e,t,r,n,a){return e.map(function(i){return _Be(i,t,r,n,a)})}function _Be(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Ow(e,r,n))return e;for(;t<Ow(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function sY(e,t){var r=new rp(e),n=SBe(t,r.scaleFactor()),a=new mBe(t,n);return vBe(r,a),r.applyStyles(r.userStyles),a}function SBe(e,t){var r=e.content,n=TBe(r.columns);if(r.head.length===0){var a=FR(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=FR(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:DA("head",r.head,n,s,i,t),body:DA("body",r.body,n,s,i,t),foot:DA("foot",r.foot,n,s,i,t)}}function DA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,d={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var b=EBe(e,v,c,a,n,i,w),D=new iY(y,b,e);d[v.dataKey]=D,d[v.index]=D,p=D.colSpan-1,s[v.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new aY(l,c,e,d)});return o}function FR(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=ABe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function ABe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function TBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new gBe(a,t,r)})}function EBe(e,t,r,n,a,i,s){var o=tBe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=$c({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d=e==="body"?u:{},h=e==="body"&&r%2===0?$c({},o.alternateRow,a.alternateRowStyles):{},p=eBe(i),g=$c({},p,c,h,d);return $c(g,s)}function NBe(e,t,r){var n;r===void 0&&(r={});var a=eY(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||a>=d)c=!1,s.push(u),o.push(t.columns[u]),a-=d;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function kBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=NBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function oY(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new rp(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(cY(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var d=$c({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?CBe(u,t,d,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return fu(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Iw(u,t,h,g,d,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return fu(u,t,h,i,t.columns)})),JK(u,t,d,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function CBe(e,t,r,n){var a=kBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?sv(e,t,r,n,c.columns,!0):$R(e,t,n,c.columns),PBe(e,t,r,n,c.columns),LA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?sv(e,t,r,n,u,!0):$R(e,t,n,u),c=BR(e,t,s+1,n,u),LA(e,t,n,u)}var d=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),sv(e,t,r,n,h.columns,!0),BR(e,t,s+1,n,h.columns,d),LA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function $R(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return fu(e,t,i,r,n)})}function PBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Iw(e,t,i,o,r,n,a)})}function BR(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,d=lY(e,t,u,n);l.canEntireRowFit(d,a)&&(fu(e,t,l,n,a),o=r+c)}),o}function LA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return fu(e,t,i,r,n)})}function jBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function OBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new iY(c.raw,c.styles,c.section);u=$c(u,c),u.text=[];var d=jBe(c,t,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new aY(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function IBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Iw(e,t,r,n,a,i,s){var o=lY(e,t,n,i);if(r.canEntireRowFit(o,s))fu(e,t,r,i,s);else if(IBe(e,r,o,t)){var l=OBe(r,o,t,e);fu(e,t,r,i,s),sv(e,t,a,i,s),Iw(e,t,l,n,a,i,s)}else sv(e,t,a,i,s),Iw(e,t,r,n,a,i,s)}function fu(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}DBe(e,l,n);var u=l.getTextPos();YK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function DBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=ZK(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),LBe(e,t,r,n.lineWidth))}function LBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,d,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,d,h,p,"S")}}function lY(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function sv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return fu(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;JK(e,t,r,n),cY(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return fu(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function cY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function MBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=nY(this,n),i=sY(this,a);return oY(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){YK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return rp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){rp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new rp(this),i=rY(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var MA;function RBe(e,t){var r=nY(e,t),n=sY(e,r);oY(e,n)}try{if(typeof window<"u"&&window){var UR=window,VR=UR.jsPDF||((MA=UR.jspdf)===null||MA===void 0?void 0:MA.jsPDF);VR&&MBe(VR)}}catch(e){console.error("Could not apply autoTable plugin",e)}const FBe=()=>{const[e,t]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(new Date),[s,o]=F.useState(new Date),[l,c]=F.useState("all"),[u,d]=F.useState("all"),[h,p]=F.useState("all"),[g,m]=F.useState(""),[v,y]=F.useState([]),{showToast:w}=cc(),{isDarkMode:b}=an(),{user:D}=ga(),P=async()=>{try{const U=(await ur(wt(Xe,"users"))).docs.map(X=>({id:X.id,...X.data()}));y(U)}catch(k){console.error("Error fetching users:",k),w("Failed to fetch users","error")}},j=async()=>{n(!0);try{let k=lr(wt(Xe,"activityLogs"),Fa("time","desc"));a&&s?k=lr(wt(Xe,"activityLogs"),sr("time",">=",wp(a).toISOString()),sr("time","<=",Wv(s).toISOString()),Fa("time","desc")):a?k=lr(wt(Xe,"activityLogs"),sr("time",">=",wp(a).toISOString()),Fa("time","desc")):s&&(k=lr(wt(Xe,"activityLogs"),sr("time","<=",Wv(s).toISOString()),Fa("time","desc")));let X=(await ur(k)).docs.map(z=>({id:z.id,user:z.data().user,role:z.data().role,detail:z.data().detail,time:z.data().time}));if(D&&D.role==="staff"&&(X=X.filter(z=>z.role!=="admin")),l!=="all"&&(X=X.filter(z=>z.user===l)),u!=="all"&&(X=X.filter(z=>{const G=z.detail.toLowerCase();return u==="inbound"?G.includes("added new product")||G.includes("edited product")||G.includes("quantity from")||G.includes("quantity to"):u==="outbound"?G.includes("units deducted from stock")||G.includes("deducted from stock"):!0})),h!=="all"&&(X=X.filter(z=>{const G=z.detail.toLowerCase();switch(h){case"add_product":return G.includes("added new product")||G.includes("added product");case"edit_product":return G.includes("edited product")||G.includes("updated product");case"delete_product":return G.includes("deleted product")||G.includes("removed product");case"stock_increase":return G.includes("quantity from")&&G.includes("quantity to")&&G.includes("increased")||G.includes("added to stock");case"stock_decrease":return G.includes("units deducted from stock")||G.includes("deducted from stock")||G.includes("decreased");case"move_product":return G.includes("moved")||G.includes("relocated");case"user_management":return G.includes("added new user")||G.includes("updated user")||G.includes("deleted user")||G.includes("changed username")||G.includes("changed email")||G.includes("changed password");case"profile_update":return G.includes("changed username")||G.includes("changed email")||G.includes("changed full name")||G.includes("changed their password");case"job_operations":return G.includes("job")||G.includes("task")||G.includes("work");case"location_operations":return G.includes("location")||G.includes("shelf")||G.includes("moved to");default:return!0}})),g.trim()){const z=g.toLowerCase();X=X.filter(G=>{const V=G.detail.toLowerCase(),W=G.user.toLowerCase(),te=G.role.toLowerCase(),Z=V.match(/"([^"]+)"/),I=Z?Z[1].toLowerCase():"";return V.includes(z)||W.includes(z)||te.includes(z)||I.includes(z)})}t(X)}catch(k){console.error("Error fetching activity logs:",k),w("Failed to fetch activity logs","error")}finally{n(!1)}};F.useEffect(()=>{P()},[]),F.useEffect(()=>{j()},[a,s,l,u,h,g,D]);const T=()=>{let k=v;return D&&D.role==="staff"&&(k=v.filter(U=>U.role!=="admin")),[{value:"all",label:"All Users"},...k.map(U=>({value:U.name,label:U.name}))]},_=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],S=[{value:"all",label:"All Actions"},{value:"add_product",label:"Add Product"},{value:"edit_product",label:"Edit Product"},{value:"delete_product",label:"Delete Product"},{value:"stock_increase",label:"Stock Increase"},{value:"stock_decrease",label:"Stock Decrease"},{value:"move_product",label:"Move Product"},{value:"user_management",label:"User Management"},{value:"profile_update",label:"Profile Update"},{value:"job_operations",label:"Job Operations"},{value:"location_operations",label:"Location Operations"}],O=()=>{i(null),o(null)},E=()=>{try{const U=[["User","Role","Activity","Time"].join(","),...e.map(V=>[V.user,V.role,`"${V.detail.replace(/"/g,'""')}"`,qt(new Date(V.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),X=new Blob([U],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),G=URL.createObjectURL(X);z.setAttribute("href",G),z.setAttribute("download",`activity_logs_${qt(new Date,"yyyy-MM-dd")}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)}catch(k){console.error("Error exporting to CSV:",k),w("Failed to export to CSV","error")}},N=()=>{var k,U,X;try{const z=new yr;z.setFontSize(16),z.text("Activity Logs Report",14,15),z.setFontSize(10);const G=a&&s?`${qt(a,"MMM d, yyyy")} - ${qt(s,"MMM d, yyyy")}`:a?`From ${qt(a,"MMM d, yyyy")}`:s?`To ${qt(s,"MMM d, yyyy")}`:"All Time";z.text(`Date Range: ${G}`,14,25),z.text(`User Filter: ${(k=T().find(V=>V.value===l))==null?void 0:k.label}`,14,30),z.text(`Activity Filter: ${(U=_.find(V=>V.value===u))==null?void 0:U.label}`,14,35),z.text(`Action Type Filter: ${(X=S.find(V=>V.value===h))==null?void 0:X.label}`,14,40),RBe(z,{startY:45,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,qt(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),z.save(`activity_logs_${qt(new Date,"yyyy-MM-dd")}.pdf`)}catch(z){console.error("Error exporting to PDF:",z),w("Failed to export to PDF","error")}};return f.jsx("div",{className:`space-y-6 ${b?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:f.jsxs("div",{className:`rounded-lg shadow-sm border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsx("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:f.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-center gap-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${b?"text-white":"text-slate-800"}`,children:"Activity Logs"}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full xs:w-auto",children:[f.jsxs("button",{onClick:E,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),f.jsxs("button",{onClick:N,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),f.jsxs("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{className:"mb-4",children:f.jsx(jt,{type:"text",placeholder:"Search activities, product names, users...",value:g,onChange:k=>m(k.target.value),className:"w-full",icon:f.jsx(kl,{size:16})})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:l,onChange:k=>c(k.target.value),options:T(),className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:u,onChange:k=>d(k.target.value),options:_,className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Jr,{value:h,onChange:k=>p(k.target.value),options:S,className:"w-full"})})]}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 items-stretch xs:items-center",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Zq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:O,className:"w-full"})}),f.jsxs(at,{variant:"secondary",onClick:j,className:"flex items-center justify-center gap-2 px-4 py-2 min-w-[44px]",children:[f.jsx(La,{size:16}),f.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})]})]})]}),r?f.jsx("div",{className:"flex justify-center items-center h-32",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${b?"border-white":"border-slate-800"}`})}):e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden lg:block overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.user}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.role}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:qt(new Date(k.time),"MMM d, yyyy h:mm:ss a")})]},k.id))})})]})}),f.jsx("div",{className:"hidden md:block lg:hidden overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-3 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:k.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:k.role})]})}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:k.detail,children:k.detail})}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:qt(new Date(k.time),"MMM d, h:mm a")})]},k.id))})})]})}),f.jsx("div",{className:"block md:hidden space-y-3 p-4",children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:`font-semibold text-sm ${b?"text-blue-400":"text-blue-700"}`,children:k.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:k.role})]}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:qt(new Date(k.time),"h:mm a")})]}),f.jsx("div",{className:`text-sm leading-relaxed ${b?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("div",{className:"mt-2 text-xs",children:f.jsx("span",{className:b?"text-slate-400":"text-slate-600",children:qt(new Date(k.time),"MMM d, yyyy")})})]},k.id))})})]}):f.jsx("div",{className:`text-center py-8 ${b?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},$Be=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=an(),[o,l]=F.useState(!1),[c,u]=F.useState(new Date),[d,h]=F.useState(null);F.useEffect(()=>{const O=E=>{E.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[o]);const p=O=>{!e||e&&t?(r(O),n(null)):e&&!t&&(O<e?(n(e),r(O)):n(O))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range",v=O=>!e||!t?!1:hD(O,{start:e,end:t}),y=O=>e&&iD(O,e)||t&&iD(O,t),w=O=>!d||!e||t?!1:hD(O,{start:e<d?e:d,end:e<d?d:e}),b=O=>{const E="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",N=dD(O,c),k=y(O),U=v(O),X=w(O);return N?k?`${E} bg-blue-600 text-white font-semibold`:U?`${E} bg-blue-100 text-blue-900`:X?`${E} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${E} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${E} ${s?"text-slate-500":"text-slate-300"}`},D=uue(c),P=sz(c),j=Zce(D),T=fue(P),_=cue({start:j,end:T}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return f.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(p9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&f.jsx("span",{onClick:O=>{O.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),g())},children:f.jsx(fp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>u(Ife(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(jZ,{className:"h-4 w-4"})}),f.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:qt(c,"MMMM yyyy")}),f.jsx("button",{onClick:()=>u(rz(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(OZ,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(O=>f.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:O},O))}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(O=>f.jsx("button",{onClick:()=>p(O),onMouseEnter:()=>h(O),onMouseLeave:()=>h(null),className:b(O),disabled:!dD(O,c),children:qt(O,"d")},O.toISOString()))}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},BBe=()=>{const[e,t]=F.useState("daily"),[r,n]=F.useState(Mr(new Date,7)),[a,i]=F.useState(new Date),[s,o]=F.useState([]),[l,c]=F.useState([]),[u,d]=F.useState([]),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=F.useState(!0),{isDarkMode:v}=an(),{user:y}=ga(),w=F.useCallback(async()=>{m(!0);try{const S=a||new Date,O=r||Mr(S,7),E=lr(wt(Xe,"orders"),sr("createdAt",">=",ir.fromDate(O)),sr("createdAt","<=",ir.fromDate(S))),k=(await ur(E)).docs.map(Te=>{var Oe,qe,nt;return{id:Te.id,...Te.data(),createdAt:(Oe=Te.data().createdAt)==null?void 0:Oe.toDate(),updatedAt:(qe=Te.data().updatedAt)==null?void 0:qe.toDate(),shippedTime:(nt=Te.data().shippedTime)==null?void 0:nt.toDate()}}),U=lr(wt(Xe,"inventory")),z=(await ur(U)).docs.map(Te=>({id:Te.id,...Te.data(),lastUpdated:Te.data().lastUpdated instanceof ir?Te.data().lastUpdated.toDate():new Date(Te.data().lastUpdated)})),G=lr(wt(Xe,"activityLogs"),sr("time",">=",O.toISOString()),sr("time","<=",S.toISOString()),Fa("time","desc")),W=(await ur(G)).docs.map(Te=>({id:Te.id,...Te.data()}));d(W),o(z),c(k);const te=z.reduce((Te,Oe)=>Te+(Oe.quantity||0),0),Z=z.reduce((Te,Oe)=>Te+(Oe.quantity||0)*(Oe.price||0),0),I=k.length,M=Mr(new Date,1),q=new Date,Y=k.filter(Te=>{const Oe=Te.createdAt;return Oe>=M&&Oe<=q}),J=Y.length,ie=Y.reduce((Te,Oe)=>Te+(Oe.totalAmount||0),0),fe=a||new Date,ae=r||Mr(fe,7),ye=W.filter(Te=>{const Oe=new Date(Te.time);return Oe>=ae&&Oe<=fe}).filter(Te=>{const Oe=Te.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Oe){const[,xt]=Oe;return z.some(ht=>ht.name===xt)}const qe=Te.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(qe){const[,xt]=qe;return z.some(ht=>ht.name===xt)}return Te.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Te.detail)),!0}),H=fe.getTime()-ae.getTime(),ke=new Date(ae.getTime()-H),Ce=new Date(ae.getTime()),le=W.filter(Te=>{const Oe=new Date(Te.time);return Oe>=ke&&Oe<=Ce}).filter(Te=>{const Oe=Te.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Oe){const[,xt]=Oe;return z.some(ht=>ht.name===xt)}const qe=Te.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(qe){const[,xt]=qe;return z.some(ht=>ht.name===xt)}return Te.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Te.detail)),!0}),Me=ye.reduce((Te,Oe)=>{const qe=Oe.detail.match(/(\d+) units deducted/);return Te+(qe?parseInt(qe[1]):0)},0),We=le.reduce((Te,Oe)=>{const qe=Oe.detail.match(/(\d+) units deducted/);return Te+(qe?parseInt(qe[1]):0)},0),Ie=ye.reduce((Te,Oe)=>{const qe=Oe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,ot,xt]=qe;if(z.find(mt=>mt.name===ot))return Te+parseInt(xt)}const nt=Oe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ot,xt,ht]=nt;if(z.find(ct=>ct.name===ot)){const ct=parseInt(ht)-parseInt(xt);if(ct>0)return Te+ct}}return Te},0),Ye=ye.reduce((Te,Oe)=>{const qe=Oe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,ot,xt]=qe,ht=z.find(mt=>mt.name===ot);if(ht){const mt=ht.price||0;return Te+parseInt(xt)*mt}}const nt=Oe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ot,xt,ht]=nt,mt=z.find(ct=>ct.name===ot);if(mt){const ct=parseInt(ht)-parseInt(xt);if(ct>0){const Zt=mt.price||0;return Te+ct*Zt}}}return Te},0),Fe=ye.reduce((Te,Oe)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ot=>ot.test(Oe.detail))){let ot=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,ht=Oe.detail.match(xt);if(ht)ot=parseInt(ht[1]);else{const mt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ct of mt){const Zt=Oe.detail.match(ct);if(Zt){if(Zt.length===3){const Ht=parseInt(Zt[1]),Rr=parseInt(Zt[2]);ot=Math.abs(Ht-Rr)}else ot=parseInt(Zt[1]);break}}}return{incidents:Te.incidents+1,units:Te.units+(ot>0?ot:1)}}return Te},{incidents:0,units:0}).incidents;p({totalOrders:I,totalStock:te,totalInventoryValue:Z,totalDamagedProducts:Fe,yesterdayOrders:J,yesterdayStockChange:0,yesterdayRevenue:ie,totalDeductions:Me,previousDeductions:We,todayStockAdditions:Ie,todayInventoryValueAdditions:Ye})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),b=()=>{n(null),i(null)};if(F.useEffect(()=>{w()},[w]),F.useEffect(()=>{},[e]),!y||y.role!=="admin"&&y.role!=="staff"&&y.role!=="manager")return f.jsx(j4,{to:"/",replace:!0});const D=()=>{const S=[],O=new Map,E=new Date;let N;switch(e){case"hourly":N=pD(E,24);break;case"daily":N=Mr(E,7);break;case"weekly":N=Mr(E,30);break;case"monthly":N=Mr(E,90);break;default:N=Mr(E,7)}return u.filter(X=>{const z=new Date(X.time);return z>=N&&z<=E}).filter(X=>{const z=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(z){const[,V]=z;return s.some(W=>W.name===V)}const G=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(G){const[,V]=G;return s.some(W=>W.name===V)}return!0}).forEach(X=>{let z=0,G=!1,V="";const W=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(W){const[,Z,I]=W;s.find(q=>q.name===Z)&&(z=parseInt(I),V=Z,G=!0)}const te=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(te){const[,Z,I,M]=te;if(s.find(Y=>Y.name===Z)){const Y=parseInt(M)-parseInt(I);Y>0&&(z=Y,V=Z,G=!0)}}if(G){const Z=new Date(X.time);let I;switch(e){case"hourly":I=qt(Z,"HH:mm");break;case"daily":I=qt(Z,"MMM dd");break;case"weekly":I=qt(Z,"'Week' w");break;case"monthly":I=qt(Z,"MMM yyyy");break;default:I=qt(Z,"MMM dd")}const M=O.get(I)||{activities:0,units:0,uniqueProducts:new Set};M.uniqueProducts.add(V),O.set(I,{activities:M.activities+1,units:M.units+z,uniqueProducts:M.uniqueProducts})}}),O.forEach((X,z)=>{S.push({date:z,activities:X.activities,units:X.units,uniqueProducts:X.uniqueProducts.size})}),S.sort((X,z)=>{const G=new Date(X.date),V=new Date(z.date);return G.getTime()-V.getTime()})},P=()=>{const S=[],O=new Map,E=new Date;let N;switch(e){case"hourly":N=pD(E,24);break;case"daily":N=Mr(E,7);break;case"weekly":N=Mr(E,30);break;case"monthly":N=Mr(E,90);break;default:N=Mr(E,7)}return u.filter(X=>{const z=new Date(X.time);return z>=N&&z<=E}).filter(X=>(X.detail.match(/(\d+) units deducted from stock/),!0)).forEach(X=>{const z=X.detail.match(/(\d+) units deducted from stock/);if(z){const G=new Date(X.time);let V;switch(e){case"hourly":V=qt(G,"HH:mm");break;case"daily":V=qt(G,"MMM dd");break;case"weekly":V=qt(G,"'Week' w");break;case"monthly":V=qt(G,"MMM yyyy");break;default:V=qt(G,"MMM dd")}const W=O.get(V)||0;O.set(V,W+parseInt(z[1]))}}),O.forEach((X,z)=>{S.push({date:z,products:X})}),S.sort((X,z)=>{const G=new Date(X.date),V=new Date(z.date);return G.getTime()-V.getTime()})},j=()=>{const S=[],O=new Map,E=[],N=a||new Date,k=r||Mr(N,7);u.filter(G=>{const V=new Date(G.time);return V>=k&&V<=N}).filter(G=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(W=>W.test(G.detail)),!0)).forEach(G=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(te=>te.test(G.detail))){const te=new Date(G.time);let Z;switch(e){case"hourly":Z=qt(te,"HH:mm");break;case"daily":Z=qt(te,"MMM dd");break;case"weekly":Z=qt(te,"'Week' w");break;case"monthly":Z=qt(te,"MMM yyyy");break;default:Z=qt(te,"MMM dd")}let I=0;const M=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,q=G.detail.match(M);if(q)I=parseInt(q[1]);else{const fe=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ae of fe){const ge=G.detail.match(ae);if(ge){if(ge.length===3){const ye=parseInt(ge[1]),H=parseInt(ge[2]);I=Math.abs(ye-H)}else I=parseInt(ge[1]);break}}}let Y="Unknown Product";const J=G.detail.match(/"([^"]+)"/);J&&(Y=J[1]),E.push({date:Z,time:qt(te,"HH:mm"),user:G.user,productName:Y,units:I>0?I:1,detail:G.detail}),O.has(Z)||O.set(Z,{incidents:0,units:0,productNames:new Set});const ie=O.get(Z);ie.incidents+=1,ie.units+=I>0?I:1,ie.productNames.add(Y)}}),O.forEach((G,V)=>{S.push({date:V,products:G.incidents,units:G.units,productNames:Array.from(G.productNames)})});const z=S.sort((G,V)=>new Date(G.date).getTime()-new Date(V.date).getTime());return z.detailedIncidents=E.sort((G,V)=>{const W=new Date(G.date+" "+G.time);return new Date(V.date+" "+V.time).getTime()-W.getTime()}),z},T=()=>{try{const S=qt(new Date,"yyyy-MM-dd-HH-mm"),O=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(Z=>[Z.name,Z.quantity,Z.price,`${Z.locationCode}-${Z.shelfNumber}`,Z.status,Z.damagedItems]),N=D(),k=P(),U=j(),X=Math.max(N.length,k.length,U.length,E.length),z=[];z.push(`Warehouse Analytics Report - ${O} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}`),z.push(""),z.push("SUMMARY STATISTICS");const G=`Total Stock Added (${O}),${h.todayStockAdditions},Total Units Deducted (${O}),${h.totalDeductions},Total Damaged Products (${O}),${h.totalDamagedProducts}${Fs(y)?`,Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`:`,Total Products,${s.length}`}`;z.push(G),z.push(""),z.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),z.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let Z=0;Z<X;Z++){const I=[];if(Z<N.length){const M=N[Z];I.push(M.date,M.activities,M.units,M.uniqueProducts)}else I.push("","","","");if(Z<k.length){const M=k[Z];I.push(M.date,M.products)}else I.push("","");if(Z<U.length){const M=U[Z];I.push(M.date,M.products,M.units)}else I.push("","","");if(Z<E.length){const M=E[Z];I.push(...M)}else I.push("","","","","","");z.push(I.join(","))}z.push(""),z.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),z.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(Z=>{z.push(`${Z.date},${Z.time},${Z.user},${Z.productName},${Z.units},"${Z.detail.replace(/"/g,'""')}"`)}):z.push("No detailed incidents available,,,,,");const V=z.join(`
`),W=new Blob([V],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a");te.href=URL.createObjectURL(W),te.download=`warehouse-report-${O}-${S}.csv`,te.click(),URL.revokeObjectURL(te.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},_=()=>{try{const S=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",O=D(),E=P(),N=j(),k=N.detailedIncidents||[];(!k||k.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              ${Fs(y)?`
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:`
              <div class="stat-card">
                <div class="stat-value">${s.length}</div>
                <div class="stat-title">Total Products</div>
              </div>
              `}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${O.length}</p>
                <p><strong>Total Activities:</strong> ${O.reduce((z,G)=>z+G.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${O.reduce((z,G)=>z+G.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${O.reduce((z,G)=>z+G.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${O.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.activities}</td>
                      <td>${z.units}</td>
                      <td>${z.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${O.length>15?`<tr><td colspan="4"><em>... and ${O.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((z,G)=>z+G.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((z,G)=>z+G.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((z,G)=>z+G.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${k.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                      <td>${z.units}</td>
                      <td>${z.productNames?z.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.length>0?k.slice(0,50).map(z=>`
                    <tr>
                      <td>${z.date} ${z.time}</td>
                      <td>${z.user}</td>
                      <td>${z.productName}</td>
                      <td>${z.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${z.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${k.length>50?`<tr><td colspan="5"><em>... and ${k.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(z=>z.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(z=>z.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((z,G)=>z+(G.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(z=>`
                    <tr>
                      <td>${z.name}</td>
                      <td>${z.quantity}</td>
                      <td>${z.price&&!isNaN(z.price)?`£${z.price.toFixed(2)}`:"Not set"}</td>
                      <td>${z.locationCode}-${z.shelfNumber}</td>
                      <td>${z.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,X=window.open("","_blank");X?(X.document.write(U),X.document.close(),X.focus(),setTimeout(()=>{X.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return f.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[f.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),f.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[f.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),f.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(Jr,{value:e,onChange:S=>t(S.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx($Be,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:b,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),f.jsx(at,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:f.jsx(La,{size:16,className:g?"animate-spin":""})})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?f.jsxs(f.Fragment,{children:[f.jsx(df,{}),f.jsx(df,{}),f.jsx(df,{}),f.jsx(df,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Wa,{title:`Total Stock Added (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:f.jsx(Do,{size:24,className:"text-blue-600"})}),f.jsx(Wa,{title:`Total Units Deducted (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:f.jsx(x9,{size:24,className:"text-blue-600"})}),f.jsx(Wa,{title:`Total Damaged Products (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:f.jsx(ih,{size:24,className:"text-blue-600"})}),Fs(y)?f.jsx(Wa,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(Y2,{size:24,className:"text-blue-600"})}):f.jsx(Wa,{title:"Total Products",value:s.length,icon:f.jsx(Do,{size:24,className:"text-purple-600"})})]})}),g?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:D(),children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Kc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,O)=>O==="Inbound Activities"?[`${S} activities`,O]:O==="Units Added"?[`${S} units`,O]:O==="Affected Products"?[`${S} products`,O]:[S,O],labelFormatter:S=>`Date: ${S}`}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:P(),children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Kc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(K0,{width:"100%",height:"100%",children:f.jsxs(Q0,{data:j(),children:[f.jsx(Jd,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(Gc,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(Kc,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(ps,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,O)=>O==="Damaged Incidents"?[`${S} incidents`,O]:O==="Units Damaged"?[`${S} units`,O]:[S,O],labelFormatter:S=>`Date: ${S}`}),f.jsx(Uo,{}),f.jsx(Da,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),f.jsx(Da,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},UBe=()=>{const{user:e,setUser:t}=ga(),{showToast:r}=cc(),{isDarkMode:n,toggleDarkMode:a}=an(),[i,s]=F.useState(!1),[o,l]=F.useState({}),[c,u]=F.useState([]),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=F.useState({}),[b,D]=F.useState({}),[P,j]=F.useState(!1),[T,_]=F.useState(null),[S,O]=F.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=F.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),k=F.useCallback(async()=>{if(RS(e)){s(!0);try{const ie=(await ur(wt(Xe,"users"))).docs.map(fe=>({id:fe.id,...fe.data()}));u(ie)}catch(J){console.error("Error fetching users:",J),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);F.useEffect(()=>{k()},[e==null?void 0:e.role,r,k]);const U=J=>J.split(" ").map(ie=>ie[0]).join("").toUpperCase().slice(0,2),X=J=>{const{name:ie,value:fe}=J.target;O(ae=>({...ae,[ie]:fe})),o[ie]&&l(ae=>{const ge={...ae};return delete ge[ie],ge})},z=()=>{const J={};return S.username.trim()||(J.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(J.email="Invalid email format"),S.name.trim()||(J.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(J.currentPassword="Current password is incorrect"):J.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(J.newPassword="Password must be at least 6 characters"):J.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(J.confirmPassword="Passwords do not match")),l(J),Object.keys(J).length===0},G=async J=>{if(J.preventDefault(),!!e&&z()){s(!0);try{const ie={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},fe=[];e.username!==S.username&&fe.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&fe.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&fe.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&fe.push("changed their password");const ae=Sr(Xe,"users",e.id);await Vn(ae,ie),fe.length>0&&await mr(wt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:fe.length===1?fe[0]:`made multiple profile changes: ${fe.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),O(ge=>({...ge,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(ie){console.error("Error updating profile:",ie),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},V=J=>{h(J),D({}),N({username:J.username,email:J.email,name:J.name,newPassword:"",confirmPassword:""})},W=J=>{const{name:ie,value:fe}=J.target;N(ae=>({...ae,[ie]:fe})),b[ie]&&D(ae=>{const ge={...ae};return delete ge[ie],ge})},te=async()=>{if(d)try{if(s(!0),D({}),!E.username.trim()){D({username:"Username is required"});return}if(!E.name.trim()){D({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}const J=Sr(Xe,"users",d.id),ie={username:E.username,email:E.email,name:E.name,role:d.role};E.newPassword&&(ie.password=E.newPassword),console.log("Attempting to update document with data:",ie);try{await Vn(J,ie),console.log("User updated successfully in Firestore")}catch(fe){console.error("Failed to update by ID, trying to find by username:",fe);const ae=lr(wt(Xe,"users"),sr("username","==",d.username)),ge=await ur(ae);if(ge.empty)throw new Error("User not found by username either");{const ye=ge.docs[0],H=Sr(Xe,"users",ye.id);await Vn(H,ie),console.log("User updated successfully using fallback method"),u(ke=>ke.map(Ce=>Ce.username===d.username?{...Ce,id:ye.id,...ie}:Ce))}}await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${d.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(fe=>fe.map(ae=>ae.id===d.id?{...ae,...ie}:ae)),r("User updated successfully","success"),h(null)}catch(J){console.error("Error updating user:",J),r("Failed to update user","error")}finally{s(!1)}},Z=J=>{const{name:ie,value:fe}=J.target;v(ae=>({...ae,[ie]:fe})),y[ie]&&w(ae=>{const ge={...ae};return delete ge[ie],ge})},I=()=>{const J={};return m.username.trim()||(J.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(J.email="Invalid email format"),m.name.trim()||(J.name="Name is required"),m.password?m.password.length<6&&(J.password="Password must be at least 6 characters"):J.password="Password is required",m.password!==m.confirmPassword&&(J.confirmPassword="Passwords do not match"),w(J),Object.keys(J).length===0},M=async J=>{if(J.preventDefault(),!!I()){s(!0);try{const fe=(await ur(wt(Xe,"users"))).docs.map(ge=>ge.data());if(fe.some(ge=>ge.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&fe.some(ge=>ge.email===m.email)){w({email:"Email already exists"});return}const ae=await mr(wt(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(ge=>[...ge,{id:ae.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(ie){console.error("Error adding user:",ie),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(J,ie)=>{_({username:ie,name:J}),j(!0)},Y=async()=>{if(T)try{s(!0);const J=wt(Xe,"users"),ie=lr(J,sr("username","==",T.username)),fe=await ur(ie);if(fe.empty){r("User not found.","error");return}const ae=fe.docs[0],ge=Sr(Xe,"users",ae.id);await Ms(ge),await mr(wt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ye=>ye.filter(H=>H.username!==T.username)),r("User deleted successfully!","success")}catch(J){console.error("Error deleting user:",J),r("Failed to delete user. Please try again.","error")}finally{s(!1),j(!1),_(null)}};return f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),f.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[RS(e)&&f.jsx(at,{variant:"secondary",onClick:k,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:f.jsx(La,{size:16,className:i?"animate-spin":""})}),f.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?f.jsx(y9,{size:20}):f.jsx(g9,{size:20})})]})]}),d&&f.jsxs(fn,{isOpen:!!d,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(jt,{label:"Username",name:"username",value:E.username,onChange:W,error:b.username}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:E.email,onChange:W,error:b.email}),f.jsx(jt,{label:"Name",name:"name",value:E.name,onChange:W,error:b.name}),f.jsx(Xu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:W,error:b.newPassword}),f.jsx(Xu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:W,error:b.confirmPassword})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx(at,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),f.jsx(at,{onClick:te,disabled:i,children:i?"Updating...":"Update User"})]})]}),f.jsxs(fn,{isOpen:P,onClose:()=>j(!1),title:"Confirm Deletion",size:"sm",children:[f.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx(at,{variant:"secondary",onClick:()=>j(!1),disabled:i,children:"Cancel"}),f.jsx(at,{variant:"danger",onClick:Y,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),f.jsxs("form",{onSubmit:G,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:f.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),f.jsxs("div",{children:[f.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),f.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Username",name:"username",value:S.username,onChange:X,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:S.email,onChange:X,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),f.jsx(jt,{label:"Full Name",name:"name",value:S.name,onChange:X,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),f.jsx(Xu,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:X,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Xu,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:X,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),f.jsx(Xu,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:X,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&f.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:i,icon:f.jsx(R4,{size:18}),children:"Save Changes"})})]}),RS(e)&&f.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),f.jsxs(at,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[f.jsx(R4,{size:16}),"Add New User"]})]}),f.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[f.jsx("div",{className:"hidden md:block overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[f.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.username}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.email||"-"}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.role==="admin"?"Admin":J.role==="manager"?"Manager":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>q(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(li,{size:16})})]})})]},J.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:J.username})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(vs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>q(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(li,{size:16})})]})]}),f.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:J.email||"-"}),f.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:J.role==="admin"?"Admin":J.role==="manager"?"Manager":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role})]},J.id))})]}),f.jsx(fn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Username",name:"username",value:m.username,onChange:Z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),f.jsx(jt,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(jt,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),f.jsx(Jr,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"manager",label:"Manager"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),f.jsx(Xu,{label:"Password",name:"password",value:m.password,onChange:Z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),f.jsx(Xu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},RA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],VBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=F.useState(""),[i,s]=F.useState("stock sold"),[o,l]=F.useState(""),c=RA.includes(e.storeName)?RA:[e.storeName,...RA],u=[...c,"other"],[d,h]=F.useState(e.storeName||c[0]||""),[p,g]=F.useState(""),{isDarkMode:m}=an(),v=async b=>{b.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,j=d==="other"?p.trim():d.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:j})},w=(()=>{const b=Number(n);return!n||b<=0?"Quantity to deduct must be greater than 0":b>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!d.trim()||d==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return f.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(jt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:b=>a(b.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Jr,{id:"reason",value:i,onChange:b=>s(b.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(jt,{id:"otherReason",type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsx(Jr,{id:"storeName",value:d,onChange:b=>h(b.target.value),options:u.map(b=>({value:b,label:b==="other"?"OTHER":b==null?void 0:b.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),d==="other"&&f.jsx(jt,{id:"otherStoreName",type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[f.jsx(ih,{size:16}),f.jsx("span",{children:w})]}):f.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsx("div",{className:"flex justify-end space-x-3",children:f.jsx(at,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?f.jsxs(f.Fragment,{children:[f.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},zBe=()=>{var I;const[e,t]=F.useState(""),[r,n]=F.useState("name"),[a,i]=F.useState(!1),[s,o]=F.useState(!1),[l,c]=F.useState(null),[u,d]=F.useState([]),[h,p]=F.useState(!1),[g,m]=F.useState(new Set),[v,y]=F.useState(null),[w,b]=F.useState(!1),[D,P]=F.useState("all"),[j,T]=F.useState(!1),{showToast:_}=cc(),{isDarkMode:S}=an(),{user:O}=ga(),E=F.useMemo(()=>{const M=[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"date",label:"Sort by Date"}];return Fs(O)&&M.splice(2,0,{value:"price",label:"Sort by Price"}),M},[O]),N=["supply & serve","APHY","AZTEC","ZK","Fahiz"],k=async()=>{o(!0);try{const M=lr(wt(Xe,"inventory"),Fa("name")),Y=(await ur(M)).docs.map(J=>{const ie=J.data();return{id:J.id,...ie,lastUpdated:ie.lastUpdated instanceof ir?ie.lastUpdated.toDate():new Date(ie.lastUpdated)}});d(Y)}catch(M){console.error("Error fetching stock items:",M),_("Failed to fetch stock items","error")}finally{o(!1)}},U=async()=>{try{const M=Mr(new Date,90),q=lr(wt(Xe,"activityLogs"),sr("time",">=",M.toISOString()),Fa("time","desc")),J=(await ur(q)).docs.map(ye=>({id:ye.id,...ye.data()})),ie=Mr(new Date,10),fe=new Set,ae=new Map;J.forEach(ye=>{if(ye.detail.includes("added new product")){const H=ye.detail.match(/added new product "([^"]+)"/);if(H){const ke=H[1],Ce=new Date(ye.time);(!ae.has(ke)||Ce<ae.get(ke))&&ae.set(ke,Ce)}}if(ye.detail.includes("units deducted from stock")){const H=ye.detail.match(/units deducted from stock "([^"]+)"/);if(H){const ke=H[1];new Date(ye.time)>=ie&&fe.add(ke)}}});const ge=new Set;u.forEach(ye=>{const H=ye.name,ke=ae.get(H);ke&&ke<ie&&!fe.has(H)&&ge.add(H)}),m(ge)}catch(M){console.error("Error fetching activity logs:",M)}};F.useEffect(()=>{k()},[_]),F.useEffect(()=>{u.length>0&&U()},[u]),F.useEffect(()=>{const M=q=>{if(w||j){const Y=q.target;!Y.closest(".store-filter-dropdown")&&!Y.closest(".status-filter-dropdown")&&(b(!1),T(!1))}};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[w,j]);const X=()=>{y(null),P("all"),b(!1),T(!1)},z=u.filter(M=>M.quantity>0).filter(M=>{const q=e.toLowerCase(),Y=M.name.toLowerCase().includes(q),J=`${M.locationCode} - ${M.shelfNumber}`.toLowerCase().includes(q),ie=M.asin?M.asin.split(",").some(ye=>ye.trim().toLowerCase().includes(q)):!1,fe=M.barcode?M.barcode.toLowerCase().includes(q):!1,ae=v?v.storeName==="other"?!N.includes(M.storeName)&&M.fulfillmentType===v.fulfillmentType:M.storeName===v.storeName&&M.fulfillmentType===v.fulfillmentType:!0,ge=D==="all"||M.status===D;return(Y||J||ie||fe)&&ae&&ge}).sort((M,q)=>r==="name"?M.name.localeCompare(q.name):r==="quantity"?q.quantity-M.quantity:r==="price"?q.price-M.price:r==="date"?new Date(q.lastUpdated).getTime()-new Date(M.lastUpdated).getTime():0),G=async M=>{var q;o(!0);try{const Y=Sr(Xe,"inventory",M.id),J=await Wd(Y);if(!J.exists())throw new Error("Stock item not found");const ie=J.data();if(!O)throw new Error("User not authenticated");const fe=M.reason==="damaged"?ie.damagedItems+(ie.quantity-M.quantity):ie.damagedItems,ae=new Date;await Vn(Y,{quantity:M.quantity,damagedItems:fe,lastUpdated:ir.fromDate(ae)}),await mr(wt(Xe,"activityLogs"),{detail:`${ie.quantity-M.quantity} units deducted from stock "${ie.name}" (Reason: ${M.reason}, Store: ${(q=M.storeName)==null?void 0:q.toUpperCase()}) by ${O.role} from location ${ie.locationCode} shelf ${ie.shelfNumber}`,time:new Date().toISOString(),user:O.name,role:O.role});const ge=u.map(ye=>ye.id===M.id?{...ye,quantity:M.quantity,damagedItems:fe}:ye);d(ge),c(null),i(!1),_("Stock quantity updated successfully","success")}catch(Y){console.error("Error updating stock:",Y),_("Failed to update stock quantity","error")}finally{o(!1)}},V=M=>{a||c(M)},W=(M,q)=>{M.stopPropagation(),c(q),i(!0)},te=()=>{p(!0)},Z=M=>{t(M),p(!1)};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),f.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:M=>t(M.target.value),icon:f.jsx(kl,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:te,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Zc,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:r,onChange:M=>n(M.target.value),options:E})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>T(!j),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",f.jsx(xl,{size:16})]}),j&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>b(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(I=v.storeName)==null?void 0:I.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",f.jsx(xl,{size:16})]}),w&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(M=>f.jsxs("div",{className:"group relative",children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M?S?"bg-slate-700":"bg-slate-100":""}`,children:M==null?void 0:M.toUpperCase()}),f.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"fba"}),b(!1)},children:"FBA"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"mf"}),b(!1)},children:"MF"})]})]},M)),f.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),b(!1)},children:"Clear Filter"})})]})})]})]}),f.jsx(at,{variant:"secondary",onClick:()=>{k(),X()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:f.jsx(La,{size:16,className:s?"animate-spin":""})}),(v||D!=="all")&&f.jsx(at,{variant:"secondary",onClick:X,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?f.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):z.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:`${S?"bg-slate-800":"bg-slate-50"}`,children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(O==null?void 0:O.role)==="admin"&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:z.map(M=>f.jsxs("tr",{className:`${S?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>V(M),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[M.name,g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Ev,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:M.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:M.status==="active"?"Active":"Pending"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[M.locationCode," - ",M.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:M.asin?M.asin.split(",").length>3?M.asin.split(",").slice(0,3).map(q=>q.trim()).join(", ")+"...":M.asin.split(",").map(q=>q.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[M.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),M.quantity>10&&M.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),f.jsx("span",{children:M.quantity})]})}),(O==null?void 0:O.role)==="admin"&&f.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(M.price)>0?`£${Number(M.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:qt(new Date(M.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:"px-4 py-3 text-right text-sm",children:f.jsx("div",{className:"flex items-center justify-end gap-2",children:f.jsx(at,{variant:"secondary",size:"sm",onClick:q=>W(q,M),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:f.jsx(vs,{size:16})})})})]},M.id))})]})})}),f.jsx("div",{className:"block md:hidden space-y-4",children:z.map(M=>f.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>V(M),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:M.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Ev,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:M.status==="active"?"Active":"Pending"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[M.locationCode," - ",M.shelfNumber]})]}),f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:M.quantity})]}),M.asin&&f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:M.asin})]}),(O==null?void 0:O.role)==="admin"&&f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(M.price)>0?`£${Number(M.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(M.lastUpdated),"MMM d, yyyy")})]})]}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsxs(at,{size:"sm",variant:"secondary",onClick:q=>{q.stopPropagation(),W(q,M)},children:[f.jsx(vs,{size:14})," Edit"]})})]},M.id))})]}):f.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&f.jsx(VBe,{item:l,onSubmit:G,isLoading:s})}),l&&!a&&f.jsx(oy,{isOpen:!0,onClose:()=>c(null),item:l}),f.jsx(Sh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:Z})]})},qBe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState(new Set),[s,o]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState("locationCode"),[h,p]=F.useState({}),{showToast:g}=cc(),{isDarkMode:m}=an(),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,P]=F.useState(1),[j,T]=F.useState("A1"),[_,S]=F.useState("0"),[O,E]=F.useState(!1),[N,k]=F.useState(!1),[U,X]=F.useState(""),[z,G]=F.useState(jf("A1")),[V,W]=F.useState(null),[te,Z]=F.useState(!1),[I,M]=F.useState(null),[q,Y]=F.useState(!1),{user:J}=ga(),ie=we=>{T(we);const Fe=jf(we);G(Fe),parseInt(_)>=Fe.length&&S("0")},fe=async()=>{t(!0);try{const we=lr(wt(Xe,"inventory"),Fa("locationCode")),Te=(await ur(we)).docs.map(Oe=>{const qe=Oe.data();return{id:Oe.id,name:qe.name||"",quantity:qe.quantity||0,price:qe.price||0,unit:qe.unit||null,supplier:qe.supplier??null,lastUpdated:qe.lastUpdated instanceof ir?qe.lastUpdated.toDate():new Date,locationCode:qe.locationCode||"",shelfNumber:qe.shelfNumber||"",barcode:qe.barcode??null,asin:qe.asin??null,status:qe.status||"pending",damagedItems:qe.damagedItems||0,fulfillmentType:qe.fulfillmentType||"fba",storeName:qe.storeName||""}});n(Te)}catch(we){console.error("Error fetching locations:",we),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},ae=async()=>{try{const we=lr(wt(Xe,"locations")),Fe=await ur(we),Te={};Fe.forEach(Oe=>{Te[Oe.id]=Oe.data().isAvailable!==!1}),p(Te)}catch(we){console.error("Error fetching location availability:",we)}};F.useEffect(()=>{t(!0),Promise.all([fe(),ae()]).finally(()=>t(!1))},[]);const ge=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location","Awaiting Locations Sparklin","Awaiting Locations Aztec"],ye=ge.reduce((we,Fe)=>{const Oe=r.filter(qe=>qe.locationCode===Fe).reduce((qe,nt)=>{const ot=qe.findIndex(xt=>xt.name===nt.name&&We(xt.asin)===We(nt.asin)&&We(xt.barcode)===We(nt.barcode)&&xt.locationCode===nt.locationCode&&xt.shelfNumber===nt.shelfNumber);return ot>=0?qe[ot]={...qe[ot],quantity:qe[ot].quantity+nt.quantity,lastUpdated:qe[ot].lastUpdated>nt.lastUpdated?qe[ot].lastUpdated:nt.lastUpdated}:qe.push(nt),qe},[]);return we[Fe]={locationCode:Fe,totalStock:Oe.reduce((qe,nt)=>qe+nt.quantity,0),products:Oe},we},{}),H=Object.values(ye).filter(we=>{const Fe=s.toLowerCase(),Te=l.toLowerCase(),Oe=Te===""||we.locationCode.toLowerCase().includes(Te),qe=Fe===""||we.products.some(nt=>nt.name.toLowerCase().includes(Fe)||nt.asin&&nt.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(Fe))||nt.barcode&&nt.barcode.toLowerCase().includes(Fe));return Oe&&qe}).sort((we,Fe)=>{if(u==="totalStock")return Fe.totalStock-we.totalStock;if(u==="locationCode")return we.locationCode==="Awaiting Location"?-1:Fe.locationCode==="Awaiting Location"?1:we.locationCode==="Awaiting Locations Sparklin"?-1:Fe.locationCode==="Awaiting Locations Sparklin"?1:we.locationCode==="Awaiting Locations Aztec"?-1:Fe.locationCode==="Awaiting Locations Aztec"?1:we.locationCode.localeCompare(Fe.locationCode);if(u==="availability"){const Te=h[we.locationCode]!==!1,Oe=h[Fe.locationCode]!==!1;return Te===Oe?we.locationCode==="Awaiting Location"?-1:Fe.locationCode==="Awaiting Location"?1:we.locationCode==="Awaiting Locations Sparklin"?-1:Fe.locationCode==="Awaiting Locations Sparklin"?1:we.locationCode==="Awaiting Locations Aztec"?-1:Fe.locationCode==="Awaiting Locations Aztec"?1:we.locationCode.localeCompare(Fe.locationCode):Te?-1:1}return 0});F.useEffect(()=>{if(s.trim()&&s!==U){const we=H.filter(Fe=>{const Te=s.toLowerCase();return Fe.products.some(Oe=>Oe.quantity>0&&(Oe.name.toLowerCase().includes(Te)||Oe.asin&&Oe.asin.split(",").some(qe=>qe.trim().toLowerCase().includes(Te))||Oe.barcode&&Oe.barcode.toLowerCase().includes(Te)))});if(we.length>0){const Fe=we.flatMap(Oe=>Oe.products.filter(qe=>{if(qe.quantity===0)return!1;const nt=s.toLowerCase();return qe.name.toLowerCase().includes(nt)||qe.asin&&qe.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(nt))||qe.barcode&&qe.barcode.toLowerCase().includes(nt)})),Te=[...new Set(Fe.map(Oe=>`${Oe.locationCode}-${Oe.shelfNumber}`))];g(`Product found! Located at: ${Te.join(", ")}`,"success"),X(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),X(s))}else!s.trim()&&U&&X("")},[H,s,g,U]);const ke=we=>{i(Fe=>{const Te=new Set(Fe);return Te.has(we)?Te.delete(we):Te.add(we),Te})},Ce=()=>{k(!0)},Se=we=>{o(we),k(!1)},le=async we=>{const Fe=!(h[we]??!0);p(Te=>({...Te,[we]:Fe}));try{await ux(Sr(Xe,"locations",we),{isAvailable:Fe},{merge:!0})}catch(Te){g("Failed to update availability","error"),p(Oe=>({...Oe,[we]:!Fe})),console.log(Te)}};function Me(we){const Fe={...we};return Object.keys(Fe).forEach(Te=>{Fe[Te]===void 0&&(Fe[Te]=null)}),Fe}function We(we){return we??""}const Ie=async()=>{if(w&&!(D<1||D>w.quantity)){E(!0);try{const we=lr(wt(Xe,"inventory")),Fe=await ur(we);let Te=null;if(Fe.forEach(Oe=>{const qe=Oe.data();qe.name===w.name&&qe.locationCode===j&&qe.shelfNumber===_&&We(qe.asin)===We(w.asin)&&We(qe.barcode)===We(w.barcode)&&(Te={...qe,id:Oe.id})}),D===w.quantity)await ux(Sr(Xe,"inventory",w.id),Me({...w,locationCode:j,shelfNumber:_,lastUpdated:new Date}),{merge:!0});else if(await ux(Sr(Xe,"inventory",w.id),Me({...w,quantity:w.quantity-D,lastUpdated:new Date}),{merge:!0}),Te)await ux(Sr(Xe,"inventory",Te.id),Me({...Te,quantity:Te.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:Oe,...qe}=w;await mr(wt(Xe,"inventory"),Me({...qe,quantity:D,locationCode:j,shelfNumber:_,lastUpdated:new Date}))}await mr(wt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`Moved ${D} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${j}-${_}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),b(null),fe()}catch(we){g("Failed to move stock","error"),console.log(we)}finally{E(!1)}}},Ye=async()=>{if(V){Z(!0);try{await Ms(Sr(Xe,"inventory",V.id)),await mr(wt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`deleted product "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),W(null),fe()}catch(we){g("Failed to delete product","error"),console.error("Error deleting product:",we)}finally{Z(!1)}}};return f.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),f.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),f.jsxs(at,{variant:"primary",onClick:()=>Y(!0),className:"flex items-center gap-2",children:[f.jsx($Z,{size:16}),"Visual Map"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(jt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:we=>o(we.target.value),icon:f.jsx(kl,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:Ce,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(Zc,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"flex-1",children:f.jsx(jt,{type:"text",placeholder:"Search by location code...",value:l,onChange:we=>c(we.target.value),icon:f.jsx(kl,{size:16})})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:u,onChange:we=>d(we.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),f.jsx(at,{variant:"secondary",onClick:fe,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(La,{size:16,className:e?"animate-spin":""})})]}),e?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):H.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[f.jsx(Do,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),f.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(H).map(we=>{const Fe=a.has(we.locationCode);return f.jsxs("div",{"data-location":we.locationCode,className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Fe?"ring-2 ring-blue-500":""}`,children:[f.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ke(we.locationCode),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:f.jsx(Do,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),f.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:we.locationCode==="Awaiting Location"?"Awaiting Location":we.locationCode==="Awaiting Locations Sparklin"?"Awaiting Locations Sparklin":we.locationCode==="Awaiting Locations Aztec"?"Awaiting Locations Aztec":`Location ${we.locationCode}`})]}),f.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:h[we.locationCode]!==!1,onChange:Te=>{Te.stopPropagation(),le(we.locationCode)},className:"sr-only peer"}),f.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[we.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),f.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[we.locationCode]!==!1?"translate-x-5":""}
                          `})]}),f.jsx("span",{className:`text-xs font-semibold ml-2 ${h[we.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[we.locationCode]!==!1?"Available":"Not Available"}),f.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Te=>{Te.stopPropagation(),ke(we.locationCode)},"aria-label":Fe?"Collapse":"Expand",children:Fe?f.jsx(m9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):f.jsx(xl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),f.jsxs("div",{className:"flex justify-between items-end mt-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),f.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[we.totalStock," units"]})]}),f.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?we.products.filter(Te=>{if(Te.quantity===0)return!1;const Oe=s.toLowerCase();return Te.name.toLowerCase().includes(Oe)||Te.asin&&Te.asin.split(",").some(qe=>qe.trim().toLowerCase().includes(Oe))||Te.barcode&&Te.barcode.toLowerCase().includes(Oe)}).length:we.products.filter(Te=>Te.quantity>0).length," product",(s.trim()?we.products.filter(Te=>{if(Te.quantity===0)return!1;const Oe=s.toLowerCase();return Te.name.toLowerCase().includes(Oe)||Te.asin&&Te.asin.split(",").some(qe=>qe.trim().toLowerCase().includes(Oe))||Te.barcode&&Te.barcode.toLowerCase().includes(Oe)}).length:we.products.filter(Te=>Te.quantity>0).length)!==1?"s":""]})]})]}),Fe&&f.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[f.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?we.products.filter(Te=>{if(Te.quantity===0)return!1;const Oe=s.toLowerCase();return Te.name.toLowerCase().includes(Oe)||Te.asin&&Te.asin.split(",").some(qe=>qe.trim().toLowerCase().includes(Oe))||Te.barcode&&Te.barcode.toLowerCase().includes(Oe)}).length===0:we.products.filter(Te=>Te.quantity>0).length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),f.jsx("div",{className:"space-y-4",children:we.products.filter(Te=>{if(Te.quantity===0)return!1;if(s.trim()){const Oe=s.toLowerCase();return Te.name.toLowerCase().includes(Oe)||Te.asin&&Te.asin.split(",").some(qe=>qe.trim().toLowerCase().includes(Oe))||Te.barcode&&Te.barcode.toLowerCase().includes(Oe)}return!0}).map(Te=>{const Oe=we.totalStock===0?0:Te.quantity/we.totalStock*100,qe=s.toLowerCase(),nt=Te.name.toLowerCase().includes(qe)||Te.asin&&Te.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(qe))||Te.barcode&&Te.barcode.toLowerCase().includes(qe);return f.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${nt?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var xt;const ot=await Wd(Sr(Xe,"inventory",Te.id));if(ot.exists()){const ht=ot.data(),mt={...ht,id:Te.id,lastUpdated:(xt=ht.lastUpdated)!=null&&xt.toDate?ht.lastUpdated.toDate():new Date(ht.lastUpdated)};M(mt)}else g("Failed to fetch product details","error")},children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium ${nt?"text-blue-600":m?"text-white":"text-slate-800"}`,children:Te.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Te.shelfNumber]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[Te.quantity," units"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async ot=>{ot.stopPropagation();const xt=await Wd(Sr(Xe,"inventory",Te.id));if(xt.exists()){const ht=xt.data();b({...ht,id:Te.id}),P(1),T(Te.locationCode),S(Te.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),f.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async ot=>{ot.stopPropagation();const xt=await Wd(Sr(Xe,"inventory",Te.id));if(xt.exists()){const ht=xt.data();W({...ht,id:Te.id})}else g("Failed to fetch product details","error")},children:[f.jsx(li,{size:12}),"Delete"]})]})]})]}),f.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Oe>75?"bg-green-500":Oe>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Oe}%`},title:`${Te.quantity} out of ${we.totalStock} units (${Oe.toFixed(1)}%)`})})]},Te.id)})})]})]},we.locationCode)})}),f.jsx(fn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&f.jsxs("form",{onSubmit:we=>{we.preventDefault(),Ie()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),f.jsx("input",{type:"number",min:1,max:w.quantity,value:D,onChange:we=>P(Number(we.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),f.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),f.jsx("select",{value:j,onChange:we=>ie(we.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:ge.map(we=>f.jsx("option",{value:we,children:we},we))})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),f.jsx("select",{value:_,onChange:we=>S(we.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:z.map(we=>f.jsx("option",{value:we.value,children:we.label},we.value))})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),f.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:O,children:O?"Moving...":"Move"})]})]})}),f.jsx(Sh,{isOpen:N,onClose:()=>k(!1),onBarcodeScanned:Se}),f.jsx(dh,{isOpen:!!V,onClose:()=>W(null),onConfirm:Ye,title:"Delete Product",message:V?`Are you sure you want to delete "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}? This action cannot be undone.`:"",isLoading:te}),I&&f.jsx(oy,{isOpen:!!I,onClose:()=>M(null),item:I}),q&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>Y(!1)}),f.jsxs("div",{className:`relative w-full h-full max-w-none max-h-none m-0 rounded-none ${m?"bg-slate-900":"bg-white"} flex flex-col`,children:[f.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${m?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{children:f.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Visual Map"})}),f.jsx("button",{onClick:()=>Y(!1),className:`p-2 rounded-lg ${m?"hover:bg-slate-700":"hover:bg-slate-100"} transition-colors`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden p-6",children:f.jsxs("div",{className:`space-y-6 h-full flex flex-col ${m?"border-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"High Stock (50+)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Medium Stock (10-49)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Low Stock (1-9)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Empty"})]})]}),f.jsx("div",{})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"grid grid-cols-12 gap-2 min-w-max h-full",children:ge.map(we=>{const Fe=ye[we],Te=(Fe==null?void 0:Fe.totalStock)||0,Oe=(Fe==null?void 0:Fe.products.filter(ht=>ht.quantity>0).length)||0,qe=h[we]!==!1;let nt="bg-gray-300",ot="text-gray-600";Te>=50?(nt="bg-green-500",ot="text-white"):Te>=10?(nt="bg-yellow-500",ot="text-white"):Te>=1&&(nt="bg-red-500",ot="text-white");const xt=qe?"":"border-2 border-red-400";return f.jsxs("div",{className:`
                            ${nt} ${ot} ${xt}
                            p-4 rounded-lg text-center text-sm font-medium
                            hover:opacity-80 transition-all duration-200 cursor-pointer
                            hover:scale-105 hover:shadow-lg
                            min-w-[70px] min-h-[50px] flex flex-col justify-center items-center
                          `,title:`${we}: ${Te} units, ${Oe} products${qe?"":" (Unavailable)"}`,onClick:()=>{const ht=document.querySelector(`[data-location="${we}"]`);ht&&(ht.scrollIntoView({behavior:"smooth",block:"center"}),Y(!1))},children:[f.jsx("div",{className:"font-bold",children:we}),f.jsxs("div",{className:"text-xs opacity-90",children:[Te," - ",Oe,"p"]})]},we)})})}),f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:[f.jsx("h4",{className:`font-semibold mb-2 ${m?"text-white":"text-slate-800"}`,children:"Summary"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Locations:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:ge.length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Occupied:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(ye).filter(we=>we.totalStock>0).length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Stock:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(ye).reduce((we,Fe)=>we+Fe.totalStock,0)})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Unavailable:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.keys(h).filter(we=>h[we]===!1).length})]})]})]})]})})]})]})]})},WBe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("name"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,P]=F.useState(null),[j,T]=F.useState([]),[_,S]=F.useState(new Set),[O,E]=F.useState(!1),{showToast:N}=cc(),{isDarkMode:k}=an(),{user:U}=ga(),z=F.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[G,V]=F.useState(!1),[W,te]=F.useState(null),[Z,I]=F.useState(!1),[M,q]=F.useState(!1),[Y,J]=F.useState(null),[ie,fe]=F.useState(null),[ae,ge]=F.useState(!1),[ye,H]=F.useState("all"),[ke,Ce]=F.useState(!1);F.useEffect(()=>{const Pe=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Pe)}},[e]),F.useEffect(()=>{const Pe=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Pe)}},[a]);const Se=F.useCallback(async()=>{b(!0);try{const Pe=lr(wt(Xe,"inventory"),Fa("name")),rt=(await ur(Pe)).docs.map(vt=>{const Nt=vt.data();return{id:vt.id,...Nt,lastUpdated:Nt.lastUpdated instanceof ir?Nt.lastUpdated.toDate():new Date(Nt.lastUpdated)}});T(rt)}catch(Pe){console.error("Error fetching stock items:",Pe),N("Failed to fetch stock items","error")}finally{b(!1)}},[N]);F.useEffect(()=>{Se()},[Se]),F.useEffect(()=>{const Pe=Re=>{const rt=Re.target;rt.closest(".store-filter-dropdown")||ge(!1),rt.closest(".status-filter-dropdown")||Ce(!1)};return(ae||ke)&&document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[ae,ke]);const le=F.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Me=F.useMemo(()=>{const Pe=r.toLowerCase(),Re=s.toLowerCase(),rt=z.storeName;return j.filter(vt=>{if(vt.quantity===0||vt.storeName!==rt)return!1;const Nt=r===""||vt.name.toLowerCase().startsWith(Pe),Kt=s===""||vt.barcode&&vt.barcode.toLowerCase().includes(Re)||vt.asin&&vt.asin.split(",").some(Dt=>Dt.trim().toLowerCase().includes(Re)),Ft=ye==="all"||vt.status===ye;return Nt&&Kt&&Ft}).sort((vt,Nt)=>l==="name"?vt.name.localeCompare(Nt.name):l==="quantity"?Nt.quantity-vt.quantity:l==="price"?Nt.price-vt.price:l==="date"?new Date(Nt.lastUpdated).getTime()-new Date(vt.lastUpdated).getTime():0)},[j,r,s,ye,l,z]),We=F.useMemo(()=>j.filter(Pe=>Pe.quantity>0&&Pe.storeName===z.storeName).length,[j,z]),Ie=F.useCallback((Pe,Re)=>j.filter(rt=>rt.locationCode===Pe&&rt.shelfNumber===Re),[j]),Ye=F.useCallback(async Pe=>{b(!0);try{const Re=[];for(const rt of Pe)if(rt.barcode){const vt=lr(wt(Xe,"inventory"),sr("barcode","==",rt.barcode),sr("quantity","==",0)),Nt=await ur(vt);if(!Nt.empty){const Kt=Nt.docs[0];if(await Ms(Sr(Xe,"inventory",Kt.id)),T(Ft=>Ft.filter(Dt=>Dt.id!==Kt.id)),U){const Ft=Kt.data();await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Ft.name}" with barcode ${rt.barcode} from location ${Ft.locationCode}-${Ft.shelfNumber}`,time:new Date().toISOString()})}}}for(const rt of Pe){const vt=await mr(wt(Xe,"inventory"),{...rt,lastUpdated:ir.fromDate(new Date)});Re.push({...rt,id:vt.id,lastUpdated:new Date})}if(U){const rt=Pe.reduce((Nt,Kt)=>Nt+Kt.quantity,0),vt=Pe.map(Nt=>`${Nt.quantity} at ${Nt.locationCode}-${Nt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Pe[0].name}" with total quantity ${rt} (${vt})`,time:new Date().toISOString()})}T(rt=>[...rt,...Re]),d(!1),I(!1),N("Stock items added successfully","success")}catch(Re){console.error("Error adding stock:",Re),N("Failed to add stock items","error")}finally{b(!1)}},[U,N]),we=F.useCallback(async Pe=>{const Re=[];for(const rt of Pe){const vt=Ie(rt.locationCode,rt.shelfNumber);vt.length>0&&Re.push({locationCode:rt.locationCode,shelfNumber:rt.shelfNumber,products:vt})}if(Re.length>0){const rt=Re[0];fe({locationCode:rt.locationCode,shelfNumber:rt.shelfNumber,existingProducts:rt.products,newProductName:Pe[0].name,newProductBarcode:Pe[0].barcode||void 0}),J(Pe),q(!0);return}await Ye(Pe)},[Ie,Ye]),Fe=F.useCallback(async()=>{Y&&(await Ye(Y),q(!1),J(null),fe(null),d(!1),I(!1))},[Y,Ye]),Te=F.useCallback(()=>{q(!1),J(null),fe(null),d(!1),I(!1)},[]),Oe=F.useCallback(async()=>{if(Y&&ie)try{b(!0);const Pe=ie.existingProducts.find(Re=>Re.barcode===ie.newProductBarcode);if(Pe){const Re=Pe.quantity+Y[0].quantity,rt=Sr(Xe,"inventory",Pe.id);await Vn(rt,{quantity:Re,lastUpdated:ir.fromDate(new Date)}),U&&(await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${Y[0].quantity} units of "${Y[0].name}" with existing stock "${Pe.name}" at location ${ie.locationCode}-${ie.shelfNumber}`,time:new Date().toISOString()}),await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": quantity from ${Pe.quantity} to ${Re}`,time:new Date().toISOString()})),await Se(),N("Products merged successfully","success")}}catch(Pe){console.error("Error merging products:",Pe),N("Failed to merge products","error")}finally{b(!1),q(!1),J(null),fe(null),d(!1),I(!1)}},[Y,ie,U,Se,N]),qe=F.useCallback(async(Pe,Re)=>{var rt,vt;b(!0);try{const Nt=new Date,Kt={},Ft=[];if(Pe.name!==Re.name&&(Kt.name=Pe.name,Ft.push(`name from "${Re.name}" to "${Pe.name}"`)),Pe.price!==Re.price){Kt.price=Pe.price;const Dt=Number(Re.price||0).toFixed(2),rr=Number(Pe.price||0).toFixed(2);Ft.push(`price from £${Dt} to £${rr}`)}if((Pe.locationCode!==Re.locationCode||Pe.shelfNumber!==Re.shelfNumber)&&(Kt.locationCode=Pe.locationCode,Kt.shelfNumber=Pe.shelfNumber,Ft.push(`location from ${Re.locationCode}-${Re.shelfNumber} to ${Pe.locationCode}-${Pe.shelfNumber}`)),Pe.supplier!==Re.supplier&&(Kt.supplier=Pe.supplier,Ft.push(`supplier from "${Re.supplier||"none"}" to "${Pe.supplier||"none"}"`)),Pe.asin!==Re.asin&&(Kt.asin=Pe.asin,Ft.push(`ASIN from "${Re.asin||"none"}" to "${Pe.asin||"none"}"`)),Pe.status!==Re.status&&(Kt.status=Pe.status,Ft.push(`status from "${Re.status}" to "${Pe.status}"`)),Pe.damagedItems!==Re.damagedItems&&(Kt.damagedItems=Pe.damagedItems,Ft.push(`damaged items from ${Re.damagedItems} to ${Pe.damagedItems}`)),Pe.fulfillmentType!==Re.fulfillmentType&&(Kt.fulfillmentType=Pe.fulfillmentType,Ft.push(`fulfillment type from "${Re.fulfillmentType.toUpperCase()}" to "${Pe.fulfillmentType.toUpperCase()}"`)),Pe.storeName!==Re.storeName&&(Kt.storeName=Pe.storeName,Ft.push(`store name from "${(rt=Re.storeName)==null?void 0:rt.toUpperCase()}" to "${(vt=Pe.storeName)==null?void 0:vt.toUpperCase()}"`)),Pe.unit!==Re.unit&&(Kt.unit=Pe.unit,Ft.push(`unit from "${Re.unit||"none"}" to "${Pe.unit||"none"}"`)),Pe.barcode!==Re.barcode&&(Kt.barcode=Pe.barcode,Ft.push(`barcode from "${Re.barcode||"none"}" to "${Pe.barcode||"none"}"`)),Object.keys(Kt).length>0){const Dt=Sr(Xe,"inventory",Pe.id);await Vn(Dt,{...Kt,lastUpdated:ir.fromDate(Nt)}),U&&Ft.length>0&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": ${Ft.join(", ")}`,time:Nt.toISOString()});const rr=j.map(gr=>gr.id===Pe.id?{...gr,...Kt,lastUpdated:Nt}:gr);T(rr),N("Stock details updated successfully","success"),p(!1),P(null)}if(Pe.quantity>Re.quantity)te({itemId:Pe.id,newQuantity:Pe.quantity}),V(!0),p(!1);else if(Pe.quantity!==Re.quantity){const Dt=Sr(Xe,"inventory",Pe.id);await Vn(Dt,{quantity:Pe.quantity,lastUpdated:ir.fromDate(Nt)}),U&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Pe.name}": quantity from ${Re.quantity} to ${Pe.quantity}`,time:Nt.toISOString()});const rr=j.map(gr=>gr.id===Pe.id?{...gr,quantity:Pe.quantity,lastUpdated:Nt}:gr);T(rr),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Nt){console.error("Error updating stock:",Nt),N("Failed to update stock item","error")}finally{b(!1)}},[j,U,N]),nt=F.useCallback(async()=>{if(W){b(!0);try{const{itemId:Pe,newQuantity:Re}=W,rt=new Date,vt=j.find(Ft=>Ft.id===Pe),Nt=Sr(Xe,"inventory",Pe);await Vn(Nt,{quantity:Re,lastUpdated:ir.fromDate(rt)}),U&&vt&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${vt.name}": quantity from ${vt.quantity} to ${Re}`,time:rt.toISOString()});const Kt=j.map(Ft=>Ft.id===Pe?{...Ft,quantity:Re,lastUpdated:rt}:Ft);T(Kt),N("Stock quantity updated successfully","success"),P(null)}catch(Pe){console.error("Error updating quantity:",Pe),N("Failed to update quantity","error")}finally{b(!1),V(!1),te(null)}}},[W,j,U,N]),ot=F.useCallback(async Pe=>{b(!0);try{const Re=j.find(rt=>rt.id===Pe);await Ms(Sr(Xe,"inventory",Pe)),U&&Re&&await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${Re.name}" (${Re.quantity} units) from location ${Re.locationCode}-${Re.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(rt=>rt.id!==Pe)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(Re){console.error("Error deleting stock:",Re),N("Failed to delete stock item","error")}finally{b(!1)}},[j,U,N]),xt=F.useCallback(Pe=>{P(Pe)},[]),ht=F.useCallback((Pe,Re)=>{Pe.stopPropagation(),P(Re),p(!0)},[]),mt=F.useCallback((Pe,Re)=>{Pe.stopPropagation(),P(Re),m(!0)},[]),ct=F.useCallback(()=>{_.size===Me.length?S(new Set):S(new Set(Me.map(Pe=>Pe.id)))},[Me,_.size]),Zt=F.useCallback(Pe=>{const Re=new Set(_);Re.has(Pe)?Re.delete(Pe):Re.add(Pe),S(Re)},[_]),Ht=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Pe=j.filter(rt=>_.has(rt.id)),Re=Array.from(_).map(rt=>Ms(Sr(Xe,"inventory",rt)));if(await Promise.all(Re),U){const rt=Pe.map(vt=>`"${vt.name}" (${vt.quantity} units) from ${vt.locationCode}-${vt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${rt}`,time:new Date().toISOString()})}T(j.filter(rt=>!_.has(rt.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Pe){console.error("Error deleting items:",Pe),N("Failed to delete selected items","error")}finally{b(!1)}}},[_,j,U,N]),Rr=F.useCallback(async()=>{if(_.size!==0){b(!0);try{const Pe=j.filter(rt=>_.has(rt.id)&&rt.status==="pending");if(Pe.length===0){N("No pending items selected to activate","error");return}const Re=Pe.map(rt=>Vn(Sr(Xe,"inventory",rt.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(Re),U){const rt=Pe.map(vt=>`"${vt.name}" from ${vt.locationCode}-${vt.shelfNumber}`).join(", ");await mr(wt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Pe.length} pending products: ${rt}`,time:new Date().toISOString()})}T(j.map(rt=>_.has(rt.id)&&rt.status==="pending"?{...rt,status:"active",lastUpdated:new Date}:rt)),S(new Set),E(!1),N(`Successfully activated ${Pe.length} items`,"success")}catch(Pe){console.error("Error activating items:",Pe),N("Failed to activate selected items","error")}finally{b(!1)}}},[_,j,U,N]),Ir=F.useCallback(()=>{E(!O),O||S(new Set)},[O]),Wr=F.useCallback(({item:Pe})=>f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>xt(Pe),children:[O&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:Re=>Re.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:_.has(Pe.id),onChange:()=>Zt(Pe.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:Pe.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Pe.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Pe.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Pe.fulfillmentType.toUpperCase()})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[Pe.locationCode," - ",Pe.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Pe.asin?Pe.asin.split(",").length>3?Pe.asin.split(",").slice(0,3).map(Re=>Re.trim()).join(", ")+"...":Pe.asin.split(",").map(Re=>Re.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Pe.price)>0?`£${Number(Pe.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Pe.quantity*Pe.price)>0?`£${Number(Pe.quantity*Pe.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Pe.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Pe.quantity>10&&Pe.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Pe.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:qt(new Date(Pe.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:Re=>ht(Re,Pe),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(vs,{size:16})}),f.jsx("button",{onClick:Re=>mt(Re,Pe),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:f.jsx(li,{size:16})})]})})]},Pe.id),[O,_,k,xt,Zt,ht,mt]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:z.title}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[z.storeNameDisplay," Products: ",We]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsxs("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",z.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:O?f.jsxs(f.Fragment,{children:[ye==="pending"&&f.jsxs(at,{onClick:Rr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||_.size===0,children:[f.jsx(v9,{size:16}),"Go Live (",_.size,")"]}),f.jsx(at,{onClick:Ir,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(at,{variant:"secondary",onClick:()=>I(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(fi,{size:16}),"Quick Add"]}),f.jsxs(at,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(fi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by product name",value:e,onChange:Pe=>t(Pe.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(kl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(jt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Pe=>i(Pe.target.value),className:"pl-10"})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Jr,{value:l,onChange:Pe=>c(Pe.target.value),options:le})}),f.jsx("div",{className:"flex flex-row gap-2",children:f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",f.jsx(xl,{size:16})]}),ke&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{H("all"),Ce(!1)},children:"Clear Filter"})})]})})]})}),f.jsx(at,{variant:"secondary",onClick:Se,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(La,{size:16,className:w?"animate-spin":""})})]}),w?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(gs,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Me.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[O&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:_.size===Me.length,onChange:ct,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:Me.map((Pe,Re)=>f.jsx(Wr,{item:Pe,index:Re},Pe.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:Me.map(Pe=>f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>xt(Pe),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:Pe.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Pe.status==="active"?"Active":"Pending"}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Pe.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Pe.fulfillmentType.toUpperCase()})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Pe.locationCode," - ",Pe.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Pe.quantity})]}),Pe.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Pe.asin})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Pe.price)>0?`£${Number(Pe.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Pe.quantity*Pe.price)>0?`£${Number(Pe.quantity*Pe.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(Pe.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(at,{size:"sm",variant:"secondary",onClick:Re=>{Re.stopPropagation(),ht(Re,Pe)},children:[f.jsx(vs,{size:14})," Edit"]}),f.jsxs(at,{size:"sm",variant:"danger",onClick:Re=>{Re.stopPropagation(),mt(Re,Pe)},children:[f.jsx(li,{size:14})," Delete"]})]})]},Pe.id))})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(fn,{isOpen:u,onClose:()=>d(!1),title:`Add New ${z.storeNameDisplay} Stock Item`,size:"xl",children:f.jsx(Yq,{onSubmit:we,onCancel:()=>d(!1),isLoading:w,existingStockItems:j})}),f.jsx(fn,{isOpen:Z,onClose:()=>I(!1),title:`Quick Add ${z.storeNameDisplay} Stock`,size:"md",children:f.jsx(Qq,{onSubmit:we,onClose:()=>I(!1),isLoading:w})}),f.jsx(fn,{isOpen:h,onClose:()=>p(!1),title:`Edit ${z.storeNameDisplay} Stock`,size:"xl",children:D&&f.jsx(Xq,{item:D,onSubmit:qe,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(dh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ot(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!G&&f.jsx(oy,{isOpen:!!D,onClose:()=>P(null),item:D}),f.jsx(dh,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Ht,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(fn,{isOpen:G,onClose:()=>{V(!1),te(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(at,{variant:"secondary",onClick:()=>{V(!1),te(null)},children:"No"}),f.jsx(at,{onClick:nt,isLoading:w,children:"Yes"})]})]})}),ie&&f.jsx(Jq,{isOpen:M,onClose:Te,onConfirm:Fe,onCancel:Te,onMerge:Oe,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,existingProducts:ie.existingProducts,newProductName:ie.newProductName,newProductBarcode:ie.newProductBarcode})]})},ko=({children:e,allowedRoles:t})=>{const{user:r}=ga();return r?t.includes(r.role)?f.jsx(f.Fragment,{children:e}):f.jsx(j4,{to:"/",replace:!0}):f.jsx(j4,{to:"/login",replace:!0})};function HBe(){return f.jsxs(fZ,{children:[f.jsx(fs,{path:"/login",element:f.jsx(Kce,{})}),f.jsxs(fs,{path:"/",element:f.jsx(Hce,{}),children:[f.jsx(fs,{index:!0,element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(Fye,{})})}),f.jsx(fs,{path:"stock",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(Yye,{})})}),f.jsx(fs,{path:"jobs",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(U$e,{})})}),f.jsx(fs,{path:"inventory",element:f.jsx(ko,{allowedRoles:["admin","manager"],children:f.jsx(Xye,{})})}),f.jsx(fs,{path:"orders",element:f.jsx(ko,{allowedRoles:[""],children:f.jsx(e9e,{})})}),f.jsx(fs,{path:"outbound-stock",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(zBe,{})})}),f.jsx(fs,{path:"warehouse-locations",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(qBe,{})})}),f.jsx(fs,{path:"warehouse-operations",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(FBe,{})})}),f.jsx(fs,{path:"reports-analytics",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(BBe,{})})}),f.jsx(fs,{path:"settings",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(UBe,{})})}),f.jsx(fs,{path:"add",element:f.jsx(ko,{allowedRoles:["admin","manager","staff"],children:f.jsx(Kq,{})})}),f.jsx(fs,{path:"supply-serve",element:f.jsx(ko,{allowedRoles:["supply_serve","fahiz","aphy"],children:f.jsx(WBe,{})})})]})]})}t9(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(xZ,{basename:"/",children:f.jsx(Xae,{children:f.jsx(Yae,{children:f.jsx(Gce,{children:f.jsx(HBe,{})})})})})}));export{pn as _,cg as c,kn as g};
