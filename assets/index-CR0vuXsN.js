function jY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DR={exports:{}},Pw={},LR={exports:{}},Mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1=Symbol.for("react.element"),DY=Symbol.for("react.portal"),LY=Symbol.for("react.fragment"),MY=Symbol.for("react.strict_mode"),RY=Symbol.for("react.profiler"),FY=Symbol.for("react.provider"),$Y=Symbol.for("react.context"),BY=Symbol.for("react.forward_ref"),UY=Symbol.for("react.suspense"),VY=Symbol.for("react.memo"),zY=Symbol.for("react.lazy"),r6=Symbol.iterator;function qY(e){return e===null||typeof e!="object"?null:(e=r6&&e[r6]||e["@@iterator"],typeof e=="function"?e:null)}var MR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RR=Object.assign,FR={};function Mp(e,t,r){this.props=e,this.context=t,this.refs=FR,this.updater=r||MR}Mp.prototype.isReactComponent={};Mp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $R(){}$R.prototype=Mp.prototype;function wE(e,t,r){this.props=e,this.context=t,this.refs=FR,this.updater=r||MR}var _E=wE.prototype=new $R;_E.constructor=wE;RR(_E,Mp.prototype);_E.isPureReactComponent=!0;var n6=Array.isArray,BR=Object.prototype.hasOwnProperty,SE={current:null},UR={key:!0,ref:!0,__self:!0,__source:!0};function VR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)BR.call(t,n)&&!UR.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:O1,type:e,key:i,ref:s,props:a,_owner:SE.current}}function WY(e,t){return{$$typeof:O1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AE(e){return typeof e=="object"&&e!==null&&e.$$typeof===O1}function HY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var a6=/\/+/g;function D_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HY(""+e.key):t.toString(36)}function Ux(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case O1:case DY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+D_(s,0):n,n6(a)?(r="",e!=null&&(r=e.replace(a6,"$&/")+"/"),Ux(a,t,r,"",function(c){return c})):a!=null&&(AE(a)&&(a=WY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(a6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",n6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+D_(i,o);s+=Ux(i,t,r,l,a)}else if(l=qY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+D_(i,o++),s+=Ux(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fy(e,t,r){if(e==null)return e;var n=[],a=0;return Ux(e,n,"","",function(i){return t.call(r,i,a++)}),n}function GY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ps={current:null},Vx={transition:null},KY={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:Vx,ReactCurrentOwner:SE};function zR(){throw Error("act(...) is not supported in production builds of React.")}Mr.Children={map:Fy,forEach:function(e,t,r){Fy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fy(e,function(){t++}),t},toArray:function(e){return Fy(e,function(t){return t})||[]},only:function(e){if(!AE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mr.Component=Mp;Mr.Fragment=LY;Mr.Profiler=RY;Mr.PureComponent=wE;Mr.StrictMode=MY;Mr.Suspense=UY;Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KY;Mr.act=zR;Mr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=SE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)BR.call(t,l)&&!UR.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:O1,type:e.type,key:a,ref:i,props:n,_owner:s}};Mr.createContext=function(e){return e={$$typeof:$Y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FY,_context:e},e.Consumer=e};Mr.createElement=VR;Mr.createFactory=function(e){var t=VR.bind(null,e);return t.type=e,t};Mr.createRef=function(){return{current:null}};Mr.forwardRef=function(e){return{$$typeof:BY,render:e}};Mr.isValidElement=AE;Mr.lazy=function(e){return{$$typeof:zY,_payload:{_status:-1,_result:e},_init:GY}};Mr.memo=function(e,t){return{$$typeof:VY,type:e,compare:t===void 0?null:t}};Mr.startTransition=function(e){var t=Vx.transition;Vx.transition={};try{e()}finally{Vx.transition=t}};Mr.unstable_act=zR;Mr.useCallback=function(e,t){return ps.current.useCallback(e,t)};Mr.useContext=function(e){return ps.current.useContext(e)};Mr.useDebugValue=function(){};Mr.useDeferredValue=function(e){return ps.current.useDeferredValue(e)};Mr.useEffect=function(e,t){return ps.current.useEffect(e,t)};Mr.useId=function(){return ps.current.useId()};Mr.useImperativeHandle=function(e,t,r){return ps.current.useImperativeHandle(e,t,r)};Mr.useInsertionEffect=function(e,t){return ps.current.useInsertionEffect(e,t)};Mr.useLayoutEffect=function(e,t){return ps.current.useLayoutEffect(e,t)};Mr.useMemo=function(e,t){return ps.current.useMemo(e,t)};Mr.useReducer=function(e,t,r){return ps.current.useReducer(e,t,r)};Mr.useRef=function(e){return ps.current.useRef(e)};Mr.useState=function(e){return ps.current.useState(e)};Mr.useSyncExternalStore=function(e,t,r){return ps.current.useSyncExternalStore(e,t,r)};Mr.useTransition=function(){return ps.current.useTransition()};Mr.version="18.3.1";LR.exports=Mr;var U=LR.exports;const je=_n(U),YY=jY({__proto__:null,default:je},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XY=U,QY=Symbol.for("react.element"),JY=Symbol.for("react.fragment"),ZY=Object.prototype.hasOwnProperty,eX=XY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tX={key:!0,ref:!0,__self:!0,__source:!0};function qR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ZY.call(t,n)&&!tX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:QY,type:e,key:i,ref:s,props:a,_owner:eX.current}}Pw.Fragment=JY;Pw.jsx=qR;Pw.jsxs=qR;DR.exports=Pw;var d=DR.exports,WR={exports:{}},to={},HR={exports:{}},GR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,q){var ee=G.length;G.push(q);e:for(;0<ee;){var W=ee-1>>>1,O=G[W];if(0<a(O,q))G[W]=q,G[ee]=O,ee=W;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],ee=G.pop();if(ee!==q){G[0]=ee;e:for(var W=0,O=G.length,R=O>>>1;W<R;){var z=2*(W+1)-1,H=G[z],Z=z+1,oe=G[Z];if(0>a(H,ee))Z<O&&0>a(oe,H)?(G[W]=oe,G[Z]=ee,W=Z):(G[W]=H,G[z]=ee,W=z);else if(Z<O&&0>a(oe,ee))G[W]=oe,G[Z]=ee,W=Z;else break e}}return q}function a(G,q){var ee=G.sortIndex-q.sortIndex;return ee!==0?ee:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=G)n(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(c)}}function I(G){if(m=!1,b(G),!g)if(r(l)!==null)g=!0,Y(C);else{var q=r(c);q!==null&&J(I,q.startTime-G)}}function C(G,q){g=!1,m&&(m=!1,y(S),S=-1),p=!0;var ee=h;try{for(b(q),f=r(l);f!==null&&(!(f.expirationTime>q)||G&&!E());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var O=W(f.expirationTime<=q);q=e.unstable_now(),typeof O=="function"?f.callback=O:f===r(l)&&n(l),b(q)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var z=r(c);z!==null&&J(I,z.startTime-q),R=!1}return R}finally{f=null,h=ee,p=!1}}var j=!1,T=null,S=-1,A=5,D=-1;function E(){return!(e.unstable_now()-D<A)}function N(){if(T!==null){var G=e.unstable_now();D=G;var q=!0;try{q=T(!0,G)}finally{q?P():(j=!1,T=null)}}else j=!1}var P;if(typeof w=="function")P=function(){w(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=N,P=function(){X.postMessage(null)}}else P=function(){v(N,0)};function Y(G){T=G,j||(j=!0,P())}function J(G,q){S=v(function(){G(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Y(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var ee=h;h=q;try{return G()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=h;h=G;try{return q()}finally{h=ee}},e.unstable_scheduleCallback=function(G,q,ee){var W=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ee+O,G={id:u++,callback:q,priorityLevel:G,startTime:ee,expirationTime:O,sortIndex:-1},ee>W?(G.sortIndex=ee,t(c,G),r(l)===null&&G===r(c)&&(m?(y(S),S=-1):m=!0,J(I,ee-W))):(G.sortIndex=O,t(l,G),g||p||(g=!0,Y(C))),G},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(G){var q=h;return function(){var ee=h;h=q;try{return G.apply(this,arguments)}finally{h=ee}}}})(GR);HR.exports=GR;var rX=HR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nX=U,Js=rX;function jt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KR=new Set,ev={};function ch(e,t){G0(e,t),G0(e+"Capture",t)}function G0(e,t){for(ev[e]=t,e=0;e<t.length;e++)KR.add(t[e])}var $c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LA=Object.prototype.hasOwnProperty,aX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i6={},s6={};function iX(e){return LA.call(s6,e)?!0:LA.call(i6,e)?!1:aX.test(e)?s6[e]=!0:(i6[e]=!0,!1)}function sX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oX(e,t,r,n){if(t===null||typeof t>"u"||sX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ms(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bi[e]=new ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bi[t]=new ms(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bi[e]=new ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bi[e]=new ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bi[e]=new ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bi[e]=new ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bi[e]=new ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bi[e]=new ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bi[e]=new ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var TE=/[\-:]([a-z])/g;function EE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TE,EE);bi[t]=new ms(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TE,EE);bi[t]=new ms(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TE,EE);bi[t]=new ms(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bi[e]=new ms(e,1,!1,e.toLowerCase(),null,!1,!1)});bi.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bi[e]=new ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function NE(e,t,r,n){var a=bi.hasOwnProperty(t)?bi[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oX(t,r,a,n)&&(r=null),n||a===null?iX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nu=nX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$y=Symbol.for("react.element"),i0=Symbol.for("react.portal"),s0=Symbol.for("react.fragment"),kE=Symbol.for("react.strict_mode"),MA=Symbol.for("react.profiler"),YR=Symbol.for("react.provider"),XR=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),RA=Symbol.for("react.suspense"),FA=Symbol.for("react.suspense_list"),PE=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),QR=Symbol.for("react.offscreen"),o6=Symbol.iterator;function Pm(e){return e===null||typeof e!="object"?null:(e=o6&&e[o6]||e["@@iterator"],typeof e=="function"?e:null)}var ea=Object.assign,L_;function tg(e){if(L_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L_=t&&t[1]||""}return`
`+L_+e}var M_=!1;function R_(e,t){if(!e||M_)return"";M_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{M_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tg(e):""}function lX(e){switch(e.tag){case 5:return tg(e.type);case 16:return tg("Lazy");case 13:return tg("Suspense");case 19:return tg("SuspenseList");case 0:case 2:case 15:return e=R_(e.type,!1),e;case 11:return e=R_(e.type.render,!1),e;case 1:return e=R_(e.type,!0),e;default:return""}}function $A(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case s0:return"Fragment";case i0:return"Portal";case MA:return"Profiler";case kE:return"StrictMode";case RA:return"Suspense";case FA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XR:return(e.displayName||"Context")+".Consumer";case YR:return(e._context.displayName||"Context")+".Provider";case CE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PE:return t=e.displayName||null,t!==null?t:$A(e.type)||"Memo";case zu:t=e._payload,e=e._init;try{return $A(e(t))}catch{}}return null}function cX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $A(t);case 8:return t===kE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uX(e){var t=JR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function By(e){e._valueTracker||(e._valueTracker=uX(e))}function ZR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function m2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function BA(e,t){var r=t.checked;return ea({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function l6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eF(e,t){t=t.checked,t!=null&&NE(e,"checked",t,!1)}function UA(e,t){eF(e,t);var r=Nf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?VA(e,t.type,r):t.hasOwnProperty("defaultValue")&&VA(e,t.type,Nf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function VA(e,t,r){(t!=="number"||m2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rg=Array.isArray;function N0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(jt(91));return ea({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(jt(92));if(rg(r)){if(1<r.length)throw Error(jt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nf(r)}}function tF(e,t){var r=Nf(t.value),n=Nf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function f6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uy,nF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uy=Uy||document.createElement("div"),Uy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fX=["Webkit","ms","Moz","O"];Object.keys(gg).forEach(function(e){fX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gg[t]=gg[e]})});function aF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gg.hasOwnProperty(e)&&gg[e]?(""+t).trim():t+"px"}function iF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=aF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var dX=ea({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WA(e,t){if(t){if(dX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(jt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(jt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(jt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(jt(62))}}function HA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GA=null;function OE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var KA=null,k0=null,C0=null;function d6(e){if(e=D1(e)){if(typeof KA!="function")throw Error(jt(280));var t=e.stateNode;t&&(t=Lw(t),KA(e.stateNode,e.type,t))}}function sF(e){k0?C0?C0.push(e):C0=[e]:k0=e}function oF(){if(k0){var e=k0,t=C0;if(C0=k0=null,d6(e),t)for(e=0;e<t.length;e++)d6(t[e])}}function lF(e,t){return e(t)}function cF(){}var F_=!1;function uF(e,t,r){if(F_)return e(t,r);F_=!0;try{return lF(e,t,r)}finally{F_=!1,(k0!==null||C0!==null)&&(cF(),oF())}}function rv(e,t){var r=e.stateNode;if(r===null)return null;var n=Lw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(jt(231,t,typeof r));return r}var YA=!1;if($c)try{var Om={};Object.defineProperty(Om,"passive",{get:function(){YA=!0}}),window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{YA=!1}function hX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var vg=!1,g2=null,v2=!1,XA=null,pX={onError:function(e){vg=!0,g2=e}};function mX(e,t,r,n,a,i,s,o,l){vg=!1,g2=null,hX.apply(pX,arguments)}function gX(e,t,r,n,a,i,s,o,l){if(mX.apply(this,arguments),vg){if(vg){var c=g2;vg=!1,g2=null}else throw Error(jt(198));v2||(v2=!0,XA=c)}}function uh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h6(e){if(uh(e)!==e)throw Error(jt(188))}function vX(e){var t=e.alternate;if(!t){if(t=uh(e),t===null)throw Error(jt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h6(a),e;if(i===n)return h6(a),t;i=i.sibling}throw Error(jt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(jt(189))}}if(r.alternate!==n)throw Error(jt(190))}if(r.tag!==3)throw Error(jt(188));return r.stateNode.current===r?e:t}function dF(e){return e=vX(e),e!==null?hF(e):null}function hF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hF(e);if(t!==null)return t;e=e.sibling}return null}var pF=Js.unstable_scheduleCallback,p6=Js.unstable_cancelCallback,yX=Js.unstable_shouldYield,xX=Js.unstable_requestPaint,ma=Js.unstable_now,bX=Js.unstable_getCurrentPriorityLevel,IE=Js.unstable_ImmediatePriority,mF=Js.unstable_UserBlockingPriority,y2=Js.unstable_NormalPriority,wX=Js.unstable_LowPriority,gF=Js.unstable_IdlePriority,Ow=null,Vl=null;function _X(e){if(Vl&&typeof Vl.onCommitFiberRoot=="function")try{Vl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var hl=Math.clz32?Math.clz32:TX,SX=Math.log,AX=Math.LN2;function TX(e){return e>>>=0,e===0?32:31-(SX(e)/AX|0)|0}var Vy=64,zy=4194304;function ng(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function x2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=ng(o):(i&=s,i!==0&&(n=ng(i)))}else s=r&~a,s!==0?n=ng(s):i!==0&&(n=ng(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hl(t),a=1<<r,n|=e[r],t&=~a;return n}function EX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-hl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=EX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function QA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vF(){var e=Vy;return Vy<<=1,!(Vy&4194240)&&(Vy=64),e}function $_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function I1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hl(t),e[t]=r}function kX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-hl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function jE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var gn=0;function yF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xF,DE,bF,wF,_F,JA=!1,qy=[],lf=null,cf=null,uf=null,nv=new Map,av=new Map,Hu=[],CX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m6(e,t){switch(e){case"focusin":case"focusout":lf=null;break;case"dragenter":case"dragleave":cf=null;break;case"mouseover":case"mouseout":uf=null;break;case"pointerover":case"pointerout":nv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(t.pointerId)}}function Im(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=D1(t),t!==null&&DE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function PX(e,t,r,n,a){switch(t){case"focusin":return lf=Im(lf,e,t,r,n,a),!0;case"dragenter":return cf=Im(cf,e,t,r,n,a),!0;case"mouseover":return uf=Im(uf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return nv.set(i,Im(nv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,av.set(i,Im(av.get(i)||null,e,t,r,n,a)),!0}return!1}function SF(e){var t=Ed(e.target);if(t!==null){var r=uh(t);if(r!==null){if(t=r.tag,t===13){if(t=fF(r),t!==null){e.blockedOn=t,_F(e.priority,function(){bF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ZA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);GA=n,r.target.dispatchEvent(n),GA=null}else return t=D1(r),t!==null&&DE(t),e.blockedOn=r,!1;t.shift()}return!0}function g6(e,t,r){zx(e)&&r.delete(t)}function OX(){JA=!1,lf!==null&&zx(lf)&&(lf=null),cf!==null&&zx(cf)&&(cf=null),uf!==null&&zx(uf)&&(uf=null),nv.forEach(g6),av.forEach(g6)}function jm(e,t){e.blockedOn===t&&(e.blockedOn=null,JA||(JA=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,OX)))}function iv(e){function t(a){return jm(a,e)}if(0<qy.length){jm(qy[0],e);for(var r=1;r<qy.length;r++){var n=qy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(lf!==null&&jm(lf,e),cf!==null&&jm(cf,e),uf!==null&&jm(uf,e),nv.forEach(t),av.forEach(t),r=0;r<Hu.length;r++)n=Hu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hu.length&&(r=Hu[0],r.blockedOn===null);)SF(r),r.blockedOn===null&&Hu.shift()}var P0=nu.ReactCurrentBatchConfig,b2=!0;function IX(e,t,r,n){var a=gn,i=P0.transition;P0.transition=null;try{gn=1,LE(e,t,r,n)}finally{gn=a,P0.transition=i}}function jX(e,t,r,n){var a=gn,i=P0.transition;P0.transition=null;try{gn=4,LE(e,t,r,n)}finally{gn=a,P0.transition=i}}function LE(e,t,r,n){if(b2){var a=ZA(e,t,r,n);if(a===null)Y_(e,t,n,w2,r),m6(e,n);else if(PX(a,e,t,r,n))n.stopPropagation();else if(m6(e,n),t&4&&-1<CX.indexOf(e)){for(;a!==null;){var i=D1(a);if(i!==null&&xF(i),i=ZA(e,t,r,n),i===null&&Y_(e,t,n,w2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Y_(e,t,n,null,r)}}var w2=null;function ZA(e,t,r,n){if(w2=null,e=OE(n),e=Ed(e),e!==null)if(t=uh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w2=e,null}function AF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bX()){case IE:return 1;case mF:return 4;case y2:case wX:return 16;case gF:return 536870912;default:return 16}default:return 16}}var Ju=null,ME=null,qx=null;function TF(){if(qx)return qx;var e,t=ME,r=t.length,n,a="value"in Ju?Ju.value:Ju.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return qx=a.slice(e,1<n?1-n:void 0)}function Wx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wy(){return!0}function v6(){return!1}function ro(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wy:v6,this.isPropagationStopped=v6,this}return ea(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wy)},persist:function(){},isPersistent:Wy}),t}var Rp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RE=ro(Rp),j1=ea({},Rp,{view:0,detail:0}),DX=ro(j1),B_,U_,Dm,Iw=ea({},j1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dm&&(Dm&&e.type==="mousemove"?(B_=e.screenX-Dm.screenX,U_=e.screenY-Dm.screenY):U_=B_=0,Dm=e),B_)},movementY:function(e){return"movementY"in e?e.movementY:U_}}),y6=ro(Iw),LX=ea({},Iw,{dataTransfer:0}),MX=ro(LX),RX=ea({},j1,{relatedTarget:0}),V_=ro(RX),FX=ea({},Rp,{animationName:0,elapsedTime:0,pseudoElement:0}),$X=ro(FX),BX=ea({},Rp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UX=ro(BX),VX=ea({},Rp,{data:0}),x6=ro(VX),zX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WX[e])?!!t[e]:!1}function FE(){return HX}var GX=ea({},j1,{key:function(e){if(e.key){var t=zX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FE,charCode:function(e){return e.type==="keypress"?Wx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KX=ro(GX),YX=ea({},Iw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b6=ro(YX),XX=ea({},j1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FE}),QX=ro(XX),JX=ea({},Rp,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZX=ro(JX),eQ=ea({},Iw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tQ=ro(eQ),rQ=[9,13,27,32],$E=$c&&"CompositionEvent"in window,yg=null;$c&&"documentMode"in document&&(yg=document.documentMode);var nQ=$c&&"TextEvent"in window&&!yg,EF=$c&&(!$E||yg&&8<yg&&11>=yg),w6=" ",_6=!1;function NF(e,t){switch(e){case"keyup":return rQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var o0=!1;function aQ(e,t){switch(e){case"compositionend":return kF(t);case"keypress":return t.which!==32?null:(_6=!0,w6);case"textInput":return e=t.data,e===w6&&_6?null:e;default:return null}}function iQ(e,t){if(o0)return e==="compositionend"||!$E&&NF(e,t)?(e=TF(),qx=ME=Ju=null,o0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EF&&t.locale!=="ko"?null:t.data;default:return null}}var sQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sQ[e.type]:t==="textarea"}function CF(e,t,r,n){sF(n),t=_2(t,"onChange"),0<t.length&&(r=new RE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var xg=null,sv=null;function oQ(e){BF(e,0)}function jw(e){var t=u0(e);if(ZR(t))return e}function lQ(e,t){if(e==="change")return t}var PF=!1;if($c){var z_;if($c){var q_="oninput"in document;if(!q_){var A6=document.createElement("div");A6.setAttribute("oninput","return;"),q_=typeof A6.oninput=="function"}z_=q_}else z_=!1;PF=z_&&(!document.documentMode||9<document.documentMode)}function T6(){xg&&(xg.detachEvent("onpropertychange",OF),sv=xg=null)}function OF(e){if(e.propertyName==="value"&&jw(sv)){var t=[];CF(t,sv,e,OE(e)),uF(oQ,t)}}function cQ(e,t,r){e==="focusin"?(T6(),xg=t,sv=r,xg.attachEvent("onpropertychange",OF)):e==="focusout"&&T6()}function uQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jw(sv)}function fQ(e,t){if(e==="click")return jw(t)}function dQ(e,t){if(e==="input"||e==="change")return jw(t)}function hQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yl=typeof Object.is=="function"?Object.is:hQ;function ov(e,t){if(yl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!LA.call(t,a)||!yl(e[a],t[a]))return!1}return!0}function E6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N6(e,t){var r=E6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E6(r)}}function IF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jF(){for(var e=window,t=m2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=m2(e.document)}return t}function BE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pQ(e){var t=jF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&IF(r.ownerDocument.documentElement,r)){if(n!==null&&BE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=N6(r,i);var s=N6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mQ=$c&&"documentMode"in document&&11>=document.documentMode,l0=null,e4=null,bg=null,t4=!1;function k6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;t4||l0==null||l0!==m2(n)||(n=l0,"selectionStart"in n&&BE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bg&&ov(bg,n)||(bg=n,n=_2(e4,"onSelect"),0<n.length&&(t=new RE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=l0)))}function Hy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var c0={animationend:Hy("Animation","AnimationEnd"),animationiteration:Hy("Animation","AnimationIteration"),animationstart:Hy("Animation","AnimationStart"),transitionend:Hy("Transition","TransitionEnd")},W_={},DF={};$c&&(DF=document.createElement("div").style,"AnimationEvent"in window||(delete c0.animationend.animation,delete c0.animationiteration.animation,delete c0.animationstart.animation),"TransitionEvent"in window||delete c0.transitionend.transition);function Dw(e){if(W_[e])return W_[e];if(!c0[e])return e;var t=c0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DF)return W_[e]=t[r];return e}var LF=Dw("animationend"),MF=Dw("animationiteration"),RF=Dw("animationstart"),FF=Dw("transitionend"),$F=new Map,C6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bf(e,t){$F.set(e,t),ch(t,[e])}for(var H_=0;H_<C6.length;H_++){var G_=C6[H_],gQ=G_.toLowerCase(),vQ=G_[0].toUpperCase()+G_.slice(1);Bf(gQ,"on"+vQ)}Bf(LF,"onAnimationEnd");Bf(MF,"onAnimationIteration");Bf(RF,"onAnimationStart");Bf("dblclick","onDoubleClick");Bf("focusin","onFocus");Bf("focusout","onBlur");Bf(FF,"onTransitionEnd");G0("onMouseEnter",["mouseout","mouseover"]);G0("onMouseLeave",["mouseout","mouseover"]);G0("onPointerEnter",["pointerout","pointerover"]);G0("onPointerLeave",["pointerout","pointerover"]);ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ag="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ag));function P6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gX(n,t,void 0,e),e.currentTarget=null}function BF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}}}if(v2)throw e=XA,v2=!1,XA=null,e}function Rn(e,t){var r=t[s4];r===void 0&&(r=t[s4]=new Set);var n=e+"__bubble";r.has(n)||(UF(t,e,2,!1),r.add(n))}function K_(e,t,r){var n=0;t&&(n|=4),UF(r,e,n,t)}var Gy="_reactListening"+Math.random().toString(36).slice(2);function lv(e){if(!e[Gy]){e[Gy]=!0,KR.forEach(function(r){r!=="selectionchange"&&(yQ.has(r)||K_(r,!1,e),K_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gy]||(t[Gy]=!0,K_("selectionchange",!1,t))}}function UF(e,t,r,n){switch(AF(t)){case 1:var a=IX;break;case 4:a=jX;break;default:a=LE}r=a.bind(null,t,r,e),a=void 0,!YA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Y_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ed(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}uF(function(){var c=i,u=OE(r),f=[];e:{var h=$F.get(e);if(h!==void 0){var p=RE,g=e;switch(e){case"keypress":if(Wx(r)===0)break e;case"keydown":case"keyup":p=KX;break;case"focusin":g="focus",p=V_;break;case"focusout":g="blur",p=V_;break;case"beforeblur":case"afterblur":p=V_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=y6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QX;break;case LF:case MF:case RF:p=$X;break;case FF:p=ZX;break;case"scroll":p=DX;break;case"wheel":p=tQ;break;case"copy":case"cut":case"paste":p=UX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,b;w!==null;){b=w;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,y!==null&&(I=rv(w,y),I!=null&&m.push(cv(w,I,b)))),v)break;w=w.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==GA&&(g=r.relatedTarget||r.fromElement)&&(Ed(g)||g[Bc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ed(g):null,g!==null&&(v=uh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=y6,I="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=b6,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:u0(p),b=g==null?h:u0(g),h=new m(I,w+"leave",p,r,u),h.target=v,h.relatedTarget=b,I=null,Ed(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=b,m.relatedTarget=v,I=m),v=I,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=qh(b))w++;for(b=0,I=y;I;I=qh(I))b++;for(;0<w-b;)m=qh(m),w--;for(;0<b-w;)y=qh(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=qh(m),y=qh(y)}m=null}else m=null;p!==null&&O6(f,h,p,m,!1),g!==null&&v!==null&&O6(f,v,g,m,!0)}}e:{if(h=c?u0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=lQ;else if(S6(h))if(PF)C=dQ;else{C=uQ;var j=cQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=fQ);if(C&&(C=C(e,c))){CF(f,C,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&VA(h,"number",h.value)}switch(j=c?u0(c):window,e){case"focusin":(S6(j)||j.contentEditable==="true")&&(l0=j,e4=c,bg=null);break;case"focusout":bg=e4=l0=null;break;case"mousedown":t4=!0;break;case"contextmenu":case"mouseup":case"dragend":t4=!1,k6(f,r,u);break;case"selectionchange":if(mQ)break;case"keydown":case"keyup":k6(f,r,u)}var T;if($E)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else o0?NF(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(EF&&r.locale!=="ko"&&(o0||S!=="onCompositionStart"?S==="onCompositionEnd"&&o0&&(T=TF()):(Ju=u,ME="value"in Ju?Ju.value:Ju.textContent,o0=!0)),j=_2(c,S),0<j.length&&(S=new x6(S,e,null,r,u),f.push({event:S,listeners:j}),T?S.data=T:(T=kF(r),T!==null&&(S.data=T)))),(T=nQ?aQ(e,r):iQ(e,r))&&(c=_2(c,"onBeforeInput"),0<c.length&&(u=new x6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}BF(f,t)})}function cv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=rv(e,r),i!=null&&n.unshift(cv(e,i,a)),i=rv(e,t),i!=null&&n.push(cv(e,i,a))),e=e.return}return n}function qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=rv(r,i),l!=null&&s.unshift(cv(r,l,o))):a||(l=rv(r,i),l!=null&&s.push(cv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var xQ=/\r\n?/g,bQ=/\u0000|\uFFFD/g;function I6(e){return(typeof e=="string"?e:""+e).replace(xQ,`
`).replace(bQ,"")}function Ky(e,t,r){if(t=I6(t),I6(e)!==t&&r)throw Error(jt(425))}function S2(){}var r4=null,n4=null;function a4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i4=typeof setTimeout=="function"?setTimeout:void 0,wQ=typeof clearTimeout=="function"?clearTimeout:void 0,j6=typeof Promise=="function"?Promise:void 0,_Q=typeof queueMicrotask=="function"?queueMicrotask:typeof j6<"u"?function(e){return j6.resolve(null).then(e).catch(SQ)}:i4;function SQ(e){setTimeout(function(){throw e})}function X_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),iv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);iv(t)}function ff(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fp=Math.random().toString(36).slice(2),$l="__reactFiber$"+Fp,uv="__reactProps$"+Fp,Bc="__reactContainer$"+Fp,s4="__reactEvents$"+Fp,AQ="__reactListeners$"+Fp,TQ="__reactHandles$"+Fp;function Ed(e){var t=e[$l];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bc]||r[$l]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=D6(e);e!==null;){if(r=e[$l])return r;e=D6(e)}return t}e=r,r=e.parentNode}return null}function D1(e){return e=e[$l]||e[Bc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function u0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(jt(33))}function Lw(e){return e[uv]||null}var o4=[],f0=-1;function Uf(e){return{current:e}}function Vn(e){0>f0||(e.current=o4[f0],o4[f0]=null,f0--)}function jn(e,t){f0++,o4[f0]=e.current,e.current=t}var kf={},Hi=Uf(kf),ks=Uf(!1),Hd=kf;function K0(e,t){var r=e.type.contextTypes;if(!r)return kf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cs(e){return e=e.childContextTypes,e!=null}function A2(){Vn(ks),Vn(Hi)}function L6(e,t,r){if(Hi.current!==kf)throw Error(jt(168));jn(Hi,t),jn(ks,r)}function VF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(jt(108,cX(e)||"Unknown",a));return ea({},r,n)}function T2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kf,Hd=Hi.current,jn(Hi,e),jn(ks,ks.current),!0}function M6(e,t,r){var n=e.stateNode;if(!n)throw Error(jt(169));r?(e=VF(e,t,Hd),n.__reactInternalMemoizedMergedChildContext=e,Vn(ks),Vn(Hi),jn(Hi,e)):Vn(ks),jn(ks,r)}var Sc=null,Mw=!1,Q_=!1;function zF(e){Sc===null?Sc=[e]:Sc.push(e)}function EQ(e){Mw=!0,zF(e)}function Vf(){if(!Q_&&Sc!==null){Q_=!0;var e=0,t=gn;try{var r=Sc;for(gn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sc=null,Mw=!1}catch(a){throw Sc!==null&&(Sc=Sc.slice(e+1)),pF(IE,Vf),a}finally{gn=t,Q_=!1}}return null}var d0=[],h0=0,E2=null,N2=0,wo=[],_o=0,Gd=null,Tc=1,Ec="";function md(e,t){d0[h0++]=N2,d0[h0++]=E2,E2=e,N2=t}function qF(e,t,r){wo[_o++]=Tc,wo[_o++]=Ec,wo[_o++]=Gd,Gd=e;var n=Tc;e=Ec;var a=32-hl(n)-1;n&=~(1<<a),r+=1;var i=32-hl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Tc=1<<32-hl(t)+a|r<<a|n,Ec=i+e}else Tc=1<<i|r<<a|n,Ec=e}function UE(e){e.return!==null&&(md(e,1),qF(e,1,0))}function VE(e){for(;e===E2;)E2=d0[--h0],d0[h0]=null,N2=d0[--h0],d0[h0]=null;for(;e===Gd;)Gd=wo[--_o],wo[_o]=null,Ec=wo[--_o],wo[_o]=null,Tc=wo[--_o],wo[_o]=null}var Qs=null,Hs=null,Wn=!1,sl=null;function WF(e,t){var r=So(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qs=e,Hs=ff(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qs=e,Hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:Tc,overflow:Ec}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=So(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qs=e,Hs=null,!0):!1;default:return!1}}function l4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c4(e){if(Wn){var t=Hs;if(t){var r=t;if(!R6(e,t)){if(l4(e))throw Error(jt(418));t=ff(r.nextSibling);var n=Qs;t&&R6(e,t)?WF(n,r):(e.flags=e.flags&-4097|2,Wn=!1,Qs=e)}}else{if(l4(e))throw Error(jt(418));e.flags=e.flags&-4097|2,Wn=!1,Qs=e}}}function F6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qs=e}function Yy(e){if(e!==Qs)return!1;if(!Wn)return F6(e),Wn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!a4(e.type,e.memoizedProps)),t&&(t=Hs)){if(l4(e))throw HF(),Error(jt(418));for(;t;)WF(e,t),t=ff(t.nextSibling)}if(F6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(jt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hs=ff(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hs=null}}else Hs=Qs?ff(e.stateNode.nextSibling):null;return!0}function HF(){for(var e=Hs;e;)e=ff(e.nextSibling)}function Y0(){Hs=Qs=null,Wn=!1}function zE(e){sl===null?sl=[e]:sl.push(e)}var NQ=nu.ReactCurrentBatchConfig;function Lm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(jt(309));var n=r.stateNode}if(!n)throw Error(jt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(jt(284));if(!r._owner)throw Error(jt(290,e))}return e}function Xy(e,t){throw e=Object.prototype.toString.call(t),Error(jt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $6(e){var t=e._init;return t(e._payload)}function GF(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=mf(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,I){return w===null||w.tag!==6?(w=aS(b,y.mode,I),w.return=y,w):(w=a(w,b),w.return=y,w)}function l(y,w,b,I){var C=b.type;return C===s0?u(y,w,b.props.children,I,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zu&&$6(C)===w.type)?(I=a(w,b.props),I.ref=Lm(y,w,b),I.return=y,I):(I=Jx(b.type,b.key,b.props,null,y.mode,I),I.ref=Lm(y,w,b),I.return=y,I)}function c(y,w,b,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=iS(b,y.mode,I),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function u(y,w,b,I,C){return w===null||w.tag!==7?(w=Fd(b,y.mode,I,C),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=aS(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $y:return b=Jx(w.type,w.key,w.props,null,y.mode,b),b.ref=Lm(y,null,w),b.return=y,b;case i0:return w=iS(w,y.mode,b),w.return=y,w;case zu:var I=w._init;return f(y,I(w._payload),b)}if(rg(w)||Pm(w))return w=Fd(w,y.mode,b,null),w.return=y,w;Xy(y,w)}return null}function h(y,w,b,I){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(y,w,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $y:return b.key===C?l(y,w,b,I):null;case i0:return b.key===C?c(y,w,b,I):null;case zu:return C=b._init,h(y,w,C(b._payload),I)}if(rg(b)||Pm(b))return C!==null?null:u(y,w,b,I,null);Xy(y,b)}return null}function p(y,w,b,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(b)||null,o(w,y,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $y:return y=y.get(I.key===null?b:I.key)||null,l(w,y,I,C);case i0:return y=y.get(I.key===null?b:I.key)||null,c(w,y,I,C);case zu:var j=I._init;return p(y,w,b,j(I._payload),C)}if(rg(I)||Pm(I))return y=y.get(b)||null,u(w,y,I,C,null);Xy(w,I)}return null}function g(y,w,b,I){for(var C=null,j=null,T=w,S=w=0,A=null;T!==null&&S<b.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var D=h(y,T,b[S],I);if(D===null){T===null&&(T=A);break}e&&T&&D.alternate===null&&t(y,T),w=i(D,w,S),j===null?C=D:j.sibling=D,j=D,T=A}if(S===b.length)return r(y,T),Wn&&md(y,S),C;if(T===null){for(;S<b.length;S++)T=f(y,b[S],I),T!==null&&(w=i(T,w,S),j===null?C=T:j.sibling=T,j=T);return Wn&&md(y,S),C}for(T=n(y,T);S<b.length;S++)A=p(T,y,S,b[S],I),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?S:A.key),w=i(A,w,S),j===null?C=A:j.sibling=A,j=A);return e&&T.forEach(function(E){return t(y,E)}),Wn&&md(y,S),C}function m(y,w,b,I){var C=Pm(b);if(typeof C!="function")throw Error(jt(150));if(b=C.call(b),b==null)throw Error(jt(151));for(var j=C=null,T=w,S=w=0,A=null,D=b.next();T!==null&&!D.done;S++,D=b.next()){T.index>S?(A=T,T=null):A=T.sibling;var E=h(y,T,D.value,I);if(E===null){T===null&&(T=A);break}e&&T&&E.alternate===null&&t(y,T),w=i(E,w,S),j===null?C=E:j.sibling=E,j=E,T=A}if(D.done)return r(y,T),Wn&&md(y,S),C;if(T===null){for(;!D.done;S++,D=b.next())D=f(y,D.value,I),D!==null&&(w=i(D,w,S),j===null?C=D:j.sibling=D,j=D);return Wn&&md(y,S),C}for(T=n(y,T);!D.done;S++,D=b.next())D=p(T,y,S,D.value,I),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?S:D.key),w=i(D,w,S),j===null?C=D:j.sibling=D,j=D);return e&&T.forEach(function(N){return t(y,N)}),Wn&&md(y,S),C}function v(y,w,b,I){if(typeof b=="object"&&b!==null&&b.type===s0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case $y:e:{for(var C=b.key,j=w;j!==null;){if(j.key===C){if(C=b.type,C===s0){if(j.tag===7){r(y,j.sibling),w=a(j,b.props.children),w.return=y,y=w;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zu&&$6(C)===j.type){r(y,j.sibling),w=a(j,b.props),w.ref=Lm(y,j,b),w.return=y,y=w;break e}r(y,j);break}else t(y,j);j=j.sibling}b.type===s0?(w=Fd(b.props.children,y.mode,I,b.key),w.return=y,y=w):(I=Jx(b.type,b.key,b.props,null,y.mode,I),I.ref=Lm(y,w,b),I.return=y,y=I)}return s(y);case i0:e:{for(j=b.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=iS(b,y.mode,I),w.return=y,y=w}return s(y);case zu:return j=b._init,v(y,w,j(b._payload),I)}if(rg(b))return g(y,w,b,I);if(Pm(b))return m(y,w,b,I);Xy(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=aS(b,y.mode,I),w.return=y,y=w),s(y)):r(y,w)}return v}var X0=GF(!0),KF=GF(!1),k2=Uf(null),C2=null,p0=null,qE=null;function WE(){qE=p0=C2=null}function HE(e){var t=k2.current;Vn(k2),e._currentValue=t}function u4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function O0(e,t){C2=e,qE=p0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ts=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(qE!==e)if(e={context:e,memoizedValue:t,next:null},p0===null){if(C2===null)throw Error(jt(308));p0=e,C2.dependencies={lanes:0,firstContext:e}}else p0=p0.next=e;return t}var Nd=null;function GE(e){Nd===null?Nd=[e]:Nd.push(e)}function YF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,GE(t)):(r.next=a.next,a.next=r),t.interleaved=r,Uc(e,n)}function Uc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qu=!1;function KE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ic(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function df(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Uc(e,r)}return a=n.interleaved,a===null?(t.next=t,GE(n)):(t.next=a.next,a.next=t),n.interleaved=t,Uc(e,r)}function Hx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jE(e,r)}}function B6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function P2(e,t,r,n){var a=e.updateQueue;qu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ea({},f,h);break e;case 2:qu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yd|=s,e.lanes=s,e.memoizedState=f}}function U6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(jt(191,a));a.call(n)}}}var L1={},zl=Uf(L1),fv=Uf(L1),dv=Uf(L1);function kd(e){if(e===L1)throw Error(jt(174));return e}function YE(e,t){switch(jn(dv,t),jn(fv,e),jn(zl,L1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qA(t,e)}Vn(zl),jn(zl,t)}function Q0(){Vn(zl),Vn(fv),Vn(dv)}function QF(e){kd(dv.current);var t=kd(zl.current),r=qA(t,e.type);t!==r&&(jn(fv,e),jn(zl,r))}function XE(e){fv.current===e&&(Vn(zl),Vn(fv))}var Qn=Uf(0);function O2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var J_=[];function QE(){for(var e=0;e<J_.length;e++)J_[e]._workInProgressVersionPrimary=null;J_.length=0}var Gx=nu.ReactCurrentDispatcher,Z_=nu.ReactCurrentBatchConfig,Kd=0,Jn=null,Fa=null,Qa=null,I2=!1,wg=!1,hv=0,kQ=0;function Ai(){throw Error(jt(321))}function JE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yl(e[r],t[r]))return!1;return!0}function ZE(e,t,r,n,a,i){if(Kd=i,Jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gx.current=e===null||e.memoizedState===null?IQ:jQ,e=r(n,a),wg){i=0;do{if(wg=!1,hv=0,25<=i)throw Error(jt(301));i+=1,Qa=Fa=null,t.updateQueue=null,Gx.current=DQ,e=r(n,a)}while(wg)}if(Gx.current=j2,t=Fa!==null&&Fa.next!==null,Kd=0,Qa=Fa=Jn=null,I2=!1,t)throw Error(jt(300));return e}function eN(){var e=hv!==0;return hv=0,e}function Rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qa===null?Jn.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function Po(){if(Fa===null){var e=Jn.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=Qa===null?Jn.memoizedState:Qa.next;if(t!==null)Qa=t,Fa=e;else{if(e===null)throw Error(jt(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},Qa===null?Jn.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function pv(e,t){return typeof t=="function"?t(e):t}function eS(e){var t=Po(),r=t.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=e;var n=Fa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Kd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Jn.lanes|=u,Yd|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,yl(n,t.memoizedState)||(Ts=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Jn.lanes|=i,Yd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tS(e){var t=Po(),r=t.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);yl(i,t.memoizedState)||(Ts=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function JF(){}function ZF(e,t){var r=Jn,n=Po(),a=t(),i=!yl(n.memoizedState,a);if(i&&(n.memoizedState=a,Ts=!0),n=n.queue,tN(r$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qa!==null&&Qa.memoizedState.tag&1){if(r.flags|=2048,mv(9,t$.bind(null,r,n,a,t),void 0,null),ti===null)throw Error(jt(349));Kd&30||e$(r,t,a)}return a}function e$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function t$(e,t,r,n){t.value=r,t.getSnapshot=n,n$(t)&&a$(e)}function r$(e,t,r){return r(function(){n$(t)&&a$(e)})}function n$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yl(e,r)}catch{return!0}}function a$(e){var t=Uc(e,1);t!==null&&pl(t,e,1,-1)}function V6(e){var t=Rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:e},t.queue=e,e=e.dispatch=OQ.bind(null,Jn,e),[t.memoizedState,e]}function mv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function i$(){return Po().memoizedState}function Kx(e,t,r,n){var a=Rl();Jn.flags|=e,a.memoizedState=mv(1|t,r,void 0,n===void 0?null:n)}function Rw(e,t,r,n){var a=Po();n=n===void 0?null:n;var i=void 0;if(Fa!==null){var s=Fa.memoizedState;if(i=s.destroy,n!==null&&JE(n,s.deps)){a.memoizedState=mv(t,r,i,n);return}}Jn.flags|=e,a.memoizedState=mv(1|t,r,i,n)}function z6(e,t){return Kx(8390656,8,e,t)}function tN(e,t){return Rw(2048,8,e,t)}function s$(e,t){return Rw(4,2,e,t)}function o$(e,t){return Rw(4,4,e,t)}function l$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c$(e,t,r){return r=r!=null?r.concat([e]):null,Rw(4,4,l$.bind(null,t,e),r)}function rN(){}function u$(e,t){var r=Po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f$(e,t){var r=Po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function d$(e,t,r){return Kd&21?(yl(r,t)||(r=vF(),Jn.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=r)}function CQ(e,t){var r=gn;gn=r!==0&&4>r?r:4,e(!0);var n=Z_.transition;Z_.transition={};try{e(!1),t()}finally{gn=r,Z_.transition=n}}function h$(){return Po().memoizedState}function PQ(e,t,r){var n=pf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p$(e))m$(t,r);else if(r=YF(e,t,r,n),r!==null){var a=cs();pl(r,e,n,a),g$(r,t,n)}}function OQ(e,t,r){var n=pf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p$(e))m$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,yl(o,s)){var l=t.interleaved;l===null?(a.next=a,GE(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=YF(e,t,a,n),r!==null&&(a=cs(),pl(r,e,n,a),g$(r,t,n))}}function p$(e){var t=e.alternate;return e===Jn||t!==null&&t===Jn}function m$(e,t){wg=I2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function g$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jE(e,r)}}var j2={readContext:Co,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},IQ={readContext:Co,useCallback:function(e,t){return Rl().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:z6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kx(4194308,4,l$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kx(4,2,e,t)},useMemo:function(e,t){var r=Rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=PQ.bind(null,Jn,e),[n.memoizedState,e]},useRef:function(e){var t=Rl();return e={current:e},t.memoizedState=e},useState:V6,useDebugValue:rN,useDeferredValue:function(e){return Rl().memoizedState=e},useTransition:function(){var e=V6(!1),t=e[0];return e=CQ.bind(null,e[1]),Rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jn,a=Rl();if(Wn){if(r===void 0)throw Error(jt(407));r=r()}else{if(r=t(),ti===null)throw Error(jt(349));Kd&30||e$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,z6(r$.bind(null,n,i,e),[e]),n.flags|=2048,mv(9,t$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rl(),t=ti.identifierPrefix;if(Wn){var r=Ec,n=Tc;r=(n&~(1<<32-hl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jQ={readContext:Co,useCallback:u$,useContext:Co,useEffect:tN,useImperativeHandle:c$,useInsertionEffect:s$,useLayoutEffect:o$,useMemo:f$,useReducer:eS,useRef:i$,useState:function(){return eS(pv)},useDebugValue:rN,useDeferredValue:function(e){var t=Po();return d$(t,Fa.memoizedState,e)},useTransition:function(){var e=eS(pv)[0],t=Po().memoizedState;return[e,t]},useMutableSource:JF,useSyncExternalStore:ZF,useId:h$,unstable_isNewReconciler:!1},DQ={readContext:Co,useCallback:u$,useContext:Co,useEffect:tN,useImperativeHandle:c$,useInsertionEffect:s$,useLayoutEffect:o$,useMemo:f$,useReducer:tS,useRef:i$,useState:function(){return tS(pv)},useDebugValue:rN,useDeferredValue:function(e){var t=Po();return Fa===null?t.memoizedState=e:d$(t,Fa.memoizedState,e)},useTransition:function(){var e=tS(pv)[0],t=Po().memoizedState;return[e,t]},useMutableSource:JF,useSyncExternalStore:ZF,useId:h$,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){t=ea({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function f4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ea({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fw={isMounted:function(e){return(e=e._reactInternals)?uh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cs(),a=pf(e),i=Ic(n,a);i.payload=t,r!=null&&(i.callback=r),t=df(e,i,a),t!==null&&(pl(t,e,a,n),Hx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cs(),a=pf(e),i=Ic(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=df(e,i,a),t!==null&&(pl(t,e,a,n),Hx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cs(),n=pf(e),a=Ic(r,n);a.tag=2,t!=null&&(a.callback=t),t=df(e,a,n),t!==null&&(pl(t,e,n,r),Hx(t,e,n))}};function q6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!ov(r,n)||!ov(a,i):!0}function v$(e,t,r){var n=!1,a=kf,i=t.contextType;return typeof i=="object"&&i!==null?i=Co(i):(a=Cs(t)?Hd:Hi.current,n=t.contextTypes,i=(n=n!=null)?K0(e,a):kf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function W6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fw.enqueueReplaceState(t,t.state,null)}function d4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},KE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Co(i):(i=Cs(t)?Hd:Hi.current,a.context=K0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(f4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fw.enqueueReplaceState(a,a.state,null),P2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function J0(e,t){try{var r="",n=t;do r+=lX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function rS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function h4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var LQ=typeof WeakMap=="function"?WeakMap:Map;function y$(e,t,r){r=Ic(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){L2||(L2=!0,S4=n),h4(e,t)},r}function x$(e,t,r){r=Ic(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){h4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){h4(e,t),typeof n!="function"&&(hf===null?hf=new Set([this]):hf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function H6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new LQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=YQ.bind(null,e,t,r),t.then(e,e))}function G6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ic(-1,1),t.tag=2,df(r,t,1))),r.lanes|=1),e)}var MQ=nu.ReactCurrentOwner,Ts=!1;function ts(e,t,r,n){t.child=e===null?KF(t,null,r,n):X0(t,e.child,r,n)}function Y6(e,t,r,n,a){r=r.render;var i=t.ref;return O0(t,a),n=ZE(e,t,r,n,i,a),r=eN(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vc(e,t,a)):(Wn&&r&&UE(t),t.flags|=1,ts(e,t,n,a),t.child)}function X6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!uN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,b$(e,t,i,n,a)):(e=Jx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:ov,r(s,n)&&e.ref===t.ref)return Vc(e,t,a)}return t.flags|=1,e=mf(i,n),e.ref=t.ref,e.return=t,t.child=e}function b$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ov(i,n)&&e.ref===t.ref)if(Ts=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ts=!0);else return t.lanes=e.lanes,Vc(e,t,a)}return p4(e,t,r,n,a)}function w$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(g0,Us),Us|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jn(g0,Us),Us|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,jn(g0,Us),Us|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,jn(g0,Us),Us|=n;return ts(e,t,a,r),t.child}function _$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function p4(e,t,r,n,a){var i=Cs(r)?Hd:Hi.current;return i=K0(t,i),O0(t,a),r=ZE(e,t,r,n,i,a),n=eN(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vc(e,t,a)):(Wn&&n&&UE(t),t.flags|=1,ts(e,t,r,a),t.child)}function Q6(e,t,r,n,a){if(Cs(r)){var i=!0;T2(t)}else i=!1;if(O0(t,a),t.stateNode===null)Yx(e,t),v$(t,r,n),d4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Co(c):(c=Cs(r)?Hd:Hi.current,c=K0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&W6(t,s,n,c),qu=!1;var h=t.memoizedState;s.state=h,P2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ks.current||qu?(typeof u=="function"&&(f4(t,r,u,n),l=t.memoizedState),(o=qu||q6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,XF(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:tl(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Co(l):(l=Cs(r)?Hd:Hi.current,l=K0(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&W6(t,s,n,l),qu=!1,h=t.memoizedState,s.state=h,P2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||ks.current||qu?(typeof p=="function"&&(f4(t,r,p,n),g=t.memoizedState),(c=qu||q6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return m4(e,t,r,n,i,a)}function m4(e,t,r,n,a,i){_$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&M6(t,r,!1),Vc(e,t,i);n=t.stateNode,MQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=X0(t,e.child,null,i),t.child=X0(t,null,o,i)):ts(e,t,o,i),t.memoizedState=n.state,a&&M6(t,r,!0),t.child}function S$(e){var t=e.stateNode;t.pendingContext?L6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L6(e,t.context,!1),YE(e,t.containerInfo)}function J6(e,t,r,n,a){return Y0(),zE(a),t.flags|=256,ts(e,t,r,n),t.child}var g4={dehydrated:null,treeContext:null,retryLane:0};function v4(e){return{baseLanes:e,cachePool:null,transitions:null}}function A$(e,t,r){var n=t.pendingProps,a=Qn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),jn(Qn,a&1),e===null)return c4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Uw(s,n,0,null),e=Fd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=v4(r),t.memoizedState=g4,e):nN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return RQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=mf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mf(o,i):(i=Fd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?v4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=g4,n}return i=e.child,e=i.sibling,n=mf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nN(e,t){return t=Uw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qy(e,t,r,n){return n!==null&&zE(n),X0(t,e.child,null,r),e=nN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=rS(Error(jt(422))),Qy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Uw({mode:"visible",children:n.children},a,0,null),i=Fd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&X0(t,e.child,null,s),t.child.memoizedState=v4(s),t.memoizedState=g4,i);if(!(t.mode&1))return Qy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(jt(419)),n=rS(i,n,void 0),Qy(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ts||o){if(n=ti,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Uc(e,a),pl(n,e,a,-1))}return cN(),n=rS(Error(jt(421))),Qy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=XQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Hs=ff(a.nextSibling),Qs=t,Wn=!0,sl=null,e!==null&&(wo[_o++]=Tc,wo[_o++]=Ec,wo[_o++]=Gd,Tc=e.id,Ec=e.overflow,Gd=t),t=nN(t,n.children),t.flags|=4096,t)}function Z6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),u4(e.return,t,r)}function nS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function T$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ts(e,t,n.children,r),n=Qn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z6(e,r,t);else if(e.tag===19)Z6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jn(Qn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&O2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),nS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&O2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}nS(t,!0,r,null,i);break;case"together":nS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(jt(153));if(t.child!==null){for(e=t.child,r=mf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function FQ(e,t,r){switch(t.tag){case 3:S$(t),Y0();break;case 5:QF(t);break;case 1:Cs(t.type)&&T2(t);break;case 4:YE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;jn(k2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jn(Qn,Qn.current&1),t.flags|=128,null):r&t.child.childLanes?A$(e,t,r):(jn(Qn,Qn.current&1),e=Vc(e,t,r),e!==null?e.sibling:null);jn(Qn,Qn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),jn(Qn,Qn.current),n)break;return null;case 22:case 23:return t.lanes=0,w$(e,t,r)}return Vc(e,t,r)}var E$,y4,N$,k$;E$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};y4=function(){};N$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kd(zl.current);var i=null;switch(r){case"input":a=BA(e,a),n=BA(e,n),i=[];break;case"select":a=ea({},a,{value:void 0}),n=ea({},n,{value:void 0}),i=[];break;case"textarea":a=zA(e,a),n=zA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=S2)}WA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ev.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ev.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};k$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mm(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ti(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $Q(e,t,r){var n=t.pendingProps;switch(VE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(t),null;case 1:return Cs(t.type)&&A2(),Ti(t),null;case 3:return n=t.stateNode,Q0(),Vn(ks),Vn(Hi),QE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sl!==null&&(E4(sl),sl=null))),y4(e,t),Ti(t),null;case 5:XE(t);var a=kd(dv.current);if(r=t.type,e!==null&&t.stateNode!=null)N$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(jt(166));return Ti(t),null}if(e=kd(zl.current),Yy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[$l]=t,n[uv]=i,e=(t.mode&1)!==0,r){case"dialog":Rn("cancel",n),Rn("close",n);break;case"iframe":case"object":case"embed":Rn("load",n);break;case"video":case"audio":for(a=0;a<ag.length;a++)Rn(ag[a],n);break;case"source":Rn("error",n);break;case"img":case"image":case"link":Rn("error",n),Rn("load",n);break;case"details":Rn("toggle",n);break;case"input":l6(n,i),Rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Rn("invalid",n);break;case"textarea":u6(n,i),Rn("invalid",n)}WA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),a=["children",""+o]):ev.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Rn("scroll",n)}switch(r){case"input":By(n),c6(n,i,!0);break;case"textarea":By(n),f6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=S2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[$l]=t,e[uv]=n,E$(e,t,!1,!1),t.stateNode=e;e:{switch(s=HA(r,n),r){case"dialog":Rn("cancel",e),Rn("close",e),a=n;break;case"iframe":case"object":case"embed":Rn("load",e),a=n;break;case"video":case"audio":for(a=0;a<ag.length;a++)Rn(ag[a],e);a=n;break;case"source":Rn("error",e),a=n;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),a=n;break;case"details":Rn("toggle",e),a=n;break;case"input":l6(e,n),a=BA(e,n),Rn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ea({},n,{value:void 0}),Rn("invalid",e);break;case"textarea":u6(e,n),a=zA(e,n),Rn("invalid",e);break;default:a=n}WA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?iF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&tv(e,l):typeof l=="number"&&tv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ev.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Rn("scroll",e):l!=null&&NE(e,i,l,s))}switch(r){case"input":By(e),c6(e,n,!1);break;case"textarea":By(e),f6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?N0(e,!!n.multiple,i,!1):n.defaultValue!=null&&N0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=S2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ti(t),null;case 6:if(e&&t.stateNode!=null)k$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(jt(166));if(r=kd(dv.current),kd(zl.current),Yy(t)){if(n=t.stateNode,r=t.memoizedProps,n[$l]=t,(i=n.nodeValue!==r)&&(e=Qs,e!==null))switch(e.tag){case 3:Ky(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ky(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$l]=t,t.stateNode=n}return Ti(t),null;case 13:if(Vn(Qn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wn&&Hs!==null&&t.mode&1&&!(t.flags&128))HF(),Y0(),t.flags|=98560,i=!1;else if(i=Yy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(jt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(jt(317));i[$l]=t}else Y0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ti(t),i=!1}else sl!==null&&(E4(sl),sl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qn.current&1?$a===0&&($a=3):cN())),t.updateQueue!==null&&(t.flags|=4),Ti(t),null);case 4:return Q0(),y4(e,t),e===null&&lv(t.stateNode.containerInfo),Ti(t),null;case 10:return HE(t.type._context),Ti(t),null;case 17:return Cs(t.type)&&A2(),Ti(t),null;case 19:if(Vn(Qn),i=t.memoizedState,i===null)return Ti(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Mm(i,!1);else{if($a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=O2(e),s!==null){for(t.flags|=128,Mm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jn(Qn,Qn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ma()>Z0&&(t.flags|=128,n=!0,Mm(i,!1),t.lanes=4194304)}else{if(!n)if(e=O2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Wn)return Ti(t),null}else 2*ma()-i.renderingStartTime>Z0&&r!==1073741824&&(t.flags|=128,n=!0,Mm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ma(),t.sibling=null,r=Qn.current,jn(Qn,n?r&1|2:r&1),t):(Ti(t),null);case 22:case 23:return lN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Us&1073741824&&(Ti(t),t.subtreeFlags&6&&(t.flags|=8192)):Ti(t),null;case 24:return null;case 25:return null}throw Error(jt(156,t.tag))}function BQ(e,t){switch(VE(t),t.tag){case 1:return Cs(t.type)&&A2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Q0(),Vn(ks),Vn(Hi),QE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return XE(t),null;case 13:if(Vn(Qn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(jt(340));Y0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(Qn),null;case 4:return Q0(),null;case 10:return HE(t.type._context),null;case 22:case 23:return lN(),null;case 24:return null;default:return null}}var Jy=!1,Mi=!1,UQ=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function m0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sa(e,t,n)}else r.current=null}function x4(e,t,r){try{r()}catch(n){sa(e,t,n)}}var eO=!1;function VQ(e,t){if(r4=b2,e=jF(),BE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(n4={focusedElem:e,selectionRange:r},b2=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){t=Zt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:tl(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(jt(163))}}catch(I){sa(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}return g=eO,eO=!1,g}function _g(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&x4(t,r,i)}a=a.next}while(a!==n)}}function $w(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function b4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C$(e){var t=e.alternate;t!==null&&(e.alternate=null,C$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$l],delete t[uv],delete t[s4],delete t[AQ],delete t[TQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P$(e){return e.tag===5||e.tag===3||e.tag===4}function tO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function w4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=S2));else if(n!==4&&(e=e.child,e!==null))for(w4(e,t,r),e=e.sibling;e!==null;)w4(e,t,r),e=e.sibling}function _4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_4(e,t,r),e=e.sibling;e!==null;)_4(e,t,r),e=e.sibling}var ci=null,nl=!1;function Mu(e,t,r){for(r=r.child;r!==null;)O$(e,t,r),r=r.sibling}function O$(e,t,r){if(Vl&&typeof Vl.onCommitFiberUnmount=="function")try{Vl.onCommitFiberUnmount(Ow,r)}catch{}switch(r.tag){case 5:Mi||m0(r,t);case 6:var n=ci,a=nl;ci=null,Mu(e,t,r),ci=n,nl=a,ci!==null&&(nl?(e=ci,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ci.removeChild(r.stateNode));break;case 18:ci!==null&&(nl?(e=ci,r=r.stateNode,e.nodeType===8?X_(e.parentNode,r):e.nodeType===1&&X_(e,r),iv(e)):X_(ci,r.stateNode));break;case 4:n=ci,a=nl,ci=r.stateNode.containerInfo,nl=!0,Mu(e,t,r),ci=n,nl=a;break;case 0:case 11:case 14:case 15:if(!Mi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&x4(r,t,s),a=a.next}while(a!==n)}Mu(e,t,r);break;case 1:if(!Mi&&(m0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sa(r,t,o)}Mu(e,t,r);break;case 21:Mu(e,t,r);break;case 22:r.mode&1?(Mi=(n=Mi)||r.memoizedState!==null,Mu(e,t,r),Mi=n):Mu(e,t,r);break;default:Mu(e,t,r)}}function rO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new UQ),t.forEach(function(n){var a=QQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ko(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ci=o.stateNode,nl=!1;break e;case 3:ci=o.stateNode.containerInfo,nl=!0;break e;case 4:ci=o.stateNode.containerInfo,nl=!0;break e}o=o.return}if(ci===null)throw Error(jt(160));O$(i,s,a),ci=null,nl=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){sa(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I$(t,e),t=t.sibling}function I$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ko(t,e),jl(e),n&4){try{_g(3,e,e.return),$w(3,e)}catch(m){sa(e,e.return,m)}try{_g(5,e,e.return)}catch(m){sa(e,e.return,m)}}break;case 1:Ko(t,e),jl(e),n&512&&r!==null&&m0(r,r.return);break;case 5:if(Ko(t,e),jl(e),n&512&&r!==null&&m0(r,r.return),e.flags&32){var a=e.stateNode;try{tv(a,"")}catch(m){sa(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&eF(a,i),HA(o,s);var c=HA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?iF(a,f):u==="dangerouslySetInnerHTML"?nF(a,f):u==="children"?tv(a,f):NE(a,u,f,c)}switch(o){case"input":UA(a,i);break;case"textarea":tF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?N0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?N0(a,!!i.multiple,i.defaultValue,!0):N0(a,!!i.multiple,i.multiple?[]:"",!1))}a[uv]=i}catch(m){sa(e,e.return,m)}}break;case 6:if(Ko(t,e),jl(e),n&4){if(e.stateNode===null)throw Error(jt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){sa(e,e.return,m)}}break;case 3:if(Ko(t,e),jl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{iv(t.containerInfo)}catch(m){sa(e,e.return,m)}break;case 4:Ko(t,e),jl(e);break;case 13:Ko(t,e),jl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(sN=ma())),n&4&&rO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Mi=(c=Mi)||u,Ko(t,e),Mi=c):Ko(t,e),jl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Zt=e,u=e.child;u!==null;){for(f=Zt=u;Zt!==null;){switch(h=Zt,p=h.child,h.tag){case 0:case 11:case 14:case 15:_g(4,h,h.return);break;case 1:m0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){sa(n,r,m)}}break;case 5:m0(h,h.return);break;case 22:if(h.memoizedState!==null){aO(f);continue}}p!==null?(p.return=h,Zt=p):aO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aF("display",s))}catch(m){sa(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){sa(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ko(t,e),jl(e),n&4&&rO(e);break;case 21:break;default:Ko(t,e),jl(e)}}function jl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P$(r)){var n=r;break e}r=r.return}throw Error(jt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tv(a,""),n.flags&=-33);var i=tO(e);_4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=tO(e);w4(e,o,s);break;default:throw Error(jt(161))}}catch(l){sa(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zQ(e,t,r){Zt=e,j$(e)}function j$(e,t,r){for(var n=(e.mode&1)!==0;Zt!==null;){var a=Zt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Jy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Mi;o=Jy;var c=Mi;if(Jy=s,(Mi=l)&&!c)for(Zt=a;Zt!==null;)s=Zt,l=s.child,s.tag===22&&s.memoizedState!==null?iO(a):l!==null?(l.return=s,Zt=l):iO(a);for(;i!==null;)Zt=i,j$(i),i=i.sibling;Zt=a,Jy=o,Mi=c}nO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Zt=i):nO(e)}}function nO(e){for(;Zt!==null;){var t=Zt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mi||$w(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&U6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}U6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&iv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(jt(163))}Mi||t.flags&512&&b4(t)}catch(h){sa(t,t.return,h)}}if(t===e){Zt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Zt=r;break}Zt=t.return}}function aO(e){for(;Zt!==null;){var t=Zt;if(t===e){Zt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Zt=r;break}Zt=t.return}}function iO(e){for(;Zt!==null;){var t=Zt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$w(4,t)}catch(l){sa(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){sa(t,a,l)}}var i=t.return;try{b4(t)}catch(l){sa(t,i,l)}break;case 5:var s=t.return;try{b4(t)}catch(l){sa(t,s,l)}}}catch(l){sa(t,t.return,l)}if(t===e){Zt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Zt=o;break}Zt=t.return}}var qQ=Math.ceil,D2=nu.ReactCurrentDispatcher,aN=nu.ReactCurrentOwner,To=nu.ReactCurrentBatchConfig,Xr=0,ti=null,Pa=null,vi=0,Us=0,g0=Uf(0),$a=0,gv=null,Yd=0,Bw=0,iN=0,Sg=null,Ss=null,sN=0,Z0=1/0,_c=null,L2=!1,S4=null,hf=null,Zy=!1,Zu=null,M2=0,Ag=0,A4=null,Xx=-1,Qx=0;function cs(){return Xr&6?ma():Xx!==-1?Xx:Xx=ma()}function pf(e){return e.mode&1?Xr&2&&vi!==0?vi&-vi:NQ.transition!==null?(Qx===0&&(Qx=vF()),Qx):(e=gn,e!==0||(e=window.event,e=e===void 0?16:AF(e.type)),e):1}function pl(e,t,r,n){if(50<Ag)throw Ag=0,A4=null,Error(jt(185));I1(e,r,n),(!(Xr&2)||e!==ti)&&(e===ti&&(!(Xr&2)&&(Bw|=r),$a===4&&Gu(e,vi)),Ps(e,n),r===1&&Xr===0&&!(t.mode&1)&&(Z0=ma()+500,Mw&&Vf()))}function Ps(e,t){var r=e.callbackNode;NX(e,t);var n=x2(e,e===ti?vi:0);if(n===0)r!==null&&p6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&p6(r),t===1)e.tag===0?EQ(sO.bind(null,e)):zF(sO.bind(null,e)),_Q(function(){!(Xr&6)&&Vf()}),r=null;else{switch(yF(n)){case 1:r=IE;break;case 4:r=mF;break;case 16:r=y2;break;case 536870912:r=gF;break;default:r=y2}r=U$(r,D$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D$(e,t){if(Xx=-1,Qx=0,Xr&6)throw Error(jt(327));var r=e.callbackNode;if(I0()&&e.callbackNode!==r)return null;var n=x2(e,e===ti?vi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=R2(e,n);else{t=n;var a=Xr;Xr|=2;var i=M$();(ti!==e||vi!==t)&&(_c=null,Z0=ma()+500,Rd(e,t));do try{GQ();break}catch(o){L$(e,o)}while(!0);WE(),D2.current=i,Xr=a,Pa!==null?t=0:(ti=null,vi=0,t=$a)}if(t!==0){if(t===2&&(a=QA(e),a!==0&&(n=a,t=T4(e,a))),t===1)throw r=gv,Rd(e,0),Gu(e,n),Ps(e,ma()),r;if(t===6)Gu(e,n);else{if(a=e.current.alternate,!(n&30)&&!WQ(a)&&(t=R2(e,n),t===2&&(i=QA(e),i!==0&&(n=i,t=T4(e,i))),t===1))throw r=gv,Rd(e,0),Gu(e,n),Ps(e,ma()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(jt(345));case 2:gd(e,Ss,_c);break;case 3:if(Gu(e,n),(n&130023424)===n&&(t=sN+500-ma(),10<t)){if(x2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=i4(gd.bind(null,e,Ss,_c),t);break}gd(e,Ss,_c);break;case 4:if(Gu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-hl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ma()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qQ(n/1960))-n,10<n){e.timeoutHandle=i4(gd.bind(null,e,Ss,_c),n);break}gd(e,Ss,_c);break;case 5:gd(e,Ss,_c);break;default:throw Error(jt(329))}}}return Ps(e,ma()),e.callbackNode===r?D$.bind(null,e):null}function T4(e,t){var r=Sg;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=R2(e,t),e!==2&&(t=Ss,Ss=r,t!==null&&E4(t)),e}function E4(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function WQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!yl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gu(e,t){for(t&=~iN,t&=~Bw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hl(t),n=1<<r;e[r]=-1,t&=~n}}function sO(e){if(Xr&6)throw Error(jt(327));I0();var t=x2(e,0);if(!(t&1))return Ps(e,ma()),null;var r=R2(e,t);if(e.tag!==0&&r===2){var n=QA(e);n!==0&&(t=n,r=T4(e,n))}if(r===1)throw r=gv,Rd(e,0),Gu(e,t),Ps(e,ma()),r;if(r===6)throw Error(jt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,Ss,_c),Ps(e,ma()),null}function oN(e,t){var r=Xr;Xr|=1;try{return e(t)}finally{Xr=r,Xr===0&&(Z0=ma()+500,Mw&&Vf())}}function Xd(e){Zu!==null&&Zu.tag===0&&!(Xr&6)&&I0();var t=Xr;Xr|=1;var r=To.transition,n=gn;try{if(To.transition=null,gn=1,e)return e()}finally{gn=n,To.transition=r,Xr=t,!(Xr&6)&&Vf()}}function lN(){Us=g0.current,Vn(g0)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wQ(r)),Pa!==null)for(r=Pa.return;r!==null;){var n=r;switch(VE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&A2();break;case 3:Q0(),Vn(ks),Vn(Hi),QE();break;case 5:XE(n);break;case 4:Q0();break;case 13:Vn(Qn);break;case 19:Vn(Qn);break;case 10:HE(n.type._context);break;case 22:case 23:lN()}r=r.return}if(ti=e,Pa=e=mf(e.current,null),vi=Us=t,$a=0,gv=null,iN=Bw=Yd=0,Ss=Sg=null,Nd!==null){for(t=0;t<Nd.length;t++)if(r=Nd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Nd=null}return e}function L$(e,t){do{var r=Pa;try{if(WE(),Gx.current=j2,I2){for(var n=Jn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}I2=!1}if(Kd=0,Qa=Fa=Jn=null,wg=!1,hv=0,aN.current=null,r===null||r.return===null){$a=1,gv=t,Pa=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=vi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=G6(s);if(p!==null){p.flags&=-257,K6(p,s,o,i,t),p.mode&1&&H6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){H6(i,c,t),cN();break e}l=Error(jt(426))}}else if(Wn&&o.mode&1){var v=G6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),K6(v,s,o,i,t),zE(J0(l,o));break e}}i=l=J0(l,o),$a!==4&&($a=2),Sg===null?Sg=[i]:Sg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=y$(i,l,t);B6(i,y);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hf===null||!hf.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var I=x$(i,o,t);B6(i,I);break e}}i=i.return}while(i!==null)}F$(r)}catch(C){t=C,Pa===r&&r!==null&&(Pa=r=r.return);continue}break}while(!0)}function M$(){var e=D2.current;return D2.current=j2,e===null?j2:e}function cN(){($a===0||$a===3||$a===2)&&($a=4),ti===null||!(Yd&268435455)&&!(Bw&268435455)||Gu(ti,vi)}function R2(e,t){var r=Xr;Xr|=2;var n=M$();(ti!==e||vi!==t)&&(_c=null,Rd(e,t));do try{HQ();break}catch(a){L$(e,a)}while(!0);if(WE(),Xr=r,D2.current=n,Pa!==null)throw Error(jt(261));return ti=null,vi=0,$a}function HQ(){for(;Pa!==null;)R$(Pa)}function GQ(){for(;Pa!==null&&!yX();)R$(Pa)}function R$(e){var t=B$(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?F$(e):Pa=t,aN.current=null}function F$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=BQ(r,t),r!==null){r.flags&=32767,Pa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$a=6,Pa=null;return}}else if(r=$Q(r,t,Us),r!==null){Pa=r;return}if(t=t.sibling,t!==null){Pa=t;return}Pa=t=e}while(t!==null);$a===0&&($a=5)}function gd(e,t,r){var n=gn,a=To.transition;try{To.transition=null,gn=1,KQ(e,t,r,n)}finally{To.transition=a,gn=n}return null}function KQ(e,t,r,n){do I0();while(Zu!==null);if(Xr&6)throw Error(jt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(jt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kX(e,i),e===ti&&(Pa=ti=null,vi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zy||(Zy=!0,U$(y2,function(){return I0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=To.transition,To.transition=null;var s=gn;gn=1;var o=Xr;Xr|=4,aN.current=null,VQ(e,r),I$(r,e),pQ(n4),b2=!!r4,n4=r4=null,e.current=r,zQ(r),xX(),Xr=o,gn=s,To.transition=i}else e.current=r;if(Zy&&(Zy=!1,Zu=e,M2=a),i=e.pendingLanes,i===0&&(hf=null),_X(r.stateNode),Ps(e,ma()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(L2)throw L2=!1,e=S4,S4=null,e;return M2&1&&e.tag!==0&&I0(),i=e.pendingLanes,i&1?e===A4?Ag++:(Ag=0,A4=e):Ag=0,Vf(),null}function I0(){if(Zu!==null){var e=yF(M2),t=To.transition,r=gn;try{if(To.transition=null,gn=16>e?16:e,Zu===null)var n=!1;else{if(e=Zu,Zu=null,M2=0,Xr&6)throw Error(jt(331));var a=Xr;for(Xr|=4,Zt=e.current;Zt!==null;){var i=Zt,s=i.child;if(Zt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Zt=c;Zt!==null;){var u=Zt;switch(u.tag){case 0:case 11:case 15:_g(8,u,i)}var f=u.child;if(f!==null)f.return=u,Zt=f;else for(;Zt!==null;){u=Zt;var h=u.sibling,p=u.return;if(C$(u),u===c){Zt=null;break}if(h!==null){h.return=p,Zt=h;break}Zt=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Zt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Zt=s;else e:for(;Zt!==null;){if(i=Zt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_g(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Zt=y;break e}Zt=i.return}}var w=e.current;for(Zt=w;Zt!==null;){s=Zt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Zt=b;else e:for(s=w;Zt!==null;){if(o=Zt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$w(9,o)}}catch(C){sa(o,o.return,C)}if(o===s){Zt=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Zt=I;break e}Zt=o.return}}if(Xr=a,Vf(),Vl&&typeof Vl.onPostCommitFiberRoot=="function")try{Vl.onPostCommitFiberRoot(Ow,e)}catch{}n=!0}return n}finally{gn=r,To.transition=t}}return!1}function oO(e,t,r){t=J0(r,t),t=y$(e,t,1),e=df(e,t,1),t=cs(),e!==null&&(I1(e,1,t),Ps(e,t))}function sa(e,t,r){if(e.tag===3)oO(e,e,r);else for(;t!==null;){if(t.tag===3){oO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hf===null||!hf.has(n))){e=J0(r,e),e=x$(t,e,1),t=df(t,e,1),e=cs(),t!==null&&(I1(t,1,e),Ps(t,e));break}}t=t.return}}function YQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&r,ti===e&&(vi&r)===r&&($a===4||$a===3&&(vi&130023424)===vi&&500>ma()-sN?Rd(e,0):iN|=r),Ps(e,t)}function $$(e,t){t===0&&(e.mode&1?(t=zy,zy<<=1,!(zy&130023424)&&(zy=4194304)):t=1);var r=cs();e=Uc(e,t),e!==null&&(I1(e,t,r),Ps(e,r))}function XQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$$(e,r)}function QQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(jt(314))}n!==null&&n.delete(t),$$(e,r)}var B$;B$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ks.current)Ts=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ts=!1,FQ(e,t,r);Ts=!!(e.flags&131072)}else Ts=!1,Wn&&t.flags&1048576&&qF(t,N2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yx(e,t),e=t.pendingProps;var a=K0(t,Hi.current);O0(t,r),a=ZE(null,t,n,e,a,r);var i=eN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(n)?(i=!0,T2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,KE(t),a.updater=Fw,t.stateNode=a,a._reactInternals=t,d4(t,n,e,r),t=m4(null,t,n,!0,i,r)):(t.tag=0,Wn&&i&&UE(t),ts(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=ZQ(n),e=tl(n,e),a){case 0:t=p4(null,t,n,e,r);break e;case 1:t=Q6(null,t,n,e,r);break e;case 11:t=Y6(null,t,n,e,r);break e;case 14:t=X6(null,t,n,tl(n.type,e),r);break e}throw Error(jt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),p4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Q6(e,t,n,a,r);case 3:e:{if(S$(t),e===null)throw Error(jt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,XF(e,t),P2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=J0(Error(jt(423)),t),t=J6(e,t,n,r,a);break e}else if(n!==a){a=J0(Error(jt(424)),t),t=J6(e,t,n,r,a);break e}else for(Hs=ff(t.stateNode.containerInfo.firstChild),Qs=t,Wn=!0,sl=null,r=KF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Y0(),n===a){t=Vc(e,t,r);break e}ts(e,t,n,r)}t=t.child}return t;case 5:return QF(t),e===null&&c4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,a4(n,a)?s=null:i!==null&&a4(n,i)&&(t.flags|=32),_$(e,t),ts(e,t,s,r),t.child;case 6:return e===null&&c4(t),null;case 13:return A$(e,t,r);case 4:return YE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=X0(t,null,n,r):ts(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Y6(e,t,n,a,r);case 7:return ts(e,t,t.pendingProps,r),t.child;case 8:return ts(e,t,t.pendingProps.children,r),t.child;case 12:return ts(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,jn(k2,n._currentValue),n._currentValue=s,i!==null)if(yl(i.value,s)){if(i.children===a.children&&!ks.current){t=Vc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ic(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),u4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(jt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),u4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ts(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,O0(t,r),a=Co(a),n=n(a),t.flags|=1,ts(e,t,n,r),t.child;case 14:return n=t.type,a=tl(n,t.pendingProps),a=tl(n.type,a),X6(e,t,n,a,r);case 15:return b$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Yx(e,t),t.tag=1,Cs(n)?(e=!0,T2(t)):e=!1,O0(t,r),v$(t,n,a),d4(t,n,a,r),m4(null,t,n,!0,e,r);case 19:return T$(e,t,r);case 22:return w$(e,t,r)}throw Error(jt(156,t.tag))};function U$(e,t){return pF(e,t)}function JQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function So(e,t,r,n){return new JQ(e,t,r,n)}function uN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZQ(e){if(typeof e=="function")return uN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CE)return 11;if(e===PE)return 14}return 2}function mf(e,t){var r=e.alternate;return r===null?(r=So(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")uN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case s0:return Fd(r.children,a,i,t);case kE:s=8,a|=8;break;case MA:return e=So(12,r,t,a|2),e.elementType=MA,e.lanes=i,e;case RA:return e=So(13,r,t,a),e.elementType=RA,e.lanes=i,e;case FA:return e=So(19,r,t,a),e.elementType=FA,e.lanes=i,e;case QR:return Uw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YR:s=10;break e;case XR:s=9;break e;case CE:s=11;break e;case PE:s=14;break e;case zu:s=16,n=null;break e}throw Error(jt(130,e==null?e:typeof e,""))}return t=So(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Fd(e,t,r,n){return e=So(7,e,n,t),e.lanes=r,e}function Uw(e,t,r,n){return e=So(22,e,n,t),e.elementType=QR,e.lanes=r,e.stateNode={isHidden:!1},e}function aS(e,t,r){return e=So(6,e,null,t),e.lanes=r,e}function iS(e,t,r){return t=So(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fN(e,t,r,n,a,i,s,o,l){return e=new eJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=So(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},KE(i),e}function tJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V$(e){if(!e)return kf;e=e._reactInternals;e:{if(uh(e)!==e||e.tag!==1)throw Error(jt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(jt(171))}if(e.tag===1){var r=e.type;if(Cs(r))return VF(e,r,t)}return t}function z$(e,t,r,n,a,i,s,o,l){return e=fN(r,n,!0,e,a,i,s,o,l),e.context=V$(null),r=e.current,n=cs(),a=pf(r),i=Ic(n,a),i.callback=t??null,df(r,i,a),e.current.lanes=a,I1(e,a,n),Ps(e,n),e}function Vw(e,t,r,n){var a=t.current,i=cs(),s=pf(a);return r=V$(r),t.context===null?t.context=r:t.pendingContext=r,t=Ic(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=df(a,t,s),e!==null&&(pl(e,a,s,i),Hx(e,a,s)),s}function F2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dN(e,t){lO(e,t),(e=e.alternate)&&lO(e,t)}function rJ(){return null}var q$=typeof reportError=="function"?reportError:function(e){console.error(e)};function hN(e){this._internalRoot=e}zw.prototype.render=hN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(jt(409));Vw(e,t,null,null)};zw.prototype.unmount=hN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){Vw(null,e,null,null)}),t[Bc]=null}};function zw(e){this._internalRoot=e}zw.prototype.unstable_scheduleHydration=function(e){if(e){var t=wF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hu.length&&t!==0&&t<Hu[r].priority;r++);Hu.splice(r,0,e),r===0&&SF(e)}};function pN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cO(){}function nJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=F2(s);i.call(c)}}var s=z$(t,n,e,0,null,!1,!1,"",cO);return e._reactRootContainer=s,e[Bc]=s.current,lv(e.nodeType===8?e.parentNode:e),Xd(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=F2(l);o.call(c)}}var l=fN(e,0,!1,null,null,!1,!1,"",cO);return e._reactRootContainer=l,e[Bc]=l.current,lv(e.nodeType===8?e.parentNode:e),Xd(function(){Vw(t,l,r,n)}),l}function Ww(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=F2(s);o.call(l)}}Vw(t,s,e,a)}else s=nJ(r,t,e,a,n);return F2(s)}xF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ng(t.pendingLanes);r!==0&&(jE(t,r|1),Ps(t,ma()),!(Xr&6)&&(Z0=ma()+500,Vf()))}break;case 13:Xd(function(){var n=Uc(e,1);if(n!==null){var a=cs();pl(n,e,1,a)}}),dN(e,1)}};DE=function(e){if(e.tag===13){var t=Uc(e,134217728);if(t!==null){var r=cs();pl(t,e,134217728,r)}dN(e,134217728)}};bF=function(e){if(e.tag===13){var t=pf(e),r=Uc(e,t);if(r!==null){var n=cs();pl(r,e,t,n)}dN(e,t)}};wF=function(){return gn};_F=function(e,t){var r=gn;try{return gn=e,t()}finally{gn=r}};KA=function(e,t,r){switch(t){case"input":if(UA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Lw(n);if(!a)throw Error(jt(90));ZR(n),UA(n,a)}}}break;case"textarea":tF(e,r);break;case"select":t=r.value,t!=null&&N0(e,!!r.multiple,t,!1)}};lF=oN;cF=Xd;var aJ={usingClientEntryPoint:!1,Events:[D1,u0,Lw,sF,oF,oN]},Rm={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iJ={bundleType:Rm.bundleType,version:Rm.version,rendererPackageName:Rm.rendererPackageName,rendererConfig:Rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dF(e),e===null?null:e.stateNode},findFiberByHostInstance:Rm.findFiberByHostInstance||rJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ex.isDisabled&&ex.supportsFiber)try{Ow=ex.inject(iJ),Vl=ex}catch{}}to.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aJ;to.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pN(t))throw Error(jt(200));return tJ(e,t,null,r)};to.createRoot=function(e,t){if(!pN(e))throw Error(jt(299));var r=!1,n="",a=q$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=fN(e,1,!1,null,null,r,!1,n,a),e[Bc]=t.current,lv(e.nodeType===8?e.parentNode:e),new hN(t)};to.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(jt(188)):(e=Object.keys(e).join(","),Error(jt(268,e)));return e=dF(t),e=e===null?null:e.stateNode,e};to.flushSync=function(e){return Xd(e)};to.hydrate=function(e,t,r){if(!qw(t))throw Error(jt(200));return Ww(null,e,t,!0,r)};to.hydrateRoot=function(e,t,r){if(!pN(e))throw Error(jt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=q$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=z$(t,null,e,1,r??null,a,!1,i,s),e[Bc]=t.current,lv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new zw(t)};to.render=function(e,t,r){if(!qw(t))throw Error(jt(200));return Ww(null,e,t,!1,r)};to.unmountComponentAtNode=function(e){if(!qw(e))throw Error(jt(40));return e._reactRootContainer?(Xd(function(){Ww(null,null,e,!1,function(){e._reactRootContainer=null,e[Bc]=null})}),!0):!1};to.unstable_batchedUpdates=oN;to.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qw(r))throw Error(jt(200));if(e==null||e._reactInternals===void 0)throw Error(jt(38));return Ww(e,t,r,!1,n)};to.version="18.3.1-next-f1338f8080-20240426";function W$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W$)}catch(e){console.error(e)}}W$(),WR.exports=to;var sJ=WR.exports,H$,uO=sJ;H$=uO.createRoot,uO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}var ef;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ef||(ef={}));const fO="popstate";function oJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return N4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$2(a)}return cJ(t,r,null,e)}function Zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lJ(){return Math.random().toString(36).substr(2,8)}function dO(e,t){return{usr:e.state,key:e.key,idx:t}}function N4(e,t,r,n){return r===void 0&&(r=null),vv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$p(t):t,{state:r,key:t&&t.key||n||lJ()})}function $2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=ef.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(vv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=ef.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=ef.Push;let w=N4(m.location,v,y);c=u()+1;let b=dO(w,c),I=m.createHref(w);try{s.pushState(b,"",I)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(I)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=ef.Replace;let w=N4(m.location,v,y);c=u();let b=dO(w,c),I=m.createHref(w);s.replaceState(b,"",I),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:$2(v);return w=w.replace(/ $/,"%20"),Zn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(fO,f),l=v,()=>{a.removeEventListener(fO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var hO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hO||(hO={}));function uJ(e,t,r){return r===void 0&&(r="/"),fJ(e,t,r,!1)}function fJ(e,t,r,n){let a=typeof t=="string"?$p(t):t,i=ep(a.pathname||"/",r);if(i==null)return null;let s=K$(e);dJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=SJ(i);o=wJ(s[l],c,n)}return o}function K$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Zn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=gf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),K$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:xJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of Y$(i.path))a(i,s,l)}),t}function Y$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Y$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function dJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hJ=/^:[\w-]+$/,pJ=3,mJ=2,gJ=1,vJ=10,yJ=-2,pO=e=>e==="*";function xJ(e,t){let r=e.split("/"),n=r.length;return r.some(pO)&&(n+=yJ),t&&(n+=mJ),r.filter(a=>!pO(a)).reduce((a,i)=>a+(hJ.test(i)?pJ:i===""?gJ:vJ),n)}function bJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=B2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=B2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:gf([i,f.pathname]),pathnameBase:NJ(gf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gf([i,f.pathnameBase]))}return s}function B2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_J(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function _J(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),G$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function SJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ep(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function AJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?$p(e):e;return{pathname:r?r.startsWith("/")?r:TJ(r,t):t,search:kJ(n),hash:CJ(a)}}function TJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mN(e,t){let r=EJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=$p(e):(a=vv({},e),Zn(!a.pathname||!a.pathname.includes("?"),sS("?","pathname","search",a)),Zn(!a.pathname||!a.pathname.includes("#"),sS("#","pathname","hash",a)),Zn(!a.search||!a.search.includes("#"),sS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=AJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const gf=e=>e.join("/").replace(/\/\/+/g,"/"),NJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X$=["post","put","patch","delete"];new Set(X$);const OJ=["get",...X$];new Set(OJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}const Hw=U.createContext(null),Q$=U.createContext(null),au=U.createContext(null),Gw=U.createContext(null),iu=U.createContext({outlet:null,matches:[],isDataRoute:!1}),J$=U.createContext(null);function IJ(e,t){let{relative:r}=t===void 0?{}:t;Bp()||Zn(!1);let{basename:n,navigator:a}=U.useContext(au),{hash:i,pathname:s,search:o}=Kw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:gf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Bp(){return U.useContext(Gw)!=null}function Up(){return Bp()||Zn(!1),U.useContext(Gw).location}function Z$(e){U.useContext(au).static||U.useLayoutEffect(e)}function M1(){let{isDataRoute:e}=U.useContext(iu);return e?GJ():jJ()}function jJ(){Bp()||Zn(!1);let e=U.useContext(Hw),{basename:t,future:r,navigator:n}=U.useContext(au),{matches:a}=U.useContext(iu),{pathname:i}=Up(),s=JSON.stringify(mN(a,r.v7_relativeSplatPath)),o=U.useRef(!1);return Z$(()=>{o.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=gN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const DJ=U.createContext(null);function LJ(e){let t=U.useContext(iu).outlet;return t&&U.createElement(DJ.Provider,{value:e},t)}function Kw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=U.useContext(au),{matches:a}=U.useContext(iu),{pathname:i}=Up(),s=JSON.stringify(mN(a,n.v7_relativeSplatPath));return U.useMemo(()=>gN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function MJ(e,t){return RJ(e,t)}function RJ(e,t,r,n){Bp()||Zn(!1);let{navigator:a,static:i}=U.useContext(au),{matches:s}=U.useContext(iu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Up(),f;if(t){var h;let y=typeof t=="string"?$p(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Zn(!1),f=y}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:uJ(e,{pathname:g}),v=VJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?U.createElement(Gw.Provider,{value:{location:yv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ef.Pop}},v):v}function FJ(){let e=HJ(),t=PJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:a},r):null,null)}const $J=U.createElement(FJ,null);class BJ extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?U.createElement(iu.Provider,{value:this.props.routeContext},U.createElement(J$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UJ(e){let{routeContext:t,match:r,children:n}=e,a=U.useContext(Hw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(iu.Provider,{value:t},n)}function VJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Zn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||$J,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=v:f.route.Component?b=U.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,U.createElement(UJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(BJ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var e9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e9||{}),U2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(U2||{});function zJ(e){let t=U.useContext(Hw);return t||Zn(!1),t}function qJ(e){let t=U.useContext(Q$);return t||Zn(!1),t}function WJ(e){let t=U.useContext(iu);return t||Zn(!1),t}function t9(e){let t=WJ(),r=t.matches[t.matches.length-1];return r.route.id||Zn(!1),r.route.id}function HJ(){var e;let t=U.useContext(J$),r=qJ(U2.UseRouteError),n=t9(U2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GJ(){let{router:e}=zJ(e9.UseNavigateStable),t=t9(U2.UseNavigateStable),r=U.useRef(!1);return Z$(()=>{r.current=!0}),U.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,yv({fromRouteId:t},i)))},[e,t])}function KJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function k4(e){let{to:t,replace:r,state:n,relative:a}=e;Bp()||Zn(!1);let{future:i,static:s}=U.useContext(au),{matches:o}=U.useContext(iu),{pathname:l}=Up(),c=M1(),u=gN(t,mN(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function YJ(e){return LJ(e.context)}function es(e){Zn(!1)}function XJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ef.Pop,navigator:i,static:s=!1,future:o}=e;Bp()&&Zn(!1);let l=t.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:i,static:s,future:yv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=$p(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=U.useMemo(()=>{let v=ep(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[l,u,f,h,p,g,a]);return m==null?null:U.createElement(au.Provider,{value:c},U.createElement(Gw.Provider,{children:r,value:m}))}function QJ(e){let{children:t,location:r}=e;return MJ(C4(t),r)}new Promise(()=>{});function C4(e,t){t===void 0&&(t=[]);let r=[];return U.Children.forEach(e,(n,a)=>{if(!U.isValidElement(n))return;let i=[...t,a];if(n.type===U.Fragment){r.push.apply(r,C4(n.props.children,i));return}n.type!==es&&Zn(!1),!n.props.index||!n.props.children||Zn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=C4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V2.apply(this,arguments)}function r9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function JJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZJ(e,t){return e.button===0&&(!t||t==="_self")&&!JJ(e)}const eZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rZ="6";try{window.__reactRouterVersion=rZ}catch{}const nZ=U.createContext({isTransitioning:!1}),aZ="startTransition",mO=YY[aZ];function iZ(e){let{basename:t,children:r,future:n,window:a}=e,i=U.useRef();i.current==null&&(i.current=oJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=U.useCallback(f=>{c&&mO?mO(()=>l(f)):l(f)},[l,c]);return U.useLayoutEffect(()=>s.listen(u),[s,u]),U.useEffect(()=>KJ(n),[n]),U.createElement(XJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const sZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lZ=U.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=r9(t,eZ),{basename:p}=U.useContext(au),g,m=!1;if(typeof c=="string"&&oZ.test(c)&&(g=c,sZ))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),C=ep(I.pathname,p);I.origin===b.origin&&C!=null?c=C+I.search+I.hash:m=!0}catch{}let v=IJ(c,{relative:a}),y=uZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||y(b)}return U.createElement("a",V2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),oS=U.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=r9(t,tZ),h=Kw(l,{relative:f.relative}),p=Up(),g=U.useContext(Q$),{navigator:m,basename:v}=U.useContext(au),y=g!=null&&fZ(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,I=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=ep(I,v)||I);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=b===w||!s&&b.startsWith(w)&&b.charAt(C)==="/",T=I!=null&&(I===w||!s&&I.startsWith(w)&&I.charAt(w.length)==="/"),S={isActive:j,isPending:T,isTransitioning:y},A=j?n:void 0,D;typeof i=="function"?D=i(S):D=[i,j?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return U.createElement(lZ,V2({},f,{"aria-current":A,className:D,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var P4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(P4||(P4={}));var gO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gO||(gO={}));function cZ(e){let t=U.useContext(Hw);return t||Zn(!1),t}function uZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=M1(),c=Up(),u=Kw(e,{relative:s});return U.useCallback(f=>{if(ZJ(f,r)){f.preventDefault();let h=n!==void 0?n:$2(c)===$2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function fZ(e,t){t===void 0&&(t={});let r=U.useContext(nZ);r==null&&Zn(!1);let{basename:n}=cZ(P4.useViewTransitionState),a=Kw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ep(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ep(r.nextLocation.pathname,n)||r.nextLocation.pathname;return B2(a.pathname,s)!=null||B2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),vr=(e,t)=>{const r=U.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>U.createElement("svg",{ref:u,...dZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${hZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=vr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=vr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=vr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=vr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=vr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=vr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=vr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=vr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=vr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=vr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=vr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=vr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=vr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=vr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=vr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=vr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=vr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=vr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=vr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=vr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=vr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=vr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=vr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=vr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=vr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=vr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=vr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=vr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=vr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=vr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=vr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=vr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=vr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=vr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=vr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=vr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=vr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=vr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=vr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=vr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=vr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=vr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=vr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=vr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=vr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=vr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=vr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=vr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=vr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),IZ=()=>{};var SO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},jZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},u9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):jZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new DZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LZ=function(e){const t=c9(e);return u9.encodeByteArray(t,!0)},W2=function(e){return LZ(e).replace(/\./g,"")},MZ=function(e){try{return u9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ=()=>RZ().__FIREBASE_DEFAULTS__,$Z=()=>{if(typeof process>"u"||typeof SO>"u")return;const e=SO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},BZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&MZ(e[1]);return t&&JSON.parse(t)},vN=()=>{try{return IZ()||FZ()||$Z()||BZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UZ=e=>{var t,r;return(r=(t=vN())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},VZ=e=>{const t=UZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},f9=()=>{var e;return(e=vN())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){return e.endsWith(".cloudworkstations.dev")}async function qZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[W2(JSON.stringify(r)),W2(JSON.stringify(s)),""].join(".")}const Tg={};function HZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tg))Tg[t]?e.emulator.push(t):e.prod.push(t);return e}function GZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let AO=!1;function d9(e,t){if(typeof window>"u"||typeof document>"u"||!yN(window.location.host)||Tg[e]===t||Tg[e]||AO)return;Tg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=HZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{AO=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=GZ(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,m);const I=c();l(w,y),b.append(w,g,v,I),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YZ(){var e;const t=(e=vN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XZ(){return!YZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QZ(){try{return typeof indexedDB=="object"}catch{return!1}}function JZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ="FirebaseError";class Vp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=ZZ,Object.setPrototypeOf(this,Vp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h9.prototype.create)}}class h9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?eee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Vp(a,o,n)}}function eee(e,t){return e.replace(tee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const tee=/\{\$([^}]+)}/g;function H2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(TO(i)&&TO(s)){if(!H2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function TO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e){return e&&e._delegate?e._delegate:e}class wv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new zZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aee(t))try{this.getOrInitializeService({instanceIdentifier:vd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=vd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vd){return this.instances.has(t)}getOptions(t=vd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nee(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=vd){return this.component?this.component.multipleInstances?t:vd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nee(e){return e===vd?void 0:e}function aee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ree(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Hr||(Hr={}));const see={debug:Hr.DEBUG,verbose:Hr.VERBOSE,info:Hr.INFO,warn:Hr.WARN,error:Hr.ERROR,silent:Hr.SILENT},oee=Hr.INFO,lee={[Hr.DEBUG]:"log",[Hr.VERBOSE]:"log",[Hr.INFO]:"info",[Hr.WARN]:"warn",[Hr.ERROR]:"error"},cee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=lee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class p9{constructor(t){this.name=t,this._logLevel=oee,this._logHandler=cee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Hr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?see[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Hr.DEBUG,...t),this._logHandler(this,Hr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Hr.VERBOSE,...t),this._logHandler(this,Hr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Hr.INFO,...t),this._logHandler(this,Hr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Hr.WARN,...t),this._logHandler(this,Hr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Hr.ERROR,...t),this._logHandler(this,Hr.ERROR,...t)}}const uee=(e,t)=>t.some(r=>e instanceof r);let EO,NO;function fee(){return EO||(EO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dee(){return NO||(NO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m9=new WeakMap,D4=new WeakMap,g9=new WeakMap,cS=new WeakMap,xN=new WeakMap;function hee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(vf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&m9.set(r,e)}).catch(()=>{}),xN.set(t,e),t}function pee(e){if(D4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});D4.set(e,t)}let L4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return D4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||g9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mee(e){L4=e(L4)}function gee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(uS(this),t,...r);return g9.set(n,t.sort?t.sort():[t]),vf(n)}:dee().includes(e)?function(...t){return e.apply(uS(this),t),vf(m9.get(this))}:function(...t){return vf(e.apply(uS(this),t))}}function vee(e){return typeof e=="function"?gee(e):(e instanceof IDBTransaction&&pee(e),uee(e,fee())?new Proxy(e,L4):e)}function vf(e){if(e instanceof IDBRequest)return hee(e);if(cS.has(e))return cS.get(e);const t=vee(e);return t!==e&&(cS.set(e,t),xN.set(t,e)),t}const uS=e=>xN.get(e);function yee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=vf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(vf(s.result),l.oldVersion,l.newVersion,vf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const xee=["get","getKey","getAll","getAllKeys","count"],bee=["put","add","delete","clear"],fS=new Map;function kO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fS.get(t))return fS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=bee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||xee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return fS.set(t,i),i}mee(e=>({...e,get:(t,r,n)=>kO(t,r)||e.get(t,r,n),has:(t,r)=>!!kO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_ee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _ee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const M4="@firebase/app",CO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new p9("@firebase/app"),See="@firebase/app-compat",Aee="@firebase/analytics-compat",Tee="@firebase/analytics",Eee="@firebase/app-check-compat",Nee="@firebase/app-check",kee="@firebase/auth",Cee="@firebase/auth-compat",Pee="@firebase/database",Oee="@firebase/data-connect",Iee="@firebase/database-compat",jee="@firebase/functions",Dee="@firebase/functions-compat",Lee="@firebase/installations",Mee="@firebase/installations-compat",Ree="@firebase/messaging",Fee="@firebase/messaging-compat",$ee="@firebase/performance",Bee="@firebase/performance-compat",Uee="@firebase/remote-config",Vee="@firebase/remote-config-compat",zee="@firebase/storage",qee="@firebase/storage-compat",Wee="@firebase/firestore",Hee="@firebase/vertexai",Gee="@firebase/firestore-compat",Kee="firebase",Yee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="[DEFAULT]",Xee={[M4]:"fire-core",[See]:"fire-core-compat",[Tee]:"fire-analytics",[Aee]:"fire-analytics-compat",[Nee]:"fire-app-check",[Eee]:"fire-app-check-compat",[kee]:"fire-auth",[Cee]:"fire-auth-compat",[Pee]:"fire-rtdb",[Oee]:"fire-data-connect",[Iee]:"fire-rtdb-compat",[jee]:"fire-fn",[Dee]:"fire-fn-compat",[Lee]:"fire-iid",[Mee]:"fire-iid-compat",[Ree]:"fire-fcm",[Fee]:"fire-fcm-compat",[$ee]:"fire-perf",[Bee]:"fire-perf-compat",[Uee]:"fire-rc",[Vee]:"fire-rc-compat",[zee]:"fire-gcs",[qee]:"fire-gcs-compat",[Wee]:"fire-fst",[Gee]:"fire-fst-compat",[Hee]:"fire-vertex","fire-js":"fire-js",[Kee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new Map,Qee=new Map,F4=new Map;function PO(e,t){try{e.container.addComponent(t)}catch(r){Wc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function K2(e){const t=e.name;if(F4.has(t))return Wc.debug(`There were multiple attempts to register component ${t}.`),!1;F4.set(t,e);for(const r of G2.values())PO(r,e);for(const r of Qee.values())PO(r,e);return!0}function Jee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Zee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yf=new h9("app","Firebase",ete);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=Yee;function v9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:R4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw yf.create("bad-app-name",{appName:String(a)});if(r||(r=f9()),!r)throw yf.create("no-options");const i=G2.get(a);if(i){if(H2(r,i.options)&&H2(n,i.config))return i;throw yf.create("duplicate-app",{appName:a})}const s=new iee(a);for(const l of F4.values())s.addComponent(l);const o=new tte(r,n,s);return G2.set(a,o),o}function nte(e=R4){const t=G2.get(e);if(!t&&e===R4&&f9())return v9();if(!t)throw yf.create("no-app",{appName:e});return t}function j0(e,t,r){var n;let a=(n=Xee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wc.warn(o.join(" "));return}K2(new wv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate="firebase-heartbeat-database",ite=1,_v="firebase-heartbeat-store";let dS=null;function y9(){return dS||(dS=yee(ate,ite,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_v)}catch(r){console.warn(r)}}}}).catch(e=>{throw yf.create("idb-open",{originalErrorMessage:e.message})})),dS}async function ste(e){try{const r=(await y9()).transaction(_v),n=await r.objectStore(_v).get(x9(e));return await r.done,n}catch(t){if(t instanceof Vp)Wc.warn(t.message);else{const r=yf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wc.warn(r.message)}}}async function OO(e,t){try{const n=(await y9()).transaction(_v,"readwrite");await n.objectStore(_v).put(t,x9(e)),await n.done}catch(r){if(r instanceof Vp)Wc.warn(r.message);else{const n=yf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Wc.warn(n.message)}}}function x9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=1024,lte=30;class cte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>lte){const s=dte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Wc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=IO(),{heartbeatsToSend:n,unsentEntries:a}=ute(this._heartbeatsCache.heartbeats),i=W2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Wc.warn(r),""}}}function IO(){return new Date().toISOString().substring(0,10)}function ute(e,t=ote){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),jO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),jO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class fte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QZ()?JZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ste(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function jO(e){return W2(JSON.stringify({version:2,heartbeats:e})).length}function dte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(e){K2(new wv("platform-logger",t=>new wee(t),"PRIVATE")),K2(new wv("heartbeat",t=>new cte(t),"PRIVATE")),j0(M4,CO,e),j0(M4,CO,"esm2017"),j0("fire-js","")}hte("");var pte="firebase",mte="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */j0(pte,mte,"app");var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xf,b9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function A(){}A.prototype=S.prototype,T.D=S.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(D,E,N){for(var P=Array(arguments.length-2),V=2;V<arguments.length;V++)P[V-2]=arguments[V];return S.prototype[E].apply(D,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)D[E]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(E=0;16>E;++E)D[E]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=T.g[0],A=T.g[1],E=T.g[2];var N=T.g[3],P=S+(N^A&(E^N))+D[0]+3614090360&4294967295;S=A+(P<<7&4294967295|P>>>25),P=N+(E^S&(A^E))+D[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=E+(A^N&(S^A))+D[2]+606105819&4294967295,E=N+(P<<17&4294967295|P>>>15),P=A+(S^E&(N^S))+D[3]+3250441966&4294967295,A=E+(P<<22&4294967295|P>>>10),P=S+(N^A&(E^N))+D[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(E^S&(A^E))+D[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=E+(A^N&(S^A))+D[6]+2821735955&4294967295,E=N+(P<<17&4294967295|P>>>15),P=A+(S^E&(N^S))+D[7]+4249261313&4294967295,A=E+(P<<22&4294967295|P>>>10),P=S+(N^A&(E^N))+D[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(E^S&(A^E))+D[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=E+(A^N&(S^A))+D[10]+4294925233&4294967295,E=N+(P<<17&4294967295|P>>>15),P=A+(S^E&(N^S))+D[11]+2304563134&4294967295,A=E+(P<<22&4294967295|P>>>10),P=S+(N^A&(E^N))+D[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(E^S&(A^E))+D[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=E+(A^N&(S^A))+D[14]+2792965006&4294967295,E=N+(P<<17&4294967295|P>>>15),P=A+(S^E&(N^S))+D[15]+1236535329&4294967295,A=E+(P<<22&4294967295|P>>>10),P=S+(E^N&(A^E))+D[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^E&(S^A))+D[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=E+(S^A&(N^S))+D[11]+643717713&4294967295,E=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(E^N))+D[0]+3921069994&4294967295,A=E+(P<<20&4294967295|P>>>12),P=S+(E^N&(A^E))+D[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^E&(S^A))+D[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=E+(S^A&(N^S))+D[15]+3634488961&4294967295,E=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(E^N))+D[4]+3889429448&4294967295,A=E+(P<<20&4294967295|P>>>12),P=S+(E^N&(A^E))+D[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^E&(S^A))+D[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=E+(S^A&(N^S))+D[3]+4107603335&4294967295,E=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(E^N))+D[8]+1163531501&4294967295,A=E+(P<<20&4294967295|P>>>12),P=S+(E^N&(A^E))+D[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^E&(S^A))+D[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=E+(S^A&(N^S))+D[7]+1735328473&4294967295,E=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(E^N))+D[12]+2368359562&4294967295,A=E+(P<<20&4294967295|P>>>12),P=S+(A^E^N)+D[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^E)+D[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=E+(N^S^A)+D[11]+1839030562&4294967295,E=N+(P<<16&4294967295|P>>>16),P=A+(E^N^S)+D[14]+4259657740&4294967295,A=E+(P<<23&4294967295|P>>>9),P=S+(A^E^N)+D[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^E)+D[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=E+(N^S^A)+D[7]+4139469664&4294967295,E=N+(P<<16&4294967295|P>>>16),P=A+(E^N^S)+D[10]+3200236656&4294967295,A=E+(P<<23&4294967295|P>>>9),P=S+(A^E^N)+D[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^E)+D[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=E+(N^S^A)+D[3]+3572445317&4294967295,E=N+(P<<16&4294967295|P>>>16),P=A+(E^N^S)+D[6]+76029189&4294967295,A=E+(P<<23&4294967295|P>>>9),P=S+(A^E^N)+D[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^E)+D[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=E+(N^S^A)+D[15]+530742520&4294967295,E=N+(P<<16&4294967295|P>>>16),P=A+(E^N^S)+D[2]+3299628645&4294967295,A=E+(P<<23&4294967295|P>>>9),P=S+(E^(A|~N))+D[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~E))+D[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=E+(S^(N|~A))+D[14]+2878612391&4294967295,E=N+(P<<15&4294967295|P>>>17),P=A+(N^(E|~S))+D[5]+4237533241&4294967295,A=E+(P<<21&4294967295|P>>>11),P=S+(E^(A|~N))+D[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~E))+D[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=E+(S^(N|~A))+D[10]+4293915773&4294967295,E=N+(P<<15&4294967295|P>>>17),P=A+(N^(E|~S))+D[1]+2240044497&4294967295,A=E+(P<<21&4294967295|P>>>11),P=S+(E^(A|~N))+D[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~E))+D[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=E+(S^(N|~A))+D[6]+2734768916&4294967295,E=N+(P<<15&4294967295|P>>>17),P=A+(N^(E|~S))+D[13]+1309151649&4294967295,A=E+(P<<21&4294967295|P>>>11),P=S+(E^(A|~N))+D[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~E))+D[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=E+(S^(N|~A))+D[2]+718787259&4294967295,E=N+(P<<15&4294967295|P>>>17),P=A+(N^(E|~S))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(E+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var A=S-this.blockSize,D=this.B,E=this.h,N=0;N<S;){if(E==0)for(;N<=A;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<S;)if(D[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,D),E=0;break}}else for(;N<S;)if(D[E++]=T[N++],E==this.blockSize){a(this,D),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var A=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.u(T),T=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)T[A++]=this.g[S]>>>D&255;return T};function i(T,S){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=S(T)}function s(T,S){this.h=S;for(var A=[],D=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;D&&N==S||(A[E]=N,D=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var S=[],A=1,D=0;T>=A;D++)S[D]=T/A|0,A*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),D=f,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),P=parseInt(T.substring(E,E+N),S);8>N?(N=c(Math.pow(S,N)),D=D.j(N).add(c(P))):(D=D.j(A),D=D.add(c(P)))}return D}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);T+=(0<=D?D:4294967296+D)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),A=this,D="";;){var E=I(A,S).g;A=y(A,E.j(S));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=E,g(A))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var S=T.g.length,A=[],D=0;D<S;D++)A[D]=~T.g[D];return new s(A,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0,E=0;E<=S;E++){var N=D+(this.i(E)&65535)+(T.i(E)&65535),P=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);D=P>>>16,N&=65535,P&=65535,A[E]=P<<16|N}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var E=0;E<T.g.length;E++){var N=this.i(D)>>>16,P=this.i(D)&65535,V=T.i(E)>>>16,X=T.i(E)&65535;A[2*D+2*E]+=P*X,w(A,2*D+2*E),A[2*D+2*E+1]+=N*X,w(A,2*D+2*E+1),A[2*D+2*E+1]+=P*V,w(A,2*D+2*E+1),A[2*D+2*E+2]+=N*V,w(A,2*D+2*E+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new s(A,0)};function w(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function b(T,S){this.g=T,this.h=S}function I(T,S){if(g(S))throw Error("division by zero");if(g(T))return new b(f,f);if(m(T))return S=I(v(T),S),new b(v(S.g),v(S.h));if(m(S))return S=I(T,v(S)),new b(v(S.g),S.h);if(30<T.g.length){if(m(T)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,D=S;0>=D.l(T);)A=C(A),D=C(D);var E=j(A,1),N=j(D,1);for(D=j(D,2),A=j(A,2);!g(D);){var P=N.add(D);0>=P.l(T)&&(E=E.add(A),N=P),D=j(D,1),A=j(A,1)}return S=y(T,E.j(S)),new b(E,S)}for(E=f;0<=T.l(S);){for(A=Math.max(1,Math.floor(T.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=c(A),P=N.j(S);m(P)||0<P.l(T);)A-=D,N=c(A),P=N.j(S);g(N)&&(N=h),E=E.add(N),T=y(T,P)}return new b(E,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&T.i(D);return new s(A,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|T.i(D);return new s(A,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^T.i(D);return new s(A,this.h^T.h)};function C(T){for(var S=T.g.length+1,A=[],D=0;D<S;D++)A[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(A,T.h)}function j(T,S){var A=S>>5;S%=32;for(var D=T.g.length-A,E=[],N=0;N<D;N++)E[N]=0<S?T.i(N+A)>>>S|T.i(N+A+1)<<32-S:T.i(N+A);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,b9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,xf=s}).apply(typeof DO<"u"?DO:typeof self<"u"?self:typeof window<"u"?window:{});var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w9,ig,_9,e2,$4,S9,A9,T9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,F,Q){return _==Array.prototype||_==Object.prototype||(_[F]=Q.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof tx=="object"&&tx];for(var F=0;F<_.length;++F){var Q=_[F];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(_,F){if(F)e:{var Q=n;_=_.split(".");for(var ue=0;ue<_.length-1;ue++){var Re=_[ue];if(!(Re in Q))break e;Q=Q[Re]}_=_[_.length-1],ue=Q[_],F=F(ue),F!=ue&&F!=null&&t(Q,_,{configurable:!0,writable:!0,value:F})}}function i(_,F){_ instanceof String&&(_+="");var Q=0,ue=!1,Re={next:function(){if(!ue&&Q<_.length){var Qe=Q++;return{value:F(Qe,_[Qe]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Re[Symbol.iterator]=function(){return Re},Re}a("Array.prototype.values",function(_){return _||function(){return i(this,function(F,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var F=typeof _;return F=F!="object"?F:_?Array.isArray(_)?"array":F:"null",F=="array"||F=="object"&&typeof _.length=="number"}function c(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function u(_,F,Q){return _.call.apply(_.bind,arguments)}function f(_,F,Q){if(!_)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,ue),_.apply(F,Re)}}return function(){return _.apply(F,arguments)}}function h(_,F,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(_,F){var Q=Array.prototype.slice.call(arguments,1);return function(){var ue=Q.slice();return ue.push.apply(ue,arguments),_.apply(this,ue)}}function g(_,F){function Q(){}Q.prototype=F.prototype,_.aa=F.prototype,_.prototype=new Q,_.prototype.constructor=_,_.Qb=function(ue,Re,Qe){for(var Nt=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)Nt[Tr-2]=arguments[Tr];return F.prototype[Re].apply(ue,Nt)}}function m(_){const F=_.length;if(0<F){const Q=Array(F);for(let ue=0;ue<F;ue++)Q[ue]=_[ue];return Q}return[]}function v(_,F){for(let Q=1;Q<arguments.length;Q++){const ue=arguments[Q];if(l(ue)){const Re=_.length||0,Qe=ue.length||0;_.length=Re+Qe;for(let Nt=0;Nt<Qe;Nt++)_[Re+Nt]=ue[Nt]}else _.push(ue)}}class y{constructor(F,Q){this.i=F,this.j=Q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(_){return/^[\s\xa0]*$/.test(_)}function b(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function I(_){return I[" "](_),_}I[" "]=function(){};var C=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(_,F,Q){for(const ue in _)F.call(Q,_[ue],ue,_)}function T(_,F){for(const Q in _)F.call(void 0,_[Q],Q,_)}function S(_){const F={};for(const Q in _)F[Q]=_[Q];return F}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(_,F){let Q,ue;for(let Re=1;Re<arguments.length;Re++){ue=arguments[Re];for(Q in ue)_[Q]=ue[Q];for(let Qe=0;Qe<A.length;Qe++)Q=A[Qe],Object.prototype.hasOwnProperty.call(ue,Q)&&(_[Q]=ue[Q])}}function E(_){var F=1;_=_.split(":");const Q=[];for(;0<F&&_.length;)Q.push(_.shift()),F--;return _.length&&Q.push(_.join(":")),Q}function N(_){o.setTimeout(()=>{throw _},0)}function P(){var _=q;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class V{constructor(){this.h=this.g=null}add(F,Q){const ue=X.get();ue.set(F,Q),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var X=new y(()=>new Y,_=>_.reset());class Y{constructor(){this.next=this.g=this.h=null}set(F,Q){this.h=F,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let J,G=!1,q=new V,ee=()=>{const _=o.Promise.resolve(void 0);J=()=>{_.then(W)}};var W=()=>{for(var _;_=P();){try{_.h.call(_.g)}catch(Q){N(Q)}var F=X;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}G=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Q=()=>{};o.addEventListener("test",Q,F),o.removeEventListener("test",Q,F)}catch{}return _}();function H(_,F){if(R.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Q=this.type=_.type,ue=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(C){e:{try{I(F.nodeName);var Re=!0;break e}catch{}Re=!1}Re||(F=null)}}else Q=="mouseover"?F=_.fromElement:Q=="mouseout"&&(F=_.toElement);this.relatedTarget=F,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Z[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&H.aa.h.call(this)}}g(H,R);var Z={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),de=0;function re(_,F,Q,ue,Re){this.listener=_,this.proxy=null,this.src=F,this.type=Q,this.capture=!!ue,this.ha=Re,this.key=++de,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function we(_){this.src=_,this.g={},this.h=0}we.prototype.add=function(_,F,Q,ue,Re){var Qe=_.toString();_=this.g[Qe],_||(_=this.g[Qe]=[],this.h++);var Nt=Ae(_,F,ue,Re);return-1<Nt?(F=_[Nt],Q||(F.fa=!1)):(F=new re(F,this.src,Qe,!!ue,Re),F.fa=Q,_.push(F)),F};function B(_,F){var Q=F.type;if(Q in _.g){var ue=_.g[Q],Re=Array.prototype.indexOf.call(ue,F,void 0),Qe;(Qe=0<=Re)&&Array.prototype.splice.call(ue,Re,1),Qe&&(he(F),_.g[Q].length==0&&(delete _.g[Q],_.h--))}}function Ae(_,F,Q,ue){for(var Re=0;Re<_.length;++Re){var Qe=_[Re];if(!Qe.da&&Qe.listener==F&&Qe.capture==!!Q&&Qe.ha==ue)return Re}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function te(_,F,Q,ue,Re){if(Array.isArray(F)){for(var Qe=0;Qe<F.length;Qe++)te(_,F[Qe],Q,ue,Re);return null}return Q=yt(Q),_&&_[oe]?_.K(F,Q,c(ue)?!!ue.capture:!!ue,Re):Pe(_,F,Q,!1,ue,Re)}function Pe(_,F,Q,ue,Re,Qe){if(!F)throw Error("Invalid event type");var Nt=c(Re)?!!Re.capture:!!Re,Tr=De(_);if(Tr||(_[ve]=Tr=new we(_)),Q=Tr.add(F,Q,ue,Nt,Qe),Q.proxy)return Q;if(ue=Fe(),Q.proxy=ue,ue.src=_,ue.listener=Q,_.addEventListener)z||(Re=Nt),Re===void 0&&(Re=!1),_.addEventListener(F.toString(),ue,Re);else if(_.attachEvent)_.attachEvent(Le(F.toString()),ue);else if(_.addListener&&_.removeListener)_.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Fe(){function _(Q){return F.call(_.src,_.listener,Q)}const F=Ze;return _}function Ve(_,F,Q,ue,Re){if(Array.isArray(F))for(var Qe=0;Qe<F.length;Qe++)Ve(_,F[Qe],Q,ue,Re);else ue=c(ue)?!!ue.capture:!!ue,Q=yt(Q),_&&_[oe]?(_=_.i,F=String(F).toString(),F in _.g&&(Qe=_.g[F],Q=Ae(Qe,Q,ue,Re),-1<Q&&(he(Qe[Q]),Array.prototype.splice.call(Qe,Q,1),Qe.length==0&&(delete _.g[F],_.h--)))):_&&(_=De(_))&&(F=_.g[F.toString()],_=-1,F&&(_=Ae(F,Q,ue,Re)),(Q=-1<_?F[_]:null)&&rt(Q))}function rt(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[oe])B(F.i,_);else{var Q=_.type,ue=_.proxy;F.removeEventListener?F.removeEventListener(Q,ue,_.capture):F.detachEvent?F.detachEvent(Le(Q),ue):F.addListener&&F.removeListener&&F.removeListener(ue),(Q=De(F))?(B(Q,_),Q.h==0&&(Q.src=null,F[ve]=null)):he(_)}}}function Le(_){return _ in ye?ye[_]:ye[_]="on"+_}function Ze(_,F){if(_.da)_=!0;else{F=new H(F,this);var Q=_.listener,ue=_.ha||_.src;_.fa&&rt(_),_=Q.call(ue,F)}return _}function De(_){return _=_[ve],_ instanceof we?_:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(_){return typeof _=="function"?_:(_[et]||(_[et]=function(F){return _.handleEvent(F)}),_[et])}function ft(){O.call(this),this.i=new we(this),this.M=this,this.F=null}g(ft,O),ft.prototype[oe]=!0,ft.prototype.removeEventListener=function(_,F,Q,ue){Ve(this,_,F,Q,ue)};function wt(_,F){var Q,ue=_.F;if(ue)for(Q=[];ue;ue=ue.F)Q.push(ue);if(_=_.M,ue=F.type||F,typeof F=="string")F=new R(F,_);else if(F instanceof R)F.target=F.target||_;else{var Re=F;F=new R(ue,_),D(F,Re)}if(Re=!0,Q)for(var Qe=Q.length-1;0<=Qe;Qe--){var Nt=F.g=Q[Qe];Re=It(Nt,ue,!0,F)&&Re}if(Nt=F.g=_,Re=It(Nt,ue,!0,F)&&Re,Re=It(Nt,ue,!1,F)&&Re,Q)for(Qe=0;Qe<Q.length;Qe++)Nt=F.g=Q[Qe],Re=It(Nt,ue,!1,F)&&Re}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var _=this.i,F;for(F in _.g){for(var Q=_.g[F],ue=0;ue<Q.length;ue++)he(Q[ue]);delete _.g[F],_.h--}}this.F=null},ft.prototype.K=function(_,F,Q,ue){return this.i.add(String(_),F,!1,Q,ue)},ft.prototype.L=function(_,F,Q,ue){return this.i.add(String(_),F,!0,Q,ue)};function It(_,F,Q,ue){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();for(var Re=!0,Qe=0;Qe<F.length;++Qe){var Nt=F[Qe];if(Nt&&!Nt.da&&Nt.capture==Q){var Tr=Nt.listener,Fr=Nt.ha||Nt.src;Nt.fa&&B(_.i,Nt),Re=Tr.call(Fr,ue)!==!1&&Re}}return Re&&!ue.defaultPrevented}function Dt(_,F,Q){if(typeof _=="function")Q&&(_=h(_,Q));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(_,F||0)}function Et(_){_.g=Dt(()=>{_.g=null,_.i&&(_.i=!1,Et(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class nt extends O{constructor(F,Q){super(),this.m=F,this.l=Q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(_){O.call(this),this.h=_,this.g={}}g(Jt,O);var zt=[];function Rr(_){j(_.g,function(F,Q){this.g.hasOwnProperty(Q)&&rt(F)},_),_.g={}}Jt.prototype.N=function(){Jt.aa.N.call(this),Rr(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=o.JSON.stringify,Ue=o.JSON.parse,We=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function ot(){}ot.prototype.h=null;function Rt(_){return _.h||(_.h=_.i())}function Ee(){}var Je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){R.call(this,"d")}g(at,R);function Ct(){R.call(this,"c")}g(Ct,R);var At={},Ht=null;function ar(){return Ht=Ht||new ft}At.La="serverreachability";function Ar(_){R.call(this,At.La,_)}g(Ar,R);function kn(_){const F=ar();wt(F,new Ar(F))}At.STAT_EVENT="statevent";function wa(_,F){R.call(this,At.STAT_EVENT,_),this.stat=F}g(wa,R);function Wt(_){const F=ar();wt(F,new wa(F,_))}At.Ma="timingevent";function ua(_,F){R.call(this,At.Ma,_),this.size=F}g(ua,R);function Jr(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},F)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Ln(_,F,Q,ue,Re,Qe){_.info(function(){if(_.g)if(Qe)for(var Nt="",Tr=Qe.split("&"),Fr=0;Fr<Tr.length;Fr++){var Er=Tr[Fr].split("=");if(1<Er.length){var cn=Er[0];Er=Er[1];var Sn=cn.split("_");Nt=2<=Sn.length&&Sn[1]=="type"?Nt+(cn+"="+Er+"&"):Nt+(cn+"=redacted&")}}else Nt=null;else Nt=Qe;return"XMLHTTP REQ ("+ue+") [attempt "+Re+"]: "+F+`
`+Q+`
`+Nt})}function Cn(_,F,Q,ue,Re,Qe,Nt){_.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Re+"]: "+F+`
`+Q+`
`+Qe+" "+Nt})}function ie(_,F,Q,ue){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+me(_,Q)+(ue?" "+ue:"")})}function _e(_,F){_.info(function(){return"TIMEOUT: "+F})}zn.prototype.info=function(){};function me(_,F){if(!_.g)return F;if(!F)return null;try{var Q=JSON.parse(F);if(Q){for(_=0;_<Q.length;_++)if(Array.isArray(Q[_])){var ue=Q[_];if(!(2>ue.length)){var Re=ue[1];if(Array.isArray(Re)&&!(1>Re.length)){var Qe=Re[0];if(Qe!="noop"&&Qe!="stop"&&Qe!="close")for(var Nt=1;Nt<Re.length;Nt++)Re[Nt]=""}}}}return Ne(Q)}catch{return F}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function ze(){}g(ze,ot),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Se=new ze;function tt(_,F,Q,ue){this.j=_,this.i=F,this.l=Q,this.R=ue||1,this.U=new Jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}var He={},Xe={};function _t(_,F,Q){_.L=1,_.v=oc(_a(F)),_.m=Q,_.P=!0,Lt(_,null)}function Lt(_,F){_.F=Date.now(),Mt(_),_.A=_a(_.v);var Q=_.A,ue=_.R;Array.isArray(ue)||(ue=[String(ue)]),yr(Q.i,"t",ue),_.C=0,Q=_.j.J,_.h=new qe,_.g=ne(_.j,Q?F:null,!_.m),0<_.O&&(_.M=new nt(h(_.Y,_,_.g),_.O)),F=_.U,Q=_.g,ue=_.ca;var Re="readystatechange";Array.isArray(Re)||(Re&&(zt[0]=Re.toString()),Re=zt);for(var Qe=0;Qe<Re.length;Qe++){var Nt=te(Q,Re[Qe],ue||F.handleEvent,!1,F.h||F);if(!Nt)break;F.g[Nt.key]=Nt}F=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),kn(),Ln(_.i,_.u,_.A,_.l,_.R,_.m)}tt.prototype.ca=function(_){_=_.target;const F=this.M;F&&Da(_)==3?F.j():this.Y(_)},tt.prototype.Y=function(_){try{if(_==this.g)e:{const Sn=Da(this.g);var F=this.g.Ba();const Wo=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Ch(this.g)))){this.J||Sn!=4||F==7||(F==8||0>=Wo?kn(3):kn(2)),ce(this);var Q=this.g.Z();this.X=Q;t:if(Bt(this)){var ue=Ch(this.g);_="";var Re=ue.length,Qe=Da(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),ke(this);var Nt="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Re;F++)this.h.h=!0,_+=this.h.i.decode(ue[F],{stream:!(Qe&&F==Re-1)});ue.length=0,this.h.g+=_,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=Q==200,Cn(this.i,this.u,this.A,this.l,this.R,Sn,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Tr,Fr=this.g;if((Tr=Fr.g?Fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Tr)){var Er=Tr;break t}}Er=null}if(Q=Er)ie(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gt(this,Q);else{this.o=!1,this.s=3,Wt(12),lt(this),ke(this);break e}}if(this.P){Q=!0;let ii;for(;!this.J&&this.C<Nt.length;)if(ii=Pt(this,Nt),ii==Xe){Sn==4&&(this.s=4,Wt(14),Q=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(ii==He){this.s=4,Wt(15),ie(this.i,this.l,Nt,"[Invalid Chunk]"),Q=!1;break}else ie(this.i,this.l,ii,null),Gt(this,ii);if(Bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||Nt.length!=0||this.h.h||(this.s=1,Wt(16),Q=!1),this.o=this.o&&Q,!Q)ie(this.i,this.l,Nt,"[Invalid Chunked Response]"),lt(this),ke(this);else if(0<Nt.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),_u(cn),cn.M=!0,Wt(11))}}else ie(this.i,this.l,Nt,null),Gt(this,Nt);Sn==4&&lt(this),this.o&&!this.J&&(Sn==4?Cl(this.j,this):(this.o=!1,Mt(this)))}else Nl(this.g),Q==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),lt(this),ke(this)}}}catch{}finally{}};function Bt(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Pt(_,F){var Q=_.C,ue=F.indexOf(`
`,Q);return ue==-1?Xe:(Q=Number(F.substring(Q,ue)),isNaN(Q)?He:(ue+=1,ue+Q>F.length?Xe:(F=F.slice(ue,ue+Q),_.C=ue+Q,F)))}tt.prototype.cancel=function(){this.J=!0,lt(this)};function Mt(_){_.S=Date.now()+_.I,ur(_,_.I)}function ur(_,F){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Jr(h(_.ba,_),F)}function ce(_){_.B&&(o.clearTimeout(_.B),_.B=null)}tt.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(_e(this.i,this.A),this.L!=2&&(kn(),Wt(17)),lt(this),this.s=2,ke(this)):ur(this,this.S-_)};function ke(_){_.j.G==0||_.J||Cl(_.j,_)}function lt(_){ce(_);var F=_.M;F&&typeof F.ma=="function"&&F.ma(),_.M=null,Rr(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function Gt(_,F){try{var Q=_.j;if(Q.G!=0&&(Q.g==_||Xt(Q.h,_))){if(!_.K&&Xt(Q.h,_)&&Q.G==3){try{var ue=Q.Da.g.parse(F)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Re=ue;if(Re[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<_.F)qo(Q),yu(Q);else break e;dc(Q),Wt(18)}}else Q.za=Re[1],0<Q.za-Q.T&&37500>Re[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Jr(h(Q.Za,Q),6e3));if(1>=Ft(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Si(Q,11)}else if((_.K||Q.g==_)&&qo(Q),!w(F))for(Re=Q.Da.g.parse(F),F=0;F<Re.length;F++){let Er=Re[F];if(Q.T=Er[0],Er=Er[1],Q.G==2)if(Er[0]=="c"){Q.K=Er[1],Q.ia=Er[2];const cn=Er[3];cn!=null&&(Q.la=cn,Q.j.info("VER="+Q.la));const Sn=Er[4];Sn!=null&&(Q.Aa=Sn,Q.j.info("SVER="+Q.Aa));const Wo=Er[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(ue=1.5*Wo,Q.L=ue,Q.j.info("backChannelRequestTimeoutMs_="+ue)),ue=Q;const ii=_.g;if(ii){const Pl=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var Qe=ue.h;Qe.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(ir(Qe,Qe.h),Qe.h=null))}if(ue.D){const Ol=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(ue.ya=Ol,dn(ue.I,ue.D,Ol))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-_.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),ue=Q;var Nt=_;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),Nt.K){Ir(ue.h,Nt);var Tr=Nt,Fr=ue.L;Fr&&(Tr.I=Fr),Tr.B&&(ce(Tr),Mt(Tr)),ue.g=Nt}else wu(ue);0<Q.i.length&&xu(Q)}else Er[0]!="stop"&&Er[0]!="close"||Si(Q,7);else Q.G==3&&(Er[0]=="stop"||Er[0]=="close"?Er[0]=="stop"?Si(Q,7):zo(Q):Er[0]!="noop"&&Q.l&&Q.l.ta(Er),Q.v=0)}}kn(4)}catch{}}var ht=class{constructor(_,F){this.g=_,this.map=F}};function dt(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Ft(_){return _.h?1:_.g?_.g.size:0}function Xt(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function ir(_,F){_.g?_.g.add(F):_.h=F}function Ir(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}dt.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Yn(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const Q of _.g.values())F=F.concat(Q.D);return F}return m(_.i)}function Wa(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var F=[],Q=_.length,ue=0;ue<Q;ue++)F.push(_[ue]);return F}F=[],Q=0;for(ue in _)F[Q++]=_[ue];return F}function Yi(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var F=[];_=_.length;for(var Q=0;Q<_;Q++)F.push(Q);return F}F=[],Q=0;for(const ue in _)F[Q++]=ue;return F}}}function on(_,F){if(_.forEach&&typeof _.forEach=="function")_.forEach(F,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,F,void 0);else for(var Q=Yi(_),ue=Wa(_),Re=ue.length,Qe=0;Qe<Re;Qe++)F.call(void 0,ue[Qe],Q&&Q[Qe],_)}var fn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _i(_,F){if(_){_=_.split("&");for(var Q=0;Q<_.length;Q++){var ue=_[Q].indexOf("="),Re=null;if(0<=ue){var Qe=_[Q].substring(0,ue);Re=_[Q].substring(ue+1)}else Qe=_[Q];F(Qe,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function jr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof jr){this.h=_.h,Fo(this,_.j),this.o=_.o,this.g=_.g,Al(this,_.s),this.l=_.l;var F=_.i,Q=new Tl;Q.i=F.i,F.g&&(Q.g=new Map(F.g),Q.h=F.h),Jf(this,Q),this.m=_.m}else _&&(F=String(_).match(fn))?(this.h=!1,Fo(this,F[1]||"",!0),this.o=lc(F[2]||""),this.g=lc(F[3]||"",!0),Al(this,F[4]),this.l=lc(F[5]||"",!0),Jf(this,F[6]||"",!0),this.m=lc(F[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}jr.prototype.toString=function(){var _=[],F=this.j;F&&_.push($o(F,Th,!0),":");var Q=this.g;return(Q||F=="file")&&(_.push("//"),(F=this.o)&&_.push($o(F,Th,!0),"@"),_.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&_.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&_.push("/"),_.push($o(Q,Q.charAt(0)=="/"?Bo:pm,!0))),(Q=this.i.toString())&&_.push("?",Q),(Q=this.m)&&_.push("#",$o(Q,du)),_.join("")};function _a(_){return new jr(_)}function Fo(_,F,Q){_.j=Q?lc(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function Al(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function Jf(_,F,Q){F instanceof Tl?(_.i=F,mm(_.i,_.h)):(Q||(F=$o(F,fu)),_.i=new Tl(F,_.h))}function dn(_,F,Q){_.i.set(F,Q)}function oc(_){return dn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function lc(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function $o(_,F,Q){return typeof _=="string"?(_=encodeURI(_).replace(F,hm),Q&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function hm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Th=/[#\/\?@]/g,pm=/[#\?:]/g,Bo=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function Tl(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function Mn(_){_.g||(_.g=new Map,_.h=0,_.i&&_i(_.i,function(F,Q){_.add(decodeURIComponent(F.replace(/\+/g," ")),Q)}))}e=Tl.prototype,e.add=function(_,F){Mn(this),this.i=null,_=El(this,_);var Q=this.g.get(_);return Q||this.g.set(_,Q=[]),Q.push(F),this.h+=1,this};function Eh(_,F){Mn(_),F=El(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function Zf(_,F){return Mn(_),F=El(_,F),_.g.has(F)}e.forEach=function(_,F){Mn(this),this.g.forEach(function(Q,ue){Q.forEach(function(Re){_.call(F,Re,ue,this)},this)},this)},e.na=function(){Mn(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),Q=[];for(let ue=0;ue<F.length;ue++){const Re=_[ue];for(let Qe=0;Qe<Re.length;Qe++)Q.push(F[ue])}return Q},e.V=function(_){Mn(this);let F=[];if(typeof _=="string")Zf(this,_)&&(F=F.concat(this.g.get(El(this,_))));else{_=Array.from(this.g.values());for(let Q=0;Q<_.length;Q++)F=F.concat(_[Q])}return F},e.set=function(_,F){return Mn(this),this.i=null,_=El(this,_),Zf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},e.get=function(_,F){return _?(_=this.V(_),0<_.length?String(_[0]):F):F};function yr(_,F,Q){Eh(_,F),0<Q.length&&(_.i=null,_.g.set(El(_,F),m(Q)),_.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var Q=0;Q<F.length;Q++){var ue=F[Q];const Qe=encodeURIComponent(String(ue)),Nt=this.V(ue);for(ue=0;ue<Nt.length;ue++){var Re=Qe;Nt[ue]!==""&&(Re+="="+encodeURIComponent(String(Nt[ue]))),_.push(Re)}}return this.i=_.join("&")};function El(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function mm(_,F){F&&!_.j&&(Mn(_),_.i=null,_.g.forEach(function(Q,ue){var Re=ue.toLowerCase();ue!=Re&&(Eh(this,ue),yr(this,Re,Q))},_)),_.j=F}function no(_,F){const Q=new zn;if(o.Image){const ue=new Image;ue.onload=p(js,Q,"TestLoadImage: loaded",!0,F,ue),ue.onerror=p(js,Q,"TestLoadImage: error",!1,F,ue),ue.onabort=p(js,Q,"TestLoadImage: abort",!1,F,ue),ue.ontimeout=p(js,Q,"TestLoadImage: timeout",!1,F,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=_}else F(!1)}function Nh(_,F){const Q=new zn,ue=new AbortController,Re=setTimeout(()=>{ue.abort(),js(Q,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:ue.signal}).then(Qe=>{clearTimeout(Re),Qe.ok?js(Q,"TestPingServer: ok",!0,F):js(Q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Re),js(Q,"TestPingServer: error",!1,F)})}function js(_,F,Q,ue,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),ue(Q)}catch{}}function hu(){this.g=new We}function ed(_,F,Q){const ue=Q||"";try{on(_,function(Re,Qe){let Nt=Re;c(Re)&&(Nt=Ne(Re)),F.push(ue+Qe+"="+encodeURIComponent(Nt))})}catch(Re){throw F.push(ue+"type="+encodeURIComponent("_badmap")),Re}}function pu(_){this.l=_.Ub||null,this.j=_.eb||!1}g(pu,ot),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(_){return function(){return _}}({});function mu(_,F){ft.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(mu,ft),e=mu.prototype,e.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,Ds(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kh(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function kh(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?Uo(this):Ds(this),this.readyState==3&&kh(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,Uo(this))},e.Qa=function(_){this.g&&(this.response=_,Uo(this))},e.ga=function(){this.g&&Uo(this)};function Uo(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Ds(_)}e.setRequestHeader=function(_,F){this.u.append(_,F)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var Q=F.next();!Q.done;)Q=Q.value,_.push(Q[0]+": "+Q[1]),Q=F.next();return _.join(`\r
`)};function Ds(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Vo(_){let F="";return j(_,function(Q,ue){F+=ue,F+=":",F+=Q,F+=`\r
`}),F}function td(_,F,Q){e:{for(ue in Q){var ue=!1;break e}ue=!0}ue||(Q=Vo(Q),typeof _=="string"?Q!=null&&encodeURIComponent(String(Q)):dn(_,F,Q))}function ln(_){ft.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ln,ft);var rd=/^https?$/i,gu=["POST","PUT"];e=ln.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,F,Q,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?Rt(this.o):Rt(Se),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(Qe){nd(this,Qe);return}if(_=Q||"",Q=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Re in ue)Q.set(Re,ue[Re]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const Qe of ue.keys())Q.set(Qe,ue.get(Qe));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(Q.keys()).find(Qe=>Qe.toLowerCase()=="content-type"),Re=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(gu,F,void 0))||ue||Re||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,Nt]of Q)this.g.setRequestHeader(Qe,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(_),this.u=!1}catch(Qe){nd(this,Qe)}};function nd(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,ad(_),cc(_)}function ad(_){_.A||(_.A=!0,wt(_,"complete"),wt(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,wt(this,"complete"),wt(this,"abort"),cc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),ln.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},e.bb=function(){id(this)};function id(_){if(_.h&&typeof s<"u"&&(!_.v[1]||Da(_)!=4||_.Z()!=2)){if(_.u&&Da(_)==4)Dt(_.Ea,0,_);else if(wt(_,"readystatechange"),Da(_)==4){_.h=!1;try{const Nt=_.Z();e:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var Q;if(!(Q=F)){var ue;if(ue=Nt===0){var Re=String(_.D).match(fn)[1]||null;!Re&&o.self&&o.self.location&&(Re=o.self.location.protocol.slice(0,-1)),ue=!rd.test(Re?Re.toLowerCase():"")}Q=ue}if(Q)wt(_,"complete"),wt(_,"success");else{_.m=6;try{var Qe=2<Da(_)?_.g.statusText:""}catch{Qe=""}_.l=Qe+" ["+_.Z()+"]",ad(_)}}finally{cc(_)}}}}function cc(_,F){if(_.g){Ls(_);const Q=_.g,ue=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||wt(_,"ready");try{Q.onreadystatechange=ue}catch{}}}function Ls(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function Da(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),Ue(F)}};function Ch(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Nl(_){const F={};_=(_.g&&2<=Da(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<_.length;ue++){if(w(_[ue]))continue;var Q=E(_[ue]);const Re=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Qe=F[Re]||[];F[Re]=Qe,Qe.push(Q)}T(F,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(_,F,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[_]||F}function vu(_){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,_),this.cb=ai("retryDelaySeedMs",1e4,_),this.Wa=ai("forwardChannelMaxRetries",2,_),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new dt(_&&_.concurrentRequestLimit),this.Da=new hu,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vu.prototype,e.la=8,e.G=1,e.connect=function(_,F,Q,ue){Wt(0),this.W=_,this.H=F||{},Q&&ue!==void 0&&(this.H.OSID=Q,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),xu(this)};function zo(_){if(uc(_),_.G==3){var F=_.U++,Q=_a(_.I);if(dn(Q,"SID",_.K),dn(Q,"RID",F),dn(Q,"TYPE","terminate"),kl(_,Q),F=new tt(_,_.j,F),F.L=2,F.v=oc(_a(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=F.v,Q=!0),Q||(F.g=ne(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Mt(F)}Au(_)}function yu(_){_.g&&(_u(_),_.g.cancel(),_.g=null)}function uc(_){yu(_),_.u&&(o.clearTimeout(_.u),_.u=null),qo(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function xu(_){if(!Ot(_.h)&&!_.s){_.s=!0;var F=_.Ga;J||ee(),G||(J(),G=!0),q.add(F,_),_.B=0}}function sd(_,F){return Ft(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=F.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Jr(h(_.Ga,_,F),Su(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Re=new tt(this,this.j,_);let Qe=this.o;if(this.S&&(Qe?(Qe=S(Qe),D(Qe,this.S)):Qe=this.S),this.m!==null||this.O||(Re.H=Qe,Qe=null),this.P)e:{for(var F=0,Q=0;Q<this.i.length;Q++){t:{var ue=this.i[Q];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(F+=ue,4096<F){F=Q;break e}if(F===4096||Q===this.i.length-1){F=Q+1;break e}}F=1e3}else F=1e3;F=fc(this,Re,F),Q=_a(this.I),dn(Q,"RID",_),dn(Q,"CVER",22),this.D&&dn(Q,"X-HTTP-Session-Id",this.D),kl(this,Q),Qe&&(this.O?F="headers="+encodeURIComponent(String(Vo(Qe)))+"&"+F:this.m&&td(Q,this.m,Qe)),ir(this.h,Re),this.Ua&&dn(Q,"TYPE","init"),this.P?(dn(Q,"$req",F),dn(Q,"SID","null"),Re.T=!0,_t(Re,Q,null)):_t(Re,Q,F),this.G=2}}else this.G==3&&(_?bu(this,_):this.i.length==0||Ot(this.h)||bu(this))};function bu(_,F){var Q;F?Q=F.l:Q=_.U++;const ue=_a(_.I);dn(ue,"SID",_.K),dn(ue,"RID",Q),dn(ue,"AID",_.T),kl(_,ue),_.m&&_.o&&td(ue,_.m,_.o),Q=new tt(_,_.j,Q,_.B+1),_.m===null&&(Q.H=_.o),F&&(_.i=F.D.concat(_.i)),F=fc(_,Q,1e3),Q.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ir(_.h,Q),_t(Q,ue,F)}function kl(_,F){_.H&&j(_.H,function(Q,ue){dn(F,ue,Q)}),_.l&&on({},function(Q,ue){dn(F,ue,Q)})}function fc(_,F,Q){Q=Math.min(_.i.length,Q);var ue=_.l?h(_.l.Na,_.l,_):null;e:{var Re=_.i;let Qe=-1;for(;;){const Nt=["count="+Q];Qe==-1?0<Q?(Qe=Re[0].g,Nt.push("ofs="+Qe)):Qe=0:Nt.push("ofs="+Qe);let Tr=!0;for(let Fr=0;Fr<Q;Fr++){let Er=Re[Fr].g;const cn=Re[Fr].map;if(Er-=Qe,0>Er)Qe=Math.max(0,Re[Fr].g-100),Tr=!1;else try{ed(cn,Nt,"req"+Er+"_")}catch{ue&&ue(cn)}}if(Tr){ue=Nt.join("&");break e}}}return _=_.i.splice(0,Q),F.D=_,ue}function wu(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;J||ee(),G||(J(),G=!0),q.add(F,_),_.v=0}}function dc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Jr(h(_.Fa,_),Su(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,Ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Jr(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),yu(this),Ph(this))};function _u(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Ph(_){_.g=new tt(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var F=_a(_.qa);dn(F,"RID","rpc"),dn(F,"SID",_.K),dn(F,"AID",_.T),dn(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&dn(F,"TO",_.ja),dn(F,"TYPE","xmlhttp"),kl(_,F),_.m&&_.o&&td(F,_.m,_.o),_.L&&(_.g.I=_.L);var Q=_.g;_=_.ia,Q.L=1,Q.v=oc(_a(F)),Q.m=null,Q.P=!0,Lt(Q,_)}e.Za=function(){this.C!=null&&(this.C=null,yu(this),dc(this),Wt(19))};function qo(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function Cl(_,F){var Q=null;if(_.g==F){qo(_),_u(_),_.g=null;var ue=2}else if(Xt(_.h,F))Q=F.D,Ir(_.h,F),ue=1;else return;if(_.G!=0){if(F.o)if(ue==1){Q=F.m?F.m.length:0,F=Date.now()-F.F;var Re=_.B;ue=ar(),wt(ue,new ua(ue,Q)),xu(_)}else wu(_);else if(Re=F.s,Re==3||Re==0&&0<F.X||!(ue==1&&sd(_,F)||ue==2&&dc(_)))switch(Q&&0<Q.length&&(F=_.h,F.i=F.i.concat(Q)),Re){case 1:Si(_,5);break;case 4:Si(_,10);break;case 3:Si(_,6);break;default:Si(_,2)}}}function Su(_,F){let Q=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Q*=2),Q*F}function Si(_,F){if(_.j.info("Error code "+F),F==2){var Q=h(_.fb,_),ue=_.Xa;const Re=!ue;ue=new jr(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fo(ue,"https"),oc(ue),Re?no(ue.toString(),Q):Nh(ue.toString(),Q)}else Wt(2);_.G=0,_.l&&_.l.sa(F),Au(_),uc(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Au(_){if(_.G=0,_.ka=[],_.l){const F=Yn(_.h);(F.length!=0||_.i.length!=0)&&(v(_.ka,F),v(_.ka,_.i),_.h.i.length=0,m(_.i),_.i.length=0),_.l.ra()}}function L(_,F,Q){var ue=Q instanceof jr?_a(Q):new jr(Q);if(ue.g!="")F&&(ue.g=F+"."+ue.g),Al(ue,ue.s);else{var Re=o.location;ue=Re.protocol,F=F?F+"."+Re.hostname:Re.hostname,Re=+Re.port;var Qe=new jr(null);ue&&Fo(Qe,ue),F&&(Qe.g=F),Re&&Al(Qe,Re),Q&&(Qe.l=Q),ue=Qe}return Q=_.D,F=_.ya,Q&&F&&dn(ue,Q,F),dn(ue,"VER",_.la),kl(_,ue),ue}function ne(_,F,Q){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Ca&&!_.pa?new ln(new pu({eb:Q})):new ln(_.pa),F.Ha(_.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Te(){}e=Te.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ce(){}Ce.prototype.g=function(_,F){return new $e(_,F)};function $e(_,F){ft.call(this),this.g=new vu(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!w(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new Vt(this)}g($e,ft),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){zo(this.g)},$e.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var Q={};Q.__data__=_,_=Q}else this.u&&(Q={},Q.__data__=Ne(_),_=Q);F.i.push(new ht(F.Ya++,_)),F.G==3&&xu(F)},$e.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,$e.aa.N.call(this)};function st(_){at.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const Q in F){_=Q;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}g(st,at);function Tt(){Ct.call(this),this.status=1}g(Tt,Ct);function Vt(_){this.g=_}g(Vt,Te),Vt.prototype.ua=function(){wt(this.g,"a")},Vt.prototype.ta=function(_){wt(this.g,new st(_))},Vt.prototype.sa=function(_){wt(this.g,new Tt)},Vt.prototype.ra=function(){wt(this.g,"b")},Ce.prototype.createWebChannel=Ce.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,T9=function(){return new Ce},A9=function(){return ar()},S9=At,$4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,e2=ge,be.COMPLETE="complete",_9=be,Ee.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ig=Ee,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,w9=ln}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});const LO="@firebase/firestore",MO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new p9("@firebase/firestore");function Zh(){return Jd.logLevel}function Qt(e,...t){if(Jd.logLevel<=Hr.DEBUG){const r=t.map(bN);Jd.debug(`Firestore (${zp}): ${e}`,...r)}}function Hc(e,...t){if(Jd.logLevel<=Hr.ERROR){const r=t.map(bN);Jd.error(`Firestore (${zp}): ${e}`,...r)}}function rp(e,...t){if(Jd.logLevel<=Hr.WARN){const r=t.map(bN);Jd.warn(`Firestore (${zp}): ${e}`,...r)}}function bN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,E9(e,n,r)}function E9(e,t,r){let n=`FIRESTORE (${zp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Hc(n),new Error(n)}function sn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||E9(t,a,n)}function _r(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Vp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Di.UNAUTHENTICATED))}shutdown(){}}class vte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class yte{constructor(t){this.t=t,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){sn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ql,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ql)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(sn(typeof n.accessToken=="string",31837,{l:n}),new N9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string",2055,{h:t}),new Di(t)}}class xte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new xte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){sn(this.o===void 0,3512);const n=i=>{i.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Qt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(sn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new RO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=_te(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Lr(e,t){return e<t?-1:e>t?1:0}function B4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Lr(n,a);{const i=k9(),s=Ste(i.encode(FO(e,r)),i.encode(FO(t,r)));return s!==0?s:Lr(n,a)}}r+=n>65535?2:1}return Lr(e.length,t.length)}function FO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ste(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Lr(e[r],t[r]);return Lr(e.length,t.length)}function np(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=-62135596800,BO=1e6;class sr{static now(){return sr.fromMillis(Date.now())}static fromDate(t){return sr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*BO);return new sr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<$O)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BO}_compareTo(t){return this.seconds===t.seconds?Lr(this.nanoseconds,t.nanoseconds):Lr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$O;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{static fromTimestamp(t){return new Sr(t)}static min(){return new Sr(new sr(0,0))}static max(){return new Sr(new sr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__name__";class Fl{constructor(t,r,n){r===void 0?r=0:r>t.length&&gr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&gr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Fl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Fl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Fl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Lr(t.length,r.length)}static compareSegments(t,r){const n=Fl.isNumericId(t),a=Fl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Fl.extractNumericId(t).compare(Fl.extractNumericId(r)):B4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xf.fromString(t.substring(4,t.length-2))}}class Bn extends Fl{construct(t,r,n){return new Bn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Bn(r)}static emptyPath(){return new Bn([])}}const Ate=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Fl{construct(t,r,n){return new mi(t,r,n)}static isValidIdentifier(t){return Ate.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UO}static keyField(){return new mi([UO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Kt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Kt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Kt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mi(r)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.path=t}static fromPath(t){return new cr(Bn.fromString(t))}static fromName(t){return new cr(Bn.fromString(t).popFirst(5))}static empty(){return new cr(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Bn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cr(new Bn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function Tte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Sr.fromTimestamp(n===1e9?new sr(r+1,0):new sr(r,n));return new Cf(a,cr.empty(),t)}function Ete(e){return new Cf(e.readTime,e.key,Sv)}class Cf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Cf(Sr.min(),cr.empty(),Sv)}static max(){return new Cf(Sr.max(),cr.empty(),Sv)}}function Nte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=cr.comparator(e.documentKey,t.documentKey),r!==0?r:Lr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==kte)throw e;Qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&gr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new bt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.reject(r)}static resolve(t){return new bt((r,n)=>{r(t)})}static reject(t){return new bt((r,n)=>{n(t)})}static waitFor(t){return new bt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=bt.resolve(!1);for(const n of t)r=r.next(a=>a?bt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new bt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new bt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Pte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Yw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=-1;function Xw(e){return e==null}function Y2(e){return e===0&&1/e==-1/0}function Ote(e){return typeof e=="number"&&Number.isInteger(e)&&!Y2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="";function Ite(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=VO(t)),t=jte(e.get(r),t);return VO(t)}function jte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case P9:r+="";break;default:r+=i}}return r}function VO(e){return e+P9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function zf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Dte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function O9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,r){this.comparator=t,this.root=r||di.EMPTY}insert(t,r){return new ta(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,di.BLACK,null,null))}remove(t){return new ta(this.comparator,this.root.remove(t,this.comparator).copy(null,null,di.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rx(this.root,t,this.comparator,!1)}getReverseIterator(){return new rx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rx(this.root,t,this.comparator,!0)}}class rx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class di{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??di.RED,this.left=a??di.EMPTY,this.right=i??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new di(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return di.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gr(27949);return t+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1;di.EMPTY=new class{constructor(){this.size=0}get key(){throw gr(57766)}get value(){throw gr(16141)}get color(){throw gr(16727)}get left(){throw gr(29726)}get right(){throw gr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new di(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.comparator=t,this.data=new ta(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new qO(this.data.getIterator())}getIteratorFrom(t){return new qO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Va)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Va(this.comparator);return r.data=t,r}}class qO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.fields=t,t.sort(mi.comparator)}static empty(){return new Ks([])}unionWith(t){let r=new Va(mi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ks(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return np(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new I9("Invalid base64 string: "+i):i}}(t);return new wi(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new wi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const Lte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pf(e){if(sn(!!e,39018),typeof e=="string"){let t=0;const r=Lte.exec(e);if(sn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:pa(e.seconds),nanos:pa(e.nanos)}}function pa(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Of(e){return typeof e=="string"?wi.fromBase64String(e):wi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="server_timestamp",D9="__type__",L9="__previous_value__",M9="__local_write_time__";function _N(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[D9])===null||r===void 0?void 0:r.stringValue)===j9}function Qw(e){const t=e.mapValue.fields[L9];return _N(t)?Qw(t):t}function Av(e){const t=Pf(e.mapValue.fields[M9].timestampValue);return new sr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const X2="(default)";class Tv{constructor(t,r){this.projectId=t,this.database=r||X2}static empty(){return new Tv("","")}get isDefaultDatabase(){return this.database===X2}isEqual(t){return t instanceof Tv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="__type__",F9="__max__",nx={mapValue:{fields:{__type__:{stringValue:F9}}}},$9="__vector__",Q2="value";function If(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_N(e)?4:Fte(e)?9007199254740991:Rte(e)?10:11:gr(28295,{value:e})}function Jl(e,t){if(e===t)return!0;const r=If(e);if(r!==If(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Av(e).isEqual(Av(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Pf(a.timestampValue),o=Pf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Of(a.bytesValue).isEqual(Of(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return pa(a.geoPointValue.latitude)===pa(i.geoPointValue.latitude)&&pa(a.geoPointValue.longitude)===pa(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return pa(a.integerValue)===pa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=pa(a.doubleValue),o=pa(i.doubleValue);return s===o?Y2(s)===Y2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return np(e.arrayValue.values||[],t.arrayValue.values||[],Jl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(zO(s)!==zO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Jl(s[l],o[l])))return!1;return!0}(e,t);default:return gr(52216,{left:e})}}function Ev(e,t){return(e.values||[]).find(r=>Jl(r,t))!==void 0}function ap(e,t){if(e===t)return 0;const r=If(e),n=If(t);if(r!==n)return Lr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=pa(i.integerValue||i.doubleValue),l=pa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return WO(e.timestampValue,t.timestampValue);case 4:return WO(Av(e),Av(t));case 5:return B4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Of(i),l=Of(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Lr(o[c],l[c]);if(u!==0)return u}return Lr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Lr(pa(i.latitude),pa(s.latitude));return o!==0?o:Lr(pa(i.longitude),pa(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return HO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},p=(o=f[Q2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[Q2])===null||l===void 0?void 0:l.arrayValue,m=Lr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:HO(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===nx.mapValue&&s===nx.mapValue)return 0;if(i===nx.mapValue)return 1;if(s===nx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=B4(l[f],u[f]);if(h!==0)return h;const p=ap(o[l[f]],c[u[f]]);if(p!==0)return p}return Lr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw gr(23264,{Pe:r})}}function WO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lr(e,t);const r=Pf(e),n=Pf(t),a=Lr(r.seconds,n.seconds);return a!==0?a:Lr(r.nanos,n.nanos)}function HO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=ap(r[a],n[a]);if(i)return i}return Lr(r.length,n.length)}function ip(e){return U4(e)}function U4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Pf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Of(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return cr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=U4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${U4(r.fields[s])}`;return a+"}"}(e.mapValue):gr(61005,{value:e})}function t2(e){switch(If(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qw(e);return t?16+t2(t):16;case 5:return 2*e.stringValue.length;case 6:return Of(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+t2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return zf(n.fields,(i,s)=>{a+=i.length+t2(s)}),a}(e.mapValue);default:throw gr(13486,{value:e})}}function GO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function V4(e){return!!e&&"integerValue"in e}function SN(e){return!!e&&"arrayValue"in e}function KO(e){return!!e&&"nullValue"in e}function YO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function r2(e){return!!e&&"mapValue"in e}function Rte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[R9])===null||r===void 0?void 0:r.stringValue)===$9}function Eg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Eg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Eg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Fte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===F9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t){this.value=t}static empty(){return new As({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!r2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eg(r)}setAll(t){let r=mi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Eg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());r2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Jl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];r2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){zf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new As(Eg(this.value))}}function B9(e){const t=[];return zf(e.fields,(r,n)=>{const a=new mi([r]);if(r2(n)){const i=B9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ks(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ri(t,0,Sr.min(),Sr.min(),Sr.min(),As.empty(),0)}static newFoundDocument(t,r,n,a){return new Ri(t,1,r,Sr.min(),n,a,0)}static newNoDocument(t,r){return new Ri(t,2,r,Sr.min(),Sr.min(),As.empty(),0)}static newUnknownDocument(t,r){return new Ri(t,3,r,Sr.min(),Sr.min(),As.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Sr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ri&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,r){this.position=t,this.inclusive=r}}function XO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=cr.comparator(cr.fromName(s.referenceValue),r.key):n=ap(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function QO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Jl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,r="asc"){this.field=t,this.dir=r}}function $te(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{}class Oa extends U9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Ute(t,r,n):r==="array-contains"?new qte(t,n):r==="in"?new Wte(t,n):r==="not-in"?new Hte(t,n):r==="array-contains-any"?new Gte(t,n):new Oa(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Vte(t,n):new zte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ap(r,this.value)):r!==null&&If(this.value)===If(r)&&this.matchesComparison(ap(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xl extends U9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new xl(t,r)}matches(t){return V9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function V9(e){return e.op==="and"}function z9(e){return Bte(e)&&V9(e)}function Bte(e){for(const t of e.filters)if(t instanceof xl)return!1;return!0}function z4(e){if(e instanceof Oa)return e.field.canonicalString()+e.op.toString()+ip(e.value);if(z9(e))return e.filters.map(t=>z4(t)).join(",");{const t=e.filters.map(r=>z4(r)).join(",");return`${e.op}(${t})`}}function q9(e,t){return e instanceof Oa?function(n,a){return a instanceof Oa&&n.op===a.op&&n.field.isEqual(a.field)&&Jl(n.value,a.value)}(e,t):e instanceof xl?function(n,a){return a instanceof xl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&q9(s,a.filters[o]),!0):!1}(e,t):void gr(19439)}function W9(e){return e instanceof Oa?function(r){return`${r.field.canonicalString()} ${r.op} ${ip(r.value)}`}(e):e instanceof xl?function(r){return r.op.toString()+" {"+r.getFilters().map(W9).join(" ,")+"}"}(e):"Filter"}class Ute extends Oa{constructor(t,r,n){super(t,r,n),this.key=cr.fromName(n.referenceValue)}matches(t){const r=cr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Vte extends Oa{constructor(t,r){super(t,"in",r),this.keys=H9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class zte extends Oa{constructor(t,r){super(t,"not-in",r),this.keys=H9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function H9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>cr.fromName(n.referenceValue))}class qte extends Oa{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return SN(r)&&Ev(r.arrayValue,this.value)}}class Wte extends Oa{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Ev(this.value.arrayValue,r)}}class Hte extends Oa{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ev(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ev(this.value.arrayValue,r)}}class Gte extends Oa{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!SN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ev(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function JO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Kte(e,t,r,n,a,i,s)}function AN(e){const t=_r(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>z4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Xw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>ip(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>ip(n)).join(",")),t.Ie=r}return t.Ie}function TN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!$te(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!q9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QO(e.startAt,t.startAt)&&QO(e.endAt,t.endAt)}function q4(e){return cr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yte(e,t,r,n,a,i,s,o){return new Hp(e,t,r,n,a,i,s,o)}function Jw(e){return new Hp(e)}function ZO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function G9(e){return e.collectionGroup!==null}function Ng(e){const t=_r(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Va(mi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Nv(i,n))}),r.has(mi.keyField().canonicalString())||t.Ee.push(new Nv(mi.keyField(),n))}return t.Ee}function Wl(e){const t=_r(e);return t.de||(t.de=K9(t,Ng(e))),t.de}function Xte(e){const t=_r(e);return t.Ae||(t.Ae=K9(t,e.explicitOrderBy)),t.Ae}function K9(e,t){if(e.limitType==="F")return JO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Nv(a.field,i)});const r=e.endAt?new J2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new J2(e.startAt.position,e.startAt.inclusive):null;return JO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function W4(e,t){const r=e.filters.concat([t]);return new Hp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Z2(e,t,r){return new Hp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Zw(e,t){return TN(Wl(e),Wl(t))&&e.limitType===t.limitType}function Y9(e){return`${AN(Wl(e))}|lt:${e.limitType}`}function e0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>W9(a)).join(", ")}]`),Xw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>ip(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>ip(a)).join(",")),`Target(${n})`}(Wl(e))}; limitType=${e.limitType})`}function e5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):cr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Ng(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Ng(n),a)||n.endAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Ng(n),a))}(e,t)}function Qte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function X9(e){return(t,r)=>{let n=!1;for(const a of Ng(e)){const i=Jte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Jte(e,t,r){const n=e.field.isKeyField()?cr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?ap(l,c):gr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return gr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){zf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return O9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte=new ta(cr.comparator);function Gc(){return Zte}const Q9=new ta(cr.comparator);function sg(...e){let t=Q9;for(const r of e)t=t.insert(r.key,r);return t}function J9(e){let t=Q9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Cd(){return kg()}function Z9(){return kg()}function kg(){return new fh(e=>e.toString(),(e,t)=>e.isEqual(t))}const ere=new ta(cr.comparator),tre=new Va(cr.comparator);function Br(...e){let t=tre;for(const r of e)t=t.add(r);return t}const rre=new Va(Lr);function nre(){return rre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y2(t)?"-0":t}}function eB(e){return{integerValue:""+e}}function are(e,t){return Ote(t)?eB(t):EN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this._=void 0}}function ire(e,t,r){return e instanceof kv?function(a,i){const s={fields:{[D9]:{stringValue:j9},[M9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&_N(i)&&(i=Qw(i)),i&&(s.fields[L9]=i),{mapValue:s}}(r,t):e instanceof Cv?rB(e,t):e instanceof Pv?nB(e,t):function(a,i){const s=tB(a,i),o=eI(s)+eI(a.Re);return V4(s)&&V4(a.Re)?eB(o):EN(a.serializer,o)}(e,t)}function sre(e,t,r){return e instanceof Cv?rB(e,t):e instanceof Pv?nB(e,t):r}function tB(e,t){return e instanceof eb?function(n){return V4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class kv extends t5{}class Cv extends t5{constructor(t){super(),this.elements=t}}function rB(e,t){const r=aB(t);for(const n of e.elements)r.some(a=>Jl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Pv extends t5{constructor(t){super(),this.elements=t}}function nB(e,t){let r=aB(t);for(const n of e.elements)r=r.filter(a=>!Jl(a,n));return{arrayValue:{values:r}}}class eb extends t5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function eI(e){return pa(e.integerValue||e.doubleValue)}function aB(e){return SN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(t,r){this.field=t,this.transform=r}}function lre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Cv&&a instanceof Cv||n instanceof Pv&&a instanceof Pv?np(n.elements,a.elements,Jl):n instanceof eb&&a instanceof eb?Jl(n.Re,a.Re):n instanceof kv&&a instanceof kv}(e.transform,t.transform)}class cre{constructor(t,r){this.version=t,this.transformResults=r}}class fs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fs}static exists(t){return new fs(void 0,t)}static updateTime(t){return new fs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function n2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class r5{}function iB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new n5(e.key,fs.none()):new R1(e.key,e.data,fs.none());{const r=e.data,n=As.empty();let a=new Va(mi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new qf(e.key,n,new Ks(a.toArray()),fs.none())}}function ure(e,t,r){e instanceof R1?function(a,i,s){const o=a.value.clone(),l=rI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof qf?function(a,i,s){if(!n2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(sB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Cg(e,t,r,n){return e instanceof R1?function(i,s,o,l){if(!n2(i.precondition,s))return o;const c=i.value.clone(),u=nI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof qf?function(i,s,o,l){if(!n2(i.precondition,s))return o;const c=nI(i.fieldTransforms,l,s),u=s.data;return u.setAll(sB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return n2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function fre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=tB(n.transform,a||null);i!=null&&(r===null&&(r=As.empty()),r.set(n.field,i))}return r||null}function tI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&np(n,a,(i,s)=>lre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class R1 extends r5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qf extends r5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function rI(e,t,r){const n=new Map;sn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,sre(s,o,r[a]))}return n}function nI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,ire(i,s,t))}return n}class n5 extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dre extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&ure(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Cg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Cg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Z9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=iB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Sr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Br())}isEqual(t){return this.batchId===t.batchId&&np(this.mutations,t.mutations,(r,n)=>tI(r,n))&&np(this.baseMutations,t.baseMutations,(r,n)=>tI(r,n))}}class NN{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){sn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return ere}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new NN(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea,Wr;function vre(e){switch(e){case gt.OK:return gr(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return gr(15467,{code:e})}}function oB(e){if(e===void 0)return Hc("GRPC error has no .code"),gt.UNKNOWN;switch(e){case Ea.OK:return gt.OK;case Ea.CANCELLED:return gt.CANCELLED;case Ea.UNKNOWN:return gt.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return gt.INTERNAL;case Ea.UNAVAILABLE:return gt.UNAVAILABLE;case Ea.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Ea.NOT_FOUND:return gt.NOT_FOUND;case Ea.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Ea.ABORTED:return gt.ABORTED;case Ea.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Ea.DATA_LOSS:return gt.DATA_LOSS;default:return gr(39323,{code:e})}}(Wr=Ea||(Ea={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre=new xf([4294967295,4294967295],0);function aI(e){const t=k9().encode(e),r=new b9;return r.update(t),new Uint8Array(r.digest())}function iI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new xf([r,n],0),new xf([a,i],0)]}class kN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new og(`Invalid padding: ${r}`);if(n<0)throw new og(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new og(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new og(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=xf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(xf.fromNumber(n)));return a.compare(yre)===1&&(a=new xf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new kN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class og extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,F1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new a5(Sr.min(),a,new ta(Lr),Gc(),Br())}}class F1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new F1(n,r,Br(),Br(),Br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class lB{constructor(t,r){this.targetId=t,this.Ce=r}}class cB{constructor(t,r,n=wi.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class sI{constructor(){this.Fe=0,this.Me=oI(),this.xe=wi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Br(),r=Br(),n=Br();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:gr(38017,{changeType:i})}}),new F1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=oI()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,sn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xre{constructor(t){this.ze=t,this.je=new Map,this.He=Gc(),this.Je=ax(),this.Ye=ax(),this.Ze=new ta(Lr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:gr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(q4(i))if(n===0){const s=new cr(i.path);this.tt(r,s,Ri.newNoDocument(s,Sr.min()))}else sn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Of(n).toUint8Array()}catch(l){if(l instanceof I9)return rp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new kN(s,a,i)}catch(l){return rp(l instanceof og?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&q4(o.target)){const l=new cr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Ri.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Br();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new a5(t,r,this.Ze,this.He,n);return this.He=Gc(),this.Je=ax(),this.Ye=ax(),this.Ze=new ta(Lr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new sI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Va(Lr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Va(Lr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Qt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function ax(){return new ta(cr.comparator)}function oI(){return new ta(cr.comparator)}const bre={asc:"ASCENDING",desc:"DESCENDING"},wre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_re={and:"AND",or:"OR"};class Sre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function H4(e,t){return e.useProto3Json||Xw(t)?t:{value:t}}function tb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Are(e,t){return tb(e,t.toTimestamp())}function Hl(e){return sn(!!e,49232),Sr.fromTimestamp(function(r){const n=Pf(r);return new sr(n.seconds,n.nanos)}(e))}function CN(e,t){return G4(e,t).canonicalString()}function G4(e,t){const r=function(a){return new Bn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function fB(e){const t=Bn.fromString(e);return sn(vB(t),10190,{key:t.toString()}),t}function K4(e,t){return CN(e.databaseId,t.path)}function hS(e,t){const r=fB(t);if(r.get(1)!==e.databaseId.projectId)throw new Kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new cr(hB(r))}function dB(e,t){return CN(e.databaseId,t)}function Tre(e){const t=fB(e);return t.length===4?Bn.emptyPath():hB(t)}function Y4(e){return new Bn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hB(e){return sn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lI(e,t,r){return{name:K4(e,t),fields:r.value.mapValue.fields}}function Ere(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:gr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(sn(u===void 0||typeof u=="string",58123),wi.fromBase64String(u||"")):(sn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),wi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?gt.UNKNOWN:oB(c.code);return new Kt(u,c.message||"")}(s);r=new cB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=hS(e,n.document.name),i=Hl(n.document.updateTime),s=n.document.createTime?Hl(n.document.createTime):Sr.min(),o=new As({mapValue:{fields:n.document.fields}}),l=Ri.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new a2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=hS(e,n.document),i=n.readTime?Hl(n.readTime):Sr.min(),s=Ri.newNoDocument(a,i),o=n.removedTargetIds||[];r=new a2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=hS(e,n.document),i=n.removedTargetIds||[];r=new a2([],i,a,null)}else{if(!("filter"in t))return gr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new gre(a,i),o=n.targetId;r=new lB(o,s)}}return r}function Nre(e,t){let r;if(t instanceof R1)r={update:lI(e,t.key,t.value)};else if(t instanceof n5)r={delete:K4(e,t.key)};else if(t instanceof qf)r={update:lI(e,t.key,t.data),updateMask:Mre(t.fieldMask)};else{if(!(t instanceof dre))return gr(16599,{ft:t.type});r={verify:K4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof kv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eb)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw gr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Are(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:gr(27497)}(e,t.precondition)),r}function kre(e,t){return e&&e.length>0?(sn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Hl(a.updateTime):Hl(i);return s.isEqual(Sr.min())&&(s=Hl(i)),new cre(s,a.transformResults||[])}(r,t))):[]}function Cre(e,t){return{documents:[dB(e,t.path)]}}function pB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=dB(e,a);const i=function(c){if(c.length!==0)return gB(xl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ku(h.field),direction:jre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=H4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Pre(e,t,r,n){const{gt:a,parent:i}=pB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Ku(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Ku(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Ore(e){let t=Tre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){sn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=mB(f);return h instanceof xl&&z9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new Nv(t0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Xw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new J2(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new J2(p,h)}(r.endAt)),Yte(t,a,s,i,o,"F",l,c)}function Ire(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function mB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=t0(r.unaryFilter.field);return Oa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=t0(r.unaryFilter.field);return Oa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=t0(r.unaryFilter.field);return Oa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=t0(r.unaryFilter.field);return Oa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gr(61313);default:return gr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Oa.create(t0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gr(58110);default:return gr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return xl.create(r.compositeFilter.filters.map(n=>mB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return gr(1026)}}(r.compositeFilter.op))}(e):gr(30097,{filter:e})}function jre(e){return bre[e]}function Dre(e){return wre[e]}function Lre(e){return _re[e]}function Ku(e){return{fieldPath:e.canonicalString()}}function t0(e){return mi.fromServerFormat(e.fieldPath)}function gB(e){return e instanceof Oa?function(r){if(r.op==="=="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(r.field),op:Dre(r.op),value:r.value}}}(e):e instanceof xl?function(r){const n=r.getFilters().map(a=>gB(a));return n.length===1?n[0]:{compositeFilter:{op:Lre(r.op),filters:n}}}(e):gr(54877,{filter:e})}function Mre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function vB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,r,n,a,i=Sr.min(),s=Sr.min(),o=wi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new tf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(t){this.wt=t}}function Fre(e){const t=Ore({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Z2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(){this.yn=new Bre}addToCollectionParentIndex(t,r){return this.yn.add(r),bt.resolve()}getCollectionParents(t,r){return bt.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return bt.resolve()}deleteFieldIndex(t,r){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,r){return bt.resolve()}getDocumentsMatchingTarget(t,r){return bt.resolve(null)}getIndexType(t,r){return bt.resolve(0)}getFieldIndexes(t,r){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,r){return bt.resolve(Cf.min())}getMinOffsetFromCollectionGroup(t,r){return bt.resolve(Cf.min())}updateCollectionGroup(t,r,n){return bt.resolve()}updateIndexEntries(t,r){return bt.resolve()}}class Bre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Va(Bn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Va(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yB=41943040;class ws{static withCacheSize(t){return new ws(t,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(yB,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new sp(0)}static ir(){return new sp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="LruGarbageCollector",Ure=1048576;function fI([e,t],[r,n]){const a=Lr(e,r);return a===0?Lr(t,n):a}class Vre{constructor(t){this.cr=t,this.buffer=new Va(fI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class zre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Qt(uI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Wp(r)?Qt(uI,"Ignoring IndexedDB error during garbage collection: ",r):await qp(r)}await this.Ir(3e5)})}}class qre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return bt.resolve(Yw.le);const n=new Vre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(cI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Zh()<=Hr.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Wre(e,t){return new qre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(){this.changes=new fh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ri.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?bt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Cg(n.mutation,a,Ks.empty(),sr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Br()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Br()){const a=Cd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=sg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Cd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Br()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Gc();const s=kg(),o=function(){return kg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof qf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Cg(u.mutation,c,u.mutation.getFieldMask(),sr.now())):s.set(c.key,Ks.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Gre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=kg();let a=new ta((s,o)=>s-o),i=Br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ks.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Br()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=Z9();u.forEach(h=>{if(!i.has(h)){const p=iB(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return bt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return cr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):G9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):bt.resolve(Cd());let o=Sv,l=i;return s.next(c=>bt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?bt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Br())).next(u=>({batchId:o,changes:J9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new cr(r)).next(n=>{let a=sg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=sg();return this.indexManager.getCollectionParents(t,i).next(o=>bt.forEach(o,l=>{const c=function(f,h){return new Hp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Ri.newInvalidDocument(u)))});let o=sg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Cg(u.mutation,c,Ks.empty(),sr.now()),e5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return bt.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Hl(a.createTime)}}(r)),bt.resolve()}getNamedQuery(t,r){return bt.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Fre(a.bundledQuery),readTime:Hl(a.readTime)}}(r)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.overlays=new ta(cr.comparator),this.Or=new Map}getOverlay(t,r){return bt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Cd();return bt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),bt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),bt.resolve()}getOverlaysForCollection(t,r,n){const a=Cd(),i=r.length+1,s=new cr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return bt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new ta((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Cd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Cd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return bt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new pre(r,n));let i=this.Or.get(r);i===void 0&&(i=Br(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Nr=new Va(Ka.Br),this.Lr=new Va(Ka.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Ka(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Ka(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new cr(new Bn([])),n=new Ka(r,t),a=new Ka(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new cr(new Bn([])),n=new Ka(r,t),a=new Ka(r,t+1);let i=Br();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Ka(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ka{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return cr.comparator(t.key,r.key)||Lr(t.Gr,r.Gr)}static kr(t,r){return Lr(t.Gr,r.Gr)||cr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Va(Ka.Br)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Ka(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return bt.resolve(s)}lookupMutationBatch(t,r){return bt.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return bt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?wN:this.Jn-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ka(r,0),a=new Ka(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),bt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Va(Lr);return r.forEach(a=>{const i=new Ka(a,0),s=new Ka(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),bt.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;cr.isDocumentKey(i)||(i=i.child(""));const s=new Ka(new cr(i),0);let o=new Va(Lr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),bt.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){sn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return bt.forEach(r.mutations,a=>{const i=new Ka(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Ka(r,0),a=this.zr.firstAfterOrEqual(n);return bt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(t){this.Zr=t,this.docs=function(){return new ta(cr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return bt.resolve(n?n.document.mutableCopy():Ri.newInvalidDocument(r))}getEntries(t,r){let n=Gc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Ri.newInvalidDocument(a))}),bt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Gc();const s=r.path,o=new cr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Nte(Ete(u),n)<=0||(a.has(u.key)||e5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return bt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){gr(9500)}Xr(t,r){return bt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new ene(this)}getSize(t){return bt.resolve(this.size)}}class ene extends Hre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),bt.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(t){this.persistence=t,this.ei=new fh(r=>AN(r),TN),this.lastRemoteSnapshotVersion=Sr.min(),this.highestTargetId=0,this.ti=0,this.ni=new PN,this.targetCount=0,this.ri=sp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),bt.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new sp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,bt.resolve()}updateTargetData(t,r){return this.ar(r),bt.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),bt.waitFor(i).next(()=>a)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return bt.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),bt.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),bt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),bt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return bt.resolve(n)}containsKey(t,r){return bt.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t,r){this.ii={},this.overlays={},this.si=new Yw(0),this.oi=!1,this.oi=!0,this._i=new Qre,this.referenceDelegate=t(this),this.ai=new tne(this),this.indexManager=new $re,this.remoteDocumentCache=function(a){return new Zre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Rre(r),this.ci=new Yre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Xre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Jre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Qt("MemoryPersistence","Starting transaction:",t);const a=new rne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return bt.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class rne extends Cte{constructor(t){super(),this.currentSequenceNumber=t}}class ON{constructor(t){this.persistence=t,this.Ti=new PN,this.Ii=null}static Ei(t){return new ON(t)}get di(){if(this.Ii)return this.Ii;throw gr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),bt.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),bt.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),bt.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.di,n=>{const a=cr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Sr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return bt.or([()=>bt.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class rb{constructor(t,r){this.persistence=t,this.Ri=new fh(n=>Ite(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Wre(this,r)}static Ei(t,r){return new rb(t,r)}li(){}hi(t){return bt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return bt.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?bt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Sr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=t2(t.data.value)),r}gr(t,r,n){return bt.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return bt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Br(),a=Br();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new IN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return XZ()?8:Pte(KZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new nne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Zh()<=Hr.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",e0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),bt.resolve()):(Zh()<=Hr.DEBUG&&Qt("QueryEngine","Query:",e0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Zh()<=Hr.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",e0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wl(r))):bt.resolve())}Rs(t,r){if(ZO(r))return bt.resolve(null);let n=Wl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Z2(r,null,"F"),n=Wl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Br(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,Z2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return ZO(r)||a.isEqual(Sr.min())?bt.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?bt.resolve(null):(Zh()<=Hr.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),e0(r)),this.ws(t,s,r,Tte(a,Sv)).next(o=>o))})}ps(t,r){let n=new Va(X9(t));return r.forEach((a,i)=>{e5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Zh()<=Hr.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",e0(r)),this.As.getDocumentsMatchingQuery(t,r,Cf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="LocalStore",ine=3e8;class sne{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new ta(Lr),this.Ds=new fh(i=>AN(i),TN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function one(e,t,r,n){return new sne(e,t,r,n)}async function bB(e,t){const r=_r(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Br();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function lne(e,t){const r=_r(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=bt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);sn(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Br();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function wB(e){const t=_r(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function cne(e,t){const r=_r(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(wi.EMPTY_BYTE_STRING,Sr.min()).withLastLimboFreeSnapshotVersion(Sr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=ine?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=Gc(),c=Br();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(une(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Sr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return bt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function une(e,t,r){let n=Br(),a=Br();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Gc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Sr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Qt(jN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function fne(e,t){const r=_r(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=wN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function dne(e,t){const r=_r(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,bt.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new tf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function X4(e,t,r){const n=_r(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Wp(s))throw s;Qt(jN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function dI(e,t,r){const n=_r(e);let a=Sr.min(),i=Br();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=_r(l),h=f.Ds.get(u);return h!==void 0?bt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Wl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Sr.min(),r?i:Br())).next(o=>(hne(n,Qte(t),o),{documents:o,Ns:i})))}function hne(e,t,r){let n=e.vs.get(t)||Sr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class hI{constructor(){this.activeTargetIds=nre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pne{constructor(){this.So=new hI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new hI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="ConnectivityMonitor";class mI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Qt(pI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Qt(pI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix=null;function Q4(){return ix===null?ix=function(){return 268435456+Math.round(2147483648*Math.random())}():ix++,"0x"+ix.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="RestConnection",gne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===X2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=Q4(),o=this.$o(t,r.toUriEncodedString());Qt(pS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=yN(c);return this.Ko(t,o,l,n,u).then(f=>(Qt(pS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw rp(pS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=gne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="WebChannelConnection";class xne extends vne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=Q4();return new Promise((o,l)=>{const c=new w9;c.setWithCredentials(!0),c.listenOnce(_9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case e2.NO_ERROR:const f=c.getResponseJson();Qt(Ei,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case e2.TIMEOUT:Qt(Ei,`RPC '${t}' ${s} timed out`),l(new Kt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case e2.HTTP_ERROR:const h=c.getStatus();if(Qt(Ei,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(w)>=0?w:gt.UNKNOWN}(g.status);l(new Kt(m,g.message))}else l(new Kt(gt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Kt(gt.UNAVAILABLE,"Connection failed."));break;default:gr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Qt(Ei,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Qt(Ei,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=Q4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=T9(),o=A9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Qt(Ei,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new yne({Go:v=>{p?Qt(Ei,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Qt(Ei,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Qt(Ei,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(I){setTimeout(()=>{throw I},0)}})};return m(f,ig.EventType.OPEN,()=>{p||(Qt(Ei,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,ig.EventType.CLOSE,()=>{p||(p=!0,Qt(Ei,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,ig.EventType.ERROR,v=>{p||(p=!0,rp(Ei,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Kt(gt.UNAVAILABLE,"The operation could not be completed")))}),m(f,ig.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];sn(!!w,16349);const b=w,I=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(I){Qt(Ei,`RPC '${t}' stream ${a} received error:`,I);const C=I.status;let j=function(A){const D=Ea[A];if(D!==void 0)return oB(D)}(C),T=I.message;j===void 0&&(j=gt.INTERNAL,T="Unknown error status: "+C+" with message "+I.message),p=!0,g.r_(new Kt(j,T)),f.close()}else Qt(Ei,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,S9.STAT_EVENT,v=>{v.stat===$4.PROXY?Qt(Ei,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===$4.NOPROXY&&Qt(Ei,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function mS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){return new Sre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Qt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class SB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _B(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(Hc(r.toString()),Hc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Kt(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Qt(gI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Qt(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bne extends SB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Ere(this.serializer,t),n=function(i){if(!("targetChange"in i))return Sr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Sr.min():s.readTime?Hl(s.readTime):Sr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=Y4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=q4(l)?{documents:Cre(i,l)}:{query:pB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uB(i,s.resumeToken);const c=H4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Sr.min())>0){o.readTime=tb(i,s.snapshotVersion.toTimestamp());const c=H4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Ire(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=Y4(this.serializer),r.removeTarget=t,this.F_(r)}}class wne extends SB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return sn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,sn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){sn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=kre(t.writeResults,t.commitTime),n=Hl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=Y4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Nre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{}class Sne extends _ne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Kt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,G4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Kt(gt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,G4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Kt(gt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Ane{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hc(r),this.ea=!1):Qt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RemoteStore";class Tne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{dh(this)&&(Qt(Zd,"Restarting streams for network reachability change."),await async function(l){const c=_r(l);c.aa.add(4),await $1(c),c.la.set("Unknown"),c.aa.delete(4),await s5(c)}(this))})}),this.la=new Ane(n,a)}}async function s5(e){if(dh(e))for(const t of e.ua)await t(!0)}async function $1(e){for(const t of e.ua)await t(!1)}function AB(e,t){const r=_r(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),RN(r)?MN(r):Gp(r).b_()&&LN(r,t))}function DN(e,t){const r=_r(e),n=Gp(r);r._a.delete(t),n.b_()&&TB(r,t),r._a.size===0&&(n.b_()?n.v_():dh(r)&&r.la.set("Unknown"))}function LN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Gp(e).U_(t)}function TB(e,t){e.ha.Ke(t),Gp(e).K_(t)}function MN(e){e.ha=new xre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Gp(e).start(),e.la.ta()}function RN(e){return dh(e)&&!Gp(e).w_()&&e._a.size>0}function dh(e){return _r(e).aa.size===0}function EB(e){e.ha=void 0}async function Ene(e){e.la.set("Online")}async function Nne(e){e._a.forEach((t,r)=>{LN(e,t)})}async function kne(e,t){EB(e),RN(e)?(e.la.ia(t),MN(e)):e.la.set("Unknown")}async function Cne(e,t,r){if(e.la.set("Online"),t instanceof cB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Qt(Zd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nb(e,n)}else if(t instanceof a2?e.ha.Xe(t):t instanceof lB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Sr.min()))try{const n=await wB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(wi.EMPTY_BYTE_STRING,u.snapshotVersion)),TB(i,l);const f=new tf(u.target,l,c,u.sequenceNumber);LN(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Qt(Zd,"Failed to raise snapshot:",n),await nb(e,n)}}async function nb(e,t,r){if(!Wp(t))throw t;e.aa.add(1),await $1(e),e.la.set("Offline"),r||(r=()=>wB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Qt(Zd,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await s5(e)})}function NB(e,t){return t().catch(r=>nb(e,r,t))}async function o5(e){const t=_r(e),r=jf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:wN;for(;Pne(t);)try{const a=await fne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,One(t,a)}catch(a){await nb(t,a)}kB(t)&&CB(t)}function Pne(e){return dh(e)&&e.oa.length<10}function One(e,t){e.oa.push(t);const r=jf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function kB(e){return dh(e)&&!jf(e).w_()&&e.oa.length>0}function CB(e){jf(e).start()}async function Ine(e){jf(e).H_()}async function jne(e){const t=jf(e);for(const r of e.oa)t.G_(r.mutations)}async function Dne(e,t,r){const n=e.oa.shift(),a=NN.from(n,t,r);await NB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await o5(e)}async function Lne(e,t){t&&jf(e).W_&&await async function(n,a){if(function(s){return vre(s)&&s!==gt.ABORTED}(a.code)){const i=n.oa.shift();jf(n).D_(),await NB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await o5(n)}}(e,t),kB(e)&&CB(e)}async function vI(e,t){const r=_r(e);r.asyncQueue.verifyOperationInProgress(),Qt(Zd,"RemoteStore received new credentials");const n=dh(r);r.aa.add(3),await $1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await s5(r)}async function Mne(e,t){const r=_r(e);t?(r.aa.delete(2),await s5(r)):t||(r.aa.add(2),await $1(r),r.la.set("Unknown"))}function Gp(e){return e.Pa||(e.Pa=function(r,n,a){const i=_r(r);return i.Y_(),new bne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Ene.bind(null,e),Jo:Nne.bind(null,e),Zo:kne.bind(null,e),Q_:Cne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),RN(e)?MN(e):e.la.set("Unknown")):(await e.Pa.stop(),EB(e))})),e.Pa}function jf(e){return e.Ta||(e.Ta=function(r,n,a){const i=_r(r);return i.Y_(),new wne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ine.bind(null,e),Zo:Lne.bind(null,e),z_:jne.bind(null,e),j_:Dne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await o5(e)):(await e.Ta.stop(),e.oa.length>0&&(Qt(Zd,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new FN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $N(e,t){if(Hc("AsyncQueue",`${t}: ${e}`),Wp(e))return new Kt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static emptySet(t){return new D0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||cr.comparator(r.key,n.key):(r,n)=>cr.comparator(r.key,n.key),this.keyedMap=sg(),this.sortedSet=new ta(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof D0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new D0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Ia=new ta(cr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):gr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class op{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new op(t,r,D0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Fne{constructor(){this.queries=xI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=_r(r),i=a.queries;a.queries=xI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Kt(gt.ABORTED,"Firestore shutting down"))}}function xI(){return new fh(e=>Y9(e),Zw)}async function BN(e,t){const r=_r(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Rne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=$N(s,`Initialization of query '${e0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&VN(r)}async function UN(e,t){const r=_r(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function $ne(e,t){const r=_r(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&VN(r)}function Bne(e,t,r){const n=_r(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function VN(e){e.fa.forEach(t=>{t.next()})}var J4,bI;(bI=J4||(J4={})).ya="default",bI.Cache="cache";class zN{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new op(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=op.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==J4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t){this.key=t}}class OB{constructor(t){this.key=t}}class Une{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Br(),this.mutatedKeys=Br(),this.Ua=X9(t),this.Ka=new D0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new yI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=e5(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gr(20277,{Vt:v})}};return m(p)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new op(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Br(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new OB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new PB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Br();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return op.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qN="SyncEngine";class Vne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class zne{constructor(t){this.key=t,this.tu=!1}}class qne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new fh(o=>Y9(o),Zw),this.iu=new Map,this.su=new Set,this.ou=new ta(cr.comparator),this._u=new Map,this.au=new PN,this.uu={},this.cu=new Map,this.lu=sp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Wne(e,t,r=!0){const n=RB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await IB(n,t,r,!0),a}async function Hne(e,t){const r=RB(e);await IB(r,t,!0,!1)}async function IB(e,t,r,n){const a=await dne(e.localStore,Wl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Gne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&AB(e.remoteStore,a),o}async function Gne(e,t,r,n,a){e.Pu=(f,h,p)=>async function(m,v,y,w){let b=v.view.Ga(y);b.ys&&(b=await dI(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,b)));const I=w&&w.targetChanges.get(v.targetId),C=w&&w.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(b,m.isPrimaryClient,I,C);return _I(m,v.targetId,j.Ya),j.snapshot}(e,f,h,p);const i=await dI(e.localStore,t,!0),s=new Une(t,i.Ns),o=s.Ga(i.documents),l=F1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);_I(e,r,c.Ya);const u=new Vne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Kne(e,t,r){const n=_r(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Zw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await X4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&DN(n.remoteStore,a.targetId),Z4(n,a.targetId)}).catch(qp)):(Z4(n,a.targetId),await X4(n.localStore,a.targetId,!0))}async function Yne(e,t){const r=_r(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),DN(r.remoteStore,n.targetId))}async function Xne(e,t,r){const n=nae(e);try{const a=await function(s,o){const l=_r(s),c=sr.now(),u=o.reduce((p,g)=>p.add(g.key),Br());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Gc(),m=Br();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const w of o){const b=fre(w,f.get(w.key).overlayedDocument);b!=null&&y.push(new qf(w.key,b,B9(b.value.mapValue),fs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:J9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new ta(Lr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await B1(n,a.changes),await o5(n.remoteStore)}catch(a){const i=$N(a,"Failed to persist write");r.reject(i)}}async function jB(e,t){const r=_r(e);try{const n=await cne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(sn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?sn(s.tu,14607):a.removedDocuments.size>0&&(sn(s.tu,42227),s.tu=!1))}),await B1(r,n,t)}catch(n){await qp(n)}}function wI(e,t,r){const n=_r(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=_r(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&VN(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Qne(e,t,r){const n=_r(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new ta(cr.comparator);s=s.insert(i,Ri.newNoDocument(i,Sr.min()));const o=Br().add(i),l=new a5(Sr.min(),new Map,new ta(Lr),s,o);await jB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),WN(n)}else await X4(n.localStore,t,!1).then(()=>Z4(n,t,r)).catch(qp)}async function Jne(e,t){const r=_r(e),n=t.batch.batchId;try{const a=await lne(r.localStore,t);LB(r,n,null),DB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await B1(r,a)}catch(a){await qp(a)}}async function Zne(e,t,r){const n=_r(e);try{const a=await function(s,o){const l=_r(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(sn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);LB(n,t,r),DB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await B1(n,a)}catch(a){await qp(a)}}function DB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function LB(e,t,r){const n=_r(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function Z4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||MB(e,n)})}function MB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(DN(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),WN(e))}function _I(e,t,r){for(const n of r)n instanceof PB?(e.au.addReference(n.key,t),eae(e,n)):n instanceof OB?(Qt(qN,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||MB(e,n.key)):gr(19791,{Iu:n})}function eae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Qt(qN,"New document in limbo: "+r),e.su.add(n),WN(e))}function WN(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new cr(Bn.fromString(t)),n=e.lu.next();e._u.set(n,new zne(r)),e.ou=e.ou.insert(r,n),AB(e.remoteStore,new tf(Wl(Jw(r.path)),n,"TargetPurposeLimboResolution",Yw.le))}}async function B1(e,t,r){const n=_r(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=IN.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=_r(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>bt.forEach(c,h=>bt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>bt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Wp(f))throw f;Qt(jN,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function tae(e,t){const r=_r(e);if(!r.currentUser.isEqual(t)){Qt(qN,"User change. New user:",t.toKey());const n=await bB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Kt(gt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await B1(r,n.Ms)}}function rae(e,t){const r=_r(e),n=r._u.get(t);if(n&&n.tu)return Br().add(n.key);{let a=Br();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function RB(e){const t=_r(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qne.bind(null,t),t.nu.Q_=$ne.bind(null,t.eventManager),t.nu.Tu=Bne.bind(null,t.eventManager),t}function nae(e){const t=_r(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zne.bind(null,t),t}class ab{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=i5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return one(this.persistence,new ane,t.initialUser,this.serializer)}Ru(t){return new xB(ON.Ei,this.serializer)}Au(t){return new pne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ab.provider={build:()=>new ab};class aae extends ab{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){sn(this.persistence.referenceDelegate instanceof rb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new zre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new xB(n=>rb.Ei(n,r),this.serializer)}}class eT{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tae.bind(null,this.syncEngine),await Mne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Fne}()}createDatastore(t){const r=i5(t.databaseInfo.databaseId),n=function(i){return new xne(i)}(t.databaseInfo);return function(i,s,o,l){return new Sne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Tne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>wI(this.syncEngine,r,0),function(){return mI.C()?new mI:new mne}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new qne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=_r(a);Qt(Zd,"RemoteStore shutting down."),i.aa.add(5),await $1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}eT.provider={build:()=>new eT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Hc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="FirestoreClient";class iae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Di.UNAUTHENTICATED,this.clientId=C9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Qt(Df,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Qt(Df,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=$N(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function gS(e,t){e.asyncQueue.verifyOperationInProgress(),Qt(Df,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await bB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function SI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await sae(e);Qt(Df,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>vI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>vI(t.remoteStore,a)),e._onlineComponents=t}async function sae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qt(Df,"Using user provided OfflineComponentProvider");try{await gS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===gt.FAILED_PRECONDITION||a.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;rp("Error using user provided cache. Falling back to memory cache: "+r),await gS(e,new ab)}}else Qt(Df,"Using default OfflineComponentProvider"),await gS(e,new aae(void 0));return e._offlineComponents}async function GN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qt(Df,"Using user provided OnlineComponentProvider"),await SI(e,e._uninitializedComponentsProvider._online)):(Qt(Df,"Using default OnlineComponentProvider"),await SI(e,new eT))),e._onlineComponents}function oae(e){return GN(e).then(t=>t.syncEngine)}function lae(e){return GN(e).then(t=>t.datastore)}async function ib(e){const t=await GN(e),r=t.eventManager;return r.onListen=Wne.bind(null,t.syncEngine),r.onUnlisten=Kne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Hne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Yne.bind(null,t.syncEngine),r}function cae(e,t,r={}){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Kt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Kt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(Jw(o.path),u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await ib(e),e.asyncQueue,t,r,n)),n.promise}function uae(e,t,r={}){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f)),h.fromCache&&l.source==="server"?c.reject(new Kt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(o,u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await ib(e),e.asyncQueue,t,r,n)),n.promise}function fae(e,t,r){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await lae(e);n.resolve(async function(s,o,l){var c;const u=_r(s),{request:f,yt:h,parent:p}=Pre(u.serializer,Xte(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,f,1)).filter(v=>!!v.result);sn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(e,t,r){if(!r)throw new Kt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dae(e,t,r,n){if(t===!0&&n===!0)throw new Kt(gt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function TI(e){if(!cr.isDocumentKey(e))throw new Kt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EI(e){if(cr.isDocumentKey(e))throw new Kt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function l5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":gr(12329,{type:typeof e})}function zi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Kt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=l5(e);throw new Kt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function hae(e,t){if(t<=0)throw new Kt(gt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="firestore.googleapis.com",NI=!0;class kI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Kt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BB,this.ssl=NI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:NI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ure)throw new Kt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class c5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Kt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new gte;switch(n.type){case"firstParty":return new bte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Kt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,d9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=AI.get(r);n&&(Qt("ComponentProvider","Removing Datastore"),AI.delete(r),n.terminate())}(this),Promise.resolve()}}function pae(e,t,r,n={}){var a;e=zi(e,c5);const i=yN(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==BB&&s.host!==l&&rp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!H2(c,o)&&(e._setSettings(c),i&&(qZ(`https://${l}`),d9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Di.MOCK_USER;else{u=WZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Kt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Di(h)}e._authCredentials=new vte(new N9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new su(this.firestore,t,this._query)}}class qi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}}class bf extends su{constructor(t,r,n){super(t,r,Jw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new cr(t))}withConverter(t){return new bf(this.firestore,t,this._path)}}function mt(e,t,...r){if(e=Io(e),$B("collection","path",t),e instanceof c5){const n=Bn.fromString(t,...r);return EI(n),new bf(e,null,n)}{if(!(e instanceof qi||e instanceof bf))throw new Kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(t,...r));return EI(n),new bf(e.firestore,null,n)}}function wr(e,t,...r){if(e=Io(e),arguments.length===1&&(t=C9.newId()),$B("doc","path",t),e instanceof c5){const n=Bn.fromString(t,...r);return TI(n),new qi(e,null,new cr(n))}{if(!(e instanceof qi||e instanceof bf))throw new Kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(t,...r));return TI(n),new qi(e.firestore,e instanceof bf?e.converter:null,new cr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="AsyncQueue";class PI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _B(this,"async_queue_retry"),this.ju=()=>{const n=mS();n&&Qt(CI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=mS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=mS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new ql;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Wp(t))throw t;Qt(CI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Hc("INTERNAL UNHANDLED ERROR: ",OI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=FN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&gr(47125,{ec:OI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function OI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class bl extends c5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new PI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PI(t),this._firestoreClient=void 0,await t}}}function mae(e,t){const r=typeof e=="object"?e:nte(),n=typeof e=="string"?e:X2,a=Jee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=VZ("firestore");i&&pae(a,...i)}return a}function Kp(e){if(e._terminated)throw new Kt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||gae(e),e._firestoreClient}function gae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Mte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,FB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new iae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class yae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lp(wi.fromBase64String(t))}catch(r){throw new Kt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new lp(wi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Kt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Kt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Kt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lr(this._lat,t._lat)||Lr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=/^__.*__$/;class bae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new qf(t,this.data,this.fieldMask,r,this.fieldTransforms):new R1(t,this.data,r,this.fieldTransforms)}}class UB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new qf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function VB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gr(40011,{oc:e})}}class XN{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new XN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return sb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(VB(this.oc)&&xae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class wae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||i5(t)}dc(t,r,n,a=!1){return new XN({oc:t,methodName:r,Ec:n,path:mi.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V1(e){const t=e._freezeSettings(),r=i5(e._databaseId);return new wae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function QN(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);ZN("Data must be an object, but it was:",s,n);const o=WB(n,s);let l,c;if(i.merge)l=new Ks(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=tT(t,f,r);if(!s.contains(h))throw new Kt(gt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);GB(u,h)||u.push(h)}l=new Ks(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new bae(new As(o),l,c)}class z1 extends u5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof z1}}class JN extends u5{_toFieldTransform(t){return new ore(t.path,new kv)}isEqual(t){return t instanceof JN}}function zB(e,t,r,n){const a=e.dc(1,t,r);ZN("Data must be an object, but it was:",a,n);const i=[],s=As.empty();zf(n,(l,c)=>{const u=ek(t,l,r);c=Io(c);const f=a.hc(u);if(c instanceof z1)i.push(u);else{const h=q1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ks(i);return new UB(s,o,a.fieldTransforms)}function qB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[tT(t,n,r)],l=[a];if(i.length%2!=0)throw new Kt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(tT(t,i[h])),l.push(i[h+1]);const c=[],u=As.empty();for(let h=o.length-1;h>=0;--h)if(!GB(c,o[h])){const p=o[h];let g=l[h];g=Io(g);const m=s.hc(p);if(g instanceof z1)c.push(p);else{const v=q1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const f=new Ks(c);return new UB(u,f,s.fieldTransforms)}function _ae(e,t,r,n=!1){return q1(r,e.dc(n?4:3,t))}function q1(e,t){if(HB(e=Io(e)))return ZN("Unsupported field value:",t,e),WB(e,t);if(e instanceof u5)return function(n,a){if(!VB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=q1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Io(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return are(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=sr.fromDate(n);return{timestampValue:tb(a.serializer,i)}}if(n instanceof sr){const i=new sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tb(a.serializer,i)}}if(n instanceof KN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lp)return{bytesValue:uB(a.serializer,n._byteString)};if(n instanceof qi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CN(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof YN)return function(s,o){return{mapValue:{fields:{[R9]:{stringValue:$9},[Q2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return EN(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${l5(n)}`)}(e,t)}function WB(e,t){const r={};return O9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zf(e,(n,a)=>{const i=q1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function HB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof sr||e instanceof KN||e instanceof lp||e instanceof qi||e instanceof u5||e instanceof YN)}function ZN(e,t,r){if(!HB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=l5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function tT(e,t,r){if((t=Io(t))instanceof U1)return t._internalPath;if(typeof t=="string")return ek(e,t);throw sb("Field path arguments must be of type string or ",e,!1,void 0,r)}const Sae=new RegExp("[~\\*/\\[\\]]");function ek(e,t,r){if(t.search(Sae)>=0)throw sb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new U1(...t.split("."))._internalPath}catch{throw sb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function sb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Kt(gt.INVALID_ARGUMENT,o+e+l)}function GB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Aae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(f5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Aae extends KB{data(){return super.data()}}function f5(e,t){return typeof t=="string"?ek(e,t):t instanceof U1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Kt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tk{}class rk extends tk{}function or(e,t,...r){let n=[];t instanceof tk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof nk).length,o=i.filter(l=>l instanceof d5).length;if(s>1||s>0&&o>0)throw new Kt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class d5 extends rk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new d5(t,r,n)}_apply(t){const r=this._parse(t);return XB(t._query,r),new su(t.firestore,t.converter,W4(t._query,r))}_parse(t){const r=V1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Kt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){DI(f,u);const g=[];for(const m of f)g.push(jI(l,i,m));h={arrayValue:{values:g}}}else h=jI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||DI(f,u),h=_ae(o,s,f,u==="in"||u==="not-in");return Oa.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function nr(e,t,r){const n=t,a=f5("where",e);return d5._create(a,n,r)}class nk extends tk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new nk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:xl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)XB(s,l),s=W4(s,l)}(t._query,r),new su(t.firestore,t.converter,W4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ak extends rk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ak(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nv(i,s)}(t._query,this._field,this._direction);return new su(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Hp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ia(e,t="asc"){const r=t,n=f5("orderBy",e);return ak._create(n,r)}class ik extends rk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new ik(t,r,n)}_apply(t){return new su(t.firestore,t.converter,Z2(t._query,this._limit,this._limitType))}}function lg(e){return hae("limit",e),ik._create("limit",e,"F")}function jI(e,t,r){if(typeof(r=Io(r))=="string"){if(r==="")throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G9(t)&&r.indexOf("/")!==-1)throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Bn.fromString(r));if(!cr.isDocumentKey(n))throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return GO(e,new cr(n))}if(r instanceof qi)return GO(e,r._key);throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l5(r)}.`)}function DI(e,t){if(!Array.isArray(e)||e.length===0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function XB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Tae{convertValue(t,r="none"){switch(If(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Of(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw gr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return zf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[Q2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>pa(s.doubleValue));return new YN(i)}convertGeoPoint(t){return new KN(pa(t.latitude),pa(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Qw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Av(t));default:return null}}convertTimestamp(t){const r=Pf(t);return new sr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Bn.fromString(t);sn(vB(n),9688,{name:t});const a=new Tv(n.get(1),n.get(3)),i=new cr(n.popFirst(5));return a.isEqual(r)||Hc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Eae(){return new vae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class QB extends KB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new i2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(f5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class i2 extends QB{data(t={}){return super.data(t)}}class JB{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new cg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new i2(this._firestore,this._userDataWriter,n.key,n,new cg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Kt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new i2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new cg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new i2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new cg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Nae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Nae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(e){e=zi(e,qi);const t=zi(e.firestore,bl);return cae(Kp(t),e._key).then(r=>ZB(t,e,r))}class h5 extends Tae{constructor(t){super(),this.firestore=t}convertBytes(t){return new lp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function lr(e){e=zi(e,su);const t=zi(e.firestore,bl),r=Kp(t),n=new h5(t);return YB(e._query),uae(r,e._query).then(a=>new JB(t,n,e,a))}function sx(e,t,r){e=zi(e,qi);const n=zi(e.firestore,bl),a=sk(e.converter,t,r);return W1(n,[QN(V1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,fs.none())])}function En(e,t,r,...n){e=zi(e,qi);const a=zi(e.firestore,bl),i=V1(a);let s;return s=typeof(t=Io(t))=="string"||t instanceof U1?qB(i,"updateDoc",e._key,t,r,n):zB(i,"updateDoc",e._key,t),W1(a,[s.toMutation(e._key,fs.exists(!0))])}function Ys(e){return W1(zi(e.firestore,bl),[new n5(e._key,fs.none())])}function hr(e,t){const r=zi(e.firestore,bl),n=wr(e),a=sk(e.converter,t);return W1(r,[QN(V1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,fs.exists(!1))]).then(()=>n)}function kae(e,...t){var r,n,a;e=Io(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||II(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(II(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let l,c,u;if(e instanceof qi)c=zi(e.firestore,bl),u=Jw(e._key.path),l={next:f=>{t[s]&&t[s](ZB(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=zi(e,su);c=zi(f.firestore,bl),u=f._query;const h=new h5(c);l={next:p=>{t[s]&&t[s](new JB(c,h,f,p))},error:t[s+1],complete:t[s+2]},YB(e._query)}return function(h,p,g,m){const v=new HN(m),y=new zN(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>BN(await ib(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>UN(await ib(h),y))}}(Kp(c),u,o,l)}function W1(e,t){return function(n,a){const i=new ql;return n.asyncQueue.enqueueAndForget(async()=>Xne(await oae(n),a,i)),i.promise}(Kp(e),t)}function ZB(e,t,r){const n=r.docs.get(t._key),a=new h5(e);return new QB(e,a,t._key,n,new cg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){return Cae(e,{count:Eae()})}function Cae(e,t){const r=zi(e.firestore,bl),n=Kp(r),a=Dte(t,(i,s)=>new mre(s,i.aggregateType,i._internalFieldPath));return fae(n,e._query,a).then(i=>function(o,l,c){const u=new h5(o);return new yae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=V1(t)}set(t,r,n){this._verifyNotCommitted();const a=vS(t,this._firestore),i=sk(a.converter,r,n),s=QN(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,fs.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=vS(t,this._firestore);let s;return s=typeof(r=Io(r))=="string"||r instanceof U1?qB(this._dataReader,"WriteBatch.update",i._key,r,n,a):zB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,fs.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=vS(t,this._firestore);return this._mutations=this._mutations.concat(new n5(r._key,fs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vS(e,t){if((e=Io(e)).firestore!==t)throw new Kt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return new z1("deleteField")}function Ac(){return new JN("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oae(e){return Kp(e=zi(e,bl)),new Pae(e,t=>W1(e,t))}(function(t,r=!0){(function(a){zp=a})(rte),K2(new wv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new bl(new yte(n.getProvider("auth-internal")),new wte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Kt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),j0(LO,MO,t),j0(LO,MO,"esm2017")})();const Iae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},jae=v9(Iae),Ge=mae(jae),eU=U.createContext(void 0),ba=()=>{const e=U.useContext(eU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dae=({children:e})=>{const[t,r]=U.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=U.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await lr(mt(Ge,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const p={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await hr(mt(Ge,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),hr(mt(Ge,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return d.jsx(eU.Provider,{value:o,children:e})},tU=U.createContext(void 0),Lae=({children:e})=>{const[t,r]=U.useState(!0),n=()=>{r(!t)};return d.jsx(tU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},en=()=>{const e=U.useContext(tU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},lk=U.createContext({});function H1(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const ck=typeof window<"u",uk=ck?U.useLayoutEffect:U.useEffect,p5=U.createContext(null);function fk(e,t){e.indexOf(t)===-1&&e.push(t)}function m5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Kc=(e,t,r)=>r>t?t:r<e?e:r;let ob=()=>{};const Yc={},rU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nU(e){return typeof e=="object"&&e!==null}const aU=e=>/^0[^.\s]+$/u.test(e);function dk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Eo=e=>e,Mae=(e,t)=>r=>t(e(r)),G1=(...e)=>e.reduce(Mae),cp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class hk{constructor(){this.subscriptions=[]}add(t){return fk(this.subscriptions,t),()=>m5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ml=e=>e*1e3,Gl=e=>e/1e3;function iU(e,t){return t?e*(1e3/t):0}const Rae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},sU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Fae=1e-7,$ae=12;function Bae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=sU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Fae&&++o<$ae);return s}function K1(e,t,r,n){if(e===t&&r===n)return Eo;const a=i=>Bae(i,0,1,e,r);return i=>i===0||i===1?i:sU(a(i),t,n)}const oU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lU=e=>t=>1-e(1-t),cU=K1(.33,1.53,.69,.99),pk=lU(cU),uU=oU(pk),fU=e=>(e*=2)<1?.5*pk(e):.5*(2-Math.pow(2,-10*(e-1))),mk=e=>1-Math.sin(Math.acos(e)),dU=lU(mk),hU=oU(mk),Uae=K1(.42,0,1,1),Vae=K1(0,0,.58,1),pU=K1(.42,0,.58,1),mU=e=>Array.isArray(e)&&typeof e[0]!="number";function gU(e,t){return mU(e)?e[Rae(0,e.length,t)]:e}const vU=e=>Array.isArray(e)&&typeof e[0]=="number",MI={linear:Eo,easeIn:Uae,easeInOut:pU,easeOut:Vae,circIn:mk,circInOut:hU,circOut:dU,backIn:pk,backInOut:uU,backOut:cU,anticipate:fU},zae=e=>typeof e=="string",RI=e=>{if(vU(e)){ob(e.length===4);const[t,r,n,a]=e;return K1(t,r,n,a)}else if(zae(e))return ob(MI[e]!==void 0),MI[e];return e},ox=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],FI={value:null,addProjectionMetrics:null};function qae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&FI.value&&FI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Wae=40;function yU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=ox.reduce((b,I)=>(b[I]=qae(i,t?I:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const b=Yc.useManualTiming?a.timestamp:performance.now();r=!1,Yc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,Wae),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:ox.reduce((b,I)=>{const C=s[I];return b[I]=(j,T=!1,S=!1)=>(r||v(),C.schedule(j,T,S)),b},{}),cancel:b=>{for(let I=0;I<ox.length;I++)s[ox[I]].cancel(b)},state:a,steps:s}}const{schedule:Kn,cancel:Xc,state:ui,steps:yS}=yU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Eo,!0);let s2;function Hae(){s2=void 0}const Es={now:()=>(s2===void 0&&Es.set(ui.isProcessing||Yc.useManualTiming?ui.timestamp:performance.now()),s2),set:e=>{s2=e,queueMicrotask(Hae)}},xU=e=>t=>typeof t=="string"&&t.startsWith(e),gk=xU("--"),Gae=xU("var(--"),vk=e=>Gae(e)?Kae.test(e.split("/*")[0].trim()):!1,Kae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Iv={...Yp,transform:e=>Kc(0,1,e)},lx={...Yp,default:1},Pg=e=>Math.round(e*1e5)/1e5,yk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yae(e){return e==null}const Xae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xk=(e,t)=>r=>!!(typeof r=="string"&&Xae.test(r)&&r.startsWith(e)||t&&!Yae(r)&&Object.prototype.hasOwnProperty.call(r,t)),bU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(yk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Qae=e=>Kc(0,255,e),xS={...Yp,transform:e=>Math.round(Qae(e))},Pd={test:xk("rgb","red"),parse:bU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+xS.transform(e)+", "+xS.transform(t)+", "+xS.transform(r)+", "+Pg(Iv.transform(n))+")"};function Jae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const rT={test:xk("#"),parse:Jae,transform:Pd.transform},Y1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uu=Y1("deg"),Kl=Y1("%"),xr=Y1("px"),Zae=Y1("vh"),eie=Y1("vw"),$I={...Kl,parse:e=>Kl.parse(e)/100,transform:e=>Kl.transform(e*100)},v0={test:xk("hsl","hue"),parse:bU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kl.transform(Pg(t))+", "+Kl.transform(Pg(r))+", "+Pg(Iv.transform(n))+")"},Ii={test:e=>Pd.test(e)||rT.test(e)||v0.test(e),parse:e=>Pd.test(e)?Pd.parse(e):v0.test(e)?v0.parse(e):rT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):v0.transform(e)},tie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yk))==null?void 0:t.length)||0)+(((r=e.match(tie))==null?void 0:r.length)||0)>0}const wU="number",_U="color",nie="var",aie="var(",BI="${}",iie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(iie,l=>(Ii.test(l)?(n.color.push(i),a.push(_U),r.push(Ii.parse(l))):l.startsWith(aie)?(n.var.push(i),a.push(nie),r.push(l)):(n.number.push(i),a.push(wU),r.push(parseFloat(l))),++i,BI)).split(BI);return{values:r,split:o,indexes:n,types:a}}function SU(e){return jv(e).values}function AU(e){const{split:t,types:r}=jv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===wU?i+=Pg(a[s]):o===_U?i+=Ii.transform(a[s]):i+=a[s]}return i}}const sie=e=>typeof e=="number"?0:e;function oie(e){const t=SU(e);return AU(e)(t.map(sie))}const Lf={test:rie,parse:SU,createTransformer:AU,getAnimatableNone:oie};function bS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function lie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=bS(l,o,e+1/3),i=bS(l,o,e),s=bS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function lb(e,t){return r=>r>0?t:e}const Hn=(e,t,r)=>e+(t-e)*r,wS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},cie=[rT,Pd,v0],uie=e=>cie.find(t=>t.test(e));function UI(e){const t=uie(e);if(!t)return!1;let r=t.parse(e);return t===v0&&(r=lie(r)),r}const VI=(e,t)=>{const r=UI(e),n=UI(t);if(!r||!n)return lb(e,t);const a={...r};return i=>(a.red=wS(r.red,n.red,i),a.green=wS(r.green,n.green,i),a.blue=wS(r.blue,n.blue,i),a.alpha=Hn(r.alpha,n.alpha,i),Pd.transform(a))},nT=new Set(["none","hidden"]);function fie(e,t){return nT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function die(e,t){return r=>Hn(e,t,r)}function bk(e){return typeof e=="number"?die:typeof e=="string"?vk(e)?lb:Ii.test(e)?VI:mie:Array.isArray(e)?TU:typeof e=="object"?Ii.test(e)?VI:hie:lb}function TU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>bk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function hie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=bk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function pie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const mie=(e,t)=>{const r=Lf.createTransformer(t),n=jv(e),a=jv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?nT.has(e)&&!a.values.length||nT.has(t)&&!n.values.length?fie(e,t):G1(TU(pie(n,a),a.values),r):lb(e,t)};function EU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Hn(e,t,r):bk(e)(e,t)}const gie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Kn.update(t,r),stop:()=>Xc(t),now:()=>ui.isProcessing?ui.timestamp:Es.now()}},NU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},cb=2e4;function wk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<cb;)t+=r,n=e.next(t);return t>=cb?1/0:t}function kU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(wk(n),cb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Gl(a)}}const vie=5;function CU(e,t,r){const n=Math.max(t-vie,0);return iU(r-e(n),t-n)}const ia={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_S=.001;function yie({duration:e=ia.duration,bounce:t=ia.bounce,velocity:r=ia.velocity,mass:n=ia.mass}){let a,i,s=1-t;s=Kc(ia.minDamping,ia.maxDamping,s),e=Kc(ia.minDuration,ia.maxDuration,Gl(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=aT(c,s),g=Math.exp(-f);return _S-h/p*g},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=aT(Math.pow(c,2),s);return(-a(c)+_S>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-_S+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=bie(a,i,o);if(e=ml(e),isNaN(l))return{stiffness:ia.stiffness,damping:ia.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const xie=12;function bie(e,t,r){let n=r;for(let a=1;a<xie;a++)n=n-e(n)/t(n);return n}function aT(e,t){return e*Math.sqrt(1-t*t)}const wie=["duration","bounce"],_ie=["stiffness","damping","mass"];function zI(e,t){return t.some(r=>e[r]!==void 0)}function Sie(e){let t={velocity:ia.velocity,stiffness:ia.stiffness,damping:ia.damping,mass:ia.mass,isResolvedFromDuration:!1,...e};if(!zI(e,_ie)&&zI(e,wie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Kc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ia.mass,stiffness:a,damping:i}}else{const r=yie(e);t={...t,...r,mass:ia.mass},t.isResolvedFromDuration=!0}return t}function Dv(e=ia.visualDuration,t=ia.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Sie({...r,velocity:-Gl(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Gl(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?ia.restSpeed.granular:ia.restSpeed.default),a||(a=w?ia.restDelta.granular:ia.restDelta.default);let b;if(m<1){const C=aT(y,m);b=j=>{const T=Math.exp(-m*y*j);return s-T*((g+m*y*v)/C*Math.sin(C*j)+v*Math.cos(C*j))}}else if(m===1)b=C=>s-Math.exp(-y*C)*(v+(g+y*v)*C);else{const C=y*Math.sqrt(m*m-1);b=j=>{const T=Math.exp(-m*y*j),S=Math.min(C*j,300);return s-T*((g+m*y*v)*Math.sinh(S)+C*v*Math.cosh(S))/C}}const I={calculatedDuration:p&&f||null,next:C=>{const j=b(C);if(p)o.done=C>=f;else{let T=C===0?g:0;m<1&&(T=C===0?ml(g):CU(b,C,j));const S=Math.abs(T)<=n,A=Math.abs(s-j)<=a;o.done=S&&A}return o.value=o.done?s:j,o},toString:()=>{const C=Math.min(wk(I),cb),j=NU(T=>I.next(C*T).value,C,30);return C+"ms "+j},toTransition:()=>{}};return I}Dv.applyToOptions=e=>{const t=kU(e,100,Dv);return e.ease=t.ease,e.duration=ml(t.duration),e.type="keyframes",e};function iT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const w=S=>-m*Math.exp(-S/n),b=S=>y+w(S),I=S=>{const A=w(S),D=b(S);h.done=Math.abs(A)<=c,h.value=h.done?y:D};let C,j;const T=S=>{p(h.value)&&(C=S,j=Dv({keyframes:[h.value,g(h.value)],velocity:CU(b,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let A=!1;return!j&&C===void 0&&(A=!0,I(S),T(S)),C!==void 0&&S>=C?j.next(S-C):(!A&&I(S),h)}}}function Aie(e,t,r){const n=[],a=r||Yc.mix||EU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Eo:t;o=G1(l,o)}n.push(o)}return n}function PU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(ob(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Aie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=cp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Kc(e[0],e[i-1],u)):c}function OU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=cp(0,t,n);e.push(Hn(r,1,a))}}function IU(e){const t=[0];return OU(t,e.length-1),t}function Tie(e,t){return e.map(r=>r*t)}function Eie(e,t){return e.map(()=>t||pU).splice(0,e.length-1)}function Og({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=mU(n)?n.map(RI):RI(n),i={done:!1,value:t[0]},s=Tie(r&&r.length===t.length?r:IU(t),e),o=PU(s,t,{ease:Array.isArray(a)?a:Eie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Nie=e=>e!==null;function _k(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Nie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const kie={decay:iT,inertia:iT,tween:Og,keyframes:Og,spring:Dv};function jU(e){typeof e.type=="string"&&(e.type=kie[e.type])}class Sk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Cie=e=>e/100;class Ak extends Sk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Es.now()&&this.tick(Es.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jU(t);const{type:r=Og,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Og;l!==Og&&typeof o[0]!="number"&&(this.mixKeyframes=G1(Cie,EU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=wk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,I=n;if(f){const S=Math.min(this.currentTime,a)/o;let A=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(D=1-D,p&&(D-=p/o)):h==="mirror"&&(I=s)),b=Kc(0,1,D)*o}const C=w?{done:!1,value:u[0]}:I.next(b);i&&(C.value=i(C.value));let{done:j}=C;!w&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&g!==iT&&(C.value=_k(u,this.options,v,this.speed)),m&&m(C.value),T&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return Gl(this.calculatedDuration)}get time(){return Gl(this.currentTime)}set time(t){var r;t=ml(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Es.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Gl(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=gie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Pie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Od=e=>e*180/Math.PI,sT=e=>{const t=Od(Math.atan2(e[1],e[0]));return oT(t)},Oie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:sT,rotateZ:sT,skewX:e=>Od(Math.atan(e[1])),skewY:e=>Od(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},oT=e=>(e=e%360,e<0&&(e+=360),e),qI=sT,WI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),HI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Iie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WI,scaleY:HI,scale:e=>(WI(e)+HI(e))/2,rotateX:e=>oT(Od(Math.atan2(e[6],e[5]))),rotateY:e=>oT(Od(Math.atan2(-e[2],e[0]))),rotateZ:qI,rotate:qI,skewX:e=>Od(Math.atan(e[4])),skewY:e=>Od(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lT(e){return e.includes("scale")?1:0}function cT(e,t){if(!e||e==="none")return lT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Iie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Oie,a=o}if(!a)return lT(t);const i=n[t],s=a[1].split(",").map(Die);return typeof i=="function"?i(s):s[i]}const jie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return cT(r,t)};function Die(e){return parseFloat(e.trim())}const Xp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qp=new Set(Xp),GI=e=>e===Yp||e===xr,Lie=new Set(["x","y","z"]),Mie=Xp.filter(e=>!Lie.has(e));function Rie(e){const t=[];return Mie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const $d={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cT(t,"x"),y:(e,{transform:t})=>cT(t,"y")};$d.translateX=$d.x;$d.translateY=$d.y;const Bd=new Set;let uT=!1,fT=!1,dT=!1;function DU(){if(fT){const e=Array.from(Bd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Rie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fT=!1,uT=!1,Bd.forEach(e=>e.complete(dT)),Bd.clear()}function LU(){Bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fT=!0)})}function Fie(){dT=!0,LU(),DU(),dT=!1}class Tk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Bd.add(this),uT||(uT=!0,Kn.read(LU),Kn.resolveKeyframes(DU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Pie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bd.delete(this)}cancel(){this.state==="scheduled"&&(Bd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $ie=e=>e.startsWith("--");function Bie(e,t,r){$ie(t)?e.style.setProperty(t,r):e.style[t]=r}const Uie=dk(()=>window.ScrollTimeline!==void 0),Vie={};function zie(e,t){const r=dk(e);return()=>Vie[t]??r()}const MU=zie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ug=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,KI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ug([0,.65,.55,1]),circOut:ug([.55,0,1,.45]),backIn:ug([.31,.01,.66,-.59]),backOut:ug([.33,1.53,.69,.99])};function RU(e,t){if(e)return typeof e=="function"?MU()?NU(e,t):"ease-out":vU(e)?ug(e):Array.isArray(e)?e.map(r=>RU(r,t)||KI.easeOut):KI[e]}function qie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=RU(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Ek(e){return typeof e=="function"&&"applyToOptions"in e}function Wie({type:e,...t}){return Ek(e)&&MU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Hie extends Sk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,ob(typeof t.type!="string");const c=Wie(t);this.animation=qie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=_k(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Bie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Gl(Number(t))}get time(){return Gl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ml(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Uie()?(this.animation.timeline=t,Eo):r(this)}}const FU={anticipate:fU,backInOut:uU,circInOut:hU};function Gie(e){return e in FU}function Kie(e){typeof e.ease=="string"&&Gie(e.ease)&&(e.ease=FU[e.ease])}const YI=10;class Yie extends Hie{constructor(t){Kie(t),jU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Ak({...s,autoplay:!1}),l=ml(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-YI).value,o.sample(l).value,YI),o.stop()}}const XI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lf.test(e)||e==="0")&&!e.startsWith("url("));function Xie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Qie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=XI(a,t),o=XI(i,t);return!s||!o?!1:Xie(e)||(r==="spring"||Ek(r))&&n}function Nk(e){return nU(e)&&"offsetHeight"in e}const Jie=new Set(["opacity","clipPath","filter","transform"]),Zie=dk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ese(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Nk((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Zie()&&r&&Jie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const tse=40;class rse extends Sk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Es.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Tk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Es.now(),Qie(t,i,s,o)||((Yc.instantAnimations||!l)&&(u==null||u(_k(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&ese(h)?new Yie({...h,element:h.motionValue.owner.current}):new Ak(h);p.finished.then(()=>this.notifyFinished()).catch(Eo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Fie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class nse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ase extends nse{then(t,r){return this.finished.finally(t).then(()=>{})}}const ise=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sse(e){const t=ise.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function $U(e,t,r=1){const[n,a]=sse(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return rU(s)?parseFloat(s):s}return vk(a)?$U(a,t,r+1):a}function kk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const BU=new Set(["width","height","top","left","right","bottom",...Xp]),ose={test:e=>e==="auto",parse:e=>e},UU=e=>t=>t.test(e),VU=[Yp,xr,Kl,Uu,eie,Zae,ose],QI=e=>VU.find(UU(e));function lse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aU(e):!0}const cse=new Set(["brightness","contrast","saturate","opacity"]);function use(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(yk)||[];if(!n)return e;const a=r.replace(n,"");let i=cse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const fse=/\b([a-z-]*)\(.*?\)/gu,hT={...Lf,getAnimatableNone:e=>{const t=e.match(fse);return t?t.map(use).join(" "):e}},JI={...Yp,transform:Math.round},dse={rotate:Uu,rotateX:Uu,rotateY:Uu,rotateZ:Uu,scale:lx,scaleX:lx,scaleY:lx,scaleZ:lx,skew:Uu,skewX:Uu,skewY:Uu,distance:xr,translateX:xr,translateY:xr,translateZ:xr,x:xr,y:xr,z:xr,perspective:xr,transformPerspective:xr,opacity:Iv,originX:$I,originY:$I,originZ:xr},Ck={borderWidth:xr,borderTopWidth:xr,borderRightWidth:xr,borderBottomWidth:xr,borderLeftWidth:xr,borderRadius:xr,radius:xr,borderTopLeftRadius:xr,borderTopRightRadius:xr,borderBottomRightRadius:xr,borderBottomLeftRadius:xr,width:xr,maxWidth:xr,height:xr,maxHeight:xr,top:xr,right:xr,bottom:xr,left:xr,padding:xr,paddingTop:xr,paddingRight:xr,paddingBottom:xr,paddingLeft:xr,margin:xr,marginTop:xr,marginRight:xr,marginBottom:xr,marginLeft:xr,backgroundPositionX:xr,backgroundPositionY:xr,...dse,zIndex:JI,fillOpacity:Iv,strokeOpacity:Iv,numOctaves:JI},hse={...Ck,color:Ii,backgroundColor:Ii,outlineColor:Ii,fill:Ii,stroke:Ii,borderColor:Ii,borderTopColor:Ii,borderRightColor:Ii,borderBottomColor:Ii,borderLeftColor:Ii,filter:hT,WebkitFilter:hT},zU=e=>hse[e];function qU(e,t){let r=zU(e);return r!==hT&&(r=Lf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const pse=new Set(["auto","none","0"]);function mse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!pse.has(i)&&jv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=qU(r,a)}class gse extends Tk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),vk(c))){const u=$U(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!BU.has(n)||t.length!==2)return;const[a,i]=t,s=QI(a),o=QI(i);if(s!==o)if(GI(s)&&GI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else $d[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||lse(t[a]))&&n.push(a);n.length&&mse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$d[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=$d[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function WU(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ZI=30,vse=e=>!isNaN(parseFloat(e)),Ig={current:void 0};class yse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Es.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Es.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Kn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ig.current&&Ig.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZI);return iU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eh(e,t){return new yse(e,t)}const HU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Pk,cancel:EBe}=yU(queueMicrotask,!1),el={x:!1,y:!1};function GU(){return el.x||el.y}function xse(e){return e==="x"||e==="y"?el[e]?null:(el[e]=!0,()=>{el[e]=!1}):el.x||el.y?null:(el.x=el.y=!0,()=>{el.x=el.y=!1})}function KU(e,t){const r=WU(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function ej(e){return!(e.pointerType==="touch"||GU())}function bse(e,t,r={}){const[n,a,i]=KU(e,r),s=o=>{if(!ej(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{ej(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const YU=(e,t)=>t?e===t?!0:YU(e,t.parentElement):!1,Ok=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _se(e){return wse.has(e.tagName)||e.tabIndex!==-1}const o2=new WeakSet;function tj(e){return t=>{t.key==="Enter"&&e(t)}}function SS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Sse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=tj(()=>{if(o2.has(r))return;SS(r,"down");const a=tj(()=>{SS(r,"up")}),i=()=>SS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function rj(e){return Ok(e)&&!GU()}function Ase(e,t,r={}){const[n,a,i]=KU(e,r),s=o=>{const l=o.currentTarget;if(!rj(o))return;o2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),o2.has(l)&&o2.delete(l),rj(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||YU(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Nk(o)&&(o.addEventListener("focus",c=>Sse(c,a)),!_se(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ik(e){return nU(e)&&"ownerSVGElement"in e}function XU(e){return Ik(e)&&e.tagName==="svg"}function Tse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=PU(a,i,s);return t?o(n):o}const ei=e=>!!(e&&e.getVelocity),Ese=[...VU,Ii,Lf],Nse=e=>Ese.find(UU(e)),g5=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class kse extends U.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Nk(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cse({children:e,isPresent:t,anchorX:r}){const n=U.useId(),a=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=U.useContext(g5);return U.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(kse,{isPresent:t,childRef:a,sizeRef:i,children:U.cloneElement(e,{ref:a})})}const Pse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=H1(Ose),c=U.useId();let u=!0,f=U.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),U.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),U.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(Cse,{isPresent:r,anchorX:o,children:e})),d.jsx(p5.Provider,{value:f,children:e})};function Ose(){return new Map}function QU(e=!0){const t=U.useContext(p5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=U.useId();U.useEffect(()=>{if(e)return a(i)},[e]);const s=U.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const cx=e=>e.key||"";function nj(e){const t=[];return U.Children.forEach(e,r=>{U.isValidElement(r)&&t.push(r)}),t}const JU=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=QU(s),u=U.useMemo(()=>nj(e),[e]),f=s&&!l?[]:u.map(cx),h=U.useRef(!0),p=U.useRef(u),g=H1(()=>new Map),[m,v]=U.useState(u),[y,w]=U.useState(u);uk(()=>{h.current=!1,p.current=u;for(let C=0;C<y.length;C++){const j=cx(y[C]);f.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,f.length,f.join("-")]);const b=[];if(u!==m){let C=[...u];for(let j=0;j<y.length;j++){const T=y[j],S=cx(T);f.includes(S)||(C.splice(j,0,T),b.push(T))}return i==="wait"&&b.length&&(C=b),w(nj(C)),v(u),null}const{forceRender:I}=U.useContext(lk);return d.jsx(d.Fragment,{children:y.map(C=>{const j=cx(C),T=s&&!l?!1:u===y||f.includes(j),S=()=>{if(g.has(j))g.set(j,!0);else return;let A=!0;g.forEach(D=>{D||(A=!1)}),A&&(I==null||I(),w(p.current),s&&(c==null||c()),n&&n())};return d.jsx(Pse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:C},j)})})},ZU=U.createContext({strict:!1}),aj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},up={};for(const e in aj)up[e]={isEnabled:t=>aj[e].some(r=>!!t[r])};function Ise(e){for(const t in e)up[t]={...up[t],...e[t]}}const jse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ub(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jse.has(e)}let eV=e=>!ub(e);function Dse(e){e&&(eV=t=>t.startsWith("on")?!ub(t):e(t))}try{Dse(require("@emotion/is-prop-valid").default)}catch{}function Lse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(eV(a)||r===!0&&ub(a)||!t&&!ub(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Mse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const v5=U.createContext({});function y5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lv(e){return typeof e=="string"||Array.isArray(e)}const jk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dk=["initial",...jk];function x5(e){return y5(e.animate)||Dk.some(t=>Lv(e[t]))}function tV(e){return!!(x5(e)||e.variants)}function Rse(e,t){if(x5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Lv(r)?r:void 0,animate:Lv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Fse(e){const{initial:t,animate:r}=Rse(e,U.useContext(v5));return U.useMemo(()=>({initial:t,animate:r}),[ij(t),ij(r)])}function ij(e){return Array.isArray(e)?e.join(" "):e}const $se=Symbol.for("motionComponentSymbol");function y0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Bse(e,t,r){return U.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):y0(r)&&(r.current=n))},[t])}const Lk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Use="framerAppearId",rV="data-"+Lk(Use),nV=U.createContext({});function Vse(e,t,r,n,a){var m,v;const{visualElement:i}=U.useContext(v5),s=U.useContext(ZU),o=U.useContext(p5),l=U.useContext(g5).reducedMotion,c=U.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=U.useContext(nV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&zse(c.current,r,a,f);const h=U.useRef(!1);U.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[rV],g=U.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return uk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Pk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function zse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:aV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&y0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function aV(e){if(e)return e.options.allowProjection!==!1?e.projection:aV(e.parent)}function qse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Ise(e);function i(o,l){let c;const u={...U.useContext(g5),...o,layoutId:Wse(o)},{isStatic:f}=u,h=Fse(o),p=n(o,f);if(!f&&ck){Hse();const g=Gse(u);c=g.MeasureLayout,h.visualElement=Vse(a,p,u,t,g.ProjectionNode)}return d.jsxs(v5.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Bse(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=U.forwardRef(i);return s[$se]=a,s}function Wse({layoutId:e}){const t=U.useContext(lk).id;return t&&e!==void 0?t+"-"+e:e}function Hse(e,t){U.useContext(ZU).strict}function Gse(e){const{drag:t,layout:r}=up;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Mv={};function Kse(e){for(const t in e)Mv[t]=e[t],gk(t)&&(Mv[t].isCSSVariable=!0)}function iV(e,{layout:t,layoutId:r}){return Qp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Mv[e]||e==="opacity")}const Yse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xse=Xp.length;function Qse(e,t,r){let n="",a=!0;for(let i=0;i<Xse;i++){const s=Xp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=HU(o,Ck[s]);if(!l){a=!1;const u=Yse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Mk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Qp.has(l)){s=!0;continue}else if(gk(l)){a[l]=c;continue}else{const u=HU(c,Ck[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Qse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Rk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sV(e,t,r){for(const n in t)!ei(t[n])&&!iV(n,r)&&(e[n]=t[n])}function Jse({transformTemplate:e},t){return U.useMemo(()=>{const r=Rk();return Mk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Zse(e,t){const r=e.style||{},n={};return sV(n,r,e),Object.assign(n,Jse(e,t)),n}function eoe(e,t){const r={},n=Zse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const toe={offset:"stroke-dashoffset",array:"stroke-dasharray"},roe={offset:"strokeDashoffset",array:"strokeDasharray"};function noe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?toe:roe;e[i.offset]=xr.transform(-n);const s=xr.transform(t),o=xr.transform(r);e[i.array]=`${s} ${o}`}function oV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Mk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&noe(f,a,i,s,!1)}const lV=()=>({...Rk(),attrs:{}}),cV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aoe(e,t,r,n){const a=U.useMemo(()=>{const i=lV();return oV(i,t,cV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};sV(i,e.style,e),a.style={...i,...a.style}}return a}const ioe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fk(e){return typeof e!="string"||e.includes("-")?!1:!!(ioe.indexOf(e)>-1||/[A-Z]/u.test(e))}function soe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(Fk(r)?aoe:eoe)(n,i,s,r),c=Lse(n,typeof r=="string",e),u=r!==U.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=U.useMemo(()=>ei(f)?f.get():f,[f]);return U.createElement(r,{...u,children:h})}}function sj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $k(e,t,r,n){if(typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function l2(e){return ei(e)?e.get():e}function ooe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:loe(r,n,a,e),renderState:t()}}const uV=e=>(t,r)=>{const n=U.useContext(v5),a=U.useContext(p5),i=()=>ooe(e,t,n,a);return r?i():H1(i)};function loe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=l2(i[h]);let{initial:s,animate:o}=e;const l=x5(e),c=tV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!y5(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=$k(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const I=u?b.length-1:0;b=b[I]}b!==null&&(a[w]=b)}for(const w in m)a[w]=m[w]}}}return a}function Bk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ei(n[s])||t.style&&ei(t.style[s])||iV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const coe={useVisualState:uV({scrapeMotionValuesFromProps:Bk,createRenderState:Rk})};function fV(e,t,r){const n=Bk(e,t,r);for(const a in e)if(ei(e[a])||ei(t[a])){const i=Xp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const uoe={useVisualState:uV({scrapeMotionValuesFromProps:fV,createRenderState:lV})};function foe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...Fk(n)?uoe:coe,preloadedFeatures:e,useRender:soe(a),createVisualElement:t,Component:n};return qse(s)}}function Rv(e,t,r){const n=e.getProps();return $k(n,t,r!==void 0?r:n.custom,e)}const pT=e=>Array.isArray(e);function doe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,eh(r))}function hoe(e){return pT(e)?e[e.length-1]||0:e}function poe(e,t){const r=Rv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=hoe(i[s]);doe(e,s,o)}}function moe(e){return!!(ei(e)&&e.add)}function mT(e,t){const r=e.getValue("willChange");if(moe(r))return r.add(t);if(!r&&Yc.WillChange){const n=new Yc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function dV(e){return e.props[rV]}const goe=e=>e!==null;function voe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(goe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const yoe={type:"spring",stiffness:500,damping:25,restSpeed:10},xoe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),boe={type:"keyframes",duration:.8},woe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_oe=(e,{keyframes:t})=>t.length>2?boe:Qp.has(e)?e.startsWith("scale")?xoe(t[1]):yoe:woe;function Soe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Uk=(e,t,r,n={},a,i)=>s=>{const o=kk(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-ml(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Soe(o)||Object.assign(u,_oe(e,u)),u.duration&&(u.duration=ml(u.duration)),u.repeatDelay&&(u.repeatDelay=ml(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Yc.instantAnimations||Yc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=voe(u.keyframes,o);if(h!==void 0){Kn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Ak(u):new rse(u)};function Aoe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Vk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Aoe(c,u))continue;const p={delay:r,...kk(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=dV(e);if(y){const w=window.MotionHandoffAnimation(y,u,Kn);w!==null&&(p.startTime=w,m=!0)}}mT(e,u),f.start(Uk(u,f,h,e.shouldReduceMotion&&BU.has(u)?{type:!1}:p,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Kn.update(()=>{s&&poe(e,s)})}),l}function gT(e,t,r={}){var l;const n=Rv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Vk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Toe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Toe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Eoe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(gT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Eoe(e,t){return e.sortNodePosition(t)}function Noe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>gT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=gT(e,t,r);else{const a=typeof t=="function"?Rv(e,t,r.custom):t;n=Promise.all(Vk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function hV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const koe=Dk.length;function pV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<koe;r++){const n=Dk[r],a=e.props[n];(Lv(a)||a===!1)&&(t[n]=a)}return t}const Coe=[...jk].reverse(),Poe=jk.length;function Ooe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Noe(e,r,n)))}function Ioe(e){let t=Ooe(e),r=oj(),n=!0;const a=l=>(c,u)=>{var h;const f=Rv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=pV(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let v=0;v<Poe;v++){const y=Coe[v],w=r[y],b=c[y]!==void 0?c[y]:u[y],I=Lv(b),C=y===l?w.isActive:null;C===!1&&(g=v);let j=b===u[y]&&b!==c[y]&&I;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...p},!w.isActive&&C===null||!b&&!w.prevProp||y5(b)||typeof b=="boolean")continue;const T=joe(w.prevProp,b);let S=T||y===l&&w.isActive&&!j&&I||v>g&&I,A=!1;const D=Array.isArray(b)?b:[b];let E=D.reduce(a(y),{});C===!1&&(E={});const{prevResolvedValues:N={}}=w,P={...N,...E},V=J=>{S=!0,h.has(J)&&(A=!0,h.delete(J)),w.needsAnimating[J]=!0;const G=e.getValue(J);G&&(G.liveStyle=!1)};for(const J in P){const G=E[J],q=N[J];if(p.hasOwnProperty(J))continue;let ee=!1;pT(G)&&pT(q)?ee=!hV(G,q):ee=G!==q,ee?G!=null?V(J):h.add(J):G!==void 0&&h.has(J)?V(J):w.protectedKeys[J]=!0}w.prevProp=b,w.prevResolvedValues=E,w.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(j&&T)||A)&&f.push(...D.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Rv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oj(),n=!0}}}function joe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hV(t,e):!1}function hd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oj(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Wf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Doe extends Wf{constructor(t){super(t),t.animationState||(t.animationState=Ioe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();y5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Loe=0;class Moe extends Wf{constructor(){super(...arguments),this.id=Loe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Roe={animation:{Feature:Doe},exit:{Feature:Moe}};function Fv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function X1(e){return{point:{x:e.pageX,y:e.pageY}}}const Foe=e=>t=>Ok(t)&&e(t,X1(t));function jg(e,t,r,n){return Fv(e,t,Foe(r),n)}function mV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function $oe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Boe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const gV=1e-4,Uoe=1-gV,Voe=1+gV,vV=.01,zoe=0-vV,qoe=0+vV;function ss(e){return e.max-e.min}function Woe(e,t,r){return Math.abs(e-t)<=r}function lj(e,t,r,n=.5){e.origin=n,e.originPoint=Hn(t.min,t.max,e.origin),e.scale=ss(r)/ss(t),e.translate=Hn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Uoe&&e.scale<=Voe||isNaN(e.scale))&&(e.scale=1),(e.translate>=zoe&&e.translate<=qoe||isNaN(e.translate))&&(e.translate=0)}function Dg(e,t,r,n){lj(e.x,t.x,r.x,n?n.originX:void 0),lj(e.y,t.y,r.y,n?n.originY:void 0)}function cj(e,t,r){e.min=r.min+t.min,e.max=e.min+ss(t)}function Hoe(e,t,r){cj(e.x,t.x,r.x),cj(e.y,t.y,r.y)}function uj(e,t,r){e.min=t.min-r.min,e.max=e.min+ss(t)}function Lg(e,t,r){uj(e.x,t.x,r.x),uj(e.y,t.y,r.y)}const fj=()=>({translate:0,scale:1,origin:0,originPoint:0}),x0=()=>({x:fj(),y:fj()}),dj=()=>({min:0,max:0}),na=()=>({x:dj(),y:dj()});function xo(e){return[e("x"),e("y")]}function AS(e){return e===void 0||e===1}function vT({scale:e,scaleX:t,scaleY:r}){return!AS(e)||!AS(t)||!AS(r)}function yd(e){return vT(e)||yV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yV(e){return hj(e.x)||hj(e.y)}function hj(e){return e&&e!=="0%"}function fb(e,t,r){const n=e-r,a=t*n;return r+a}function pj(e,t,r,n,a){return a!==void 0&&(e=fb(e,a,n)),fb(e,r,n)+t}function yT(e,t=0,r=1,n,a){e.min=pj(e.min,t,r,n,a),e.max=pj(e.max,t,r,n,a)}function xV(e,{x:t,y:r}){yT(e.x,t.translate,t.scale,t.originPoint),yT(e.y,r.translate,r.scale,r.originPoint)}const mj=.999999999999,gj=1.0000000000001;function Goe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&w0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,xV(e,s)),n&&yd(i.latestValues)&&w0(e,i.latestValues))}t.x<gj&&t.x>mj&&(t.x=1),t.y<gj&&t.y>mj&&(t.y=1)}function b0(e,t){e.min=e.min+t,e.max=e.max+t}function vj(e,t,r,n,a=.5){const i=Hn(e.min,e.max,a);yT(e,t,r,i,n)}function w0(e,t){vj(e.x,t.x,t.scaleX,t.scale,t.originX),vj(e.y,t.y,t.scaleY,t.scale,t.originY)}function bV(e,t){return mV(Boe(e.getBoundingClientRect(),t))}function Koe(e,t,r){const n=bV(e,r),{scroll:a}=t;return a&&(b0(n.x,a.offset.x),b0(n.y,a.offset.y)),n}const wV=({current:e})=>e?e.ownerDocument.defaultView:null,yj=(e,t)=>Math.abs(e-t);function Yoe(e,t){const r=yj(e.x,t.x),n=yj(e.y,t.y);return Math.sqrt(r**2+n**2)}class _V{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ES(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Yoe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=ui;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=TS(h,this.transformPagePoint),Kn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ES(f.type==="pointercancel"?this.lastMoveEventInfo:TS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!Ok(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=X1(t),o=TS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=ui;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,ES(o,this.history)),this.removeListeners=G1(jg(this.contextWindow,"pointermove",this.handlePointerMove),jg(this.contextWindow,"pointerup",this.handlePointerUp),jg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xc(this.updatePoint)}}function TS(e,t){return t?{point:t(e.point)}:e}function xj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ES({point:e},t){return{point:e,delta:xj(e,SV(t)),offset:xj(e,Xoe(t)),velocity:Qoe(t,.1)}}function Xoe(e){return e[0]}function SV(e){return e[e.length-1]}function Qoe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=SV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ml(t)));)r--;if(!n)return{x:0,y:0};const i=Gl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Joe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Hn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Hn(r,e,n.max):Math.min(e,r)),e}function bj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Zoe(e,{top:t,left:r,bottom:n,right:a}){return{x:bj(e.x,r,a),y:bj(e.y,t,n)}}function wj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ele(e,t){return{x:wj(e.x,t.x),y:wj(e.y,t.y)}}function tle(e,t){let r=.5;const n=ss(e),a=ss(t);return a>n?r=cp(t.min,t.max-n,e.min):n>a&&(r=cp(e.min,e.max-a,t.min)),Kc(0,1,r)}function rle(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const xT=.35;function nle(e=xT){return e===!1?e=0:e===!0&&(e=xT),{x:_j(e,"left","right"),y:_j(e,"top","bottom")}}function _j(e,t,r){return{min:Sj(e,t),max:Sj(e,r)}}function Sj(e,t){return typeof e=="number"?e:e[t]||0}const ale=new WeakMap;class ile{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=na(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(X1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Kl.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(y=ss(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Kn.postRender(()=>g(u,f)),mT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=sle(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>xo(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _V(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Kn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ux(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Joe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&y0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Zoe(n.layoutBox,t):this.constraints=!1,this.elastic=nle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&xo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=rle(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!y0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Koe(n,a.root,this.visualElement.getTransformPagePoint());let s=ele(a.layout.layoutBox,i);if(r){const o=r($oe(s));this.hasMutatedConstraints=!!o,o&&(s=mV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=xo(u=>{if(!ux(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return mT(this.visualElement,t),n.start(Uk(t,n,0,r,this.visualElement,!1))}stopAnimation(){xo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){xo(r=>{const{drag:n}=this.getProps();if(!ux(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Hn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!y0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=tle({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xo(s=>{if(!ux(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Hn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;ale.set(this.visualElement,this);const t=this.visualElement.current,r=jg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();y0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Kn.read(n);const s=Fv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=xT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ux(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function sle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ole extends Wf{constructor(t){super(t),this.removeGroupControls=Eo,this.removeListeners=Eo,this.controls=new ile(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Eo}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aj=e=>(t,r)=>{e&&Kn.postRender(()=>e(t,r))};class lle extends Wf{constructor(){super(...arguments),this.removePointerDownListener=Eo}onPointerDown(t){this.session=new _V(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Aj(t),onStart:Aj(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Kn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=jg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const c2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xr.test(e))e=parseFloat(e);else return e;const r=Tj(e,t.target.x),n=Tj(e,t.target.y);return`${r}% ${n}%`}},cle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Lf.parse(e);if(a.length>5)return n;const i=Lf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Hn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class ule extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Kse(fle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),c2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Kn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AV(e){const[t,r]=QU(),n=U.useContext(lk);return d.jsx(ule,{...e,layoutGroup:n,switchLayoutGroup:U.useContext(nV),isPresent:t,safeToRemove:r})}const fle={borderRadius:{...Fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fm,borderTopRightRadius:Fm,borderBottomLeftRadius:Fm,borderBottomRightRadius:Fm,boxShadow:cle};function TV(e,t,r){const n=ei(e)?e:eh(e);return n.start(Uk("",n,t,r)),n.animation}const dle=(e,t)=>e.depth-t.depth;class hle{constructor(){this.children=[],this.isDirty=!1}add(t){fk(this.children,t),this.isDirty=!0}remove(t){m5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dle),this.isDirty=!1,this.children.forEach(t)}}function ple(e,t){const r=Es.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Xc(n),e(i-t))};return Kn.setup(n,!0),()=>Xc(n)}const EV=["TopLeft","TopRight","BottomLeft","BottomRight"],mle=EV.length,Ej=e=>typeof e=="string"?parseFloat(e):e,Nj=e=>typeof e=="number"||xr.test(e);function gle(e,t,r,n,a,i){a?(e.opacity=Hn(0,r.opacity??1,vle(n)),e.opacityExit=Hn(t.opacity??1,0,yle(n))):i&&(e.opacity=Hn(t.opacity??1,r.opacity??1,n));for(let s=0;s<mle;s++){const o=`border${EV[s]}Radius`;let l=kj(t,o),c=kj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Nj(l)===Nj(c)?(e[o]=Math.max(Hn(Ej(l),Ej(c),n),0),(Kl.test(c)||Kl.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Hn(t.rotate||0,r.rotate||0,n))}function kj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vle=NV(0,.5,dU),yle=NV(.5,.95,Eo);function NV(e,t,r){return n=>n<e?0:n>t?1:r(cp(e,t,n))}function Cj(e,t){e.min=t.min,e.max=t.max}function fo(e,t){Cj(e.x,t.x),Cj(e.y,t.y)}function Pj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Oj(e,t,r,n,a){return e-=t,e=fb(e,1/r,n),a!==void 0&&(e=fb(e,1/a,n)),e}function xle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Kl.test(t)&&(t=parseFloat(t),t=Hn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Hn(i.min,i.max,n);e===i&&(o-=t),e.min=Oj(e.min,t,r,o,a),e.max=Oj(e.max,t,r,o,a)}function Ij(e,t,[r,n,a],i,s){xle(e,t[r],t[n],t[a],t.scale,i,s)}const ble=["x","scaleX","originX"],wle=["y","scaleY","originY"];function jj(e,t,r,n){Ij(e.x,t,ble,r?r.x:void 0,n?n.x:void 0),Ij(e.y,t,wle,r?r.y:void 0,n?n.y:void 0)}function Dj(e){return e.translate===0&&e.scale===1}function kV(e){return Dj(e.x)&&Dj(e.y)}function Lj(e,t){return e.min===t.min&&e.max===t.max}function _le(e,t){return Lj(e.x,t.x)&&Lj(e.y,t.y)}function Mj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function CV(e,t){return Mj(e.x,t.x)&&Mj(e.y,t.y)}function Rj(e){return ss(e.x)/ss(e.y)}function Fj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sle{constructor(){this.members=[]}add(t){fk(this.members,t),t.scheduleRender()}remove(t){if(m5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ale(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const NS=["","X","Y","Z"],Tle={visibility:"hidden"},Ele=1e3;let Nle=0;function kS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function PV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=dV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Kn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&PV(n)}function OV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Nle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ple),this.nodes.forEach(Lle),this.nodes.forEach(Mle),this.nodes.forEach(Ole)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new hk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Ik(s)&&!XU(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=ple(f,250),c2.hasAnimatedSinceResize&&(c2.hasAnimatedSinceResize=!1,this.nodes.forEach(Bj))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Ule,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!CV(this.targetLayout,p),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const b={...kk(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($j);return}this.isUpdating||this.nodes.forEach(jle),this.isUpdating=!1,this.nodes.forEach(Dle),this.nodes.forEach(kle),this.nodes.forEach(Cle),this.clearAllSnapshots();const o=Es.now();ui.delta=Kc(0,1e3/60,o-ui.timestamp),ui.timestamp=o,ui.isProcessing=!0,yS.update.process(ui),yS.preRender.process(ui),yS.render.process(ui),ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ile),this.sharedNodes.forEach(Fle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ss(this.snapshot.measuredBox.x)&&!ss(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=na(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!kV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||yd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Vle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return na();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(zle))){const{scroll:u}=this.root;u&&(b0(o.x,u.offset.x),b0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=na();if(fo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&fo(o,s),b0(o.x,f.offset.x),b0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=na();fo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&w0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yd(u.latestValues)&&w0(l,u.latestValues)}return yd(this.latestValues)&&w0(l,this.latestValues),l}removeTransform(s){const o=na();fo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yd(c.latestValues))continue;vT(c.latestValues)&&c.updateSnapshot();const u=na(),f=c.measurePageBox();fo(u,f),jj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yd(this.latestValues)&&jj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ui.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=na(),this.relativeTargetOrigin=na(),Lg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=na(),this.targetWithTransforms=na()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hoe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fo(this.target,this.layout.layoutBox),xV(this.target,this.targetDelta)):fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=na(),this.relativeTargetOrigin=na(),Lg(this.relativeTargetOrigin,this.target,p.target),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vT(this.parent.latestValues)||yV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ui.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;fo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Goe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=na());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pj(this.prevProjectionDelta.x,this.projectionDelta.x),Pj(this.prevProjectionDelta.y,this.projectionDelta.y)),Dg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Fj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=x0(),this.projectionDelta=x0(),this.projectionDeltaWithTransform=x0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=x0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=na(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Ble));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const C=I/1e3;Uj(f.x,s.x,C),Uj(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$le(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&_le(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=na()),fo(b,this.relativeTarget)),m&&(this.animationValues=u,gle(u,c,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kn.update(()=>{c2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eh(0)),this.currentAnimation=TV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ele),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&IV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||na();const f=ss(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ss(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}fo(o,l),w0(o,u),Dg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Sle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&kS("z",s,c,this.animationValues);for(let u=0;u<NS.length;u++)kS(`rotate${NS[u]}`,s,c,this.animationValues),kS(`skew${NS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Tle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=l2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=l2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=Ale(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Mv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Mv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const w=m.length;for(let b=0;b<w;b++)o[m[b]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?l2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach($j),this.root.sharedNodes.clear()}}}function kle(e){e.updateLayout()}function Cle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?xo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ss(h);h.min=n[f].min,h.max=h.min+p}):IV(i,t.layoutBox,n)&&xo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ss(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=x0();Dg(o,n,t.layoutBox);const l=x0();s?Dg(l,e.applyTransform(a,!0),t.measuredBox):Dg(l,n,t.layoutBox);const c=!kV(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=na();Lg(g,t.layoutBox,h.layoutBox);const m=na();Lg(m,n,p.layoutBox),CV(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ple(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ole(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ile(e){e.clearSnapshot()}function $j(e){e.clearMeasurements()}function jle(e){e.isLayoutDirty=!1}function Dle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lle(e){e.resolveTargetDelta()}function Mle(e){e.calcProjection()}function Rle(e){e.resetSkewAndRotation()}function Fle(e){e.removeLeadSnapshot()}function Uj(e,t,r){e.translate=Hn(t.translate,0,r),e.scale=Hn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Vj(e,t,r,n){e.min=Hn(t.min,r.min,n),e.max=Hn(t.max,r.max,n)}function $le(e,t,r,n){Vj(e.x,t.x,r.x,n),Vj(e.y,t.y,r.y,n)}function Ble(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ule={duration:.45,ease:[.4,0,.1,1]},zj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qj=zj("applewebkit/")&&!zj("chrome/")?Math.round:Eo;function Wj(e){e.min=qj(e.min),e.max=qj(e.max)}function Vle(e){Wj(e.x),Wj(e.y)}function IV(e,t,r){return e==="position"||e==="preserve-aspect"&&!Woe(Rj(t),Rj(r),.2)}function zle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const qle=OV({attachResizeListener:(e,t)=>Fv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),CS={current:void 0},jV=OV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!CS.current){const e=new qle({});e.mount(window),e.setOptions({layoutScroll:!0}),CS.current=e}return CS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Wle={pan:{Feature:lle},drag:{Feature:ole,ProjectionNode:jV,MeasureLayout:AV}};function Hj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Kn.postRender(()=>i(t,X1(t)))}class Hle extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=bse(t,(r,n)=>(Hj(this.node,n,"Start"),a=>Hj(this.node,a,"End"))))}unmount(){}}class Gle extends Wf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=G1(Fv(this.node.current,"focus",()=>this.onFocus()),Fv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Kn.postRender(()=>i(t,X1(t)))}class Kle extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=Ase(t,(r,n)=>(Gj(this.node,n,"Start"),(a,{success:i})=>Gj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bT=new WeakMap,PS=new WeakMap,Yle=e=>{const t=bT.get(e.target);t&&t(e)},Xle=e=>{e.forEach(Yle)};function Qle({root:e,...t}){const r=e||document;PS.has(r)||PS.set(r,{});const n=PS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Xle,{root:e,...t})),n[a]}function Jle(e,t,r){const n=Qle(t);return bT.set(e,r),n.observe(e),()=>{bT.delete(e),n.unobserve(e)}}const Zle={some:0,all:1};class ece extends Wf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Zle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Jle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(tce(t,r))&&this.startObserver()}unmount(){}}function tce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const rce={inView:{Feature:ece},tap:{Feature:Kle},focus:{Feature:Gle},hover:{Feature:Hle}},nce={layout:{ProjectionNode:jV,MeasureLayout:AV}},wT={current:null},DV={current:!1};function ace(){if(DV.current=!0,!!ck)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wT.current=e.matches;e.addListener(t),t()}else wT.current=!1}const $v=new WeakMap;function ice(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ei(a))e.addValue(n,a);else if(ei(i))e.addValue(n,eh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,eh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Es.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Kn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=x5(r),this.isVariantNode=tV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&ei(p)&&p.set(l[h],!1)}}mount(t){this.current=t,$v.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),DV.current||ace(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xc(this.notifyUpdate),Xc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Qp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Kn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in up){const r=up[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):na()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Kj.length;n++){const a=Kj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=ice(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=eh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(rU(n)||aU(n))?n=parseFloat(n):!Nse(n)&&Lf.test(r)&&(n=qU(t,r)),this.setBaseTarget(t,ei(n)?n.get():n)),ei(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=$k(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ei(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class MV extends LV{constructor(){super(...arguments),this.KeyframeResolver=gse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ei(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function RV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function sce(e){return window.getComputedStyle(e)}class FV extends MV{constructor(){super(...arguments),this.type="html",this.renderInstance=RV}readValueFromInstance(t,r){var n;if(Qp.has(r))return(n=this.projection)!=null&&n.isProjecting?lT(r):jie(t,r);{const a=sce(t),i=(gk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return bV(t,r)}build(t,r,n){Mk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Bk(t,r,n)}}const $V=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oce(e,t,r,n){RV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute($V.has(a)?a:Lk(a),t.attrs[a])}class BV extends MV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=na}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Qp.has(r)){const n=zU(r);return n&&n.default||0}return r=$V.has(r)?r:Lk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return fV(t,r,n)}build(t,r,n){oV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){oce(t,r,n,a)}mount(t){this.isSVGTag=cV(t.tagName),super.mount(t)}}const lce=(e,t)=>Fk(e)?new BV(t):new FV(t,{allowProjection:e!==U.Fragment}),cce=foe({...Roe,...rce,...Wle,...nce},lce),Xn=Mse(cce);function _T(e){const t=H1(()=>eh(e)),{isStatic:r}=U.useContext(g5);if(r){const[,n]=U.useState(e);U.useEffect(()=>t.on("change",n),[])}return t}function UV(e,t){const r=_T(t()),n=()=>r.set(t());return n(),uk(()=>{const a=()=>Kn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Xc(n)}}),r}function uce(e){Ig.current=[],e();const t=UV(Ig.current,e);return Ig.current=void 0,t}function Yj(e,t,r,n){if(typeof e=="function")return uce(e);const a=typeof t=="function"?t:Tse(t,r,n);return Array.isArray(e)?Xj(e,a):Xj([e],([i])=>a(i))}function Xj(e,t){const r=H1(()=>[]);return UV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function zk(e){return typeof e=="object"&&!Array.isArray(e)}function VV(e,t,r,n){return typeof e=="string"&&zk(t)?WU(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function fce(e,t,r){return e*(t+1)}function Qj(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function dce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(m5(e,a),n--)}}function hce(e,t,r,n,a,i){dce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Hn(a,i,n[s]),easing:gU(r,s)})}function pce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function mce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const gce="easeInOut";function vce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,Qj(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=Qj(f,y.at,u,c));let w=0;const b=(I,C,j,T=0,S=0)=>{const A=yce(I),{delay:D=0,times:E=IU(A),type:N="keyframes",repeat:P,repeatType:V,repeatDelay:X=0,...Y}=C;let{ease:J=t.ease||"easeOut",duration:G}=C;const q=typeof D=="function"?D(T,S):D,ee=A.length,W=Ek(N)?N:a==null?void 0:a[N];if(ee<=2&&W){let H=100;if(ee===2&&wce(A)){const de=A[1]-A[0];H=Math.abs(de)}const Z={...Y};G!==void 0&&(Z.duration=ml(G));const oe=kU(Z,H,W);J=oe.ease,G=oe.duration}G??(G=i);const O=f+q;E.length===1&&E[0]===0&&(E[1]=1);const R=E.length-A.length;if(R>0&&OU(E,R),A.length===1&&A.unshift(null),P){G=fce(G,P);const H=[...A],Z=[...E];J=Array.isArray(J)?[...J]:[J];const oe=[...J];for(let de=0;de<P;de++){A.push(...H);for(let re=0;re<H.length;re++)E.push(Z[re]+(de+1)),J.push(re===0?"linear":gU(oe,re-1))}pce(E,P)}const z=O+G;hce(j,A,J,E,O,z),w=Math.max(q+G,w),h=Math.max(z,h)};if(ei(m)){const I=Jj(m,o);b(v,y,Zj("default",I))}else{const I=VV(m,v,n,l),C=I.length;for(let j=0;j<C;j++){v=v,y=y;const T=I[j],S=Jj(T,o);for(const A in v)b(v[A],xce(y,A),Zj(A,S),j,C)}}u=f,f+=w}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(mce);const y=[],w=[],b=[];for(let C=0;C<v.length;C++){const{at:j,value:T,easing:S}=v[C];y.push(T),w.push(cp(0,h,j)),b.push(S||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),b.unshift(gce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const I=s.get(g);I.keyframes[m]=y,I.transition[m]={...t,duration:h,ease:b,times:w,...r}}}),s}function Jj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Zj(e,t){return t[e]||(t[e]=[]),t[e]}function yce(e){return Array.isArray(e)?e:[e]}function xce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const bce=e=>typeof e=="number",wce=e=>e.every(bce);function _ce(e,t){return e in t}class Sce extends LV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(_ce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return na()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Ace(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Ik(e)&&!XU(e)?new BV(t):new FV(t);r.mount(e),$v.set(e,r)}function Tce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Sce(t);r.mount(e),$v.set(e,r)}function Ece(e,t){return ei(e)||typeof e=="number"||typeof e=="string"&&!zk(t)}function zV(e,t,r,n){const a=[];if(Ece(e,t))a.push(TV(e,zk(t)&&t.default||t,r&&(r.default||r)));else{const i=VV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?Ace:Tce;$v.has(l)||c(l);const u=$v.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...Vk(u,{...t,transition:f},{}))}}return a}function Nce(e,t,r){const n=[];return vce(e,t,r,{spring:Dv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...zV(o,i,s))}),n}function kce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Cce(e){function t(r,n,a){let i=[];return kce(r)?i=Nce(r,n,e):i=zV(r,n,a,e),new ase(i)}return t}const eD=Cce(),Pce=()=>{const{user:e,logout:t}=ba(),r=M1(),{isDarkMode:n}=en(),[a,i]=U.useState(!1),s=h=>h.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:d.jsx(SZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:d.jsx(us,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:d.jsx(wO,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:d.jsx(EZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:d.jsx(vZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:d.jsx(yZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:d.jsx(a9,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:d.jsx(CZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:d.jsx(gZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:d.jsx(pZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:d.jsx(kZ,{size:20}),label:"Settings",roles:["admin","staff"]},{to:"/supply-serve",icon:d.jsx(wO,{size:20}),label:"Supply & Serve",roles:["supply_serve"]}].filter(h=>h.roles.includes(e.role)):[];return d.jsxs(Xn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[d.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx(Xn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(oS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:d.jsx(Xn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),d.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,p)=>d.jsx(Xn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:d.jsx("div",{className:"group relative",children:d.jsx(oS,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>d.jsxs(d.Fragment,{children:[d.jsx(Xn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),d.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsxs(Xn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),d.jsx(Xn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsx(Xn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(bO,{size:20})})]}),d.jsx(Xn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?d.jsx(bv,{size:24}):d.jsx(TZ,{size:24})})]})]})}),d.jsx(JU,{children:a&&d.jsx(Xn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:d.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,p)=>d.jsx(Xn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},children:d.jsx(oS,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:d.jsxs(Xn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,d.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),d.jsx(Xn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Xn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),d.jsxs(Xn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(bO,{size:18}),d.jsx("span",{children:"Logout"})]})]})})]})})})]})},Oce=()=>{const{isAuthenticated:e}=ba(),t=M1(),{isDarkMode:r}=en();return je.useEffect(()=>{e||t("/login")},[e,t]),e?d.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[d.jsx(Pce,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:d.jsx(YJ,{})})]}):null},qV=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=U.useState(!1),[s,o]=U.useState(!1);U.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:d.jsx(O4,{className:"text-green-500",size:20}),error:d.jsx(_O,{className:"text-red-500",size:20}),warning:d.jsx(Qd,{className:"text-yellow-500",size:20}),info:d.jsx(_Z,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(_O,{size:18})})]})})},WV=U.createContext(void 0),rc=()=>{const e=U.useContext(WV);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ice=({children:e})=>{const[t,r]=U.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return d.jsxs(WV.Provider,{value:{showToast:n},children:[e,t&&d.jsx(qV,{message:t.message,type:t.type,onClose:a})]})},kt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=en(),l=i??o;return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsxs("div",{className:"relative",children:[r&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:je.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),d.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Vu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=U.useState(!1),{isDarkMode:l}=en(),c=a??l,u=()=>{o(!s)};return d.jsxs("div",{className:"relative",children:[d.jsx(kt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),d.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?d.jsx(wZ,{size:18}):d.jsx(I4,{size:18})})]})},ut=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return d.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},jce=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ba(),{showToast:u}=rc(),{isDarkMode:f,toggleDarkMode:h}=en(),p=M1();U.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return d.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[d.jsx(Xn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"max-w-md p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),d.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),d.jsx(Xn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[d.jsx(NZ,{size:48,className:"mx-auto text-blue-600"}),d.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),d.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),d.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),d.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?d.jsx(o9,{size:20}):d.jsx(i9,{size:20})})]}),a&&d.jsx(Xn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(kt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:d.jsx(j4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),d.jsx(Vu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),d.jsx(ut,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},fi=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=en(),i=_T(0),s=_T(0),o=Yj(i,Math.round),l=Yj(s,Math.round);return je.useEffect(()=>{if(typeof t=="number"){const c=eD(i,t,{duration:1});if(n){const u=eD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),d.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),d.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?d.jsx(Xn.span,{children:o}):t}),n&&d.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||d.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),d.jsx(Xn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&d.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),d.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},rf=()=>{const{isDarkMode:e}=en();return d.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),d.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:d.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},OS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=en();return d.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&d.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:d.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),d.jsx("div",{className:"p-6",children:t})]})};function nn(e){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(e)}function Zl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function vn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function wn(e){vn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||nn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Dce(e,t){vn(2,arguments);var r=wn(e),n=Zl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Lce(e,t){vn(2,arguments);var r=wn(e).getTime(),n=Zl(t);return new Date(r+n)}var Mce={};function Q1(){return Mce}function ST(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function db(e){vn(1,arguments);var t=wn(e);return t.setHours(0,0,0,0),t}function u2(e,t){vn(2,arguments);var r=wn(e),n=wn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var HV=6e4,GV=36e5;function Rce(e){return vn(1,arguments),e instanceof Date||nn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fce(e){if(vn(1,arguments),!Rce(e)&&typeof e!="number")return!1;var t=wn(e);return!isNaN(Number(t))}function $ce(e,t){vn(2,arguments);var r=wn(e),n=wn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Bce(e,t){return vn(2,arguments),wn(e).getTime()-wn(t).getTime()}var tD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Uce="trunc";function Vce(e){return e?tD[e]:tD[Uce]}function Bv(e){vn(1,arguments);var t=wn(e);return t.setHours(23,59,59,999),t}function zce(e){vn(1,arguments);var t=wn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function qce(e){vn(1,arguments);var t=wn(e);return Bv(t).getTime()===zce(t).getTime()}function Wce(e,t){vn(2,arguments);var r=wn(e),n=wn(t),a=u2(r,n),i=Math.abs($ce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=u2(r,n)===-a;qce(wn(e))&&i===1&&u2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Hce(e,t,r){vn(2,arguments);var n=Bce(e,t)/1e3;return Vce(void 0)(n)}function Gce(e,t){vn(2,arguments);var r=Zl(t);return Lce(e,-r)}var Kce=864e5;function Yce(e){vn(1,arguments);var t=wn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Kce)+1}function hb(e){vn(1,arguments);var t=1,r=wn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function KV(e){vn(1,arguments);var t=wn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=hb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=hb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Xce(e){vn(1,arguments);var t=KV(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=hb(r);return n}var Qce=6048e5;function Jce(e){vn(1,arguments);var t=wn(e),r=hb(t).getTime()-Xce(t).getTime();return Math.round(r/Qce)+1}function pb(e,t){var r,n,a,i,s,o,l,c;vn(1,arguments);var u=Q1(),f=Zl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=wn(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function YV(e,t){var r,n,a,i,s,o,l,c;vn(1,arguments);var u=wn(e),f=u.getUTCFullYear(),h=Q1(),p=Zl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=pb(g,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=pb(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Zce(e,t){var r,n,a,i,s,o,l,c;vn(1,arguments);var u=Q1(),f=Zl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=YV(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=pb(p,t);return g}var eue=6048e5;function tue(e,t){vn(1,arguments);var r=wn(e),n=pb(r,t).getTime()-Zce(r,t).getTime();return Math.round(n/eue)+1}function mn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ru={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return mn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):mn(n+1,2)},d:function(t,r){return mn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return mn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return mn(t.getUTCHours(),r.length)},m:function(t,r){return mn(t.getUTCMinutes(),r.length)},s:function(t,r){return mn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return mn(i,r.length)}},Wh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Ru.y(t,r)},Y:function(t,r,n,a){var i=YV(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return mn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):mn(s,r.length)},R:function(t,r){var n=KV(t);return mn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return mn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return mn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return mn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ru.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return mn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=tue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):mn(i,r.length)},I:function(t,r,n){var a=Jce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):mn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ru.d(t,r)},D:function(t,r,n){var a=Yce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):mn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return mn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return mn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return mn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Wh.noon:a===0?i=Wh.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Wh.evening:a>=12?i=Wh.afternoon:a>=4?i=Wh.morning:i=Wh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ru.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ru.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):mn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):mn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ru.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ru.s(t,r)},S:function(t,r){return Ru.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return nD(s);case"XXXX":case"XX":return xd(s);case"XXXXX":case"XXX":default:return xd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return nD(s);case"xxxx":case"xx":return xd(s);case"xxxxx":case"xxx":default:return xd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+rD(s,":");case"OOOO":default:return"GMT"+xd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+rD(s,":");case"zzzz":default:return"GMT"+xd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return mn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return mn(s,r.length)}};function rD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+mn(i,2)}function nD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+mn(Math.abs(e)/60,2)}return xd(e,t)}function xd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=mn(Math.floor(a/60),2),s=mn(a%60,2);return n+i+r+s}var aD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},XV=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},nue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return aD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",aD(a,r)).replace("{{time}}",XV(i,r))},aue={p:XV,P:nue},iue=["D","DD"],sue=["YY","YYYY"];function oue(e){return iue.indexOf(e)!==-1}function lue(e){return sue.indexOf(e)!==-1}function iD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var cue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uue=function(t,r,n){var a,i=cue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function IS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var fue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},due={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pue={date:IS({formats:fue,defaultWidth:"full"}),time:IS({formats:due,defaultWidth:"full"}),dateTime:IS({formats:hue,defaultWidth:"full"})},mue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gue=function(t,r,n,a){return mue[t]};function $m(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var vue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_ue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Aue={ordinalNumber:Sue,era:$m({values:vue,defaultWidth:"wide"}),quarter:$m({values:yue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:$m({values:xue,defaultWidth:"wide"}),day:$m({values:bue,defaultWidth:"wide"}),dayPeriod:$m({values:wue,defaultWidth:"wide",formattingValues:_ue,defaultFormattingWidth:"wide"})};function Bm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Eue(o,function(f){return f.test(s)}):Tue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Tue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Eue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Nue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var kue=/^(\d+)(th|st|nd|rd)?/i,Cue=/\d+/i,Pue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oue={any:[/^b/i,/^(a|c)/i]},Iue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jue={any:[/1/i,/2/i,/3/i,/4/i]},Due={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bue={ordinalNumber:Nue({matchPattern:kue,parsePattern:Cue,valueCallback:function(t){return parseInt(t,10)}}),era:Bm({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Oue,defaultParseWidth:"any"}),quarter:Bm({matchPatterns:Iue,defaultMatchWidth:"wide",parsePatterns:jue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Bm({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Lue,defaultParseWidth:"any"}),day:Bm({matchPatterns:Mue,defaultMatchWidth:"wide",parsePatterns:Rue,defaultParseWidth:"any"}),dayPeriod:Bm({matchPatterns:Fue,defaultMatchWidth:"any",parsePatterns:$ue,defaultParseWidth:"any"})},QV={code:"en-US",formatDistance:uue,formatLong:pue,formatRelative:gue,localize:Aue,match:Bue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Uue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zue=/^'([^]*?)'?$/,que=/''/g,Wue=/[a-zA-Z]/;function tr(e,t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v;vn(2,arguments);var y=String(t),w=Q1(),b=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:QV,I=Zl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Zl((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var j=wn(e);if(!Fce(j))throw new RangeError("Invalid time value");var T=ST(j),S=Gce(j,T),A={firstWeekContainsDate:I,weekStartsOn:C,locale:b,_originalDate:j},D=y.match(Vue).map(function(E){var N=E[0];if(N==="p"||N==="P"){var P=aue[N];return P(E,b.formatLong)}return E}).join("").match(Uue).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return Hue(E);var P=rue[N];if(P)return lue(E)&&iD(E,t,String(e)),oue(E)&&iD(E,t,String(e)),P(S,E,b.localize,A);if(N.match(Wue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return D}function Hue(e){var t=e.match(zue);return t?t[1].replace(que,"'"):e}function JV(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Gue(e){return JV({},e)}var sD=1440,Kue=2520,jS=43200,Yue=86400;function Xue(e,t,r){var n,a;vn(2,arguments);var i=Q1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:QV;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=u2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=JV(Gue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=wn(t),u=wn(e)):(c=wn(e),u=wn(t));var f=Hce(u,c),h=(ST(u)-ST(c))/1e3,p=Math.round((f-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<sD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<Kue)return s.formatDistance("xDays",1,l);if(p<jS){var v=Math.round(p/sD);return s.formatDistance("xDays",v,l)}else if(p<Yue)return g=Math.round(p/jS),s.formatDistance("aboutXMonths",g,l)}if(g=Wce(u,c),g<12){var y=Math.round(p/jS);return s.formatDistance("xMonths",y,l)}else{var w=g%12,b=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",b,l):w<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function Que(e,t){return vn(1,arguments),Xue(e,Date.now(),t)}function Pr(e,t){vn(2,arguments);var r=Zl(t);return Dce(e,-r)}function Jue(e,t){var r;vn(1,arguments);var n=Zl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=rfe(e),i;if(a.date){var s=nfe(a.date,n);i=afe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=ife(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=sfe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var fx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,efe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rfe(e){var t={},r=e.split(fx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],fx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=fx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function nfe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function afe(e,t){if(t===null)return new Date(NaN);var r=e.match(Zue);if(!r)return new Date(NaN);var n=!!r[4],a=Um(r[1]),i=Um(r[2])-1,s=Um(r[3]),o=Um(r[4]),l=Um(r[5])-1;if(n)return ffe(t,o,l)?ofe(t,o,l):new Date(NaN);var c=new Date(0);return!cfe(t,i,s)||!ufe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Um(e){return e?parseInt(e):1}function ife(e){var t=e.match(efe);if(!t)return NaN;var r=DS(t[1]),n=DS(t[2]),a=DS(t[3]);return dfe(r,n,a)?r*GV+n*HV+a*1e3:NaN}function DS(e){return e&&parseFloat(e.replace(",","."))||0}function sfe(e){if(e==="Z")return 0;var t=e.match(tfe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return hfe(n,a)?r*(n*GV+a*HV):NaN}function ofe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var lfe=[31,null,31,30,31,30,31,31,30,31,30,31];function ZV(e){return e%400===0||e%4===0&&e%100!==0}function cfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(lfe[t]||(ZV(e)?29:28))}function ufe(e,t){return t>=1&&t<=(ZV(e)?366:365)}function ffe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function dfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function hfe(e,t){return t>=0&&t<=59}const pfe=()=>{const[e,t]=U.useState(!0),[r,n]=U.useState([]),[a,i]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=en(),f=async()=>{t(!0);try{const m=new Date,v=Pr(m,30),y=Pr(m,1),w=m,b=or(mt(Ge,"orders"),nr("createdAt",">=",sr.fromDate(v)),nr("createdAt","<=",sr.fromDate(m))),I=or(mt(Ge,"orders"),nr("createdAt",">=",sr.fromDate(y)),nr("createdAt","<=",sr.fromDate(w))),C=or(mt(Ge,"inventory")),j=or(mt(Ge,"inventory"),nr("lastUpdated",">=",sr.fromDate(y)),nr("lastUpdated","<=",sr.fromDate(w))),[T,S,A,D]=await Promise.all([lr(b),lr(I),lr(C),lr(j)]),E=T.docs.map(Le=>({id:Le.id,...Le.data()})),N=S.docs.map(Le=>({id:Le.id,...Le.data()})),P=S.docs.length,V=A.docs.reduce((Le,Ze)=>{const De=Ze.data();return Le+(De.quantity||0)},0),X=D.docs.reduce((Le,Ze)=>{const De=Ze.data();return Le+(De.quantityChange||0)},0),Y=A.docs.reduce((Le,Ze)=>{const De=Ze.data();return Le+(De.quantity||0)*(De.price||0)},0),J=E.length,G=N.reduce((Le,Ze)=>Le+(Ze.totalAmount||0),0),q=or(mt(Ge,"inventory")),W=(await lr(q)).docs.map(Le=>({id:Le.id,...Le.data()})),O=W.filter(Le=>Le.quantity<=10),R=W.filter(Le=>Le.quantity>10&&Le.quantity<=25);console.log("All stock items:",W),console.log("Critical items:",O),console.log("Low stock items:",R),i(O),o(R);const z=new Date,H=db(z),Z=Bv(z),oe=db(Pr(z,1)),de=Bv(Pr(z,1)),re=or(mt(Ge,"activityLogs"),nr("time",">=",H.toISOString()),nr("time","<=",Z.toISOString())),he=or(mt(Ge,"activityLogs"),nr("time",">=",oe.toISOString()),nr("time","<=",de.toISOString())),[we,B]=await Promise.all([lr(re),lr(he)]),Ae=we.docs.map(Le=>Le.data()),ve=B.docs.map(Le=>Le.data()),ye=Ae.reduce((Le,Ze)=>{const De=Ze.detail.match(/(\d+) units deducted/);return Le+(De?parseInt(De[1]):0)},0),te=ve.reduce((Le,Ze)=>{const De=Ze.detail.match(/(\d+) units deducted/);return Le+(De?parseInt(De[1]):0)},0),Pe=Ae.reduce((Le,Ze)=>{const De=Ze.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Le+(De?parseInt(De[1]):0)},0),Fe=Ae.reduce((Le,Ze)=>{const De=Ze.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(De){const[,et,yt]=De,ft=A.docs.find(wt=>wt.data().name===et);if(ft){const wt=ft.data().price||0;return Le+parseInt(yt)*wt}}return Le},0),Ve=Ae.reduce((Le,Ze)=>{const De=Ze.detail.toLowerCase();if(/reason:\s*damaged/i.test(De)||/damaged/i.test(De)||/damageditems/i.test(De)||/damaged items/i.test(De)){const et=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const yt of et){const ft=De.match(yt);if(ft)if(ft.length===3){const wt=parseInt(ft[1]),It=parseInt(ft[2]);return Le+Math.abs(wt-It)}else return Le+parseInt(ft[1])}return Le+1}return Le},0),rt=ve.reduce((Le,Ze)=>{const De=Ze.detail.toLowerCase();if(/reason:\s*damaged/i.test(De)||/damaged/i.test(De)||/damageditems/i.test(De)||/damaged items/i.test(De)){const et=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const yt of et){const ft=De.match(yt);if(ft)if(ft.length===3){const wt=parseInt(ft[1]),It=parseInt(ft[2]);return Le+Math.abs(wt-It)}else return Le+parseInt(ft[1])}return Le+1}return Le},0);c({totalOrders:J,totalStock:V,totalInventoryValue:Y,todayDamagedProducts:Ve,yesterdayDamagedProducts:rt,yesterdayOrders:P,yesterdayStockChange:X,yesterdayRevenue:G,totalDeductions:ye,yesterdayDeductions:te,todayStockAdditions:Pe,todayInventoryValueAdditions:Fe})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=or(mt(Ge,"activityLogs"),Ia("time","desc"),lg(5)),y=(await lr(m)).docs.map(w=>({id:w.id,...w.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},p=async()=>{await Promise.all([f(),h()])};U.useEffect(()=>{p()},[]);const g=()=>{const{isDarkMode:m}=en();return d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>d.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return d.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),d.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),d.jsx(ut,{variant:"secondary",onClick:p,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(Za,{size:16,className:e?"animate-spin":""})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?d.jsxs(d.Fragment,{children:[d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(fi,{title:"Total Stock",value:l.totalStock,icon:d.jsx(tp,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:d.jsx(us,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),d.jsx(fi,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:d.jsx(l9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),d.jsx(fi,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),d.jsx(fi,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:d.jsx(q2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:d.jsx(us,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(OS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):r.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),d.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Que(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),d.jsx(OS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):s.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsx(OS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):a.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},an=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=en(),o=U.useRef(null);if(U.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),U.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),d.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),d.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:d.jsx(bv,{size:20})})]}),d.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},hh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=U.useState(!1),i=U.useRef(null);return U.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),d.jsx(an,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:d.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[d.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:d.jsx(zc,{size:32,className:"text-blue-500"})}),d.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),d.jsxs("div",{className:"text-center text-sm text-slate-500",children:[d.jsx("p",{children:"Point your barcode scanner at the product"}),d.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ez=1252,mfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Wk=function(e){mfe.indexOf(e)!=-1&&(ez=qk[0]=e)};function gfe(){Wk(1252)}var ul=function(e){Wk(e)};function tz(){ul(1200),gfe()}function oD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function vfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function rz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?vfe(e.slice(2)):t==254&&r==255?rz(e.slice(2)):t==65279?e.slice(1):e},dx=function(t){return String.fromCharCode(t)},lD=function(t){return String.fromCharCode(t)},Yu,nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=nf.charAt(i)+nf.charAt(s)+nf.charAt(o)+nf.charAt(l);return t}function Zs(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=nf.indexOf(e.charAt(c++)),s=nf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=nf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=nf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Vr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ph=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mf(e){return Vr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uD(e){return Vr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ll=function(t){return Vr?ph(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function mh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Hk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Hk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xu=Vr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ph(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function yfe(e){for(var t=[],r=0,n=e.length+250,a=Mf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mf(65535),n=65530)}return t.push(a.slice(0,r)),Xu(t)}var ds=/\u0000/g,dg=/[\u0001-\u0006]/g;function L0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function fl(e,t){var r=""+e;return r.length>=t?r:oa("0",t-r.length)+r}function Gk(e,t){var r=""+e;return r.length>=t?r:oa(" ",t-r.length)+r}function mb(e,t){var r=""+e;return r.length>=t?r:r+oa(" ",t-r.length)}function xfe(e,t){var r=""+Math.round(e);return r.length>=t?r:oa("0",t-r.length)+r}function bfe(e,t){var r=""+e;return r.length>=t?r:oa("0",t-r.length)+r}var fD=Math.pow(2,32);function Hh(e,t){if(e>fD||e<-fD)return xfe(e,t);var r=Math.round(e);return bfe(r,t)}function gb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],LS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function wfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Or={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},hD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_fe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Id(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=kfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var nz=new Date(1899,11,31,0,0,0),Sfe=nz.getTime(),Afe=new Date(1900,2,1,0,0,0);function az(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Afe&&(r+=24*60*60*1e3),(r-(Sfe+(e.getTimezoneOffset()-nz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Kk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Tfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Efe(e){var t=e<0?12:11,r=Kk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Nfe(e){var t=Kk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Uv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Efe(e):t===10?r=e.toFixed(10).substr(0,12):r=Nfe(e),Kk(Tfe(r.toUpperCase()))}function th(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Uv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return jo(14,az(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function kfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Cfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return LS[r.m-1][1];case 5:return LS[r.m-1][0];default:return LS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return dD[r.q][0];default:return dD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?fl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=fl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?fl(l,c):"";return u}function af(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var iz=/%/g;function Pfe(e,t,r){var n=t.replace(iz,""),a=t.length-n.length;return jc(e,n,r*Math.pow(10,2*a))+oa("%",a)}function Ofe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function sz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var oz=/# (\?+)( ?)\/( ?)(\d+)/;function Ife(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?oa(" ",e[1].length+1+e[4].length):Gk(s,e[1].length)+e[2]+"/"+e[3]+fl(o,e[4].length))}function jfe(e,t,r){return r+(t===0?"":""+t)+oa(" ",e[1].length+2+e[4].length)}var lz=/^#*0*\.([0#]+)/,cz=/\).*[0#]/,uz=/\(###\) ###\\?-####/;function rs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function pD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function mD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Dfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Lfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function yo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yo("n",n,r):"("+yo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ofe(e,t,r);if(t.indexOf("%")!==-1)return Pfe(e,t,r);if(t.indexOf("E")!==-1)return sz(t,r);if(t.charCodeAt(0)===36)return"$"+yo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Hh(l,t.length);if(t.match(/^[#?]+$/))return a=Hh(r,0),a==="0"&&(a=""),a.length>t.length?a:rs(t.substr(0,t.length-a.length))+a;if(i=t.match(oz))return Ife(i,l,c);if(t.match(/^#+0+$/))return c+Hh(l,t.length-t.indexOf("0"));if(i=t.match(lz))return a=pD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+oa("0",rs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+pD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+af(Hh(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yo(e,t,-r):af(""+(Math.floor(r)+Dfe(r,i[1].length)))+"."+fl(mD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return yo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=L0(yo(e,t.replace(/[\\-]/g,""),r)),s=0,L0(L0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(uz))return a=yo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=vb(l,Math.pow(10,s)-1,!1),a=""+c,u=jc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=mb(o[2],s),u.length<i[4].length&&(u=rs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=vb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+mb(o[2],s):oa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Hh(r,0),t.length<=a.length?a:rs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return rs(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=mD(r,i[1].length),r<0?"-"+yo(e,t,-r):af(Lfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?fl(0,3-g.length):"")+g})+"."+fl(s,i[1].length);switch(t){case"###,##0.00":return yo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=af(Hh(l,0));return p!=="0"?c+p:"";case"###,###.00":return yo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return yo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Mfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Rfe(e,t,r){var n=t.replace(iz,""),a=t.length-n.length;return jc(e,n,r*Math.pow(10,2*a))+oa("%",a)}function fz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ll("n",n,r):"("+Ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Mfe(e,t,r);if(t.indexOf("%")!==-1)return Rfe(e,t,r);if(t.indexOf("E")!==-1)return fz(t,r);if(t.charCodeAt(0)===36)return"$"+Ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+fl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:rs(t.substr(0,t.length-a.length))+a;if(i=t.match(oz))return jfe(i,l,c);if(t.match(/^#+0+$/))return c+fl(l,t.length-t.indexOf("0"));if(i=t.match(lz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+oa("0",rs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+af(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):af(""+r)+"."+oa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=L0(Ll(e,t.replace(/[\\-]/g,""),r)),s=0,L0(L0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(uz))return a=Ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=vb(l,Math.pow(10,s)-1,!1),a=""+c,u=jc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=mb(o[2],s),u.length<i[4].length&&(u=rs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=vb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+mb(o[2],s):oa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:rs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return rs(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):af(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?fl(0,3-g.length):"")+g})+"."+fl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=af(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ll(e,t.slice(0,t.lastIndexOf(".")),r)+rs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jc(e,t,r){return(r|0)===r?Ll(e,t,r):yo(e,t,r)}function Ffe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var dz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Jp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":gb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(dz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function $fe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!gb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Id(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Id(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Id(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(dz)){if(c==null&&(c=Id(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Jp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",I;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Cfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(I=s+1;a[I]!=null&&((o=a[I].t)==="?"||o==="D"||(o===" "||o==="t")&&a[I+1]!=null&&(a[I+1].t==="?"||a[I+1].t==="t"&&a[I+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[I].v==="/"||a[I].v===" "&&a[I+1]!=null&&a[I+1].t=="?"));)a[s].v+=a[I].v,a[I]={v:"",t:";"},++I;b+=a[s].v,s=I-1;break;case"G":a[s].t="t",a[s].v=th(t,r);break}var C="",j,T;if(b.length>0){b.charCodeAt(0)==40?(j=t<0&&b.charCodeAt(0)===45?-t:t,T=jc("n",b,j)):(j=t<0&&n>1?-t:t,T=jc("n",b,j),j<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),I=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var A=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(I>=a[s].v.length-1?(I-=a[s].v.length,a[s].v=T.substr(I+1,a[s].v.length)):I<0?a[s].v="":(a[s].v=T.substr(0,I+1),I=-1),a[s].t="t",A=s);I>=0&&A<a.length&&(a[A].v=T.substr(0,I+1)+a[A].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(I=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,C=a[s].v.substr(u+1);u>=0;--u)I>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(C=T.charAt(I--)+C);a[s].v=C,a[s].t="t",A=s}for(I>=0&&A<a.length&&(a[A].v=T.substr(0,I+1)+a[A].v),I=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,C=a[s].v.substr(0,u);u<a[s].v.length;++u)I<T.length&&(C+=T.charAt(I++));a[s].v=C,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=jc(a[s].t,a[s].v,j),a[s].t="t");var D="";for(s=0;s!==a.length;++s)a[s]!=null&&(D+=a[s].v);return D}var gD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Bfe(e,t){var r=Ffe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(gD),o=r[1].match(gD);return vD(t,s)?[n,r[0]]:vD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function jo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Or)[e],n==null&&(n=r.table&&r.table[hD[e]]||Or[hD[e]]),n==null&&(n=_fe[e]||"General");break}if(gb(n,0))return th(t,r);t instanceof Date&&(t=az(t,r.date1904));var a=Bfe(n,t);if(gb(a[1]))return th(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return $fe(a[1],t,r,a[0])}function Ud(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Or[r]==null){t<0&&(t=r);continue}if(Or[r]==e){t=r;break}}t<0&&(t=391)}return Or[t]=e,t}function hz(){Or=wfe()}var Ufe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Vfe(e){var t=typeof e=="number"?Or[e]:e;return t=t.replace(pz,"(\\d+)"),new RegExp("^"+t+"$")}function zfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(pz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var qfe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[A]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,A=0,D=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)E[D]=T[D];for(D=0;D!=256;++D)for(A=T[D],S=256+D;S<4096;S+=256)A=E[S]=A>>>8^T[A&255];var N=[];for(D=1;D!=16;++D)N[D-1]=typeof Int32Array<"u"?E.subarray(D*256,D*256+256):E.slice(D*256,D*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function I(T,S){for(var A=S^-1,D=0,E=T.length;D<E;)A=A>>>8^r[(A^T.charCodeAt(D++))&255];return~A}function C(T,S){for(var A=S^-1,D=T.length-15,E=0;E<D;)A=b[T[E++]^A&255]^w[T[E++]^A>>8&255]^y[T[E++]^A>>16&255]^v[T[E++]^A>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(D+=15;E<D;)A=A>>>8^r[(A^T[E++])&255];return~A}function j(T,S){for(var A=S^-1,D=0,E=T.length,N=0,P=0;D<E;)N=T.charCodeAt(D++),N<128?A=A>>>8^r[(A^N)&255]:N<2048?(A=A>>>8^r[(A^(192|N>>6&31))&255],A=A>>>8^r[(A^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,P=T.charCodeAt(D++)&1023,A=A>>>8^r[(A^(240|N>>8&7))&255],A=A>>>8^r[(A^(128|N>>2&63))&255],A=A>>>8^r[(A^(128|P>>6&15|(N&3)<<4))&255],A=A>>>8^r[(A^(128|P&63))&255]):(A=A>>>8^r[(A^(224|N>>12&15))&255],A=A>>>8^r[(A^(128|N>>6&63))&255],A=A>>>8^r[(A^(128|N&63))&255]);return~A}return e.table=r,e.bstr=I,e.buf=C,e.str=j,e}(),Gr=function(){var t={};t.version="1.2.1";function r(ie,_e){for(var me=ie.split("/"),ge=_e.split("/"),be=0,Se=0,ze=Math.min(me.length,ge.length);be<ze;++be){if(Se=me[be].length-ge[be].length)return Se;if(me[be]!=ge[be])return me[be]<ge[be]?-1:1}return me.length-ge.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var _e=ie.lastIndexOf("/");return _e===-1?ie:ie.slice(0,_e+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var _e=ie.lastIndexOf("/");return _e===-1?ie:ie.slice(_e+1)}function i(ie,_e){typeof _e=="string"&&(_e=new Date(_e));var me=_e.getHours();me=me<<6|_e.getMinutes(),me=me<<5|_e.getSeconds()>>>1,ie.write_shift(2,me);var ge=_e.getFullYear()-1980;ge=ge<<4|_e.getMonth()+1,ge=ge<<5|_e.getDate(),ie.write_shift(2,ge)}function s(ie){var _e=ie.read_shift(2)&65535,me=ie.read_shift(2)&65535,ge=new Date,be=me&31;me>>>=5;var Se=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(Se-1),ge.setDate(be);var ze=_e&31;_e>>>=5;var tt=_e&63;return _e>>>=6,ge.setHours(_e),ge.setMinutes(tt),ge.setSeconds(ze<<1),ge}function o(ie){hi(ie,0);for(var _e={},me=0;ie.l<=ie.length-4;){var ge=ie.read_shift(2),be=ie.read_shift(2),Se=ie.l+be,ze={};switch(ge){case 21589:me=ie.read_shift(1),me&1&&(ze.mtime=ie.read_shift(4)),be>5&&(me&2&&(ze.atime=ie.read_shift(4)),me&4&&(ze.ctime=ie.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}ie.l=Se,_e[ge]=ze}return _e}var l;function c(){return l||(l={})}function u(ie,_e){if(ie[0]==80&&ie[1]==75)return Ee(ie,_e);if((ie[0]|32)==109&&(ie[1]|32)==105)return wa(ie,_e);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var me=3,ge=512,be=0,Se=0,ze=0,tt=0,qe=0,He=[],Xe=ie.slice(0,512);hi(Xe,0);var _t=f(Xe);switch(me=_t[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(_t[1]==0)return Ee(ie,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Xe=ie.slice(0,ge),hi(Xe,28));var Lt=ie.slice(0,ge);h(Xe,me);var Bt=Xe.read_shift(4,"i");if(me===3&&Bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Bt);Xe.l+=4,ze=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),tt=Xe.read_shift(4,"i"),be=Xe.read_shift(4,"i"),qe=Xe.read_shift(4,"i"),Se=Xe.read_shift(4,"i");for(var Pt=-1,Mt=0;Mt<109&&(Pt=Xe.read_shift(4,"i"),!(Pt<0));++Mt)He[Mt]=Pt;var ur=p(ie,ge);v(qe,Se,ur,ge,He);var ce=w(ur,ze,He,ge);ce[ze].name="!Directory",be>0&&tt!==P&&(ce[tt].name="!MiniFAT"),ce[He[0]].name="!FAT",ce.fat_addrs=He,ce.ssz=ge;var ke={},lt=[],Gt=[],ht=[];b(ze,ce,ur,lt,be,ke,Gt,tt),g(Gt,ht,lt),lt.shift();var dt={FileIndex:Gt,FullPaths:ht};return _e&&_e.raw&&(dt.raw={header:Lt,sectors:ur}),dt}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(V,"Header Signature: "),ie.l+=16;var _e=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),_e]}function h(ie,_e){var me=9;switch(ie.l+=2,me=ie.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function p(ie,_e){for(var me=Math.ceil(ie.length/_e)-1,ge=[],be=1;be<me;++be)ge[be-1]=ie.slice(be*_e,(be+1)*_e);return ge[me-1]=ie.slice(me*_e),ge}function g(ie,_e,me){for(var ge=0,be=0,Se=0,ze=0,tt=0,qe=me.length,He=[],Xe=[];ge<qe;++ge)He[ge]=Xe[ge]=ge,_e[ge]=me[ge];for(;tt<Xe.length;++tt)ge=Xe[tt],be=ie[ge].L,Se=ie[ge].R,ze=ie[ge].C,He[ge]===ge&&(be!==-1&&He[be]!==be&&(He[ge]=He[be]),Se!==-1&&He[Se]!==Se&&(He[ge]=He[Se])),ze!==-1&&(He[ze]=ge),be!==-1&&ge!=He[ge]&&(He[be]=He[ge],Xe.lastIndexOf(be)<tt&&Xe.push(be)),Se!==-1&&ge!=He[ge]&&(He[Se]=He[ge],Xe.lastIndexOf(Se)<tt&&Xe.push(Se));for(ge=1;ge<qe;++ge)He[ge]===ge&&(Se!==-1&&He[Se]!==Se?He[ge]=He[Se]:be!==-1&&He[be]!==be&&(He[ge]=He[be]));for(ge=1;ge<qe;++ge)if(ie[ge].type!==0){if(tt=ge,tt!=He[tt])do tt=He[tt],_e[ge]=_e[tt]+"/"+_e[ge];while(tt!==0&&He[tt]!==-1&&tt!=He[tt]);He[ge]=-1}for(_e[0]+="/",ge=1;ge<qe;++ge)ie[ge].type!==2&&(_e[ge]+="/")}function m(ie,_e,me){for(var ge=ie.start,be=ie.size,Se=[],ze=ge;me&&be>0&&ze>=0;)Se.push(_e.slice(ze*N,ze*N+N)),be-=N,ze=Ad(me,ze*4);return Se.length===0?Ra(0):Xu(Se).slice(0,ie.size)}function v(ie,_e,me,ge,be){var Se=P;if(ie===P){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var ze=me[ie],tt=(ge>>>2)-1;if(!ze)return;for(var qe=0;qe<tt&&(Se=Ad(ze,qe*4))!==P;++qe)be.push(Se);v(Ad(ze,ge-4),_e-1,me,ge,be)}}function y(ie,_e,me,ge,be){var Se=[],ze=[];be||(be=[]);var tt=ge-1,qe=0,He=0;for(qe=_e;qe>=0;){be[qe]=!0,Se[Se.length]=qe,ze.push(ie[qe]);var Xe=me[Math.floor(qe*4/ge)];if(He=qe*4&tt,ge<4+He)throw new Error("FAT boundary crossed: "+qe+" 4 "+ge);if(!ie[Xe])break;qe=Ad(ie[Xe],He)}return{nodes:Se,data:ND([ze])}}function w(ie,_e,me,ge){var be=ie.length,Se=[],ze=[],tt=[],qe=[],He=ge-1,Xe=0,_t=0,Lt=0,Bt=0;for(Xe=0;Xe<be;++Xe)if(tt=[],Lt=Xe+_e,Lt>=be&&(Lt-=be),!ze[Lt]){qe=[];var Pt=[];for(_t=Lt;_t>=0;){Pt[_t]=!0,ze[_t]=!0,tt[tt.length]=_t,qe.push(ie[_t]);var Mt=me[Math.floor(_t*4/ge)];if(Bt=_t*4&He,ge<4+Bt)throw new Error("FAT boundary crossed: "+_t+" 4 "+ge);if(!ie[Mt]||(_t=Ad(ie[Mt],Bt),Pt[_t]))break}Se[Lt]={nodes:tt,data:ND([qe])}}return Se}function b(ie,_e,me,ge,be,Se,ze,tt){for(var qe=0,He=ge.length?2:0,Xe=_e[ie].data,_t=0,Lt=0,Bt;_t<Xe.length;_t+=128){var Pt=Xe.slice(_t,_t+128);hi(Pt,64),Lt=Pt.read_shift(2),Bt=Zk(Pt,0,Lt-He),ge.push(Bt);var Mt={name:Bt,type:Pt.read_shift(1),color:Pt.read_shift(1),L:Pt.read_shift(4,"i"),R:Pt.read_shift(4,"i"),C:Pt.read_shift(4,"i"),clsid:Pt.read_shift(16),state:Pt.read_shift(4,"i"),start:0,size:0},ur=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);ur!==0&&(Mt.ct=I(Pt,Pt.l-8));var ce=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);ce!==0&&(Mt.mt=I(Pt,Pt.l-8)),Mt.start=Pt.read_shift(4,"i"),Mt.size=Pt.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=P,Mt.name=""),Mt.type===5?(qe=Mt.start,be>0&&qe!==P&&(_e[qe].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",_e[Mt.start]===void 0&&(_e[Mt.start]=y(me,Mt.start,_e.fat_addrs,_e.ssz)),_e[Mt.start].name=Mt.name,Mt.content=_e[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:qe!==P&&Mt.start!==P&&_e[qe]&&(Mt.content=m(Mt,_e[qe].data,(_e[tt]||{}).data))),Mt.content&&hi(Mt.content,0),Se[Bt]=Mt,ze.push(Mt)}}function I(ie,_e){return new Date((zs(ie,_e+4)/1e7*Math.pow(2,32)+zs(ie,_e)/1e7-11644473600)*1e3)}function C(ie,_e){return c(),u(l.readFileSync(ie),_e)}function j(ie,_e){var me=_e&&_e.type;switch(me||Vr&&Buffer.isBuffer(ie)&&(me="buffer"),me||"base64"){case"file":return C(ie,_e);case"base64":return u(ll(Zs(ie)),_e);case"binary":return u(ll(ie),_e)}return u(ie,_e)}function T(ie,_e){var me=_e||{},ge=me.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ge+"/",ie.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ie.FileIndex[0].clsid=me.CLSID),S(ie)}function S(ie){var _e="Sh33tJ5";if(!Gr.find(ie,"/"+_e)){var me=Ra(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ie.FileIndex.push({name:_e,type:2,content:me,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+_e),A(ie)}}function A(ie,_e){T(ie);for(var me=!1,ge=!1,be=ie.FullPaths.length-1;be>=0;--be){var Se=ie.FileIndex[be];switch(Se.type){case 0:ge?me=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Se.R*Se.L*Se.C)&&(me=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!_e)){var ze=new Date(1987,1,19),tt=0,qe=Object.create?Object.create(null):{},He=[];for(be=0;be<ie.FullPaths.length;++be)qe[ie.FullPaths[be]]=!0,ie.FileIndex[be].type!==0&&He.push([ie.FullPaths[be],ie.FileIndex[be]]);for(be=0;be<He.length;++be){var Xe=n(He[be][0]);ge=qe[Xe],ge||(He.push([Xe,{name:a(Xe).replace("/",""),type:1,clsid:Y,ct:ze,mt:ze,content:null}]),qe[Xe]=!0)}for(He.sort(function(Bt,Pt){return r(Bt[0],Pt[0])}),ie.FullPaths=[],ie.FileIndex=[],be=0;be<He.length;++be)ie.FullPaths[be]=He[be][0],ie.FileIndex[be]=He[be][1];for(be=0;be<He.length;++be){var _t=ie.FileIndex[be],Lt=ie.FullPaths[be];if(_t.name=a(Lt).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||Y,be===0)_t.C=He.length>1?1:-1,_t.size=0,_t.type=5;else if(Lt.slice(-1)=="/"){for(tt=be+1;tt<He.length&&n(ie.FullPaths[tt])!=Lt;++tt);for(_t.C=tt>=He.length?-1:tt,tt=be+1;tt<He.length&&n(ie.FullPaths[tt])!=n(Lt);++tt);_t.R=tt>=He.length?-1:tt,_t.type=1}else n(ie.FullPaths[be+1]||"")==n(Lt)&&(_t.R=be+1),_t.type=2}}}function D(ie,_e){var me=_e||{};if(me.fileType=="mad")return Wt(ie,me);switch(A(ie),me.fileType){case"zip":return at(ie,me)}var ge=function(Bt){for(var Pt=0,Mt=0,ur=0;ur<Bt.FileIndex.length;++ur){var ce=Bt.FileIndex[ur];if(ce.content){var ke=ce.content.length;ke>0&&(ke<4096?Pt+=ke+63>>6:Mt+=ke+511>>9)}}for(var lt=Bt.FullPaths.length+3>>2,Gt=Pt+7>>3,ht=Pt+127>>7,dt=Gt+Mt+lt+ht,Ot=dt+127>>7,Ft=Ot<=109?0:Math.ceil((Ot-109)/127);dt+Ot+Ft+127>>7>Ot;)Ft=++Ot<=109?0:Math.ceil((Ot-109)/127);var Xt=[1,Ft,Ot,ht,lt,Mt,Pt,0];return Bt.FileIndex[0].size=Pt<<6,Xt[7]=(Bt.FileIndex[0].start=Xt[0]+Xt[1]+Xt[2]+Xt[3]+Xt[4]+Xt[5])+(Xt[6]+7>>3),Xt}(ie),be=Ra(ge[7]<<9),Se=0,ze=0;{for(Se=0;Se<8;++Se)be.write_shift(1,X[Se]);for(Se=0;Se<8;++Se)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),Se=0;Se<3;++Se)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ge[2]),be.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:P),be.write_shift(4,ge[3]),be.write_shift(-4,ge[1]?ge[0]-1:P),be.write_shift(4,ge[1]),Se=0;Se<109;++Se)be.write_shift(-4,Se<ge[2]?ge[1]+Se:-1)}if(ge[1])for(ze=0;ze<ge[1];++ze){for(;Se<236+ze*127;++Se)be.write_shift(-4,Se<ge[2]?ge[1]+Se:-1);be.write_shift(-4,ze===ge[1]-1?P:ze+1)}var tt=function(Bt){for(ze+=Bt;Se<ze-1;++Se)be.write_shift(-4,Se+1);Bt&&(++Se,be.write_shift(-4,P))};for(ze=Se=0,ze+=ge[1];Se<ze;++Se)be.write_shift(-4,J.DIFSECT);for(ze+=ge[2];Se<ze;++Se)be.write_shift(-4,J.FATSECT);tt(ge[3]),tt(ge[4]);for(var qe=0,He=0,Xe=ie.FileIndex[0];qe<ie.FileIndex.length;++qe)Xe=ie.FileIndex[qe],Xe.content&&(He=Xe.content.length,!(He<4096)&&(Xe.start=ze,tt(He+511>>9)));for(tt(ge[6]+7>>3);be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(ze=Se=0,qe=0;qe<ie.FileIndex.length;++qe)Xe=ie.FileIndex[qe],Xe.content&&(He=Xe.content.length,!(!He||He>=4096)&&(Xe.start=ze,tt(He+63>>6)));for(;be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(Se=0;Se<ge[4]<<2;++Se){var _t=ie.FullPaths[Se];if(!_t||_t.length===0){for(qe=0;qe<17;++qe)be.write_shift(4,0);for(qe=0;qe<3;++qe)be.write_shift(4,-1);for(qe=0;qe<12;++qe)be.write_shift(4,0);continue}Xe=ie.FileIndex[Se],Se===0&&(Xe.start=Xe.size?Xe.start-1:P);var Lt=Se===0&&me.root||Xe.name;if(He=2*(Lt.length+1),be.write_shift(64,Lt,"utf16le"),be.write_shift(2,He),be.write_shift(1,Xe.type),be.write_shift(1,Xe.color),be.write_shift(-4,Xe.L),be.write_shift(-4,Xe.R),be.write_shift(-4,Xe.C),Xe.clsid)be.write_shift(16,Xe.clsid,"hex");else for(qe=0;qe<4;++qe)be.write_shift(4,0);be.write_shift(4,Xe.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Xe.start),be.write_shift(4,Xe.size),be.write_shift(4,0)}for(Se=1;Se<ie.FileIndex.length;++Se)if(Xe=ie.FileIndex[Se],Xe.size>=4096)if(be.l=Xe.start+1<<9,Vr&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+511&-512;else{for(qe=0;qe<Xe.size;++qe)be.write_shift(1,Xe.content[qe]);for(;qe&511;++qe)be.write_shift(1,0)}for(Se=1;Se<ie.FileIndex.length;++Se)if(Xe=ie.FileIndex[Se],Xe.size>0&&Xe.size<4096)if(Vr&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+63&-64;else{for(qe=0;qe<Xe.size;++qe)be.write_shift(1,Xe.content[qe]);for(;qe&63;++qe)be.write_shift(1,0)}if(Vr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function E(ie,_e){var me=ie.FullPaths.map(function(qe){return qe.toUpperCase()}),ge=me.map(function(qe){var He=qe.split("/");return He[He.length-(qe.slice(-1)=="/"?2:1)]}),be=!1;_e.charCodeAt(0)===47?(be=!0,_e=me[0].slice(0,-1)+_e):be=_e.indexOf("/")!==-1;var Se=_e.toUpperCase(),ze=be===!0?me.indexOf(Se):ge.indexOf(Se);if(ze!==-1)return ie.FileIndex[ze];var tt=!Se.match(dg);for(Se=Se.replace(ds,""),tt&&(Se=Se.replace(dg,"!")),ze=0;ze<me.length;++ze)if((tt?me[ze].replace(dg,"!"):me[ze]).replace(ds,"")==Se||(tt?ge[ze].replace(dg,"!"):ge[ze]).replace(ds,"")==Se)return ie.FileIndex[ze];return null}var N=64,P=-2,V="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(ie,_e,me){c();var ge=D(ie,me);l.writeFileSync(_e,ge)}function q(ie){for(var _e=new Array(ie.length),me=0;me<ie.length;++me)_e[me]=String.fromCharCode(ie[me]);return _e.join("")}function ee(ie,_e){var me=D(ie,_e);switch(_e&&_e.type||"buffer"){case"file":return c(),l.writeFileSync(_e.filename,me),me;case"binary":return typeof me=="string"?me:q(me);case"base64":return cD(typeof me=="string"?me:q(me));case"buffer":if(Vr)return Buffer.isBuffer(me)?me:ph(me);case"array":return typeof me=="string"?ll(me):me}return me}var W;function O(ie){try{var _e=ie.InflateRaw,me=new _e;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)W=ie;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(ie,_e){if(!W)return ot(ie,_e);var me=W.InflateRaw,ge=new me,be=ge._processChunk(ie.slice(ie.l),ge._finishFlushFlag);return ie.l+=ge.bytesRead,be}function z(ie){return W?W.deflateRawSync(ie):Et(ie)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ie){var _e=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var re=typeof Uint8Array<"u",he=re?new Uint8Array(256):[],we=0;we<256;++we)he[we]=de(we);function B(ie,_e){var me=he[ie&255];return _e<=8?me>>>8-_e:(me=me<<8|he[ie>>8&255],_e<=16?me>>>16-_e:(me=me<<8|he[ie>>16&255],me>>>24-_e))}function Ae(ie,_e){var me=_e&7,ge=_e>>>3;return(ie[ge]|(me<=6?0:ie[ge+1]<<8))>>>me&3}function ve(ie,_e){var me=_e&7,ge=_e>>>3;return(ie[ge]|(me<=5?0:ie[ge+1]<<8))>>>me&7}function ye(ie,_e){var me=_e&7,ge=_e>>>3;return(ie[ge]|(me<=4?0:ie[ge+1]<<8))>>>me&15}function te(ie,_e){var me=_e&7,ge=_e>>>3;return(ie[ge]|(me<=3?0:ie[ge+1]<<8))>>>me&31}function Pe(ie,_e){var me=_e&7,ge=_e>>>3;return(ie[ge]|(me<=1?0:ie[ge+1]<<8))>>>me&127}function Fe(ie,_e,me){var ge=_e&7,be=_e>>>3,Se=(1<<me)-1,ze=ie[be]>>>ge;return me<8-ge||(ze|=ie[be+1]<<8-ge,me<16-ge)||(ze|=ie[be+2]<<16-ge,me<24-ge)||(ze|=ie[be+3]<<24-ge),ze&Se}function Ve(ie,_e,me){var ge=_e&7,be=_e>>>3;return ge<=5?ie[be]|=(me&7)<<ge:(ie[be]|=me<<ge&255,ie[be+1]=(me&7)>>8-ge),_e+3}function rt(ie,_e,me){var ge=_e&7,be=_e>>>3;return me=(me&1)<<ge,ie[be]|=me,_e+1}function Le(ie,_e,me){var ge=_e&7,be=_e>>>3;return me<<=ge,ie[be]|=me&255,me>>>=8,ie[be+1]=me,_e+8}function Ze(ie,_e,me){var ge=_e&7,be=_e>>>3;return me<<=ge,ie[be]|=me&255,me>>>=8,ie[be+1]=me&255,ie[be+2]=me>>>8,_e+16}function De(ie,_e){var me=ie.length,ge=2*me>_e?2*me:_e+5,be=0;if(me>=_e)return ie;if(Vr){var Se=uD(ge);if(ie.copy)ie.copy(Se);else for(;be<ie.length;++be)Se[be]=ie[be];return Se}else if(re){var ze=new Uint8Array(ge);if(ze.set)ze.set(ie);else for(;be<me;++be)ze[be]=ie[be];return ze}return ie.length=ge,ie}function et(ie){for(var _e=new Array(ie),me=0;me<ie;++me)_e[me]=0;return _e}function yt(ie,_e,me){var ge=1,be=0,Se=0,ze=0,tt=0,qe=ie.length,He=re?new Uint16Array(32):et(32);for(Se=0;Se<32;++Se)He[Se]=0;for(Se=qe;Se<me;++Se)ie[Se]=0;qe=ie.length;var Xe=re?new Uint16Array(qe):et(qe);for(Se=0;Se<qe;++Se)He[be=ie[Se]]++,ge<be&&(ge=be),Xe[Se]=0;for(He[0]=0,Se=1;Se<=ge;++Se)He[Se+16]=tt=tt+He[Se-1]<<1;for(Se=0;Se<qe;++Se)tt=ie[Se],tt!=0&&(Xe[Se]=He[tt+16]++);var _t=0;for(Se=0;Se<qe;++Se)if(_t=ie[Se],_t!=0)for(tt=B(Xe[Se],ge)>>ge-_t,ze=(1<<ge+4-_t)-1;ze>=0;--ze)_e[tt|ze<<_t]=_t&15|Se<<4;return ge}var ft=re?new Uint16Array(512):et(512),wt=re?new Uint16Array(32):et(32);if(!re){for(var It=0;It<512;++It)ft[It]=0;for(It=0;It<32;++It)wt[It]=0}(function(){for(var ie=[],_e=0;_e<32;_e++)ie.push(5);yt(ie,wt,32);var me=[];for(_e=0;_e<=143;_e++)me.push(8);for(;_e<=255;_e++)me.push(9);for(;_e<=279;_e++)me.push(7);for(;_e<=287;_e++)me.push(8);yt(me,ft,288)})();var Dt=function(){for(var _e=re?new Uint8Array(32768):[],me=0,ge=0;me<oe.length-1;++me)for(;ge<oe[me+1];++ge)_e[ge]=me;for(;ge<32768;++ge)_e[ge]=29;var be=re?new Uint8Array(259):[];for(me=0,ge=0;me<Z.length-1;++me)for(;ge<Z[me+1];++ge)be[ge]=me;function Se(tt,qe){for(var He=0;He<tt.length;){var Xe=Math.min(65535,tt.length-He),_t=He+Xe==tt.length;for(qe.write_shift(1,+_t),qe.write_shift(2,Xe),qe.write_shift(2,~Xe&65535);Xe-- >0;)qe[qe.l++]=tt[He++]}return qe.l}function ze(tt,qe){for(var He=0,Xe=0,_t=re?new Uint16Array(32768):[];Xe<tt.length;){var Lt=Math.min(65535,tt.length-Xe);if(Lt<10){for(He=Ve(qe,He,+(Xe+Lt==tt.length)),He&7&&(He+=8-(He&7)),qe.l=He/8|0,qe.write_shift(2,Lt),qe.write_shift(2,~Lt&65535);Lt-- >0;)qe[qe.l++]=tt[Xe++];He=qe.l*8;continue}He=Ve(qe,He,+(Xe+Lt==tt.length)+2);for(var Bt=0;Lt-- >0;){var Pt=tt[Xe];Bt=(Bt<<5^Pt)&32767;var Mt=-1,ur=0;if((Mt=_t[Bt])&&(Mt|=Xe&-32768,Mt>Xe&&(Mt-=32768),Mt<Xe))for(;tt[Mt+ur]==tt[Xe+ur]&&ur<250;)++ur;if(ur>2){Pt=be[ur],Pt<=22?He=Le(qe,He,he[Pt+1]>>1)-1:(Le(qe,He,3),He+=5,Le(qe,He,he[Pt-23]>>5),He+=3);var ce=Pt<8?0:Pt-4>>2;ce>0&&(Ze(qe,He,ur-Z[Pt]),He+=ce),Pt=_e[Xe-Mt],He=Le(qe,He,he[Pt]>>3),He-=3;var ke=Pt<4?0:Pt-2>>1;ke>0&&(Ze(qe,He,Xe-Mt-oe[Pt]),He+=ke);for(var lt=0;lt<ur;++lt)_t[Bt]=Xe&32767,Bt=(Bt<<5^tt[Xe])&32767,++Xe;Lt-=ur-1}else Pt<=143?Pt=Pt+48:He=rt(qe,He,1),He=Le(qe,He,he[Pt]),_t[Bt]=Xe&32767,++Xe}He=Le(qe,He,0)-1}return qe.l=(He+7)/8|0,qe.l}return function(qe,He){return qe.length<8?Se(qe,He):ze(qe,He)}}();function Et(ie){var _e=Ra(50+Math.floor(ie.length*1.1)),me=Dt(ie,_e);return _e.slice(0,me)}var nt=re?new Uint16Array(32768):et(32768),Jt=re?new Uint16Array(32768):et(32768),zt=re?new Uint16Array(128):et(128),Rr=1,Ne=1;function Ue(ie,_e){var me=te(ie,_e)+257;_e+=5;var ge=te(ie,_e)+1;_e+=5;var be=ye(ie,_e)+4;_e+=4;for(var Se=0,ze=re?new Uint8Array(19):et(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,He=re?new Uint8Array(8):et(8),Xe=re?new Uint8Array(8):et(8),_t=ze.length,Lt=0;Lt<be;++Lt)ze[H[Lt]]=Se=ve(ie,_e),qe<Se&&(qe=Se),He[Se]++,_e+=3;var Bt=0;for(He[0]=0,Lt=1;Lt<=qe;++Lt)Xe[Lt]=Bt=Bt+He[Lt-1]<<1;for(Lt=0;Lt<_t;++Lt)(Bt=ze[Lt])!=0&&(tt[Lt]=Xe[Bt]++);var Pt=0;for(Lt=0;Lt<_t;++Lt)if(Pt=ze[Lt],Pt!=0){Bt=he[tt[Lt]]>>8-Pt;for(var Mt=(1<<7-Pt)-1;Mt>=0;--Mt)zt[Bt|Mt<<Pt]=Pt&7|Lt<<3}var ur=[];for(qe=1;ur.length<me+ge;)switch(Bt=zt[Pe(ie,_e)],_e+=Bt&7,Bt>>>=3){case 16:for(Se=3+Ae(ie,_e),_e+=2,Bt=ur[ur.length-1];Se-- >0;)ur.push(Bt);break;case 17:for(Se=3+ve(ie,_e),_e+=3;Se-- >0;)ur.push(0);break;case 18:for(Se=11+Pe(ie,_e),_e+=7;Se-- >0;)ur.push(0);break;default:ur.push(Bt),qe<Bt&&(qe=Bt);break}var ce=ur.slice(0,me),ke=ur.slice(me);for(Lt=me;Lt<286;++Lt)ce[Lt]=0;for(Lt=ge;Lt<30;++Lt)ke[Lt]=0;return Rr=yt(ce,nt,286),Ne=yt(ke,Jt,30),_e}function We(ie,_e){if(ie[0]==3&&!(ie[1]&3))return[Mf(_e),2];for(var me=0,ge=0,be=uD(_e||1<<18),Se=0,ze=be.length>>>0,tt=0,qe=0;!(ge&1);){if(ge=ve(ie,me),me+=3,ge>>>1)ge>>1==1?(tt=9,qe=5):(me=Ue(ie,me),tt=Rr,qe=Ne);else{me&7&&(me+=8-(me&7));var He=ie[me>>>3]|ie[(me>>>3)+1]<<8;if(me+=32,He>0)for(!_e&&ze<Se+He&&(be=De(be,Se+He),ze=be.length);He-- >0;)be[Se++]=ie[me>>>3],me+=8;continue}for(;;){!_e&&ze<Se+32767&&(be=De(be,Se+32767),ze=be.length);var Xe=Fe(ie,me,tt),_t=ge>>>1==1?ft[Xe]:nt[Xe];if(me+=_t&15,_t>>>=4,!(_t>>>8&255))be[Se++]=_t;else{if(_t==256)break;_t-=257;var Lt=_t<8?0:_t-4>>2;Lt>5&&(Lt=0);var Bt=Se+Z[_t];Lt>0&&(Bt+=Fe(ie,me,Lt),me+=Lt),Xe=Fe(ie,me,qe),_t=ge>>>1==1?wt[Xe]:Jt[Xe],me+=_t&15,_t>>>=4;var Pt=_t<4?0:_t-2>>1,Mt=oe[_t];for(Pt>0&&(Mt+=Fe(ie,me,Pt),me+=Pt),!_e&&ze<Bt&&(be=De(be,Bt+100),ze=be.length);Se<Bt;)be[Se]=be[Se-Mt],++Se}}}return _e?[be,me+7>>>3]:[be.slice(0,Se),me+7>>>3]}function ot(ie,_e){var me=ie.slice(ie.l||0),ge=We(me,_e);return ie.l+=ge[1],ge[0]}function Rt(ie,_e){if(ie)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function Ee(ie,_e){var me=ie;hi(me,0);var ge=[],be=[],Se={FileIndex:ge,FullPaths:be};T(Se,{root:_e.root});for(var ze=me.length-4;(me[ze]!=80||me[ze+1]!=75||me[ze+2]!=5||me[ze+3]!=6)&&ze>=0;)--ze;me.l=ze+4,me.l+=4;var tt=me.read_shift(2);me.l+=6;var qe=me.read_shift(4);for(me.l=qe,ze=0;ze<tt;++ze){me.l+=20;var He=me.read_shift(4),Xe=me.read_shift(4),_t=me.read_shift(2),Lt=me.read_shift(2),Bt=me.read_shift(2);me.l+=8;var Pt=me.read_shift(4),Mt=o(me.slice(me.l+_t,me.l+_t+Lt));me.l+=_t+Lt+Bt;var ur=me.l;me.l=Pt+4,Je(me,He,Xe,Se,Mt),me.l=ur}return Se}function Je(ie,_e,me,ge,be){ie.l+=2;var Se=ie.read_shift(2),ze=ie.read_shift(2),tt=s(ie);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var qe=ie.read_shift(4),He=ie.read_shift(4),Xe=ie.read_shift(4),_t=ie.read_shift(2),Lt=ie.read_shift(2),Bt="",Pt=0;Pt<_t;++Pt)Bt+=String.fromCharCode(ie[ie.l++]);if(Lt){var Mt=o(ie.slice(ie.l,ie.l+Lt));(Mt[21589]||{}).mt&&(tt=Mt[21589].mt),((be||{})[21589]||{}).mt&&(tt=be[21589].mt)}ie.l+=Lt;var ur=ie.slice(ie.l,ie.l+He);switch(ze){case 8:ur=R(ie,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var ce=!1;Se&8&&(qe=ie.read_shift(4),qe==134695760&&(qe=ie.read_shift(4),ce=!0),He=ie.read_shift(4),Xe=ie.read_shift(4)),He!=_e&&Rt(ce,"Bad compressed size: "+_e+" != "+He),Xe!=me&&Rt(ce,"Bad uncompressed size: "+me+" != "+Xe),Jr(ge,Bt,ur,{unsafe:!0,mt:tt})}function at(ie,_e){var me=_e||{},ge=[],be=[],Se=Ra(1),ze=me.compression?8:0,tt=0,qe=0,He=0,Xe=0,_t=0,Lt=ie.FullPaths[0],Bt=Lt,Pt=ie.FileIndex[0],Mt=[],ur=0;for(qe=1;qe<ie.FullPaths.length;++qe)if(Bt=ie.FullPaths[qe].slice(Lt.length),Pt=ie.FileIndex[qe],!(!Pt.size||!Pt.content||Bt=="Sh33tJ5")){var ce=Xe,ke=Ra(Bt.length);for(He=0;He<Bt.length;++He)ke.write_shift(1,Bt.charCodeAt(He)&127);ke=ke.slice(0,ke.l),Mt[_t]=qfe.buf(Pt.content,0);var lt=Pt.content;ze==8&&(lt=z(lt)),Se=Ra(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,tt),Se.write_shift(2,ze),Pt.mt?i(Se,Pt.mt):Se.write_shift(4,0),Se.write_shift(-4,Mt[_t]),Se.write_shift(4,lt.length),Se.write_shift(4,Pt.content.length),Se.write_shift(2,ke.length),Se.write_shift(2,0),Xe+=Se.length,ge.push(Se),Xe+=ke.length,ge.push(ke),Xe+=lt.length,ge.push(lt),Se=Ra(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,tt),Se.write_shift(2,ze),Se.write_shift(4,0),Se.write_shift(-4,Mt[_t]),Se.write_shift(4,lt.length),Se.write_shift(4,Pt.content.length),Se.write_shift(2,ke.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,ce),ur+=Se.l,be.push(Se),ur+=ke.length,be.push(ke),++_t}return Se=Ra(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,_t),Se.write_shift(2,_t),Se.write_shift(4,ur),Se.write_shift(4,Xe),Se.write_shift(2,0),Xu([Xu(ge),Xu(be),Se])}var Ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function At(ie,_e){if(ie.ctype)return ie.ctype;var me=ie.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Ct[ge[1]]||_e&&(ge=(me=_e).match(/[\.\\]([^\.\\])+$/),ge&&Ct[ge[1]])?Ct[ge[1]]:"application/octet-stream"}function Ht(ie){for(var _e=cD(ie),me=[],ge=0;ge<_e.length;ge+=76)me.push(_e.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function ar(ie){var _e=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Xe=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=_e.split(`\r
`),be=0;be<ge.length;++be){var Se=ge[be];if(Se.length==0){me.push("");continue}for(var ze=0;ze<Se.length;){var tt=76,qe=Se.slice(ze,ze+tt);qe.charAt(tt-1)=="="?tt--:qe.charAt(tt-2)=="="?tt-=2:qe.charAt(tt-3)=="="&&(tt-=3),qe=Se.slice(ze,ze+tt),ze+=tt,ze<Se.length&&(qe+="="),me.push(qe)}}return me.join(`\r
`)}function Ar(ie){for(var _e=[],me=0;me<ie.length;++me){for(var ge=ie[me];me<=ie.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ie[++me];_e.push(ge)}for(var be=0;be<_e.length;++be)_e[be]=_e[be].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return ll(_e.join(`\r
`))}function kn(ie,_e,me){for(var ge="",be="",Se="",ze,tt=0;tt<10;++tt){var qe=_e[tt];if(!qe||qe.match(/^\s*$/))break;var He=qe.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":ge=He[2].trim();break;case"content-type":Se=He[2].trim();break;case"content-transfer-encoding":be=He[2].trim();break}}switch(++tt,be.toLowerCase()){case"base64":ze=ll(Zs(_e.slice(tt).join("")));break;case"quoted-printable":ze=Ar(_e.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Xe=Jr(ie,ge.slice(me.length),ze,{unsafe:!0});Se&&(Xe.ctype=Se)}function wa(ie,_e){if(q(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=_e&&_e.root||"",ge=(Vr&&Buffer.isBuffer(ie)?ie.toString("binary"):q(ie)).split(`\r
`),be=0,Se="";for(be=0;be<ge.length;++be)if(Se=ge[be],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),me||(me=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Se.slice(0,me.length)!=me););var ze=(ge[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var tt="--"+(ze[1]||""),qe=[],He=[],Xe={FileIndex:qe,FullPaths:He};T(Xe);var _t,Lt=0;for(be=0;be<ge.length;++be){var Bt=ge[be];Bt!==tt&&Bt!==tt+"--"||(Lt++&&kn(Xe,ge.slice(_t,be),me),_t=be)}return Xe}function Wt(ie,_e){var me=_e||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Se=ie.FullPaths[0],ze=Se,tt=ie.FileIndex[0],qe=1;qe<ie.FullPaths.length;++qe)if(ze=ie.FullPaths[qe].slice(Se.length),tt=ie.FileIndex[qe],!(!tt.size||!tt.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ur){return"_x"+ur.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ur){return"_u"+ur.charCodeAt(0).toString(16)+"_"});for(var He=tt.content,Xe=Vr&&Buffer.isBuffer(He)?He.toString("binary"):q(He),_t=0,Lt=Math.min(1024,Xe.length),Bt=0,Pt=0;Pt<=Lt;++Pt)(Bt=Xe.charCodeAt(Pt))>=32&&Bt<128&&++_t;var Mt=_t>=Lt*4/5;be.push(ge),be.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+ze),be.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),be.push("Content-Type: "+At(tt,ze)),be.push(""),be.push(Mt?ar(Xe):Ht(Xe))}return be.push(ge+`--\r
`),be.join(`\r
`)}function ua(ie){var _e={};return T(_e,ie),_e}function Jr(ie,_e,me,ge){var be=ge&&ge.unsafe;be||T(ie);var Se=!be&&Gr.find(ie,_e);if(!Se){var ze=ie.FullPaths[0];_e.slice(0,ze.length)==ze?ze=_e:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+_e).replace("//","/")),Se={name:a(_e),type:2},ie.FileIndex.push(Se),ie.FullPaths.push(ze),be||Gr.utils.cfb_gc(ie)}return Se.content=me,Se.size=me?me.length:0,ge&&(ge.CLSID&&(Se.clsid=ge.CLSID),ge.mt&&(Se.mt=ge.mt),ge.ct&&(Se.ct=ge.ct)),Se}function zn(ie,_e){T(ie);var me=Gr.find(ie,_e);if(me){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==me)return ie.FileIndex.splice(ge,1),ie.FullPaths.splice(ge,1),!0}return!1}function Ln(ie,_e,me){T(ie);var ge=Gr.find(ie,_e);if(ge){for(var be=0;be<ie.FileIndex.length;++be)if(ie.FileIndex[be]==ge)return ie.FileIndex[be].name=a(me),ie.FullPaths[be]=me,!0}return!1}function Cn(ie){A(ie,!0)}return t.find=E,t.read=j,t.parse=u,t.write=ee,t.writeFile=G,t.utils={cfb_new:ua,cfb_add:Jr,cfb_del:zn,cfb_mov:Ln,cfb_gc:Cn,ReadShift:Mg,CheckField:Mz,prep_blob:hi,bconcat:Xu,use_zlib:O,_deflateRaw:Et,_inflateRaw:ot,consts:J},t}();function Wfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ec(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Yk(e){for(var t=[],r=ec(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var yb=new Date(1899,11,30,0,0,0);function hs(e,t){var r=e.getTime(),n=yb.getTime()+(e.getTimezoneOffset()-yb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var mz=new Date,Hfe=yb.getTime()+(mz.getTimezoneOffset()-yb.getTimezoneOffset())*6e4,yD=mz.getTimezoneOffset();function b5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Hfe),t.getTimezoneOffset()!==yD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-yD)*6e4),t}function Gfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var xD=new Date("2017-02-19T19:06:09.000Z"),gz=isNaN(xD.getFullYear())?new Date("2/19/17"):xD,Kfe=gz.getFullYear()==2017;function ri(e,t){var r=new Date(e);if(Kfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(gz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function rh(e,t){if(Vr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return pg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return pg(rz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return pg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return pg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function yi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=yi(e[r]));return t}function oa(e,t){for(var r="";r.length<t;)r+=e;return r}function gl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Yfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function fp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Yfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Xfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function vz(e){return e?e.content&&e.type?rh(e.content,!0):e.data?fg(e.data):e.asNodeBuffer&&Vr?fg(e.asNodeBuffer().toString("binary")):e.asBinary?fg(e.asBinary()):e._data&&e._data.getContent?fg(rh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function yz(e){if(!e)return null;if(e.data)return oD(e.data);if(e.asNodeBuffer&&Vr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?oD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Qfe(e){return e&&e.name.slice(-4)===".bin"?yz(e):vz(e)}function bo(e,t){for(var r=e.FullPaths||ec(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Xk(e,t){var r=bo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Na(e,t,r){if(!r)return Qfe(Xk(e,t));if(!t)return null;try{return Na(e,t)}catch{return null}}function qs(e,t,r){if(!r)return vz(Xk(e,t));if(!t)return null;try{return qs(e,t)}catch{return null}}function Jfe(e,t,r){return yz(Xk(e,t))}function bD(e){for(var t=e.FullPaths||ec(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Zfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Vr?n=ph(r):n=yfe(r),Gr.utils.cfb_add(e,t,n)}Gr.utils.cfb_add(e,t,r)}else e.file(t,r)}function xz(e,t){switch(t.type){case"base64":return Gr.read(e,{type:"base64"});case"binary":return Gr.read(e,{type:"binary"});case"buffer":case"array":return Gr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function hg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var bz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ede=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tde=/<[^>]*>/g,Ki=bz.match(wD)?wD:tde,rde=/<\w*:/,nde=/<(\/?)\w+:/;function br(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(ede),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function nc(e){return e.replace(nde,"<$1")}var wz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ade=Yk(wz),Qr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return wz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),ide=/[&<>'"]/g,sde=/[\u0000-\u001f]/g;function Qk(e){var t=e+"";return t.replace(ide,function(r){return ade[r]}).replace(/\n/g,"<br/>").replace(sde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var _D=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function qn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function MS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function SD(e){var t=Mf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function AD(e){return ph(e,"binary").toString("utf8")}var hx="foo bar bazâð£",Dn=Vr&&(AD(hx)==MS(hx)&&AD||SD(hx)==MS(hx)&&SD)||MS,pg=Vr?function(e){return ph(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Vv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),_z=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),ode=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),lde=/<\/?(?:vt:)?variant>/g,cde=/<(?:vt:)([^>]*)>([\s\S]*)</;function TD(e,t){var r=br(e),n=e.match(ode(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(lde,"").match(cde);s&&a.push({v:Dn(s[2]),t:s[1]})}),a}var ude=/(^\s|\s$|\n)/;function fde(e){return ec(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function dde(e,t,r){return"<"+e+(r!=null?fde(r):"")+(t!=null?(t.match(ude)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Jk(e){if(Vr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dn(mh(Hk(e)));throw new Error("Bad input format: expected Buffer or string")}var zv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,hde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function mde(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function gde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var ED=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ND=Vr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ph(t)})):ED(e)}:ED,kD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Nc(e,a)));return n.join("").replace(ds,"")},Zk=Vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ds,""):kD(e,t,r)}:kD,CD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Sz=Vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):CD(e,t,r)}:CD,PD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(r0(e,a)));return n.join("")},J1=Vr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):PD(t,r,n)}:PD,Az=function(e,t){var r=zs(e,t);return r>0?J1(e,t+4,t+4+r-1):""},Tz=Az,Ez=function(e,t){var r=zs(e,t);return r>0?J1(e,t+4,t+4+r-1):""},Nz=Ez,kz=function(e,t){var r=2*zs(e,t);return r>0?J1(e,t+4,t+4+r-1):""},Cz=kz,Pz=function(t,r){var n=zs(t,r);return n>0?Zk(t,r+4,r+4+n):""},Oz=Pz,Iz=function(e,t){var r=zs(e,t);return r>0?J1(e,t+4,t+4+r):""},jz=Iz,Dz=function(e,t){return mde(e,t)},xb=Dz,Lz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Vr&&(Tz=function(t,r){if(!Buffer.isBuffer(t))return Az(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Nz=function(t,r){if(!Buffer.isBuffer(t))return Ez(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Cz=function(t,r){if(!Buffer.isBuffer(t))return kz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Oz=function(t,r){if(!Buffer.isBuffer(t))return Pz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},jz=function(t,r){if(!Buffer.isBuffer(t))return Iz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},xb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Dz(t,r)},Lz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var r0=function(e,t){return e[t]},Nc=function(e,t){return e[t+1]*256+e[t]},vde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},zs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ad=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},yde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Mg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Vr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Nc(this,c)),c+=2;e*=2;break;case"utf8":r=J1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Zk(this,this.l,this.l+e);break;case"wstr":return Mg.call(this,e,"dbcs");case"lpstr-ansi":r=Tz(this,this.l),e=4+zs(this,this.l);break;case"lpstr-cp":r=Nz(this,this.l),e=4+zs(this,this.l);break;case"lpwstr":r=Cz(this,this.l),e=4+2*zs(this,this.l);break;case"lpp4":e=4+zs(this,this.l),r=Oz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+zs(this,this.l),r=jz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=r0(this,this.l+e++))!==0;)i.push(dx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Nc(this,this.l+e))!==0;)i.push(dx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=r0(this,c),this.l=c+1,o=Mg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dx(Nc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=r0(this,c),this.l=c+1,o=Mg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dx(r0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=r0(this,this.l),this.l++,n;case 2:return n=(t==="i"?vde:Nc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ad:yde)(this,this.l),this.l+=4,n):(a=zs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=xb(this,this.l):a=xb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Sz(this,this.l,e);break}}return this.l+=e,r}var xde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},bde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},wde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function _de(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)wde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,xde(this,t,this.l);break;case 8:if(n=8,r==="f"){gde(this,t,this.l);break}case 16:break;case-4:n=4,bde(this,t,this.l);break}return this.l+=n,this}function Mz(e,t){var r=Sz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function hi(e,t){e.l=t,e.read_shift=Mg,e.chk=Mz,e.write_shift=_de}function Gi(e,t){e.l+=t}function Ra(e){var t=Mf(e);return hi(t,0),t}function ou(e,t,r){if(e){var n,a,i;hi(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Tb[o]||Tb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function AT(){var e=[],t=Vr?256:2048,r=function(c){var u=Ra(c);return hi(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Xu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Rg(e,t,r){var n=yi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function OD(e,t,r){var n=yi(e);return n.s=Rg(n.s,t.s,r),n.e=Rg(n.e,t.s,r),n}function Fg(e,t){if(e.cRel&&e.c<0)for(e=yi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=yi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=kr(e);return!e.cRel&&e.cRel!=null&&(r=Tde(r)),!e.rRel&&e.rRel!=null&&(r=Sde(r)),r}function RS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ba(e.s.c)+":"+(e.e.cRel?"":"$")+Ba(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+xi(e.s.r)+":"+(e.e.rRel?"":"$")+xi(e.e.r):Fg(e.s,t.biff)+":"+Fg(e.e,t.biff)}function eC(e){return parseInt(Ade(e),10)-1}function xi(e){return""+(e+1)}function Sde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Ade(e){return e.replace(/\$(\d+)$/,"$1")}function tC(e){for(var t=Ede(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ba(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Tde(e){return e.replace(/^([A-Z])/,"$$$1")}function Ede(e){return e.replace(/^\$([A-Z])/,"$1")}function Nde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function os(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function kr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Zp(e){var t=e.indexOf(":");return t==-1?{s:os(e),e:os(e)}:{s:os(e.slice(0,t)),e:os(e.slice(t+1))}}function Kr(e,t){return typeof t>"u"||typeof t=="number"?Kr(e.s,e.e):(typeof e!="string"&&(e=kr(e)),typeof t!="string"&&(t=kr(t)),e==t?e:e+":"+t)}function ca(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ID(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=jo(e.z,r?hs(t):t)}catch{}try{return e.w=jo((e.XF||{}).numFmtId||(r?14:0),r?hs(t):t)}catch{return""+t}}function Qc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?yh[e.v]||e.v:t==null?ID(e,e.v):ID(e,t))}function Hf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Rz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?os(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ca(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Or[14],n.cellDates?(p.t="d",p.w=jo(p.z,hs(p.v))):(p.t="n",p.v=hs(p.v),p.w=jo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=kr({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=Kr(c)),i}function em(e,t){return Rz(null,e,t)}function kde(e){return e.read_shift(4,"i")}function Wi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Cde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function rC(e,t){var r=e.l,n=e.read_shift(1),a=Wi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(Cde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Pde=rC;function Lo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Ode=Wi;function nC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ide=Wi,TT=nC;function aC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?xb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ad(t,0)>>2;return r?a/100:a}function Fz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var vh=Fz;function Bi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function jde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Vd[a];c&&(t.rgb=Wv(c));break;case 2:t.rgb=Wv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Dde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function $z(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Lde(e){return $z(e,1)}function Mde(e){return $z(e,2)}var iC=2,bs=3,px=11,jD=12,bb=19,mx=64,Rde=65,Fde=71,$de=4108,Bde=4126,Ya=80,Bz=81,Ude=[Ya,Bz],Vde={1:{n:"CodePage",t:iC},2:{n:"Category",t:Ya},3:{n:"PresentationFormat",t:Ya},4:{n:"ByteCount",t:bs},5:{n:"LineCount",t:bs},6:{n:"ParagraphCount",t:bs},7:{n:"SlideCount",t:bs},8:{n:"NoteCount",t:bs},9:{n:"HiddenCount",t:bs},10:{n:"MultimediaClipCount",t:bs},11:{n:"ScaleCrop",t:px},12:{n:"HeadingPairs",t:$de},13:{n:"TitlesOfParts",t:Bde},14:{n:"Manager",t:Ya},15:{n:"Company",t:Ya},16:{n:"LinksUpToDate",t:px},17:{n:"CharacterCount",t:bs},19:{n:"SharedDoc",t:px},22:{n:"HyperlinksChanged",t:px},23:{n:"AppVersion",t:bs,p:"version"},24:{n:"DigSig",t:Rde},26:{n:"ContentType",t:Ya},27:{n:"ContentStatus",t:Ya},28:{n:"Language",t:Ya},29:{n:"Version",t:Ya},255:{},2147483648:{n:"Locale",t:bb},2147483651:{n:"Behavior",t:bb},1919054434:{}},zde={1:{n:"CodePage",t:iC},2:{n:"Title",t:Ya},3:{n:"Subject",t:Ya},4:{n:"Author",t:Ya},5:{n:"Keywords",t:Ya},6:{n:"Comments",t:Ya},7:{n:"Template",t:Ya},8:{n:"LastAuthor",t:Ya},9:{n:"RevNumber",t:Ya},10:{n:"EditTime",t:mx},11:{n:"LastPrinted",t:mx},12:{n:"CreatedDate",t:mx},13:{n:"ModifiedDate",t:mx},14:{n:"PageCount",t:bs},15:{n:"WordCount",t:bs},16:{n:"CharCount",t:bs},17:{n:"Thumbnail",t:Fde},18:{n:"Application",t:Ya},19:{n:"DocSecurity",t:bs},255:{},2147483648:{n:"Locale",t:bb},2147483651:{n:"Behavior",t:bb},1919054434:{}},DD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},qde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Wde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Hde=Wde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vd=yi(Hde),yh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Uz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},LD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Gde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Kde(e){var t=Gde();if(!e||!e.match)return t;var r={};if((e.match(Ki)||[]).forEach(function(n){var a=br(n);switch(a[0].replace(rde,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[LD[a.ContentType]]!==void 0&&t[LD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==hde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var _0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ET(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function $g(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ki)||[]).forEach(function(a){var i=br(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:hg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Yde="application/vnd.oasis.opendocument.spreadsheet";function Xde(e,t){for(var r=Jk(e),n,a;n=zv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=br(n[0],!1),a.path=="/"&&a.type!==Yde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Bg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Qde=function(){for(var e=new Array(Bg.length),t=0;t<Bg.length;++t){var r=Bg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Vz(e){var t={};e=Dn(e);for(var r=0;r<Bg.length;++r){var n=Bg[r],a=e.match(Qde[r]);a!=null&&a.length>0&&(t[n[1]]=Qr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ri(t[n[1]]))}return t}var Jde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function zz(e,t,r,n){var a=[];if(typeof e=="string")a=TD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?TD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Zde(e,t,r){var n={};return t||(t={}),e=Dn(e),Jde.forEach(function(a){var i=(e.match(Vv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Qr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&zz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var ehe=/<[^>]+>[^<]*/g;function the(e,t){var r={},n="",a=e.match(ehe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=br(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Qr(u);break;case"bool":r[n]=qn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=ri(u);break;case"cy":case"error":r[n]=Qr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var rhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},FS;function nhe(e,t,r){FS||(FS=Yk(rhe)),t=FS[t]||t,e[t]=r}function sC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function qz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Wz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Hz(e,t,r){return t===31?Wz(e):qz(e,t,r)}function NT(e,t,r){return Hz(e,t,r===!1?0:4)}function ahe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Hz(e,t,0)}function ihe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ds,""),e.l-a&2&&(e.l+=2)}return r}function she(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ds,"");return r}function ohe(e){var t=e.l,r=wb(e,Bz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=wb(e,bs);return[r,n]}function lhe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(ohe(e));return r}function MD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(ds,"").replace(dg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Gz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function che(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function wb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==jD&&n!==t&&Ude.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===jD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return qz(e,n,4).replace(ds,"");case 31:return Wz(e);case 64:return sC(e);case 65:return Gz(e);case 71:return che(e);case 80:return NT(e,n,!i.raw).replace(ds,"");case 81:return ahe(e,n).replace(ds,"");case 4108:return lhe(e);case 4126:case 4127:return n==4127?ihe(e):she(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function RD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=wb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ul(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=wb(e,iC),ul(o),l!==-1){var m=e.l;e.l=i[l][1],c=MD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=MD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Gz(e);break;case 30:e.l+=4,y=NT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=NT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ha(e,4);break;case 64:e.l+=4,y=ri(sC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function FD(e,t,r){var n=e.content;if(!n)return{};hi(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Gr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=RD(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=RD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Fu(e,t){return e.read_shift(t),null}function uhe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ha(e,t){return e.read_shift(t)===1}function ka(e){return e.read_shift(2,"u")}function Kz(e,t){return uhe(e,t,ka)}function fhe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Z1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function dhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ey(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):nh(e,n,r)}function xh(e,t,r){if(r.biff>5)return ey(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function hhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function phe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ds,"");return n&&(e.l+=24),a}function mhe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(ds,"");return r+s}function ghe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return phe(e);case"0303000000000000c000000000000046":return mhe(e);default:throw new Error("Unsupported Moniker "+r)}}function gx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ds,""):"";return r}function vhe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=gx(e,r-e.l)),a&128&&(s=gx(e,r-e.l)),(a&257)===257&&(o=gx(e,r-e.l)),(a&257)===1&&(l=ghe(e,r-e.l)),a&8&&(c=gx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=sC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function Yz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Xz(e,t){var r=Yz(e);return r[3]=0,r}function ac(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function yhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function xhe(e,t,r){return t===0?"":xh(e,t,r)}function bhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Qz(e){var t=e.read_shift(2),r=aC(e);return[t,r]}function whe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Z1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function w5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Jz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var _he=Jz;function Zz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function She(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Ahe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ni(e){e.l+=2,e.l+=e.read_shift(2)}var The={0:Ni,4:Ni,5:Ni,6:Ni,7:Ahe,8:Ni,9:Ni,10:Ni,11:Ni,12:Ni,13:She,14:Ni,15:Ni,16:Ni,17:Ni,18:Ni,19:Ni,20:Ni,21:Zz};function Ehe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(The[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function vx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Nhe(e,t){return t===0||e.read_shift(2),1200}function khe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xh(e,0,r);return e.read_shift(t+n-e.l),a}function Che(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Phe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Z1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Ohe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(dhe(e));return i.Count=n,i.Unique=a,i}function Ihe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function jhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Dhe(e){var t=yhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Lhe(e){return e.read_shift(2),e.read_shift(4)}function $D(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Mhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Rhe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Fhe(){}function $he(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Z1(e,0,r),n}function Bhe(e){var t=ac(e);return t.isst=e.read_shift(4),t}function Uhe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ac(e);r.biff==2&&e.l++;var i=ey(e,n-e.l,r);return a.val=i,a}function Vhe(e,t,r){var n=e.read_shift(2),a=xh(e,0,r);return[n,a]}var zhe=xh;function BD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function qhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=Qz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Whe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Qz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Hhe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Ghe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=qde[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Khe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Ghe(e,t,n.fStyle,r),n}function Yhe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function UD(e,t,r){var n=ac(e);(r.biff==2||t==9)&&++e.l;var a=fhe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Xhe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ac(e),a=Bi(e);return n.val=a,n}var VD=xhe;function Qhe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=nh(e,i),o=[];n>e.l;)o.push(ey(e));return[i,a,s,o]}function zD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=whe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Jhe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=nh(e,s,r);a&32&&(c=Jhe[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:jge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function eq(e,t,r){if(r.biff<8)return Zhe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(bhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Zhe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Z1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function e0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=nh(e,n,r),s=nh(e,a,r);return[i,s]}function t0e(e,t,r){var n=Jz(e);e.l++;var a=e.read_shift(1);return t-=8,[Dge(e,t,r),a,n]}function WD(e,t,r){var n=_he(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Oge(e,t,r)]}function r0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function n0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=xh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function a0e(e,t,r){return n0e(e,t,r)}function i0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(w5(e));return r}function s0e(e,t,r){if(r&&r.biff<8)return l0e(e,t,r);var n=Zz(e),a=Ehe(e,t-22,n[1]);return{cmo:n,ft:a}}var o0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function l0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((o0e[n]||Gi)(e,t,r)),{cmo:[a,n,i],ft:s}}function c0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=hhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),ka(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=nh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function u0e(e,t){var r=w5(e);e.l+=16;var n=vhe(e,t-24);return[r,n]}function f0e(e,t){e.read_shift(2);var r=w5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ds,""),[r,n]}function d0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=DD[r]||r,r=e.read_shift(2),t[1]=DD[r]||r,t}function h0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Xz(e));return r}function p0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Xz(e));return r}function m0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function tq(e,t,r){if(!r.cellStyles)return Gi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function g0e(e,t){var r={};return t<32||(e.l+=16,r.header=Bi(e),r.footer=Bi(e),e.l+=2),r}function v0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var y0e=ac,x0e=Kz,b0e=ey;function w0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function _0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ac(e);++e.l;var a=xh(e,t-7,r);return n.t="str",n.val=a,n}function S0e(e){var t=ac(e);++e.l;var r=Bi(e);return t.t="n",t.val=r,t}function A0e(e){var t=ac(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function T0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function E0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function N0e(e,t,r){var n=e.l+t,a=ac(e),i=e.read_shift(2),s=nh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var k0e=[2,3,48,49,131,139,140,245],HD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Yk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Mf(1);switch(l.type){case"base64":u=ll(Zs(o));break;case"binary":u=ll(o);break;case"buffer":case"array":u=o;break}hi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],I={},C=Math.min(u.length,f==2?521:v-10-(p?264:0)),j=g?32:11;u.l<C&&u[u.l]!=13;)switch(I={},I.name=Yu.utils.decode(w,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,I.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(I.offset=u.read_shift(4)),I.len=u.read_shift(1),f==2&&(I.offset=u.read_shift(2)),I.dec=u.read_shift(1),I.name.length&&b.push(I),f!=2&&(u.l+=g?13:14),I.type){case"B":(!p||I.len!=8)&&l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=b.length;++S)c[0][S]=b[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=b.length;++S){var A=u.slice(u.l,u.l+b[S].len);u.l+=b[S].len,hi(A,0);var D=Yu.utils.decode(w,A);switch(b[S].type){case"C":D.trim().length&&(c[T][S]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[T][S]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[T][S]=D;break;case"F":c[T][S]=parseFloat(D.trim());break;case"+":case"I":c[T][S]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][S]="##MEMO##"+(g?parseInt(D.trim(),10):A.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[T][S]=+D||0);break;case"@":c[T][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[T][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-A.read_shift(-8,"f");break;case"B":if(p&&b[S].len==8){c[T][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=b[S].len;break;case"0":if(b[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=em(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Hf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&ul(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=AT(),f=DT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=ca(o["!ref"]),I=[],C=[],j=[];for(m=0;m<=b.e.c-b.s.c;++m){var T="",S="",A=0,D=[];for(v=0;v<p.length;++v)p[v][m]!=null&&D.push(p[v][m]);if(D.length==0||h[m]==null){I[m]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=D[v]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(D[v]).length),T=T&&T!=S?"C":S}A>250&&(A=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>A&&(A=g[m].DBF.len),T=="B"&&S=="N"&&(T="N",j[m]=g[m].DBF.dec,A=g[m].DBF.len),C[m]=T=="C"||S=="N"?A:i[T]||0,w+=C[m],I[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,w),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[ez]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),P=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,P,"sbcs"),N.write_shift(1,I[m]=="?"?"C":I[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,C[m]||i[I[m]]||0),N.write_shift(1,j[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=C[m]||i[I[m]]||0}var V=u.next(264);for(V.write_shift(4,13),m=0;m<65;++m)V.write_shift(4,0);for(m=0;m<p.length;++m){var X=u.next(w);for(X.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(I[v]){case"L":X.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":X.write_shift(8,p[m][v]||0,"f");break;case"N":var Y="0";for(typeof p[m][v]=="number"&&(Y=p[m][v].toFixed(j[v]||0)),y=0;y<C[v]-Y.length;++y)X.write_shift(1,32);X.write_shift(1,Y,"sbcs");break;case"D":p[m][v]?(X.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[m][v]!=null?p[m][v]:"").slice(0,C[v]);for(X.write_shift(1,J,"sbcs"),y=0;y<C[v]-J.length;++y)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),C0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ec(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?lD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:lD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Zs(h),p);case"binary":return i(h,p);case"buffer":return i(Vr&&Buffer.isBuffer(h)?h.toString("binary"):mh(h),p);case"array":return i(rh(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,b=[],I=[],C=null,j={},T=[],S=[],A=[],D=0,E;for(+p.codepage>=0&&ul(+p.codepage);y!==g.length;++y){D=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),P=N.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),V=P[0],X;if(N.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&I.push(N.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,J=!1,G=!1,q=!1,ee=-1,W=-1;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"A":break;case"X":v=parseInt(P[w].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(P[w].slice(1))-1,J||(v=0),E=b.length;E<=m;++E)b[E]=[];break;case"K":X=P[w].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(gl(X))?isNaN(fp(X).getDate())||(X=ri(X)):(X=gl(X),C!==null&&Jp(C)&&(X=b5(X))),Y=!0;break;case"E":q=!0;var O=M0(P[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],O];break;case"S":G=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":ee=parseInt(P[w].slice(1))-1;break;case"C":W=parseInt(P[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(Y&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=X:b[m][v]=X,C=null),G){if(q)throw new Error("SYLK shared formula cannot have own formula");var R=ee>-1&&b[ee][W];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=fq(R[1],{r:m-ee,c:v-W})}break;case"F":var z=0;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"X":v=parseInt(P[w].slice(1))-1,++z;break;case"Y":for(m=parseInt(P[w].slice(1))-1,E=b.length;E<=m;++E)b[E]=[];break;case"M":D=parseInt(P[w].slice(1))/20;break;case"F":break;case"G":break;case"P":C=I[parseInt(P[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=P[w].slice(1).split(" "),E=parseInt(A[0],10);E<=parseInt(A[1],10);++E)D=parseInt(A[2],10),S[E-1]=D===0?{hidden:!0}:{wch:D},dp(S[E-1]);break;case"C":v=parseInt(P[w].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(P[w].slice(1))-1,T[m]||(T[m]={}),D>0?(T[m].hpt=D,T[m].hpx=Hv(D)):D===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}z<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(j["!rows"]=T),S.length>0&&(j["!cols"]=S),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,j]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=em(m,p);return ec(v).forEach(function(w){y[w]=v[w]}),y}function o(h,p){return Hf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+mme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Sb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Ab(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*lq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=ca(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var I=v.s.r;I<=v.e.r;++I)for(var C=v.s.c;C<=v.e.c;++C){var j=kr({r:I,c:C});y=w?(h[I]||[])[C]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,I,C))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),P0e=function(){function e(i,s){switch(s.type){case"base64":return t(Zs(i),s);case"binary":return t(i,s);case"buffer":return t(Vr&&Buffer.isBuffer(i)?i.toString("binary"):mh(i),s);case"array":return t(rh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(gl(g))?isNaN(fp(g).getDate())?f[l][c]=g:f[l][c]=ri(g):f[l][c]=gl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return em(e(i,s),s)}function n(i,s){return Hf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=ca(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=kr({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=jo(f.z||Or[14],hs(ri(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),O0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=os(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var I=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],I])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return em(r(f,h),h)}function a(f,h){return Hf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=Zp(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=kr({r:w,c:b}),g=y?(f[w]||[])[b]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var I=hs(ri(g.v));p[2]="vtc",p[3]="nd",p[4]=""+I,p[5]=g.w||jo(g.z||Or[14],I);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),qv=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(gl(u))?isNaN(fp(u).getDate())?f[h][p]=u:f[h][p]=ri(u):f[h][p]=gl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){p[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),p,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,w=0,b=0,I=0,C=p.charCodeAt(0),j=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?Vfe(h.dateNF):null;function D(){var E=u.slice(b,I),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):vme(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(w=gl(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=w;else if(!isNaN(fp(E).getDate())||A&&E.match(A)){N.z=h.dateNF||Or[14];var P=0;A&&E.match(A)&&(E=zfe(E,h.dateNF,E.match(A)||[]),P=1),h.cellDates?(N.t="d",N.v=ri(E,P)):(N.t="n",N.v=hs(ri(E,P))),h.cellText!==!1&&(N.w=jo(N.z,N.v instanceof Date?hs(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[kr({c:y,r:v})]=N),b=I+1,S=u.charCodeAt(b),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==C)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;I<u.length;++I)switch(T=u.charCodeAt(I)){case 34:S===34&&(j=!j);break;case C:case 10:case 13:if(!j&&D())break e;break}return I-b>0&&D(),g["!ref"]=Kr(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):em(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:pC(u,f);switch(f.type){case"base64":h=Zs(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Yu<"u"?h=Yu.utils.decode(f.codepage,u):h=Vr&&Buffer.isBuffer(u)?u.toString("binary"):mh(u);break;case"array":h=rh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Dn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Dn(h):f.type=="binary"&&typeof Yu<"u"&&f.codepage&&(h=Yu.utils.decode(f.codepage,Yu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?O0e.to_sheet(f.type=="string"?h:Dn(h),f):s(h,f)}function l(u,f){return Hf(o(u,f),f)}function c(u){for(var f=[],h=ca(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=kr({r:m,c:y});if(p=g?(u[m]||[])[y]:u[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(Qc(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function I0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=C0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return qv.to_workbook(e,t)}}var Ug=function(){function e(O,R,z){if(O){hi(O,O.l||0);for(var H=z.Enum||ee;O.l<O.length;){var Z=O.read_shift(2),oe=H[Z]||H[65535],de=O.read_shift(2),re=O.l+de,he=oe.f&&oe.f(O,de,z);if(O.l=re,R(he,oe,Z))return}}}function t(O,R){switch(R.type){case"base64":return r(ll(Zs(O)),R);case"binary":return r(ll(O),R);case"buffer":case"array":return r(O,R)}throw"Unsupported type "+R.type}function r(O,R){if(!O)return O;var z=R||{},H=z.dense?[]:{},Z="Sheet1",oe="",de=0,re={},he=[],we=[],B={s:{r:0,c:0},e:{r:0,c:0}},Ae=z.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)z.Enum=ee,e(O,function(Pe,Fe,Ve){switch(Ve){case 0:z.vers=Pe,Pe>=4096&&(z.qpro=!0);break;case 6:B=Pe;break;case 204:Pe&&(oe=Pe);break;case 222:oe=Pe;break;case 15:case 51:z.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=z.dateNF||Or[14],z.cellDates&&(Pe[1].t="d",Pe[1].v=b5(Pe[1].v))),z.qpro&&Pe[3]>de&&(H["!ref"]=Kr(B),re[Z]=H,he.push(Z),H=z.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},de=Pe[3],Z=oe||"Sheet"+(de+1),oe="");var rt=z.dense?(H[Pe[0].r]||[])[Pe[0].c]:H[kr(Pe[0])];if(rt){rt.t=Pe[1].t,rt.v=Pe[1].v,Pe[1].z!=null&&(rt.z=Pe[1].z),Pe[1].f!=null&&(rt.f=Pe[1].f);break}z.dense?(H[Pe[0].r]||(H[Pe[0].r]=[]),H[Pe[0].r][Pe[0].c]=Pe[1]):H[kr(Pe[0])]=Pe[1];break}},z);else if(O[2]==26||O[2]==14)z.Enum=W,O[2]==14&&(z.qpro=!0,O.l=0),e(O,function(Pe,Fe,Ve){switch(Ve){case 204:Z=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>de&&(H["!ref"]=Kr(B),re[Z]=H,he.push(Z),H=z.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},de=Pe[3],Z="Sheet"+(de+1)),Ae>0&&Pe[0].r>=Ae)break;z.dense?(H[Pe[0].r]||(H[Pe[0].r]=[]),H[Pe[0].r][Pe[0].c]=Pe[1]):H[kr(Pe[0])]=Pe[1],B.e.c<Pe[0].c&&(B.e.c=Pe[0].c),B.e.r<Pe[0].r&&(B.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(we[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:we[Pe[0]]=Pe[1],Pe[0]==de&&(Z=Pe[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(H["!ref"]=Kr(B),re[oe||Z]=H,he.push(oe||Z),!we.length)return{SheetNames:he,Sheets:re};for(var ve={},ye=[],te=0;te<we.length;++te)re[he[te]]?(ye.push(we[te]||he[te]),ve[we[te]]=re[we[te]]||re[he[te]]):(ye.push(we[te]),ve[we[te]]={"!ref":"A1"});return{SheetNames:ye,Sheets:ve}}function n(O,R){var z=R||{};if(+z.codepage>=0&&ul(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var H=AT(),Z=ca(O["!ref"]),oe=Array.isArray(O),de=[];Xo(H,0,i(1030)),Xo(H,6,l(Z));for(var re=Math.min(Z.e.r,8191),he=Z.s.r;he<=re;++he)for(var we=xi(he),B=Z.s.c;B<=Z.e.c;++B){he===Z.s.r&&(de[B]=Ba(B));var Ae=de[B]+we,ve=oe?(O[he]||[])[B]:O[Ae];if(!(!ve||ve.t=="z"))if(ve.t=="n")(ve.v|0)==ve.v&&ve.v>=-32768&&ve.v<=32767?Xo(H,13,p(he,B,ve.v)):Xo(H,14,m(he,B,ve.v));else{var ye=Qc(ve);Xo(H,15,f(he,B,ye.slice(0,239)))}}return Xo(H,1),H.end()}function a(O,R){var z=R||{};if(+z.codepage>=0&&ul(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var H=AT();Xo(H,0,s(O));for(var Z=0,oe=0;Z<O.SheetNames.length;++Z)(O.Sheets[O.SheetNames[Z]]||{})["!ref"]&&Xo(H,27,q(O.SheetNames[Z],oe++));var de=0;for(Z=0;Z<O.SheetNames.length;++Z){var re=O.Sheets[O.SheetNames[Z]];if(!(!re||!re["!ref"])){for(var he=ca(re["!ref"]),we=Array.isArray(re),B=[],Ae=Math.min(he.e.r,8191),ve=he.s.r;ve<=Ae;++ve)for(var ye=xi(ve),te=he.s.c;te<=he.e.c;++te){ve===he.s.r&&(B[te]=Ba(te));var Pe=B[te]+ye,Fe=we?(re[ve]||[])[te]:re[Pe];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")Xo(H,23,D(ve,te,de,Fe.v));else{var Ve=Qc(Fe);Xo(H,22,T(ve,te,de,Ve.slice(0,239)))}}++de}}return Xo(H,1),H.end()}function i(O){var R=Ra(2);return R.write_shift(2,O),R}function s(O){var R=Ra(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var z=0,H=0,Z=0,oe=0;oe<O.SheetNames.length;++oe){var de=O.SheetNames[oe],re=O.Sheets[de];if(!(!re||!re["!ref"])){++Z;var he=Zp(re["!ref"]);z<he.e.r&&(z=he.e.r),H<he.e.c&&(H=he.e.c)}}return z>8191&&(z=8191),R.write_shift(2,z),R.write_shift(1,Z),R.write_shift(1,H),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(O,R,z){var H={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&z.qpro?(H.s.c=O.read_shift(1),O.l++,H.s.r=O.read_shift(2),H.e.c=O.read_shift(1),O.l++,H.e.r=O.read_shift(2),H):(H.s.c=O.read_shift(2),H.s.r=O.read_shift(2),R==12&&z.qpro&&(O.l+=2),H.e.c=O.read_shift(2),H.e.r=O.read_shift(2),R==12&&z.qpro&&(O.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(O){var R=Ra(8);return R.write_shift(2,O.s.c),R.write_shift(2,O.s.r),R.write_shift(2,O.e.c),R.write_shift(2,O.e.r),R}function c(O,R,z){var H=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(H[0].c=O.read_shift(1),H[3]=O.read_shift(1),H[0].r=O.read_shift(2),O.l+=2):(H[2]=O.read_shift(1),H[0].c=O.read_shift(2),H[0].r=O.read_shift(2)),H}function u(O,R,z){var H=O.l+R,Z=c(O,R,z);if(Z[1].t="s",z.vers==20768){O.l++;var oe=O.read_shift(1);return Z[1].v=O.read_shift(oe,"utf8"),Z}return z.qpro&&O.l++,Z[1].v=O.read_shift(H-O.l,"cstr"),Z}function f(O,R,z){var H=Ra(7+z.length);H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,O),H.write_shift(1,39);for(var Z=0;Z<H.length;++Z){var oe=z.charCodeAt(Z);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function h(O,R,z){var H=c(O,R,z);return H[1].v=O.read_shift(2,"i"),H}function p(O,R,z){var H=Ra(7);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,O),H.write_shift(2,z,"i"),H}function g(O,R,z){var H=c(O,R,z);return H[1].v=O.read_shift(8,"f"),H}function m(O,R,z){var H=Ra(13);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,O),H.write_shift(8,z,"f"),H}function v(O,R,z){var H=O.l+R,Z=c(O,R,z);if(Z[1].v=O.read_shift(8,"f"),z.qpro)O.l=H;else{var oe=O.read_shift(2);I(O.slice(O.l,O.l+oe),Z),O.l+=oe}return Z}function y(O,R,z){var H=R&32768;return R&=-32769,R=(H?O:0)+(R>=8192?R-16384:R),(H?"":"$")+(z?Ba(R):xi(R))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(O,R){hi(O,0);for(var z=[],H=0,Z="",oe="",de="",re="";O.l<O.length;){var he=O[O.l++];switch(he){case 0:z.push(O.read_shift(8,"f"));break;case 1:oe=y(R[0].c,O.read_shift(2),!0),Z=y(R[0].r,O.read_shift(2),!1),z.push(oe+Z);break;case 2:{var we=y(R[0].c,O.read_shift(2),!0),B=y(R[0].r,O.read_shift(2),!1);oe=y(R[0].c,O.read_shift(2),!0),Z=y(R[0].r,O.read_shift(2),!1),z.push(we+B+":"+oe+Z)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(O.read_shift(2));break;case 6:{for(var Ae="";he=O[O.l++];)Ae+=String.fromCharCode(he);z.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:re=z.pop(),de=z.pop(),z.push(["AND","OR"][he-20]+"("+de+","+re+")");break;default:if(he<32&&b[he])re=z.pop(),de=z.pop(),z.push(de+b[he]+re);else if(w[he]){if(H=w[he][1],H==69&&(H=O[O.l++]),H>z.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+z.join("|")+"|");return}var ve=z.slice(-H);z.length-=H,z.push(w[he][0]+"("+ve.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}z.length==1?R[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function C(O){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=O.read_shift(2),R[3]=O[O.l++],R[0].c=O[O.l++],R}function j(O,R){var z=C(O);return z[1].t="s",z[1].v=O.read_shift(R-4,"cstr"),z}function T(O,R,z,H){var Z=Ra(6+H.length);Z.write_shift(2,O),Z.write_shift(1,z),Z.write_shift(1,R),Z.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var de=H.charCodeAt(oe);Z.write_shift(1,de>=128?95:de)}return Z.write_shift(1,0),Z}function S(O,R){var z=C(O);z[1].v=O.read_shift(2);var H=z[1].v>>1;if(z[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return z[1].v=H,z}function A(O,R){var z=C(O),H=O.read_shift(4),Z=O.read_shift(4),oe=O.read_shift(2);if(oe==65535)return H===0&&Z===3221225472?(z[1].t="e",z[1].v=15):H===0&&Z===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var de=oe&32768;return oe=(oe&32767)-16446,z[1].v=(1-de*2)*(Z*Math.pow(2,oe+32)+H*Math.pow(2,oe)),z}function D(O,R,z,H){var Z=Ra(14);if(Z.write_shift(2,O),Z.write_shift(1,z),Z.write_shift(1,R),H==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var oe=0,de=0,re=0,he=0;return H<0&&(oe=1,H=-H),de=Math.log2(H)|0,H/=Math.pow(2,de-31),he=H>>>0,he&2147483648||(H/=2,++de,he=H>>>0),H-=he,he|=2147483648,he>>>=0,H*=Math.pow(2,32),re=H>>>0,Z.write_shift(4,re),Z.write_shift(4,he),de+=16383+(oe?32768:0),Z.write_shift(2,de),Z}function E(O,R){var z=A(O);return O.l+=R-14,z}function N(O,R){var z=C(O),H=O.read_shift(4);return z[1].v=H>>6,z}function P(O,R){var z=C(O),H=O.read_shift(8,"f");return z[1].v=H,z}function V(O,R){var z=P(O);return O.l+=R-10,z}function X(O,R){return O[O.l+R-1]==0?O.read_shift(R,"cstr"):""}function Y(O,R){var z=O[O.l++];z>R-1&&(z=R-1);for(var H="";H.length<z;)H+=String.fromCharCode(O[O.l++]);return H}function J(O,R,z){if(!(!z.qpro||R<21)){var H=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var Z=O.read_shift(R-21,"cstr");return[H,Z]}}function G(O,R){for(var z={},H=O.l+R;O.l<H;){var Z=O.read_shift(2);if(Z==14e3){for(z[Z]=[0,""],z[Z][0]=O.read_shift(2);O[O.l];)z[Z][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return z}function q(O,R){var z=Ra(5+O.length);z.write_shift(2,14e3),z.write_shift(2,R);for(var H=0;H<O.length;++H){var Z=O.charCodeAt(H);z[z.l++]=Z>127?95:Z}return z[z.l++]=0,z}var ee={0:{n:"BOF",f:ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function j0e(e){var t={},r=e.match(Ki),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=br(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=qk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var D0e=function(){var e=Vv("t"),t=Vv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Qr(s[1])},l=i.match(t);return l&&(o.s=j0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),L0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),M0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,R0e=/<(?:\w+:)?r>/,F0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function oC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qr(Dn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dn(e),r&&(n.h=Qk(n.t))):e.match(R0e)&&(n.r=Dn(e),n.t=Qr(Dn((e.replace(F0e,"").match(M0e)||[]).join("").replace(Ki,""))),r&&(n.h=L0e(D0e(n.r)))),n):{t:""}}var $0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,B0e=/<(?:\w+:)?(?:si|sstItem)>/g,U0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function V0e(e,t){var r=[],n="";if(!e)return r;var a=e.match($0e);if(a){n=a[2].replace(B0e,"").split(U0e);for(var i=0;i!=n.length;++i){var s=oC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=br(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function z0e(e){return[e.read_shift(4),e.read_shift(4)]}function q0e(e,t){var r=[],n=!1;return ou(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function rq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Dc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function W0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Dc(e,4),t.U=Dc(e,4),t.W=Dc(e,4),t}function H0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function G0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(H0e(e));return t}function K0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Y0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Dc(e,4),t.U=Dc(e,4),t.W=Dc(e,4),t}function X0e(e){var t=Y0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function nq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function aq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Q0e(e){var t=Dc(e);switch(t.Minor){case 2:return[t.Minor,J0e(e)];case 3:return[t.Minor,Z0e()];case 4:return[t.Minor,epe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function J0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=nq(e,r),a=aq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Z0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function epe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ki,function(i){var s=br(i);switch(nc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function tpe(e,t){var r={},n=r.EncryptionVersionInfo=Dc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=nq(e,a),t-=a,r.EncryptionVerifier=aq(e,t),r}function rpe(e){var t={},r=t.EncryptionVersionInfo=Dc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function npe(e){var t=0,r,n=rq(e),a=n.length+1,i,s,o,l,c;for(r=Mf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var iq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=rq(s),l=i(o),c=o.length,u=Mf(16),f=0;f!=16;++f)u[f]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),ape=function(e,t,r,n,a){a||(a=t),n||(n=iq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},ipe=function(e){var t=0,r=iq(e);return function(n){var a=ape("",n,t,r);return t=a[1],a[0]}};function spe(e,t,r,n){var a={key:ka(e),verificationBytes:ka(e)};return r.password&&(a.verifier=npe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=ipe(r.password)),a}function ope(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=rpe(e):n.Data=tpe(e,t),n}function lpe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?ope(e,t-2,n):spe(e,r.biff>=8?t:t-2,r,n),n}var cpe=function(){function e(a,i){switch(i.type){case"base64":return t(Zs(a),i);case"binary":return t(a,i);case"buffer":return t(Vr&&Buffer.isBuffer(a)?a.toString("binary"):mh(a),i);case"array":return t(rh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[kr({r:f,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Kr(c),o}function r(a,i){return Hf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ca(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=kr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Qc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function upe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Wv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function fpe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function dpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function _b(e,t){if(t===0)return e;var r=fpe(upe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Wv(dpe(r))}var sq=6,hpe=15,ppe=1,ns=sq;function Sb(e){return Math.floor((e+Math.round(128/ns)/256)*ns)}function Ab(e){return Math.floor((e-5)/ns*100+.5)/100}function kT(e){return Math.round((e*ns+5)/ns*256)/256}function $S(e){return kT(Ab(Sb(e)))}function lC(e){var t=Math.abs(e-$S(e)),r=ns;if(t>.005)for(ns=ppe;ns<hpe;++ns)Math.abs(e-$S(e))<=t&&(t=Math.abs(e-$S(e)),r=ns);ns=r}function dp(e){e.width?(e.wpx=Sb(e.width),e.wch=Ab(e.wpx),e.MDW=ns):e.wpx?(e.wch=Ab(e.wpx),e.width=kT(e.wch),e.MDW=ns):typeof e.wch=="number"&&(e.width=kT(e.wch),e.wpx=Sb(e.width),e.MDW=ns),e.customWidth&&delete e.customWidth}var mpe=96,oq=mpe;function lq(e){return e*96/oq}function Hv(e){return e*oq/96}var gpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function vpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var o=br(s);switch(nc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=qn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=qn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function ype(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var o=br(s);switch(nc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function xpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ki)||[]).forEach(function(s){var o=br(s);switch(nc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Dn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?qn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?qn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?qn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?qn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?qn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?qn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?qn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=qk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=qn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Vd[a.color.index];a.color.index==81&&(l=Vd[1]),l||(l=Vd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=_b(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function bpe(e,t,r){t.NumberFmt=[];for(var n=ec(Or),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Or[n[a]];var i=e[0].match(Ki);if(i)for(a=0;a<i.length;++a){var s=br(i[a]);switch(nc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qr(Dn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Ud(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var yx=["numFmtId","fillId","fontId","borderId","xfId"],xx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function wpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ki)||[]).forEach(function(i){var s=br(i),o=0;switch(nc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<yx.length;++o)n[yx[o]]&&(n[yx[o]]=parseInt(n[yx[o]],10));for(o=0;o<xx.length;++o)n[xx[o]]&&(n[xx[o]]=qn(n[xx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=qn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var _pe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&bpe(f,u,c),(f=o.match(a))&&xpe(f,u,l,c),(f=o.match(n))&&ype(f,u,l,c),(f=o.match(i))&&vpe(f,u,l,c),(f=o.match(r))&&wpe(f,u,c),u}}();function Spe(e,t){var r=e.read_shift(2),n=Wi(e);return[r,n]}function Ape(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Dde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=jde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wi(e),n}var Tpe=Gi;function Epe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Npe=Gi;function kpe(e,t,r){var n={};n.NumberFmt=[];for(var a in Or)n.NumberFmt[a]=Or[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ou(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ud(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=_b(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Cpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ppe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ki)||[]).forEach(function(a){var i=br(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Cpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Ope(){}function Ipe(){}var jpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Dpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Lpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Mpe(e,t,r){t.themeElements={};var n;[["clrScheme",jpe,Ppe],["fontScheme",Dpe,Ope],["fmtScheme",Lpe,Ipe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Rpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function cq(e,t){(!e||e.length===0)&&(e=Fpe());var r,n={};if(!(r=e.match(Rpe)))throw new Error("themeElements not found in theme");return Mpe(r[0],n,t),n.raw=e,n}function Fpe(e,t){var r=[bz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function $pe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=xz(i,{type:"array"})}catch{return}var o=qs(s,"theme/theme/theme1.xml",!0);if(o)return cq(o,r)}}function Bpe(e){return e.read_shift(4)}function Upe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Vpe(e,4);break;case 2:t.xclrValue=Yz(e);break;case 3:t.xclrValue=Bpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Vpe(e,t){return Gi(e,t)}function zpe(e,t){return Gi(e,t)}function qpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Upe(e);break;case 6:n[1]=zpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Wpe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(qpe(e,r-e.l));return{ixfe:n,ext:i}}function Hpe(e,t){t.forEach(function(r){switch(r[0]){}})}function Gpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wi(e)}}function Kpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ype(e){return e.l+=4,e.read_shift(4)!=0}function Xpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ou(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Qpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ki,function(o){var l=br(o);switch(nc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Jpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ki)||[]).forEach(function(n){var a=br(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Zpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=kr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function eme(e,t,r){var n=[];return ou(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function tme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ou(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function rme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function GD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=os(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=ca(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Kr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function nme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=br(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=os(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&oC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function ame(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ki,function(o,l){var c=br(o);switch(nc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function ime(e,t){var r=[],n=!1;return e.replace(Ki,function(i){var s=br(i);switch(nc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function sme(e){var t={};t.iauthor=e.read_shift(4);var r=vh(e);return t.rfx=r.s,t.ref=kr(r.s),e.l+=16,t}var ome=Wi;function lme(e,t){var r=[],n=[],a={},i=!1;return ou(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var cme="application/vnd.ms-office.vbaProject";function ume(e){var t=Gr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Gr.write(t)}function fme(){return{"!type":"dialog"}}function dme(){return{"!type":"dialog"}}function hme(){return{"!type":"macro"}}function pme(){return{"!type":"macro"}}var M0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ba(u)+(l?"":"$")+xi(c)}return function(a,i){return t=i,a.replace(e,r)}}(),uq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,mme=function(){return function(t,r){return t.replace(uq,function(n,a,i,s,o,l){var c=tC(s)-(i?0:r.c),u=eC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function fq(e,t){return e.replace(uq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ba(tC(i)+t.c))+(s=="$"?s+o:xi(eC(o)+t.r))})}function gme(e,t,r){var n=Zp(t),a=n.s,i=os(r),s={r:i.r-a.r,c:i.c-a.c};return fq(e,s)}function vme(e){return e.length!=1}function KD(e){return e.replace(/_xlfn\./g,"")}function Ta(e){e.l+=1}function Rf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function dq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return hq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Rf(e),o=Rf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function hq(e){var t=Rf(e),r=Rf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function yme(e,t,r){if(r.biff<8)return hq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Rf(e),s=Rf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function pq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return xme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Rf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function xme(e){var t=Rf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function bme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function wme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return _me(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function _me(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Sme(e,t,r){var n=(e[e.l++]&96)>>5,a=dq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Ame(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=dq(e,i,r);return[n,a,s]}function Tme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Eme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Nme(e,t,r){var n=(e[e.l++]&96)>>5,a=yme(e,t-1,r);return[n,a]}function kme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function YD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Cme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Pme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ome(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ime(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function jme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function mq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Dme(e){return e.read_shift(2),mq(e)}function Lme(e){return e.read_shift(2),mq(e)}function Mme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=pq(e,0,r);return[n,a]}function Rme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=wme(e,0,r);return[n,a]}function Fme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=pq(e,0,r);return[n,a,i]}function $me(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Bge[a],yq[a],n]}function Bme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ume(e);return[a,(i[0]===0?yq:$ge)[i[1]]]}function Ume(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Vme(e,t,r){e.l+=r&&r.biff==2?3:4}function zme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qme(e){return e.l++,yh[e.read_shift(1)]}function Wme(e){return e.l++,e.read_shift(2)}function Hme(e){return e.l++,e.read_shift(1)!==0}function Gme(e){return e.l++,Bi(e)}function Kme(e,t,r){return e.l++,Z1(e,t-1,r)}function Yme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ha(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=yh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Bi(e);break;case 2:r[1]=xh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Xme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?vh:w5)(e));return a}function Qme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Yme(e,r.biff);return s}function Jme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Zme(e,t,r){if(r.biff==5)return ege(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function ege(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function tge(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rge(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function age(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var ige=Gi,sge=Gi,oge=Gi;function ty(e,t,r){return e.l+=2,[bme(e)]}function cC(e){return e.l+=6,[]}var lge=ty,cge=cC,uge=cC,fge=ty;function gq(e){return e.l+=2,[ka(e),e.read_shift(2)&1]}var dge=ty,hge=gq,pge=cC,mge=ty,gge=ty,vge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=vge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function xge(e){return e.l+=2,[e.read_shift(4)]}function bge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function wge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _ge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Sge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Age(e){return e.l+=4,[0,0]}var XD={1:{n:"PtgExp",f:zme},2:{n:"PtgTbl",f:oge},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:Kme},26:{n:"PtgSheet",f:bge},27:{n:"PtgEndSheet",f:wge},28:{n:"PtgErr",f:qme},29:{n:"PtgBool",f:Hme},30:{n:"PtgInt",f:Wme},31:{n:"PtgNum",f:Gme},32:{n:"PtgArray",f:kme},33:{n:"PtgFunc",f:$me},34:{n:"PtgFuncVar",f:Bme},35:{n:"PtgName",f:Jme},36:{n:"PtgRef",f:Mme},37:{n:"PtgArea",f:Sme},38:{n:"PtgMemArea",f:tge},39:{n:"PtgMemErr",f:ige},40:{n:"PtgMemNoMem",f:sge},41:{n:"PtgMemFunc",f:rge},42:{n:"PtgRefErr",f:nge},43:{n:"PtgAreaErr",f:Tme},44:{n:"PtgRefN",f:Rme},45:{n:"PtgAreaN",f:Nme},46:{n:"PtgMemAreaN",f:_ge},47:{n:"PtgMemNoMemN",f:Sge},57:{n:"PtgNameX",f:Zme},58:{n:"PtgRef3d",f:Fme},59:{n:"PtgArea3d",f:Ame},60:{n:"PtgRefErr3d",f:age},61:{n:"PtgAreaErr3d",f:Eme},255:{}},Tge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ege={1:{n:"PtgElfLel",f:gq},2:{n:"PtgElfRw",f:mge},3:{n:"PtgElfCol",f:lge},6:{n:"PtgElfRwV",f:gge},7:{n:"PtgElfColV",f:fge},10:{n:"PtgElfRadical",f:dge},11:{n:"PtgElfRadicalS",f:pge},13:{n:"PtgElfColS",f:cge},15:{n:"PtgElfColSV",f:uge},16:{n:"PtgElfRadicalLel",f:hge},25:{n:"PtgList",f:yge},29:{n:"PtgSxName",f:xge},255:{}},Nge={0:{n:"PtgAttrNoop",f:Age},1:{n:"PtgAttrSemi",f:jme},2:{n:"PtgAttrIf",f:Ome},4:{n:"PtgAttrChoose",f:Cme},8:{n:"PtgAttrGoto",f:Pme},16:{n:"PtgAttrSum",f:Vme},32:{n:"PtgAttrBaxcel",f:YD},33:{n:"PtgAttrBaxcel",f:YD},64:{n:"PtgAttrSpace",f:Dme},65:{n:"PtgAttrSpaceSemi",f:Lme},128:{n:"PtgAttrIfError",f:Ime},255:{}};function ry(e,t,r,n){if(n.biff<8)return Gi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Qme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Xme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Gi(e,t)),i}function ny(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=XD[i]||XD[Tge[i]],(i===24||i===25)&&(a=(i===24?Ege:Nge)[e[e.l+1]]),!a||!a.f?Gi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function kge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Cge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Pge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function vq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function QD(e,t,r){var n=vq(e,t,r);return n=="#REF"?n:Pge(n,r)}function Li(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=oa(" ",e[0][m][1][1]);break;case 1:v=oa("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Cge[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Rg(b[1][1],s,a),o.push(Fg(u,i));break;case"PtgRefN":u=r?Rg(b[1][1],r,a):b[1][1],o.push(Fg(u,i));break;case"PtgRef3d":f=b[1][1],u=Rg(b[1][2],s,a),g=QD(n,f,a),o.push(g+"!"+Fg(u,i));break;case"PtgFunc":case"PtgFuncVar":var I=b[1][0],C=b[1][1];I||(I=0),I&=127;var j=I==0?[]:o.slice(-I);o.length-=I,C==="User"&&(C=j.shift()),o.push(C+"("+j.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=OD(b[1][1],r?{s:r}:s,a),o.push(RS(p,a));break;case"PtgArea":p=OD(b[1][1],s,a),o.push(RS(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],g=QD(n,f,a),o.push(g+"!"+RS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=b[1][1];h=b[1][2];var D;if(a.biff<=5)A<0&&(A=-A),n[A]&&(D=n[A][h]);else{var E="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(E=n.SheetNames[n[A][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])E+=n[A][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(vq(n,A,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var P="(",V=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:P=oa(" ",e[0][m][1][1])+P;break;case 3:P=oa("\r",e[0][m][1][1])+P;break;case 4:V=oa(" ",e[0][m][1][1])+V;break;case 5:V=oa("\r",e[0][m][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(P+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[kr(u)]){var Y=n.sharedf[kr(u)];o.push(Li(Y,s,X,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Li(c[1],s,X,n,a)),J=!0;break}J||o.push(b[1])}break;case"PtgArray":o.push("{"+kge(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&G.indexOf(e[0][y][0])==-1){b=e[0][m];var q=!0;switch(b[1][0]){case 4:q=!1;case 0:v=oa(" ",b[1][1]);break;case 5:q=!1;case 1:v=oa("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((q?v:"")+o.pop()+(q?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Oge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Gi(e,t-2)];var o=ny(e,s,r);return t!==s+a&&(i=ry(e,t-s-a,o,r)),e.l=n,[o,i]}function Ige(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Gi(e,t-2)];var o=ny(e,s,r);return t!==s+a&&(i=ry(e,t-s-a,o,r)),e.l=n,[o,i]}function jge(e,t,r,n){var a=e.l+t,i=ny(e,n,r),s;return a!==e.l&&(s=ry(e,a-e.l,i,r)),[i,s]}function Dge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=ny(e,i,r);return i==65535?[[],Gi(e,t-2)]:(t!==i+2&&(a=ry(e,n-i-2,s,r)),[s,a])}function Lge(e){var t;if(Nc(e,e.l+6)!==65535)return[Bi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function BS(e,t,r){var n=e.l+t,a=ac(e);r.biff==2&&++e.l;var i=Lge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Ige(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function _5(e,t,r){var n=e.read_shift(4),a=ny(e,n,r),i=e.read_shift(4),s=i>0?ry(e,i,a,r):null;return[a,s]}var Mge=_5,S5=_5,Rge=_5,Fge=_5,$ge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function JD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function US(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Vg={},R0={};function zg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function xq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Or[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ri(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Or[t]==null&&Ud(Ufe[t]||"General",t),e.t==="e")e.w=e.w||yh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v);else if(e.t==="d"){var s=hs(e.v);(s|0)===s?e.w=s.toString(10):e.w=Uv(s)}else{if(e.v===void 0)return"";e.w=th(e.v,R0)}else e.t==="d"?e.w=jo(t,hs(e.v),R0):e.w=jo(t,e.v,R0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=_b(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=_b(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Uge(e,t){var r=ca(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Kr(r))}var Vge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,zge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,qge=/<(?:\w:)?hyperlink [^>]*>/mg,Wge=/"(\w*:\w*)"/,Hge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Gge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Kge=/<(?:\w:)?pageMargins[^>]*\/>/g,bq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Yge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Xge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Qge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(zge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(bq);h?uC(h[0],o,a,r):(h=c.match(Yge))&&Jge(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(Wge);g&&Uge(o,g[1])}var m=c.match(Xge);m&&m[1]&&ave(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Hge);y&&tve(v,y)}f&&ive(f[1],o,t,l,i,s);var w=u.match(Gge);w&&(o["!autofilter"]=rve(w[0]));var b=[],I=u.match(Vge);if(I)for(p=0;p!=I.length;++p)b[p]=ca(I[p].slice(I[p].indexOf('"')+1));var C=u.match(qge);C&&Zge(o,C,n);var j=u.match(Kge);if(j&&(o["!margins"]=eve(br(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Kr(l)),t.sheetRows>0&&o["!ref"]){var T=ca(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Kr(T))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function uC(e,t,r,n){var a=br(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qr(Dn(a.codeName)))}function Jge(e,t,r,n,a){uC(e.slice(0,e.indexOf(">")),r,n,a)}function Zge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=br(Dn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Qr(i.location))):(i.Target="#"+Qr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ca(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=kr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function eve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function tve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=br(t[n],!0);a.hidden&&(a.hidden=qn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,lC(a.width)),dp(a);i<=s;)e[i++]=yi(a)}}function rve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var nve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ave(e,t){t.Views||(t.Views=[{}]),(e.match(nve)||[]).forEach(function(r,n){var a=br(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),qn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var ive=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Vv("v"),s=Vv("f");return function(l,c,u,f,h,p){for(var g=0,m="",v=[],y=[],w=0,b=0,I=0,C="",j,T,S=0,A=0,D,E,N=0,P=0,V=Array.isArray(p.CellXf),X,Y=[],J=[],G=Array.isArray(c),q=[],ee={},W=!1,O=!!u.sheetStubs,R=l.split(t),z=0,H=R.length;z!=H;++z){m=R[z].trim();var Z=m.length;if(Z!==0){var oe=0;e:for(g=0;g<Z;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=br(m.slice(oe,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,u.sheetRows&&u.sheetRows<S)continue;ee={},W=!1,T.ht&&(W=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Hv(ee.hpt)),T.hidden=="1"&&(W=!0,ee.hidden=!0),T.outlineLevel!=null&&(W=!0,ee.level=+T.outlineLevel),W&&(q[S-1]=ee)}break;case"<":oe=g;break}if(oe>=g)break;if(T=br(m.slice(oe,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(ee={},W=!1,T.ht&&(W=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Hv(ee.hpt)),T.hidden=="1"&&(W=!0,ee.hidden=!0),T.outlineLevel!=null&&(W=!0,ee.level=+T.outlineLevel),W&&(q[S-1]=ee)),v=m.slice(g).split(e);for(var de=0;de!=v.length&&v[de].trim().charAt(0)=="<";++de);for(v=v.slice(de),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,b=0,I=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,C=y[1],b=0;b!=C.length&&!((I=C.charCodeAt(b)-64)<1||I>26);++b)w=26*w+I;--w,A=w}else++A;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,T=br(m.slice(0,b),!0),T.r||(T.r=kr({r:S-1,c:A})),C=m.slice(b),j={t:""},(y=C.match(i))!=null&&y[1]!==""&&(j.v=Qr(y[1])),u.cellFormula){if((y=C.match(s))!=null&&y[1]!==""){if(j.f=Qr(Dn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=KD(j.f)),y[0].indexOf('t="array"')>-1)j.F=(C.match(a)||[])[1],j.F.indexOf(":")>-1&&Y.push([ca(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){E=br(y[0]);var re=Qr(Dn(y[1]));u.xlfn||(re=KD(re)),J[parseInt(E.si,10)]=[E,re,T.r]}}else(y=C.match(/<f[^>]*\/>/))&&(E=br(y[0]),J[E.si]&&(j.f=gme(J[E.si][1],J[E.si][2],T.r)));var he=os(T.r);for(b=0;b<Y.length;++b)he.r>=Y[b][0].s.r&&he.r<=Y[b][0].e.r&&he.c>=Y[b][0].s.c&&he.c<=Y[b][0].e.c&&(j.F=Y[b][1])}if(T.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(O)j.t="z";else continue;else j.t=T.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),j.t){case"n":if(j.v==""||j.v==null){if(!O)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!O)continue;j.t="z"}else D=Vg[parseInt(j.v,10)],j.v=D.t,j.r=D.r,u.cellHTML&&(j.h=D.h);break;case"str":j.t="s",j.v=j.v!=null?Dn(j.v):"",u.cellHTML&&(j.h=Qk(j.v));break;case"inlineStr":y=C.match(n),j.t="s",y!=null&&(D=oC(y[1]))?(j.v=D.t,u.cellHTML&&(j.h=D.h)):j.v="";break;case"b":j.v=qn(j.v);break;case"d":u.cellDates?j.v=ri(j.v,1):(j.v=hs(ri(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=Uz[j.v];break}if(N=P=0,X=null,V&&T.s!==void 0&&(X=p.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(N=X.numFmtId),u.cellStyles&&X.fillId!=null&&(P=X.fillId))),xq(j,N,P,u,h,p),u.cellDates&&V&&j.t=="n"&&Jp(Or[N])&&(j.t="d",j.v=b5(j.v)),T.cm&&u.xlmeta){var we=(u.xlmeta.Cell||[])[+T.cm-1];we&&we.type=="XLDAPR"&&(j.D=!0)}if(G){var B=os(T.r);c[B.r]||(c[B.r]=[]),c[B.r][B.c]=j}else c[T.r]=j}}}}q.length>0&&(c["!rows"]=q)}}();function sve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var ove=vh;function lve(){}function cve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ode(e),r}function uve(e){var t=Lo(e);return[t]}function fve(e){var t=gh(e);return[t]}function dve(e){var t=Lo(e),r=e.read_shift(1);return[t,r,"b"]}function hve(e){var t=gh(e),r=e.read_shift(1);return[t,r,"b"]}function pve(e){var t=Lo(e),r=e.read_shift(1);return[t,r,"e"]}function mve(e){var t=gh(e),r=e.read_shift(1);return[t,r,"e"]}function gve(e){var t=Lo(e),r=e.read_shift(4);return[t,r,"s"]}function vve(e){var t=gh(e),r=e.read_shift(4);return[t,r,"s"]}function yve(e){var t=Lo(e),r=Bi(e);return[t,r,"n"]}function wq(e){var t=gh(e),r=Bi(e);return[t,r,"n"]}function xve(e){var t=Lo(e),r=aC(e);return[t,r,"n"]}function bve(e){var t=gh(e),r=aC(e);return[t,r,"n"]}function wve(e){var t=Lo(e),r=rC(e);return[t,r,"is"]}function _ve(e){var t=Lo(e),r=Wi(e);return[t,r,"str"]}function Sve(e){var t=gh(e),r=Wi(e);return[t,r,"str"]}function Ave(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Li(o,null,a,r.supbooks,r)}else e.l=n;return s}function Tve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Li(o,null,a,r.supbooks,r)}else e.l=n;return s}function Eve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=Bi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Li(o,null,a,r.supbooks,r)}else e.l=n;return s}function Nve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=Wi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Li(o,null,a,r.supbooks,r)}else e.l=n;return s}var kve=vh;function Cve(e,t){var r=e.l+t,n=vh(e),a=nC(e),i=Wi(e),s=Wi(e),o=Wi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Pve(){}function Ove(e,t,r){var n=e.l+t,a=Fz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Mge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Ive(e,t,r){var n=e.l+t,a=vh(e),i=[a];if(r.cellFormula){var s=Fge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var jve=["left","right","top","bottom","header","footer"];function Dve(e){var t={};return jve.forEach(function(r){t[r]=Bi(e)}),t}function Lve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Mve(){}function Rve(){}function Fve(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,w,b,I,C,j=[];o.biff=12,o["!row"]=0;var T=0,S=!1,A=[],D={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=D,E.arrayf=A,E.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var P=[],V=[],X=!1;Tb[16]={n:"BrtShortReal",f:wq};var Y;if(ou(e,function(q,ee,W){if(!h)switch(W){case 148:c=q;break;case 0:p=q,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),I=xi(v=p.r),o["!row"]=p.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Hv(q.hpt)),V[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:q[2]},q[2]){case"n":g.v=q[1];break;case"s":b=Vg[q[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!q[1];break;case"e":g.v=q[1],o.cellText!==!1&&(g.w=yh[g.v]);break;case"str":g.t="s",g.v=q[1];break;case"is":g.t="s",g.v=q[1].t;break}if((m=s.CellXf[q[0].iStyleRef])&&xq(g,m.numFmtId,null,o,i,s),y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ba(y)+I]=g,o.cellFormula){for(S=!1,T=0;T<A.length;++T){var O=A[T];p.r>=O[0].s.r&&p.r<=O[0].e.r&&y>=O[0].s.c&&y<=O[0].e.c&&(g.F=Kr(O[0]),S=!0)}!S&&q.length>3&&(g.f=q[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Jp(Or[m.numFmtId])){var R=Id(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ba(y)+I]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 176:j.push(q);break;case 49:Y=((o.xlmeta||{}).Cell||[])[q-1];break;case 494:var z=n["!id"][q.relId];for(z?(q.Target=z.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=z):q.relId==""&&(q.Target="#"+q.loc),v=q.rfx.s.r;v<=q.rfx.e.r;++v)for(y=q.rfx.s.c;y<=q.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=q):(w=kr({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=q);break;case 426:if(!o.cellFormula)break;A.push(q),C=o.dense?l[v][y]:l[Ba(y)+I],C.f=Li(q[1],u,{r:p.r,c:y},E,o),C.F=Kr(q[0]);break;case 427:if(!o.cellFormula)break;D[kr(q[0].s)]=q[1],C=o.dense?l[v][y]:l[Ba(y)+I],C.f=Li(q[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;q.e>=q.s;)P[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},X||(X=!0,lC(q.w/256)),dp(P[q.e+1]);break;case 161:l["!autofilter"]={ref:Kr(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Kr(c||u)),o.sheetRows&&l["!ref"]){var J=ca(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Kr(J))}return j.length>0&&(l["!merges"]=j),P.length>0&&(l["!cols"]=P),V.length>0&&(l["!rows"]=V),l}function $ve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Qr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Bve(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=$ve(f);u.s.r=u.s.c=0,u.e.c=o,c=Ba(o),h[0].forEach(function(p,g){s[c+xi(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Kr(u)),s}function Uve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(bq);return o&&uC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Vve(e,t){e.l+=10;var r=Wi(e);return{name:r}}function zve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ou(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var _q=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],qve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wve=[],Hve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ZD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=qn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function e8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=qn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Sq(e){e8(e.WBProps,_q),e8(e.CalcPr,Hve),ZD(e.WBView,qve),ZD(e.Sheets,Wve),R0.date1904=qn(e.WBProps.date1904)}var Gve="][*?/\\".split("");function Kve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Gve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Yve=/<\w+:workbook/;function Xve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ki,function(l,c){var u=br(l);switch(nc(u[0])){case"<?xml":break;case"<workbook":l.match(Yve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":_q.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=qn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Dn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Qr(Dn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Dn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),qn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Qr(Dn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),pde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Sq(r),r}function Qve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=TT(e),r.name=Wi(e),r}function Jve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Wi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Zve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function e1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ide(e),s=Rge(e,0,r),o=nC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function t1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Tb[16]={n:"BrtFRTArchID$",f:Zve},ou(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Li(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Sq(r),r.Names=i,r.supbooks=s,r}function r1e(e,t,r){return t.slice(-4)===".bin"?t1e(e,r):Xve(e,r)}function n1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Fve(e,n,r,a,i,s,o):Qge(e,n,r,a,i,s,o)}function a1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?zve(e,n,r,a,i):Uve(e,n,r,a,i)}function i1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?hme():pme()}function s1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?fme():dme()}function o1e(e,t,r,n){return t.slice(-4)===".bin"?kpe(e,r,n):_pe(e,r,n)}function l1e(e,t,r){return cq(e,r)}function c1e(e,t,r){return t.slice(-4)===".bin"?q0e(e,r):V0e(e,r)}function u1e(e,t,r){return t.slice(-4)===".bin"?lme(e,r):nme(e,r)}function f1e(e,t,r){return t.slice(-4)===".bin"?eme(e):Jpe(e)}function d1e(e,t,r,n){return r.slice(-4)===".bin"?tme(e,t,r,n):void 0}function h1e(e,t,r){return t.slice(-4)===".bin"?Xpe(e,t,r):Qpe(e,t,r)}var Aq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Tq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Aq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Tq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function p1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Aq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Tq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var qg;function m1e(e,t){var r=qg[e]||Qr(e);return r==="General"?th(t):jo(r,t)}function g1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=qn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ri(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qr(t)]=a}function v1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v):e.w=th(e.v):e.w=m1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=qg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Jp(n)){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function y1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=gpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function x1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=qn(e);break;case"String":n.t="s",n.r=_D(Qr(e)),n.v=e.indexOf("<")>-1?Qr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ri(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Uz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=_D(t||e));break}if(v1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Qr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=M0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=M0("RC:RC",a):n.ArrayRange&&(n.F=M0(n.ArrayRange,a),l.push([ca(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function b1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function VS(e,t){var r=t||{};hz();var n=fg(Jk(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=yi(r);return s.type="string",qv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Fe){a.indexOf("<"+Fe)>=0&&(i=!0)}),i)return C1e(n,r);qg={"General Number":"General","General Date":Or[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Or[15],"Short Date":Or[14],"Long Time":Or[19],"Medium Time":Or[18],"Short Time":Or[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Or[2],Standard:Or[4],Percent:Or[10],Scientific:Or[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",g={},m={},v=Yo('<Data ss:Type="String">'),y=0,w=0,b=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},j={},T="",S=0,A=[],D={},E={},N=0,P=[],V=[],X={},Y=[],J,G=!1,q=[],ee=[],W={},O=0,R=0,z={Sheets:[],WBProps:{date1904:!1}},H={};zv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=zv.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?x1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?X:g,{c:w,r:b},C,Y[w],m,q,r):(T="",v=Yo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Ba(w)+xi(b)]=g),g.HRef&&(g.l={Target:Qr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(O=w+(parseInt(g.MergeAcross,10)|0),R=b+(parseInt(g.MergeDown,10)|0),A.push({s:{c:w,r:b},e:{c:O,r:R}})),!r.sheetStubs)g.MergeAcross?w=O+1:++w;else if(g.MergeAcross||g.MergeDown){for(var oe=w;oe<=O;++oe)for(var de=b;de<=R;++de)(oe>w||de>b)&&(r.dense?(h[de]||(h[de]=[]),h[de][oe]={t:"z"}):h[Ba(oe)+xi(de)]={t:"z"});w=O+1}else++w;else g=p1e(o[0]),g.Index&&(w=+g.Index-1),w<I.s.c&&(I.s.c=w),w>I.e.c&&(I.e.c=w),o[0].slice(-2)==="/>"&&++w,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<I.s.r&&(I.s.r=b),b>I.e.r&&(I.e.r=b),o[0].slice(-2)==="/>"&&(m=Yo(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=Yo(o[0]),m.Index&&(b=+m.Index-1),W={},(m.AutoFitHeight=="0"||m.Height)&&(W.hpx=parseInt(m.Height,10),W.hpt=lq(W.hpx),ee[b]=W),m.Hidden=="1"&&(W.hidden=!0,ee[b]=W));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(h["!ref"]=Kr(I),r.sheetRows&&r.sheetRows<=I.e.r&&(h["!fullref"]=h["!ref"],I.e.r=r.sheetRows-1,h["!ref"]=Kr(I))),A.length&&(h["!merges"]=A),Y.length>0&&(h["!cols"]=Y),ee.length>0&&(h["!rows"]=ee),u[p]=h}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=Yo(o[0]),p=Qr(c.Name),h=r.dense?[]:{},A=[],q=[],ee=[],H={name:p,Hidden:0},z.Sheets.push(H);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Y=[],G=!1}break;case"style":o[1]==="/"?y1e(C,j,r):j=Yo(o[0]);break;case"numberformat":j.nf=Qr(Yo(o[0]).Format||"General"),qg[j.nf]&&(j.nf=qg[j.nf]);for(var re=0;re!=392&&Or[re]!=j.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Or[re]==null){Ud(j.nf,re);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Yo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!G&&J.wpx>10){G=!0,ns=sq;for(var he=0;he<Y.length;++he)Y[he]&&dp(Y[he])}G&&dp(J),Y[J.Index-1||Y.length]=J;for(var we=0;we<+J.Span;++we)Y[Y.length]=yi(J);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var B=br(o[0]),Ae={Name:B.Name,Ref:M0(B.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(Ae.Sheet=z.Sheets.length-1),z.Names.push(Ae);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Yo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?nhe(D,Z,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));b1e(X),V.push(X)}else l.push([o[3],!1]),c=Yo(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ve=Yo(o[0]);h["!autofilter"]={ref:M0(ve.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return s8(n,r);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||zg(h["!margins"]={},"xlml"),isNaN(+br(o[0]).Margin)||(h["!margins"].header=+br(o[0]).Margin);break;case"footer":h["!margins"]||zg(h["!margins"]={},"xlml"),isNaN(+br(o[0]).Margin)||(h["!margins"].footer=+br(o[0]).Margin);break;case"pagemargins":var te=br(o[0]);h["!margins"]||zg(h["!margins"]={},"xlml"),isNaN(+te.Top)||(h["!margins"].top=+te.Top),isNaN(+te.Left)||(h["!margins"].left=+te.Left),isNaN(+te.Right)||(h["!margins"].right=+te.Right),isNaN(+te.Bottom)||(h["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?g1e(E,Z,P,n.slice(N,o.index)):(P=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Pe={};return!r.bookSheets&&!r.bookProps&&(Pe.Sheets=u),Pe.SheetNames=f,Pe.Workbook=z,Pe.SSF=yi(Or),Pe.Props=D,Pe.Custprops=E,Pe}function CT(e,t){switch(hC(t=t||{}),t.type||"base64"){case"base64":return VS(Zs(e),t);case"binary":case"buffer":case"file":return VS(e,t);case"array":return VS(mh(e),t)}}function w1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Lde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Mde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var _1e=[60,1084,2066,2165,2175];function S1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Nc(r,r.l),c=PT[l],u=0;c!=null&&_1e.indexOf(l)>-1;)i=Nc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=PT[l=Nc(r,r.l)];var f=Xu(s);hi(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Dl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Or[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v):e.w=th(e.v):e.w=jo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Jp(Or[n]||String(n))){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function bx(e,t,r){return{v:e,ixfe:t,t:r}}function A1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,g,m,v,y={},w=[],b,I,C=[],j=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=function(Et){return Et<8?Vd[Et]:Et<64&&j[Et-8]||Vd[Et]},D=function(Et,nt,Jt){var zt=nt.XF.data;if(!(!zt||!zt.patternType||!Jt||!Jt.cellStyles)){nt.s={},nt.s.patternType=zt.patternType;var Rr;(Rr=Wv(A(zt.icvFore)))&&(nt.s.fgColor={rgb:Rr}),(Rr=Wv(A(zt.icvBack)))&&(nt.s.bgColor={rgb:Rr})}},E=function(Et,nt,Jt){if(!(W>1)&&!(Jt.sheetRows&&Et.r>=Jt.sheetRows)){if(Jt.cellStyles&&nt.XF&&nt.XF.data&&D(Et,nt,Jt),delete nt.ixfe,delete nt.XF,f=Et,h=kr(Et),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Et.r<s.s.r&&(s.s.r=Et.r),Et.c<s.s.c&&(s.s.c=Et.c),Et.r+1>s.e.r&&(s.e.r=Et.r+1),Et.c+1>s.e.c&&(s.e.c=Et.c+1),Jt.cellFormula&&nt.f){for(var zt=0;zt<w.length;++zt)if(!(w[zt][0].s.c>Et.c||w[zt][0].s.r>Et.r)&&!(w[zt][0].e.c<Et.c||w[zt][0].e.r<Et.r)){nt.F=Kr(w[zt][0]),(w[zt][0].s.c!=Et.c||w[zt][0].s.r!=Et.r)&&delete nt.f,nt.f&&(nt.f=""+Li(w[zt][1],s,Et,q,N));break}}Jt.dense?(a[Et.r]||(a[Et.r]=[]),a[Et.r][Et.c]=nt):a[h]=nt}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var P,V=[],X=[],Y=[],J=[],G=!1,q=[];q.SheetNames=N.snames,q.sharedf=N.sharedf,q.arrayf=N.arrayf,q.names=[],q.XTI=[];var ee=0,W=0,O=0,R=[],z=[],H;N.codepage=1200,ul(1200);for(var Z=!1;e.l<e.length-1;){var oe=e.l,de=e.read_shift(2);if(de===0&&ee===10)break;var re=e.l===e.length?0:e.read_shift(2),he=PT[de];if(he&&he.f){if(t.bookSheets&&ee===133&&de!==133)break;if(ee=de,he.r===2||he.r==12){var we=e.read_shift(2);if(re-=2,!N.enc&&we!==de&&((we&255)<<8|we>>8)!==de)throw new Error("rt mismatch: "+we+"!="+de);he.r==12&&(e.l+=10,re-=10)}var B={};if(de===10?B=he.f(e,re,N):B=S1e(de,he,e,re,N),W==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(de){case 34:r.opts.Date1904=T.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=B;break;case 66:var Ae=Number(B);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}ul(N.codepage=Ae),Z=!0;break;case 317:N.rrtabid=B;break;case 25:N.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:N.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:C.push(B);break;case 430:q.push([B]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(B);break;case 24:case 536:H={Name:B.Name,Ref:Li(B.rgce,s,null,q,N)},B.itab>0&&(H.Sheet=B.itab-1),q.names.push(H),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(z[B.itab-1]={ref:Kr(B.rgce[0][0][1][2])});break;case 22:N.ExternCount=B;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(B),q.XTI=q.XTI.concat(B);break;case 2196:if(N.biff<8)break;H!=null&&(H.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&N.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,N.snames.push(B.name);break;case 10:{if(--W)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Kr(s),t.sheetRows&&t.sheetRows<=s.e.r){var ve=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Kr(s),s.e.r=ve}s.e.r++,s.e.c++}V.length>0&&(a["!merges"]=V),X.length>0&&(a["!objects"]=X),Y.length>0&&(a["!cols"]=Y),J.length>0&&(a["!rows"]=J),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),N.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(N.biff=5,Z=!0,ul(N.codepage=28591)),N.biff==8&&B.BIFFVer==0&&B.dt==16&&(N.biff=2),W++)break;if(a=t.dense?[]:{},N.biff<8&&!Z&&(Z=!0,ul(N.codepage=t.codepage||1252)),N.biff<5||B.BIFFVer==0&&B.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:e.l-re,name:c};i[ye.pos]=ye,N.snames.push(c)}else c=(i[oe]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),V=[],X=[],N.arrayf=w=[],Y=[],J=[],G=!1,S={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[kr({c:B.c,r:B.r})])&&++B.c,b={ixfe:B.ixfe,XF:C[B.ixfe]||{},v:B.val,t:"n"},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 5:case 517:b={ixfe:B.ixfe,XF:C[B.ixfe],v:B.val,t:B.t},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 638:b={ixfe:B.ixfe,XF:C[B.ixfe],v:B.rknum,t:"n"},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 189:for(var te=B.c;te<=B.C;++te){var Pe=B.rkrec[te-B.c][0];b={ixfe:Pe,XF:C[Pe],v:B.rkrec[te-B.c][1],t:"n"},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:te,r:B.r},b,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){o=B;break}if(b=bx(B.val,B.cell.ixfe,B.tt),b.XF=C[b.ixfe],t.cellFormula){var Fe=B.formula;if(Fe&&Fe[0]&&Fe[0][0]&&Fe[0][0][0]=="PtgExp"){var Ve=Fe[0][0][1][0],rt=Fe[0][0][1][1],Le=kr({r:Ve,c:rt});y[Le]?b.f=""+Li(B.formula,s,B.cell,q,N):b.F=((t.dense?(a[Ve]||[])[rt]:a[Le])||{}).F}else b.f=""+Li(B.formula,s,B.cell,q,N)}O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E(B.cell,b,t),o=B}break;case 7:case 519:if(o)o.val=B,b=bx(B,o.cell.ixfe,"s"),b.XF=C[b.ixfe],t.cellFormula&&(b.f=""+Li(o.formula,s,o.cell,q,N)),O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(B);var Ze=kr(B[0].s);if(p=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Ze],t.cellFormula&&p){if(!o||!Ze||!p)break;p.f=""+Li(B[1],s,B[0],q,N),p.F=Kr(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[kr(o.cell)]=B[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[kr(o.cell)],(p||{}).f=""+Li(B[0],s,f,q,N)}}break;case 253:b=bx(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(b.h=l[B.isst].h),b.XF=C[b.ixfe],O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:B.ixfe,XF:C[B.ixfe],t:"z"},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t));break;case 190:if(t.sheetStubs)for(var De=B.c;De<=B.C;++De){var et=B.ixfe[De-B.c];b={ixfe:et,XF:C[et],t:"z"},O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:De,r:B.r},b,t)}break;case 214:case 516:case 4:b=bx(B.val,B.ixfe,"s"),b.XF=C[b.ixfe],O>0&&(b.z=R[b.ixfe>>8&63]),Dl(b,t,r.opts.Date1904),E({c:B.c,r:B.r},b,t);break;case 0:case 512:W===1&&(s=B);break;case 252:l=B;break;case 1054:if(N.biff==4){R[O++]=B[1];for(var yt=0;yt<O+163&&Or[yt]!=B[1];++yt);yt>=163&&Ud(B[1],O+163)}else Ud(B[1],B[0]);break;case 30:{R[O++]=B;for(var ft=0;ft<O+163&&Or[ft]!=B;++ft);ft>=163&&Ud(B,O+163)}break;case 229:V=V.concat(B);break;case 93:X[B.cmo[0]]=N.lastobj=B;break;case 438:N.lastobj.TxO=B;break;case 127:N.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[kr({c:m,r:v})],p&&(p.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[kr({c:m,r:v})],p&&p.l&&(p.l.Tooltip=B[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[B[0].r]||[])[B[0].c]:a[kr(B[0])];var wt=X[B[2]];p||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),p=a[B[0].r][B[0].c]={t:"z"}):p=a[kr(B[0])]={t:"z"},s.e.r=Math.max(s.e.r,B[0].r),s.s.r=Math.min(s.s.r,B[0].r),s.e.c=Math.max(s.e.c,B[0].c),s.s.c=Math.min(s.s.c,B[0].c)),p.c||(p.c=[]),g={a:B[1],t:wt.TxO.t},p.c.push(g)}break;case 2173:Hpe(C[B.ixfe],B.ext);break;case 125:{if(!N.cellStyles)break;for(;B.e>=B.s;)Y[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},G||(G=!0,lC(B.w/256)),dp(Y[B.e+1])}break;case 520:{var It={};B.level!=null&&(J[B.r]=It,It.level=B.level),B.hidden&&(J[B.r]=It,It.hidden=!0),B.hpt&&(J[B.r]=It,It.hpt=B.hpt,It.hpx=Hv(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||zg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=B;break;case 161:a["!margins"]||zg(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(T.Views[0].RTL=!0);break;case 146:j=B;break;case 2198:P=B;break;case 140:I=B;break;case 442:c?S.CodeName=B||S.name:T.WBProps.CodeName=B||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=re}return r.SheetNames=ec(i).sort(function(Dt,Et){return Number(Dt)-Number(Et)}).map(function(Dt){return i[Dt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(Dt,Et){r.Sheets[r.SheetNames[Et]]["!autofilter"]=Dt}),r.Strings=l,r.SSF=yi(Or),N.enc&&(r.Encryption=N.enc),P&&(r.Themes=P),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),q.names.length>0&&(T.Names=q.names),r.Workbook=T,r}var t8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function T1e(e,t,r){var n=Gr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=FD(n,Vde,t8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Gr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=FD(s,zde,t8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(zz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Eq(e,t){t||(t={}),hC(t),tz(),t.codepage&&Wk(t.codepage);var r,n;if(e.FullPaths){if(Gr.find(e,"/encryption"))throw new Error("File is password-protected");r=Gr.find(e,"!CompObj"),n=Gr.find(e,"/Workbook")||Gr.find(e,"/Book")}else{switch(t.type){case"base64":e=ll(Zs(e));break;case"binary":e=ll(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}hi(e,0),n={content:e}}var a,i;if(r&&w1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Vr?"buffer":"array";if(n&&n.content)a=A1e(n.content,t);else if((i=Gr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Ug.to_workbook(i.content,(t.type=s,t));else if((i=Gr.find(e,"NativeContent_MAIN"))&&i.content)a=Ug.to_workbook(i.content,(t.type=s,t));else throw(i=Gr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Gr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=ume(e))}var o={};return e.FullPaths&&T1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Tb={0:{f:sve},1:{f:uve},2:{f:xve},3:{f:pve},4:{f:dve},5:{f:yve},6:{f:_ve},7:{f:gve},8:{f:Nve},9:{f:Eve},10:{f:Ave},11:{f:Tve},12:{f:fve},13:{f:bve},14:{f:mve},15:{f:hve},16:{f:wq},17:{f:Sve},18:{f:vve},19:{f:rC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:e1e},40:{},42:{},43:{f:Ape},44:{f:Spe},45:{f:Tpe},46:{f:Npe},47:{f:Epe},48:{},49:{f:kde},50:{},51:{f:Kpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tq},62:{f:wve},63:{f:Zpe},64:{f:Mve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Lve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cve},148:{f:ove,p:16},151:{f:Pve},152:{},153:{f:Jve},154:{},155:{},156:{f:Qve},157:{},158:{},159:{T:1,f:z0e},160:{T:-1},161:{T:1,f:vh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:kve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Gpe},336:{T:-1},337:{f:Ype,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ove},427:{f:Ive},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Cve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ome},633:{T:1},634:{T:-1},635:{T:1,f:sme},636:{T:-1},637:{f:Pde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Vve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Rve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},PT={6:{f:BS},10:{f:Fu},12:{f:ka},13:{f:ka},14:{f:ha},15:{f:ha},16:{f:Bi},17:{f:ha},18:{f:ha},19:{f:ka},20:{f:VD},21:{f:VD},23:{f:eq},24:{f:qD},25:{f:ha},26:{},27:{},28:{f:a0e},29:{},34:{f:ha},35:{f:zD},38:{f:Bi},39:{f:Bi},40:{f:Bi},41:{f:Bi},42:{f:ha},43:{f:ha},47:{f:lpe},49:{f:$he},51:{f:ka},60:{},61:{f:Mhe},64:{f:ha},65:{f:Fhe},66:{f:ka},77:{},80:{},81:{},82:{},85:{f:ka},89:{},90:{},91:{},92:{f:khe},93:{f:s0e},94:{},95:{f:ha},96:{},97:{},99:{f:ha},125:{f:tq},128:{f:Yhe},129:{f:Che},130:{f:ka},131:{f:ha},132:{f:ha},133:{f:Phe},134:{},140:{f:d0e},141:{f:ka},144:{},146:{f:p0e},151:{},152:{},153:{},154:{},155:{},156:{f:ka},157:{},158:{},160:{f:x0e},161:{f:g0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Whe},190:{f:Hhe},193:{f:Fu},197:{},198:{},199:{},200:{},201:{},202:{f:ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ka},220:{},221:{f:ha},222:{},224:{f:Khe},225:{f:Nhe},226:{f:Fu},227:{},229:{f:i0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ohe},253:{f:Bhe},255:{f:Ihe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Kz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ha},353:{f:Fu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Qhe},431:{f:ha},432:{},433:{},434:{},437:{},438:{f:c0e},439:{f:ha},440:{f:u0e},441:{},442:{f:ey},443:{},444:{f:ka},445:{},446:{},448:{f:Fu},449:{f:Lhe,r:2},450:{f:Fu},512:{f:BD},513:{f:y0e},515:{f:Xhe},516:{f:Uhe},517:{f:UD},519:{f:b0e},520:{f:jhe},523:{},545:{f:WD},549:{f:$D},566:{},574:{f:Rhe},638:{f:qhe},659:{},1048:{},1054:{f:Vhe},1084:{},1212:{f:t0e},2048:{f:f0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:vx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:m0e,r:12},2173:{f:Wpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:e0e,r:12},2197:{},2198:{f:$pe,r:12},2199:{},2200:{},2201:{},2202:{f:r0e,r:12},2203:{f:Fu},2204:{},2205:{},2206:{},2207:{},2211:{f:Dhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:v0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:h0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:BD},1:{},2:{f:A0e},3:{f:S0e},4:{f:_0e},5:{f:UD},7:{f:T0e},8:{},9:{f:vx},11:{},22:{f:ka},30:{f:zhe},31:{},32:{},33:{f:WD},36:{},37:{f:$D},50:{f:E0e},62:{},52:{},67:{},68:{f:ka},69:{},86:{},126:{},127:{f:w0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:N0e},223:{},234:{},354:{},421:{},518:{f:BS},521:{f:vx},536:{f:qD},547:{f:zD},561:{},579:{},1030:{f:BS},1033:{f:vx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Lz(r)&&e.push(r)}}function r8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Xfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,I=0;b.charAt(0)=="<"&&(I=b.indexOf(">"))>-1;)b=b.slice(I+1);for(var C=0;C<g.length;++C){var j=g[C];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,C=-1)}var T=br(w.slice(0,w.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!b.length){u+=h;continue}if(b=_z(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!b.length){u+=h;continue}var A={t:"s",v:b};r.raw||!b.trim().length||S=="s"||(b==="TRUE"?A={t:"b",v:!0}:b==="FALSE"?A={t:"b",v:!1}:isNaN(gl(b))?isNaN(fp(b).getDate())||(A={t:"d",v:ri(b)},r.cellDates||(A={t:"n",v:hs(A.v)}),A.z=r.dateNF||Or[14]):A={t:"n",v:gl(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[kr({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=Kr(p),g.length&&(n["!merges"]=g),n}function E1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=kr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||Qk(f.w||(Qc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(dde("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var N1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',k1e="</body></html>";function C1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Hf(r8(r[0],t),t);var n=mC();return r.forEach(function(a,i){gC(n,r8(a,t),"Sheet"+(i+1))}),n}function P1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function O1e(e,t){var r=t||{},n=r.header!=null?r.header:N1e,a=r.footer!=null?r.footer:k1e,i=[n],s=Zp(e["!ref"]);r.dense=Array.isArray(e),i.push(P1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(E1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Nq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?os(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Zp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var I=o[g];if(n8(I)){if(n.display)continue;p[m]={hidden:!0}}var C=I.children;for(v=y=0;v<C.length;++v){var j=C[v];if(!(n.display&&n8(j))){var T=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):_z(j.innerHTML),S=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<m+a&&m+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}b=+j.getAttribute("colspan")||1,((w=+j.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(b||1)-1}});var D={t:"s",v:T},E=j.getAttribute("data-t")||j.getAttribute("t")||"";T!=null&&(T.length==0?D.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?D={t:"b",v:!0}:T==="FALSE"?D={t:"b",v:!1}:isNaN(gl(T))?isNaN(fp(T).getDate())||(D={t:"d",v:ri(T)},n.cellDates||(D={t:"n",v:hs(D.v)}),D.z=n.dateNF||Or[14]):D={t:"n",v:gl(T)})),D.z===void 0&&S!=null&&(D.z=S);var N="",P=j.getElementsByTagName("A");if(P&&P.length)for(var V=0;V<P.length&&!(P[V].hasAttribute("href")&&(N=P[V].getAttribute("href"),N.charAt(0)!="#"));++V);N&&N.charAt(0)!="#"&&(D.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=D):e[kr({c:y+i,r:m+a})]=D,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Kr(c),m>=l&&(e["!fullref"]=Kr((c.e.r=o.length-g+m-1+a,c))),e}function kq(e,t){var r=t||{},n=r.dense?[]:{};return Nq(n,e,t)}function I1e(e,t){return Hf(kq(e,t),t)}function n8(e){var t="",r=j1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function j1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function D1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qr(t.replace(/<[^>]*>/g,""));return[r]}var a8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Cq(e,t){var r=t||{},n=Jk(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},w="",b=0,I=[],C=-1,j=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,A={},D=[],E={},N=0,P=0,V=[],X=1,Y=1,J=[],G={Names:[]},q={},ee=["",""],W=[],O={},R="",z=0,H=!1,Z=!1,oe=0;for(zv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=zv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=Kr(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=Kr(T)),D.length&&(g["!merges"]=D),V.length&&(g["!rows"]=V),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,Z=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=br(m[0],!1),C=j=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},D=[],V=[],Z=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"行":if(m[1]==="/"){C+=X,X=1;break}if(f=br(m[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),X=+f["number-rows-repeated"]||1,X<10)for(oe=0;oe<X;++oe)S>0&&(V[C+oe]={level:S});j=-1;break;case"covered-table-cell":m[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[C]||(g[C]=[]),g[C][j]={t:"z"}):g[kr({r:C,c:j})]={t:"z"}),w="",I=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++j,y=br(m[0],!1),Y=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=JD(Qr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Qr(y["string-value"]||""),r.dense?(g[C]||(g[C]=[]),g[C][j]=v):g[kr({r:C,c:j})]=v),j+=Y-1;else if(m[1]!=="/"){++j,w="",b=0,I=[],Y=1;var de=X?C+X-1:C;if(j>T.e.c&&(T.e.c=j),j<T.s.c&&(T.s.c=j),C<T.s.r&&(T.s.r=C),de>T.e.r&&(T.e.r=de),y=br(m[0],!1),W=[],O={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Qr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,P=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:C,c:j},e:{r:C+N-1,c:j+P-1}},v.F=Kr(E),J.push([E,v.F])),y.formula)v.f=JD(y.formula);else for(oe=0;oe<J.length;++oe)C>=J[oe][0].s.r&&C<=J[oe][0].e.r&&j>=J[oe][0].s.c&&j<=J[oe][0].e.c&&(v.F=J[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,P=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:C,c:j},e:{r:C+N-1,c:j+P-1}},D.push(E)),y["number-columns-repeated"]&&(Y=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=qn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=ri(y["date-value"]),r.cellDates||(v.t="n",v.v=hs(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Gfe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=b5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=Qr(y["string-value"]),I=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(H=!1,v.t==="s"&&(v.v=w||"",I.length&&(v.R=I),H=b==0),q.Target&&(v.l=q),W.length>0&&(v.c=W,W=[]),w&&r.cellText!==!1&&(v.w=w),H&&(v.t="z",delete v.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var re=0;re<X;++re){if(Y=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[C+re]||(g[C+re]=[]),g[C+re][j]=re==0?v:yi(v);--Y>0;)g[C+re][j+Y]=yi(v);else for(g[kr({r:C+re,c:j})]=v;--Y>0;)g[kr({r:C+re,c:j+Y})]=yi(v);T.e.c<=j&&(T.e.c=j)}Y=parseInt(y["number-columns-repeated"]||"1",10),j+=Y-1,Y=0,v={},w="",I=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;O.t=w,I.length&&(O.R=I),O.a=R,W.push(O)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",z=0,w="",b=0,I=[];break;case"creator":m[1]==="/"?R=n.slice(z,m.index):z=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",b=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=br(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=br(m[0],!1),l+=a8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=br(m[0],!1),l+=a8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=br(m[0],!1),ee=US(s["cell-range-address"]);var he={Name:s.name,Ref:ee[0]+"!"+ee[1]};Z&&(he.Sheet=p.length),G.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var we=D1e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+we[0]}else br(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=US(br(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(q=br(m[0],!1),!q.href)break;q.Target=Qr(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(ee=US(q.Target.slice(1)),q.Target="#"+ee[0]+"!"+ee[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var B={Sheets:h,SheetNames:p,Workbook:G};return r.bookSheets&&delete B.Sheets,B}function i8(e,t){t=t||{},bo(e,"META-INF/manifest.xml")&&Xde(Na(e,"META-INF/manifest.xml"),t);var r=qs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Cq(Dn(r),t);return bo(e,"meta.xml")&&(n.Props=Vz(Na(e,"meta.xml"))),n}function s8(e,t){return Cq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function OT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dn(mh(e))}function IT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function o8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function L1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Gv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function za(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Vi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Gv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Gv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function dC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function M1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Gv(e,n),i=Vi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:za(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Vi(o.data),c=za(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=za(i[3][0].data)>>>0>0),r.push(s)}return r}function R1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Gv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[IT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=IT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function F1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(R1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return IT(t)}function $1e(e,t,r,n){var a=fC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+o8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=o8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function B1e(e,t,r){var n=fC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=L1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function U1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return $1e(e,t,r,e[0]);case 5:return B1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function wf(e){var t=Vi(e);return Gv(t[1][0].data)}function l8(e,t){var r=Vi(t.data),n=za(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Vi(s.data),l=za(o[1][0].data)>>>0;switch(n){case 1:i[l]=OT(o[3][0].data);break;case 8:{var c=e[wf(o[9][0].data)][0],u=Vi(c.data),f=e[wf(u[1][0].data)][0],h=za(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Vi(f.data);i[l]=p[3].map(function(g){return OT(g.data)}).join("")}break}}),i}function V1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g,m,v=Vi(e),y=za(v[1][0].data)>>>0,w=za(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&za(v[8][0].data)>0||!1,I,C;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)I=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,C=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)I=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,C=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=b?4:1,T=fC(I),S=[],A=0;A<I.length/2;++A){var D=T.getUint16(A*2,!0);D<65535&&S.push([A,D])}if(S.length!=w)throw"Expected ".concat(w," cells, found ").concat(S.length);var E=[];for(A=0;A<S.length-1;++A)E[S[A][0]]=C.subarray(S[A][1]*j,S[A+1][1]*j);return S.length>=1&&(E[S[S.length-1][0]]=C.subarray(S[S.length-1][1]*j)),{R:y,cells:E}}function z1e(e,t){var r,n=Vi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?za(n[7][0].data)>>>0>0?1:0:-1,i=dC(n[5],function(s){return V1e(s,a)});return{nrows:za(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function q1e(e,t,r){var n,a=Vi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(za(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(za(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Kr(i);var s=Vi(a[4][0].data),o=l8(e,e[wf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?l8(e,e[wf(s[17][0].data)][0]):[],c=Vi(s[3][0].data),u=0;c[1].forEach(function(f){var h=Vi(f.data),p=e[wf(h[2][0].data)][0],g=za(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=z1e(e,p);m.data.forEach(function(v,y){v.forEach(function(w,b){var I=kr({r:u+y,c:b}),C=U1e(w,o,l);C&&(r[I]=C)})}),u+=m.nrows})}function W1e(e,t){var r=Vi(t.data),n={"!ref":"A1"},a=e[wf(r[2][0].data)],i=za(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return q1e(e,a[0],n),n}function H1e(e,t){var r,n=Vi(t.data),a={name:(r=n[1])!=null&&r[0]?OT(n[1][0].data):"",sheets:[]},i=dC(n[2],wf);return i.forEach(function(s){e[s].forEach(function(o){var l=za(o.meta[1][0].data);l==6e3&&a.sheets.push(W1e(e,o))})}),a}function G1e(e,t){var r=mC(),n=Vi(t.data),a=dC(n[1],wf);if(a.forEach(function(i){e[i].forEach(function(s){var o=za(s.meta[1][0].data);if(o==2){var l=H1e(e,s);l.sheets.forEach(function(c,u){gC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function zS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=F1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=M1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&za(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=za(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return G1e(i,o)}function K1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function hC(e){K1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Y1e(e){return _0.WS.indexOf(e)>-1?"sheet":e==_0.CS?"chart":e==_0.DS?"dialog":e==_0.MS?"macro":e&&e.length?e:"sheet"}function X1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Y1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Q1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=$g(qs(e,r,!0),t);var h=Na(e,t),p;switch(o){case"sheet":p=n1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=a1e(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var g=hg(p["!drawel"].Target,t),m=ET(g),v=rme(qs(e,g,!0),$g(qs(e,m,!0),g)),y=hg(v,g),w=ET(y);p=Bve(qs(e,y,!0),y,l,$g(qs(e,w,!0),y),c,p);break;case"macro":p=i1e(h,t,a,l,i[n],c,u,f);break;case"dialog":p=s1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&ec(i[n]).forEach(function(I){var C="";if(i[n][I].Type==_0.CMNT){C=hg(i[n][I].Target,t);var j=u1e(Na(e,C,!0),C,l);if(!j||!j.length)return;GD(p,j,!1)}i[n][I].Type==_0.TCMNT&&(C=hg(i[n][I].Target,t),b=b.concat(ame(Na(e,C,!0),l)))}),b&&b.length&&GD(p,b,!0,l.people||[])}catch(I){if(l.WTF)throw I}}function ho(e){return e.charAt(0)=="/"?e.slice(1):e}function J1e(e,t){if(hz(),t=t||{},hC(t),bo(e,"META-INF/manifest.xml")||bo(e,"objectdata.xml"))return i8(e,t);if(bo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof zS<"u"){if(e.FileIndex)return zS(e);var r=Gr.utils.cfb_new();return bD(e).forEach(function(V){Zfe(r,V,Jfe(e,V))}),zS(r)}throw new Error("Unsupported NUMBERS file")}if(!bo(e,"[Content_Types].xml"))throw bo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):bo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=bD(e),a=Kde(qs(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Na(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Na(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Vg=[],a.sst)try{Vg=c1e(Na(e,ho(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=l1e(qs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=o1e(Na(e,ho(a.style)),a.style,l,t))}a.links.map(function(V){try{var X=$g(qs(e,ET(ho(V))),V);return d1e(Na(e,ho(V)),X,V,t)}catch{}});var u=r1e(Na(e,ho(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Na(e,ho(a.coreprops[0]),!0),h&&(f=Vz(h)),a.extprops.length!==0&&(h=Na(e,ho(a.extprops[0]),!0),h&&Zde(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=qs(e,ho(a.custprops[0]),!0),h&&(p=the(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=f1e(Na(e,ho(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var I=u.Sheets;f.Worksheets=I.length,f.SheetNames=[];for(var C=0;C!=I.length;++C)f.SheetNames[C]=I[C].name}var j=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");bo(e,S)||(S="xl/_rels/workbook."+j+".rels");var A=$g(qs(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=h1e(Na(e,ho(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=ime(Na(e,ho(a.people[0])),t)),A&&(A=X1e(A,u.Sheets));var D=Na(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(A&&A[v]?(w="xl/"+A[v][1].replace(/[\/]?xl\//,""),bo(e,w)||(w=A[v][1]),bo(e,w)||(w=S.replace(/_rels\/.*$/,"")+A[v][1]),E=A[v][2]):(w="xl/worksheets/sheet"+(v+1-D)+"."+j,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==v&&(N=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==f.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}Q1e(e,w,b,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Vg,Styles:c,Themes:l,SSF:yi(Or)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(V,X){V=V.replace(/^Root Entry[\/]/,""),g.keys.push(V),g.files[V]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Na(e,ho(a.vba[0]),!0):a.defaults&&a.defaults.bin===cme&&(g.vbaraw=Na(e,"xl/vbaProject.bin",!0))),g}function Z1e(e,t){var r=t||{},n="Workbook",a=Gr.find(e,n);try{if(n="/!DataSpaces/Version",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(W0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=G0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=K0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);X0e(a.content)}catch{}if(n="/EncryptionInfo",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Q0e(a.content);if(n="/EncryptedPackage",a=Gr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function pC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Zs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function eye(e,t){return Gr.find(e,"EncryptedPackage")?Z1e(e,t):Eq(e,t)}function tye(e,t){var r,n=e,a=t||{};return a.type||(a.type=Vr&&Buffer.isBuffer(e)?"buffer":"base64"),r=xz(n,a),J1e(r,a)}function Pq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return CT(e.slice(r),t);default:break e}return qv.to_workbook(e,t)}function rye(e,t){var r="",n=pC(e,t);switch(t.type){case"base64":r=Zs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=rh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dn(r)),t.type="binary",Pq(r,t)}function nye(e,t){var r=e;return t.type=="base64"&&(r=Zs(r)),r=Yu.utils.decode(1200,r.slice(2),"str"),t.type="binary",Pq(r,t)}function aye(e){return e.match(/[^\x00-\x7F]/)?pg(e):e}function qS(e,t,r,n){return n?(r.type="string",qv.to_workbook(e,r)):qv.to_workbook(t,r)}function jT(e,t){tz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return jT(new Uint8Array(e),(r=yi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),R0={},r.dateNF&&(R0.dateNF=r.dateNF),r.type||(r.type=Vr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Vr?"buffer":"binary",n=Wfe(e),typeof Uint8Array<"u"&&!Vr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=aye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=yi(r),r.type="array",jT(Hk(n),r)}switch((a=pC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return eye(Gr.read(n,r),r);break;case 9:if(a[1]<=8)return Eq(n,r);break;case 60:return CT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return I0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return P0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?tye(n,r):qS(e,n,r,i);case 239:return a[3]===60?CT(n,r):qS(e,n,r,i);case 255:if(a[1]===254)return nye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ug.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ug.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return HD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return cpe.to_workbook(n,r);break;case 10:case 13:case 32:return rye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return k0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?HD.to_workbook(n,r):qS(e,n,r,i)}function iye(e,t,r,n,a,i,s,o){var l=xi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Qc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function DT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ca(u);break;case"number":l=ca(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=xi(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var I=c.skipHidden&&e["!cols"]||[],C=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(I[w]||{}).hidden)switch(h[w]=Ba(w),r=v?e[y][w]:e[h[w]+f],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Qc(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(C[y]||{}).hidden){var j=iye(e,l,y,h,n,i,v,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var c8=/"/g;function sye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=xi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Qc(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(c8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(c8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Oq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ca(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Ba(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=sye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function oye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Oq(e,t);return r}function lye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ca(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ba(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=xi(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Iq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?os(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=ca(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){ec(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=m[y],b="z",I="",C=kr({c:o+p,r:s+v+a});c=Kv(i,C),w&&typeof w=="object"&&!(w instanceof Date)?i[C]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=hs(w)),I=n.dateNF||Or[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,I&&(c.z=I)):i[C]=c={t:b,v:w},I&&(c.z=I))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=xi(s);if(a)for(p=0;p<h.length;++p)i[Ba(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Kr(u),i}function cye(e,t){return Iq(null,e,t)}function Kv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=os(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Kv(e,kr(t)):Kv(e,kr({r:t,c:r||0}))}function uye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function mC(){return{SheetNames:[],Sheets:{}}}function gC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Kve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function fye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=uye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function dye(e,t){return e.z=t,e}function jq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function hye(e,t,r){return jq(e,"#"+t,r)}function pye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function mye(e,t,r,n){for(var a=typeof t!="string"?t:ca(t),i=typeof t=="string"?t:Kr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Kv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var gye={encode_col:Ba,encode_row:xi,encode_cell:kr,encode_range:Kr,decode_col:tC,decode_row:eC,split_cell:Nde,decode_cell:os,decode_range:Zp,format_cell:Qc,sheet_add_aoa:Rz,sheet_add_json:Iq,sheet_add_dom:Nq,aoa_to_sheet:em,json_to_sheet:cye,table_to_sheet:kq,table_to_book:I1e,sheet_to_csv:Oq,sheet_to_txt:oye,sheet_to_json:DT,sheet_to_html:O1e,sheet_to_formulae:lye,sheet_to_row_object_array:DT,sheet_get_cell:Kv,book_new:mC,book_append_sheet:gC,book_set_sheet_visibility:fye,cell_set_number_format:dye,cell_set_hyperlink:jq,cell_set_internal_link:hye,cell_add_comment:pye,sheet_set_array_formula:mye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Dq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(eg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var D=C(A);D.chunkSize=parseInt(D.chunkSize),A.step||A.chunk||(D.chunkSize=null),this._handle=new m(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(A,D){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let P=this._config.newline;P||(N=this._config.quoteChar||'"',P=this._handle.guessLineEndings(A,N)),A=[...A.split(P).slice(E)].join(P)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(A))!==void 0&&(A=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+A,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(A-this._baseIndex),this._baseIndex=A),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!D){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(A){T(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:A,finished:!1})}}function f(S){var A;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=j(this._chunkLoaded,this),A.onerror=j(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D,E=this._config.downloadRequestHeaders;for(D in E)A.setRequestHeader(D,E[D])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+N));try{A.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(D){D=A.statusText||D,this._sendError(new Error(D))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var A,D,E=typeof FileReader<"u";this.stream=function(N){this._input=N,D=N.slice||N.webkitSlice||N.mozSlice,E?((A=new FileReader).onload=j(this._chunkLoaded,this),A.onerror=j(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),N=D.call(N,this._start,P)),A.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(S){var A;u.call(this,S=S||{}),this.stream=function(D){return A=D,this._nextChunk()},this._nextChunk=function(){var D,E;if(!this._finished)return D=this._config.chunkSize,A=D?(E=A.substring(0,D),A.substring(D)):(E=A,""),this._finished=!A,this.parseChunk(E)}}function g(S){u.call(this,S=S||{});var A=[],D=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):D=!0},this._streamData=j(function(N){try{A.push(typeof N=="string"?N:N.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(P){this._streamError(P)}},this),this._streamError=j(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=j(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var A,D,E,N,P=Math.pow(2,53),V=-P,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,G=0,q=0,ee=!1,W=!1,O=[],R={data:[],errors:[],meta:{}};function z(de){return S.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function H(){if(R&&E&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),S.skipEmptyLines&&(R.data=R.data.filter(function(we){return!z(we)})),Z()){let we=function(B,Ae){T(S.transformHeader)&&(B=S.transformHeader(B,Ae)),O.push(B)};if(R)if(Array.isArray(R.data[0])){for(var de=0;Z()&&de<R.data.length;de++)R.data[de].forEach(we);R.data.splice(0,1)}else R.data.forEach(we)}function re(we,B){for(var Ae=S.header?{}:[],ve=0;ve<we.length;ve++){var ye=ve,te=we[ve],te=((Pe,Fe)=>(Ve=>(S.dynamicTypingFunction&&S.dynamicTyping[Ve]===void 0&&(S.dynamicTyping[Ve]=S.dynamicTypingFunction(Ve)),(S.dynamicTyping[Ve]||S.dynamicTyping)===!0))(Pe)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((Ve=>{if(X.test(Ve)&&(Ve=parseFloat(Ve),V<Ve&&Ve<P))return 1})(Fe)?parseFloat(Fe):Y.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(ye=S.header?ve>=O.length?"__parsed_extra":O[ve]:ye,te=S.transform?S.transform(te,ye):te);ye==="__parsed_extra"?(Ae[ye]=Ae[ye]||[],Ae[ye].push(te)):Ae[ye]=te}return S.header&&(ve>O.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+O.length+" fields but parsed "+ve,q+B):ve<O.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+O.length+" fields but parsed "+ve,q+B)),Ae}var he;R&&(S.header||S.dynamicTyping||S.transform)&&(he=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(re),he=R.data.length):R.data=re(R.data,0),S.header&&R.meta&&(R.meta.fields=O),q+=he)}function Z(){return S.header&&O.length===0}function oe(de,re,he,we){de={type:de,code:re,message:he},we!==void 0&&(de.row=we),R.errors.push(de)}T(S.step)&&(N=S.step,S.step=function(de){R=de,Z()?H():(H(),R.data.length!==0&&(G+=de.data.length,S.preview&&G>S.preview?D.abort():(R.data=R.data[0],N(R,J))))}),this.parse=function(de,re,he){var we=S.quoteChar||'"',we=(S.newline||(S.newline=this.guessLineEndings(de,we)),E=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(de),R.meta.delimiter=S.delimiter):((we=((B,Ae,ve,ye,te)=>{var Pe,Fe,Ve,rt;te=te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Le=0;Le<te.length;Le++){for(var Ze,De=te[Le],et=0,yt=0,ft=0,wt=(Ve=void 0,new y({comments:ye,delimiter:De,newline:Ae,preview:10}).parse(B)),It=0;It<wt.data.length;It++)ve&&z(wt.data[It])?ft++:(Ze=wt.data[It].length,yt+=Ze,Ve===void 0?Ve=Ze:0<Ze&&(et+=Math.abs(Ze-Ve),Ve=Ze));0<wt.data.length&&(yt/=wt.data.length-ft),(Fe===void 0||et<=Fe)&&(rt===void 0||rt<yt)&&1.99<yt&&(Fe=et,Pe=De,rt=yt)}return{successful:!!(S.delimiter=Pe),bestDelimiter:Pe}})(de,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=we.bestDelimiter:(E=!0,S.delimiter=c.DefaultDelimiter),R.meta.delimiter=S.delimiter),C(S));return S.preview&&S.header&&we.preview++,A=de,D=new y(we),R=D.parse(A,re,he),H(),ee?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,D.abort(),A=T(S.chunk)?"":A.substring(D.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(A,!0)):setTimeout(J.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,D.abort(),R.meta.aborted=!0,T(S.complete)&&S.complete(R),A=""},this.guessLineEndings=function(B,we){B=B.substring(0,1048576);var we=new RegExp(v(we)+"([^]*?)"+v(we),"gm"),he=(B=B.replace(we,"")).split("\r"),we=B.split(`
`),B=1<we.length&&we[0].length<he[0].length;if(he.length===1||B)return`
`;for(var Ae=0,ve=0;ve<he.length;ve++)he[ve][0]===`
`&&Ae++;return Ae>=he.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var A=(S=S||{}).delimiter,D=S.newline,E=S.comments,N=S.step,P=S.preview,V=S.fastMode,X=null,Y=!1,J=S.quoteChar==null?'"':S.quoteChar,G=J;if(S.escapeChar!==void 0&&(G=S.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),E===A)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var q=0,ee=!1;this.parse=function(W,O,R){if(typeof W!="string")throw new Error("Input must be a string");var z=W.length,H=A.length,Z=D.length,oe=E.length,de=T(N),re=[],he=[],we=[],B=q=0;if(!W)return et();if(V||V!==!1&&W.indexOf(J)===-1){for(var Ae=W.split(D),ve=0;ve<Ae.length;ve++){if(we=Ae[ve],q+=we.length,ve!==Ae.length-1)q+=D.length;else if(R)return et();if(!E||we.substring(0,oe)!==E){if(de){if(re=[],rt(we.split(A)),yt(),ee)return et()}else rt(we.split(A));if(P&&P<=ve)return re=re.slice(0,P),et(!0)}}return et()}for(var ye=W.indexOf(A,q),te=W.indexOf(D,q),Pe=new RegExp(v(G)+v(J),"g"),Fe=W.indexOf(J,q);;)if(W[q]===J)for(Fe=q,q++;;){if((Fe=W.indexOf(J,Fe+1))===-1)return R||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:q}),Ze();if(Fe===z-1)return Ze(W.substring(q,Fe).replace(Pe,J));if(J===G&&W[Fe+1]===G)Fe++;else if(J===G||Fe===0||W[Fe-1]!==G){ye!==-1&&ye<Fe+1&&(ye=W.indexOf(A,Fe+1));var Ve=Le((te=te!==-1&&te<Fe+1?W.indexOf(D,Fe+1):te)===-1?ye:Math.min(ye,te));if(W.substr(Fe+1+Ve,H)===A){we.push(W.substring(q,Fe).replace(Pe,J)),W[q=Fe+1+Ve+H]!==J&&(Fe=W.indexOf(J,q)),ye=W.indexOf(A,q),te=W.indexOf(D,q);break}if(Ve=Le(te),W.substring(Fe+1+Ve,Fe+1+Ve+Z)===D){if(we.push(W.substring(q,Fe).replace(Pe,J)),De(Fe+1+Ve+Z),ye=W.indexOf(A,q),Fe=W.indexOf(J,q),de&&(yt(),ee))return et();if(P&&re.length>=P)return et(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:q}),Fe++}}else if(E&&we.length===0&&W.substring(q,q+oe)===E){if(te===-1)return et();q=te+Z,te=W.indexOf(D,q),ye=W.indexOf(A,q)}else if(ye!==-1&&(ye<te||te===-1))we.push(W.substring(q,ye)),q=ye+H,ye=W.indexOf(A,q);else{if(te===-1)break;if(we.push(W.substring(q,te)),De(te+Z),de&&(yt(),ee))return et();if(P&&re.length>=P)return et(!0)}return Ze();function rt(ft){re.push(ft),B=q}function Le(ft){var wt=0;return wt=ft!==-1&&(ft=W.substring(Fe+1,ft))&&ft.trim()===""?ft.length:wt}function Ze(ft){return R||(ft===void 0&&(ft=W.substring(q)),we.push(ft),q=z,rt(we),de&&yt()),et()}function De(ft){q=ft,rt(we),we=[],te=W.indexOf(D,q)}function et(ft){if(S.header&&!O&&re.length&&!Y){var wt=re[0],It=Object.create(null),Dt=new Set(wt);let Et=!1;for(let nt=0;nt<wt.length;nt++){let Jt=wt[nt];if(It[Jt=T(S.transformHeader)?S.transformHeader(Jt,nt):Jt]){let zt,Rr=It[Jt];for(;zt=Jt+"_"+Rr,Rr++,Dt.has(zt););Dt.add(zt),wt[nt]=zt,It[Jt]++,Et=!0,(X=X===null?{}:X)[zt]=Jt}else It[Jt]=1,wt[nt]=Jt;Dt.add(Jt)}Et&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:re,errors:he,meta:{delimiter:A,linebreak:D,aborted:ee,truncated:!!ft,cursor:B+(O||0),renamedHeaders:X}}}function yt(){N(et()),re=[],he=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return q}}function w(S){var A=S.data,D=o[A.workerId],E=!1;if(A.error)D.userError(A.error,A.file);else if(A.results&&A.results.data){var N={abort:function(){E=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(T(D.userStep)){for(var P=0;P<A.results.data.length&&(D.userStep({data:A.results.data[P],errors:A.results.errors,meta:A.results.meta},N),!E);P++);delete A.results}else T(D.userChunk)&&(D.userChunk(A.results,N,A.file),delete A.results)}A.finished&&!E&&b(A.workerId,A.results)}function b(S,A){var D=o[S];T(D.userComplete)&&D.userComplete(A),D.terminate(),delete o[S]}function I(){throw new Error("Not implemented.")}function C(S){if(typeof S!="object"||S===null)return S;var A,D=Array.isArray(S)?[]:{};for(A in S)D[A]=C(S[A]);return D}function j(S,A){return function(){S.apply(A,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,A){var D=(A=A||{}).dynamicTyping||!1;if(T(D)&&(A.dynamicTypingFunction=D,D={}),A.dynamicTyping=D,A.transform=!!T(A.transform)&&A.transform,!A.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(S),D=new(A.download?f:p)(A)):S.readable===!0&&T(S.read)&&T(S.on)?D=new g(A):(n.File&&S instanceof File||S instanceof Object)&&(D=new h(A)),D.stream(S);(D=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,P=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=w,E.id=l++,o[E.id]=E)})()).userStep=A.step,D.userChunk=A.chunk,D.userComplete=A.complete,D.userError=A.error,A.step=T(A.step),A.chunk=T(A.chunk),A.complete=T(A.complete),A.error=T(A.error),delete A.worker,D.postMessage({input:S,config:A,workerId:D.id})},c.unparse=function(S,A){var D=!1,E=!0,N=",",P=`\r
`,V='"',X=V+V,Y=!1,J=null,G=!1,q=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||c.BAD_DELIMITERS.filter(function(O){return A.delimiter.indexOf(O)!==-1}).length||(N=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(D=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Y=A.skipEmptyLines),typeof A.newline=="string"&&(P=A.newline),typeof A.quoteChar=="string"&&(V=A.quoteChar),typeof A.header=="boolean"&&(E=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");J=A.columns}A.escapeChar!==void 0&&(X=A.escapeChar+V),A.escapeFormulae instanceof RegExp?G=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(V),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ee(null,S,Y);if(typeof S[0]=="object")return ee(J||Object.keys(S[0]),S,Y)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||J),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),ee(S.fields||[],S.data||[],Y);throw new Error("Unable to serialize unrecognized input");function ee(O,R,z){var H="",Z=(typeof O=="string"&&(O=JSON.parse(O)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(O)&&0<O.length),oe=!Array.isArray(R[0]);if(Z&&E){for(var de=0;de<O.length;de++)0<de&&(H+=N),H+=W(O[de],de);0<R.length&&(H+=P)}for(var re=0;re<R.length;re++){var he=(Z?O:R[re]).length,we=!1,B=Z?Object.keys(R[re]).length===0:R[re].length===0;if(z&&!Z&&(we=z==="greedy"?R[re].join("").trim()==="":R[re].length===1&&R[re][0].length===0),z==="greedy"&&Z){for(var Ae=[],ve=0;ve<he;ve++){var ye=oe?O[ve]:ve;Ae.push(R[re][ye])}we=Ae.join("").trim()===""}if(!we){for(var te=0;te<he;te++){0<te&&!B&&(H+=N);var Pe=Z&&oe?O[te]:te;H+=W(R[re][Pe],te)}re<R.length-1&&(!z||0<he&&!B)&&(H+=P)}}return H}function W(O,R){var z,H;return O==null?"":O.constructor===Date?JSON.stringify(O).slice(1,25):(H=!1,G&&typeof O=="string"&&G.test(O)&&(O="'"+O,H=!0),z=O.toString().replace(q,X),(H=H||D===!0||typeof D=="function"&&D(O,R)||Array.isArray(D)&&D[R]||((Z,oe)=>{for(var de=0;de<oe.length;de++)if(-1<Z.indexOf(oe[de]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(N)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?V+z+V:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var A=S.config||{},D=[];return this.each(function(P){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)D.push({file:this.files[V],inputElem:this,instanceConfig:a.extend({},A)})}),E(),this;function E(){if(D.length===0)T(S.complete)&&S.complete();else{var P,V,X,Y,J=D[0];if(T(S.before)){var G=S.before(J.file,J.inputElem);if(typeof G=="object"){if(G.action==="abort")return P="AbortError",V=J.file,X=J.inputElem,Y=G.reason,void(T(S.error)&&S.error({name:P},V,X,Y));if(G.action==="skip")return void N();typeof G.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,G.config))}else if(G==="skip")return void N()}var q=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){T(q)&&q(ee,J.file,J.inputElem),N()},c.parse(J.file,J.instanceConfig)}}function N(){D.splice(0,1),E()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Dq);var vye=Dq.exports;const yye=_n(vye),Lq=()=>{const{user:e}=ba(),{isDarkMode:t}=en(),[r,n]=U.useState(!1),[a,i]=U.useState([]),[s,o]=U.useState(!1),[l,c]=U.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=U.useState(null),[h,p]=U.useState(null),[g,m]=U.useState(!1),[v,y]=U.useState(!1),[w,b]=U.useState(null),[I,C]=U.useState(null),[j,T]=U.useState(!1),[S,A]=U.useState(""),[D,E]=U.useState(null),[N,P]=U.useState(null),V=je.useRef(null),[X,Y]=U.useState(null),[J,G]=U.useState(!1),[q,ee]=U.useState([]);U.useEffect(()=>{W(),O()},[]);const W=async B=>{o(!0);try{let Ae;if(B&&B.trim()!==""){const ve=or(mt(Ge,"scannedProducts"),nr("name",">=",B),nr("name","<=",B+""),Ia("name"),lg(100)),ye=or(mt(Ge,"scannedProducts"),nr("barcode",">=",B),nr("barcode","<=",B+""),Ia("barcode"),lg(100)),te=or(mt(Ge,"scannedProducts"),nr("asin",">=",B),nr("asin","<=",B+""),Ia("asin"),lg(100)),[Pe,Fe,Ve]=await Promise.all([lr(ve),lr(ye),lr(te)]),rt=[...Pe.docs,...Fe.docs,...Ve.docs].reduce((Le,Ze)=>(Le.some(De=>De.id===Ze.id)||Le.push(Ze),Le),[]);i(rt.map(Le=>{const Ze=Le.data();return{id:Le.id,name:Ze.name,unit:Ze.unit,asin:Ze.asin||"",barcode:Ze.barcode,createdAt:Ze.createdAt instanceof sr?Ze.createdAt.toDate():new Date(Ze.createdAt)}}))}else{Ae=or(mt(Ge,"scannedProducts"),Ia("createdAt","desc"),lg(100));const ye=(await lr(Ae)).docs.map(te=>{const Pe=te.data();return{id:te.id,name:Pe.name,unit:Pe.unit,asin:Pe.asin||"",barcode:Pe.barcode,createdAt:Pe.createdAt instanceof sr?Pe.createdAt.toDate():new Date(Pe.createdAt)}});i(ye)}}catch{f("Failed to fetch products")}finally{o(!1)}},O=async()=>{try{const B=mt(Ge,"scannedProducts"),Ae=await ok(B);Y(Ae.data().count)}catch{Y(null)}},R=()=>{const B={};a.forEach(ve=>{B[ve.name]||(B[ve.name]=[]),B[ve.name].push(ve)});const Ae=Object.entries(B).filter(([,ve])=>ve.length>1).map(([ve,ye])=>({name:ve,products:ye.sort((te,Pe)=>new Date(Pe.createdAt).getTime()-new Date(te.createdAt).getTime())})).sort((ve,ye)=>ye.products.length-ve.products.length);ee(Ae),G(!0)},z=()=>{G(!1),ee([])},H=B=>{B?(c({name:B.name||"",unit:B.unit||"",asin:B.asin||"",barcode:B.barcode||""}),p(B)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),f(null)},Z=()=>{n(!1),f(null)},oe=B=>{c({...l,[B.target.name]:B.target.value})},de=async B=>{c(Ae=>({...Ae,barcode:B})),m(!1),b(null),y(!0);try{const ve=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${B}`,te=await(await fetch(ve)).json();if(te&&te.items&&te.items.length>0){const Pe=te.items[0];c(Fe=>({...Fe,name:Pe.title||Fe.name,asin:Pe.asin||Pe.amazon_asin||""}))}else b("No product info found for this barcode.")}catch{b("Failed to fetch product info.")}finally{y(!1)}},re=async B=>{if(B.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const Ae=l.name.toUpperCase();if(h){const ve=wr(Ge,"scannedProducts",h.id);if(await En(ve,{name:Ae,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const ye=[];h.name!==Ae&&ye.push(`name from "${h.name}" to "${Ae}"`),h.unit!==l.unit&&ye.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&ye.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&ye.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),ye.length>0&&await hr(mt(Ge,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Ae}": ${ye.join(", ")}`,time:new Date().toISOString()})}}else await hr(mt(Ge,"scannedProducts"),{name:Ae,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:sr.fromDate(new Date)}),e&&await hr(mt(Ge,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Ae}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),W()}catch{f("Failed to save product")}finally{o(!1)}},he=async()=>{if(I){T(!0);try{const B=a.find(Ae=>Ae.id===I);await Ys(wr(Ge,"scannedProducts",I)),e&&B&&await hr(mt(Ge,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${B.name}" with barcode ${B.barcode}`,time:new Date().toISOString()}),C(null),W()}catch{}finally{T(!1)}}},we=async B=>{var ye;const Ae=(ye=B.target.files)==null?void 0:ye[0];if(!Ae)return;let ve=[];try{if(Ae.name.endsWith(".csv")){const te=await Ae.text(),Fe=yye.parse(te,{header:!0}).data;ve=Fe.map(rt=>{var Le,Ze,De,et;return{name:((Le=rt.Description)==null?void 0:Le.toString().trim())||"",unit:((Ze=rt.Unit)==null?void 0:Ze.toString().trim())||"",asin:((De=rt.ASIN)==null?void 0:De.toString().trim())||"",barcode:((et=rt.EAN)==null?void 0:et.toString().trim())||""}}).filter(rt=>rt.name||rt.unit||rt.barcode);const Ve=Fe.length-ve.length;Ve>0&&(console.log(`${Ve} rows skipped (all columns empty).`),P({type:"error",message:`${Ve} rows skipped (all columns empty).`}))}else if(Ae.name.endsWith(".xlsx")){const te=await Ae.arrayBuffer(),Pe=jT(te,{type:"array"}),Fe=Pe.Sheets[Pe.SheetNames[0]],Ve=gye.sheet_to_json(Fe);ve=Ve.map(Le=>{var Ze,De,et,yt;return{name:((Ze=Le.Description)==null?void 0:Ze.toString().trim())||"",unit:((De=Le.Unit)==null?void 0:De.toString().trim())||"",asin:((et=Le.ASIN)==null?void 0:et.toString().trim())||"",barcode:((yt=Le.EAN)==null?void 0:yt.toString().trim())||""}}).filter(Le=>Le.name||Le.unit||Le.barcode);const rt=Ve.length-ve.length;rt>0&&(console.log(`${rt} rows skipped (all columns empty).`),P({type:"error",message:`${rt} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),P({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ve.length===0){console.log("No valid products found in file."),P({type:"error",message:"No valid products found in file."});return}for(const te of ve)await hr(mt(Ge,"scannedProducts"),{name:te.name.toUpperCase(),unit:te.unit,barcode:te.barcode,asin:"",createdAt:sr.fromDate(new Date)});e&&await hr(mt(Ge,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ve.length} products from file "${Ae.name}"`,time:new Date().toISOString()}),P({type:"success",message:`Uploaded ${ve.length} products successfully!`}),console.log(`Uploaded ${ve.length} products successfully!`),W()}catch{console.log("Failed to upload products."),P({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"?d.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):d.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",X!==null?X:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[d.jsx(ut,{variant:"secondary",onClick:()=>W(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:d.jsx(Za,{size:18,className:s?"animate-spin":""})}),d.jsx(ut,{variant:J?"primary":"secondary",onClick:J?z:R,className:"w-full md:w-auto",icon:J?d.jsx(Za,{size:18}):d.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),d.jsx(ut,{icon:d.jsx(OZ,{size:18}),onClick:()=>{var B;return(B=V.current)==null?void 0:B.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),d.jsx("input",{type:"file",accept:".csv,.xlsx",ref:V,onChange:we,style:{display:"none"}}),d.jsx(ut,{icon:d.jsx(us,{size:18}),onClick:()=>H(),className:"w-full md:w-auto",children:"Add Product"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(kt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:S,onChange:B=>{const Ae=B.target.value;A(Ae),W(Ae.toUpperCase())},className:"pl-10",fullWidth:!0}),d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:d.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),d.jsx(an,{isOpen:r,onClose:Z,title:h?"Edit Product":"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:re,className:"space-y-4",children:[d.jsx(kt,{label:"Product Name",name:"name",value:l.name,onChange:oe,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(kt,{label:"Unit",name:"unit",value:l.unit,onChange:oe,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsx(kt,{label:"ASIN",name:"asin",value:l.asin,onChange:oe,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(kt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:oe,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){b(null),y(!0);try{await de(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?d.jsx(as,{size:18,className:"animate-spin text-blue-500"}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),u&&d.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&d.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(as,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),d.jsx(ut,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),d.jsx(hh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:de}),d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:d.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[d.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{border:0,padding:0},children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(as,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&q.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&q.length>0?q.flatMap((B,Ae)=>[d.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:d.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[B.name," - ",B.products.length," duplicates"]})},`header-${B.name}`),...B.products.map((ve,ye)=>d.jsxs(Xn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ae*.1+ye*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(ve),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:ve.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:tr(ve.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:te=>{te.stopPropagation(),H(ve)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(Gs,{size:16})}),d.jsx("button",{onClick:te=>{te.stopPropagation(),C(ve.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&I===ve.id,children:d.jsx(is,{size:16})})]})]},ve.id))]):a.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((B,Ae)=>d.jsxs(Xn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ae*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(B),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:B.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:tr(B.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:ve=>{ve.stopPropagation(),H(B)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(Gs,{size:16})}),d.jsx("button",{onClick:ve=>{ve.stopPropagation(),C(B.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&I===B.id,children:d.jsx(is,{size:16})})]})]},B.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(as,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&q.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&q.length>0?q.map(B=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[B.name," - ",B.products.length," duplicates"]}),B.products.map(Ae=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(Ae),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Ae.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Ae.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Ae.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ut,{variant:"ghost",size:"sm",onClick:ve=>{ve.stopPropagation(),H(Ae)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Gs,{size:16})}),d.jsx(ut,{variant:"ghost",size:"sm",onClick:ve=>{ve.stopPropagation(),C(Ae.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&I===Ae.id,children:d.jsx(is,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ae.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:tr(Ae.createdAt,"MMM d, yyyy, h:mm a")})]})]},Ae.id))]},B.name)):a.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(B=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(B),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:B.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",B.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",B.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ut,{variant:"ghost",size:"sm",onClick:Ae=>{Ae.stopPropagation(),H(B)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Gs,{size:16})}),d.jsx(ut,{variant:"ghost",size:"sm",onClick:Ae=>{Ae.stopPropagation(),C(B.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&I===B.id,children:d.jsx(is,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:tr(B.createdAt,"MMM d, yyyy, h:mm a")})]})]},B.id))}),d.jsx(an,{isOpen:!!I,onClose:()=>C(null),title:"Delete Product",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{children:"Are you sure you want to delete this product?"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ut,{variant:"secondary",onClick:()=>C(null),disabled:j,children:"Cancel"}),d.jsxs(ut,{variant:"danger",onClick:he,isLoading:j,className:"flex items-center justify-center",children:[j&&d.jsx(as,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),d.jsx(an,{isOpen:!!D,onClose:()=>E(null),title:D?D.name:"Product Details",size:"xl",children:D&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.asin||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:tr(D.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&d.jsx(qV,{type:N.type,message:N.message,onClose:()=>P(null)})]})]})},xye=()=>{const{user:e}=ba();if(!e)return null;switch(e.role){case"admin":return d.jsx(pfe,{});case"staff":return d.jsx(Lq,{});default:return null}},zr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=en();return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},bye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ba(),[a,i]=U.useState({name:"",unit:"",barcode:""}),[s,o]=U.useState(null),[l,c]=U.useState(!1),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(null),v=I=>{i({...a,[I.target.name]:I.target.value})},y=async I=>{i(C=>({...C,barcode:I})),f(!1),m(null),p(!0);try{const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${I}`,S=await(await fetch(j)).json();if(S&&S.items&&S.items.length>0){const A=S.items[0];i(D=>({...D,name:A.title||D.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},w=async I=>{if(I.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const C=a.name.toUpperCase();await hr(mt(Ge,"scannedProducts"),{name:C,unit:a.unit,barcode:a.barcode,createdAt:sr.fromDate(new Date)}),n&&await hr(mt(Ge,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${C}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},b=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return d.jsxs(d.Fragment,{children:[d.jsx(an,{isOpen:e,onClose:b,title:"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsx(kt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(kt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(kt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?d.jsx(as,{size:18,className:"animate-spin text-blue-500"}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),s&&d.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&d.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(as,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),d.jsx(ut,{type:"submit",isLoading:l,children:"Add"})]})]})}),d.jsx(hh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},wye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>d.jsx(an,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(a9,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",d.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",d.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ut,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),d.jsx(ut,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),_ye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=en();return d.jsx(an,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(xv,{size:24}),d.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ut,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),d.jsx(ut,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},_f=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},Sye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Aye=e=>_f(e),WS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],Mq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1})=>{const{user:a}=ba(),[i,s]=U.useState({name:"",price:"",unit:"",supplier:WS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:"supply & serve",selectedAsins:[]}),[o,l]=U.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[c,u]=U.useState({}),[f,h]=U.useState(!1),[p,g]=U.useState(!1),[m,v]=U.useState(""),{isDarkMode:y}=en(),[w,b]=U.useState(null),[I,C]=U.useState(!1),[j,T]=U.useState(null),[S,A]=U.useState(!1),[D,E]=U.useState(""),[N,P]=U.useState(!1),[V,X]=U.useState(null),[Y,J]=U.useState(null),[G,q]=U.useState(!1),[ee,W]=U.useState(""),[O,R]=U.useState(!1),[z,H]=U.useState(null),[Z,oe]=U.useState([]),[de,re]=U.useState(!1),[he,we]=U.useState(null),[B,Ae]=U.useState([]),[ve,ye]=U.useState(!1),[te,Pe]=U.useState(null);U.useEffect(()=>{i.storeName==="supply & serve"&&i.fulfillmentType!=="mf"&&s(Ue=>({...Ue,fulfillmentType:"mf"}))},[i.storeName,i.fulfillmentType]);const Fe=Ue=>{const{name:We,value:ot}=Ue.target;if(s(Rt=>({...Rt,[We]:ot})),We==="supplier"&&(A(ot==="other"),ot!=="other"&&E("")),c[We]&&u(Rt=>{const Ee={...Rt};return delete Ee[We],Ee}),We==="barcode"&&ot.length===13&&!I){z&&clearTimeout(z);const Rt=setTimeout(()=>{ot.length===13&&et(ot)},500);H(Rt)}else We==="barcode"&&ot.length!==13&&z&&(clearTimeout(z),H(null))},Ve=(Ue,We,ot)=>{l(Rt=>{const Ee=[...Rt];if(Ee[Ue]={...Ee[Ue],[We]:ot},We==="locationCode"&&(Ee[Ue].shelfNumber="0"),We==="shelfNumber"){const Je=Ee[Ue].locationCode,at=_f(Je).length-1;parseInt(ot)>at&&(Ee[Ue].shelfNumber="0")}return Ee})},rt=()=>{l(Ue=>[...Ue,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Le=Ue=>{l(We=>We.filter((ot,Rt)=>Rt!==Ue))},Ze=async Ue=>{s(ot=>({...ot,barcode:Ue})),b(null),T(null),C(!0);let We=!1;try{const ot=or(mt(Ge,"scannedProducts"),nr("barcode","==",Ue)),Rt=await lr(ot);if(Rt.empty){const Je=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ue}`,Ct=await(await fetch(Je)).json();if(Ct&&Ct.items&&Ct.items.length>0){const At=Ct.items[0],Ht=At.asin||At.amazon_asin||"";if(Ht&&Ht.includes(" ")){const ar=Ht.split(" ").filter(Ar=>Ar.trim());if(ar.length>1){oe(ar),Ae([]),we({name:At.title||"",unit:"",asin:ar[0]}),re(!0),b("Multiple ASINs detected. Please select one or more."),We=!0;return}}s(ar=>({...ar,name:At.title||ar.name,asin:Ht||ar.asin,selectedAsins:Ht?[Ht]:[]})),b("Product name and ASIN auto-filled from external database."),We=!0}else b("No product found for this barcode. Please enter details manually.")}else{const Ee=Rt.docs[0].data(),Je=Ee.asin||"";if(Je&&Je.includes(" ")){const at=Je.split(" ").filter(Ct=>Ct.trim());if(at.length>1){oe(at),Ae([]),we({name:Ee.name||"",unit:Ee.unit||"",asin:at[0]}),re(!0),b("Multiple ASINs detected. Please select one or more."),We=!0;return}}s(at=>({...at,name:Ee.name||at.name,unit:Ee.unit||at.unit,asin:Je||at.asin,selectedAsins:Je?[Je]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),We=!0}}catch{T("Failed to fetch product info."),b("Failed to search for product. Please enter details manually.")}finally{C(!1),!We&&Ue.length===13&&setTimeout(()=>{et(Ue)},100)}},De=async Ue=>{try{const We=or(mt(Ge,"inventory"),nr("barcode","==",Ue),nr("quantity","==",0)),ot=await lr(We);if(!ot.empty){const Rt=ot.docs[0].data();return Pe({hiddenProduct:{...Rt,id:ot.docs[0].id,lastUpdated:Rt.lastUpdated instanceof Date?Rt.lastUpdated:new Date(Rt.lastUpdated)},newProductName:i.name||"New Product"}),ye(!0),!0}return!1}catch(We){return console.error("Error checking for hidden products:",We),!1}},et=async Ue=>{const We=Ue||i.barcode;if(!(!We||I)){T(null),C(!0);try{const ot=or(mt(Ge,"scannedProducts"),nr("barcode","==",We)),Rt=await lr(ot);if(!Rt.empty){const At=Rt.docs[0].data(),Ht=At.asin||"";if(Ht&&Ht.includes(" ")){const ar=Ht.split(" ").filter(Ar=>Ar.trim());if(ar.length>1){oe(ar),Ae([]),we({name:At.name||"",unit:At.unit||"",asin:ar[0]}),re(!0),b("Multiple ASINs detected. Please select one or more."),C(!1);return}}s(ar=>({...ar,name:At.name||ar.name,unit:At.unit||ar.unit,asin:Ht||ar.asin,selectedAsins:Ht?[Ht]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),C(!1);return}const Je=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${We}`,Ct=await(await fetch(Je)).json();if(Ct&&Ct.items&&Ct.items.length>0){const At=Ct.items[0],Ht=At.asin||At.amazon_asin||"";if(Ht&&Ht.includes(" ")){const ar=Ht.split(" ").filter(Ar=>Ar.trim());if(ar.length>1){oe(ar),Ae([]),we({name:At.title||"",unit:"",asin:ar[0]}),re(!0),b("Multiple ASINs detected. Please select one or more."),C(!1);return}}s(ar=>({...ar,name:At.title||ar.name,asin:Ht||ar.asin,selectedAsins:Ht?[Ht]:[]})),b("Product name and ASIN auto-filled from UPC database.")}else T("No product info found for this barcode.")}catch{T("Failed to fetch product info.")}finally{C(!1),await De(We)}}},yt=()=>{const Ue={};return i.name.trim()||(Ue.name="Product name is required"),o.forEach((We,ot)=>{We.quantity?(isNaN(Number(We.quantity))||Number(We.quantity)<0)&&(Ue[`location_${ot}_quantity`]="Quantity must be a positive number"):Ue[`location_${ot}_quantity`]="Quantity is required"}),u(Ue),Object.keys(Ue).length===0},ft=async Ue=>{if(Ue.preventDefault(),yt()){const We=i.supplier||WS[0].value,ot=i.storeName||"supply & serve",Rt=i.selectedAsins.length>0?i.selectedAsins:i.asin?[i.asin]:[],Ee=o.map(at=>({name:i.name,quantity:parseInt(at.quantity),price:(a==null?void 0:a.role)==="admin"?parseFloat(i.price):0,unit:i.unit||null,supplier:We==="other"?D:We,locationCode:at.locationCode,shelfNumber:at.shelfNumber,asin:Rt.length>0?Rt.join(", "):null,status:i.status,damagedItems:parseInt(i.damagedItems),barcode:i.barcode||null,fulfillmentType:i.fulfillmentType,lastUpdated:new Date,storeName:ot==="other"?m:ot})),Je=Ee.find(at=>r.some(Ct=>Ct.name.trim().toLowerCase()===at.name.trim().toLowerCase()&&(Ct.barcode||"")===(at.barcode||"")&&Ct.locationCode===at.locationCode&&Ct.shelfNumber===at.shelfNumber));if(Je){J({name:Je.name,location:`${Je.locationCode}-${Je.shelfNumber}`}),X(Ee),P(!0);return}try{await e(Ee)}catch(at){console.error("Error adding stock:",at)}}},wt=async()=>{if(V){try{await e(V)}catch(Ue){console.error("Error adding stock:",Ue)}P(!1),X(null),J(null)}},It=()=>{P(!1),X(null),J(null)},Dt=()=>{R(!0)},Et=()=>{W("Product has been successfully added to the database!"),q(!0)},nt=Ue=>{he&&(s(We=>({...We,name:he.name||We.name,unit:he.unit||We.unit,asin:Ue.join(", "),selectedAsins:Ue})),b(`Product info and ${Ue.length} selected ASIN(s) auto-filled.`)),re(!1),oe([]),we(null),Ae([])},Jt=()=>{re(!1),oe([]),we(null),Ae([]),b("ASIN selection cancelled. Please enter details manually.")},zt=Ue=>{Ae(We=>We.includes(Ue)?We.filter(Rt=>Rt!==Ue):[...We,Ue])},Rr=(Ue,We)=>{o.length>0&&l(ot=>{const Rt=[...ot];return Rt[0]={...Rt[0],locationCode:Ue,shelfNumber:We},Rt}),ye(!1),Pe(null)},Ne=()=>{ye(!1),Pe(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Product Name",name:"name",value:i.name,onChange:Fe,error:c.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx("div",{children:d.jsx(zr,{label:"Supplier",name:"supplier",value:i.supplier,onChange:Fe,options:WS,required:!0,fullWidth:!0})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a==null?void 0:a.role)==="admin"&&d.jsx(kt,{label:"Price",name:"price",type:"number",value:i.price,onChange:Fe,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!S&&d.jsx(kt,{label:"Unit (Optional)",name:"unit",value:i.unit,onChange:Fe,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),S&&d.jsx(kt,{label:"Other Supplier",value:D,onChange:Ue=>E(Ue.target.value),placeholder:"Enter supplier name",required:S,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S&&d.jsx(kt,{label:"Unit (Optional)",name:"unit",value:i.unit,onChange:Fe,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),d.jsx(ut,{type:"button",onClick:rt,variant:"primary",icon:d.jsx(us,{size:18}),children:"Add Location"})]}),o.map((Ue,We)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsx(zr,{label:"Location Code",value:Ue.locationCode,onChange:ot=>Ve(We,"locationCode",ot.target.value),options:Sye,required:!0,fullWidth:!0}),d.jsx(zr,{label:"Shelf Number",value:Ue.shelfNumber,onChange:ot=>Ve(We,"shelfNumber",ot.target.value),options:Aye(Ue.locationCode),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Quantity",type:"number",value:Ue.quantity,onChange:ot=>Ve(We,"quantity",ot.target.value),error:c[`location_${We}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),o.length>1&&d.jsx(ut,{type:"button",onClick:()=>Le(We),variant:"danger",icon:d.jsx(is,{size:18}),children:"Remove"})]},We))]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(zr,{label:"Fulfillment Type",name:"fulfillmentType",value:i.fulfillmentType,onChange:Fe,options:i.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(a==null?void 0:a.role)==="admin"?d.jsx(zr,{label:"Status",name:"status",value:i.status,onChange:Fe,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(kt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(kt,{label:"Barcode",name:"barcode",value:i.barcode||"",onChange:Fe,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>et(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:I,children:I?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),d.jsx(kt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:i.asin,onChange:Fe,placeholder:"Enter Amazon ASIN",fullWidth:!0}),j&&d.jsxs("div",{className:"text-red-500 text-sm",children:[j," Please enter details manually."]}),w&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:w})]}),!n&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx("div",{children:d.jsx(zr,{label:"Store Name",value:i.storeName,onChange:Ue=>{const We=Ue.target.value;s(ot=>({...ot,storeName:We,fulfillmentType:We==="supply & serve"?"mf":ot.fulfillmentType})),g(We==="other"),We!=="other"&&v("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"Fahiz"},{value:"other",label:"Other"}]})})}),p&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${y?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(kt,{type:"text",value:m,onChange:Ue=>v(Ue.target.value),placeholder:"Enter store name",required:p})]})}),d.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ut,{type:"button",onClick:Dt,variant:"primary",icon:d.jsx(us,{size:18}),children:"Add New Product"}),d.jsx(ut,{type:"submit",isLoading:t,variant:"success",icon:d.jsx(us,{size:18}),children:"Confirm"})]})})]}),d.jsx(hh,{isOpen:f,onClose:()=>h(!1),onBarcodeScanned:Ze}),d.jsx(bye,{isOpen:O,onClose:()=>R(!1),onSuccess:Et}),d.jsx(_ye,{isOpen:N,onClose:It,onConfirm:wt,title:"Duplicate Stock Detected",message:Y?`A product with the same name and barcode already exists at location ${Y.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),d.jsx(an,{isOpen:G,onClose:()=>q(!1),title:"Success!",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[d.jsx(yO,{size:24}),d.jsx("p",{className:y?"text-slate-200":"text-slate-700",children:ee})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ut,{variant:"primary",onClick:()=>q(!1),children:"OK"})})]})}),d.jsx(an,{isOpen:de,onClose:Jt,title:"Multiple ASINs Detected",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:y?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),d.jsx("div",{className:"space-y-3",children:Z.map((Ue,We)=>d.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${B.includes(Ue)?y?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":y?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>zt(Ue),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`font-mono text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Ue}),d.jsxs("div",{className:"flex items-center gap-2",children:[B.includes(Ue)&&d.jsx(yO,{size:16,className:"text-blue-500"}),d.jsxs("span",{className:`text-xs ${y?"text-slate-400":"text-slate-500"}`,children:["ASIN ",We+1]})]})]})},We))}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("div",{className:"text-sm text-slate-500",children:B.length>0?`${B.length} ASIN(s) selected`:"No ASINs selected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ut,{variant:"secondary",onClick:Jt,children:"Cancel"}),d.jsx(ut,{variant:"primary",onClick:()=>nt(B),disabled:B.length===0,children:"Confirm Selection"})]})]})]})}),(te==null?void 0:te.hiddenProduct)&&d.jsx(wye,{isOpen:ve,onClose:()=>ye(!1),onUseLocation:Rr,onManualLocation:Ne,hiddenProduct:te.hiddenProduct,newProductName:te.newProductName||"New Product"})]})},Tye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Eye=e=>_f(e),Nye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],u8=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],Rq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=en(),{user:a}=ba(),[i,s]=U.useState(null),o=e.storeName,l=o&&!Nye.includes(o),c=u8.some(N=>N.value===(e.supplier||"")),u=c?e.supplier||"":"other",f=c?"":e.supplier||"",[h,p]=U.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:u,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(l?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:l?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[g,m]=U.useState(l),[v,y]=U.useState(l?o:""),[w,b]=U.useState(u==="other"),[I,C]=U.useState(f),[j,T]=U.useState(!1);U.useEffect(()=>{h.storeName==="supply & serve"&&h.fulfillmentType!=="mf"&&p(N=>({...N,fulfillmentType:"mf"}))},[h.storeName,h.fulfillmentType]);const S=N=>{const{name:P,value:V}=N.target;if(P==="damagedItems"){const X=Number(V),Y=Number(h.quantity);if(X<0){s("Damaged items cannot be negative");return}s(null),p(J=>({...J,damagedItems:V,quantity:(Y-(X-Number(J.damagedItems))).toString()}));return}P==="supplier"&&(b(V==="other"),V!=="other"&&C("")),p(X=>({...X,[P]:V}))},A=N=>{p(P=>({...P,barcode:N})),T(!1)},D=async N=>{if(N.preventDefault(),E())try{const P={id:e.id,name:h.name,quantity:parseInt(h.quantity),price:(a==null?void 0:a.role)==="admin"?parseFloat(h.price):e.price,unit:h.unit||null,supplier:h.supplier==="other"?I:h.supplier||null,locationCode:h.locationCode,shelfNumber:h.shelfNumber,asin:h.asin||null,status:(a==null?void 0:a.role)==="admin"?h.status:"pending",damagedItems:parseInt(h.damagedItems),fulfillmentType:h.fulfillmentType,lastUpdated:new Date,storeName:h.storeName==="other"?v:h.storeName,barcode:h.barcode||null};await t(P,e)}catch(P){console.error("Error updating stock:",P),s("Failed to update stock. Please try again.")}},E=()=>h.name.trim()?!h.quantity||parseInt(h.quantity)<0?(s("Quantity must be a positive number"),!1):(a==null?void 0:a.role)==="admin"&&(!h.price||parseFloat(h.price)<0)?(s("Price must be a positive number"),!1):!h.locationCode||!h.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Product Name",name:"name",value:h.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"?d.jsx(zr,{label:"Status",name:"status",value:h.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(kt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Quantity",name:"quantity",type:"number",value:h.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"&&d.jsx(kt,{label:"Price",name:"price",type:"number",value:h.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),d.jsx(kt,{label:"Unit (Optional)",name:"unit",value:h.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),d.jsx(zr,{label:"Fulfillment Type",name:"fulfillmentType",value:h.fulfillmentType,onChange:S,options:h.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(zr,{label:"Location Code",name:"locationCode",value:h.locationCode,onChange:S,options:Tye,required:!0,fullWidth:!0}),d.jsx(zr,{label:"Shelf Number",name:"shelfNumber",value:h.shelfNumber,onChange:S,options:Eye(h.locationCode),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(kt,{label:"Barcode",name:"barcode",value:h.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>T(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:18,className:"text-blue-500"})})]}),d.jsx(kt,{label:"ASIN",name:"asin",value:h.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(zr,{label:"Supplier",name:"supplier",value:h.supplier,onChange:S,options:u8,required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),d.jsx(zr,{value:h.storeName,onChange:N=>{const P=N.target.value;p(V=>({...V,storeName:P,fulfillmentType:P==="supply & serve"?"mf":V.fulfillmentType})),m(P==="other"),P!=="other"&&y("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"Fahiz"},{value:"other",label:"Other"}]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&d.jsx(kt,{label:"Other Supplier",value:I,onChange:N=>C(N.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),g&&!w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(kt,{type:"text",value:v,onChange:N=>y(N.target.value),placeholder:"Enter store name",required:g})]}),g&&w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(kt,{type:"text",value:v,onChange:N=>y(N.target.value),placeholder:"Enter store name",required:g})]}),d.jsxs("div",{children:[d.jsx(kt,{label:"Damaged Items",name:"damagedItems",type:"number",value:h.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ut,{type:"submit",isLoading:r,icon:d.jsx(us,{size:18}),children:"Update Product"})}),d.jsx(hh,{isOpen:j,onClose:()=>T(!1),onBarcodeScanned:A})]})},kye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Fq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=U.useState([]),[i,s]=U.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=U.useState({}),[c,u]=U.useState(!1),[f,h]=U.useState(null),[p,g]=U.useState(!1),[m,v]=U.useState(null),y=U.useRef(null);U.useEffect(()=>{a(_f(i.locationCode))},[]),U.useEffect(()=>{a(_f(i.locationCode));const S=_f(i.locationCode).length-1;parseInt(i.shelfNumber)>S&&s(A=>({...A,shelfNumber:"0"}))},[i.locationCode]);const w=S=>{const{name:A,value:D}=S.target;s(E=>({...E,[A]:D})),o[A]&&l(E=>{const N={...E};return delete N[A],N}),A==="barcode"&&D.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{D.length===13&&C(D)},500)):A==="barcode"&&D.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},b=()=>{u(!0)},I=async S=>{s(D=>({...D,barcode:S})),h(null),v(null),g(!0);let A=!1;try{const D=or(mt(Ge,"scannedProducts"),nr("barcode","==",S)),E=await lr(D);if(E.empty){const P=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,X=await(await fetch(P)).json();if(X&&X.items&&X.items.length>0){const Y=X.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database."),A=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=E.docs[0].data();s(P=>({...P,name:N.name||P.name})),h("Product name auto-filled from scanned products."),A=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!A&&S.length===13&&setTimeout(()=>{C(S)},100)}},C=async S=>{const A=S||i.barcode;if(!(!A||p)){v(null),g(!0);try{const D=or(mt(Ge,"scannedProducts"),nr("barcode","==",A)),E=await lr(D);if(E.empty){const P=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${A}`,X=await(await fetch(P)).json();if(X&&X.items&&X.items.length>0){const Y=X.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=E.docs[0].data();s(P=>({...P,name:N.name||P.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},j=()=>{const S={};return i.name.trim()||(S.name="Product name is required"),i.locationCode||(S.locationCode="Location is required"),i.shelfNumber||(S.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(S.quantity="Quantity must be greater than 0"),l(S),Object.keys(S).length===0},T=async S=>{if(S.preventDefault(),!j())return;const A={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([A]),t()}catch(D){console.error("Error adding stock:",D)}};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsx(kt,{label:"Product Name",name:"name",value:i.name,onChange:w,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(zr,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:w,options:kye,error:o.locationCode,required:!0,fullWidth:!0}),d.jsx(zr,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:w,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(kt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:w,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await C()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),m&&d.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),p&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),d.jsx(kt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:w,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ut,{type:"submit",isLoading:r,icon:d.jsx(us,{size:18}),children:"Quick Add"}),d.jsx(ut,{type:"button",onClick:b,variant:"primary",icon:d.jsx(zc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),d.jsx(hh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:I})]})},A5=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=en(),{user:a}=ba();return r?d.jsx(an,{isOpen:e,onClose:t,title:r.name,size:"xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),d.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),d.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>d.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:tr(r.lastUpdated,"MMM d, yyyy")})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),d.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),d.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),d.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[d.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),d.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"Critical: <10"}),d.jsx("span",{children:"Low: 10-25"}),d.jsx("span",{children:"25+"})]})]})]})}):null},hp=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=en();return d.jsx(an,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(xv,{size:24}),d.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ut,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),d.jsx(ut,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},$q=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return d.jsx(an,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(xv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",d.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),d.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>d.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&d.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",d.jsx("strong",{children:l})," to this location?"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ut,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&d.jsx(ut,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),d.jsx(ut,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Cye=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState("name"),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(!1),[v,y]=U.useState(!1),[w,b]=U.useState(!1),[I,C]=U.useState(null),[j,T]=U.useState([]),[S,A]=U.useState(new Set),[D,E]=U.useState(!1),{showToast:N}=rc(),{isDarkMode:P}=en(),{user:V}=ba(),[X,Y]=U.useState(!1),[J,G]=U.useState(null),[q,ee]=U.useState(!1),[W,O]=U.useState(!1),[R,z]=U.useState(null),[H,Z]=U.useState(null),[oe,de]=U.useState(null),[re,he]=U.useState(!1),[we,B]=U.useState("all"),[Ae,ve]=U.useState(!1),[ye,te]=U.useState(null);U.useEffect(()=>{const Ee=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ee)}},[e]),U.useEffect(()=>{const Ee=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ee)}},[a]);const Pe=U.useCallback(async()=>{b(!0);try{const Ee=or(mt(Ge,"inventory"),Ia("name")),at=(await lr(Ee)).docs.map(Ct=>{const At=Ct.data();return{id:Ct.id,...At,lastUpdated:At.lastUpdated instanceof sr?At.lastUpdated.toDate():new Date(At.lastUpdated)}});T(at)}catch(Ee){console.error("Error fetching stock items:",Ee),N("Failed to fetch stock items","error")}finally{b(!1)}},[N]),Fe=U.useCallback(async()=>{try{const Ee=mt(Ge,"inventory"),Je=await ok(Ee);te(Je.data().count)}catch{te(null)}},[]);U.useEffect(()=>{Pe(),Fe()},[Pe,Fe]),U.useEffect(()=>{const Ee=Je=>{const at=Je.target;at.closest(".store-filter-dropdown")||he(!1),at.closest(".status-filter-dropdown")||ve(!1)};return(re||Ae)&&document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[re,Ae]);const Ve=U.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),rt=U.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),Le=U.useMemo(()=>{const Ee=r.toLowerCase(),Je=s.toLowerCase();return j.filter(at=>{if(at.quantity===0)return!1;const Ct=r===""||at.name.toLowerCase().startsWith(Ee),At=s===""||at.barcode&&at.barcode.toLowerCase().includes(Je)||at.asin&&at.asin.split(",").some(Ar=>Ar.trim().toLowerCase().includes(Je)),Ht=oe?oe.storeName==="other"?!rt.includes(at.storeName)&&at.fulfillmentType===oe.fulfillmentType:at.storeName===oe.storeName&&at.fulfillmentType===oe.fulfillmentType:!0,ar=we==="all"||at.status===we;return Ct&&At&&Ht&&ar}).sort((at,Ct)=>l==="name"?at.name.localeCompare(Ct.name):l==="quantity"?Ct.quantity-at.quantity:l==="price"?Ct.price-at.price:l==="date"?new Date(Ct.lastUpdated).getTime()-new Date(at.lastUpdated).getTime():0)},[j,r,s,oe,we,l,rt]),Ze=U.useCallback((Ee,Je)=>j.filter(at=>at.locationCode===Ee&&at.shelfNumber===Je),[j]),De=U.useCallback(async Ee=>{b(!0);try{const Je=[];for(const at of Ee)if(at.barcode){const Ct=or(mt(Ge,"inventory"),nr("barcode","==",at.barcode),nr("quantity","==",0)),At=await lr(Ct);if(!At.empty){const Ht=At.docs[0];if(await Ys(wr(Ge,"inventory",Ht.id)),T(ar=>ar.filter(Ar=>Ar.id!==Ht.id)),V){const ar=Ht.data();await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${ar.name}" with barcode ${at.barcode} from location ${ar.locationCode}-${ar.shelfNumber}`,time:new Date().toISOString()})}}}for(const at of Ee){const Ct=await hr(mt(Ge,"inventory"),{...at,lastUpdated:sr.fromDate(new Date)});Je.push({...at,id:Ct.id,lastUpdated:new Date})}if(V){const at=Ee.reduce((At,Ht)=>At+Ht.quantity,0),Ct=Ee.map(At=>`${At.quantity} at ${At.locationCode}-${At.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${Ee[0].name}" with total quantity ${at} (${Ct})`,time:new Date().toISOString()})}T(at=>[...at,...Je]),f(!1),ee(!1),N("Stock items added successfully","success")}catch(Je){console.error("Error adding stock:",Je),N("Failed to add stock items","error")}finally{b(!1)}},[V,N]),et=U.useCallback(async Ee=>{const Je=[];for(const at of Ee){const Ct=Ze(at.locationCode,at.shelfNumber);Ct.length>0&&Je.push({locationCode:at.locationCode,shelfNumber:at.shelfNumber,products:Ct})}if(Je.length>0){const at=Je[0];Z({locationCode:at.locationCode,shelfNumber:at.shelfNumber,existingProducts:at.products,newProductName:Ee[0].name,newProductBarcode:Ee[0].barcode||void 0}),z(Ee),O(!0);return}await De(Ee)},[Ze,De]),yt=U.useCallback(async()=>{R&&(await De(R),O(!1),z(null),Z(null),f(!1),ee(!1))},[R,De]),ft=U.useCallback(()=>{O(!1),z(null),Z(null),f(!1),ee(!1)},[]),wt=U.useCallback(async()=>{if(R&&H)try{b(!0);const Ee=H.existingProducts.find(Je=>Je.barcode===H.newProductBarcode);if(Ee){const Je=Ee.quantity+R[0].quantity,at=wr(Ge,"inventory",Ee.id);await En(at,{quantity:Je,lastUpdated:sr.fromDate(new Date)}),V&&(await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Ee.name}" at location ${H.locationCode}-${H.shelfNumber}`,time:new Date().toISOString()}),await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": quantity from ${Ee.quantity} to ${Je}`,time:new Date().toISOString()})),await Pe(),N("Products merged successfully","success")}}catch(Ee){console.error("Error merging products:",Ee),N("Failed to merge products","error")}finally{b(!1),O(!1),z(null),Z(null),f(!1),ee(!1)}},[R,H,V,Pe,N]),It=U.useCallback(async(Ee,Je)=>{b(!0);try{const at=new Date,Ct={},At=[];if(Ee.name!==Je.name&&(Ct.name=Ee.name,At.push(`name from "${Je.name}" to "${Ee.name}"`)),Ee.price!==Je.price){Ct.price=Ee.price;const Ht=Number(Je.price||0).toFixed(2),ar=Number(Ee.price||0).toFixed(2);At.push(`price from £${Ht} to £${ar}`)}if((Ee.locationCode!==Je.locationCode||Ee.shelfNumber!==Je.shelfNumber)&&(Ct.locationCode=Ee.locationCode,Ct.shelfNumber=Ee.shelfNumber,At.push(`location from ${Je.locationCode}-${Je.shelfNumber} to ${Ee.locationCode}-${Ee.shelfNumber}`)),Ee.supplier!==Je.supplier&&(Ct.supplier=Ee.supplier,At.push(`supplier from "${Je.supplier||"none"}" to "${Ee.supplier||"none"}"`)),Ee.asin!==Je.asin&&(Ct.asin=Ee.asin,At.push(`ASIN from "${Je.asin||"none"}" to "${Ee.asin||"none"}"`)),Ee.status!==Je.status&&(Ct.status=Ee.status,At.push(`status from "${Je.status}" to "${Ee.status}"`)),Ee.damagedItems!==Je.damagedItems&&(Ct.damagedItems=Ee.damagedItems,At.push(`damaged items from ${Je.damagedItems} to ${Ee.damagedItems}`)),Ee.fulfillmentType!==Je.fulfillmentType&&(Ct.fulfillmentType=Ee.fulfillmentType,At.push(`fulfillment type from "${Je.fulfillmentType.toUpperCase()}" to "${Ee.fulfillmentType.toUpperCase()}"`)),Ee.storeName!==Je.storeName&&(Ct.storeName=Ee.storeName,At.push(`store name from "${Je.storeName}" to "${Ee.storeName}"`)),Ee.unit!==Je.unit&&(Ct.unit=Ee.unit,At.push(`unit from "${Je.unit||"none"}" to "${Ee.unit||"none"}"`)),Ee.barcode!==Je.barcode&&(Ct.barcode=Ee.barcode,At.push(`barcode from "${Je.barcode||"none"}" to "${Ee.barcode||"none"}"`)),Object.keys(Ct).length>0){const Ht=wr(Ge,"inventory",Ee.id);await En(Ht,{...Ct,lastUpdated:sr.fromDate(at)}),V&&At.length>0&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": ${At.join(", ")}`,time:at.toISOString()});const ar=j.map(Ar=>Ar.id===Ee.id?{...Ar,...Ct,lastUpdated:at}:Ar);T(ar),N("Stock details updated successfully","success"),p(!1),C(null)}if(Ee.quantity>Je.quantity)G({itemId:Ee.id,newQuantity:Ee.quantity}),Y(!0),p(!1);else if(Ee.quantity!==Je.quantity){const Ht=wr(Ge,"inventory",Ee.id);await En(Ht,{quantity:Ee.quantity,lastUpdated:sr.fromDate(at)}),V&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": quantity from ${Je.quantity} to ${Ee.quantity}`,time:at.toISOString()});const ar=j.map(Ar=>Ar.id===Ee.id?{...Ar,quantity:Ee.quantity,lastUpdated:at}:Ar);T(ar),N("Stock quantity updated","success"),p(!1),C(null)}else p(!1),C(null)}catch(at){console.error("Error updating stock:",at),N("Failed to update stock item","error")}finally{b(!1)}},[j,V,N]),Dt=U.useCallback(async()=>{if(J){b(!0);try{const{itemId:Ee,newQuantity:Je}=J,at=new Date,Ct=j.find(ar=>ar.id===Ee),At=wr(Ge,"inventory",Ee);await En(At,{quantity:Je,lastUpdated:sr.fromDate(at)}),V&&Ct&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ct.name}": quantity from ${Ct.quantity} to ${Je}`,time:at.toISOString()});const Ht=j.map(ar=>ar.id===Ee?{...ar,quantity:Je,lastUpdated:at}:ar);T(Ht),N("Stock quantity updated successfully","success"),C(null)}catch(Ee){console.error("Error updating quantity:",Ee),N("Failed to update quantity","error")}finally{b(!1),Y(!1),G(null)}}},[J,j,V,N]),Et=U.useCallback(async Ee=>{b(!0);try{const Je=j.find(at=>at.id===Ee);await Ys(wr(Ge,"inventory",Ee)),V&&Je&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${Je.name}" (${Je.quantity} units) from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(at=>at.id!==Ee)),m(!1),C(null),N("Stock item deleted successfully","success")}catch(Je){console.error("Error deleting stock:",Je),N("Failed to delete stock item","error")}finally{b(!1)}},[j,V,N]),nt=U.useCallback(Ee=>{C(Ee)},[]),Jt=U.useCallback((Ee,Je)=>{Ee.stopPropagation(),C(Je),p(!0)},[]),zt=U.useCallback((Ee,Je)=>{Ee.stopPropagation(),C(Je),m(!0)},[]),Rr=U.useCallback(()=>{S.size===Le.length?A(new Set):A(new Set(Le.map(Ee=>Ee.id)))},[Le,S.size]),Ne=U.useCallback(Ee=>{const Je=new Set(S);Je.has(Ee)?Je.delete(Ee):Je.add(Ee),A(Je)},[S]),Ue=U.useCallback(async()=>{if(S.size!==0){b(!0);try{const Ee=j.filter(at=>S.has(at.id)),Je=Array.from(S).map(at=>Ys(wr(Ge,"inventory",at)));if(await Promise.all(Je),V){const at=Ee.map(Ct=>`"${Ct.name}" (${Ct.quantity} units) from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${at}`,time:new Date().toISOString()})}T(j.filter(at=>!S.has(at.id))),A(new Set),E(!1),y(!1),N(`Successfully deleted ${S.size} items`,"success")}catch(Ee){console.error("Error deleting items:",Ee),N("Failed to delete selected items","error")}finally{b(!1)}}},[I,j,V,N]),We=U.useCallback(async()=>{if(S.size!==0){b(!0);try{const Ee=j.filter(at=>S.has(at.id)&&at.status==="pending");if(Ee.length===0){N("No pending items selected to activate","error");return}const Je=Ee.map(at=>En(wr(Ge,"inventory",at.id),{status:"active",lastUpdated:sr.fromDate(new Date)}));if(await Promise.all(Je),V){const at=Ee.map(Ct=>`"${Ct.name}" from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${Ee.length} pending products: ${at}`,time:new Date().toISOString()})}T(j.map(at=>S.has(at.id)&&at.status==="pending"?{...at,status:"active",lastUpdated:new Date}:at)),A(new Set),E(!1),N(`Successfully activated ${Ee.length} items`,"success")}catch(Ee){console.error("Error activating items:",Ee),N("Failed to activate selected items","error")}finally{b(!1)}}},[I,j,V,N]),ot=U.useCallback(()=>{E(!D),D||A(new Set)},[D]),Rt=U.useCallback(({item:Ee})=>d.jsxs("tr",{className:`hover:${P?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>nt(Ee),children:[D&&d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,onClick:Je=>Je.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:S.has(Ee.id),onChange:()=>Ne(Ee.id),className:`h-4 w-4 text-blue-600 rounded ${P?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-blue-400":"text-blue-700"} font-medium`,children:Ee.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:Ee.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:[Ee.locationCode," - ",Ee.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:Ee.asin?Ee.asin.split(",").length>3?Ee.asin.split(",").slice(0,3).map(Je=>Je.trim()).join(", ")+"...":Ee.asin.split(",").map(Je=>Je.trim()).join(", "):"-"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${P?"text-slate-200":"text-slate-900"}`,children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${P?"text-slate-200":"text-slate-900"}`,children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ee.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ee.quantity>10&&Ee.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ee.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:tr(new Date(Ee.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:Je=>Jt(Je,Ee),className:`p-1 ${P?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(Gs,{size:16})}),d.jsx("button",{onClick:Je=>zt(Je,Ee),className:`p-1 ${P?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(is,{size:16})})]})})]},Ee.id),[D,S,P,V,nt,Ne,Jt,zt]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${P?"text-white":"text-gray-900"}`,children:"Inbound"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${P?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",ye!==null?ye:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${P?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?d.jsxs(d.Fragment,{children:[we==="pending"&&d.jsxs(ut,{onClick:We,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[d.jsx(s9,{size:16}),"Go Live (",S.size,")"]}),d.jsxs(ut,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[d.jsx(is,{size:16}),"Delete Selected (",S.size,")"]}),d.jsx(ut,{onClick:ot,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(ut,{onClick:ot,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Zx,{size:16}),"Select Items"]}),d.jsxs(ut,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(us,{size:16}),"Quick Add"]}),d.jsxs(ut,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(us,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(kt,{type:"text",placeholder:"Search by product name",value:e,onChange:Ee=>t(Ee.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(kt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ee=>i(Ee.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(zr,{value:l,onChange:Ee=>c(Ee.target.value),options:Ve})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>ve(!Ae),className:`flex items-center gap-2 ${we!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[we==="all"?"Status Filter":we==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),Ae&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${P?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${we==="all"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("all"),ve(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${we==="active"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("active"),ve(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${we==="pending"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("pending"),ve(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${P?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{B("all"),ve(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>he(!re),className:`flex items-center gap-2 ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[oe?`${oe.storeName==="other"?"Other":oe.storeName} - ${oe.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(qc,{size:16})]}),re&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${P?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ee=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee?P?"bg-slate-700":"bg-slate-100":""}`,children:Ee}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[Ee!=="supply & serve"&&d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee&&(oe==null?void 0:oe.fulfillmentType)==="fba"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{de({storeName:Ee,fulfillmentType:"fba"}),he(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee&&(oe==null?void 0:oe.fulfillmentType)==="mf"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{de({storeName:Ee,fulfillmentType:"mf"}),he(!1)},children:"MF"})]})]},Ee)),d.jsx("div",{className:`border-t ${P?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{de(null),he(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(ut,{variant:"secondary",onClick:Pe,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:d.jsx(Za,{size:16,className:w?"animate-spin":""})})]}),w?d.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(as,{className:`w-8 h-8 ${P?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:P?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Le.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${P?"divide-slate-700":"divide-slate-200"} ${P?"bg-slate-800":"bg-white"} rounded-lg border ${P?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:P?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[D&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:S.size===Le.length,onChange:Rr,className:`h-4 w-4 text-blue-600 rounded ${P?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${P?"divide-slate-700":"divide-slate-200"}`,children:Le.map((Ee,Je)=>d.jsx(Rt,{item:Ee,index:Je},Ee.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(Ee=>d.jsxs("div",{className:`rounded-lg border ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>nt(Ee),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${P?"text-blue-400":"text-blue-700"}`,children:Ee.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ee.locationCode," - ",Ee.shelfNumber]})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ee.quantity})]}),Ee.asin&&d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ee.asin})]}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:tr(new Date(Ee.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(ut,{size:"sm",variant:"secondary",onClick:Je=>{Je.stopPropagation(),Jt(Je,Ee)},children:[d.jsx(Gs,{size:14})," Edit"]}),d.jsxs(ut,{size:"sm",variant:"danger",onClick:Je=>{Je.stopPropagation(),zt(Je,Ee)},children:[d.jsx(is,{size:14})," Delete"]})]})]},Ee.id))})]}):d.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:P?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(an,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(Mq,{onSubmit:et,isLoading:w,existingStockItems:j})}),d.jsx(an,{isOpen:q,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(Fq,{onSubmit:et,onClose:()=>ee(!1),isLoading:w})}),d.jsx(an,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:I&&d.jsx(Rq,{item:I,onSubmit:It,onCancel:()=>p(!1),isLoading:w})}),I&&d.jsx(hp,{isOpen:g,onClose:()=>{m(!1),C(null)},onConfirm:()=>Et(I.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${I.name}"? This action cannot be undone.`,isLoading:w}),I&&!h&&!g&&!X&&d.jsx(A5,{isOpen:!!I,onClose:()=>C(null),item:I}),d.jsx(hp,{isOpen:v,onClose:()=>{y(!1),A(new Set)},onConfirm:Ue,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),d.jsx(an,{isOpen:X,onClose:()=>{Y(!1),G(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(ut,{variant:"secondary",onClick:()=>{Y(!1),G(null)},children:"No"}),d.jsx(ut,{onClick:Dt,isLoading:w,children:"Yes"})]})]})}),H&&d.jsx($q,{isOpen:W,onClose:ft,onConfirm:yt,onCancel:ft,onMerge:wt,locationCode:H.locationCode,shelfNumber:H.shelfNumber,existingProducts:H.existingProducts,newProductName:H.newProductName,newProductBarcode:H.newProductBarcode})]})},Pye=()=>{const{isDarkMode:e}=en(),{showToast:t}=rc(),{user:r}=ba();ba();const[n,a]=U.useState(!1),[i,s]=U.useState([]),[o,l]=U.useState(""),[c,u]=U.useState(null),[f,h]=U.useState(""),[p,g]=U.useState(null),[m,v]=U.useState("all"),[y,w]=U.useState("all"),[b,I]=U.useState(!1),[C,j]=U.useState(!1),[T,S]=U.useState(null),A=async W=>{if(r)try{await hr(mt(Ge,"activityLogs"),{user:r.name,role:r.role,detail:W,time:new Date().toISOString()})}catch(O){console.error("Failed to log activity:",O)}},D=U.useCallback(async()=>{a(!0);try{const W=or(mt(Ge,"inventory"),Ia("name")),R=(await lr(W)).docs.map(z=>{const H=z.data();return{id:z.id,...H,lastUpdated:H.lastUpdated instanceof sr?H.lastUpdated.toDate():new Date(H.lastUpdated)}});s(R)}catch(W){console.error("Failed to fetch inventory",W),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=U.useCallback(async()=>{try{const W=mt(Ge,"inventory"),O=await ok(W);g(O.data().count)}catch{g(null)}},[]);U.useEffect(()=>{D(),E()},[D,E]),U.useEffect(()=>{const W=O=>{const R=O.target;R.closest(".damage-filter-dropdown")||I(!1),R.closest(".duplicate-filter-dropdown")||j(!1)};return(b||C)&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[b,C]);const N=U.useMemo(()=>{const W={};for(const O of i){const R=(O.name||"").trim().toLowerCase();if(!R)continue;const z=`${O.locationCode||""}-${O.shelfNumber||""}`.trim().toLowerCase();W[R]||(W[R]=new Set),W[R].add(z)}return W},[i]),V=((W,O)=>{const[R,z]=U.useState(W);return U.useEffect(()=>{const H=setTimeout(()=>z(W),O);return()=>clearTimeout(H)},[W,O]),R})(o,300),X=U.useMemo(()=>{const W=V.trim().toLowerCase();return i.filter(O=>{var B,Ae;const R=((B=O.name)==null?void 0:B.toLowerCase())||"",z=(O.asin||"").toLowerCase(),H=(O.barcode||"").toLowerCase(),Z=W?R.includes(W)||z.includes(W)||H.includes(W):!0,oe=m==="all"?!0:m==="damaged"?(O.damagedItems||0)>0:(O.damagedItems||0)<=0,de=(O.name||"").trim().toLowerCase(),he=(de&&((Ae=N[de])==null?void 0:Ae.size)||0)>1;return Z&&oe&&(y==="all"?!0:y==="duplicates"?he:!he)})},[i,V,m,y,N]),Y=U.useMemo(()=>V.trim()?X.reduce((W,O)=>W+(O.quantity||0),0):0,[X,V]),J=U.useMemo(()=>{var re;const W=X.length;let O=0,R=0,z=0,H=0,Z=0;for(const he of X){(he.damagedItems||0)>0&&O++,he.status==="active"&&R++,he.status==="pending"&&z++,Number(he.price)>0&&H++;const we=(he.name||"").trim().toLowerCase();(we&&((re=N[we])==null?void 0:re.size)||0)>1&&Z++}const oe=W-Z,de=W-H;return{total:W,damaged:O,duplicates:Z,unique:oe,active:R,pending:z,priceSet:H,noPrice:de}},[X,N]),G=W=>{u(W.id),h(W.price!=null?String(W.price):"")},q=()=>{u(null),h("")},ee=async W=>{const O=Number(f);if(Number.isNaN(O)||O<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,z=wr(Ge,"inventory",W.id);await En(z,{price:O,lastUpdated:sr.fromDate(R)}),await A(`updated price for ${W.name} (barcode: ${W.barcode}) from £${W.price||0} to £${O.toFixed(2)}`),s(H=>H.map(Z=>Z.id===W.id?{...Z,price:O,lastUpdated:R}:Z)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return d.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[d.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:d.jsx("span",{className:"animate-pulse",children:"..."})]}),d.jsxs(ut,{variant:"secondary",onClick:()=>{D(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[d.jsx(Za,{size:14,className:n?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[V.trim()?d.jsx(fi,{title:"Total Quantity",value:Y,icon:d.jsx(tp,{size:20,className:"text-blue-600"})}):d.jsx(fi,{title:"Products",value:J.total,icon:d.jsx(tp,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"Damaged",value:J.damaged,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"Duplicates",value:J.duplicates,icon:d.jsx(bZ,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"Unique",value:J.unique,icon:d.jsx(O4,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[d.jsx(fi,{title:"Active",value:J.active,icon:d.jsx(O4,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"Pending",value:J.pending,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"With Price",value:J.priceSet,icon:d.jsx(q2,{size:20,className:"text-blue-600"})}),d.jsx(fi,{title:"No Price",value:J.noPrice,icon:d.jsx(q2,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(kt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:W=>l(W.target.value),className:"pl-10 text-sm sm:text-base"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>I(!b),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),d.jsx(qc,{size:16})]}),b&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),I(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),I(!1)},children:"Damaged"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),I(!1)},children:"Not Damaged"})]})})]}),d.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>j(!C),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),d.jsx(qc,{size:16})]}),C&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),j(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),j(!1)},children:"Duplicates Only"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),j(!1)},children:"Unique Only"})]})})]})]})]}),n?d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[d.jsx(as,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):X.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),d.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:X.map(W=>d.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:W.asin?W.asin.split(",").length>3?W.asin.split(",").slice(0,3).map(O=>O.trim()).join(", ")+"...":W.asin.split(",").map(O=>O.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===W.id?d.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:O=>O.stopPropagation(),children:[d.jsx(kt,{type:"number",step:"0.01",value:f,onChange:O=>h(O.target.value),className:"w-28 text-right"}),d.jsx(ut,{size:"sm",onClick:()=>ee(W),isLoading:n,children:d.jsx(xO,{size:14})}),d.jsx(ut,{size:"sm",variant:"secondary",onClick:q,disabled:n,children:d.jsx(bv,{size:14})})]}):d.jsx("button",{onClick:O=>{O.stopPropagation(),G(W)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:W.quantity}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:W.barcode||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:d.jsx("button",{onClick:()=>S(W),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:d.jsx(I4,{size:16})})})]},W.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-3",children:X.map(W=>{var O;return d.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:((O=W.asin)==null?void 0:O.split(",")[0])||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",d.jsx("span",{className:"font-medium",children:W.barcode||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",d.jsx("span",{className:"font-medium",children:W.quantity})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"No price"}),d.jsxs("div",{className:"flex gap-1",children:[c===W.id?d.jsxs(d.Fragment,{children:[d.jsx(ut,{size:"sm",onClick:()=>ee(W),isLoading:n,children:d.jsx(xO,{size:12})}),d.jsx(ut,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q()},disabled:n,children:d.jsx(bv,{size:12})})]}):d.jsx(ut,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),G(W)},children:d.jsx(Gs,{size:12})}),d.jsx(ut,{size:"sm",variant:"secondary",onClick:()=>S(W),children:d.jsx(I4,{size:12})})]})]})]}),c===W.id&&d.jsx("div",{className:"mt-1",children:d.jsx(kt,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},W.id)})})]}):d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&d.jsx(A5,{isOpen:!!T,onClose:()=>S(null),item:T})]})},vC=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=en(),[o,l]=U.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${tr(e,"MMM d, yyyy")} - ${tr(t,"MMM d, yyyy")}`:e?`From ${tr(e,"MMM d, yyyy")}`:t?`To ${tr(t,"MMM d, yyyy")}`:"Select date range";return d.jsxs("div",{className:`relative ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(xZ,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&d.jsx("span",{onClick:p=>{p.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f())},children:d.jsx(bv,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:e?tr(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:t?tr(t,"yyyy-MM-dd"):"",onChange:u,min:e?tr(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},wx=["supply & serve","APHY","AZTEC","ZK","Fahiz"],Oye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=U.useState(""),[s,o]=U.useState("stock sold"),[l,c]=U.useState(""),[u,f]=U.useState(e.storeName||wx[0]||""),[h,p]=U.useState(""),[g,m]=U.useState([]),[v,y]=U.useState(""),[w,b]=U.useState(!1),{isDarkMode:I}=en(),j=[...wx.includes(e.storeName)?wx:[e.storeName,...wx],"other"];U.useEffect(()=>{(async()=>{b(!0);try{let N=or(mt(Ge,"inventory"),nr("barcode","==",e.barcode)),P=await lr(N);if(P.empty&&e.barcode){const Y=String(e.barcode).trim();N=or(mt(Ge,"inventory"),nr("barcode","==",Y)),P=await lr(N)}P.empty&&e.name&&(N=or(mt(Ge,"inventory"),nr("name","==",e.name)),P=await lr(N));const V=[];P.docs.forEach(Y=>{const J=Y.data();J.locationCode&&J.shelfNumber&&V.push({locationCode:J.locationCode,shelfNumber:J.shelfNumber,quantity:J.quantity||0})});const X=V.filter((Y,J,G)=>J===G.findIndex(q=>q.locationCode===Y.locationCode&&q.shelfNumber===Y.shelfNumber)).sort((Y,J)=>Y.locationCode.localeCompare(J.locationCode));m(X),X.length>0&&y(`${X[0].locationCode}-${X[0].shelfNumber}`)}catch(N){console.error("Error fetching locations:",N)}finally{b(!1)}})()},[e.barcode]);const T=async E=>{E.preventDefault();const N=Number(a);if(!a||N<0)return;const P=S();if(N>P||!v)return;const V=s==="other"?l:s,X=u==="other"?h.trim():u.trim(),[Y,J]=v.split("-");await t({id:e.id,quantity:e.quantity-N,reason:V,storeName:X,locationCode:Y,shelfNumber:J})},S=()=>{if(!v)return e.quantity;const[E,N]=v.split("-"),P=g.find(V=>V.locationCode===E&&V.shelfNumber===N);return P?P.quantity:e.quantity},D=(()=>{const E=Number(a);if(!a||E<0)return"Quantity to deduct must be 0 or greater";const N=S();return E>N?`Cannot deduct more than current stock at selected location (${N} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":!u.trim()||u==="other"&&!h.trim()?"Please select or enter the store name":v?null:"Please select a location":"Please select a reason"})();return d.jsxs("form",{onSubmit:T,className:`space-y-6 ${I?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${I?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${I?"text-white":"text-gray-900"}`,children:e.name}),d.jsx("p",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:v&&d.jsxs("span",{className:` ${I?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",S()," units"]})}),d.jsxs("p",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),w?d.jsxs("div",{className:`flex items-center gap-2 text-sm ${I?"text-slate-400":"text-slate-500"}`,children:[d.jsx(as,{size:16,className:"animate-spin"}),"Loading locations..."]}):g.length>0?d.jsx(zr,{id:"location",value:v,onChange:E=>y(E.target.value),required:!0,options:[{value:"",label:"Select a location"},...g.map(E=>({value:`${E.locationCode}-${E.shelfNumber}`,label:`${E.locationCode} - Shelf ${E.shelfNumber} (${E.quantity} units)${E.quantity===0?" - Out of Stock":""}`}))],className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}):d.jsx("div",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(kt,{id:"deductQuantity",type:"number",min:"0",max:S(),value:a,onChange:E=>i(E.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}),v&&d.jsxs("p",{className:`text-xs ${I?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",S()," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(zr,{id:"reason",value:s,onChange:E=>o(E.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(kt,{id:"otherReason",type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Enter the reason",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(zr,{id:"storeName",value:u,onChange:E=>f(E.target.value),options:j.map(E=>({value:E,label:E==="other"?"Other":E})),required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}),u==="other"&&d.jsx(kt,{id:"otherStoreName",type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Enter store name",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),D?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${I?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:D})]}):d.jsx("p",{className:`text-xs ${I?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),d.jsx(ut,{type:"submit",disabled:n||!!D,className:"min-w-[100px]",children:n?d.jsxs(d.Fragment,{children:[d.jsx(as,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Iye=({isOpen:e,onClose:t})=>{const[r,n]=U.useState("0"),[a,i]=U.useState(null),[s,o]=U.useState(null),[l,c]=U.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const w=parseFloat(r);if(a===null)i(w);else if(s){const I=g(a||0,w,s);n(String(I)),i(I)}c(!0),o(y)},g=(y,w,b)=>{switch(b){case"+":return y+w;case"-":return y-w;case"×":return y*w;case"÷":return y/w;default:return w}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),w=g(a,y,s);n(String(w)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return d.jsx(an,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[d.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&d.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,w)=>d.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},w))}),d.jsx("div",{className:"pt-2",children:d.jsx(ut,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function Bq(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Bq(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Bq(e))&&(n&&(n+=" "),n+=t);return n}var jye=Array.isArray,Os=jye,Dye=typeof eg=="object"&&eg&&eg.Object===Object&&eg,Uq=Dye,Lye=Uq,Mye=typeof self=="object"&&self&&self.Object===Object&&self,Rye=Lye||Mye||Function("return this")(),ic=Rye,Fye=ic,$ye=Fye.Symbol,ay=$ye,f8=ay,Vq=Object.prototype,Bye=Vq.hasOwnProperty,Uye=Vq.toString,Vm=f8?f8.toStringTag:void 0;function Vye(e){var t=Bye.call(e,Vm),r=e[Vm];try{e[Vm]=void 0;var n=!0}catch{}var a=Uye.call(e);return n&&(t?e[Vm]=r:delete e[Vm]),a}var zye=Vye,qye=Object.prototype,Wye=qye.toString;function Hye(e){return Wye.call(e)}var Gye=Hye,d8=ay,Kye=zye,Yye=Gye,Xye="[object Null]",Qye="[object Undefined]",h8=d8?d8.toStringTag:void 0;function Jye(e){return e==null?e===void 0?Qye:Xye:h8&&h8 in Object(e)?Kye(e):Yye(e)}var lu=Jye;function Zye(e){return e!=null&&typeof e=="object"}var cu=Zye,exe=lu,txe=cu,rxe="[object Symbol]";function nxe(e){return typeof e=="symbol"||txe(e)&&exe(e)==rxe}var tm=nxe,axe=Os,ixe=tm,sxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oxe=/^\w*$/;function lxe(e,t){if(axe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ixe(e)?!0:oxe.test(e)||!sxe.test(e)||t!=null&&e in Object(t)}var yC=lxe;function cxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gf=cxe;const rm=_n(Gf);var uxe=lu,fxe=Gf,dxe="[object AsyncFunction]",hxe="[object Function]",pxe="[object GeneratorFunction]",mxe="[object Proxy]";function gxe(e){if(!fxe(e))return!1;var t=uxe(e);return t==hxe||t==pxe||t==dxe||t==mxe}var xC=gxe;const Dr=_n(xC);var vxe=ic,yxe=vxe["__core-js_shared__"],xxe=yxe,HS=xxe,p8=function(){var e=/[^.]+$/.exec(HS&&HS.keys&&HS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bxe(e){return!!p8&&p8 in e}var wxe=bxe,_xe=Function.prototype,Sxe=_xe.toString;function Axe(e){if(e!=null){try{return Sxe.call(e)}catch{}try{return e+""}catch{}}return""}var zq=Axe,Txe=xC,Exe=wxe,Nxe=Gf,kxe=zq,Cxe=/[\\^$.*+?()[\]{}|]/g,Pxe=/^\[object .+?Constructor\]$/,Oxe=Function.prototype,Ixe=Object.prototype,jxe=Oxe.toString,Dxe=Ixe.hasOwnProperty,Lxe=RegExp("^"+jxe.call(Dxe).replace(Cxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mxe(e){if(!Nxe(e)||Exe(e))return!1;var t=Txe(e)?Lxe:Pxe;return t.test(kxe(e))}var Rxe=Mxe;function Fxe(e,t){return e==null?void 0:e[t]}var $xe=Fxe,Bxe=Rxe,Uxe=$xe;function Vxe(e,t){var r=Uxe(e,t);return Bxe(r)?r:void 0}var bh=Vxe,zxe=bh,qxe=zxe(Object,"create"),T5=qxe,m8=T5;function Wxe(){this.__data__=m8?m8(null):{},this.size=0}var Hxe=Wxe;function Gxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kxe=Gxe,Yxe=T5,Xxe="__lodash_hash_undefined__",Qxe=Object.prototype,Jxe=Qxe.hasOwnProperty;function Zxe(e){var t=this.__data__;if(Yxe){var r=t[e];return r===Xxe?void 0:r}return Jxe.call(t,e)?t[e]:void 0}var e2e=Zxe,t2e=T5,r2e=Object.prototype,n2e=r2e.hasOwnProperty;function a2e(e){var t=this.__data__;return t2e?t[e]!==void 0:n2e.call(t,e)}var i2e=a2e,s2e=T5,o2e="__lodash_hash_undefined__";function l2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=s2e&&t===void 0?o2e:t,this}var c2e=l2e,u2e=Hxe,f2e=Kxe,d2e=e2e,h2e=i2e,p2e=c2e;function nm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nm.prototype.clear=u2e;nm.prototype.delete=f2e;nm.prototype.get=d2e;nm.prototype.has=h2e;nm.prototype.set=p2e;var m2e=nm;function g2e(){this.__data__=[],this.size=0}var v2e=g2e;function y2e(e,t){return e===t||e!==e&&t!==t}var bC=y2e,x2e=bC;function b2e(e,t){for(var r=e.length;r--;)if(x2e(e[r][0],t))return r;return-1}var E5=b2e,w2e=E5,_2e=Array.prototype,S2e=_2e.splice;function A2e(e){var t=this.__data__,r=w2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():S2e.call(t,r,1),--this.size,!0}var T2e=A2e,E2e=E5;function N2e(e){var t=this.__data__,r=E2e(t,e);return r<0?void 0:t[r][1]}var k2e=N2e,C2e=E5;function P2e(e){return C2e(this.__data__,e)>-1}var O2e=P2e,I2e=E5;function j2e(e,t){var r=this.__data__,n=I2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var D2e=j2e,L2e=v2e,M2e=T2e,R2e=k2e,F2e=O2e,$2e=D2e;function am(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}am.prototype.clear=L2e;am.prototype.delete=M2e;am.prototype.get=R2e;am.prototype.has=F2e;am.prototype.set=$2e;var N5=am,B2e=bh,U2e=ic,V2e=B2e(U2e,"Map"),wC=V2e,g8=m2e,z2e=N5,q2e=wC;function W2e(){this.size=0,this.__data__={hash:new g8,map:new(q2e||z2e),string:new g8}}var H2e=W2e;function G2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var K2e=G2e,Y2e=K2e;function X2e(e,t){var r=e.__data__;return Y2e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var k5=X2e,Q2e=k5;function J2e(e){var t=Q2e(this,e).delete(e);return this.size-=t?1:0,t}var Z2e=J2e,ebe=k5;function tbe(e){return ebe(this,e).get(e)}var rbe=tbe,nbe=k5;function abe(e){return nbe(this,e).has(e)}var ibe=abe,sbe=k5;function obe(e,t){var r=sbe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lbe=obe,cbe=H2e,ube=Z2e,fbe=rbe,dbe=ibe,hbe=lbe;function im(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}im.prototype.clear=cbe;im.prototype.delete=ube;im.prototype.get=fbe;im.prototype.has=dbe;im.prototype.set=hbe;var _C=im,qq=_C,pbe="Expected a function";function SC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pbe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(SC.Cache||qq),r}SC.Cache=qq;var Wq=SC;const mbe=_n(Wq);var gbe=Wq,vbe=500;function ybe(e){var t=gbe(e,function(n){return r.size===vbe&&r.clear(),n}),r=t.cache;return t}var xbe=ybe,bbe=xbe,wbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_be=/\\(\\)?/g,Sbe=bbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wbe,function(r,n,a,i){t.push(a?i.replace(_be,"$1"):n||r)}),t}),Abe=Sbe;function Tbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var AC=Tbe,v8=ay,Ebe=AC,Nbe=Os,kbe=tm,Cbe=1/0,y8=v8?v8.prototype:void 0,x8=y8?y8.toString:void 0;function Hq(e){if(typeof e=="string")return e;if(Nbe(e))return Ebe(e,Hq)+"";if(kbe(e))return x8?x8.call(e):"";var t=e+"";return t=="0"&&1/e==-Cbe?"-0":t}var Pbe=Hq,Obe=Pbe;function Ibe(e){return e==null?"":Obe(e)}var Gq=Ibe,jbe=Os,Dbe=yC,Lbe=Abe,Mbe=Gq;function Rbe(e,t){return jbe(e)?e:Dbe(e,t)?[e]:Lbe(Mbe(e))}var Kq=Rbe,Fbe=tm,$be=1/0;function Bbe(e){if(typeof e=="string"||Fbe(e))return e;var t=e+"";return t=="0"&&1/e==-$be?"-0":t}var C5=Bbe,Ube=Kq,Vbe=C5;function zbe(e,t){t=Ube(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Vbe(t[r++])];return r&&r==n?e:void 0}var TC=zbe,qbe=TC;function Wbe(e,t,r){var n=e==null?void 0:qbe(e,t);return n===void 0?r:n}var Yq=Wbe;const No=_n(Yq);function Hbe(e){return e==null}var Gbe=Hbe;const Ur=_n(Gbe);var Kbe=lu,Ybe=Os,Xbe=cu,Qbe="[object String]";function Jbe(e){return typeof e=="string"||!Ybe(e)&&Xbe(e)&&Kbe(e)==Qbe}var Zbe=Jbe;const ah=_n(Zbe);var Xq={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=Symbol.for("react.element"),NC=Symbol.for("react.portal"),P5=Symbol.for("react.fragment"),O5=Symbol.for("react.strict_mode"),I5=Symbol.for("react.profiler"),j5=Symbol.for("react.provider"),D5=Symbol.for("react.context"),ewe=Symbol.for("react.server_context"),L5=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),R5=Symbol.for("react.suspense_list"),F5=Symbol.for("react.memo"),$5=Symbol.for("react.lazy"),twe=Symbol.for("react.offscreen"),Qq;Qq=Symbol.for("react.module.reference");function Mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case EC:switch(e=e.type,e){case P5:case I5:case O5:case M5:case R5:return e;default:switch(e=e&&e.$$typeof,e){case ewe:case D5:case L5:case $5:case F5:case j5:return e;default:return t}}case NC:return t}}}yn.ContextConsumer=D5;yn.ContextProvider=j5;yn.Element=EC;yn.ForwardRef=L5;yn.Fragment=P5;yn.Lazy=$5;yn.Memo=F5;yn.Portal=NC;yn.Profiler=I5;yn.StrictMode=O5;yn.Suspense=M5;yn.SuspenseList=R5;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return Mo(e)===D5};yn.isContextProvider=function(e){return Mo(e)===j5};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===EC};yn.isForwardRef=function(e){return Mo(e)===L5};yn.isFragment=function(e){return Mo(e)===P5};yn.isLazy=function(e){return Mo(e)===$5};yn.isMemo=function(e){return Mo(e)===F5};yn.isPortal=function(e){return Mo(e)===NC};yn.isProfiler=function(e){return Mo(e)===I5};yn.isStrictMode=function(e){return Mo(e)===O5};yn.isSuspense=function(e){return Mo(e)===M5};yn.isSuspenseList=function(e){return Mo(e)===R5};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P5||e===I5||e===O5||e===M5||e===R5||e===twe||typeof e=="object"&&e!==null&&(e.$$typeof===$5||e.$$typeof===F5||e.$$typeof===j5||e.$$typeof===D5||e.$$typeof===L5||e.$$typeof===Qq||e.getModuleId!==void 0)};yn.typeOf=Mo;Xq.exports=yn;var rwe=Xq.exports,nwe=lu,awe=cu,iwe="[object Number]";function swe(e){return typeof e=="number"||awe(e)&&nwe(e)==iwe}var Jq=swe;const owe=_n(Jq);var lwe=Jq;function cwe(e){return lwe(e)&&e!=+e}var uwe=cwe;const iy=_n(uwe);var dl=function(t){return t===0?0:t>0?1:-1},jd=function(t){return ah(t)&&t.indexOf("%")===t.length-1},$t=function(t){return owe(t)&&!iy(t)},Ua=function(t){return $t(t)||ah(t)},fwe=0,sy=function(t){var r=++fwe;return"".concat(t||"").concat(r)},ih=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(t)&&!ah(t))return n;var i;if(jd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return iy(i)&&(i=n),a&&i>r&&(i=r),i},Qu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},dwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ol=function(t,r){return $t(t)&&$t(r)?function(n){return t+n*(r-t)}:function(){return r}};function Eb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):No(n,t))===r})}var hwe=function(t,r){return $t(t)&&$t(r)?t-r:ah(t)&&ah(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function F0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function LT(e){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LT(e)}var pwe=["viewBox","children"],mwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b8=["points","pathLength"],GS={svg:pwe,polygon:b8,polyline:b8},kC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(U.isValidElement(t)&&(n=t.props),!rm(n))return null;var a={};return Object.keys(n).forEach(function(i){kC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},gwe=function(t,r,n){return function(a){return t(r,n,a),null}},kb=function(t,r,n){if(!rm(t)||LT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];kC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=gwe(s,r,n))}),a},vwe=["children"],ywe=["children"];function w8(e,t){if(e==null)return{};var r=xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MT(e){"@babel/helpers - typeof";return MT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MT(e)}var _8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S8=null,KS=null,CC=function e(t){if(t===S8&&Array.isArray(KS))return KS;var r=[];return U.Children.forEach(t,function(n){Ur(n)||(rwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),KS=r,S8=t,r};function ko(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Lc(a)}):n=[Lc(t)],CC(e).forEach(function(a){var i=No(a,"type.displayName")||No(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Vs(e,t){var r=ko(e,t);return r&&r[0]}var A8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!$t(n)||n<=0||!$t(a)||a<=0)},bwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wwe=function(t){return t&&t.type&&ah(t.type)&&bwe.indexOf(t.type)>=0},_we=function(t){return t&&MT(t)==="object"&&"clipDot"in t},Swe=function(t,r,n,a){var i,s=(i=GS==null?void 0:GS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Dr(t)&&(a&&s.includes(r)||mwe.includes(r))||n&&kC.includes(r)},qr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(U.isValidElement(t)&&(a=t.props),!rm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Swe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},RT=function e(t,r){if(t===r)return!0;var n=U.Children.count(t);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return T8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!T8(i,s))return!1}return!0},T8=function(t,r){if(Ur(t)&&Ur(r))return!0;if(!Ur(t)&&!Ur(r)){var n=t.props||{},a=n.children,i=w8(n,vwe),s=r.props||{},o=s.children,l=w8(s,ywe);return a&&o?F0(i,l)&&RT(a,o):!a&&!o?F0(i,l):!1}return!1},E8=function(t,r){var n=[],a={};return CC(t).forEach(function(i,s){if(wwe(i))n.push(i);else if(i){var o=Lc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},Awe=function(t){var r=t&&t.type;return r&&_8[r]?_8[r]:null},Twe=function(t,r){return CC(r).indexOf(t)},Ewe=["children","width","height","viewBox","className","style","title","desc"];function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FT.apply(this,arguments)}function Nwe(e,t){if(e==null)return{};var r=kwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $T(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Nwe(e,Ewe),u=a||{width:r,height:n,x:0,y:0},f=Zr("recharts-surface",i);return je.createElement("svg",FT({},qr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),je.createElement("title",null,o),je.createElement("desc",null,l),t)}var Cwe=["children","className"];function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT.apply(this,arguments)}function Pwe(e,t){if(e==null)return{};var r=Owe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xa=je.forwardRef(function(e,t){var r=e.children,n=e.className,a=Pwe(e,Cwe),i=Zr("recharts-layer",n);return je.createElement("g",BT({className:i},qr(a,!0),{ref:t}),r)}),Mc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Iwe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var jwe=Iwe,Dwe=jwe;function Lwe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Dwe(e,t,r)}var Mwe=Lwe,Rwe="\\ud800-\\udfff",Fwe="\\u0300-\\u036f",$we="\\ufe20-\\ufe2f",Bwe="\\u20d0-\\u20ff",Uwe=Fwe+$we+Bwe,Vwe="\\ufe0e\\ufe0f",zwe="\\u200d",qwe=RegExp("["+zwe+Rwe+Uwe+Vwe+"]");function Wwe(e){return qwe.test(e)}var Zq=Wwe;function Hwe(e){return e.split("")}var Gwe=Hwe,eW="\\ud800-\\udfff",Kwe="\\u0300-\\u036f",Ywe="\\ufe20-\\ufe2f",Xwe="\\u20d0-\\u20ff",Qwe=Kwe+Ywe+Xwe,Jwe="\\ufe0e\\ufe0f",Zwe="["+eW+"]",UT="["+Qwe+"]",VT="\\ud83c[\\udffb-\\udfff]",e5e="(?:"+UT+"|"+VT+")",tW="[^"+eW+"]",rW="(?:\\ud83c[\\udde6-\\uddff]){2}",nW="[\\ud800-\\udbff][\\udc00-\\udfff]",t5e="\\u200d",aW=e5e+"?",iW="["+Jwe+"]?",r5e="(?:"+t5e+"(?:"+[tW,rW,nW].join("|")+")"+iW+aW+")*",n5e=iW+aW+r5e,a5e="(?:"+[tW+UT+"?",UT,rW,nW,Zwe].join("|")+")",i5e=RegExp(VT+"(?="+VT+")|"+a5e+n5e,"g");function s5e(e){return e.match(i5e)||[]}var o5e=s5e,l5e=Gwe,c5e=Zq,u5e=o5e;function f5e(e){return c5e(e)?u5e(e):l5e(e)}var d5e=f5e,h5e=Mwe,p5e=Zq,m5e=d5e,g5e=Gq;function v5e(e){return function(t){t=g5e(t);var r=p5e(t)?m5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?h5e(r,1).join(""):t.slice(1);return n[e]()+a}}var y5e=v5e,x5e=y5e,b5e=x5e("toUpperCase"),w5e=b5e;const B5=_n(w5e);function In(e){return function(){return e}}const sW=Math.cos,Cb=Math.sin,wl=Math.sqrt,Pb=Math.PI,U5=2*Pb,zT=Math.PI,qT=2*zT,bd=1e-6,_5e=qT-bd;function oW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function S5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class A5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oW:S5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bd)if(!(Math.abs(f*l-c*u)>bd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(h),b=i*Math.tan((zT-Math.acos((m+h-v)/(2*y*w)))/2),I=b/w,C=b/y;Math.abs(I-1)>bd&&this._append`L${t+I*u},${r+I*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+C*l},${this._y1=r+C*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bd||Math.abs(this._y1-u)>bd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%qT+qT),h>_5e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>bd&&this._append`A${n},${n},0,${+(h>=zT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function PC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new A5e(t)}function OC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lW(e){this._context=e}lW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function V5(e){return new lW(e)}function cW(e){return e[0]}function uW(e){return e[1]}function fW(e,t){var r=In(!0),n=null,a=V5,i=null,s=PC(o);e=typeof e=="function"?e:e===void 0?cW:In(e),t=typeof t=="function"?t:t===void 0?uW:In(t);function o(l){var c,u=(l=OC(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:In(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:In(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:In(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function _x(e,t,r){var n=null,a=In(!0),i=null,s=V5,o=null,l=PC(c);e=typeof e=="function"?e:e===void 0?cW:In(+e),t=typeof t=="function"?t:In(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?uW:In(+r);function c(f){var h,p,g,m=(f=OC(f)).length,v,y=!1,w,b=new Array(m),I=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],I[g]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,f),I[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):I[h]))}if(w)return o=null,w+""||null}function u(){return fW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:In(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:In(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:In(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:In(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:In(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:In(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:In(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class dW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function T5e(e){return new dW(e,!0)}function E5e(e){return new dW(e,!1)}const IC={draw(e,t){const r=wl(t/Pb);e.moveTo(r,0),e.arc(0,0,r,0,U5)}},N5e={draw(e,t){const r=wl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hW=wl(1/3),k5e=hW*2,C5e={draw(e,t){const r=wl(t/k5e),n=r*hW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},P5e={draw(e,t){const r=wl(t),n=-r/2;e.rect(n,n,r,r)}},O5e=.8908130915292852,pW=Cb(Pb/10)/Cb(7*Pb/10),I5e=Cb(U5/10)*pW,j5e=-sW(U5/10)*pW,D5e={draw(e,t){const r=wl(t*O5e),n=I5e*r,a=j5e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=U5*i/5,o=sW(s),l=Cb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},YS=wl(3),L5e={draw(e,t){const r=-wl(t/(YS*3));e.moveTo(0,r*2),e.lineTo(-YS*r,-r),e.lineTo(YS*r,-r),e.closePath()}},po=-.5,mo=wl(3)/2,WT=1/wl(12),M5e=(WT/2+1)*3,R5e={draw(e,t){const r=wl(t/M5e),n=r/2,a=r*WT,i=n,s=r*WT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(po*n-mo*a,mo*n+po*a),e.lineTo(po*i-mo*s,mo*i+po*s),e.lineTo(po*o-mo*l,mo*o+po*l),e.lineTo(po*n+mo*a,po*a-mo*n),e.lineTo(po*i+mo*s,po*s-mo*i),e.lineTo(po*o+mo*l,po*l-mo*o),e.closePath()}};function F5e(e,t){let r=null,n=PC(a);e=typeof e=="function"?e:In(e||IC),t=typeof t=="function"?t:In(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:In(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:In(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ob(){}function Ib(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mW(e){this._context=e}mW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5e(e){return new mW(e)}function gW(e){this._context=e}gW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5e(e){return new gW(e)}function vW(e){this._context=e}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U5e(e){return new vW(e)}function yW(e){this._context=e}yW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V5e(e){return new yW(e)}function N8(e){return e<0?-1:1}function k8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(N8(i)+N8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function C8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function XS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function jb(e){this._context=e}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XS(this,this._t0,C8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XS(this,C8(this,r=k8(this,e,t)),r);break;default:XS(this,this._t0,r=k8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xW(e){this._context=new bW(e)}(xW.prototype=Object.create(jb.prototype)).point=function(e,t){jb.prototype.point.call(this,t,e)};function bW(e){this._context=e}bW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function z5e(e){return new jb(e)}function q5e(e){return new xW(e)}function wW(e){this._context=e}wW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=P8(e),a=P8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function W5e(e){return new wW(e)}function z5(e,t){this._context=e,this._t=t}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function H5e(e){return new z5(e,.5)}function G5e(e){return new z5(e,0)}function K5e(e){return new z5(e,1)}function pp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function HT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Y5e(e,t){return e[t]}function X5e(e){const t=[];return t.key=e,t}function Q5e(){var e=In([]),t=HT,r=pp,n=Y5e;function a(i){var s=Array.from(e.apply(this,arguments),X5e),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=OC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:In(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:In(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?HT:typeof i=="function"?i:In(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??pp,a):r},a}function J5e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}pp(e,t)}}function Z5e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}pp(e,t)}}function e_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,pp(e,t)}}function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}var t_e=["type","size","sizeType"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){r_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_e(e,t,r){return t=n_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_e(e){var t=a_e(e,"string");return Yv(t)=="symbol"?t:t+""}function a_e(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_e(e,t){if(e==null)return{};var r=s_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _W={symbolCircle:IC,symbolCross:N5e,symbolDiamond:C5e,symbolSquare:P5e,symbolStar:D5e,symbolTriangle:L5e,symbolWye:R5e},o_e=Math.PI/180,l_e=function(t){var r="symbol".concat(B5(t));return _W[r]||IC},c_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*o_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},u_e=function(t,r){_W["symbol".concat(B5(t))]=r},jC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=i_e(t,t_e),c=I8(I8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=l_e(n),y=F5e().type(v).size(c_e(i,o,n));return y()},f=c.className,h=c.cx,p=c.cy,g=qr(c,!0);return h===+h&&p===+p&&i===+i?je.createElement("path",GT({},g,{className:Zr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};jC.registerSymbol=u_e;function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AW(n.key),n)}}function p_e(e,t,r){return t&&h_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m_e(e,t,r){return t=Db(t),g_e(e,SW()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function g_e(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(e)}function v_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function y_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YT(e,t)}function Xv(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=x_e(e,"string");return mp(t)=="symbol"?t:t+""}function x_e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var go=32,DC=function(e){function t(){return d_e(this,t),m_e(this,t,arguments)}return y_e(t,e),p_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=go/2,s=go/6,o=go/3,l=n.inactive?a:n.color;if(n.type==="plainline")return je.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:go,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return je.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(go,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return je.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(go/8,"h").concat(go,"v").concat(go*3/4,"h").concat(-go,"z"),className:"recharts-legend-icon"});if(je.isValidElement(n.legendIcon)){var c=f_e({},n);return delete c.legendIcon,je.cloneElement(n.legendIcon,c)}return je.createElement(jC,{fill:l,cx:i,cy:i,size:go,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:go,height:go},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=Zr(Xv(Xv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Dr(p.value)?null:p.value;Mc(!Dr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return je.createElement("li",KT({className:v,style:f,key:"legend-item-".concat(g)},kb(n.props,p,g)),je.createElement($T,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),je.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return je.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Xv(DC,"displayName","Legend");Xv(DC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b_e=N5;function w_e(){this.__data__=new b_e,this.size=0}var __e=w_e;function S_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var A_e=S_e;function T_e(e){return this.__data__.get(e)}var E_e=T_e;function N_e(e){return this.__data__.has(e)}var k_e=N_e,C_e=N5,P_e=wC,O_e=_C,I_e=200;function j_e(e,t){var r=this.__data__;if(r instanceof C_e){var n=r.__data__;if(!P_e||n.length<I_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new O_e(n)}return r.set(e,t),this.size=r.size,this}var D_e=j_e,L_e=N5,M_e=__e,R_e=A_e,F_e=E_e,$_e=k_e,B_e=D_e;function sm(e){var t=this.__data__=new L_e(e);this.size=t.size}sm.prototype.clear=M_e;sm.prototype.delete=R_e;sm.prototype.get=F_e;sm.prototype.has=$_e;sm.prototype.set=B_e;var TW=sm,U_e="__lodash_hash_undefined__";function V_e(e){return this.__data__.set(e,U_e),this}var z_e=V_e;function q_e(e){return this.__data__.has(e)}var W_e=q_e,H_e=_C,G_e=z_e,K_e=W_e;function Lb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new H_e;++t<r;)this.add(e[t])}Lb.prototype.add=Lb.prototype.push=G_e;Lb.prototype.has=K_e;var EW=Lb;function Y_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var NW=Y_e;function X_e(e,t){return e.has(t)}var kW=X_e,Q_e=EW,J_e=NW,Z_e=kW,eSe=1,tSe=2;function rSe(e,t,r,n,a,i){var s=r&eSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&tSe?new Q_e:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!J_e(t,function(y,w){if(!Z_e(p,w)&&(g===y||a(g,y,r,n,i)))return p.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var CW=rSe,nSe=ic,aSe=nSe.Uint8Array,iSe=aSe;function sSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var oSe=sSe;function lSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var LC=lSe,D8=ay,L8=iSe,cSe=bC,uSe=CW,fSe=oSe,dSe=LC,hSe=1,pSe=2,mSe="[object Boolean]",gSe="[object Date]",vSe="[object Error]",ySe="[object Map]",xSe="[object Number]",bSe="[object RegExp]",wSe="[object Set]",_Se="[object String]",SSe="[object Symbol]",ASe="[object ArrayBuffer]",TSe="[object DataView]",M8=D8?D8.prototype:void 0,QS=M8?M8.valueOf:void 0;function ESe(e,t,r,n,a,i,s){switch(r){case TSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ASe:return!(e.byteLength!=t.byteLength||!i(new L8(e),new L8(t)));case mSe:case gSe:case xSe:return cSe(+e,+t);case vSe:return e.name==t.name&&e.message==t.message;case bSe:case _Se:return e==t+"";case ySe:var o=fSe;case wSe:var l=n&hSe;if(o||(o=dSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=pSe,s.set(e,t);var u=uSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case SSe:if(QS)return QS.call(e)==QS.call(t)}return!1}var NSe=ESe;function kSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var PW=kSe,CSe=PW,PSe=Os;function OSe(e,t,r){var n=t(e);return PSe(e)?n:CSe(n,r(e))}var ISe=OSe;function jSe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var DSe=jSe;function LSe(){return[]}var MSe=LSe,RSe=DSe,FSe=MSe,$Se=Object.prototype,BSe=$Se.propertyIsEnumerable,R8=Object.getOwnPropertySymbols,USe=R8?function(e){return e==null?[]:(e=Object(e),RSe(R8(e),function(t){return BSe.call(e,t)}))}:FSe,VSe=USe;function zSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var qSe=zSe,WSe=lu,HSe=cu,GSe="[object Arguments]";function KSe(e){return HSe(e)&&WSe(e)==GSe}var YSe=KSe,F8=YSe,XSe=cu,OW=Object.prototype,QSe=OW.hasOwnProperty,JSe=OW.propertyIsEnumerable,ZSe=F8(function(){return arguments}())?F8:function(e){return XSe(e)&&QSe.call(e,"callee")&&!JSe.call(e,"callee")},MC=ZSe,Mb={exports:{}};function eAe(){return!1}var tAe=eAe;Mb.exports;(function(e,t){var r=ic,n=tAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Mb,Mb.exports);var IW=Mb.exports,rAe=9007199254740991,nAe=/^(?:0|[1-9]\d*)$/;function aAe(e,t){var r=typeof e;return t=t??rAe,!!t&&(r=="number"||r!="symbol"&&nAe.test(e))&&e>-1&&e%1==0&&e<t}var RC=aAe,iAe=9007199254740991;function sAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iAe}var FC=sAe,oAe=lu,lAe=FC,cAe=cu,uAe="[object Arguments]",fAe="[object Array]",dAe="[object Boolean]",hAe="[object Date]",pAe="[object Error]",mAe="[object Function]",gAe="[object Map]",vAe="[object Number]",yAe="[object Object]",xAe="[object RegExp]",bAe="[object Set]",wAe="[object String]",_Ae="[object WeakMap]",SAe="[object ArrayBuffer]",AAe="[object DataView]",TAe="[object Float32Array]",EAe="[object Float64Array]",NAe="[object Int8Array]",kAe="[object Int16Array]",CAe="[object Int32Array]",PAe="[object Uint8Array]",OAe="[object Uint8ClampedArray]",IAe="[object Uint16Array]",jAe="[object Uint32Array]",Fn={};Fn[TAe]=Fn[EAe]=Fn[NAe]=Fn[kAe]=Fn[CAe]=Fn[PAe]=Fn[OAe]=Fn[IAe]=Fn[jAe]=!0;Fn[uAe]=Fn[fAe]=Fn[SAe]=Fn[dAe]=Fn[AAe]=Fn[hAe]=Fn[pAe]=Fn[mAe]=Fn[gAe]=Fn[vAe]=Fn[yAe]=Fn[xAe]=Fn[bAe]=Fn[wAe]=Fn[_Ae]=!1;function DAe(e){return cAe(e)&&lAe(e.length)&&!!Fn[oAe(e)]}var LAe=DAe;function MAe(e){return function(t){return e(t)}}var jW=MAe,Rb={exports:{}};Rb.exports;(function(e,t){var r=Uq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Rb,Rb.exports);var RAe=Rb.exports,FAe=LAe,$Ae=jW,$8=RAe,B8=$8&&$8.isTypedArray,BAe=B8?$Ae(B8):FAe,DW=BAe,UAe=qSe,VAe=MC,zAe=Os,qAe=IW,WAe=RC,HAe=DW,GAe=Object.prototype,KAe=GAe.hasOwnProperty;function YAe(e,t){var r=zAe(e),n=!r&&VAe(e),a=!r&&!n&&qAe(e),i=!r&&!n&&!a&&HAe(e),s=r||n||a||i,o=s?UAe(e.length,String):[],l=o.length;for(var c in e)(t||KAe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WAe(c,l)))&&o.push(c);return o}var XAe=YAe,QAe=Object.prototype;function JAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QAe;return e===r}var ZAe=JAe;function e4e(e,t){return function(r){return e(t(r))}}var LW=e4e,t4e=LW,r4e=t4e(Object.keys,Object),n4e=r4e,a4e=ZAe,i4e=n4e,s4e=Object.prototype,o4e=s4e.hasOwnProperty;function l4e(e){if(!a4e(e))return i4e(e);var t=[];for(var r in Object(e))o4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var c4e=l4e,u4e=xC,f4e=FC;function d4e(e){return e!=null&&f4e(e.length)&&!u4e(e)}var oy=d4e,h4e=XAe,p4e=c4e,m4e=oy;function g4e(e){return m4e(e)?h4e(e):p4e(e)}var q5=g4e,v4e=ISe,y4e=VSe,x4e=q5;function b4e(e){return v4e(e,x4e,y4e)}var w4e=b4e,U8=w4e,_4e=1,S4e=Object.prototype,A4e=S4e.hasOwnProperty;function T4e(e,t,r,n,a,i){var s=r&_4e,o=U8(e),l=o.length,c=U8(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:A4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],w=t[h];if(n)var b=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(b===void 0?y===w||a(y,w,r,n,i):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var I=e.constructor,C=t.constructor;I!=C&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof C=="function"&&C instanceof C)&&(m=!1)}return i.delete(e),i.delete(t),m}var E4e=T4e,N4e=bh,k4e=ic,C4e=N4e(k4e,"DataView"),P4e=C4e,O4e=bh,I4e=ic,j4e=O4e(I4e,"Promise"),D4e=j4e,L4e=bh,M4e=ic,R4e=L4e(M4e,"Set"),MW=R4e,F4e=bh,$4e=ic,B4e=F4e($4e,"WeakMap"),U4e=B4e,XT=P4e,QT=wC,JT=D4e,ZT=MW,e3=U4e,RW=lu,om=zq,V8="[object Map]",V4e="[object Object]",z8="[object Promise]",q8="[object Set]",W8="[object WeakMap]",H8="[object DataView]",z4e=om(XT),q4e=om(QT),W4e=om(JT),H4e=om(ZT),G4e=om(e3),wd=RW;(XT&&wd(new XT(new ArrayBuffer(1)))!=H8||QT&&wd(new QT)!=V8||JT&&wd(JT.resolve())!=z8||ZT&&wd(new ZT)!=q8||e3&&wd(new e3)!=W8)&&(wd=function(e){var t=RW(e),r=t==V4e?e.constructor:void 0,n=r?om(r):"";if(n)switch(n){case z4e:return H8;case q4e:return V8;case W4e:return z8;case H4e:return q8;case G4e:return W8}return t});var K4e=wd,JS=TW,Y4e=CW,X4e=NSe,Q4e=E4e,G8=K4e,K8=Os,Y8=IW,J4e=DW,Z4e=1,X8="[object Arguments]",Q8="[object Array]",Sx="[object Object]",eTe=Object.prototype,J8=eTe.hasOwnProperty;function tTe(e,t,r,n,a,i){var s=K8(e),o=K8(t),l=s?Q8:G8(e),c=o?Q8:G8(t);l=l==X8?Sx:l,c=c==X8?Sx:c;var u=l==Sx,f=c==Sx,h=l==c;if(h&&Y8(e)){if(!Y8(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new JS),s||J4e(e)?Y4e(e,t,r,n,a,i):X4e(e,t,l,r,n,a,i);if(!(r&Z4e)){var p=u&&J8.call(e,"__wrapped__"),g=f&&J8.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new JS),a(m,v,r,n,i)}}return h?(i||(i=new JS),Q4e(e,t,r,n,a,i)):!1}var rTe=tTe,nTe=rTe,Z8=cu;function FW(e,t,r,n,a){return e===t?!0:e==null||t==null||!Z8(e)&&!Z8(t)?e!==e&&t!==t:nTe(e,t,r,n,FW,a)}var $C=FW,aTe=TW,iTe=$C,sTe=1,oTe=2;function lTe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new aTe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?iTe(u,c,sTe|oTe,n,f):h))return!1}}return!0}var cTe=lTe,uTe=Gf;function fTe(e){return e===e&&!uTe(e)}var $W=fTe,dTe=$W,hTe=q5;function pTe(e){for(var t=hTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,dTe(a)]}return t}var mTe=pTe;function gTe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var BW=gTe,vTe=cTe,yTe=mTe,xTe=BW;function bTe(e){var t=yTe(e);return t.length==1&&t[0][2]?xTe(t[0][0],t[0][1]):function(r){return r===e||vTe(r,e,t)}}var wTe=bTe;function _Te(e,t){return e!=null&&t in Object(e)}var STe=_Te,ATe=Kq,TTe=MC,ETe=Os,NTe=RC,kTe=FC,CTe=C5;function PTe(e,t,r){t=ATe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=CTe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&kTe(a)&&NTe(s,a)&&(ETe(e)||TTe(e)))}var OTe=PTe,ITe=STe,jTe=OTe;function DTe(e,t){return e!=null&&jTe(e,t,ITe)}var LTe=DTe,MTe=$C,RTe=Yq,FTe=LTe,$Te=yC,BTe=$W,UTe=BW,VTe=C5,zTe=1,qTe=2;function WTe(e,t){return $Te(e)&&BTe(t)?UTe(VTe(e),t):function(r){var n=RTe(r,e);return n===void 0&&n===t?FTe(r,e):MTe(t,n,zTe|qTe)}}var HTe=WTe;function GTe(e){return e}var lm=GTe;function KTe(e){return function(t){return t==null?void 0:t[e]}}var YTe=KTe,XTe=TC;function QTe(e){return function(t){return XTe(t,e)}}var JTe=QTe,ZTe=YTe,e3e=JTe,t3e=yC,r3e=C5;function n3e(e){return t3e(e)?ZTe(r3e(e)):e3e(e)}var a3e=n3e,i3e=wTe,s3e=HTe,o3e=lm,l3e=Os,c3e=a3e;function u3e(e){return typeof e=="function"?e:e==null?o3e:typeof e=="object"?l3e(e)?s3e(e[0],e[1]):i3e(e):c3e(e)}var Kf=u3e;function f3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var UW=f3e;function d3e(e){return e!==e}var h3e=d3e;function p3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var m3e=p3e,g3e=UW,v3e=h3e,y3e=m3e;function x3e(e,t,r){return t===t?y3e(e,t,r):g3e(e,v3e,r)}var b3e=x3e,w3e=b3e;function _3e(e,t){var r=e==null?0:e.length;return!!r&&w3e(e,t,0)>-1}var S3e=_3e;function A3e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var T3e=A3e;function E3e(){}var N3e=E3e,ZS=MW,k3e=N3e,C3e=LC,P3e=1/0,O3e=ZS&&1/C3e(new ZS([,-0]))[1]==P3e?function(e){return new ZS(e)}:k3e,I3e=O3e,j3e=EW,D3e=S3e,L3e=T3e,M3e=kW,R3e=I3e,F3e=LC,$3e=200;function B3e(e,t,r){var n=-1,a=D3e,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=L3e;else if(i>=$3e){var c=t?null:R3e(e);if(c)return F3e(c);s=!1,a=M3e,l=new j3e}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var U3e=B3e,V3e=Kf,z3e=U3e;function q3e(e,t){return e&&e.length?z3e(e,V3e(t)):[]}var W3e=q3e;const eL=_n(W3e);function VW(e,t,r){return t===!0?eL(e,r):Dr(t)?eL(e,t):e}function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}var H3e=["ref"];function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){W5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qW(n.key),n)}}function K3e(e,t,r){return t&&rL(e.prototype,t),r&&rL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t,r){return t=Fb(t),X3e(e,zW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function X3e(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(e)}function Q3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function W5(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=Z3e(e,"string");return gp(t)=="symbol"?t:t+""}function Z3e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEe(e,t){if(e==null)return{};var r=tEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rEe(e){return e.value}function nEe(e,t){if(je.isValidElement(e))return je.cloneElement(e,t);if(typeof e=="function")return je.createElement(e,t);t.ref;var r=eEe(t,H3e);return je.createElement(DC,r)}var nL=1,vl=function(e){function t(){var r;G3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Y3e(this,t,[].concat(a)),W5(r,"lastBoundingBox",{width:-1,height:-1}),r}return J3e(t,e),K3e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nL||Math.abs(a.height-this.lastBoundingBox.height)>nL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return bc(bc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=bc(bc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return je.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},nEe(i,bc(bc({},this.props),{},{payload:VW(u,c,rEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=bc(bc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&$t(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(U.PureComponent);W5(vl,"displayName","Legend");W5(vl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aL=ay,aEe=MC,iEe=Os,iL=aL?aL.isConcatSpreadable:void 0;function sEe(e){return iEe(e)||aEe(e)||!!(iL&&e&&e[iL])}var oEe=sEe,lEe=PW,cEe=oEe;function WW(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=cEe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?WW(o,t-1,r,n,a):lEe(a,o):n||(a[a.length]=o)}return a}var HW=WW;function uEe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var fEe=uEe,dEe=fEe,hEe=dEe(),pEe=hEe,mEe=pEe,gEe=q5;function vEe(e,t){return e&&mEe(e,t,gEe)}var GW=vEe,yEe=oy;function xEe(e,t){return function(r,n){if(r==null)return r;if(!yEe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var bEe=xEe,wEe=GW,_Ee=bEe,SEe=_Ee(wEe),BC=SEe,AEe=BC,TEe=oy;function EEe(e,t){var r=-1,n=TEe(e)?Array(e.length):[];return AEe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var KW=EEe;function NEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var kEe=NEe,sL=tm;function CEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=sL(e),s=t!==void 0,o=t===null,l=t===t,c=sL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var PEe=CEe,OEe=PEe;function IEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=OEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var jEe=IEe,eA=AC,DEe=TC,LEe=Kf,MEe=KW,REe=kEe,FEe=jW,$Ee=jEe,BEe=lm,UEe=Os;function VEe(e,t,r){t.length?t=eA(t,function(i){return UEe(i)?function(s){return DEe(s,i.length===1?i[0]:i)}:i}):t=[BEe];var n=-1;t=eA(t,FEe(LEe));var a=MEe(e,function(i,s,o){var l=eA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return REe(a,function(i,s){return $Ee(i,s,r)})}var zEe=VEe;function qEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var WEe=qEe,HEe=WEe,oL=Math.max;function GEe(e,t,r){return t=oL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=oL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),HEe(e,this,o)}}var KEe=GEe;function YEe(e){return function(){return e}}var XEe=YEe,QEe=bh,JEe=function(){try{var e=QEe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),YW=JEe,ZEe=XEe,lL=YW,eNe=lm,tNe=lL?function(e,t){return lL(e,"toString",{configurable:!0,enumerable:!1,value:ZEe(t),writable:!0})}:eNe,rNe=tNe,nNe=800,aNe=16,iNe=Date.now;function sNe(e){var t=0,r=0;return function(){var n=iNe(),a=aNe-(n-r);if(r=n,a>0){if(++t>=nNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oNe=sNe,lNe=rNe,cNe=oNe,uNe=cNe(lNe),fNe=uNe,dNe=lm,hNe=KEe,pNe=fNe;function mNe(e,t){return pNe(hNe(e,t,dNe),e+"")}var gNe=mNe,vNe=bC,yNe=oy,xNe=RC,bNe=Gf;function wNe(e,t,r){if(!bNe(r))return!1;var n=typeof t;return(n=="number"?yNe(r)&&xNe(t,r.length):n=="string"&&t in r)?vNe(r[t],e):!1}var H5=wNe,_Ne=HW,SNe=zEe,ANe=gNe,cL=H5,TNe=ANe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&cL(e,t[0],t[1])?t=[]:r>2&&cL(t[0],t[1],t[2])&&(t=[t[0]]),SNe(e,_Ne(t,1),[])}),ENe=TNe;const UC=_n(ENe);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}function NNe(e,t){return ONe(e)||PNe(e,t)||CNe(e,t)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CNe(e,t){if(e){if(typeof e=="string")return uL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(e,t)}}function uL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ONe(e){if(Array.isArray(e))return e}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){INe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function INe(e,t,r){return t=jNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(e){var t=DNe(e,"string");return Qv(t)=="symbol"?t:t+""}function DNe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LNe(e){return Array.isArray(e)&&Ua(e[0])&&Ua(e[1])?e.join(" ~ "):e}var MNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(u&&u.length){var N={padding:0,margin:0},P=(h?UC(u,h):u).map(function(V,X){if(V.type==="none")return null;var Y=tA({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),J=V.formatter||f||LNe,G=V.value,q=V.name,ee=G,W=q;if(J&&ee!=null&&W!=null){var O=J(G,q,V,X,u);if(Array.isArray(O)){var R=NNe(O,2);ee=R[0],W=R[1]}else ee=O}return je.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Y},Ua(W)?je.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Ua(W)?je.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,je.createElement("span",{className:"recharts-tooltip-item-value"},ee),je.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return je.createElement("ul",{className:"recharts-tooltip-item-list",style:N},P)}return null},I=tA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=tA({margin:0},c),j=!Ur(m),T=j?m:"",S=Zr("recharts-default-tooltip",p),A=Zr("recharts-tooltip-label",g);j&&v&&u!==void 0&&u!==null&&(T=v(m,u));var D=w?{role:"status","aria-live":"assertive"}:{};return je.createElement("div",r3({className:S,style:I},D),je.createElement("p",{className:A,style:C},je.isValidElement(T)?T:"".concat(T)),b())};function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function Ax(e,t,r){return t=RNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=FNe(e,"string");return Jv(t)=="symbol"?t:t+""}function FNe(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zm="recharts-tooltip-wrapper",$Ne={visibility:"hidden"};function BNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Zr(zm,Ax(Ax(Ax(Ax({},"".concat(zm,"-right"),$t(r)&&t&&$t(t.x)&&r>=t.x),"".concat(zm,"-left"),$t(r)&&t&&$t(t.x)&&r<t.x),"".concat(zm,"-bottom"),$t(n)&&t&&$t(t.y)&&n>=t.y),"".concat(zm,"-top"),$t(n)&&t&&$t(t.y)&&n<t.y))}function dL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&$t(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function UNe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=dL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=dL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=UNe({translateX:u,translateY:f,useTranslate3d:o})):c=$Ne,{cssProperties:c,cssClasses:BNe({translateX:u,translateY:f,coordinate:r})}}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QW(n.key),n)}}function WNe(e,t,r){return t&&qNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HNe(e,t,r){return t=$b(t),GNe(e,XW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function GNe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(e)}function KNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function YNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function a3(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=XNe(e,"string");return vp(t)=="symbol"?t:t+""}function XNe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mL=1,QNe=function(e){function t(){var r;zNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=HNe(this,t,[].concat(a)),a3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),a3(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return YNe(t,e),WNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mL||Math.abs(n.height-this.state.lastBoundingBox.height)>mL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=VNe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),I=b.cssClasses,C=b.cssProperties,j=pL(pL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return je.createElement("div",{tabIndex:-1,className:I,style:j,ref:function(S){n.wrapperNode=S}},c)}}])}(U.PureComponent),JNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rc={isSsr:JNe(),get:function(t){return Rc[t]},set:function(t,r){if(typeof t=="string")Rc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Rc[a]=t[a]})}}};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZW(n.key),n)}}function tke(e,t,r){return t&&eke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rke(e,t,r){return t=Bb(t),nke(e,JW()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function nke(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(e)}function ake(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function ike(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function VC(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=ske(e,"string");return yp(t)=="symbol"?t:t+""}function ske(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oke(e){return e.dataKey}function lke(e,t){return je.isValidElement(e)?je.cloneElement(e,t):typeof e=="function"?je.createElement(e,t):je.createElement(MNe,t)}var _s=function(e){function t(){return ZNe(this,t),rke(this,t,arguments)}return ike(t,e),tke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,I=a.wrapperStyle,C=g??[];f&&C.length&&(C=VW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,oke));var j=C.length>0;return je.createElement(QNe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:I},lke(c,vL(vL({},this.props),{},{payload:C})))}}])}(U.PureComponent);VC(_s,"displayName","Tooltip");VC(_s,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cke=ic,uke=function(){return cke.Date.now()},fke=uke,dke=/\s/;function hke(e){for(var t=e.length;t--&&dke.test(e.charAt(t)););return t}var pke=hke,mke=pke,gke=/^\s+/;function vke(e){return e&&e.slice(0,mke(e)+1).replace(gke,"")}var yke=vke,xke=yke,yL=Gf,bke=tm,xL=NaN,wke=/^[-+]0x[0-9a-f]+$/i,_ke=/^0b[01]+$/i,Ske=/^0o[0-7]+$/i,Ake=parseInt;function Tke(e){if(typeof e=="number")return e;if(bke(e))return xL;if(yL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xke(e);var r=_ke.test(e);return r||Ske.test(e)?Ake(e.slice(2),r?2:8):wke.test(e)?xL:+e}var eH=Tke,Eke=Gf,rA=fke,bL=eH,Nke="Expected a function",kke=Math.max,Cke=Math.min;function Pke(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nke);t=bL(t)||0,Eke(r)&&(u=!!r.leading,f="maxWait"in r,i=f?kke(bL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var T=n,S=a;return n=a=void 0,c=j,s=e.apply(S,T),s}function g(j){return c=j,o=setTimeout(y,t),u?p(j):s}function m(j){var T=j-l,S=j-c,A=t-T;return f?Cke(A,i-S):A}function v(j){var T=j-l,S=j-c;return l===void 0||T>=t||T<0||f&&S>=i}function y(){var j=rA();if(v(j))return w(j);o=setTimeout(y,m(j))}function w(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function I(){return o===void 0?s:w(rA())}function C(){var j=rA(),T=v(j);if(n=arguments,a=this,l=j,T){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return C.cancel=b,C.flush=I,C}var Oke=Pke,Ike=Oke,jke=Gf,Dke="Expected a function";function Lke(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Dke);return jke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ike(e,t,{leading:n,maxWait:t,trailing:a})}var Mke=Lke;const tH=_n(Mke);function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fke(e){var t=$ke(e,"string");return Zv(t)=="symbol"?t:t+""}function $ke(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bke(e,t){return qke(e)||zke(e,t)||Vke(e,t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(e,t){if(e){if(typeof e=="string")return _L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _L(e,t)}}function _L(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function qke(e){if(Array.isArray(e))return e}var Wg=U.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,I=b===void 0?{}:b,C=U.useRef(null),j=U.useRef();j.current=w,U.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var T=U.useState({containerWidth:a.width,containerHeight:a.height}),S=Bke(T,2),A=S[0],D=S[1],E=U.useCallback(function(P,V){D(function(X){var Y=Math.round(P),J=Math.round(V);return X.containerWidth===Y&&X.containerHeight===J?X:{containerWidth:Y,containerHeight:J}})},[]);U.useEffect(function(){var P=function(q){var ee,W=q[0].contentRect,O=W.width,R=W.height;E(O,R),(ee=j.current)===null||ee===void 0||ee.call(j,O,R)};m>0&&(P=tH(P,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(P),X=C.current.getBoundingClientRect(),Y=X.width,J=X.height;return E(Y,J),V.observe(C.current),function(){V.disconnect()}},[E,m]);var N=U.useMemo(function(){var P=A.containerWidth,V=A.containerHeight;if(P<0||V<0)return null;Mc(jd(s)||jd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Mc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=jd(s)?P:s,Y=jd(l)?V:l;r&&r>0&&(X?Y=X/r:Y&&(X=Y*r),h&&Y>h&&(Y=h)),Mc(X>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Y,s,l,u,f,r);var J=!Array.isArray(p)&&Lc(p.type).endsWith("Chart");return je.Children.map(p,function(G){return je.isValidElement(G)?U.cloneElement(G,Tx({width:X,height:Y},J?{style:Tx({height:"100%",width:"100%",maxHeight:Y,maxWidth:X},G.props.style)}:{})):G})},[r,p,l,h,f,u,A,s]);return je.createElement("div",{id:v?"".concat(v):void 0,className:Zr("recharts-responsive-container",y),style:Tx(Tx({},I),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:C},N)}),rH=function(t){return null};rH.displayName="Cell";function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){Wke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wke(e,t,r){return t=Hke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hke(e){var t=Gke(e,"string");return e1(t)=="symbol"?t:t+""}function Gke(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gh={widthCache:{},cacheCount:0},Kke=2e3,Yke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AL="recharts_measurement_span";function Xke(e){var t=s3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Hg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rc.isSsr)return{width:0,height:0};var n=Xke(r),a=JSON.stringify({text:t,copyStyle:n});if(Gh.widthCache[a])return Gh.widthCache[a];try{var i=document.getElementById(AL);i||(i=document.createElement("span"),i.setAttribute("id",AL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=s3(s3({},Yke),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Gh.widthCache[a]=l,++Gh.cacheCount>Kke&&(Gh.cacheCount=0,Gh.widthCache={}),l}catch{return{width:0,height:0}}},Qke=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function Ub(e,t){return tCe(e)||eCe(e,t)||Zke(e,t)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return TL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TL(e,t)}}function TL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tCe(e){if(Array.isArray(e))return e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aCe(n.key),n)}}function nCe(e,t,r){return t&&EL(e.prototype,t),r&&EL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aCe(e){var t=iCe(e,"string");return t1(t)=="symbol"?t:t+""}function iCe(e,t){if(t1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lCe=Object.keys(nH),S0="NaN";function cCe(e,t){return e*nH[t]}var Ex=function(){function e(t,r){rCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sCe.test(r)&&(this.num=NaN,this.unit=""),lCe.includes(r)&&(this.num=cCe(t,r),this.unit="px")}return nCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=oCe.exec(r))!==null&&n!==void 0?n:[],i=Ub(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function aH(e){if(e.includes(S0))return S0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=NL.exec(t))!==null&&r!==void 0?r:[],a=Ub(n,4),i=a[1],s=a[2],o=a[3],l=Ex.parse(i??""),c=Ex.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return S0;t=t.replace(NL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=kL.exec(t))!==null&&f!==void 0?f:[],p=Ub(h,4),g=p[1],m=p[2],v=p[3],y=Ex.parse(g??""),w=Ex.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return S0;t=t.replace(kL,b.toString())}return t}var CL=/\(([^()]*)\)/;function uCe(e){for(var t=e;t.includes("(");){var r=CL.exec(t),n=Ub(r,2),a=n[1];t=t.replace(CL,aH(a))}return t}function fCe(e){var t=e.replace(/\s+/g,"");return t=uCe(t),t=aH(t),t}function dCe(e){try{return fCe(e)}catch{return S0}}function nA(e){var t=dCe(e.slice(5,-1));return t===S0?"":t}var hCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pCe=["dx","dy","angle","className","breakAll"];function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(this,arguments)}function PL(e,t){if(e==null)return{};var r=mCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OL(e,t){return xCe(e)||yCe(e,t)||vCe(e,t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vCe(e,t){if(e){if(typeof e=="string")return IL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(e,t)}}function IL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xCe(e){if(Array.isArray(e))return e}var iH=/[ \f\n\r\t\v\u2028\u2029]+/,sH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ur(r)||(n?i=r.toString().split(""):i=r.toString().split(iH));var s=i.map(function(l){return{word:l,width:Hg(l,a).width}}),o=n?0:Hg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},bCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=$t(s),f=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Y,J){var G=J.word,q=J.width,ee=Y[Y.length-1];if(ee&&(a==null||i||ee.width+q+n<Number(a)))ee.words.push(G),ee.width+=q+n;else{var W={words:[G],width:q};Y.push(W)}return Y},[])},p=h(r),g=function(X){return X.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!u)return p;for(var m="…",v=function(X){var Y=f.slice(0,X),J=sH({breakAll:c,style:l,children:Y+m}).wordsWithComputedWidth,G=h(J),q=G.length>s||g(G).width>Number(a);return[q,G]},y=0,w=f.length-1,b=0,I;y<=w&&b<=f.length-1;){var C=Math.floor((y+w)/2),j=C-1,T=v(j),S=OL(T,2),A=S[0],D=S[1],E=v(C),N=OL(E,1),P=N[0];if(!A&&!P&&(y=C+1),A&&P&&(w=C-1),!A&&P){I=D;break}b++}return I||p},jL=function(t){var r=Ur(t)?[]:t.toString().split(iH);return[{words:r}]},wCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Rc.isSsr){var l,c,u=sH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return jL(a);return bCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return jL(a)},DL="#808080",Vb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?DL:v,w=PL(t,hCe),b=U.useMemo(function(){return wCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),I=w.dx,C=w.dy,j=w.angle,T=w.className,S=w.breakAll,A=PL(w,pCe);if(!Ua(n)||!Ua(i))return null;var D=n+($t(I)?I:0),E=i+($t(C)?C:0),N;switch(m){case"start":N=nA("calc(".concat(c,")"));break;case"middle":N=nA("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=nA("calc(".concat(b.length-1," * -").concat(o,")"));break}var P=[];if(f){var V=b[0].width,X=w.width;P.push("scale(".concat(($t(X)?X/V:1)/V,")"))}return j&&P.push("rotate(".concat(j,", ").concat(D,", ").concat(E,")")),P.length&&(A.transform=P.join(" ")),je.createElement("text",o3({},qr(A,!0),{x:D,y:E,className:Zr("recharts-text",T),textAnchor:p,fill:y.includes("url")?DL:y}),b.map(function(Y,J){var G=Y.words.join(S?"":" ");return je.createElement("tspan",{x:D,dy:J===0?N:o,key:"".concat(G,"-").concat(J)},G)}))};function Sf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _Ce(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zC(e){let t,r,n;e.length!==2?(t=Sf,r=(o,l)=>Sf(e(o),l),n=(o,l)=>e(o)-l):(t=e===Sf||e===_Ce?e:SCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function SCe(){return 0}function oH(e){return e===null?NaN:+e}function*ACe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const TCe=zC(Sf),ly=TCe.right;zC(oH).center;class LL extends Map{constructor(t,r=kCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ML(this,t))}has(t){return super.has(ML(this,t))}set(t,r){return super.set(ECe(this,t),r)}delete(t){return super.delete(NCe(this,t))}}function ML({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ECe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function NCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CCe(e=Sf){if(e===Sf)return lH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function lH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PCe=Math.sqrt(50),OCe=Math.sqrt(10),ICe=Math.sqrt(2);function zb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=PCe?10:i>=OCe?5:i>=ICe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?zb(e,t,r*2):[o,l,c]}function l3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?zb(t,e,r):zb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function c3(e,t,r){return t=+t,e=+e,r=+r,zb(e,t,r)[2]}function u3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?c3(t,e,r):c3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?lH:CCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));cH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(qm(e,r,t),a(e[n],i)>0&&qm(e,r,n);s<o;){for(qm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?qm(e,r,o):(++o,qm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function qm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jCe(e,t,r){if(e=Float64Array.from(ACe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FL(e);if(t>=1)return RL(e);var n,a=(n-1)*t,i=Math.floor(a),s=RL(cH(e,i).subarray(0,i+1)),o=FL(e.subarray(i+1));return s+(o-s)*(a-i)}}function DCe(e,t,r=oH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function LCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ro(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const f3=Symbol("implicit");function qC(){var e=new LL,t=[],r=[],n=f3;function a(i){let s=e.get(i);if(s===void 0){if(n!==f3)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new LL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qC(t,r).unknown(n)},Ro.apply(a,arguments),a}function r1(){var e=qC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=LCe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return r1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ro.apply(f(),arguments)}function uH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uH(t())},e}function Gg(){return uH(r1.apply(null,arguments).paddingInner(1))}function WC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cy(){}var n1=.7,qb=1/n1,$0="\\s*([+-]?\\d+)\\s*",a1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MCe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${$0},${$0},${$0}\\)$`),FCe=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),$Ce=new RegExp(`^rgba\\(${$0},${$0},${$0},${a1}\\)$`),BCe=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${a1}\\)$`),UCe=new RegExp(`^hsl\\(${a1},${Yl},${Yl}\\)$`),VCe=new RegExp(`^hsla\\(${a1},${Yl},${Yl},${a1}\\)$`),$L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WC(cy,i1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BL,formatHex:BL,formatHex8:zCe,formatHsl:qCe,formatRgb:UL,toString:UL});function BL(){return this.rgb().formatHex()}function zCe(){return this.rgb().formatHex8()}function qCe(){return dH(this).formatHsl()}function UL(){return this.rgb().formatRgb()}function i1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VL(t):r===3?new Ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RCe.exec(e))?new Ns(t[1],t[2],t[3],1):(t=FCe.exec(e))?new Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$Ce.exec(e))?Nx(t[1],t[2],t[3],t[4]):(t=BCe.exec(e))?Nx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UCe.exec(e))?WL(t[1],t[2]/100,t[3]/100,1):(t=VCe.exec(e))?WL(t[1],t[2]/100,t[3]/100,t[4]):$L.hasOwnProperty(e)?VL($L[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function VL(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function Nx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ns(e,t,r,n)}function WCe(e){return e instanceof cy||(e=i1(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function d3(e,t,r,n){return arguments.length===1?WCe(e):new Ns(e,t,r,n??1)}function Ns(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}WC(Ns,d3,fH(cy,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?n1:Math.pow(n1,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(zd(this.r),zd(this.g),zd(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zL,formatHex:zL,formatHex8:HCe,formatRgb:qL,toString:qL}));function zL(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function HCe(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function qL(){const e=Wb(this.opacity);return`${e===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${e===1?")":`, ${e})`}`}function Wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=zd(e),(e<16?"0":"")+e.toString(16)}function WL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cl(e,t,r,n)}function dH(e){if(e instanceof cl)return new cl(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=i1(e)),!e)return new cl;if(e instanceof cl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new cl(s,o,l,e.opacity)}function GCe(e,t,r,n){return arguments.length===1?dH(e):new cl(e,t,r,n??1)}function cl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}WC(cl,GCe,fH(cy,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new cl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?n1:Math.pow(n1,e),new cl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ns(aA(e>=240?e-240:e+120,a,n),aA(e,a,n),aA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new cl(HL(this.h),kx(this.s),kx(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wb(this.opacity);return`${e===1?"hsl(":"hsla("}${HL(this.h)}, ${kx(this.s)*100}%, ${kx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HL(e){return e=(e||0)%360,e<0?e+360:e}function kx(e){return Math.max(0,Math.min(1,e||0))}function aA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const HC=e=>()=>e;function KCe(e,t){return function(r){return e+r*t}}function YCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function XCe(e){return(e=+e)==1?hH:function(t,r){return r-t?YCe(t,r,e):HC(isNaN(t)?r:t)}}function hH(e,t){var r=t-e;return r?KCe(e,r):HC(isNaN(e)?t:e)}const GL=function e(t){var r=XCe(t);function n(a,i){var s=r((a=d3(a)).r,(i=d3(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=hH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function QCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function JCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=cm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function ePe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=cm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var h3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iA=new RegExp(h3.source,"g");function rPe(e){return function(){return e}}function nPe(e){return function(t){return e(t)+""}}function aPe(e,t){var r=h3.lastIndex=iA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=h3.exec(e))&&(a=iA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Hb(n,a)})),r=iA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?nPe(l[0].x):rPe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function cm(e,t){var r=typeof t,n;return t==null||r==="boolean"?HC(t):(r==="number"?Hb:r==="string"?(n=i1(t))?(t=n,GL):aPe:t instanceof i1?GL:t instanceof Date?ePe:JCe(t)?QCe:Array.isArray(t)?ZCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tPe:Hb)(e,t)}function GC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iPe(e,t){t===void 0&&(t=e,e=cm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function sPe(e){return function(){return e}}function Gb(e){return+e}var KL=[0,1];function ls(e){return e}function p3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sPe(isNaN(t)?NaN:.5)}function oPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=p3(a,n),i=r(s,i)):(n=p3(n,a),i=r(i,s)),function(o){return i(n(o))}}function cPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=p3(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ly(e,o,1,n)-1;return i[l](a[l](o))}}function uy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function G5(){var e=KL,t=KL,r=cm,n,a,i,s=ls,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==ls&&(s=oPe(e[0],e[h-1])),o=h>2?cPe:lPe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=GC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ls,u()):s!==ls},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function KC(){return G5()(ls,ls)}function uPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xp(e){return e=Kb(Math.abs(e)),e?e[1]:NaN}function fPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function dPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s1(e){if(!(t=hPe.exec(e)))throw new Error("invalid format: "+e);var t;return new YC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}s1.prototype=YC.prototype;function YC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}YC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var pH;function mPe(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(pH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kb(e,Math.max(0,t+i-1))[0]}function YL(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YL(e*100,t),r:YL,s:mPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QL(e){return e}var JL=Array.prototype.map,ZL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gPe(e){var t=e.grouping===void 0||e.thousands===void 0?QL:fPe(JL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QL:dPe(JL.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=s1(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,I=f.trim,C=f.type;C==="n"?(w=!0,C="g"):XL[C]||(b===void 0&&(b=12),I=!0,C="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?n:/[%p]/.test(C)?s:"",S=XL[C],A=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(E){var N=j,P=T,V,X,Y;if(C==="c")P=S(E)+P,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),b),I&&(E=pPe(E)),J&&+E==0&&g!=="+"&&(J=!1),N=(J?g==="("?g:o:g==="-"||g==="("?"":g)+N,P=(C==="s"?ZL[8+pH/3]:"")+P+(J&&g==="("?")":""),A){for(V=-1,X=E.length;++V<X;)if(Y=E.charCodeAt(V),48>Y||Y>57){P=(Y===46?a+E.slice(V+1):E.slice(V))+P,E=E.slice(0,V);break}}}w&&!v&&(E=t(E,1/0));var G=N.length+E.length+P.length,q=G<y?new Array(y-G+1).join(h):"";switch(w&&v&&(E=t(q+E,q.length?y-P.length:1/0),q=""),p){case"<":E=N+E+P+q;break;case"=":E=N+q+E+P;break;case"^":E=q.slice(0,G=q.length>>1)+N+E+P+q.slice(G);break;default:E=q+N+E+P;break}return i(E)}return D.toString=function(){return f+""},D}function u(f,h){var p=c((f=s1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(xp(h)/3)))*3,m=Math.pow(10,-g),v=ZL[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var Cx,XC,mH;vPe({thousands:",",grouping:[3],currency:["$",""]});function vPe(e){return Cx=gPe(e),XC=Cx.format,mH=Cx.formatPrefix,Cx}function yPe(e){return Math.max(0,-xp(Math.abs(e)))}function xPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xp(t)/3)))*3-xp(Math.abs(e)))}function bPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xp(t)-xp(e))+1}function gH(e,t,r,n){var a=u3(e,t,r),i;switch(n=s1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xPe(a,s))&&(n.precision=i),mH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=yPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return XC(n)}function Yf(e){var t=e.domain;return e.ticks=function(r){var n=t();return l3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return gH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=c3(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Yb(){var e=KC();return e.copy=function(){return uy(e,Yb())},Ro.apply(e,arguments),Yf(e)}function vH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return vH(e).unknown(t)},e=arguments.length?Array.from(e,Gb):[0,1],Yf(r)}function yH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function eM(e){return Math.log(e)}function tM(e){return Math.exp(e)}function wPe(e){return-Math.log(-e)}function _Pe(e){return-Math.exp(-e)}function SPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function APe(e){return e===10?SPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rM(e){return(t,r)=>-e(-t,r)}function QC(e){const t=e(eM,tM),r=t.domain;let n=10,a,i;function s(){return a=TPe(n),i=APe(n),r()[0]<0?(a=rM(a),i=rM(i),e(wPe,_Pe)):e(eM,tM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=l3(c,u,v))}else y=l3(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=s1(l)).precision==null&&(l.trim=!0),l=XC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(yH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function xH(){const e=QC(G5()).domain([1,10]);return e.copy=()=>uy(e,xH()).base(e.base()),Ro.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JC(e){var t=1,r=e(nM(t),aM(t));return r.constant=function(n){return arguments.length?e(nM(t=+n),aM(t)):t},Yf(r)}function bH(){var e=JC(G5());return e.copy=function(){return uy(e,bH()).constant(e.constant())},Ro.apply(e,arguments)}function iM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NPe(e){return e<0?-e*e:e*e}function ZC(e){var t=e(ls,ls),r=1;function n(){return r===1?e(ls,ls):r===.5?e(EPe,NPe):e(iM(r),iM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yf(t)}function eP(){var e=ZC(G5());return e.copy=function(){return uy(e,eP()).exponent(e.exponent())},Ro.apply(e,arguments),e}function kPe(){return eP.apply(null,arguments).exponent(.5)}function sM(e){return Math.sign(e)*e*e}function CPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wH(){var e=KC(),t=[0,1],r=!1,n;function a(i){var s=CPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(sM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gb)).map(sM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ro.apply(a,arguments),Yf(a)}function _H(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=DCe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ly(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return _H().domain(e).range(t).unknown(n)},Ro.apply(i,arguments)}function SH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ly(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return SH().domain([e,t]).range(a).unknown(i)},Ro.apply(Yf(s),arguments)}function AH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ly(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AH().domain(e).range(t).unknown(r)},Ro.apply(a,arguments)}const sA=new Date,oA=new Date;function qa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>qa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(sA.setTime(+i),oA.setTime(+s),e(sA),e(oA),Math.floor(r(sA,oA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Xb=qa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xb);Xb.range;const kc=1e3,Ao=kc*60,Cc=Ao*60,Jc=Cc*24,tP=Jc*7,oM=Jc*30,lA=Jc*365,Ld=qa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCSeconds());Ld.range;const rP=qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getMinutes());rP.range;const nP=qa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getUTCMinutes());nP.range;const aP=qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc-e.getMinutes()*Ao)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getHours());aP.range;const iP=qa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getUTCHours());iP.range;const fy=qa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ao)/Jc,e=>e.getDate()-1);fy.range;const K5=qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>e.getUTCDate()-1);K5.range;const TH=qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>Math.floor(e/Jc));TH.range;function wh(e){return qa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ao)/tP)}const Y5=wh(0),Qb=wh(1),PPe=wh(2),OPe=wh(3),bp=wh(4),IPe=wh(5),jPe=wh(6);Y5.range;Qb.range;PPe.range;OPe.range;bp.range;IPe.range;jPe.range;function _h(e){return qa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tP)}const X5=_h(0),Jb=_h(1),DPe=_h(2),LPe=_h(3),wp=_h(4),MPe=_h(5),RPe=_h(6);X5.range;Jb.range;DPe.range;LPe.range;wp.range;MPe.range;RPe.range;const sP=qa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sP.range;const oP=qa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oP.range;const Zc=qa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zc.range;const eu=qa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eu.range;function EH(e,t,r,n,a,i){const s=[[Ld,1,kc],[Ld,5,5*kc],[Ld,15,15*kc],[Ld,30,30*kc],[i,1,Ao],[i,5,5*Ao],[i,15,15*Ao],[i,30,30*Ao],[a,1,Cc],[a,3,3*Cc],[a,6,6*Cc],[a,12,12*Cc],[n,1,Jc],[n,2,2*Jc],[r,1,tP],[t,1,oM],[t,3,3*oM],[e,1,lA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=zC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(u3(c/lA,u/lA,f));if(p===0)return Xb.every(Math.max(u3(c,u,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[FPe,$Pe]=EH(eu,oP,X5,TH,iP,nP),[BPe,UPe]=EH(Zc,sP,Y5,fy,aP,rP);function cA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Hm(a),u=Gm(a),f=Hm(i),h=Gm(i),p=Hm(s),g=Gm(s),m=Hm(o),v=Gm(o),y=Hm(l),w=Gm(l),b={a:J,A:G,b:q,B:ee,c:null,d:hM,e:hM,f:f6e,g:w6e,G:S6e,H:l6e,I:c6e,j:u6e,L:NH,m:d6e,M:h6e,p:W,q:O,Q:gM,s:vM,S:p6e,u:m6e,U:g6e,V:v6e,w:y6e,W:x6e,x:null,X:null,y:b6e,Y:_6e,Z:A6e,"%":mM},I={a:R,A:z,b:H,B:Z,c:null,d:pM,e:pM,f:k6e,g:F6e,G:B6e,H:T6e,I:E6e,j:N6e,L:CH,m:C6e,M:P6e,p:oe,q:de,Q:gM,s:vM,S:O6e,u:I6e,U:j6e,V:D6e,w:L6e,W:M6e,x:null,X:null,y:R6e,Y:$6e,Z:U6e,"%":mM},C={a:D,A:E,b:N,B:P,c:V,d:fM,e:fM,f:a6e,g:uM,G:cM,H:dM,I:dM,j:e6e,L:n6e,m:ZPe,M:t6e,p:A,q:JPe,Q:s6e,s:o6e,S:r6e,u:GPe,U:KPe,V:YPe,w:HPe,W:XPe,x:X,X:Y,y:uM,Y:cM,Z:QPe,"%":i6e};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),I.x=j(r,I),I.X=j(n,I),I.c=j(t,I);function j(re,he){return function(we){var B=[],Ae=-1,ve=0,ye=re.length,te,Pe,Fe;for(we instanceof Date||(we=new Date(+we));++Ae<ye;)re.charCodeAt(Ae)===37&&(B.push(re.slice(ve,Ae)),(Pe=lM[te=re.charAt(++Ae)])!=null?te=re.charAt(++Ae):Pe=te==="e"?" ":"0",(Fe=he[te])&&(te=Fe(we,Pe)),B.push(te),ve=Ae+1);return B.push(re.slice(ve,Ae)),B.join("")}}function T(re,he){return function(we){var B=Wm(1900,void 0,1),Ae=S(B,re,we+="",0),ve,ye;if(Ae!=we.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(he&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ve=uA(Wm(B.y,0,1)),ye=ve.getUTCDay(),ve=ye>4||ye===0?Jb.ceil(ve):Jb(ve),ve=K5.offset(ve,(B.V-1)*7),B.y=ve.getUTCFullYear(),B.m=ve.getUTCMonth(),B.d=ve.getUTCDate()+(B.w+6)%7):(ve=cA(Wm(B.y,0,1)),ye=ve.getDay(),ve=ye>4||ye===0?Qb.ceil(ve):Qb(ve),ve=fy.offset(ve,(B.V-1)*7),B.y=ve.getFullYear(),B.m=ve.getMonth(),B.d=ve.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ye="Z"in B?uA(Wm(B.y,0,1)).getUTCDay():cA(Wm(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ye+5)%7:B.w+B.U*7-(ye+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,uA(B)):cA(B)}}function S(re,he,we,B){for(var Ae=0,ve=he.length,ye=we.length,te,Pe;Ae<ve;){if(B>=ye)return-1;if(te=he.charCodeAt(Ae++),te===37){if(te=he.charAt(Ae++),Pe=C[te in lM?he.charAt(Ae++):te],!Pe||(B=Pe(re,we,B))<0)return-1}else if(te!=we.charCodeAt(B++))return-1}return B}function A(re,he,we){var B=c.exec(he.slice(we));return B?(re.p=u.get(B[0].toLowerCase()),we+B[0].length):-1}function D(re,he,we){var B=p.exec(he.slice(we));return B?(re.w=g.get(B[0].toLowerCase()),we+B[0].length):-1}function E(re,he,we){var B=f.exec(he.slice(we));return B?(re.w=h.get(B[0].toLowerCase()),we+B[0].length):-1}function N(re,he,we){var B=y.exec(he.slice(we));return B?(re.m=w.get(B[0].toLowerCase()),we+B[0].length):-1}function P(re,he,we){var B=m.exec(he.slice(we));return B?(re.m=v.get(B[0].toLowerCase()),we+B[0].length):-1}function V(re,he,we){return S(re,t,he,we)}function X(re,he,we){return S(re,r,he,we)}function Y(re,he,we){return S(re,n,he,we)}function J(re){return s[re.getDay()]}function G(re){return i[re.getDay()]}function q(re){return l[re.getMonth()]}function ee(re){return o[re.getMonth()]}function W(re){return a[+(re.getHours()>=12)]}function O(re){return 1+~~(re.getMonth()/3)}function R(re){return s[re.getUTCDay()]}function z(re){return i[re.getUTCDay()]}function H(re){return l[re.getUTCMonth()]}function Z(re){return o[re.getUTCMonth()]}function oe(re){return a[+(re.getUTCHours()>=12)]}function de(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var he=j(re+="",b);return he.toString=function(){return re},he},parse:function(re){var he=T(re+="",!1);return he.toString=function(){return re},he},utcFormat:function(re){var he=j(re+="",I);return he.toString=function(){return re},he},utcParse:function(re){var he=T(re+="",!0);return he.toString=function(){return re},he}}}var lM={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,zPe=/^%/,qPe=/[\\^$*+?|[\]().{}]/g;function tn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function WPe(e){return e.replace(qPe,"\\$&")}function Hm(e){return new RegExp("^(?:"+e.map(WPe).join("|")+")","i")}function Gm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HPe(e,t,r){var n=ni.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function GPe(e,t,r){var n=ni.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KPe(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function YPe(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XPe(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cM(e,t,r){var n=ni.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uM(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JPe(e,t,r){var n=ni.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ZPe(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fM(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function e6e(e,t,r){var n=ni.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dM(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function t6e(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function r6e(e,t,r){var n=ni.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function n6e(e,t,r){var n=ni.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function a6e(e,t,r){var n=ni.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function i6e(e,t,r){var n=zPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s6e(e,t,r){var n=ni.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function o6e(e,t,r){var n=ni.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hM(e,t){return tn(e.getDate(),t,2)}function l6e(e,t){return tn(e.getHours(),t,2)}function c6e(e,t){return tn(e.getHours()%12||12,t,2)}function u6e(e,t){return tn(1+fy.count(Zc(e),e),t,3)}function NH(e,t){return tn(e.getMilliseconds(),t,3)}function f6e(e,t){return NH(e,t)+"000"}function d6e(e,t){return tn(e.getMonth()+1,t,2)}function h6e(e,t){return tn(e.getMinutes(),t,2)}function p6e(e,t){return tn(e.getSeconds(),t,2)}function m6e(e){var t=e.getDay();return t===0?7:t}function g6e(e,t){return tn(Y5.count(Zc(e)-1,e),t,2)}function kH(e){var t=e.getDay();return t>=4||t===0?bp(e):bp.ceil(e)}function v6e(e,t){return e=kH(e),tn(bp.count(Zc(e),e)+(Zc(e).getDay()===4),t,2)}function y6e(e){return e.getDay()}function x6e(e,t){return tn(Qb.count(Zc(e)-1,e),t,2)}function b6e(e,t){return tn(e.getFullYear()%100,t,2)}function w6e(e,t){return e=kH(e),tn(e.getFullYear()%100,t,2)}function _6e(e,t){return tn(e.getFullYear()%1e4,t,4)}function S6e(e,t){var r=e.getDay();return e=r>=4||r===0?bp(e):bp.ceil(e),tn(e.getFullYear()%1e4,t,4)}function A6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tn(t/60|0,"0",2)+tn(t%60,"0",2)}function pM(e,t){return tn(e.getUTCDate(),t,2)}function T6e(e,t){return tn(e.getUTCHours(),t,2)}function E6e(e,t){return tn(e.getUTCHours()%12||12,t,2)}function N6e(e,t){return tn(1+K5.count(eu(e),e),t,3)}function CH(e,t){return tn(e.getUTCMilliseconds(),t,3)}function k6e(e,t){return CH(e,t)+"000"}function C6e(e,t){return tn(e.getUTCMonth()+1,t,2)}function P6e(e,t){return tn(e.getUTCMinutes(),t,2)}function O6e(e,t){return tn(e.getUTCSeconds(),t,2)}function I6e(e){var t=e.getUTCDay();return t===0?7:t}function j6e(e,t){return tn(X5.count(eu(e)-1,e),t,2)}function PH(e){var t=e.getUTCDay();return t>=4||t===0?wp(e):wp.ceil(e)}function D6e(e,t){return e=PH(e),tn(wp.count(eu(e),e)+(eu(e).getUTCDay()===4),t,2)}function L6e(e){return e.getUTCDay()}function M6e(e,t){return tn(Jb.count(eu(e)-1,e),t,2)}function R6e(e,t){return tn(e.getUTCFullYear()%100,t,2)}function F6e(e,t){return e=PH(e),tn(e.getUTCFullYear()%100,t,2)}function $6e(e,t){return tn(e.getUTCFullYear()%1e4,t,4)}function B6e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?wp(e):wp.ceil(e),tn(e.getUTCFullYear()%1e4,t,4)}function U6e(){return"+0000"}function mM(){return"%"}function gM(e){return+e}function vM(e){return Math.floor(+e/1e3)}var Kh,OH,IH;V6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V6e(e){return Kh=VPe(e),OH=Kh.format,Kh.parse,IH=Kh.utcFormat,Kh.utcParse,Kh}function z6e(e){return new Date(e)}function q6e(e){return e instanceof Date?+e:+new Date(+e)}function lP(e,t,r,n,a,i,s,o,l,c){var u=KC(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),b=c("%B"),I=c("%Y");function C(j){return(l(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?v:n(j)<j?a(j)<j?y:w:r(j)<j?b:I)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?h(Array.from(j,q6e)):h().map(z6e)},u.ticks=function(j){var T=h();return e(T[0],T[T.length-1],j??10)},u.tickFormat=function(j,T){return T==null?C:c(T)},u.nice=function(j){var T=h();return(!j||typeof j.range!="function")&&(j=t(T[0],T[T.length-1],j??10)),j?h(yH(T,j)):u},u.copy=function(){return uy(u,lP(e,t,r,n,a,i,s,o,l,c))},u}function W6e(){return Ro.apply(lP(BPe,UPe,Zc,sP,Y5,fy,aP,rP,Ld,OH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H6e(){return Ro.apply(lP(FPe,$Pe,eu,oP,X5,K5,iP,nP,Ld,IH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q5(){var e=0,t=1,r,n,a,i,s=ls,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=u(cm),c.rangeRound=u(GC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jH(){var e=Yf(Q5()(ls));return e.copy=function(){return Xf(e,jH())},uu.apply(e,arguments)}function DH(){var e=QC(Q5()).domain([1,10]);return e.copy=function(){return Xf(e,DH()).base(e.base())},uu.apply(e,arguments)}function LH(){var e=JC(Q5());return e.copy=function(){return Xf(e,LH()).constant(e.constant())},uu.apply(e,arguments)}function cP(){var e=ZC(Q5());return e.copy=function(){return Xf(e,cP()).exponent(e.exponent())},uu.apply(e,arguments)}function G6e(){return cP.apply(null,arguments).exponent(.5)}function MH(){var e=[],t=ls;function r(n){if(n!=null&&!isNaN(n=+n))return t((ly(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jCe(e,i/n))},r.copy=function(){return MH(t).domain(e)},uu.apply(r,arguments)}function J5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ls,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,c=iPe(m,[y,w,b]),p):[c(0),c(.5),c(1)]}}return p.range=g(cm),p.rangeRound=g(GC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function RH(){var e=Yf(J5()(ls));return e.copy=function(){return Xf(e,RH())},uu.apply(e,arguments)}function FH(){var e=QC(J5()).domain([.1,1,10]);return e.copy=function(){return Xf(e,FH()).base(e.base())},uu.apply(e,arguments)}function $H(){var e=JC(J5());return e.copy=function(){return Xf(e,$H()).constant(e.constant())},uu.apply(e,arguments)}function uP(){var e=ZC(J5());return e.copy=function(){return Xf(e,uP()).exponent(e.exponent())},uu.apply(e,arguments)}function K6e(){return uP.apply(null,arguments).exponent(.5)}const yM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r1,scaleDiverging:RH,scaleDivergingLog:FH,scaleDivergingPow:uP,scaleDivergingSqrt:K6e,scaleDivergingSymlog:$H,scaleIdentity:vH,scaleImplicit:f3,scaleLinear:Yb,scaleLog:xH,scaleOrdinal:qC,scalePoint:Gg,scalePow:eP,scaleQuantile:_H,scaleQuantize:SH,scaleRadial:wH,scaleSequential:jH,scaleSequentialLog:DH,scaleSequentialPow:cP,scaleSequentialQuantile:MH,scaleSequentialSqrt:G6e,scaleSequentialSymlog:LH,scaleSqrt:kPe,scaleSymlog:bH,scaleThreshold:AH,scaleTime:W6e,scaleUtc:H6e,tickFormat:gH},Symbol.toStringTag,{value:"Module"}));var Y6e=tm;function X6e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!Y6e(s):r(s,o)))var o=s,l=i}return l}var BH=X6e;function Q6e(e,t){return e>t}var J6e=Q6e,Z6e=BH,eOe=J6e,tOe=lm;function rOe(e){return e&&e.length?Z6e(e,tOe,eOe):void 0}var nOe=rOe;const Z5=_n(nOe);function aOe(e,t){return e<t}var iOe=aOe,sOe=BH,oOe=iOe,lOe=lm;function cOe(e){return e&&e.length?sOe(e,lOe,oOe):void 0}var uOe=cOe;const e_=_n(uOe);var fOe=AC,dOe=Kf,hOe=KW,pOe=Os;function mOe(e,t){var r=pOe(e)?fOe:hOe;return r(e,dOe(t))}var gOe=mOe,vOe=HW,yOe=gOe;function xOe(e,t){return vOe(yOe(e,t),1)}var bOe=xOe;const wOe=_n(bOe);var _Oe=$C;function SOe(e,t){return _Oe(e,t)}var AOe=SOe;const t_=_n(AOe);var um=1e9,TOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dP,Gn=!0,Do="[DecimalError] ",qd=Do+"Invalid argument: ",fP=Do+"Exponent out of range: ",fm=Math.floor,_d=Math.pow,EOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ws,Xa=1e7,$n=7,UH=9007199254740991,Zb=fm(UH/$n),er={};er.absoluteValue=er.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};er.comparedTo=er.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};er.decimalPlaces=er.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$n;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};er.dividedBy=er.div=function(e){return Fc(this,new this.constructor(e))};er.dividedToIntegerBy=er.idiv=function(e){var t=this,r=t.constructor;return Nn(Fc(t,new r(e),0,1),r.precision)};er.equals=er.eq=function(e){return!this.cmp(e)};er.exponent=function(){return ja(this)};er.greaterThan=er.gt=function(e){return this.cmp(e)>0};er.greaterThanOrEqualTo=er.gte=function(e){return this.cmp(e)>=0};er.isInteger=er.isint=function(){return this.e>this.d.length-2};er.isNegative=er.isneg=function(){return this.s<0};er.isPositive=er.ispos=function(){return this.s>0};er.isZero=function(){return this.s===0};er.lessThan=er.lt=function(e){return this.cmp(e)<0};er.lessThanOrEqualTo=er.lte=function(e){return this.cmp(e)<1};er.logarithm=er.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ws))throw Error(Do+"NaN");if(r.s<1)throw Error(Do+(r.s?"NaN":"-Infinity"));return r.eq(Ws)?new n(0):(Gn=!1,t=Fc(o1(r,i),o1(e,i),i),Gn=!0,Nn(t,a))};er.minus=er.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qH(t,e):VH(t,(e.s=-e.s,e))};er.modulo=er.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Do+"NaN");return r.s?(Gn=!1,t=Fc(r,e,0,1).times(e),Gn=!0,r.minus(t)):Nn(new n(r),a)};er.naturalExponential=er.exp=function(){return zH(this)};er.naturalLogarithm=er.ln=function(){return o1(this)};er.negated=er.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};er.plus=er.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VH(t,e):qH(t,(e.s=-e.s,e))};er.precision=er.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qd+e);if(t=ja(a)+1,n=a.d.length-1,r=n*$n+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};er.squareRoot=er.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Do+"NaN")}for(e=ja(o),Gn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Bl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=fm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Fc(o,i,s+2)).times(.5),Bl(i.d).slice(0,s)===(t=Bl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Nn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Gn=!0,Nn(n,r)};er.times=er.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Xa|0,t=o/Xa|0;i[a]=(i[a]+t)%Xa|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Gn?Nn(e,f.precision):e};er.toDecimalPlaces=er.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tc(e,0,um),t===void 0?t=n.rounding:tc(t,0,8),Nn(r,e+ja(r)+1,t))};er.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sh(n,!0):(tc(e,0,um),t===void 0?t=a.rounding:tc(t,0,8),n=Nn(new a(n),e+1,t),r=sh(n,!0,e+1)),r};er.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?sh(a):(tc(e,0,um),t===void 0?t=i.rounding:tc(t,0,8),n=Nn(new i(a),e+ja(a)+1,t),r=sh(n.abs(),!1,e+ja(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};er.toInteger=er.toint=function(){var e=this,t=e.constructor;return Nn(new t(e),ja(e)+1,t.rounding)};er.toNumber=function(){return+this};er.toPower=er.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ws);if(o=new l(o),!o.s){if(e.s<1)throw Error(Do+"Infinity");return o}if(o.eq(Ws))return o;if(n=l.precision,e.eq(Ws))return Nn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=UH){for(a=new l(Ws),t=Math.ceil(n/$n+4),Gn=!1;r%2&&(a=a.times(o),bM(a.d,t)),r=fm(r/2),r!==0;)o=o.times(o),bM(o.d,t);return Gn=!0,e.s<0?new l(Ws).div(a):Nn(a,n)}}else if(i<0)throw Error(Do+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Gn=!1,a=e.times(o1(o,n+c)),Gn=!0,a=zH(a),a.s=i,a};er.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ja(a),n=sh(a,r<=i.toExpNeg||r>=i.toExpPos)):(tc(e,1,um),t===void 0?t=i.rounding:tc(t,0,8),a=Nn(new i(a),e,t),r=ja(a),n=sh(a,e<=r||r<=i.toExpNeg,e)),n};er.toSignificantDigits=er.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tc(e,1,um),t===void 0?t=n.rounding:tc(t,0,8)),Nn(new n(r),e,t)};er.toString=er.valueOf=er.val=er.toJSON=er[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ja(e),r=e.constructor;return sh(e,t<=r.toExpNeg||t>=r.toExpPos)};function VH(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Gn?Nn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/$n),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Xa|0,l[i]%=Xa;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Gn?Nn(t,f):t}function tc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qd+e)}function Bl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=$n-n.length,r&&(i+=Wu(r)),i+=n;s=e[t],n=s+"",r=$n-n.length,r&&(i+=Wu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Fc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Xa|0,s=i/Xa|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Xa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,g,m,v,y,w,b,I,C,j,T,S,A=n.constructor,D=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Do+"Division by zero");for(l=n.e-a.e,T=N.length,C=E.length,p=new A(D),g=p.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?w=i=A.precision:s?w=i+(ja(n)-ja(a))+1:w=i,w<0)return new A(0);if(w=w/$n+2|0,c=0,T==1)for(u=0,N=N[0],w++;(c<C||u)&&w--;c++)b=u*Xa+(E[c]||0),g[c]=b/N|0,u=b%N|0;else{for(u=Xa/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,C=E.length),I=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;S=N.slice(),S.unshift(0),j=N[0],N[1]>=Xa/2&&++j;do u=0,o=t(N,m,T,v),o<0?(y=m[0],T!=v&&(y=y*Xa+(m[1]||0)),u=y/j|0,u>1?(u>=Xa&&(u=Xa-1),f=e(N,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,T<h?S:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(N,m,T,v),o<1&&(u++,r(m,T<v?S:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[I]||0:(m=[E[I]],v=1);while((I++<C||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,Nn(p,s?i+ja(p)+1:i)}}();function zH(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ja(e)>16)throw Error(fP+ja(e));if(!e.s)return new u(Ws);for(t==null?(Gn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(_d(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ws),u.precision=o;;){if(a=Nn(a.times(e),o),r=r.times(++l),s=i.plus(Fc(a,r,o)),Bl(s.d).slice(0,o)===Bl(i.d).slice(0,o)){for(;c--;)i=Nn(i.times(i),o);return u.precision=f,t==null?(Gn=!0,Nn(i,f)):i}i=s}}function ja(e){for(var t=e.e*$n,r=e.d[0];r>=10;r/=10)t++;return t}function fA(e,t,r){if(t>e.LN10.sd())throw Gn=!0,r&&(e.precision=r),Error(Do+"LN10 precision limit exceeded");return Nn(new e(e.LN10),t)}function Wu(e){for(var t="";e--;)t+="0";return t}function o1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Do+(p.s?"NaN":"-Infinity"));if(p.eq(Ws))return new m(0);if(t==null?(Gn=!1,c=v):c=t,p.eq(10))return t==null&&(Gn=!0),fA(m,c);if(c+=h,m.precision=c,r=Bl(g),n=r.charAt(0),i=ja(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Bl(p.d),n=r.charAt(0),f++;i=ja(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=fA(m,c+2,v).times(i+""),p=o1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Gn=!0,Nn(p,v)):p;for(o=s=p=Fc(p.minus(Ws),p.plus(Ws),c),u=Nn(p.times(p),c),a=3;;){if(s=Nn(s.times(u),c),l=o.plus(Fc(s,new m(a),c)),Bl(l.d).slice(0,c)===Bl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(fA(m,c+2,v).times(i+""))),o=Fc(o,new m(f),c),m.precision=v,t==null?(Gn=!0,Nn(o,v)):o;o=l,a+=2}}function xM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=fm(r/$n),e.d=[],n=(r+1)%$n,r<0&&(n+=$n),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=$n;n<a;)e.d.push(+t.slice(n,n+=$n));t=t.slice(n),n=$n-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Gn&&(e.e>Zb||e.e<-Zb))throw Error(fP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=$n,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/$n),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=$n,a=n-$n+s}if(r!==void 0&&(i=_d(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/_d(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ja(e),f.length=1,t=t-i-1,f[0]=_d(10,($n-t%$n)%$n),e.e=fm(-t/$n)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=_d(10,$n-n),f[u]=a>0?(c/_d(10,s-a)%_d(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Xa&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Xa)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Gn&&(e.e>Zb||e.e<-Zb))throw Error(fP+ja(e));return e}function qH(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Gn?Nn(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/$n),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Xa-1;--l[i],l[a]+=Xa}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Gn?Nn(t,p):t):new h(0)}function sh(e,t,r){var n,a=ja(e),i=Bl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Wu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wu(-a-1)+i,r&&(n=r-s)>0&&(i+=Wu(n))):a>=s?(i+=Wu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Wu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Wu(n))),e.s<0?"-"+i:i}function bM(e,t){if(e.length>t)return e.length=t,!0}function WH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return xM(s,i.toString())}else if(typeof i!="string")throw Error(qd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,EOe.test(i))xM(s,i);else throw Error(qd+i)}if(a.prototype=er,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WH,a.config=a.set=NOe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function NOe(e){if(!e||typeof e!="object")throw Error(Do+"Object expected");var t,r,n,a=["precision",1,um,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(fm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var dP=WH(TOe);Ws=new dP(1);const bn=dP;function kOe(e){return IOe(e)||OOe(e)||POe(e)||COe()}function COe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function OOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IOe(e){if(Array.isArray(e))return m3(e)}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jOe=function(t){return t},HH={"@@functional/placeholder":!0},GH=function(t){return t===HH},wM=function(t){return function r(){return arguments.length===0||arguments.length===1&&GH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DOe=function e(t,r){return t===1?r:wM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==HH}).length;return s>=t?r.apply(void 0,a):e(t-s,wM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return GH(f)?l.shift():f});return r.apply(void 0,kOe(u).concat(l))}))})},r_=function(t){return DOe(t.length,t)},g3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},LOe=r_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),MOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},v3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},KH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function ROe(e){var t;return e===0?t=1:t=Math.floor(new bn(e).abs().log(10).toNumber())+1,t}function FOe(e,t,r){for(var n=new bn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var $Oe=r_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),BOe=r_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UOe=r_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const n_={rangeStep:FOe,getDigitCount:ROe,interpolateNumber:$Oe,uninterpolateNumber:BOe,uninterpolateTruncation:UOe};function y3(e){return qOe(e)||zOe(e)||YH(e)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qOe(e){if(Array.isArray(e))return x3(e)}function l1(e,t){return GOe(e)||HOe(e,t)||YH(e,t)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return x3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(e,t)}}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function GOe(e){if(Array.isArray(e))return e}function XH(e){var t=l1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function QH(e,t,r){if(e.lte(0))return new bn(0);var n=n_.getDigitCount(e.toNumber()),a=new bn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new bn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new bn(Math.ceil(l))}function KOe(e,t,r){var n=1,a=new bn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new bn(10).pow(n_.getDigitCount(e)-1),a=new bn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new bn(Math.floor(e)))}else e===0?a=new bn(Math.floor((t-1)/2)):r||(a=new bn(Math.floor(e)));var s=Math.floor((t-1)/2),o=MOe(LOe(function(l){return a.add(new bn(l-s).mul(n)).toNumber()}),g3);return o(0,t)}function JH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new bn(0),tickMin:new bn(0),tickMax:new bn(0)};var i=QH(new bn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new bn(0):(s=new bn(e).add(t).div(2),s=s.sub(new bn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new bn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?JH(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new bn(o).mul(i)),tickMax:s.add(new bn(l).mul(i))})}function YOe(e){var t=l1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=XH([r,n]),l=l1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(y3(g3(0,a-1).map(function(){return 1/0}))):[].concat(y3(g3(0,a-1).map(function(){return-1/0})),[u]);return r>n?v3(f):f}if(c===u)return KOe(c,a,i);var h=JH(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=n_.rangeStep(g,m.add(new bn(.1).mul(p)),p);return r>n?v3(v):v}function XOe(e,t){var r=l1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=XH([n,a]),o=l1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=QH(new bn(c).sub(l).div(u-1),i,0),h=[].concat(y3(n_.rangeStep(new bn(l),new bn(c).sub(new bn(.99).mul(f)),f)),[c]);return n>a?v3(h):h}var QOe=KH(YOe),JOe=KH(XOe),ZOe="Invariant failed";function oh(e,t){throw new Error(ZOe)}var eIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function tIe(e,t){return iIe(e)||aIe(e,t)||nIe(e,t)||rIe()}function rIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nIe(e,t){if(e){if(typeof e=="string")return _M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function iIe(e){if(Array.isArray(e))return e}function sIe(e,t){if(e==null)return{};var r=oIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tG(n.key),n)}}function uIe(e,t,r){return t&&cIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fIe(e,t,r){return t=tw(t),dIe(e,ZH()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function dIe(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hIe(e)}function hIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZH=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function pIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b3(e,t)}function b3(e,t){return b3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b3(e,t)}function eG(e,t,r){return t=tG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=mIe(e,"string");return _p(t)=="symbol"?t:t+""}function mIe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=function(e){function t(){return lIe(this,t),fIe(this,t,arguments)}return pIe(t,e),uIe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=sIe(n,eIe),p=qr(h,!1);this.props.direction==="x"&&u.type!=="number"&&oh();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,b=v.value,I=v.errorVal;if(!I)return null;var C=[],j,T;if(Array.isArray(I)){var S=tIe(I,2);j=S[0],T=S[1]}else j=T=I;if(i==="vertical"){var A=u.scale,D=w+a,E=D+s,N=D-s,P=A(b-j),V=A(b+T);C.push({x1:V,y1:E,x2:V,y2:N}),C.push({x1:P,y1:D,x2:V,y2:D}),C.push({x1:P,y1:E,x2:P,y2:N})}else if(i==="horizontal"){var X=f.scale,Y=y+a,J=Y-s,G=Y+s,q=X(b-j),ee=X(b+T);C.push({x1:J,y1:ee,x2:G,y2:ee}),C.push({x1:Y,y1:q,x2:Y,y2:ee}),C.push({x1:J,y1:q,x2:G,y2:q})}return je.createElement(xa,ew({className:"recharts-errorBar",key:"bar-".concat(C.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),C.map(function(W){return je.createElement("line",ew({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return je.createElement(xa,{className:"recharts-errorBars"},g)}}])}(je.Component);eG(dy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eG(dy,"displayName","ErrorBar");function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){gIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gIe(e,t,r){return t=vIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vIe(e){var t=yIe(e,"string");return c1(t)=="symbol"?t:t+""}function yIe(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Vs(r,vl);if(!s)return null;var o=vl.defaultProps,l=o!==void 0?pd(pd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?pd(pd({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:hP(f),value:m||g,payload:p}}),pd(pd(pd({},l),vl.getWithHeight(s,a)),{},{payload:c,item:s})};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function AM(e){return _Ie(e)||wIe(e)||bIe(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e,t){if(e){if(typeof e=="string")return w3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w3(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ie(e){if(Array.isArray(e))return w3(e)}function w3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){B0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B0(e,t,r){return t=SIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SIe(e){var t=AIe(e,"string");return u1(t)=="symbol"?t:t+""}function AIe(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(e,t,r){return Ur(e)||Ur(t)?r:Ua(t)?No(e,t,r):Dr(t)?t(e):r}function Kg(e,t,r,n){var a=wOe(e,function(o){return eo(o,t)});if(r==="number"){var i=a.filter(function(o){return $t(o)||parseFloat(o)});return i.length?[e_(i),Z5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Ur(o)}):a;return s.map(function(o){return Ua(o)||o instanceof Date?o:""})}var TIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(dl(f-u)!==dl(h-f)){var g=[];if(dl(h-f)===dl(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),b=Math.max(u,h);if(t>(w+f)/2&&t<=(b+f)/2){s=a[c].index;break}}}else for(var I=0;I<o;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){s=n[I].index;break}return s},hP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?la(la({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},EIe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Lc(T.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?la(la({},w),y[0].props):y[0].props,I=b.barSize,C=b[v];s[C]||(s[C]=[]);var j=Ur(I)?r:I;s[C].push({item:y[0],stackList:y.slice(1),barSize:Ur(j)?void 0:ih(j,n,0)})}}return s},NIe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ih(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(I,C){return I+C.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(I,C){var j={item:C.item,position:{offset:v.offset+v.size+c,size:h?p:C.barSize}},T=[].concat(AM(I),[j]);return v=T[T.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:v})}),T},f)}else{var y=ih(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var b=o===+o?Math.min(w,o):w;u=s.reduce(function(I,C,j){var T=[].concat(AM(I),[{item:C.item,position:{offset:y+(w+c)*j+(w-b)/2,size:b}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},f)}return u},kIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=rG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&$t(t[p]))return la(la({},t),{},B0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&$t(t[g]))return la(la({},t),{},B0({},g,t[g]+(h||0)))}return t},CIe=function(t,r,n){return Ur(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},nG=function(t,r,n,a,i){var s=r.props.children,o=ko(s,dy).filter(function(c){return CIe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=eo(u,n);if(Ur(f))return c;var h=Array.isArray(f)?[e_(f),Z5(f)]:[f,f],p=l.reduce(function(g,m){var v=eo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},PIe=function(t,r,n,a,i){var s=r.map(function(o){return nG(t,o,n,i,a)}).filter(function(o){return!Ur(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},aG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&nG(t,l,c,a)||Kg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},iG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},sG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Pc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?dl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!iy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},dA=new WeakMap,Px=function(t,r){if(typeof r!="function")return t;dA.has(t)||dA.set(t,new WeakMap);var n=dA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},OIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:r1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Yb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gg(),realScaleType:"point"}:i==="category"?{scale:r1(),realScaleType:"band"}:{scale:Yb(),realScaleType:"linear"};if(ah(a)){var l="scale".concat(B5(a));return{scale:(yM[l]||Gg)(),realScaleType:yM[l]?l:"point"}}return Dr(a)?{scale:a}:{scale:Gg(),realScaleType:"point"}},EM=1e-4,IIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-EM,s=Math.max(a[0],a[1])+EM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},jIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},DIe=function(t,r){if(!r||r.length!==2||!$t(r[0])||!$t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!$t(t[0])||t[0]<n)&&(i[0]=n),(!$t(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},LIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=iy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},MIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=iy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},RIe={sign:LIe,expand:J5e,none:pp,silhouette:Z5e,wiggle:e_e,positive:MIe},FIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=RIe[n],s=Q5e().keys(a).value(function(o,l){return+eo(o,l,0)}).order(HT).offset(i);return s(t)},$Ie=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?la(la({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(Ua(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[sy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return la(la({},f),{},B0({},y,w))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return la(la({},m),{},B0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:FIe(t,y.items,i)}))},g)}return la(la({},f),{},B0({},h,p))},u)},BIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=QOe(c,i,o);return t.domain([e_(u),Z5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=JOe(f,i,o);return{niceTicks:h}}return null};function NM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ur(a[t.dataKey])){var o=Eb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=eo(a,Ur(s)?t.dataKey:s);return Ur(l)?null:t.scale(l)}var kM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=eo(s,r.dataKey,r.domain[o]);return Ur(l)?null:r.scale(l)-i/2+a},UIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},VIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?la(la({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ua(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},zIe=function(t){return t.reduce(function(r,n){return[e_(n.concat([r[0]]).filter($t)),Z5(n.concat([r[1]]).filter($t))]},[1/0,-1/0])},oG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=zIe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},CM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_3=function(t,r,n){if(Dr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if($t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(CM.test(t[0])){var i=+CM.exec(t[0])[1];a[0]=r[0]-i}else Dr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if($t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(PM.test(t[1])){var s=+PM.exec(t[1])[1];a[1]=r[1]+s}else Dr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=UC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},OM=function(t,r,n){return!t||!t.length||t_(t,No(n,"type.defaultProps.domain"))?r:t},lG=function(t,r){var n=t.type.defaultProps?la(la({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return la(la({},qr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:hP(t),value:eo(r,a),type:l,payload:r,chartType:c,hide:u})};function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){qIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qIe(e,t,r){return t=WIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WIe(e){var t=HIe(e,"string");return f1(t)=="symbol"?t:t+""}function HIe(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nw=Math.PI/180,GIe=function(t){return t*180/Math.PI},gi=function(t,r,n,a){return{x:t+Math.cos(-nw*a)*n,y:r+Math.sin(-nw*a)*n}},KIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},YIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=KIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:GIe(c),angleInRadian:c}},XIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},QIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},DM=function(t,r){var n=t.x,a=t.y,i=YIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=XIe(r),f=u.startAngle,h=u.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?jM(jM({},r),{},{radius:s,angle:QIe(p,r)}):null};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}var JIe=["offset"];function ZIe(e){return nje(e)||rje(e)||tje(e)||eje()}function eje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tje(e,t){if(e){if(typeof e=="string")return S3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S3(e,t)}}function rje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nje(e){if(Array.isArray(e))return S3(e)}function S3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aje(e,t){if(e==null)return{};var r=ije(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ije(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sje(e,t,r){return t=oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(e){var t=lje(e,"string");return d1(t)=="symbol"?t:t+""}function lje(e,t){if(d1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}var cje=function(t){var r=t.value,n=t.formatter,a=Ur(t.children)?r:t.children;return Dr(n)?n(a):a},uje=function(t,r){var n=dl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},fje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=uje(p,g),w=y>=0?1:-1,b,I;a==="insideStart"?(b=p+w*s,I=m):a==="insideEnd"?(b=g-w*s,I=!m):a==="end"&&(b=g+w*s,I=m),I=y<=0?I:!I;var C=gi(c,u,v,b),j=gi(c,u,v,b+(I?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(j.x,",").concat(j.y),S=Ur(t.id)?sy("recharts-radial-line-"):t.id;return je.createElement("text",h1({},n,{dominantBaseline:"central",className:Zr("recharts-radial-bar-label",o)}),je.createElement("defs",null,je.createElement("path",{id:S,d:T})),je.createElement("textPath",{xlinkHref:"#".concat(S)},r))},dje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=gi(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=gi(s,o,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},hje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Ma(Ma({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var I={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Ma(Ma({},I),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var C={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ma(Ma({},C),n?{width:Math.max(C.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Ma(Ma({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?Ma({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?Ma({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?Ma({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?Ma({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?Ma({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},T):i==="insideTopRight"?Ma({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?Ma({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:p},T):i==="insideBottomRight"?Ma({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):rm(i)&&($t(i.x)||jd(i.x))&&($t(i.y)||jd(i.y))?Ma({x:o+ih(i.x,c),y:l+ih(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):Ma({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pje=function(t){return"cx"in t&&$t(t.cx)};function Fi(e){var t=e.offset,r=t===void 0?5:t,n=aje(e,JIe),a=Ma({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Ur(o)&&Ur(l)&&!U.isValidElement(c)&&!Dr(c))return null;if(U.isValidElement(c))return U.cloneElement(c,a);var p;if(Dr(c)){if(p=U.createElement(c,a),U.isValidElement(p))return p}else p=cje(a);var g=pje(i),m=qr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return fje(a,p,m);var v=g?dje(a):hje(a);return je.createElement(Vb,h1({className:Zr("recharts-label",f)},m,v,{breakAll:h}),p)}Fi.displayName="Label";var cG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if($t(m)&&$t(v)){if($t(f)&&$t(h))return{x:f,y:h,width:m,height:v};if($t(p)&&$t(g))return{x:p,y:g,width:m,height:v}}return $t(f)&&$t(h)?{x:f,y:h,width:0,height:0}:$t(r)&&$t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},mje=function(t,r){return t?t===!0?je.createElement(Fi,{key:"label-implicit",viewBox:r}):Ua(t)?je.createElement(Fi,{key:"label-implicit",viewBox:r,value:t}):U.isValidElement(t)?t.type===Fi?U.cloneElement(t,{key:"label-implicit",viewBox:r}):je.createElement(Fi,{key:"label-implicit",content:t,viewBox:r}):Dr(t)?je.createElement(Fi,{key:"label-implicit",content:t,viewBox:r}):rm(t)?je.createElement(Fi,h1({viewBox:r},t,{key:"label-implicit"})):null:null},gje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=cG(t),s=ko(a,Fi).map(function(l,c){return U.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=mje(t.label,r||i);return[o].concat(ZIe(s))};Fi.parseViewBox=cG;Fi.renderCallByParent=gje;function vje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yje=vje;const xje=_n(yje);function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var bje=["valueAccessor"],wje=["data","dataKey","clockWise","id","textBreakAll"];function _je(e){return Eje(e)||Tje(e)||Aje(e)||Sje()}function Sje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(e,t){if(e){if(typeof e=="string")return A3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A3(e,t)}}function Tje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eje(e){if(Array.isArray(e))return A3(e)}function A3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Cje(e,"string");return p1(t)=="symbol"?t:t+""}function Cje(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FM(e,t){if(e==null)return{};var r=Pje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oje=function(t){return Array.isArray(t.value)?xje(t.value):t.value};function Af(e){var t=e.valueAccessor,r=t===void 0?Oje:t,n=FM(e,bje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=FM(n,wje);return!a||!a.length?null:je.createElement(xa,{className:"recharts-label-list"},a.map(function(u,f){var h=Ur(i)?r(u,f):eo(u&&u.payload,i),p=Ur(o)?{}:{id:"".concat(o,"-").concat(f)};return je.createElement(Fi,aw({},qr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Fi.parseViewBox(Ur(s)?u:RM(RM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Af.displayName="LabelList";function Ije(e,t){return e?e===!0?je.createElement(Af,{key:"labelList-implicit",data:t}):je.isValidElement(e)||Dr(e)?je.createElement(Af,{key:"labelList-implicit",data:t,content:e}):rm(e)?je.createElement(Af,aw({data:t},e,{key:"labelList-implicit"})):null:null}function jje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ko(n,Af).map(function(s,o){return U.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Ije(e.label,t);return[i].concat(_je(a))}Af.renderCallByParent=jje;function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){Dje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dje(e,t,r){return t=Lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lje(e){var t=Mje(e,"string");return m1(t)=="symbol"?t:t+""}function Mje(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rje=function(t,r){var n=dl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ox=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/nw,h=c?i:i+s*f,p=gi(r,n,u,h),g=gi(r,n,a,h),m=c?i-s*f:i,v=gi(r,n,u*Math.cos(f*nw),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},uG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Rje(s,o),c=s+l,u=gi(r,n,i,s),f=gi(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=gi(r,n,a,s),g=gi(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Fje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=dl(u-c),h=Ox({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ox({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,b=v.theta,I=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(I<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var j=Ox({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=j.circleTangency,S=j.lineTangency,A=j.theta,D=Ox({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=D.circleTangency,N=D.lineTangency,P=D.theta,V=l?Math.abs(c-u):Math.abs(c-u)-A-P;if(V<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},$je={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fG=function(t){var r=BM(BM({},$je),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=Zr("recharts-sector",h),g=s-i,m=ih(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Fje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=uG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),je.createElement("path",T3({},qr(r,!0),{className:p,d:v,role:"img"}))};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function E3(){return E3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E3.apply(this,arguments)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){Bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bje(e,t,r){return t=Uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e){var t=Vje(e,"string");return g1(t)=="symbol"?t:t+""}function Vje(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zM={curveBasisClosed:B5e,curveBasisOpen:U5e,curveBasis:$5e,curveBumpX:T5e,curveBumpY:E5e,curveLinearClosed:V5e,curveLinear:V5,curveMonotoneX:z5e,curveMonotoneY:q5e,curveNatural:W5e,curveStep:H5e,curveStepAfter:K5e,curveStepBefore:G5e},Ix=function(t){return t.x===+t.x&&t.y===+t.y},Km=function(t){return t.x},Ym=function(t){return t.y},zje=function(t,r){if(Dr(t))return t;var n="curve".concat(B5(t));return(n==="curveMonotone"||n==="curveBump")&&r?zM["".concat(n).concat(r==="vertical"?"Y":"X")]:zM[n]||V5},qje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=zje(n,o),f=c?i.filter(function(m){return Ix(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Ix(m)}):s,g=f.map(function(m,v){return VM(VM({},m),{},{base:p[v]})});return o==="vertical"?h=_x().y(Ym).x1(Km).x0(function(m){return m.base.x}):h=_x().x(Km).y1(Ym).y0(function(m){return m.base.y}),h.defined(Ix).curve(u),h(g)}return o==="vertical"&&$t(s)?h=_x().y(Ym).x1(Km).x0(s):$t(s)?h=_x().x(Km).y1(Ym).y0(s):h=fW().x(Km).y(Ym),h.defined(Ix).curve(u),h(f)},N3=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?qje(t):a;return je.createElement("path",E3({},qr(t,!1),Nb(t),{className:Zr("recharts-curve",r),d:s,ref:i}))},dG={exports:{}},Wje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hje=Wje,Gje=Hje;function hG(){}function pG(){}pG.resetWarningCache=hG;var Kje=function(){function e(n,a,i,s,o,l){if(l!==Gje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pG,resetWarningCache:hG};return r.PropTypes=r,r};dG.exports=Kje();var Yje=dG.exports;const un=_n(Yje);var Xje=Object.getOwnPropertyNames,Qje=Object.getOwnPropertySymbols,Jje=Object.prototype.hasOwnProperty;function qM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function jx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function WM(e){return Xje(e).concat(Qje(e))}var Zje=Object.hasOwn||function(e,t){return Jje.call(e,t)};function Sh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var eDe="__v",tDe="__o",rDe="_owner",HM=Object.getOwnPropertyDescriptor,GM=Object.keys;function nDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function aDe(e,t){return Sh(e.getTime(),t.getTime())}function iDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sDe(e,t){return e===t}function KM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var oDe=Sh;function lDe(e,t,r){var n=GM(e),a=n.length;if(GM(t).length!==a)return!1;for(;a-- >0;)if(!mG(e,t,r,n[a]))return!1;return!0}function Xm(e,t,r){var n=WM(e),a=n.length;if(WM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!mG(e,t,r,i)||(s=HM(e,i),o=HM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function cDe(e,t){return Sh(e.valueOf(),t.valueOf())}function uDe(e,t){return e.source===t.source&&e.flags===t.flags}function YM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function fDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function mG(e,t,r,n){return(n===rDe||n===tDe||n===eDe)&&(e.$$typeof||t.$$typeof)?!0:Zje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var hDe="[object Arguments]",pDe="[object Boolean]",mDe="[object Date]",gDe="[object Error]",vDe="[object Map]",yDe="[object Number]",xDe="[object Object]",bDe="[object RegExp]",wDe="[object Set]",_De="[object String]",SDe="[object URL]",ADe=Array.isArray,XM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QM=Object.assign,TDe=Object.prototype.toString.call.bind(Object.prototype.toString);function EDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(ADe(g))return t(g,m,v);if(XM!=null&&XM(g))return f(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var b=TDe(g);return b===mDe?r(g,m,v):b===bDe?c(g,m,v):b===vDe?i(g,m,v):b===wDe?u(g,m,v):b===xDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):b===SDe?h(g,m,v):b===gDe?n(g,m,v):b===hDe?o(g,m,v):b===pDe||b===yDe||b===_De?l(g,m,v):!1}}function NDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Xm:nDe,areDatesEqual:aDe,areErrorsEqual:iDe,areFunctionsEqual:sDe,areMapsEqual:n?qM(KM,Xm):KM,areNumbersEqual:oDe,areObjectsEqual:n?Xm:lDe,arePrimitiveWrappersEqual:cDe,areRegExpsEqual:uDe,areSetsEqual:n?qM(YM,Xm):YM,areTypedArraysEqual:n?Xm:fDe,areUrlsEqual:dDe};if(r&&(a=QM({},a,r(a))),t){var i=jx(a.areArraysEqual),s=jx(a.areMapsEqual),o=jx(a.areObjectsEqual),l=jx(a.areSetsEqual);a=QM({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function kDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function CDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var PDe=Qf();Qf({strict:!0});Qf({circular:!0});Qf({circular:!0,strict:!0});Qf({createInternalComparator:function(){return Sh}});Qf({strict:!0,createInternalComparator:function(){return Sh}});Qf({circular:!0,createInternalComparator:function(){return Sh}});Qf({circular:!0,createInternalComparator:function(){return Sh},strict:!0});function Qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=NDe(e),l=EDe(o),c=n?n(l):kDe(l);return CDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function ODe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function JM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ODe(a)};requestAnimationFrame(n)}function k3(e){"@babel/helpers - typeof";return k3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k3(e)}function IDe(e){return MDe(e)||LDe(e)||DDe(e)||jDe()}function jDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MDe(e){if(Array.isArray(e))return e}function RDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=IDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){JM(a.bind(null,c),l);return}a(l),JM(a.bind(null,c));return}k3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return t=FDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=$De(e,"string");return v1(t)==="symbol"?t:String(t)}function $De(e,t){if(v1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},UDe=function(t){return t},VDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yg=function(t,r){return Object.keys(r).reduce(function(n,a){return t7(t7({},n),{},gG({},a,t(a,r[a])))},{})},r7=function(t,r,n){return t.map(function(a){return"".concat(VDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function zDe(e,t){return HDe(e)||WDe(e,t)||vG(e,t)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function HDe(e){if(Array.isArray(e))return e}function GDe(e){return XDe(e)||YDe(e)||vG(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(e,t){if(e){if(typeof e=="string")return C3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C3(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XDe(e){if(Array.isArray(e))return C3(e)}function C3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=1e-4,yG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},xG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},n7=function(t,r){return function(n){var a=yG(t,r);return xG(a,n)}},QDe=function(t,r){return function(n){var a=yG(t,r),i=[].concat(GDe(a.map(function(s,o){return s*o}).slice(1)),[0]);return xG(i,n)}},a7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=zDe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=n7(a,s),h=n7(i,o),p=QDe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,I=0;I<8;++I){var C=f(b)-w,j=p(b);if(Math.abs(C-w)<iw||j<iw)return h(b);b=g(b-C/j)}return h(b)};return m.isStepper=!1,m},JDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<iw&&Math.abs(m)<iw?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},ZDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a7(a);case"spring":return JDe();default:if(a.split("(")[0]==="cubic-bezier")return a7(a)}return typeof a=="function"?a:null};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function i7(e){return r8e(e)||t8e(e)||bG(e)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r8e(e){if(Array.isArray(e))return O3(e)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){P3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P3(e,t,r){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8e(e){var t=a8e(e,"string");return y1(t)==="symbol"?t:String(t)}function a8e(e,t){if(y1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8e(e,t){return l8e(e)||o8e(e,t)||bG(e,t)||s8e()}function s8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(e,t){if(e){if(typeof e=="string")return O3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O3(e,t)}}function O3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function l8e(e){if(Array.isArray(e))return e}var sw=function(t,r,n){return t+(r-t)*n},I3=function(t){var r=t.from,n=t.to;return r!==n},c8e=function e(t,r,n){var a=Yg(function(i,s){if(I3(s)){var o=t(s.from,s.to,s.velocity),l=i8e(o,2),c=l[0],u=l[1];return li(li({},s),{},{from:c,velocity:u})}return s},r);return n<1?Yg(function(i,s){return I3(s)?li(li({},s),{},{velocity:sw(s.velocity,a[i].velocity,n),from:sw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const u8e=function(e,t,r,n,a){var i=BDe(e,t),s=i.reduce(function(v,y){return li(li({},v),{},P3({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return li(li({},v),{},P3({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Yg(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(I3).length},g=function(y){c||(c=y);var w=y-c,b=w/r.dt;o=c8e(r,o,b),a(li(li(li({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var w=(y-u)/n,b=Yg(function(C,j){return sw.apply(void 0,i7(j).concat([r(w)]))},s);if(a(li(li(li({},e),t),b)),w<1)l=requestAnimationFrame(f);else{var I=Yg(function(C,j){return sw.apply(void 0,i7(j).concat([r(1)]))},s);a(li(li(li({},e),t),I))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}var f8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function d8e(e,t){if(e==null)return{};var r=h8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function hA(e){return v8e(e)||g8e(e)||m8e(e)||p8e()}function p8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8e(e,t){if(e){if(typeof e=="string")return j3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j3(e,t)}}function g8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8e(e){if(Array.isArray(e))return j3(e)}function j3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(r),!0).forEach(function(n){mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mg(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wG(n.key),n)}}function b8e(e,t,r){return t&&x8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wG(e){var t=w8e(e,"string");return Sp(t)==="symbol"?t:String(t)}function w8e(e,t){if(Sp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D3(e,t)}function D3(e,t){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D3(e,t)}function S8e(e){var t=A8e();return function(){var n=ow(e),a;if(t){var i=ow(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return L3(this,a)}}function L3(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M3(e)}function M3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}var tu=function(e){_8e(r,e);var t=S8e(r);function r(n,a){var i;y8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(M3(i)),i.changeStyle=i.changeStyle.bind(M3(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),L3(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},L3(i);i.state={style:l?mg({},l,c):c}}else i.state={style:{}};return i}return b8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?mg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(PDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?mg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Qo(Qo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=u8e(s,o,ZDe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,I=b===void 0?"ease":b,C=v.style,j=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,A=j||Object.keys(C);if(typeof I=="function"||I==="spring")return[].concat(hA(m),[i.runJSAnimation.bind(i,{from:S.style,to:C,duration:w,easing:I}),w]);var D=r7(A,w,I),E=Qo(Qo(Qo({},S.style),C),{},{transition:D});return[].concat(hA(m),[E,w,T]).filter(UDe)};return this.manager.start([l].concat(hA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=RDe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?mg({},o,l):l,v=r7(Object.keys(m),s,c);g.start([u,i,Qo(Qo({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=d8e(a,f8e),c=U.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=U.cloneElement(p,Qo(Qo({},l),{},{style:Qo(Qo({},v),u),className:y}));return w};return c===1?f(U.Children.only(i)):je.createElement("div",null,U.Children.map(i,function(h){return f(h)}))}}]),r}(U.PureComponent);tu.displayName="Animate";tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tu.propTypes={from:un.oneOfType([un.object,un.string]),to:un.oneOfType([un.object,un.string]),attributeName:un.string,duration:un.number,begin:un.number,easing:un.oneOfType([un.string,un.func]),steps:un.arrayOf(un.shape({duration:un.number.isRequired,style:un.object.isRequired,easing:un.oneOfType([un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),un.func]),properties:un.arrayOf("string"),onAnimationEnd:un.func})),children:un.oneOfType([un.node,un.func]),isActive:un.bool,canBegin:un.bool,onAnimationEnd:un.func,shouldReAnimate:un.bool,onAnimationStart:un.func,onAnimationReStart:un.func};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function T8e(e,t){return C8e(e)||k8e(e,t)||N8e(e,t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8e(e,t){if(e){if(typeof e=="string")return l7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l7(e,t)}}function l7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function C8e(e){if(Array.isArray(e))return e}function c7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(r),!0).forEach(function(n){P8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8e(e,t,r){return t=O8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8e(e){var t=I8e(e,"string");return x1(t)=="symbol"?t:t+""}function I8e(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f7=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},j8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},D8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pP=function(t){var r=u7(u7({},D8e),t),n=U.useRef(),a=U.useState(-1),i=T8e(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&o(I)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=Zr("recharts-rectangle",p);return w?je.createElement(tu,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(I){var C=I.width,j=I.height,T=I.x,S=I.y;return je.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},je.createElement("path",lw({},qr(r,!0),{className:b,d:f7(T,S,C,j,h),ref:n})))}):je.createElement("path",lw({},qr(r,!0),{className:b,d:f7(l,c,u,f,h)}))};function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R3.apply(this,arguments)}var mP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Zr("recharts-dot",i);return r===+r&&n===+n&&a===+a?je.createElement("circle",R3({},qr(t,!1),Nb(t),{className:s,cx:r,cy:n,r:a})):null};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}var L8e=["x","y","top","left","width","height","className"];function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F3.apply(this,arguments)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){R8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8e(e,t,r){return t=F8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8e(e){var t=$8e(e,"string");return b1(t)=="symbol"?t:t+""}function $8e(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8e(e,t){if(e==null)return{};var r=U8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V8e=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},z8e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=B8e(t,L8e),v=M8e({x:n,y:i,top:o,left:c,width:f,height:p},m);return!$t(n)||!$t(i)||!$t(f)||!$t(p)||!$t(o)||!$t(c)?null:je.createElement("path",F3({},qr(v,!0),{className:Zr("recharts-cross",g),d:V8e(n,i,f,p,o,c)}))},q8e=LW,W8e=q8e(Object.getPrototypeOf,Object),H8e=W8e,G8e=lu,K8e=H8e,Y8e=cu,X8e="[object Object]",Q8e=Function.prototype,J8e=Object.prototype,_G=Q8e.toString,Z8e=J8e.hasOwnProperty,eLe=_G.call(Object);function tLe(e){if(!Y8e(e)||G8e(e)!=X8e)return!1;var t=K8e(e);if(t===null)return!0;var r=Z8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&_G.call(r)==eLe}var rLe=tLe;const nLe=_n(rLe);var aLe=lu,iLe=cu,sLe="[object Boolean]";function oLe(e){return e===!0||e===!1||iLe(e)&&aLe(e)==sLe}var lLe=oLe;const cLe=_n(lLe);function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function uLe(e,t){return pLe(e)||hLe(e,t)||dLe(e,t)||fLe()}function fLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dLe(e,t){if(e){if(typeof e=="string")return h7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h7(e,t)}}function h7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pLe(e){if(Array.isArray(e))return e}function p7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(r),!0).forEach(function(n){mLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t,r){return t=gLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gLe(e){var t=vLe(e,"string");return w1(t)=="symbol"?t:t+""}function vLe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g7=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},yLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xLe=function(t){var r=m7(m7({},yLe),t),n=U.useRef(),a=U.useState(-1),i=uLe(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=Zr("recharts-trapezoid",p);return y?je.createElement(tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(b){var I=b.upperWidth,C=b.lowerWidth,j=b.height,T=b.x,S=b.y;return je.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},je.createElement("path",cw({},qr(r,!0),{className:w,d:g7(T,S,I,C,j),ref:n})))}):je.createElement("g",null,je.createElement("path",cw({},qr(r,!0),{className:w,d:g7(l,c,u,f,h)})))},bLe=["option","shapeType","propTransformer","activeClassName","isActive"];function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function wLe(e,t){if(e==null)return{};var r=_Le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(r),!0).forEach(function(n){SLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t,r){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=TLe(e,"string");return _1(t)=="symbol"?t:t+""}function TLe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ELe(e,t){return uw(uw({},t),e)}function NLe(e,t){return e==="symbols"}function y7(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return je.createElement(pP,r);case"trapezoid":return je.createElement(xLe,r);case"sector":return je.createElement(fG,r);case"symbols":if(NLe(t))return je.createElement(jC,r);break;default:return null}}function kLe(e){return U.isValidElement(e)?e.props:e}function CLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ELe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=wLe(e,bLe),c;if(U.isValidElement(t))c=U.cloneElement(t,uw(uw({},l),kLe(t)));else if(Dr(t))c=t(l);else if(nLe(t)&&!cLe(t)){var u=a(t,l);c=je.createElement(y7,{shapeType:r,elementProps:u})}else{var f=l;c=je.createElement(y7,{shapeType:r,elementProps:f})}return o?je.createElement(xa,{className:s},c):c}function a_(e,t){return t!=null&&"trapezoids"in e.props}function i_(e,t){return t!=null&&"sectors"in e.props}function S1(e,t){return t!=null&&"points"in e.props}function PLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function OLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ILe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function jLe(e,t){var r;return a_(e,t)?r=PLe:i_(e,t)?r=OLe:S1(e,t)&&(r=ILe),r}function DLe(e,t){var r;return a_(e,t)?r="trapezoids":i_(e,t)?r="sectors":S1(e,t)&&(r="points"),r}function LLe(e,t){if(a_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(i_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return S1(e,t)?t.payload:{}}function MLe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=DLe(r,t),i=LLe(r,t),s=n.filter(function(l,c){var u=t_(i,l),f=r.props[a].filter(function(g){var m=jLe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var RLe=Math.ceil,FLe=Math.max;function $Le(e,t,r,n){for(var a=-1,i=FLe(RLe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var BLe=$Le,ULe=eH,x7=1/0,VLe=17976931348623157e292;function zLe(e){if(!e)return e===0?e:0;if(e=ULe(e),e===x7||e===-x7){var t=e<0?-1:1;return t*VLe}return e===e?e:0}var SG=zLe,qLe=BLe,WLe=H5,pA=SG;function HLe(e){return function(t,r,n){return n&&typeof n!="number"&&WLe(t,r,n)&&(r=n=void 0),t=pA(t),r===void 0?(r=t,t=0):r=pA(r),n=n===void 0?t<r?1:-1:pA(n),qLe(t,r,n,e)}}var GLe=HLe,KLe=GLe,YLe=KLe(),XLe=YLe;const fw=_n(XLe);function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function b7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b7(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return t=QLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QLe(e){var t=JLe(e,"string");return A1(t)=="symbol"?t:t+""}function JLe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZLe=["Webkit","Moz","O","ms"],eMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ZLe.reduce(function(i,s){return w7(w7({},i),{},AG({},s+n,r))},{});return a[t]=r,a};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function rMe(e,t,r){return t&&S7(e.prototype,t),r&&S7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nMe(e,t,r){return t=hw(t),aMe(e,TG()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function aMe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iMe(e)}function iMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function sMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$3(e,t)}function $3(e,t){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$3(e,t)}function Bs(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=oMe(e,"string");return Ap(t)=="symbol"?t:t+""}function oMe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Gg().domain(fw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},A7=function(t){return t.changedTouches&&!!t.changedTouches.length},Tp=function(e){function t(r){var n;return tMe(this,t),n=nMe(this,t,[r]),Bs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Bs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Bs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Bs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Bs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Bs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Bs(n,"handleSlideDragStart",function(a){var i=A7(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sMe(t,e),rMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=eo(i[n],o,n);return Dr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=A7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+h-p-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var b=this.getIndex(y),I=b.startIndex,C=b.endIndex,j=function(){var S=v.length-1;return s==="startX"&&(o>l?I%m===0:C%m===0)||o<l&&C===S||s==="endX"&&(o>l?C%m===0:I%m===0)||o>l&&C===S};this.setState(Bs(Bs({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&j()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Bs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return je.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=U.Children.only(c);return f?je.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=mA(mA({},qr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),b=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return je.createElement(xa,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return je.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return je.createElement(xa,{className:"recharts-brush-texts"},je.createElement(Vb,dw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),je.createElement(Vb,dw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!$t(o)||!$t(l)||!$t(c)||!$t(u)||c<=0||u<=0)return null;var b=Zr("recharts-brush",i),I=je.Children.count(s)===1,C=eMe("userSelect","none");return je.createElement(xa,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return je.createElement(je.Fragment,null,je.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),je.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),je.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return je.isValidElement(n)?i=je.cloneElement(n,a):Dr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return mA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?lMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(U.PureComponent);Bs(Tp,"displayName","Brush");Bs(Tp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cMe=BC;function uMe(e,t){var r;return cMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var fMe=uMe,dMe=NW,hMe=Kf,pMe=fMe,mMe=Os,gMe=H5;function vMe(e,t,r){var n=mMe(e)?dMe:pMe;return r&&gMe(e,t,r)&&(t=void 0),n(e,hMe(t))}var yMe=vMe;const xMe=_n(yMe);var Xl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},T7=YW;function bMe(e,t,r){t=="__proto__"&&T7?T7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wMe=bMe,_Me=wMe,SMe=GW,AMe=Kf;function TMe(e,t){var r={};return t=AMe(t),SMe(e,function(n,a,i){_Me(r,a,t(n,a,i))}),r}var EMe=TMe;const NMe=_n(EMe);function kMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var CMe=kMe,PMe=BC;function OMe(e,t){var r=!0;return PMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var IMe=OMe,jMe=CMe,DMe=IMe,LMe=Kf,MMe=Os,RMe=H5;function FMe(e,t,r){var n=MMe(e)?jMe:DMe;return r&&RMe(e,t,r)&&(t=void 0),n(e,LMe(t))}var $Me=FMe;const NG=_n($Me);var BMe=["x","y"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B3.apply(this,arguments)}function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(n){UMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UMe(e,t,r){return t=VMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VMe(e){var t=zMe(e,"string");return T1(t)=="symbol"?t:t+""}function zMe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qMe(e,t){if(e==null)return{};var r=WMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HMe(e,t){var r=e.x,n=e.y,a=qMe(e,BMe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Qm(Qm(Qm(Qm(Qm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function N7(e){return je.createElement(CLe,B3({shapeType:"rectangle",propTransformer:HMe,activeClassName:"recharts-active-bar"},e))}var GMe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||oh(),r)}},KMe=["value","background"],kG;function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function YMe(e,t){if(e==null)return{};var r=XMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function k7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k7(Object(r),!0).forEach(function(n){sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PG(n.key),n)}}function JMe(e,t,r){return t&&C7(e.prototype,t),r&&C7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZMe(e,t,r){return t=mw(t),e7e(e,CG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function e7e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t7e(e)}function t7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function r7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function sf(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=n7e(e,"string");return Ep(t)=="symbol"?t:t+""}function n7e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=function(e){function t(){var r;QMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZMe(this,t,[].concat(a)),sf(r,"state",{isAnimationFinished:!1}),sf(r,"id",sy("recharts-bar-")),sf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return r7e(t,e),JMe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=qr(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,m=Ca(Ca(Ca({},u),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return je.createElement(xa,pw({className:"recharts-bar-rectangle"},kb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),je.createElement(N7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return je.createElement(tu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var b=ol(w.x,v.x),I=ol(w.y,v.y),C=ol(w.width,v.width),j=ol(w.height,v.height);return Ca(Ca({},v),{},{x:b(g),y:I(g),width:C(g),height:j(g)})}if(s==="horizontal"){var T=ol(0,v.height),S=T(g);return Ca(Ca({},v),{},{y:v.y+v.height-S,height:S})}var A=ol(0,v.width),D=A(g);return Ca(Ca({},v),{},{width:D})});return je.createElement(xa,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!t_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=qr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=YMe(c,KMe);if(!f)return null;var p=Ca(Ca(Ca(Ca(Ca({},h),{},{fill:"#eee"},f),l),kb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return je.createElement(N7,pw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=ko(u,dy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:eo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return je.createElement(xa,g,f.map(function(m){return je.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Zr("recharts-bar",s),w=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,I=w||b,C=Ur(m)?this.id:m;return je.createElement(xa,{className:y},w||b?je.createElement("defs",null,je.createElement("clipPath",{id:"clipPath-".concat(C)},je.createElement("rect",{x:w?c:c-f/2,y:b?u:u-h/2,width:w?f:f*2,height:b?h:h*2}))):null,je.createElement(xa,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(C,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,C),(!p||v)&&Af.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(U.PureComponent);kG=hy;sf(hy,"displayName","Bar");sf(hy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sf(hy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=jIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ca(Ca({},m),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,I=g==="horizontal"?s:i,C=c?I.scale.domain():null,j=UIe({numericAxis:I}),T=ko(w,rH),S=f.map(function(A,D){var E,N,P,V,X,Y;c?E=DIe(c[u+D],C):(E=eo(A,y),Array.isArray(E)||(E=[j,E]));var J=GMe(b,kG.defaultProps.minPointSize)(E[1],D);if(g==="horizontal"){var G,q=[s.scale(E[0]),s.scale(E[1])],ee=q[0],W=q[1];N=kM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:A,index:D}),P=(G=W??ee)!==null&&G!==void 0?G:void 0,V=p.size;var O=ee-W;if(X=Number.isNaN(O)?0:O,Y={x:N,y:s.y,width:V,height:s.height},Math.abs(J)>0&&Math.abs(X)<Math.abs(J)){var R=dl(X||J)*(Math.abs(J)-Math.abs(X));P-=R,X+=R}}else{var z=[i.scale(E[0]),i.scale(E[1])],H=z[0],Z=z[1];if(N=H,P=kM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:A,index:D}),V=Z-H,X=p.size,Y={x:i.x,y:P,width:i.width,height:X},Math.abs(J)>0&&Math.abs(V)<Math.abs(J)){var oe=dl(V||J)*(Math.abs(J)-Math.abs(V));V+=oe}}return Ca(Ca(Ca({},A),{},{x:N,y:P,width:V,height:X,value:c?E:E[1],payload:A,background:Y},T&&T[D]&&T[D].props),{},{tooltipPayload:[lG(r,A)],tooltipPosition:{x:N+V/2,y:P+X/2}})});return Ca({data:S,layout:g},h)});function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function a7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OG(n.key),n)}}function i7e(e,t,r){return t&&P7(e.prototype,t),r&&P7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=s7e(e,"string");return E1(t)=="symbol"?t:t+""}function s7e(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Vs(c,hy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,I=m.mirror,C=m.reversed,j="".concat(v).concat(I?"Mirror":""),T,S,A,D,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],P=1/0,V=m.categoricalDomain.sort(hwe);if(V.forEach(function(z,H){H>0&&(P=Math.min((z||0)-(V[H-1]||0),P))}),Number.isFinite(P)){var X=P/N,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=X*Y/2),m.padding==="no-gap"){var J=ih(t.barCategoryGap,X*Y),G=X*Y/2;T=G-J-(G-J)/Y*J}}}a==="xAxis"?S=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:S=m.range,C&&(S=[S[1],S[0]]);var q=OIe(m,i,h),ee=q.scale,W=q.realScaleType;ee.domain(y).range(S),IIe(ee);var O=BIe(ee,al(al({},m),{},{realScaleType:W}));a==="xAxis"?(E=v==="top"&&!I||v==="bottom"&&I,A=n.left,D=f[j]-E*m.height):a==="yAxis"&&(E=v==="left"&&!I||v==="right"&&I,A=f[j]-E*m.width,D=n.top);var R=al(al(al({},m),O),{},{realScaleType:W,x:A,y:D,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=rw(R,O),!m.hide&&a==="xAxis"?f[j]+=(E?-1:1)*R.height:m.hide||(f[j]+=(E?-1:1)*R.width),al(al({},p),{},s_({},g,R))},{})},IG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},l7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return IG({x:r,y:n},{x:a,y:i})},jG=function(){function e(t){a7e(this,e),this.scale=t}return i7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();s_(jG,"EPS",1e-4);var gP=function(t){var r=Object.keys(t).reduce(function(n,a){return al(al({},n),{},s_({},a,jG.create(t[a])))},{});return al(al({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return NMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return NG(a,function(i,s){return r[s].isInRange(i)})}})};function c7e(e){return(e%180+180)%180}var u7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=c7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},f7e=Kf,d7e=oy,h7e=q5;function p7e(e){return function(t,r,n){var a=Object(t);if(!d7e(t)){var i=f7e(r);t=h7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var m7e=p7e,g7e=SG;function v7e(e){var t=g7e(e),r=t%1;return t===t?r?t-r:t:0}var y7e=v7e,x7e=UW,b7e=Kf,w7e=y7e,_7e=Math.max;function S7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:w7e(r);return a<0&&(a=_7e(n+a,0)),x7e(e,b7e(t),a)}var A7e=S7e,T7e=m7e,E7e=A7e,N7e=T7e(E7e),k7e=N7e;const C7e=_n(k7e);var P7e=mbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vP=U.createContext(void 0),yP=U.createContext(void 0),DG=U.createContext(void 0),LG=U.createContext({}),MG=U.createContext(void 0),RG=U.createContext(0),FG=U.createContext(0),I7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=P7e(i);return je.createElement(vP.Provider,{value:n},je.createElement(yP.Provider,{value:a},je.createElement(LG.Provider,{value:i},je.createElement(DG.Provider,{value:u},je.createElement(MG.Provider,{value:s},je.createElement(RG.Provider,{value:c},je.createElement(FG.Provider,{value:l},o)))))))},O7e=function(){return U.useContext(MG)},$G=function(t){var r=U.useContext(vP);r==null&&oh();var n=r[t];return n==null&&oh(),n},I7e=function(){var t=U.useContext(vP);return Qu(t)},j7e=function(){var t=U.useContext(yP),r=C7e(t,function(n){return NG(n.domain,Number.isFinite)});return r||Qu(t)},BG=function(t){var r=U.useContext(yP);r==null&&oh();var n=r[t];return n==null&&oh(),n},D7e=function(){var t=U.useContext(DG);return t},L7e=function(){return U.useContext(LG)},xP=function(){return U.useContext(FG)},bP=function(){return U.useContext(RG)};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function M7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function F7e(e,t,r){return t&&R7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $7e(e,t,r){return t=gw(t),B7e(e,UG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function B7e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U7e(e)}function U7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function V7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V3(e,t)}function V3(e,t){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V3(e,t)}function j7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wP(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=z7e(e,"string");return Np(t)=="symbol"?t:t+""}function z7e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q7e(e,t){return K7e(e)||G7e(e,t)||H7e(e,t)||W7e()}function W7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7e(e,t){if(e){if(typeof e=="string")return L7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L7(e,t)}}function L7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function K7e(e){if(Array.isArray(e))return e}function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z3.apply(this,arguments)}var Y7e=function(t,r){var n;return je.isValidElement(t)?n=je.cloneElement(t,r):Dr(t)?n=t(r):n=je.createElement("line",z3({},r,{className:"recharts-reference-line-line"})),n},X7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(Xl(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if(Xl(c,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?b.reverse():b}if(a){var I=c.segment,C=I.map(function(j){return t.apply(j,{position:s})});return Xl(c,"discard")&&xMe(C,function(j){return!t.isInRange(j)})?null:C}return null};function Q7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=O7e(),u=$G(a),f=BG(i),h=D7e();if(!c||!h)return null;Mc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=gP({x:u.scale,y:f.scale}),g=Ua(t),m=Ua(r),v=n&&n.length===2,y=X7e(p,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var w=q7e(y,2),b=w[0],I=b.x,C=b.y,j=w[1],T=j.x,S=j.y,A=Xl(e,"hidden")?"url(#".concat(c,")"):void 0,D=D7(D7({clipPath:A},qr(e,!0)),{},{x1:I,y1:C,x2:T,y2:S});return je.createElement(xa,{className:Zr("recharts-reference-line",o)},Y7e(s,D),Fi.renderCallByParent(e,l7e({x1:I,y1:C,x2:T,y2:S})))}var _P=function(e){function t(){return M7e(this,t),$7e(this,t,arguments)}return V7e(t,e),F7e(t,[{key:"render",value:function(){return je.createElement(Q7e,this.props)}}])}(je.Component);wP(_P,"displayName","ReferenceLine");wP(_P,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function M7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(r),!0).forEach(function(n){o_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qG(n.key),n)}}function eRe(e,t,r){return t&&Z7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tRe(e,t,r){return t=vw(t),rRe(e,zG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function rRe(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(e)}function nRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function aRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W3(e,t)}function o_(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=iRe(e,"string");return kp(t)=="symbol"?t:t+""}function iRe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sRe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=gP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Xl(t,"discard")&&!s.isInRange(o)?null:o},l_=function(e){function t(){return J7e(this,t),tRe(this,t,arguments)}return aRe(t,e),eRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ua(a),u=Ua(i);if(Mc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=sRe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Xl(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=R7(R7({clipPath:y},qr(this.props,!0)),{},{cx:h,cy:p});return je.createElement(xa,{className:Zr("recharts-reference-dot",v)},t.renderDot(m,w),Fi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(je.Component);o_(l_,"displayName","ReferenceDot");o_(l_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});o_(l_,"renderDot",function(e,t){var r;return je.isValidElement(e)?r=je.cloneElement(e,t):Dr(e)?r=e(t):r=je.createElement(mP,q3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function H3(){return H3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H3.apply(this,arguments)}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function cRe(e,t,r){return t&&lRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uRe(e,t,r){return t=yw(t),fRe(e,WG()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(e)}function dRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function hRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G3(e,t)}function c_(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=pRe(e,"string");return Cp(t)=="symbol"?t:t+""}function pRe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mRe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=gP({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Xl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:IG(p,g)},u_=function(e){function t(){return oRe(this,t),uRe(this,t,arguments)}return hRe(t,e),cRe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Mc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ua(a),h=Ua(i),p=Ua(s),g=Ua(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=mRe(f,h,p,g,this.props);if(!v&&!m)return null;var y=Xl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return je.createElement(xa,{className:Zr("recharts-reference-area",l)},t.renderRect(m,$7($7({clipPath:y},qr(this.props,!0)),v)),Fi.renderCallByParent(this.props,v))}}])}(je.Component);c_(u_,"displayName","ReferenceArea");c_(u_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});c_(u_,"renderRect",function(e,t){var r;return je.isValidElement(e)?r=je.cloneElement(e,t):Dr(e)?r=e(t):r=je.createElement(pP,H3({},t,{className:"recharts-reference-area-rect"})),r});function GG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function gRe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return u7e(n,r)}function vRe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function xw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function yRe(e,t){return GG(e,t+1)}function xRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:GG(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=l===0||xw(e,w,y,u,o);b||(l=0,u=s,c+=1),b&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function B7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(r),!0).forEach(function(n){bRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bRe(e,t,r){return t=wRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wRe(e){var t=_Re(e,"string");return N1(t)=="symbol"?t:t+""}function _Re(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=ji(ji({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=ji(ji({},p),{},{tickCoord:p.coordinate});var y=xw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=ji(ji({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function ARe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=ji(ji({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=xw(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=ji(ji({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var b=s[w],I,C=function(){return I===void 0&&(I=r(b,w)),I};if(w===0){var j=e*(b.coordinate-e*C()/2-l);s[w]=b=ji(ji({},b),{},{tickCoord:j<0?b.coordinate-j*e:b.coordinate})}else s[w]=b=ji(ji({},b),{},{tickCoord:b.coordinate});var T=xw(e,b.tickCoord,C,l,c);T&&(l=b.tickCoord+e*(C()/2+a),s[w]=ji(ji({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function SP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if($t(l)||Rc.isSsr)return yRe(a,typeof l=="number"&&$t(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Hg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,I){var C=Dr(c)?c(b.value,I):b.value;return p==="width"?gRe(Hg(C,{fontSize:t,letterSpacing:r}),g,f):Hg(C,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?dl(a[1].coordinate-a[0].coordinate):1,y=vRe(i,v,p);return l==="equidistantPreserveStart"?xRe(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ARe(v,y,m,a,s,l==="preserveStartEnd"):h=SRe(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var TRe=["viewBox"],ERe=["viewBox"],NRe=["ticks"];function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function U7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(r),!0).forEach(function(n){AP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gA(e,t){if(e==null)return{};var r=kRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function PRe(e,t,r){return t&&V7(e.prototype,t),r&&V7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ORe(e,t,r){return t=bw(t),IRe(e,KG()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function IRe(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jRe(e)}function jRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function DRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K3(e,t)}function K3(e,t){return K3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K3(e,t)}function AP(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=LRe(e,"string");return Pp(t)=="symbol"?t:t+""}function LRe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dm=function(e){function t(r){var n;return CRe(this,t),n=ORe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return DRe(t,e),PRe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=gA(n,TRe),o=this.props,l=o.viewBox,c=gA(o,ERe);return!F0(i,l)||!F0(s,c)||!F0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,w,b=f?-1:1,I=n.tickSize||u,C=$t(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!f*l,m=v-b*I,w=m-b*h,y=C;break;case"left":m=v=n.coordinate,g=i+ +!f*o,p=g-b*I,y=p-b*h,w=C;break;case"right":m=v=n.coordinate,g=i+ +f*o,p=g+b*I,y=p+b*h,w=C;break;default:p=g=n.coordinate,v=s+ +f*l,m=v+b*I,w=m+b*h,y=C;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Zi(Zi(Zi({},qr(this.props,!1)),qr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Zi(Zi({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Zi(Zi({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return je.createElement("line",A0({},f,{className:Zr("recharts-cartesian-axis-line",No(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=SP(Zi(Zi({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=qr(this.props,!1),y=qr(u,!1),w=Zi(Zi({},v),{},{fill:"none"},qr(l,!1)),b=p.map(function(I,C){var j=s.getTickLineCoord(I),T=j.line,S=j.tick,A=Zi(Zi(Zi(Zi({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),S),{},{index:C,payload:I,visibleTicksCount:p.length,tickFormatter:f});return je.createElement(xa,A0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},kb(s.props,I,C)),l&&je.createElement("line",A0({},w,T,{className:Zr("recharts-cartesian-axis-tick-line",No(l,"className"))})),u&&t.renderTickItem(u,A,"".concat(Dr(f)?f(I.value,C):I.value).concat(h||"")))});return je.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=gA(f,NRe),g=h;return Dr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:je.createElement(xa,{className:Zr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return je.isValidElement(n)?s=je.cloneElement(n,a):Dr(n)?s=n(a):s=je.createElement(Vb,A0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(U.Component);AP(dm,"displayName","CartesianAxis");AP(dm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MRe=["x1","y1","x2","y2","key"],RRe=["offset"];function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(r),!0).forEach(function(n){FRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FRe(e,t,r){return t=$Re(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Re(e){var t=BRe(e,"string");return lh(t)=="symbol"?t:t+""}function BRe(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function q7(e,t){if(e==null)return{};var r=URe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function URe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VRe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return je.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XG(e,t){var r;if(je.isValidElement(e))r=je.cloneElement(e,t);else if(Dr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=q7(t,MRe),c=qr(l,!1);c.offset;var u=q7(c,RRe);r=je.createElement("line",Md({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function zRe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=$i($i({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return XG(a,c)});return je.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function qRe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=$i($i({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return XG(a,c)});return je.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function WRe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return je.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return je.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function HRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return je.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return je.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var GRe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return sG(SP($i($i($i({},dm.defaultProps),n),{},{ticks:Pc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},KRe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return sG(SP($i($i($i({},dm.defaultProps),n),{},{ticks:Pc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Yh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function U0(e){var t,r,n,a,i,s,o=xP(),l=bP(),c=L7e(),u=$i($i({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Yh.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Yh.verticalFill,x:$t(e.x)?e.x:c.left,y:$t(e.y)?e.y:c.top,width:$t(e.width)?e.width:c.width,height:$t(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=I7e(),b=j7e();if(!$t(p)||p<=0||!$t(g)||g<=0||!$t(f)||f!==+f||!$t(h)||h!==+h)return null;var I=u.verticalCoordinatesGenerator||GRe,C=u.horizontalCoordinatesGenerator||KRe,j=u.horizontalPoints,T=u.verticalPoints;if((!j||!j.length)&&Dr(C)){var S=v&&v.length,A=C({yAxis:b?$i($i({},b),{},{ticks:S?v:b.ticks}):void 0,width:o,height:l,offset:c},S?!0:m);Mc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lh(A),"]")),Array.isArray(A)&&(j=A)}if((!T||!T.length)&&Dr(I)){var D=y&&y.length,E=I({xAxis:w?$i($i({},w),{},{ticks:D?y:w.ticks}):void 0,width:o,height:l,offset:c},D?!0:m);Mc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lh(E),"]")),Array.isArray(E)&&(T=E)}return je.createElement("g",{className:"recharts-cartesian-grid"},je.createElement(VRe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),je.createElement(zRe,Md({},u,{offset:c,horizontalPoints:j,xAxis:w,yAxis:b})),je.createElement(qRe,Md({},u,{offset:c,verticalPoints:T,xAxis:w,yAxis:b})),je.createElement(WRe,Md({},u,{horizontalPoints:j})),je.createElement(HRe,Md({},u,{verticalPoints:T})))}U0.displayName="CartesianGrid";var YRe=["type","layout","connectNulls","ref"],XRe=["key"];function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function W7(e,t){if(e==null)return{};var r=QRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(n){il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e){return tFe(e)||eFe(e)||ZRe(e)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZRe(e,t){if(e){if(typeof e=="string")return Y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(e,t)}}function eFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tFe(e){if(Array.isArray(e))return Y3(e)}function Y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function nFe(e,t,r){return t&&G7(e.prototype,t),r&&G7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aFe(e,t,r){return t=ww(t),iFe(e,QG()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function iFe(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(e)}function sFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function oFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X3(e,t)}function X3(e,t){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X3(e,t)}function il(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=lFe(e,"string");return Op(t)=="symbol"?t:t+""}function lFe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pi=function(e){function t(){var r;rFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aFe(this,t,[].concat(a)),il(r,"state",{isAnimationFinished:!0,totalLength:0}),il(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),il(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(Xh(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Xh(t.repeat(l,u)),Xh(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),il(r,"id",sy("recharts-line-")),il(r,"pathRef",function(s){r.mainCurve=s}),il(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),il(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return oFe(t,e),nFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=ko(u,dy);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:eo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return je.createElement(xa,p,f.map(function(g){return je.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=qr(this.props,!1),h=qr(l,!0),p=c.map(function(m,v){var y=$s($s($s({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return je.createElement(xa,Xg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=W7(o,YRe),h=$s($s($s({},qr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return je.createElement(N3,Xg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,b=y.totalLength;return je.createElement(tu,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var C=I.t;if(w){var j=w.length/o.length,T=o.map(function(N,P){var V=Math.floor(P*j);if(w[V]){var X=w[V],Y=ol(X.x,N.x),J=ol(X.y,N.y);return $s($s({},N),{},{x:Y(C),y:J(C)})}if(g){var G=ol(m*2,N.x),q=ol(v/2,N.y);return $s($s({},N),{},{x:G(C),y:q(C)})}return $s($s({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var S=ol(0,b),A=S(C),D;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});D=i.getStrokeDasharray(A,b,E)}else D=i.generateSimpleStrokeDasharray(b,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!t_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,b=Zr("recharts-line",l),I=c&&c.allowDataOverflow,C=u&&u.allowDataOverflow,j=I||C,T=Ur(v)?this.id:v,S=(n=qr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,D=A===void 0?3:A,E=S.strokeWidth,N=E===void 0?2:E,P=_we(s)?s:{},V=P.clipDot,X=V===void 0?!0:V,Y=D*2+N;return je.createElement(xa,{className:b},I||C?je.createElement("defs",null,je.createElement("clipPath",{id:"clipPath-".concat(T)},je.createElement("rect",{x:I?h:h-p/2,y:C?f:f-g/2,width:I?p:p*2,height:C?g:g*2})),!X&&je.createElement("clipPath",{id:"clipPath-dots-".concat(T)},je.createElement("rect",{x:h-Y/2,y:f-Y/2,width:p+Y,height:g+Y}))):null,!w&&this.renderCurve(j,T),this.renderErrorBar(j,T),(w||s)&&this.renderDots(j,X,T),(!m||y)&&Af.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Xh(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Xh(s),Xh(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(je.isValidElement(n))i=je.cloneElement(n,a);else if(Dr(n))i=n(a);else{var s=a.key,o=W7(a,XRe),l=Zr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=je.createElement(mP,Xg({key:s},o,{className:l}))}return i}}])}(U.PureComponent);il(pi,"displayName","Line");il(pi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});il(pi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var g=eo(h,s);return u==="horizontal"?{x:NM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Ur(g)?null:n.scale(g),value:g,payload:h}:{x:Ur(g)?null:r.scale(g),y:NM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return $s({points:f,layout:u},c)});function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tK(n.key),n)}}function fFe(e,t,r){return t&&uFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dFe(e,t,r){return t=_w(t),hFe(e,ZG()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function hFe(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pFe(e)}function pFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function mFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q3(e,t)}function Q3(e,t){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q3(e,t)}function eK(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=gFe(e,"string");return Ip(t)=="symbol"?t:t+""}function gFe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J3.apply(this,arguments)}function vFe(e){var t=e.xAxisId,r=xP(),n=bP(),a=$G(t);return a==null?null:je.createElement(dm,J3({},a,{className:Zr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Pc(s,!0)}}))}var Tf=function(e){function t(){return cFe(this,t),dFe(this,t,arguments)}return mFe(t,e),fFe(t,[{key:"render",value:function(){return je.createElement(vFe,this.props)}}])}(je.Component);eK(Tf,"displayName","XAxis");eK(Tf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function yFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aK(n.key),n)}}function bFe(e,t,r){return t&&xFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wFe(e,t,r){return t=Sw(t),_Fe(e,rK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function _Fe(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SFe(e)}function SFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function AFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z3(e,t)}function nK(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=TFe(e,"string");return jp(t)=="symbol"?t:t+""}function TFe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}var EFe=function(t){var r=t.yAxisId,n=xP(),a=bP(),i=BG(r);return i==null?null:je.createElement(dm,eE({},i,{className:Zr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Pc(o,!0)}}))},Ef=function(e){function t(){return yFe(this,t),wFe(this,t,arguments)}return AFe(t,e),bFe(t,[{key:"render",value:function(){return je.createElement(EFe,this.props)}}])}(je.Component);nK(Ef,"displayName","YAxis");nK(Ef,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function K7(e){return PFe(e)||CFe(e)||kFe(e)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kFe(e,t){if(e){if(typeof e=="string")return tE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,t)}}function CFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PFe(e){if(Array.isArray(e))return tE(e)}function tE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rE=function(t,r,n,a,i){var s=ko(t,_P),o=ko(t,l_),l=[].concat(K7(s),K7(o)),c=ko(t,u_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&Xl(v.props,"extendDomain")&&$t(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&Xl(v.props,"extendDomain")&&$t(v.props[p])&&$t(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return $t(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},iK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var I=v.length,C;for(b=0;b<I;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,h);break;default:if(!w)for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(iK);var OFe=iK.exports;const IFe=_n(OFe);var vA=new IFe,yA="recharts.syncMouseEvents";function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function jFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function LFe(e,t,r){return t&&DFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xA(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=MFe(e,"string");return k1(t)=="symbol"?t:t+""}function MFe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RFe=function(){function e(){jFe(this,e),xA(this,"activeIndex",0),xA(this,"coordinateList",[]),xA(this,"layout","horizontal")}return LFe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function FFe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&$t(n)&&$t(a))return!0}return!1}function $Fe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=gi(t,r,n,a),o=gi(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function BFe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=gi(o,l,c,f),p=gi(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return oK(t);return[{x:n,y:a},{x:i,y:s}]}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function Y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=VFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=zFe(e,"string");return C1(t)=="symbol"?t:t+""}function zFe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qFe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=N3;if(h==="ScatterChart")g=s,m=z8e;else if(h==="BarChart")g=$Fe(f,s,l,u),m=pP;else if(f==="radial"){var v=oK(s),y=v.cx,w=v.cy,b=v.radius,I=v.startAngle,C=v.endAngle;g={cx:y,cy:w,startAngle:I,endAngle:C,innerRadius:b,outerRadius:b},m=fG}else g={points:BFe(f,s,l)},m=N3;var j=Dx(Dx(Dx(Dx({stroke:"#ccc",pointerEvents:"none"},l),g),qr(p,!1)),{},{payload:o,payloadIndex:c,className:Zr("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,j):U.createElement(m,j)}var WFe=["item"],HFe=["children","className","width","height","style","compact","title","desc"];function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function X7(e,t){return YFe(e)||KFe(e,t)||cK(e,t)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function YFe(e){if(Array.isArray(e))return e}function Q7(e,t){if(e==null)return{};var r=XFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uK(n.key),n)}}function ZFe(e,t,r){return t&&JFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e$e(e,t,r){return t=Aw(t),t$e(e,lK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function t$e(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$e(e)}function r$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function n$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function Lp(e){return s$e(e)||i$e(e)||cK(e)||a$e()}function a$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cK(e,t){if(e){if(typeof e=="string")return aE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(e,t)}}function i$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s$e(e){if(Array.isArray(e))return aE(e)}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(r),!0).forEach(function(n){dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dr(e,t,r){return t=uK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=o$e(e,"string");return Dp(t)=="symbol"?t:t+""}function o$e(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l$e={xAxis:["bottom","top"],yAxis:["left","right"]},c$e={width:"100%",height:"100%"},fK={x:0,y:0};function Lx(e){return e}var u$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},f$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ct(ct(ct({},a),gi(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ct(ct(ct({},a),gi(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return fK},f_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Lp(o),Lp(c)):o},[]);return s.length>0?s:t&&t.length&&$t(a)&&$t(i)?t.slice(a,i+1):[]};function dK(e){return e==="number"?[0,"auto"]:void 0}var iE=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=f_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Eb(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Lp(l),[lG(c,h)]):l},[])},Z7=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=u$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=TIe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=iE(t,r,u,f),p=f$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},d$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=iG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?ct(ct({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,I=y.allowDataOverflow,C=y.allowDuplicatedCategory,j=y.scale,T=y.ticks,S=y.includeHidden,A=y[s];if(g[A])return g;var D=f_(t.data,{graphicalItems:a.filter(function(O){var R,z=s in O.props?O.props[s]:(R=O.type.defaultProps)===null||R===void 0?void 0:R[s];return z===A}),dataStartIndex:l,dataEndIndex:c}),E=D.length,N,P,V;FFe(y.domain,I,w)&&(N=_3(y.domain,null,I),p&&(w==="number"||j!=="auto")&&(V=Kg(D,b,"category")));var X=dK(w);if(!N||N.length===0){var Y,J=(Y=y.domain)!==null&&Y!==void 0?Y:X;if(b){if(N=Kg(D,b,w),w==="category"&&p){var G=dwe(N);C&&G?(P=N,N=fw(0,E)):C||(N=OM(J,N,m).reduce(function(O,R){return O.indexOf(R)>=0?O:[].concat(Lp(O),[R])},[]))}else if(w==="category")C?N=N.filter(function(O){return O!==""&&!Ur(O)}):N=OM(J,N,m).reduce(function(O,R){return O.indexOf(R)>=0||R===""||Ur(R)?O:[].concat(Lp(O),[R])},[]);else if(w==="number"){var q=PIe(D,a.filter(function(O){var R,z,H=s in O.props?O.props[s]:(R=O.type.defaultProps)===null||R===void 0?void 0:R[s],Z="hide"in O.props?O.props.hide:(z=O.type.defaultProps)===null||z===void 0?void 0:z.hide;return H===A&&(S||!Z)}),b,i,u);q&&(N=q)}p&&(w==="number"||j!=="auto")&&(V=Kg(D,b,"category"))}else p?N=fw(0,E):o&&o[A]&&o[A].hasStack&&w==="number"?N=h==="expand"?[0,1]:oG(o[A].stackGroups,l,c):N=aG(D,a.filter(function(O){var R=s in O.props?O.props[s]:O.type.defaultProps[s],z="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return R===A&&(S||!z)}),w,u,!0);if(w==="number")N=rE(f,N,A,i,T),J&&(N=_3(J,N,I));else if(w==="category"&&J){var ee=J,W=N.every(function(O){return ee.indexOf(O)>=0});W&&(N=ee)}}return ct(ct({},g),{},dr({},A,ct(ct({},y),{},{axisType:i,domain:N,categoricalDomain:V,duplicateDomain:P,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:p,layout:u})))},{})},h$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=f_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=iG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?ct(ct({},y.type.defaultProps),y.props):y.props,b=w[s],I=dK("number");if(!v[b]){m++;var C;return g?C=fw(0,p):o&&o[b]&&o[b].hasStack?(C=oG(o[b].stackGroups,l,c),C=rE(f,C,b,i)):(C=_3(I,aG(h,n.filter(function(j){var T,S,A=s in j.props?j.props[s]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[s],D="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===b&&!D}),"number",u),a.defaultProps.allowDataOverflow),C=rE(f,C,b,i)),ct(ct({},v),{},dr({},b,ct(ct({axisType:i},a.defaultProps),{},{hide:!0,orientation:No(l$e,"".concat(i,".").concat(m%2),null),domain:C,originalDomain:I,isCategorical:g,layout:u})))}return v},{})},p$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=ko(u,i),p={};return h&&h.length?p=d$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=h$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},m$e=function(t){var r=Qu(t),n=Pc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:UC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rw(r,n)}},eR=function(t){var r=t.children,n=t.defaultShowTooltip,a=Vs(r,Tp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},g$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Lc(r&&r.type);return n&&n.indexOf("Bar")>=0})},tR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},v$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Vs(f,Tp),g=Vs(f,vl),m=Object.keys(l).reduce(function(C,j){var T=l[j],S=T.orientation;return!T.mirror&&!T.hide?ct(ct({},C),{},dr({},S,C[S]+T.width)):C},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(C,j){var T=s[j],S=T.orientation;return!T.mirror&&!T.hide?ct(ct({},C),{},dr({},S,No(C,"".concat(S))+T.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=ct(ct({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||Tp.defaultProps.height),g&&r&&(y=kIe(y,a,n,r));var b=c-y.left-y.right,I=u-y.top-y.bottom;return ct(ct({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(I,0)})},y$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},x$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var b=w.graphicalItems,I=w.stackGroups,C=w.offset,j=w.updateId,T=w.dataStartIndex,S=w.dataEndIndex,A=y.barSize,D=y.layout,E=y.barGap,N=y.barCategoryGap,P=y.maxBarSize,V=tR(D),X=V.numericAxisName,Y=V.cateAxisName,J=g$e(b),G=[];return b.forEach(function(q,ee){var W=f_(y.data,{graphicalItems:[q],dataStartIndex:T,dataEndIndex:S}),O=q.type.defaultProps!==void 0?ct(ct({},q.type.defaultProps),q.props):q.props,R=O.dataKey,z=O.maxBarSize,H=O["".concat(X,"Id")],Z=O["".concat(Y,"Id")],oe={},de=l.reduce(function(Le,Ze){var De=w["".concat(Ze.axisType,"Map")],et=O["".concat(Ze.axisType,"Id")];De&&De[et]||Ze.axisType==="zAxis"||oh();var yt=De[et];return ct(ct({},Le),{},dr(dr({},Ze.axisType,yt),"".concat(Ze.axisType,"Ticks"),Pc(yt)))},oe),re=de[Y],he=de["".concat(Y,"Ticks")],we=I&&I[H]&&I[H].hasStack&&VIe(q,I[H].stackGroups),B=Lc(q.type).indexOf("Bar")>=0,Ae=rw(re,he),ve=[],ye=J&&EIe({barSize:A,stackGroups:I,totalSize:y$e(de,Y)});if(B){var te,Pe,Fe=Ur(z)?P:z,Ve=(te=(Pe=rw(re,he,!0))!==null&&Pe!==void 0?Pe:Fe)!==null&&te!==void 0?te:0;ve=NIe({barGap:E,barCategoryGap:N,bandSize:Ve!==Ae?Ve:Ae,sizeList:ye[Z],maxBarSize:Fe}),Ve!==Ae&&(ve=ve.map(function(Le){return ct(ct({},Le),{},{position:ct(ct({},Le.position),{},{offset:Le.position.offset-Ve/2})})}))}var rt=q&&q.type&&q.type.getComposedData;rt&&G.push({props:ct(ct({},rt(ct(ct({},de),{},{displayedData:W,props:y,dataKey:R,item:q,bandSize:Ae,barPosition:ve,offset:C,stackedData:we,layout:D,dataStartIndex:T,dataEndIndex:S}))),{},dr(dr(dr({key:q.key||"item-".concat(ee)},X,de[X]),Y,de[Y]),"animationId",j)),childIndex:Twe(q,y.children),item:q})}),G},p=function(y,w){var b=y.props,I=y.dataStartIndex,C=y.dataEndIndex,j=y.updateId;if(!A8({props:b}))return null;var T=b.children,S=b.layout,A=b.stackOffset,D=b.data,E=b.reverseStackOrder,N=tR(S),P=N.numericAxisName,V=N.cateAxisName,X=ko(T,n),Y=$Ie(D,X,"".concat(P,"Id"),"".concat(V,"Id"),A,E),J=l.reduce(function(O,R){var z="".concat(R.axisType,"Map");return ct(ct({},O),{},dr({},z,p$e(b,ct(ct({},R),{},{graphicalItems:X,stackGroups:R.axisType===P&&Y,dataStartIndex:I,dataEndIndex:C}))))},{}),G=v$e(ct(ct({},J),{},{props:b,graphicalItems:X}),w==null?void 0:w.legendBBox);Object.keys(J).forEach(function(O){J[O]=u(b,J[O],G,O.replace("Map",""),r)});var q=J["".concat(V,"Map")],ee=m$e(q),W=h(b,ct(ct({},J),{},{dataStartIndex:I,dataEndIndex:C,updateId:j,graphicalItems:X,stackGroups:Y,offset:G}));return ct(ct({formattedGraphicalItems:W,graphicalItems:X,offset:G,stackGroups:Y},ee),J)},g=function(v){function y(w){var b,I,C;return QFe(this,y),C=e$e(this,y,[w]),dr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),dr(C,"accessibilityManager",new RFe),dr(C,"handleLegendBBoxUpdate",function(j){if(j){var T=C.state,S=T.dataStartIndex,A=T.dataEndIndex,D=T.updateId;C.setState(ct({legendBBox:j},p({props:C.props,dataStartIndex:S,dataEndIndex:A,updateId:D},ct(ct({},C.state),{},{legendBBox:j}))))}}),dr(C,"handleReceiveSyncEvent",function(j,T,S){if(C.props.syncId===j){if(S===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(T)}}),dr(C,"handleBrushChange",function(j){var T=j.startIndex,S=j.endIndex;if(T!==C.state.dataStartIndex||S!==C.state.dataEndIndex){var A=C.state.updateId;C.setState(function(){return ct({dataStartIndex:T,dataEndIndex:S},p({props:C.props,dataStartIndex:T,dataEndIndex:S,updateId:A},C.state))}),C.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),dr(C,"handleMouseEnter",function(j){var T=C.getMouseInfo(j);if(T){var S=ct(ct({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseEnter;Dr(A)&&A(S,j)}}),dr(C,"triggeredAfterMouseMove",function(j){var T=C.getMouseInfo(j),S=T?ct(ct({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseMove;Dr(A)&&A(S,j)}),dr(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),dr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),dr(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),dr(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var S=C.props.onMouseLeave;Dr(S)&&S(T,j)}),dr(C,"handleOuterEvent",function(j){var T=Awe(j),S=No(C.props,"".concat(T));if(T&&Dr(S)){var A,D;/.*touch.*/i.test(T)?D=C.getMouseInfo(j.changedTouches[0]):D=C.getMouseInfo(j),S((A=D)!==null&&A!==void 0?A:{},j)}}),dr(C,"handleClick",function(j){var T=C.getMouseInfo(j);if(T){var S=ct(ct({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onClick;Dr(A)&&A(S,j)}}),dr(C,"handleMouseDown",function(j){var T=C.props.onMouseDown;if(Dr(T)){var S=C.getMouseInfo(j);T(S,j)}}),dr(C,"handleMouseUp",function(j){var T=C.props.onMouseUp;if(Dr(T)){var S=C.getMouseInfo(j);T(S,j)}}),dr(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),dr(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),dr(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),dr(C,"handleDoubleClick",function(j){var T=C.props.onDoubleClick;if(Dr(T)){var S=C.getMouseInfo(j);T(S,j)}}),dr(C,"handleContextMenu",function(j){var T=C.props.onContextMenu;if(Dr(T)){var S=C.getMouseInfo(j);T(S,j)}}),dr(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&vA.emit(yA,C.props.syncId,j,C.eventEmitterSymbol)}),dr(C,"applySyncEvent",function(j){var T=C.props,S=T.layout,A=T.syncMethod,D=C.state.updateId,E=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(ct({dataStartIndex:E,dataEndIndex:N},p({props:C.props,dataStartIndex:E,dataEndIndex:N,updateId:D},C.state)));else if(j.activeTooltipIndex!==void 0){var P=j.chartX,V=j.chartY,X=j.activeTooltipIndex,Y=C.state,J=Y.offset,G=Y.tooltipTicks;if(!J)return;if(typeof A=="function")X=A(G,j);else if(A==="value"){X=-1;for(var q=0;q<G.length;q++)if(G[q].value===j.activeLabel){X=q;break}}var ee=ct(ct({},J),{},{x:J.left,y:J.top}),W=Math.min(P,ee.x+ee.width),O=Math.min(V,ee.y+ee.height),R=G[X]&&G[X].value,z=iE(C.state,C.props.data,X),H=G[X]?{x:S==="horizontal"?G[X].coordinate:W,y:S==="horizontal"?O:G[X].coordinate}:fK;C.setState(ct(ct({},j),{},{activeLabel:R,activeCoordinate:H,activePayload:z,activeTooltipIndex:X}))}else C.setState(j)}),dr(C,"renderCursor",function(j){var T,S=C.state,A=S.isTooltipActive,D=S.activeCoordinate,E=S.activePayload,N=S.offset,P=S.activeTooltipIndex,V=S.tooltipAxisBandSize,X=C.getTooltipEventType(),Y=(T=j.props.active)!==null&&T!==void 0?T:A,J=C.props.layout,G=j.key||"_recharts-cursor";return je.createElement(qFe,{key:G,activeCoordinate:D,activePayload:E,activeTooltipIndex:P,chartName:r,element:j,isActive:Y,layout:J,offset:N,tooltipAxisBandSize:V,tooltipEventType:X})}),dr(C,"renderPolarAxis",function(j,T,S){var A=No(j,"type.axisType"),D=No(C.state,"".concat(A,"Map")),E=j.type.defaultProps,N=E!==void 0?ct(ct({},E),j.props):j.props,P=D&&D[N["".concat(A,"Id")]];return U.cloneElement(j,ct(ct({},P),{},{className:Zr(A,P.className),key:j.key||"".concat(T,"-").concat(S),ticks:Pc(P,!0)}))}),dr(C,"renderPolarGrid",function(j){var T=j.props,S=T.radialLines,A=T.polarAngles,D=T.polarRadius,E=C.state,N=E.radiusAxisMap,P=E.angleAxisMap,V=Qu(N),X=Qu(P),Y=X.cx,J=X.cy,G=X.innerRadius,q=X.outerRadius;return U.cloneElement(j,{polarAngles:Array.isArray(A)?A:Pc(X,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(D)?D:Pc(V,!0).map(function(ee){return ee.coordinate}),cx:Y,cy:J,innerRadius:G,outerRadius:q,key:j.key||"polar-grid",radialLines:S})}),dr(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,T=C.props,S=T.children,A=T.width,D=T.height,E=C.props.margin||{},N=A-(E.left||0)-(E.right||0),P=rG({children:S,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!P)return null;var V=P.item,X=Q7(P,WFe);return U.cloneElement(V,ct(ct({},X),{},{chartWidth:A,chartHeight:D,margin:E,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),dr(C,"renderTooltip",function(){var j,T=C.props,S=T.children,A=T.accessibilityLayer,D=Vs(S,_s);if(!D)return null;var E=C.state,N=E.isTooltipActive,P=E.activeCoordinate,V=E.activePayload,X=E.activeLabel,Y=E.offset,J=(j=D.props.active)!==null&&j!==void 0?j:N;return U.cloneElement(D,{viewBox:ct(ct({},Y),{},{x:Y.left,y:Y.top}),active:J,label:X,payload:J?V:[],coordinate:P,accessibilityLayer:A})}),dr(C,"renderBrush",function(j){var T=C.props,S=T.margin,A=T.data,D=C.state,E=D.offset,N=D.dataStartIndex,P=D.dataEndIndex,V=D.updateId;return U.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Px(C.handleBrushChange,j.props.onChange),data:A,x:$t(j.props.x)?j.props.x:E.left,y:$t(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:$t(j.props.width)?j.props.width:E.width,startIndex:N,endIndex:P,updateId:"brush-".concat(V)})}),dr(C,"renderReferenceElement",function(j,T,S){if(!j)return null;var A=C,D=A.clipPathId,E=C.state,N=E.xAxisMap,P=E.yAxisMap,V=E.offset,X=j.type.defaultProps||{},Y=j.props,J=Y.xAxisId,G=J===void 0?X.xAxisId:J,q=Y.yAxisId,ee=q===void 0?X.yAxisId:q;return U.cloneElement(j,{key:j.key||"".concat(T,"-").concat(S),xAxis:N[G],yAxis:P[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),dr(C,"renderActivePoints",function(j){var T=j.item,S=j.activePoint,A=j.basePoint,D=j.childIndex,E=j.isRange,N=[],P=T.props.key,V=T.item.type.defaultProps!==void 0?ct(ct({},T.item.type.defaultProps),T.item.props):T.item.props,X=V.activeDot,Y=V.dataKey,J=ct(ct({index:D,dataKey:Y,cx:S.x,cy:S.y,r:4,fill:hP(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},qr(X,!1)),Nb(X));return N.push(y.renderActiveDot(X,J,"".concat(P,"-activePoint-").concat(D))),A?N.push(y.renderActiveDot(X,ct(ct({},J),{},{cx:A.x,cy:A.y}),"".concat(P,"-basePoint-").concat(D))):E&&N.push(null),N}),dr(C,"renderGraphicChild",function(j,T,S){var A=C.filterFormatItem(j,T,S);if(!A)return null;var D=C.getTooltipEventType(),E=C.state,N=E.isTooltipActive,P=E.tooltipAxis,V=E.activeTooltipIndex,X=E.activeLabel,Y=C.props.children,J=Vs(Y,_s),G=A.props,q=G.points,ee=G.isRange,W=G.baseLine,O=A.item.type.defaultProps!==void 0?ct(ct({},A.item.type.defaultProps),A.item.props):A.item.props,R=O.activeDot,z=O.hide,H=O.activeBar,Z=O.activeShape,oe=!!(!z&&N&&J&&(R||H||Z)),de={};D!=="axis"&&J&&J.props.trigger==="click"?de={onClick:Px(C.handleItemMouseEnter,j.props.onClick)}:D!=="axis"&&(de={onMouseLeave:Px(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Px(C.handleItemMouseEnter,j.props.onMouseEnter)});var re=U.cloneElement(j,ct(ct({},A.props),de));function he(Ze){return typeof P.dataKey=="function"?P.dataKey(Ze.payload):null}if(oe)if(V>=0){var we,B;if(P.dataKey&&!P.allowDuplicatedCategory){var Ae=typeof P.dataKey=="function"?he:"payload.".concat(P.dataKey.toString());we=Eb(q,Ae,X),B=ee&&W&&Eb(W,Ae,X)}else we=q==null?void 0:q[V],B=ee&&W&&W[V];if(Z||H){var ve=j.props.activeIndex!==void 0?j.props.activeIndex:V;return[U.cloneElement(j,ct(ct(ct({},A.props),de),{},{activeIndex:ve})),null,null]}if(!Ur(we))return[re].concat(Lp(C.renderActivePoints({item:A,activePoint:we,basePoint:B,childIndex:V,isRange:ee})))}else{var ye,te=(ye=C.getItemByXY(C.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:re},Pe=te.graphicalItem,Fe=Pe.item,Ve=Fe===void 0?j:Fe,rt=Pe.childIndex,Le=ct(ct(ct({},A.props),de),{},{activeIndex:rt});return[U.cloneElement(Ve,Le),null,null]}return ee?[re,null,null]:[re,null]}),dr(C,"renderCustomized",function(j,T,S){return U.cloneElement(j,ct(ct({key:"recharts-customized-".concat(S)},C.props),C.state))}),dr(C,"renderMap",{CartesianGrid:{handler:Lx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Lx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Lx},YAxis:{handler:Lx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:sy("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=tH(C.triggeredAfterMouseMove,(I=w.throttleDelay)!==null&&I!==void 0?I:1e3/60),C.state={},C}return n$e(y,v),ZFe(y,[{key:"componentDidMount",value:function(){var b,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,I=b.children,C=b.data,j=b.height,T=b.layout,S=Vs(I,_s);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=iE(this.state,C,A,D),N=this.state.tooltipTicks[A].coordinate,P=(this.state.offset.top+j)/2,V=T==="horizontal",X=V?{x:N,y:P}:{y:N,x:P},Y=this.state.formattedGraphicalItems.find(function(G){var q=G.item;return q.type.name==="Scatter"});Y&&(X=ct(ct({},X),Y.props.points[A].tooltipPosition),E=Y.props.points[A].tooltipPayload);var J={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:D,activePayload:E,activeCoordinate:X};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){RT([Vs(b.children,_s)],[Vs(this.props.children,_s)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Vs(this.props.children,_s);if(b&&typeof b.props.shared=="boolean"){var I=b.props.shared?"axis":"item";return o.indexOf(I)>=0?I:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var I=this.container,C=I.getBoundingClientRect(),j=Qke(C),T={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},S=C.width/I.offsetWidth||1,A=this.inRange(T.chartX,T.chartY,S);if(!A)return null;var D=this.state,E=D.xAxisMap,N=D.yAxisMap,P=this.getTooltipEventType(),V=Z7(this.state,this.props.data,this.props.layout,A);if(P!=="axis"&&E&&N){var X=Qu(E).scale,Y=Qu(N).scale,J=X&&X.invert?X.invert(T.chartX):null,G=Y&&Y.invert?Y.invert(T.chartY):null;return ct(ct({},T),{},{xValue:J,yValue:G},V)}return V?ct(ct({},T),V):null}},{key:"inRange",value:function(b,I){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=b/C,S=I/C;if(j==="horizontal"||j==="vertical"){var A=this.state.offset,D=T>=A.left&&T<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return D?{x:T,y:S}:null}var E=this.state,N=E.angleAxisMap,P=E.radiusAxisMap;if(N&&P){var V=Qu(N);return DM({x:T,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,I=this.getTooltipEventType(),C=Vs(b,_s),j={};C&&I==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Nb(this.props,this.handleOuterEvent);return ct(ct({},T),j)}},{key:"addListener",value:function(){vA.on(yA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vA.removeListener(yA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,I,C){for(var j=this.state.formattedGraphicalItems,T=0,S=j.length;T<S;T++){var A=j[T];if(A.item===b||A.props.key===b.key||I===Lc(A.item.type)&&C===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,I=this.state.offset,C=I.left,j=I.top,T=I.height,S=I.width;return je.createElement("defs",null,je.createElement("clipPath",{id:b},je.createElement("rect",{x:C,y:j,height:T,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(I,C){var j=X7(C,2),T=j[0],S=j[1];return ct(ct({},I),{},dr({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(I,C){var j=X7(C,2),T=j[0],S=j[1];return ct(ct({},I),{},dr({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(b){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(b){var I=this.state,C=I.formattedGraphicalItems,j=I.activeItem;if(C&&C.length)for(var T=0,S=C.length;T<S;T++){var A=C[T],D=A.props,E=A.item,N=E.type.defaultProps!==void 0?ct(ct({},E.type.defaultProps),E.props):E.props,P=Lc(E.type);if(P==="Bar"){var V=(D.data||[]).find(function(G){return j8e(b,G)});if(V)return{graphicalItem:A,payload:V}}else if(P==="RadialBar"){var X=(D.data||[]).find(function(G){return DM(b,G)});if(X)return{graphicalItem:A,payload:X}}else if(a_(A,j)||i_(A,j)||S1(A,j)){var Y=MLe({graphicalItem:A,activeTooltipItem:j,itemData:N.data}),J=N.activeIndex===void 0?Y:N.activeIndex;return{graphicalItem:ct(ct({},A),{},{childIndex:J}),payload:S1(A,j)?N.data[Y]:A.props.data[Y]}}}return null}},{key:"render",value:function(){var b=this;if(!A8(this))return null;var I=this.props,C=I.children,j=I.className,T=I.width,S=I.height,A=I.style,D=I.compact,E=I.title,N=I.desc,P=Q7(I,HFe),V=qr(P,!1);if(D)return je.createElement(I7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},je.createElement($T,T0({},V,{width:T,height:S,title:E,desc:N}),this.renderClipPath(),E8(C,this.renderMap)));if(this.props.accessibilityLayer){var X,Y;V.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,V.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",V.onKeyDown=function(G){b.accessibilityManager.keyboardEvent(G)},V.onFocus=function(){b.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return je.createElement(I7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},je.createElement("div",T0({className:Zr("recharts-wrapper",j),style:ct({position:"relative",cursor:"default",width:T,height:S},A)},J,{ref:function(q){b.container=q}}),je.createElement($T,T0({},V,{width:T,height:S,title:E,desc:N,style:c$e}),this.renderClipPath(),E8(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);dr(g,"displayName",r),dr(g,"defaultProps",ct({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),dr(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,I=v.children,C=v.width,j=v.height,T=v.layout,S=v.stackOffset,A=v.margin,D=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=eR(v);return ct(ct(ct({},N),{},{updateId:0},p(ct(ct({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:C,prevHeight:j,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:I})}if(w!==y.prevDataKey||b!==y.prevData||C!==y.prevWidth||j!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!F0(A,y.prevMargin)){var P=eR(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=ct(ct({},Z7(y,b,T)),{},{updateId:y.updateId+1}),Y=ct(ct(ct({},P),V),X);return ct(ct(ct({},Y),p(ct({props:v},Y),y)),{},{prevDataKey:w,prevData:b,prevWidth:C,prevHeight:j,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:I})}if(!RT(I,y.prevChildren)){var J,G,q,ee,W=Vs(I,Tp),O=W&&(J=(G=W.props)===null||G===void 0?void 0:G.startIndex)!==null&&J!==void 0?J:D,R=W&&(q=(ee=W.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&q!==void 0?q:E,z=O!==D||R!==E,H=!Ur(b),Z=H&&!z?y.updateId:y.updateId+1;return ct(ct({updateId:Z},p(ct(ct({props:v},y),{},{updateId:Z,dataStartIndex:O,dataEndIndex:R}),y)),{},{prevChildren:I,dataStartIndex:O,dataEndIndex:R})}return null}),dr(g,"renderActiveDot",function(v,y,w){var b;return U.isValidElement(v)?b=U.cloneElement(v,y):Dr(v)?b=v(y):b=je.createElement(mP,y),je.createElement(xa,{className:"recharts-active-dot",key:w},b)});var m=U.forwardRef(function(y,w){return je.createElement(g,T0({},y,{ref:w}))});return m.displayName=g.displayName,m},Qg=x$e({chartName:"LineChart",GraphicalChild:pi,axisComponents:[{axisType:"xAxis",AxisComp:Tf},{axisType:"yAxis",AxisComp:Ef}],formatAxisMap:o7e});const b$e=()=>{const{isDarkMode:e}=en(),{showToast:t}=rc(),{user:r}=ba(),[n,a]=U.useState(!1),[i,s]=U.useState([]),[o,l]=U.useState(!1),[c,u]=U.useState([]),[f,h]=U.useState([]),[p,g]=U.useState(null),[m,v]=U.useState(null),[y,w]=U.useState(null),[b,I]=U.useState(!1),[C,j]=U.useState(!1),[T,S]=U.useState(!1),[A,D]=U.useState(!1),[E,N]=U.useState(""),[P,V]=U.useState(!1),[X,Y]=U.useState(null),[J,G]=U.useState(null),[q,ee]=U.useState(0),[W,O]=U.useState(new Set),[R,z]=U.useState(!1),[H,Z]=U.useState(new Set),[oe,de]=U.useState(new Set),[re,he]=U.useState(!1),[we,B]=U.useState(""),[Ae,ve]=U.useState([]),[ye,te]=U.useState(!1),[Pe,Fe]=U.useState("name"),[Ve,rt]=U.useState(!1),[Le,Ze]=U.useState(null),[De,et]=U.useState(null),[yt,ft]=U.useState("all"),[wt,It]=U.useState(""),[Dt,Et]=U.useState([]),[nt,Jt]=U.useState(()=>{const ce=new Date;return ce.setHours(0,0,0,0),ce}),[zt,Rr]=U.useState(""),[Ne,Ue]=U.useState(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),{start:ke,end:ce}}),[We,ot]=U.useState({dailyStats:[],userStats:[]}),[Rt,Ee]=U.useState(!1),Je=ce=>{const ke=new Date,lt=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate());return ce.createdAt<lt&&ce.status==="completed"},at=ce=>{if(!Le&&!De)return!0;const ke=ce.createdAt;return Le&&De?ke>=Le&&ke<=De:Le?ke>=Le:De?ke<=De:!0},Ct=()=>{const ce=new Set(i.map(ke=>ke.createdBy));return Array.from(ce).sort()},At=ce=>yt==="all"?!0:ce.createdBy===yt,Ht=ce=>{if(!wt.trim())return!0;const ke=wt.toLowerCase().trim();return ce.jobId.toLowerCase().includes(ke)?!0:ce.items.some(lt=>lt.name&&lt.name.toLowerCase().includes(ke))},ar=i.filter(ce=>C?Je(ce)&&at(ce)&&At(ce)&&Ht(ce):b?ce.status==="completed"&&!Je(ce):T?ce.status==="picking":ce.status!=="completed"),Ar=()=>{const ce=i.filter(lt=>lt.status==="picking"),ke=Dt.filter(lt=>lt.isActive);return{databaseJobs:ce,uiSessions:ke,totalCount:ce.length+ke.length}},kn=U.useCallback(async()=>{try{const ce=new Date(Date.now()-36e5),ke=or(mt(Ge,"liveJobSessions"),nr("startTime","<",ce)),lt=await lr(ke),Gt=[];if(lt.forEach(ht=>{(ht.data().items||[]).length===0&&Gt.push(ht.id)}),Gt.length>0){console.log(`Cleaning up ${Gt.length} old live job sessions with no items`);const ht=Gt.map(dt=>Ys(wr(Ge,"liveJobSessions",dt)));await Promise.all(ht),console.log(`Successfully cleaned up ${Gt.length} old live job sessions`)}}catch(ce){console.error("Error cleaning up old live job sessions:",ce)}},[]),wa=U.useCallback(async ce=>{Ee(!0);try{const ke=new Date(ce);ke.setHours(0,0,0,0);const lt=new Date(ce);lt.setHours(23,59,59,999);const Gt=i.filter(Ft=>{const Xt=Ft.createdAt;return Xt>=ke&&Xt<=lt}),ht=[];for(let Ft=6;Ft>=0;Ft--){const Xt=new Date(ce);Xt.setDate(Xt.getDate()-Ft);const ir=new Date(Xt);ir.setHours(0,0,0,0);const Ir=new Date(Xt);Ir.setHours(23,59,59,999);const Yn=i.filter(on=>{const fn=on.createdAt;return fn>=ir&&fn<=Ir}),Wa=Yn.reduce((on,fn)=>on+fn.items.reduce((_i,jr)=>_i+jr.quantity,0),0),Yi=Yn.filter(on=>on.status==="completed").length;ht.push({date:Xt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:Wa,jobsCompleted:Yi})}const dt=[],Ot=new Set(Gt.map(Ft=>Ft.createdBy));for(const Ft of Ot){const Xt=Gt.filter(on=>on.createdBy===Ft),ir=Xt.filter(on=>on.status==="completed"),Ir=Xt.reduce((on,fn)=>on+fn.items.reduce((_i,jr)=>_i+jr.quantity,0),0);let Yn=0,Wa=0;ir.forEach(on=>{on.pickingTime&&on.pickingTime>0&&(Yn+=on.pickingTime,Wa++)});const Yi=Wa>0?Yn/Wa:0;dt.push({name:Ft,jobsCreated:Xt.length,jobsCompleted:ir.length,itemsPicked:Ir,avgTimePerJob:Yi,totalTime:Yn})}dt.sort((Ft,Xt)=>Xt.itemsPicked-Ft.itemsPicked),ot({dailyStats:ht,userStats:dt})}catch(ke){console.error("Error generating reports:",ke),t("Failed to generate reports","error")}finally{Ee(!1)}},[i,t]),Wt=async ce=>{if(r)try{await hr(mt(Ge,"activityLogs"),{user:r.name,role:r.role,detail:ce,time:new Date().toISOString()})}catch(ke){console.error("Failed to log activity:",ke)}},ua=ce=>{if(ce<60)return`${Math.round(ce)}s`;if(ce<3600){const ke=Math.floor(ce/60),lt=Math.round(ce%60);return`${ke}m ${lt}s`}else{const ke=Math.floor(ce/3600),lt=Math.floor(ce%3600/60),Gt=Math.round(ce%60);return`${ke}h ${lt}m ${Gt}s`}},Jr=U.useCallback(async()=>{a(!0),I(!1),j(!1),S(!1),D(!1),Ze(null),et(null),ft("all"),Z(new Set);try{const ce=or(mt(Ge,"jobs"),Ia("createdAt","desc")),lt=(await lr(ce)).docs.map(ht=>{const dt=ht.data();return{id:ht.id,jobId:dt.jobId||"",createdAt:dt.createdAt instanceof sr?dt.createdAt.toDate():new Date,createdBy:dt.createdBy||"Unknown",status:dt.status||"picking",picker:dt.picker??null,packer:dt.packer??null,items:Array.isArray(dt.items)?dt.items.map(Ot=>({barcode:String(Ot.barcode||""),name:Ot.name??null,asin:Ot.asin??null,quantity:Number(Ot.quantity||1),verified:!!Ot.verified,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,reason:Ot.reason||"Unknown",storeName:Ot.storeName||"Unknown"})):[],pickingTime:dt.pickingTime||0}}),Gt=await Promise.all(lt.map(async ht=>{const dt=await Promise.all(ht.items.map(async Ot=>{if(Ot.name)return Ot;try{const Ft=or(mt(Ge,"inventory"),nr("barcode","==",Ot.barcode)),Xt=await lr(Ft);if(!Xt.empty){const ir=Xt.docs[0].data();return{...Ot,name:ir.name||null}}}catch(Ft){console.error("Error fetching product name for barcode:",Ot.barcode,Ft)}return Ot}));return{...ht,items:dt}}));s(Gt)}catch(ce){console.error(ce),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);U.useEffect(()=>{Jr()},[Jr]),U.useEffect(()=>{kn()},[kn]),U.useEffect(()=>{const ce=setInterval(()=>{kn()},18e5);return()=>clearInterval(ce)},[kn]),U.useEffect(()=>()=>{Z(new Set),de(new Set)},[i]),U.useEffect(()=>{C&&!Le&&!De&&Se()},[C,Le,De]),U.useEffect(()=>{if(!T)return;kn();const ce=kae(mt(Ge,"liveJobSessions"),ke=>{const lt=[];ke.forEach(Gt=>{const ht=Gt.data();ht.isActive&&lt.push({id:Gt.id,createdBy:ht.createdBy||"Unknown",startTime:ht.startTime instanceof sr?ht.startTime.toDate():new Date(ht.startTime),items:ht.items||[],isActive:ht.isActive||!1})}),Et(lt)},ke=>{console.error("Error listening to live job sessions:",ke)});return()=>ce()},[T,kn]),U.useEffect(()=>{A&&(console.log("Generating reports for date:",nt.toISOString(),nt.toLocaleDateString("en-GB")),wa(nt))},[A,nt,wa]),U.useEffect(()=>{A&&(console.log("Date range changed:",Ne.start.toLocaleDateString("en-GB"),"to",Ne.end.toLocaleDateString("en-GB")),Jt(new Date(Ne.end)))},[Ne,A]),U.useEffect(()=>{if(A&&i.length>0){const ce=Array.from(new Set(i.map(ke=>ke.createdBy)));ce.length>0&&!zt&&Rr(ce[0])}},[A,i,zt]),U.useEffect(()=>{A&&console.log("Report date changed:",nt.toISOString(),nt.toLocaleDateString("en-GB"))},[nt,A]);const zn=ce=>{de(ke=>{const lt=new Set(ke);return lt.has(ce)?lt.delete(ce):lt.add(ce),lt})};U.useEffect(()=>{let ce;return J&&(ce=setInterval(()=>{const lt=Math.floor((new Date().getTime()-J.getTime())/1e3);ee(lt)},1e3)),()=>{ce&&clearInterval(ce)}},[J]);const Ln=()=>{N(""),u([]),h([]),G(new Date),ee(0),l(!0);const ce=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;hr(mt(Ge,"liveJobSessions"),{id:ce,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:Ac(),items:[],isActive:!0,createdAt:Ac()}).catch(ke=>{console.error("Error creating live job session:",ke)})},Cn=async ce=>{try{const ke=or(mt(Ge,"inventory"),nr("barcode","==",ce));return!(await lr(ke)).empty}catch(ke){return console.error("Error checking barcode:",ke),!1}},ie=async ce=>{ce.preventDefault();const ke=E.trim();if(!ke)return;if(!await Cn(ke)){t(`Product with barcode ${ke} does not exist`,"error");return}try{const Gt=or(mt(Ge,"inventory"),nr("barcode","==",ke)),ht=await lr(Gt);if(!ht.empty){const dt=ht.docs[0].data(),Ot={...dt,id:ht.docs[0].id,lastUpdated:dt.lastUpdated instanceof sr?dt.lastUpdated.toDate():new Date(dt.lastUpdated)};Y(Ot),V(!0),l(!1)}}catch(Gt){console.error("Error fetching stock item:",Gt),t("Error fetching stock item details","error")}},_e=async ce=>{if(!X)return;const ke=X.quantity-ce.quantity,lt=or(mt(Ge,"inventory"),nr("barcode","==",X.barcode),nr("locationCode","==",ce.locationCode),nr("shelfNumber","==",ce.shelfNumber)),Gt=await lr(lt);if(Gt.empty){t("Stock item not found for this location","error");return}const ht={...X,id:Gt.docs[0].id,quantity:Gt.docs[0].data().quantity||0};h(Ft=>[...Ft,{stockItem:ht,deductedQuantity:ke,reason:ce.reason,storeName:ce.storeName,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber}]),X.barcode&&u(Ft=>{const Xt=X.barcode,ir=Ft.findIndex(Ir=>Ir.barcode===Xt&&Ir.locationCode===ce.locationCode&&Ir.shelfNumber===ce.shelfNumber);if(ir>=0){const Ir=[...Ft];return Ir[ir]={...Ir[ir],quantity:Ir[ir].quantity+ke},Ir}else return[...Ft,{barcode:Xt,name:X.name,quantity:ke,verified:!1,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber,reason:ce.reason,storeName:ce.storeName}]}),t("Item added to job","success"),V(!1),Y(null),l(!0),N("");const dt=or(mt(Ge,"liveJobSessions"),nr("createdBy","==",r==null?void 0:r.name),nr("isActive","==",!0)),Ot=await lr(dt);if(!Ot.empty){const Ft=Ot.docs[0],Xt=Ft.data().items||[],ir={barcode:X.barcode,name:X.name,quantity:ke,verified:!1,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber,reason:ce.reason,storeName:ce.storeName};await En(wr(Ge,"liveJobSessions",Ft.id),{items:[...Xt,ir]})}ge()},me=()=>{V(!1),Y(null),l(!0),ge()},ge=()=>{B(""),ve([]),Fe("name"),rt(!1)},be=()=>{C?Se():(Ze(null),et(null))},Se=()=>{const ce=new Date,ke=new Date(ce);ke.setDate(ce.getDate()-1);const lt=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate()),Gt=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate(),23,59,59,999);Ze(lt),et(Gt)},ze=()=>{C?Se():(Ze(null),et(null)),ft("all"),It("")},tt=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(R){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}z(!0),a(!0);try{for(const ht of f){const dt=wr(Ge,"inventory",ht.stockItem.id);await En(dt,{quantity:ht.stockItem.quantity-ht.deductedQuantity,lastUpdated:Ac()}),await hr(mt(Ge,"activityLogs"),{detail:`${ht.deductedQuantity} units deducted from stock "${ht.stockItem.name}"  (Reason: ${ht.reason}, Store: ${ht.storeName}) by ${r==null?void 0:r.role} from location ${ht.locationCode} shelf ${ht.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const ht of c)if(!f.some(Ot=>Ot.stockItem.barcode===ht.barcode&&Ot.locationCode===ht.locationCode&&Ot.shelfNumber===ht.shelfNumber)){const Ot=or(mt(Ge,"inventory"),nr("barcode","==",ht.barcode),nr("locationCode","==",ht.locationCode),nr("shelfNumber","==",ht.shelfNumber)),Ft=await lr(Ot);if(!Ft.empty){const Xt=Ft.docs[0],Ir=Xt.data().quantity||0;await En(wr(Ge,"inventory",Xt.id),{quantity:Ir-ht.quantity,lastUpdated:Ac()})}}const ce=Date.now().toString(),ke=await hr(mt(Ge,"jobs"),{jobId:ce,createdAt:Ac(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:q});await En(ke,{docId:ke.id}),await Wt(`created new job ${ce} with ${c.length} items (${c.reduce((ht,dt)=>ht+dt.quantity,0)} total units)`),t(`Job ${ce} created and awaiting pack`,"success"),l(!1),u([]),h([]),N(""),G(null),ee(0);const lt=or(mt(Ge,"liveJobSessions"),nr("createdBy","==",r==null?void 0:r.name),nr("isActive","==",!0)),Gt=await lr(lt);Gt.empty||await Ys(wr(Ge,"liveJobSessions",Gt.docs[0].id)),Jr()}catch(ce){console.error(ce),t("Failed to create job","error")}finally{a(!1),z(!1)}},qe=async ce=>{try{await En(wr(Ge,"jobs",ce.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||ce.picker||null}),await Wt(`completed picking for job ${ce.jobId} with ${ce.items.length} items (${ce.items.reduce((ke,lt)=>ke+lt.quantity,0)} total units)`),t(`Job ${ce.jobId} completed and awaiting pack`,"success"),Jr()}catch{t("Failed to update job","error")}},He=async(ce,ke,lt)=>{const Gt=`${ce.id}-${ke}`;O(ht=>new Set(ht).add(Gt));try{if(!ce.id||!ke){t("Invalid job or barcode","error");return}Z(lt?ht=>new Set(ht).add(Gt):ht=>{const dt=new Set(ht);return dt.delete(Gt),dt})}catch(ht){console.error("Error verifying item:",ht),t("Failed to verify item","error")}finally{O(ht=>{const dt=new Set(ht);return dt.delete(Gt),dt})}},Xe=async ce=>{try{const ke=Array.from(H).filter(ht=>ht.startsWith(ce.id)).map(ht=>ht.split("-")[1]),lt=ce.items.filter(ht=>ht.verified||ke.includes(ht.barcode)).length,Gt=ce.items.map(ht=>({...ht,verified:ke.includes(ht.barcode)||ht.verified}));await En(wr(Ge,"jobs",ce.id),{status:"completed",packer:(r==null?void 0:r.name)||ce.packer||null,items:Gt}),await Wt(`completed packing for job ${ce.jobId} with ${ce.items.length} items (${ce.items.reduce((ht,dt)=>ht+dt.quantity,0)} total units) - ${lt} items verified`),Z(ht=>{const dt=new Set(ht);return ke.forEach(Ot=>{dt.delete(`${ce.id}-${Ot}`)}),dt}),t(`Job ${ce.jobId} completed successfully with ${lt}/${ce.items.length} items verified`,"success"),Jr()}catch(ke){console.error("Error completing job:",ke),t("Failed to complete job","error")}},_t=ce=>{w(ce)},Lt=async()=>{if(y)try{await Wt(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((ce,ke)=>ce+ke.quantity,0)} total units))`),await Ys(wr(Ge,"jobs",y.id)),Z(ce=>{const ke=new Set(ce);return y.items.forEach(lt=>{ke.delete(`${y.id}-${lt.barcode}`)}),ke}),t("Job deleted","success"),w(null),Jr()}catch{t("Failed to delete job","error")}},Bt=async(ce,ke,lt,Gt)=>{try{const ht=[...ce.items];ht[ke]={...ht[ke],barcode:lt,quantity:Gt},await En(wr(Ge,"jobs",ce.id),{items:ht}),await Wt(`updated job item in job ${ce.jobId}: barcode ${ce.items[ke].barcode} → ${lt}, quantity ${ce.items[ke].quantity} → ${Gt}`),t("Job item updated successfully","success"),v(null),Jr()}catch{t("Failed to update job item","error")}},Pt=async(ce,ke)=>{try{const lt=ce.items.filter((Gt,ht)=>ht!==ke);await En(wr(Ge,"jobs",ce.id),{items:lt}),await Wt(`removed item ${ce.items[ke].barcode} (qty: ${ce.items[ke].quantity}) from job ${ce.jobId}`),t("Job item removed successfully","success"),Jr()}catch{t("Failed to remove job item","error")}},Mt=async(ce,ke)=>{if(!ce.trim()){ve([]);return}te(!0);try{let lt;switch(ke){case"barcode":lt=or(mt(Ge,"inventory"),nr("barcode","==",ce.trim()));break;case"asin":lt=or(mt(Ge,"inventory"),nr("asin","==",ce.trim()));break;case"name":default:lt=or(mt(Ge,"inventory"),nr("name",">=",ce.trim().toUpperCase()),nr("name","<=",ce.trim().toUpperCase()+""));break}const ht=(await lr(lt)).docs.map(dt=>{const Ot=dt.data();return{id:dt.id,name:Ot.name||"",quantity:Ot.quantity||0,price:Ot.price||0,unit:Ot.unit||null,supplier:Ot.supplier||null,lastUpdated:Ot.lastUpdated instanceof sr?Ot.lastUpdated.toDate():new Date,locationCode:Ot.locationCode||"",shelfNumber:Ot.shelfNumber||"",barcode:Ot.barcode||null,asin:Ot.asin||null,status:Ot.status||"pending",damagedItems:Ot.damagedItems||0,fulfillmentType:Ot.fulfillmentType||"fba",storeName:Ot.storeName||""}});ve(ht)}catch(lt){console.error("Search error:",lt),t("Failed to search inventory","error"),ve([])}finally{te(!1)}},ur=({job:ce})=>{const ke=ce.status==="awaiting_pack",lt=ce.status==="picking",Gt=ce.status==="completed",ht=oe.has(ce.id);return d.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(lS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",ce.jobId]}),d.jsx("button",{onClick:()=>zn(ce.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:ht?d.jsxs(d.Fragment,{children:[d.jsx(n9,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",ce.items.length,")"]}):d.jsxs(d.Fragment,{children:[d.jsx(qc,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",ce.items.length,")"]})})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ce.createdBy," • ",ce.createdAt.toLocaleString(),ce.pickingTime&&ce.pickingTime>0&&d.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",ua(ce.pickingTime)]})]}),!ht&&ce.items.length>0&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ce.items.length," item",ce.items.length!==1?"s":""," • Total Qty: ",ce.items.reduce((dt,Ot)=>dt+Ot.quantity,0),ke&&d.jsxs("span",{className:"ml-2",children:["• Verified: ",ce.items.filter(dt=>dt.verified||H.has(`${ce.id}-${dt.barcode}`)).length,"/",ce.items.length]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Gt?"bg-green-100 text-green-700":ke?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Gt?"Completed":ke?"Awaiting Pack":"Picking"}),d.jsx(ut,{variant:"secondary",onClick:Jr,size:"sm",className:"h-8 w-8 p-0",children:d.jsx(Za,{size:14})}),d.jsx(ut,{variant:"danger",onClick:()=>_t(ce),size:"sm",className:"h-8 w-8 p-0",children:d.jsx(is,{size:14})})]})]})})}),ht&&d.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[lt&&d.jsxs(ut,{onClick:()=>V(!0),className:"flex items-center gap-1",size:"sm",children:[d.jsx(lS,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),ke&&d.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",ce.items.filter(dt=>dt.verified||H.has(`${ce.id}-${dt.barcode}`)).length,"/",ce.items.length," items verified"]})]}),d.jsxs("div",{className:"space-y-3",children:[ce.items.map((dt,Ot)=>d.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===ce.id&&(m==null?void 0:m.itemIndex)===Ot?d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[d.jsx(kt,{value:m.barcode,onChange:Ft=>v({...m,barcode:Ft.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),d.jsx(kt,{type:"number",value:m.quantity.toString(),onChange:Ft=>v({...m,quantity:Number(Ft.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ut,{size:"sm",onClick:()=>Bt(ce,Ot,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),d.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:dt.name||dt.barcode}),dt.name&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",dt.barcode]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[ke&&d.jsx(ut,{variant:dt.verified||H.has(`${ce.id}-${dt.barcode}`)?"success":"primary",size:"sm",onClick:()=>He(ce,dt.barcode,!(dt.verified||H.has(`${ce.id}-${dt.barcode}`))),disabled:W.has(`${ce.id}-${dt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${dt.verified||H.has(`${ce.id}-${dt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:W.has(`${ce.id}-${dt.barcode}`)?d.jsx(Za,{size:12,className:"animate-spin"}):d.jsx("span",{className:"hidden sm:inline",children:dt.verified||H.has(`${ce.id}-${dt.barcode}`)?"Verified":"Verify"})}),ke&&!m&&d.jsx(d.Fragment,{children:d.jsx(ut,{variant:"danger",size:"sm",onClick:()=>Pt(ce,Ot),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:d.jsx(is,{size:16})})})]})]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[d.jsxs("div",{children:["Qty: ",dt.quantity]}),dt.locationCode&&dt.shelfNumber&&d.jsxs("div",{children:["Location: ",dt.locationCode,"-",dt.shelfNumber]}),dt.reason&&d.jsxs("div",{children:["Reason: ",dt.reason]}),dt.storeName&&d.jsxs("div",{children:["Store: ",dt.storeName]})]})]})},`${dt.barcode}-${Ot}-${ce.id}`)),ce.items.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[lt&&d.jsxs(ut,{onClick:()=>qe(ce),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Zx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),ke&&d.jsxs(ut,{onClick:()=>Xe(ce),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Zx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[C?"Archived":b?"Completed":T?"Live":A?"Reports":"Active"," Jobs"]}),T&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),A&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(ut,{variant:"secondary",onClick:Jr,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:d.jsx(Za,{size:16,className:n?"animate-spin":""})}),d.jsxs(ut,{onClick:Ln,className:"flex items-center gap-1",size:"sm",children:[d.jsx(us,{size:16})," ",d.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),d.jsx(ut,{variant:!b&&!C&&!T&&!A?"primary":"secondary",onClick:()=>{I(!1),j(!1),S(!1),D(!1)},size:"sm",children:"Active Jobs"}),d.jsx(ut,{variant:b?"primary":"secondary",onClick:()=>{I(!0),j(!1),S(!1),D(!1)},size:"sm",children:"Completed Jobs"}),d.jsx(ut,{variant:C?"primary":"secondary",onClick:()=>{I(!1),j(!0),S(!1),D(!1),Se()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(ut,{variant:T?"primary":"secondary",onClick:()=>{I(!1),j(!1),S(!0),D(!1)},size:"sm",children:"Live Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(ut,{variant:A?"primary":"secondary",onClick:()=>{I(!1),j(!1),S(!1),D(!0)},size:"sm",children:"Reports"})]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:C&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),d.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:wt,onChange:ce=>It(ce.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),d.jsxs("select",{value:yt,onChange:ce=>ft(ce.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[d.jsx("option",{value:"all",children:"All Users"}),Ct().map(ce=>d.jsx("option",{value:ce,children:ce},ce))]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),d.jsx(vC,{startDate:Le,endDate:De,onStartDateChange:Ze,onEndDateChange:et,onClear:be,className:"w-full"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ut,{variant:"secondary",onClick:ze,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[C&&(Le||De||yt!=="all"||wt.trim())&&d.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[wt.trim()&&d.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',wt,'"']}),yt!=="all"&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",yt]}),Le&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",Le.toLocaleDateString()]}),De&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",De.toLocaleDateString()]}),d.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[ar.length," jobs found"]})]})]})}),!A&&ar.map(ce=>d.jsx(ur,{job:ce},ce.id)),T&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),d.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[Ar().totalCount," active"]})]}),d.jsxs(ut,{variant:"secondary",onClick:()=>{Jr(),kn()},className:"flex items-center gap-2",size:"sm",children:[d.jsx(Za,{size:16}),"Refresh Live Jobs"]})]}),Ar().uiSessions.map(ce=>d.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(lS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ce.createdBy," • Started at ",ce.startTime.toLocaleString()]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ce.items.length," item",ce.items.length!==1?"s":""," scanned"]})]})]})})})})},ce.id))]}),A&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const ce=String(nt.getDate()).padStart(2,"0"),ke=String(nt.getMonth()+1).padStart(2,"0"),lt=nt.getFullYear();return`${ce}/${ke}/${lt}`})()})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"date",value:(()=>{const ce=nt.getFullYear(),ke=String(nt.getMonth()+1).padStart(2,"0"),lt=String(nt.getDate()).padStart(2,"0");return`${ce}-${ke}-${lt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);Jt(ke),wa(ke)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),d.jsx(ut,{variant:"secondary",onClick:()=>wa(nt),className:"flex items-center gap-2",size:"sm",disabled:Rt,children:d.jsx(Za,{size:16,className:Rt?"animate-spin":""})})]})]}),Rt?d.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[d.jsx(Za,{size:24,className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"Generating reports..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:We.userStats.reduce((ce,ke)=>ce+ke.itemsPicked,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:We.userStats.reduce((ce,ke)=>ce+ke.jobsCompleted,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:We.userStats.length})]})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",nt.toLocaleDateString()]}),We.userStats.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),d.jsx("tbody",{children:We.userStats.map((ce,ke)=>d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:ce.name}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ce.jobsCreated}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ce.jobsCompleted}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:ce.itemsPicked}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ua(ce.avgTimePerJob)}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ua(ce.totalTime)})]},ke))})]})}):d.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ce=[];for(let ke=6;ke>=0;ke--){const lt=new Date;lt.setDate(lt.getDate()-ke);const Gt=new Date(lt);Gt.setHours(0,0,0,0);const ht=new Date(lt);ht.setHours(23,59,59,999);const dt=i.filter(ir=>{const Ir=ir.createdAt;return Ir>=Gt&&Ir<=ht}),Ot=dt.reduce((ir,Ir)=>ir+Ir.items.reduce((Yn,Wa)=>Yn+Wa.quantity,0),0),Ft=dt.filter(ir=>ir.status==="completed").length,Xt=tr(lt,"MMM dd");ce.push({date:Xt,itemsPicked:Ot,jobsCompleted:Ft})}return ce})().map((ce,ke)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:ce.date}),d.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ce.itemsPicked}),d.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[ce.jobsCompleted," jobs"]})]},ke))})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:(()=>{const ce=Ne.start.getFullYear(),ke=String(Ne.start.getMonth()+1).padStart(2,"0"),lt=String(Ne.start.getDate()).padStart(2,"0");return`${ce}-${ke}-${lt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);ke.setHours(0,0,0,0),ke<=Ne.end&&Ue(lt=>({...lt,start:ke}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:(()=>{const ce=Ne.end.getFullYear(),ke=String(Ne.end.getMonth()+1).padStart(2,"0"),lt=String(Ne.end.getDate()).padStart(2,"0");return`${ce}-${ke}-${lt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);ke.setHours(23,59,59,999),ke>=Ne.start&&Ue(lt=>({...lt,end:ke}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>{const ce=new Date,ke=new Date;ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Ue({start:ke,end:ce})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Ne.start.getTime()===ke.getTime()&&Ne.end.getTime()===ce.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),d.jsx("button",{onClick:()=>{const ce=new Date,ke=new Date;ke.setDate(ke.getDate()-29),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Ue({start:ke,end:ce})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-29),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Ne.start.getTime()===ke.getTime()&&Ne.end.getTime()===ce.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Ne.start.toLocaleDateString("en-GB")," to ",Ne.end.toLocaleDateString("en-GB"),")"]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Wg,{width:"100%",height:"100%",children:d.jsxs(Qg,{data:(()=>{const ce=[],ke=new Map,lt=new Date(Ne.start),Gt=new Date(Ne.end),ht=Math.ceil((Gt.getTime()-lt.getTime())/(1e3*60*60*24));for(let dt=0;dt<=ht;dt++){const Ot=new Date(lt);Ot.setDate(lt.getDate()+dt);const Ft=new Date(Ot);Ft.setHours(0,0,0,0);const Xt=new Date(Ot);Xt.setHours(23,59,59,999);const ir=i.filter(on=>{const fn=on.createdAt;return fn>=Ft&&fn<=Xt}),Ir=ir.reduce((on,fn)=>on+fn.items.reduce((_i,jr)=>_i+jr.quantity,0),0),Yn=ir.filter(on=>on.status==="completed").length,Wa=ir.length,Yi=tr(Ot,"MMM dd");ke.set(Yi,{itemsPicked:Ir,jobsCompleted:Yn,jobsCreated:Wa})}return ke.forEach((dt,Ot)=>{ce.push({date:Ot,itemsPicked:dt.itemsPicked,jobsCompleted:dt.jobsCompleted,jobsCreated:dt.jobsCreated})}),ce.sort((dt,Ot)=>{const Ft=new Date(dt.date),Xt=new Date(Ot.date);return Ft.getTime()-Xt.getTime()})})(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(_s,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ce,ke)=>ke==="Items Picked"?[`${ce} items`,ke]:ke==="Jobs Completed"?[`${ce} jobs`,ke]:ke==="Jobs Created"?[`${ce} jobs`,ke]:[ce,ke],labelFormatter:ce=>`Date: ${ce}`}),d.jsx(vl,{}),d.jsx(pi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Ne.start.toLocaleDateString("en-GB")," to ",Ne.end.toLocaleDateString("en-GB")]}),d.jsx("select",{value:zt||(()=>{const ce=Array.from(new Set(i.map(ke=>ke.createdBy)));return ce.length>0?ce[0]:""})(),onChange:ce=>{Rr(ce.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(ke=>ke.createdBy))).map(ke=>d.jsx("option",{value:ke,children:ke},ke))})]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Wg,{width:"100%",height:"100%",children:d.jsxs(Qg,{data:(()=>{const ce=[],ke=new Map,lt=Array.from(new Set(i.map(Ft=>Ft.createdBy))),Gt=zt||(lt.length>0?lt[0]:""),ht=new Date(Ne.start),dt=new Date(Ne.end),Ot=Math.ceil((dt.getTime()-ht.getTime())/(1e3*60*60*24));for(let Ft=0;Ft<=Ot;Ft++){const Xt=new Date(ht);Xt.setDate(ht.getDate()+Ft);const ir=new Date(Xt);ir.setHours(0,0,0,0);const Ir=new Date(Xt);Ir.setHours(23,59,59,999);const Yn=i.filter(jr=>{const _a=jr.createdAt;return _a>=ir&&_a<=Ir&&jr.createdBy===Gt}),Wa=Yn.reduce((jr,_a)=>jr+_a.items.reduce((Fo,Al)=>Fo+Al.quantity,0),0),Yi=Yn.filter(jr=>jr.status==="completed").length,on=Yn.length;let fn=0;Yn.forEach(jr=>{jr.pickingTime&&jr.pickingTime>0&&(fn+=jr.pickingTime)});const _i=tr(Xt,"MMM dd");ke.set(_i,{itemsPicked:Wa,jobsCompleted:Yi,jobsCreated:on,totalPickingTime:fn})}return ke.forEach((Ft,Xt)=>{ce.push({date:Xt,itemsPicked:Ft.itemsPicked,jobsCompleted:Ft.jobsCompleted,jobsCreated:Ft.jobsCreated,totalPickingTime:Ft.totalPickingTime})}),ce.sort((Ft,Xt)=>{const ir=new Date(Ft.date),Ir=new Date(Xt.date);return ir.getTime()-Ir.getTime()})})(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(_s,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ce,ke)=>ke==="Items Picked"?[`${ce} items`,ke]:ke==="Jobs Completed"?[`${ce} jobs`,ke]:ke==="Jobs Created"?[`${ce} jobs`,ke]:ke==="Total Picking Time"?[`${ua(ce)}`,ke]:[ce,ke],labelFormatter:ce=>`Date: ${ce}`}),d.jsx(vl,{}),d.jsx(pi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),!A&&ar.length===0&&Ar().uiSessions.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:C?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{children:"No archived jobs found."}),(Le||De||yt!=="all")&&d.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):b?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),d.jsx(an,{isOpen:o,onClose:()=>{l(!1),G(null),ee(0),rt(!1);const ce=or(mt(Ge,"liveJobSessions"),nr("createdBy","==",r==null?void 0:r.name),nr("isActive","==",!0));lr(ce).then(ke=>{ke.empty||Ys(wr(Ge,"liveJobSessions",ke.docs[0].id))}).catch(ke=>{console.error("Error deleting session:",ke)})},title:Ve?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:d.jsxs("div",{className:"space-y-4",children:[!Ve&&d.jsxs("div",{className:"flex justify-start gap-2",children:[d.jsxs("button",{onClick:()=>rt(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[d.jsx(Oo,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),d.jsx(ut,{variant:"secondary",onClick:()=>he(!0),size:"sm",className:"px-3 py-2",children:d.jsx(vO,{size:16})})]}),Ve&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>rt(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[d.jsx(mZ,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),d.jsx(ut,{variant:"secondary",onClick:()=>he(!0),size:"sm",className:"px-3 py-2",children:d.jsx(vO,{size:16})})]}),d.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(ce=>d.jsx("button",{onClick:()=>Fe(ce),className:`px-3 py-1 text-xs rounded-md transition-colors ${Pe===ce?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)},ce))}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(kt,{value:we,onChange:ce=>B(ce.target.value),placeholder:`Search by ${Pe}...`,className:"flex-1",onKeyPress:ce=>ce.key==="Enter"&&Mt(we,Pe)}),d.jsx(ut,{onClick:()=>Mt(we,Pe),disabled:ye||!we.trim(),size:"sm",className:"px-4",children:ye?d.jsx(Za,{size:14,className:"animate-spin"}):"Search"})]}),Ae.length>0&&d.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[d.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Ae.length," product",Ae.length!==1?"s":"",":"]}),Ae.map(ce=>d.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[d.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:ce.name}),d.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[ce.barcode&&d.jsxs("span",{className:"mr-3",children:["Barcode: ",ce.barcode]}),ce.asin&&d.jsxs("span",{className:"mr-3",children:["ASIN: ",ce.asin]}),ce.locationCode&&ce.shelfNumber&&d.jsxs("span",{className:"mr-3",children:["Location: ",ce.locationCode,"-",ce.shelfNumber]}),d.jsxs("span",{className:"mr-3",children:["Qty: ",ce.quantity]}),d.jsxs("span",{children:["Store: ",ce.storeName]})]})]},ce.id))]}),we&&Ae.length===0&&!ye&&d.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',we,'"']})]}),!Ve&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),d.jsxs("form",{onSubmit:ie,className:"flex gap-2",children:[d.jsx(kt,{name:"manualBarcode",type:"text",value:E,onChange:ce=>N(ce.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),d.jsxs(ut,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[d.jsx(us,{size:16})," Add"]})]})]}),d.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Ve&&c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),d.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((ce,ke)=>d.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===ke?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(kt,{value:p.barcode,onChange:lt=>g({...p,barcode:lt.target.value}),className:"w-24 text-sm"}),d.jsx(kt,{type:"number",value:p.quantity,onChange:lt=>g({...p,quantity:Number(lt.target.value)||1}),className:"w-16 text-sm",min:"1"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ut,{size:"sm",onClick:()=>{const lt=c[ke].quantity,Gt=Number(p.quantity),ht=Gt-lt;u(Ot=>{const Ft=[...Ot];return Ft[ke]={...Ft[ke],barcode:p.barcode,quantity:Gt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Ft}),h(Ot=>{const Ft=[...Ot],Xt=Ft.findIndex(ir=>ir.stockItem.barcode===p.barcode&&ir.locationCode===c[ke].locationCode&&ir.shelfNumber===c[ke].shelfNumber);return Xt>=0&&(Ft[Xt]={...Ft[Xt],deductedQuantity:Ft[Xt].deductedQuantity+ht}),Ft});const dt=or(mt(Ge,"liveJobSessions"),nr("createdBy","==",r==null?void 0:r.name),nr("isActive","==",!0));lr(dt).then(Ot=>{if(!Ot.empty){const Ft=Ot.docs[0],ir=(Ft.data().items||[]).map(Ir=>Ir.barcode===c[ke].barcode&&Ir.locationCode===c[ke].locationCode&&Ir.shelfNumber===c[ke].shelfNumber?{...Ir,barcode:p.barcode,quantity:Gt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:Ir);En(wr(Ge,"liveJobSessions",Ft.id),{items:ir})}}).catch(Ot=>{console.error("Error updating session items:",Ot)}),g(null)},className:"h-6 px-2",children:"✓"}),d.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"truncate block font-medium",children:ce.name||ce.barcode}),ce.name&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",ce.barcode]}),ce.locationCode&&ce.shelfNumber&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",ce.locationCode," - Shelf ",ce.shelfNumber]}),ce.reason&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",ce.reason]}),ce.storeName&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",ce.storeName]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",ce.quantity]}),d.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>g({index:ke,barcode:ce.barcode,quantity:ce.quantity,reason:ce.reason,storeName:ce.storeName,name:ce.name}),className:"h-6 px-2",children:"Edit"}),d.jsx("button",{type:"button",onClick:()=>{u(ht=>ht.filter((dt,Ot)=>Ot!==ke));const lt=c[ke];h(ht=>ht.filter(dt=>!(dt.stockItem.barcode===lt.barcode&&dt.locationCode===lt.locationCode&&dt.shelfNumber===lt.shelfNumber)));const Gt=or(mt(Ge,"liveJobSessions"),nr("createdBy","==",r==null?void 0:r.name),nr("isActive","==",!0));lr(Gt).then(ht=>{if(!ht.empty){const dt=ht.docs[0],Ft=(dt.data().items||[]).filter(Xt=>!(Xt.barcode===lt.barcode&&Xt.locationCode===lt.locationCode&&Xt.shelfNumber===lt.shelfNumber));En(wr(Ge,"liveJobSessions",dt.id),{items:Ft})}}).catch(ht=>{console.error("Error updating session items:",ht)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${ce.barcode}-${ce.locationCode}-${ce.shelfNumber}-${ke}`))}),d.jsx("div",{className:"pt-2",children:d.jsxs(ut,{onClick:tt,disabled:c.length===0||R,isLoading:R,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[d.jsx(Zx,{size:16}),R?"Creating Job...":"Finish Picking"]})})]})]})}),d.jsx(hp,{isOpen:!!y,onClose:()=>w(null),onConfirm:Lt,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),d.jsx(an,{isOpen:P,onClose:()=>V(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:X&&d.jsx(Oye,{item:X,onSubmit:_e,onCancel:me,isLoading:!1})}),d.jsx(Iye,{isOpen:re,onClose:()=>he(!1)})]})},w$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return d.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},hK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return d.jsx(w$e,{variant:t(),children:r()})},_$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=en();return d.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),d.jsxs("div",{className:"flex items-center gap-2",children:[r,d.jsx(hK,{status:e.status})]})]}),d.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),d.jsx("div",{className:"space-y-1 mb-3",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),d.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),d.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[d.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:tr(e.createdAt,"MMM d, yyyy")}),d.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},S$e=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),d.jsx(an,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),d.jsx("div",{className:"mt-1",children:d.jsx(hK,{status:r.status})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),d.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),d.jsx("p",{className:"text-slate-800",children:r.createdAt?tr(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),d.jsx("p",{className:"text-slate-800",children:r.updatedAt?tr(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),d.jsx("p",{className:"text-slate-800",children:r.shippedTime?tr(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),d.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),d.jsx("tfoot",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),d.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),d.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),d.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,Tw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Pr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Pr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Pr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Pr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Pr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Pr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Pr(new Date,6),locationCode:"D2",shelfNumber:4}],A$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Pr(new Date,1),updatedAt:Pr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Pr(new Date,2),updatedAt:Pr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Pr(new Date,5),updatedAt:Pr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Pr(new Date,10),updatedAt:Pr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Pr(new Date,15),updatedAt:Pr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];A$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:tr(Pr(new Date,29-t),"MMM dd"),amount:r}});Pr(new Date,1),Pr(new Date,1),Pr(new Date,3),Pr(new Date,4),Pr(new Date,5);const T$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],bA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},rR={street:"",city:"",state:"",zipCode:"",country:""};function N$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const k$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,nR=e=>k$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},C$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState("pending"),[u,f]=U.useState(""),[h,p]=U.useState([{...bA}]),[g,m]=U.useState({...rR}),[v,y]=U.useState({...rR}),[w,b]=U.useState("Credit Card"),[I,C]=U.useState(""),[j,T]=U.useState([]),[S,A]=U.useState(!1);U.useEffect(()=>{e&&(i(N$e()),f(tr(new Date,"yyyy-MM-dd")),p([{...bA}]),c("pending"))},[e]),U.useEffect(()=>{e&&(async()=>{A(!0);try{const Y=or(mt(Ge,"inventory"),Ia("name")),G=(await lr(Y)).docs.map(q=>({id:q.id,...q.data()}));T(G.length>0?G:Tw)}catch{T(Tw)}finally{A(!1)}})()},[e]);const D=(X,Y,J)=>{p(G=>G.map((q,ee)=>{if(ee!==X)return q;if(Y==="productName"){const W=j.find(O=>O.name===J);return W?{...q,productId:W.id,productName:W.name,unitPrice:W.price,quantity:1,totalPrice:W.price*1}:q}if(Y==="quantity"){const W=Number(J);return{...q,quantity:W,totalPrice:q.unitPrice*W}}return{...q,[Y]:J}}))},E=()=>{p([...h,{...bA}])},N=X=>{p(Y=>Y.filter((J,G)=>G!==X))},P=(X,Y,J)=>{X==="shipping"?m(G=>({...nR(G),[Y]:J})):y(G=>({...nR(G),[Y]:J}))},V=X=>{if(X.preventDefault(),h.some(G=>!G.productId||!G.productName)){alert("Please select a product for each order item.");return}const Y=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):Y,updatedAt:Y,items:h.map((G,q)=>({...G,id:`item${q+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((G,q)=>G+(q.totalPrice||0),0)};I&&(J.notes=I),r(J),t()};return d.jsx(an,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(kt,{label:"Customer Name",value:s,onChange:X=>o(X.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(zr,{label:"Status",value:l,onChange:X=>c(X.target.value),options:T$e,required:!0,fullWidth:!0,disabled:!0}),d.jsx(zr,{label:"Payment Method",value:w,onChange:X=>b(X.target.value),options:E$e,required:!0,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx(kt,{label:"Order Date",type:"date",value:u,onChange:X=>f(X.target.value),required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((X,Y)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(zr,{label:"Product Name",value:X.productName,onChange:J=>D(Y,"productName",J.target.value),options:[{value:"",label:"Select product..."},...j.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:S}),d.jsx(kt,{label:"Quantity",type:"number",value:X.quantity,onChange:J=>D(Y,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!X.productName}),d.jsx(kt,{label:"Unit Price",type:"number",value:X.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(kt,{label:"Total Price",type:"number",value:X.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(ut,{type:"button",variant:"danger",size:"sm",icon:d.jsx(is,{size:16}),onClick:()=>N(Y),children:"Remove"})]},Y)),d.jsx(ut,{type:"button",variant:"primary",icon:d.jsx(us,{size:16}),onClick:E,disabled:S,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(kt,{label:"Street",value:g.street,onChange:X=>P("shipping","street",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"City",value:g.city,onChange:X=>P("shipping","city",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"State",value:g.state,onChange:X=>P("shipping","state",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Zip Code",value:g.zipCode,onChange:X=>P("shipping","zipCode",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Country",value:g.country,onChange:X=>P("shipping","country",X.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(kt,{label:"Street",value:v.street,onChange:X=>P("billing","street",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"City",value:v.city,onChange:X=>P("billing","city",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"State",value:v.state,onChange:X=>P("billing","state",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Zip Code",value:v.zipCode,onChange:X=>P("billing","zipCode",X.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Country",value:v.country,onChange:X=>P("billing","country",X.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(kt,{label:"Notes (optional)",value:I,onChange:X=>C(X.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(ut,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},P$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],O$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],aR={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},iR={street:"",city:"",state:"",zipCode:"",country:""},I$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=U.useState(""),[o,l]=U.useState(""),[c,u]=U.useState("pending"),[f,h]=U.useState(""),[p,g]=U.useState(""),[m,v]=U.useState([{...aR}]),[y,w]=U.useState({...iR}),[b,I]=U.useState({...iR}),[C,j]=U.useState("Credit Card"),[T,S]=U.useState(""),[A,D]=U.useState([]),[E,N]=U.useState(!1);U.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(tr(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),w(a.shippingAddress),I(a.billingAddress),j(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?g(tr(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),U.useEffect(()=>{e&&(async()=>{N(!0);try{const W=or(mt(Ge,"inventory"),Ia("name")),R=(await lr(W)).docs.map(z=>({id:z.id,...z.data()}));D(R.length>0?R:Tw)}catch{D(Tw)}finally{N(!1)}})()},[e]);const P=(ee,W,O)=>{v(R=>R.map((z,H)=>{if(H!==ee)return z;if(W==="productName"){const Z=A.find(oe=>oe.name===O);return Z?{...z,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:z}if(W==="quantity"){const Z=Number(O);return{...z,quantity:Z,totalPrice:z.unitPrice*Z}}return{...z,[W]:O}}))},V=()=>{v([...m,{...aR}])},X=ee=>{v(W=>W.filter((O,R)=>R!==ee))},Y=(ee,W,O)=>{ee==="shipping"?w(R=>({...q(R),[W]:O})):I(R=>({...q(R),[W]:O}))},J=ee=>{if(ee.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const W={orderNumber:i,customerName:o,status:c,items:m.map((R,z)=>{let H;return typeof R.id=="string"&&R.id?H=R.id:H=`item${z+1}`,{...R,id:H}}),shippingAddress:y,billingAddress:b,paymentMethod:C,totalAmount:m.reduce((R,z)=>R+(z.totalPrice||0),0)};T&&(W.notes=T),c==="shipped"&&p?W.shippedTime=Jue(p):a!=null&&a.shippedTime&&c!=="shipped"&&(W.shippedTime=null);const O={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...W};r(O),t()},G=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,q=ee=>G(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return d.jsx(an,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(kt,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(zr,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:P$e,required:!0,fullWidth:!0}),d.jsx(zr,{label:"Payment Method",value:C,onChange:ee=>j(ee.target.value),options:O$e,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&d.jsx(kt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,W)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(zr,{label:"Product Name",value:ee.productName,onChange:O=>P(W,"productName",O.target.value),options:[{value:"",label:"Select product..."},...A.map(O=>({value:O.name,label:O.name}))],required:!0,fullWidth:!0,disabled:E}),d.jsx(kt,{label:"Quantity",type:"number",value:ee.quantity,onChange:O=>P(W,"quantity",Number(O.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),d.jsx(kt,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(kt,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(ut,{type:"button",variant:"danger",size:"sm",icon:d.jsx(is,{size:16}),onClick:()=>X(W),children:"Remove"})]},W)),d.jsx(ut,{type:"button",variant:"primary",icon:d.jsx(us,{size:16}),onClick:V,disabled:E,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(kt,{label:"Street",value:y.street,onChange:ee=>Y("shipping","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"City",value:y.city,onChange:ee=>Y("shipping","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"State",value:y.state,onChange:ee=>Y("shipping","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Zip Code",value:y.zipCode,onChange:ee=>Y("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Country",value:y.country,onChange:ee=>Y("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(kt,{label:"Street",value:b.street,onChange:ee=>Y("billing","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"City",value:b.city,onChange:ee=>Y("billing","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"State",value:b.state,onChange:ee=>Y("billing","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Zip Code",value:b.zipCode,onChange:ee=>Y("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(kt,{label:"Country",value:b.country,onChange:ee=>Y("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(kt,{label:"Notes (optional)",value:T,onChange:ee=>S(ee.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ut,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(ut,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},j$e=()=>{const[e,t]=U.useState(""),[r,n]=U.useState("all"),[a,i]=U.useState("date"),[s,o]=U.useState(null),[l,c]=U.useState("grid"),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState([]),[v,y]=U.useState(null),[w,b]=U.useState(!1),{showToast:I}=rc(),{user:C}=ba(),{isDarkMode:j}=en(),T=async()=>{p(!0);try{const G=or(mt(Ge,"orders"),Ia("createdAt","desc")),ee=(await lr(G)).docs.map(W=>{const O=W.data();return{id:W.id,orderNumber:O.orderNumber||"",customerName:O.customerName||"",items:O.items||[],status:O.status||"pending",createdAt:O.createdAt instanceof sr?O.createdAt.toDate():new Date(O.createdAt),updatedAt:O.updatedAt instanceof sr?O.updatedAt.toDate():new Date(O.updatedAt),shippingAddress:O.shippingAddress||{},billingAddress:O.billingAddress||{},paymentMethod:O.paymentMethod||"",totalAmount:O.totalAmount||0,notes:O.notes||"",shippedTime:O.shippedTime instanceof sr?O.shippedTime.toDate():O.shippedTime?new Date(O.shippedTime):void 0}});m(ee)}catch(G){console.error("Error fetching orders:",G),I("Failed to fetch orders","error")}finally{p(!1)}};U.useEffect(()=>{T()},[]);const S=g.filter(G=>{const q=G.orderNumber.toLowerCase().includes(e.toLowerCase())||G.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||G.status===r;return q&&ee}).sort((G,q)=>a==="date"?new Date(q.createdAt).getTime()-new Date(G.createdAt).getTime():a==="amount"?q.totalAmount-G.totalAmount:0),A=G=>{o(G)},D=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async G=>{p(!0);try{console.log("Adding new order with status:",G.status),await hr(mt(Ge,"orders"),{...G,createdAt:Ac(),updatedAt:Ac()}),await hr(mt(Ge,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`created new order #${G.orderNumber} for '${G.customerName}' with ${G.items.length} items (${G.items.map(q=>`${q.quantity} ${q.productName}`).join(", ")}) - Total: $${G.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),G.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await Mx(G.items,!0)),await T(),f(!1),I("Order added successfully!","success")}catch(q){console.error("Error in handleAddOrder:",q),alert("Error adding order: "+((q==null?void 0:q.message)||q))}finally{p(!1)}},P=async G=>{p(!0);try{const q=wr(Ge,"orders",G.id),W=(await Ov(q)).data();console.log("Previous order status:",W==null?void 0:W.status),console.log("New order status:",G.status);const O={status:G.status,updatedAt:Ac()},R=[];if((W==null?void 0:W.status)!==G.status&&R.push(`status from "${W==null?void 0:W.status}" to "${G.status}"`),(W==null?void 0:W.customerName)!==G.customerName&&R.push(`customer from "${W==null?void 0:W.customerName}" to "${G.customerName}"`),JSON.stringify(W==null?void 0:W.items)!==JSON.stringify(G.items)){const H=[];G.items.forEach(Z=>{const oe=W==null?void 0:W.items.find(de=>de.id===Z.id);oe?oe.quantity!==Z.quantity&&H.push(`changed ${Z.productName} quantity from ${oe.quantity} to ${Z.quantity}`):H.push(`added ${Z.quantity} ${Z.productName}`)}),W==null||W.items.forEach(Z=>{G.items.find(oe=>oe.id===Z.id)||H.push(`removed ${Z.quantity} ${Z.productName}`)}),H.length>0&&R.push(`items: ${H.join(", ")}`)}(W==null?void 0:W.totalAmount)!==G.totalAmount&&R.push(`total amount from $${W==null?void 0:W.totalAmount.toFixed(2)} to $${G.totalAmount.toFixed(2)}`),G.status==="shipped"&&(W==null?void 0:W.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await Mx(G.items,!0),G.shippedTime?O.shippedTime=sr.fromDate(G.shippedTime):O.shippedTime=Ac()):(W==null?void 0:W.status)==="shipped"&&G.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await Mx(G.items,!1),O.shippedTime=LI()):(G.status==="cancelled"||G.status==="returned")&&(W==null?void 0:W.status)!=="cancelled"&&(W==null?void 0:W.status)!=="returned"?(console.log(`Status changed to ${G.status}, restoring inventory...`),await Mx(G.items,!1),O.shippedTime=LI()):W!=null&&W.shippedTime&&(O.shippedTime=sr.fromDate(W.shippedTime));const{...z}=G;Object.assign(O,z),await En(q,O),R.length>0&&await hr(mt(Ge,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`edited order #${G.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),I("Order updated successfully!","success")}catch(q){console.error("Error updating order:",q),I("Failed to update order","error")}finally{p(!1)}},V=()=>{y(null)},X=async G=>{p(!0);try{const q=wr(Ge,"orders",G),W=(await Ov(q)).data();W&&(await hr(mt(Ge,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`deleted order #${W.orderNumber} for '${W.customerName}' with ${W.items.length} items (${W.items.map(O=>`${O.quantity} ${O.productName}`).join(", ")}) - Total: $${W.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Ys(q),await T(),b(!1),o(null),I("Order deleted successfully!","success"))}catch(q){console.error("Error deleting order:",q),I("Failed to delete order","error")}finally{p(!1)}},Y=(G,q)=>{G.stopPropagation(),o(q),b(!0)},J=(G,q)=>{G.stopPropagation(),y(q)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-slate-800"}`,children:"Current Orders"}),d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),d.jsx(ut,{onClick:()=>f(!0),className:"flex items-center gap-2",children:d.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"md:flex-1",children:d.jsx(kt,{placeholder:"Search by order number or customer...",value:e,onChange:G=>t(G.target.value),icon:d.jsx(Oo,{size:18}),fullWidth:!0})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(zr,{options:D,value:r,onChange:G=>n(G.target.value)}),d.jsx(zr,{options:E,value:a,onChange:G=>i(G.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[d.jsx(AZ,{size:18,className:"inline mr-1"})," Grid"]}),d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[d.jsx(PZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(as,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-500"} animate-spin`}),d.jsx("p",{className:`mt-2 ${j?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(G=>d.jsx("div",{className:"flex flex-col",children:d.jsx(_$e,{order:G,onClick:()=>A(G),editButton:d.jsx("button",{onClick:q=>J(q,G),className:`p-2 ${j?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:d.jsx(Gs,{className:`w-4 h-4 ${j?"text-blue-400":"text-blue-500"}`})})})},G.id))}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[d.jsx("thead",{className:j?"bg-slate-900":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`${j?"divide-slate-700":"divide-slate-200"}`,children:S.map(G=>d.jsxs("tr",{className:`${j?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>A(G),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:G.orderNumber}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:G.customerName}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"} capitalize`,children:G.status}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:new Date(G.createdAt).toLocaleDateString()}),d.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${j?"text-slate-200":"text-slate-900"} text-right`,children:["$",G.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{onClick:q=>{q.stopPropagation(),y(G)},className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(Gs,{size:16})}),d.jsx("button",{onClick:q=>Y(q,G),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(is,{size:16})})]})})]},G.id))})]})}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&d.jsx(S$e,{isOpen:!!s,onClose:()=>o(null),order:s}),d.jsx(C$e,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),d.jsx(I$e,{isOpen:!!v,onClose:V,onEdit:P,isLoading:h,order:v}),s&&d.jsx(hp,{isOpen:w,onClose:()=>{b(!1),o(null)},onConfirm:()=>X(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Mx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Oae(Ge),n=[];for(const a of e){const i=wr(Ge,"inventory",a.productId),s=await Ov(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await hr(mt(Ge,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},D$e="modulepreload",L$e=function(e){return"/"+e},sR={},sE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=L$e(l),l in sR)return;sR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":D$e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Ui=Uint8Array,Xs=Uint16Array,TP=Int32Array,d_=new Ui([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h_=new Ui([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oE=new Ui([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pK=function(e,t){for(var r=new Xs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new TP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},mK=pK(d_,2),gK=mK.b,lE=mK.r;gK[28]=258,lE[258]=28;var vK=pK(h_,0),M$e=vK.b,oR=vK.r,cE=new Xs(32768);for(var Un=0;Un<32768;++Un){var $u=(Un&43690)>>1|(Un&21845)<<1;$u=($u&52428)>>2|($u&13107)<<2,$u=($u&61680)>>4|($u&3855)<<4,cE[Un]=(($u&65280)>>8|($u&255)<<8)>>1}var Ql=function(e,t,r){for(var n=e.length,a=0,i=new Xs(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Xs(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Xs(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[cE[f]>>l]=c}else for(o=new Xs(n),a=0;a<n;++a)e[a]&&(o[a]=cE[s[e[a]-1]++]>>15-e[a]);return o},Ff=new Ui(288);for(var Un=0;Un<144;++Un)Ff[Un]=8;for(var Un=144;Un<256;++Un)Ff[Un]=9;for(var Un=256;Un<280;++Un)Ff[Un]=7;for(var Un=280;Un<288;++Un)Ff[Un]=8;var P1=new Ui(32);for(var Un=0;Un<32;++Un)P1[Un]=5;var R$e=Ql(Ff,9,0),F$e=Ql(Ff,9,1),$$e=Ql(P1,5,0),B$e=Ql(P1,5,1),wA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},_A=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},EP=function(e){return(e+7)/8|0},yK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ui(e.subarray(t,r))},U$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rl=function(e,t,r){var n=new Error(t||U$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,rl),!r)throw n;return n},V$e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Ui(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Ui(a*3));var c=function(we){var B=r.length;if(we>B){var Ae=new Ui(Math.max(B*2,we));Ae.set(r),r=Ae}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=Jo(e,f,1);var w=Jo(e,f+1,3);if(f+=3,w)if(w==1)p=F$e,g=B$e,m=9,v=5;else if(w==2){var j=Jo(e,f,31)+257,T=Jo(e,f+10,15)+4,S=j+Jo(e,f+5,31)+1;f+=14;for(var A=new Ui(S),D=new Ui(19),E=0;E<T;++E)D[oE[E]]=Jo(e,f+E*3,7);f+=T*3;for(var N=wA(D),P=(1<<N)-1,V=Ql(D,N,1),E=0;E<S;){var X=V[Jo(e,f,P)];f+=X&15;var b=X>>4;if(b<16)A[E++]=b;else{var Y=0,J=0;for(b==16?(J=3+Jo(e,f,3),f+=2,Y=A[E-1]):b==17?(J=3+Jo(e,f,7),f+=3):b==18&&(J=11+Jo(e,f,127),f+=7);J--;)A[E++]=Y}}var G=A.subarray(0,j),q=A.subarray(j);m=wA(G),v=wA(q),p=Ql(G,m,1),g=Ql(q,v,1)}else rl(1);else{var b=EP(f)+4,I=e[b-4]|e[b-3]<<8,C=b+I;if(C>a){l&&rl(0);break}o&&c(h+I),r.set(e.subarray(b,C),h),t.b=h+=I,t.p=f=C*8,t.f=u;continue}if(f>y){l&&rl(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,W=(1<<v)-1,O=f;;O=f){var Y=p[_A(e,f)&ee],R=Y>>4;if(f+=Y&15,f>y){l&&rl(0);break}if(Y||rl(2),R<256)r[h++]=R;else if(R==256){O=f,p=null;break}else{var z=R-254;if(R>264){var E=R-257,H=d_[E];z=Jo(e,f,(1<<H)-1)+gK[E],f+=H}var Z=g[_A(e,f)&W],oe=Z>>4;Z||rl(3),f+=Z&15;var q=M$e[oe];if(oe>3){var H=h_[oe];q+=_A(e,f)&(1<<H)-1,f+=H}if(f>y){l&&rl(0);break}o&&c(h+131072);var de=h+z;if(h<q){var re=i-q,he=Math.min(q,de);for(re+h<0&&rl(3);h<he;++h)r[h]=n[re+h]}for(;h<de;++h)r[h]=r[h-q]}}t.l=p,t.p=O,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?yK(r,0,h):r.subarray(0,h)},wc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Jm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},SA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:bK,l:0};if(a==1){var s=new Ui(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,j){return C.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Xs(h+1),g=uE(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(j,T){return p[T.s]-p[j.s]||j.f-T.f});n<a;++n){var w=i[n].s;if(p[w]>t)m+=y-(1<<g-p[w]),p[w]=t;else break}for(m>>=v;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var I=i[n].s;p[I]==t&&(--p[I],++m)}g=t}return{t:new Ui(p),l:g}},uE=function(e,t,r){return e.s==-1?Math.max(uE(e.l,t,r+1),uE(e.r,t,r+1)):t[e.s]=r},lR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xs(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Zm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},xK=function(e,t,r){var n=r.length,a=EP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},cR=function(e,t,r,n,a,i,s,o,l,c,u){wc(t,u++,r),++a[256];for(var f=SA(a,15),h=f.t,p=f.l,g=SA(i,15),m=g.t,v=g.l,y=lR(h),w=y.c,b=y.n,I=lR(m),C=I.c,j=I.n,T=new Xs(19),S=0;S<w.length;++S)++T[w[S]&31];for(var S=0;S<C.length;++S)++T[C[S]&31];for(var A=SA(T,7),D=A.t,E=A.l,N=19;N>4&&!D[oE[N-1]];--N);var P=c+5<<3,V=Zm(a,Ff)+Zm(i,P1)+s,X=Zm(a,h)+Zm(i,m)+s+14+3*N+Zm(T,D)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&P<=V&&P<=X)return xK(t,u,e.subarray(l,l+c));var Y,J,G,q;if(wc(t,u,1+(X<V)),u+=2,X<V){Y=Ql(h,p,0),J=h,G=Ql(m,v,0),q=m;var ee=Ql(D,E,0);wc(t,u,b-257),wc(t,u+5,j-1),wc(t,u+10,N-4),u+=14;for(var S=0;S<N;++S)wc(t,u+3*S,D[oE[S]]);u+=3*N;for(var W=[w,C],O=0;O<2;++O)for(var R=W[O],S=0;S<R.length;++S){var z=R[S]&31;wc(t,u,ee[z]),u+=D[z],z>15&&(wc(t,u,R[S]>>5&127),u+=R[S]>>12)}}else Y=R$e,J=Ff,G=$$e,q=P1;for(var S=0;S<o;++S){var H=n[S];if(H>255){var z=H>>18&31;Jm(t,u,Y[z+257]),u+=J[z+257],z>7&&(wc(t,u,H>>23&31),u+=d_[z]);var Z=H&31;Jm(t,u,G[Z]),u+=q[Z],Z>3&&(Jm(t,u,H>>5&8191),u+=h_[Z])}else Jm(t,u,Y[H]),u+=J[H]}return Jm(t,u,Y[256]),u+J[256]},z$e=new TP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bK=new Ui(0),q$e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Ui(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=z$e[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new Xs(32768),v=i.h||new Xs(g+1),y=Math.ceil(r/3),w=2*y,b=function(ve){return(e[ve]^e[ve+1]<<y^e[ve+2]<<w)&g},I=new TP(25e3),C=new Xs(288),j=new Xs(32),T=0,S=0,A=i.i||0,D=0,E=i.w||0,N=0;A+2<s;++A){var P=b(A),V=A&32767,X=v[P];if(m[V]=X,v[P]=V,E<=A){var Y=s-A;if((T>7e3||D>24576)&&(Y>423||!c)){u=cR(e,l,0,I,C,j,S,D,N,A-N,u),D=T=S=0,N=A;for(var J=0;J<286;++J)C[J]=0;for(var J=0;J<30;++J)j[J]=0}var G=2,q=0,ee=p,W=V-X&32767;if(Y>2&&P==b(A-W))for(var O=Math.min(h,Y)-1,R=Math.min(32767,A),z=Math.min(258,Y);W<=R&&--ee&&V!=X;){if(e[A+G]==e[A+G-W]){for(var H=0;H<z&&e[A+H]==e[A+H-W];++H);if(H>G){if(G=H,q=W,H>O)break;for(var Z=Math.min(W,H-2),oe=0,J=0;J<Z;++J){var de=A-W+J&32767,re=m[de],he=de-re&32767;he>oe&&(oe=he,X=de)}}}V=X,X=m[V],W+=V-X&32767}if(q){I[D++]=268435456|lE[G]<<18|oR[q];var we=lE[G]&31,B=oR[q]&31;S+=d_[we]+h_[B],++C[257+we],++j[B],E=A+G,++T}else I[D++]=e[A],++C[e[A]]}}for(A=Math.max(A,E);A<s;++A)I[D++]=e[A],++C[e[A]];u=cR(e,l,c,I,C,j,S,D,N,A-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=A,i.w=E)}else{for(var A=i.w||0;A<s+c;A+=65535){var Ae=A+65535;Ae>=s&&(l[u/8|0]=c,Ae=s),u=xK(l,u+1,e.subarray(A,Ae))}i.i=s}return yK(o,0,n+EP(u)+a)},wK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},W$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ui(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return q$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},_K=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},H$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=wK();a.p(t.dictionary),_K(e,2,a.d())}},G$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&rl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&rl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function fE(e,t){t||(t={});var r=wK();r.p(e);var n=W$e(e,t,t.dictionary?6:2,4);return H$e(n,t),_K(n,n.length-4,r.d()),n}function K$e(e,t){return V$e(e.subarray(G$e(e,t),-4),{i:2},t,t)}var Y$e=typeof TextDecoder<"u"&&new TextDecoder,X$e=0;try{Y$e.decode(bK,{stream:!0}),X$e=1}catch{}var mr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function AA(){mr.console&&typeof mr.console.log=="function"&&mr.console.log.apply(mr.console,arguments)}var Tn={log:AA,warn:function(e){mr.console&&(typeof mr.console.warn=="function"?mr.console.warn.apply(mr.console,arguments):AA.call(null,arguments))},error:function(e){mr.console&&(typeof mr.console.error=="function"?mr.console.error.apply(mr.console,arguments):AA(e))}};function TA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){Tn.error("could not download file")},n.send()}function uR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Rx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Jg,dE,Sd=mr.saveAs||((typeof window>"u"?"undefined":nn(window))!=="object"||window!==mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=mr.URL||mr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uR(a.href)?TA(e,t,r):Rx(a,a.target="_blank"):Rx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Rx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(uR(e))TA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Rx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:nn(i)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return TA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(mr.HTMLElement)||mr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":nn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=mr.URL||mr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function EA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ki(r,n,a,i,t[0],7,-680876936),i=ki(i,r,n,a,t[1],12,-389564586),a=ki(a,i,r,n,t[2],17,606105819),n=ki(n,a,i,r,t[3],22,-1044525330),r=ki(r,n,a,i,t[4],7,-176418897),i=ki(i,r,n,a,t[5],12,1200080426),a=ki(a,i,r,n,t[6],17,-1473231341),n=ki(n,a,i,r,t[7],22,-45705983),r=ki(r,n,a,i,t[8],7,1770035416),i=ki(i,r,n,a,t[9],12,-1958414417),a=ki(a,i,r,n,t[10],17,-42063),n=ki(n,a,i,r,t[11],22,-1990404162),r=ki(r,n,a,i,t[12],7,1804603682),i=ki(i,r,n,a,t[13],12,-40341101),a=ki(a,i,r,n,t[14],17,-1502002290),r=Ci(r,n=ki(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ci(i,r,n,a,t[6],9,-1069501632),a=Ci(a,i,r,n,t[11],14,643717713),n=Ci(n,a,i,r,t[0],20,-373897302),r=Ci(r,n,a,i,t[5],5,-701558691),i=Ci(i,r,n,a,t[10],9,38016083),a=Ci(a,i,r,n,t[15],14,-660478335),n=Ci(n,a,i,r,t[4],20,-405537848),r=Ci(r,n,a,i,t[9],5,568446438),i=Ci(i,r,n,a,t[14],9,-1019803690),a=Ci(a,i,r,n,t[3],14,-187363961),n=Ci(n,a,i,r,t[8],20,1163531501),r=Ci(r,n,a,i,t[13],5,-1444681467),i=Ci(i,r,n,a,t[2],9,-51403784),a=Ci(a,i,r,n,t[7],14,1735328473),r=Pi(r,n=Ci(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Pi(i,r,n,a,t[8],11,-2022574463),a=Pi(a,i,r,n,t[11],16,1839030562),n=Pi(n,a,i,r,t[14],23,-35309556),r=Pi(r,n,a,i,t[1],4,-1530992060),i=Pi(i,r,n,a,t[4],11,1272893353),a=Pi(a,i,r,n,t[7],16,-155497632),n=Pi(n,a,i,r,t[10],23,-1094730640),r=Pi(r,n,a,i,t[13],4,681279174),i=Pi(i,r,n,a,t[0],11,-358537222),a=Pi(a,i,r,n,t[3],16,-722521979),n=Pi(n,a,i,r,t[6],23,76029189),r=Pi(r,n,a,i,t[9],4,-640364487),i=Pi(i,r,n,a,t[12],11,-421815835),a=Pi(a,i,r,n,t[15],16,530742520),r=Oi(r,n=Pi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Oi(i,r,n,a,t[7],10,1126891415),a=Oi(a,i,r,n,t[14],15,-1416354905),n=Oi(n,a,i,r,t[5],21,-57434055),r=Oi(r,n,a,i,t[12],6,1700485571),i=Oi(i,r,n,a,t[3],10,-1894986606),a=Oi(a,i,r,n,t[10],15,-1051523),n=Oi(n,a,i,r,t[1],21,-2054922799),r=Oi(r,n,a,i,t[8],6,1873313359),i=Oi(i,r,n,a,t[15],10,-30611744),a=Oi(a,i,r,n,t[6],15,-1560198380),n=Oi(n,a,i,r,t[13],21,1309151649),r=Oi(r,n,a,i,t[4],6,-145523070),i=Oi(i,r,n,a,t[11],10,-1120210379),a=Oi(a,i,r,n,t[2],15,718787259),n=Oi(n,a,i,r,t[9],21,-343485551),e[0]=of(r,e[0]),e[1]=of(n,e[1]),e[2]=of(a,e[2]),e[3]=of(i,e[3])}function p_(e,t,r,n,a,i){return t=of(of(t,e),of(n,i)),of(t<<a|t>>>32-a,r)}function ki(e,t,r,n,a,i,s){return p_(t&r|~t&n,e,t,a,i,s)}function Ci(e,t,r,n,a,i,s){return p_(t&n|r&~n,e,t,a,i,s)}function Pi(e,t,r,n,a,i,s){return p_(t^r^n,e,t,a,i,s)}function Oi(e,t,r,n,a,i,s){return p_(r^(t|~n),e,t,a,i,s)}function AK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)EA(n,Q$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(EA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,EA(n,a),n}function Q$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Jg=mr.atob.bind(mr),dE=mr.btoa.bind(mr);var fR="0123456789abcdef".split("");function J$e(e){for(var t="",r=0;r<4;r++)t+=fR[e>>8*r+4&15]+fR[e>>8*r&15];return t}function Z$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hE(e){return AK(e).map(Z$e).join("")}var e9e=function(e){for(var t=0;t<e.length;t++)e[t]=J$e(e[t]);return e.join("")}(AK("hello"))!="5d41402abc4b2a76b9719d911017c592";function of(e,t){if(e9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dR={print:4,modify:8,copy:16,"annot-forms":32};function n0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(dR.perm!==void 0)throw new Error("Invalid permission: "+o);a+=dR[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=hE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=pE(this.encryptionKey,this.padding)}function a0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function hR(e){if(nn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){mr.console&&Tn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ew(e){if(!(this instanceof Ew))return new Ew(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function TK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Td(e,t,r,n,a){if(!(this instanceof Td))return new Td(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,TK.call(this,n,a)}function E0(e,t,r,n,a){if(!(this instanceof E0))return new E0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,TK.call(this,n,a)}function pr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;nn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=hR;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function I(){this.saveGraphicsState(),te(new Wt(nt,0,0,-nt,0,Si()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",b=w.ADVANCED}function C(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};p.advancedAPI=function(L){var ne=b===w.COMPAT;return ne&&I.call(this),typeof L!="function"||(L(this),ne&&C.call(this)),this},p.compatAPI=function(L){var ne=b===w.ADVANCED;return ne&&C.call(this),typeof L!="function"||(L(this),ne&&I.call(this)),this},p.isAdvancedAPI=function(){return b===w.ADVANCED};var T,S=function(L){if(b!==w.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(L,ne){var Te=t||ne;if(isNaN(L)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Te).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var D=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?L*nt:b===w.ADVANCED?L:void 0},P=function(L){return b===w.COMPAT?Si()-L:b===w.ADVANCED?L:void 0},V=function(L){return N(P(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var X,Y="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return Y},G=p.__private__.setFileId=function(L){return Y=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Mn=new n0(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};p.setFileId=function(L){return G(L),this},p.getFileId=function(){return J()};var q=p.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Te=ne<0?"+":"-",Ce=Math.floor(Math.abs(ne/60)),$e=Math.abs(ne%60),st=[Te,z(Ce),"'",z($e),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),st].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Te=parseInt(L.substr(6,2),10)-1,Ce=parseInt(L.substr(8,2),10),$e=parseInt(L.substr(10,2),10),st=parseInt(L.substr(12,2),10),Tt=parseInt(L.substr(14,2),10);return new Date(ne,Te,Ce,$e,st,Tt,0)},W=p.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=q(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return X=ne},O=p.__private__.getCreationDate=function(L){var ne=X;return L==="jsDate"&&(ne=ee(X)),ne};p.setCreationDate=function(L){return W(L),this},p.getCreationDate=function(L){return O(L)};var R,z=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},H=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,oe=[],de=[],re=0,he=[],we=[],B=!1,Ae=de,ve=function(){Z=0,re=0,de=[],oe=[],he=[],me=Cn(),ge=Cn()};p.__private__.setCustomOutputDestination=function(L){B=!0,Ae=L};var ye=function(L){B||(Ae=L)};p.__private__.resetCustomOutputDestination=function(){B=!1,Ae=de};var te=p.__private__.out=function(L){return L=L.toString(),re+=L.length+1,Ae.push(L),Ae},Pe=p.__private__.write=function(L){return te(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Fe=p.__private__.getArrayBuffer=function(L){for(var ne=L.length,Te=new ArrayBuffer(ne),Ce=new Uint8Array(Te);ne--;)Ce[ne]=L.charCodeAt(ne);return Te},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ve};var rt=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return rt=b===w.ADVANCED?L/nt:L,this};var Le,Ze=p.__private__.getFontSize=p.getFontSize=function(){return b===w.COMPAT?rt:rt*nt},De=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return De=L,this},p.__private__.getR2L=p.getR2L=function(){return De};var et,yt=p.__private__.setZoomMode=function(L){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Le=L;else if(isNaN(L)){if(ne.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Le=L}else Le=parseInt(L,10)};p.__private__.getZoomMode=function(){return Le};var ft,wt=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');et=L};p.__private__.getPageMode=function(){return et};var It=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');ft=L};p.__private__.getLayoutMode=function(){return ft},p.__private__.setDisplayMode=p.setDisplayMode=function(L,ne,Te){return yt(L),It(ne),wt(Te),this};var Dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(Dt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dt[L]},p.__private__.getDocumentProperties=function(){return Dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var ne in Dt)Dt.hasOwnProperty(ne)&&L[ne]&&(Dt[ne]=L[ne]);return this},p.__private__.setDocumentProperty=function(L,ne){if(Object.keys(Dt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dt[L]=ne};var Et,nt,Jt,zt,Rr,Ne={},Ue={},We=[],ot={},Rt={},Ee={},Je={},at=null,Ct=0,At=[],Ht=new hR(p),ar=e.hotfixes||[],Ar={},kn={},wa=[],Wt=function L(ne,Te,Ce,$e,st,Tt){if(!(this instanceof L))return new L(ne,Te,Ce,$e,st,Tt);isNaN(ne)&&(ne=1),isNaN(Te)&&(Te=0),isNaN(Ce)&&(Ce=0),isNaN($e)&&($e=1),isNaN(st)&&(st=0),isNaN(Tt)&&(Tt=0),this._matrix=[ne,Te,Ce,$e,st,Tt]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Wt.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Te=L.sx*this.shy+L.shy*this.sy,Ce=L.shx*this.sx+L.sy*this.shx,$e=L.shx*this.shy+L.sy*this.sy,st=L.tx*this.sx+L.ty*this.shx+this.tx,Tt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Wt(ne,Te,Ce,$e,st,Tt)},Wt.prototype.decompose=function(){var L=this.sx,ne=this.shy,Te=this.shx,Ce=this.sy,$e=this.tx,st=this.ty,Tt=Math.sqrt(L*L+ne*ne),Vt=(L/=Tt)*Te+(ne/=Tt)*Ce;Te-=L*Vt,Ce-=ne*Vt;var _=Math.sqrt(Te*Te+Ce*Ce);return Vt/=_,L*(Ce/=_)<ne*(Te/=_)&&(L=-L,ne=-ne,Vt=-Vt,Tt=-Tt),{scale:new Wt(Tt,0,0,_,0,0),translate:new Wt(1,0,0,1,$e,st),rotate:new Wt(L,ne,-ne,L,0,0),skew:new Wt(1,0,Vt,1,0,0)}},Wt.prototype.toString=function(L){return this.join(" ")},Wt.prototype.inversed=function(){var L=this.sx,ne=this.shy,Te=this.shx,Ce=this.sy,$e=this.tx,st=this.ty,Tt=1/(L*Ce-ne*Te),Vt=Ce*Tt,_=-ne*Tt,F=-Te*Tt,Q=L*Tt;return new Wt(Vt,_,F,Q,-Vt*$e-F*st,-_*$e-Q*st)},Wt.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Te=L.x*this.shy+L.y*this.sy+this.ty;return new fc(ne,Te)},Wt.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Te=this.applyToPoint(new fc(L.x+L.w,L.y+L.h));return new wu(ne.x,ne.y,Te.x-ne.x,Te.y-ne.y)},Wt.prototype.clone=function(){var L=this.sx,ne=this.shy,Te=this.shx,Ce=this.sy,$e=this.tx,st=this.ty;return new Wt(L,ne,Te,Ce,$e,st)},p.Matrix=Wt;var ua=p.matrixMult=function(L,ne){return ne.multiply(L)},Jr=new Wt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Jr;var zn=function(L,ne){if(!Rt[L]){var Te=(ne instanceof Td?"Sh":"P")+(Object.keys(ot).length+1).toString(10);ne.id=Te,Rt[L]=Te,ot[Te]=ne,Ht.publish("addPattern",ne)}};p.ShadingPattern=Td,p.TilingPattern=E0,p.addShadingPattern=function(L,ne){return S("addShadingPattern()"),zn(L,ne),this},p.beginTilingPattern=function(L){S("beginTilingPattern()"),_u(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,ne){S("endTilingPattern()"),ne.stream=we[R].join(`
`),zn(L,ne),Ht.publish("endTilingPattern",ne),wa.pop().restore()};var Ln=p.__private__.newObject=function(){var L=Cn();return ie(L,!0),L},Cn=p.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return re},Z},ie=function(L,ne){return ne=typeof ne=="boolean"&&ne,oe[L]=re,ne&&te(L+" 0 obj"),L},_e=p.__private__.newAdditionalObject=function(){var L={objId:Cn(),content:""};return he.push(L),L},me=Cn(),ge=Cn(),be=p.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Te=parseFloat(ne[0]);ne=[Te,Te,Te,"r"]}for(var Ce="#",$e=0;$e<3;$e++)Ce+=("0"+Math.floor(255*parseFloat(ne[$e])).toString(16)).slice(-2);return Ce},Se=p.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Te=L.ch1,Ce=L.ch2,$e=L.ch3,st=L.ch4,Tt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var Vt=new SK(Te);if(Vt.ok)Te=Vt.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var _=parseInt(Te.substr(1),16);Te=_>>16&255,Ce=_>>8&255,$e=255&_}if(Ce===void 0||st===void 0&&Te===Ce&&Ce===$e)if(typeof Te=="string")ne=Te+" "+Tt[0];else switch(L.precision){case 2:ne=D(Te/255)+" "+Tt[0];break;case 3:default:ne=E(Te/255)+" "+Tt[0]}else if(st===void 0||nn(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return ne=["1.","1.","1.",Tt[1]].join(" ");if(typeof Te=="string")ne=[Te,Ce,$e,Tt[1]].join(" ");else switch(L.precision){case 2:ne=[D(Te/255),D(Ce/255),D($e/255),Tt[1]].join(" ");break;default:case 3:ne=[E(Te/255),E(Ce/255),E($e/255),Tt[1]].join(" ")}}else if(typeof Te=="string")ne=[Te,Ce,$e,st,Tt[2]].join(" ");else switch(L.precision){case 2:ne=[D(Te),D(Ce),D($e),D(st),Tt[2]].join(" ");break;case 3:default:ne=[E(Te),E(Ce),E($e),E(st),Tt[2]].join(" ")}return ne},ze=p.__private__.getFilters=function(){return s},tt=p.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Te=L.filters||ze(),Ce=L.alreadyAppliedFilters||[],$e=L.addLength1||!1,st=ne.length,Tt=L.objectId,Vt=function(Tr){return Tr};if(u!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Vt=Mn.encryptor(Tt,0));var _={};Te===!0&&(Te=["FlateEncode"]);var F=L.additionalKeyValues||[],Q=(_=pr.API.processDataByFilters!==void 0?pr.API.processDataByFilters(ne,Te):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(_.data.length!==0&&(F.push({key:"Length",value:_.data.length}),$e===!0&&F.push({key:"Length1",value:st})),Q.length!=0)if(Q.split("/").length-1==1)F.push({key:"Filter",value:Q});else{F.push({key:"Filter",value:"["+Q+"]"});for(var ue=0;ue<F.length;ue+=1)if(F[ue].key==="DecodeParms"){for(var Re=[],Qe=0;Qe<_.reverseChain.split("/").length-1;Qe+=1)Re.push("null");Re.push(F[ue].value),F[ue].value="["+Re.join(" ")+"]"}}te("<<");for(var Nt=0;Nt<F.length;Nt++)te("/"+F[Nt].key+" "+F[Nt].value);te(">>"),_.data.length!==0&&(te("stream"),te(Vt(_.data)),te("endstream"))},qe=p.__private__.putPage=function(L){var ne=L.number,Te=L.data,Ce=L.objId,$e=L.contentsObjId;ie(Ce,!0),te("<</Type /Page"),te("/Parent "+L.rootDictionaryObjId+" 0 R"),te("/Resources "+L.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&te("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&te("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&te("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&te("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&te("/UserUnit "+L.userUnit),Ht.publish("putPage",{objId:Ce,pageContext:At[ne],pageNumber:ne,page:Te}),te("/Contents "+$e+" 0 R"),te(">>"),te("endobj");var st=Te.join(`
`);return b===w.ADVANCED&&(st+=`
Q`),ie($e,!0),tt({data:st,filters:ze(),objectId:$e}),te("endobj"),Ce},He=p.__private__.putPages=function(){var L,ne,Te=[];for(L=1;L<=Ct;L++)At[L].objId=Cn(),At[L].contentsObjId=Cn();for(L=1;L<=Ct;L++)Te.push(qe({number:L,data:we[L],objId:At[L].objId,contentsObjId:At[L].contentsObjId,mediaBox:At[L].mediaBox,cropBox:At[L].cropBox,bleedBox:At[L].bleedBox,trimBox:At[L].trimBox,artBox:At[L].artBox,userUnit:At[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ie(me,!0),te("<</Type /Pages");var Ce="/Kids [";for(ne=0;ne<Ct;ne++)Ce+=Te[ne]+" 0 R ";te(Ce+"]"),te("/Count "+Ct),te(">>"),te("endobj"),Ht.publish("postPutPages")},Xe=function(L){Ht.publish("putFont",{font:L,out:te,newObject:Ln,putStream:tt}),L.isAlreadyPutted!==!0&&(L.objectNumber=Ln(),te("<<"),te("/Type /Font"),te("/BaseFont /"+a0(L.postScriptName)),te("/Subtype /Type1"),typeof L.encoding=="string"&&te("/Encoding /"+L.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},_t=function(){for(var L in Ne)Ne.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Xe(Ne[L])},Lt=function(L){L.objectNumber=Ln();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Te=L.pages[1].join(`
`);tt({data:Te,additionalKeyValues:ne,objectId:L.objectNumber}),te("endobj")},Bt=function(){for(var L in Ar)Ar.hasOwnProperty(L)&&Lt(Ar[L])},Pt=function(L,ne){var Te,Ce=[],$e=1/(ne-1);for(Te=0;Te<1;Te+=$e)Ce.push(Te);if(Ce.push(1),L[0].offset!=0){var st={offset:0,color:L[0].color};L.unshift(st)}if(L[L.length-1].offset!=1){var Tt={offset:1,color:L[L.length-1].color};L.push(Tt)}for(var Vt="",_=0,F=0;F<Ce.length;F++){for(Te=Ce[F];Te>L[_+1].offset;)_++;var Q=L[_].offset,ue=(Te-Q)/(L[_+1].offset-Q),Re=L[_].color,Qe=L[_+1].color;Vt+=H(Math.round((1-ue)*Re[0]+ue*Qe[0]).toString(16))+H(Math.round((1-ue)*Re[1]+ue*Qe[1]).toString(16))+H(Math.round((1-ue)*Re[2]+ue*Qe[2]).toString(16))}return Vt.trim()},Mt=function(L,ne){ne||(ne=21);var Te=Ln(),Ce=Pt(L.colors,ne),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+ne+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Ce,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),te("endobj"),L.objectNumber=Ln(),te("<< /ShadingType "+L.type),te("/ColorSpace /DeviceRGB");var st="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?st+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):st+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),te(st+="]"),L.matrix&&te("/Matrix ["+L.matrix.toString()+"]"),te("/Function "+Te+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},ur=function(L,ne){var Te=Cn(),Ce=Ln();ne.push({resourcesOid:Te,objectOid:Ce}),L.objectNumber=Ce;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),$e.push({key:"XStep",value:T(L.xStep)}),$e.push({key:"YStep",value:T(L.yStep)}),$e.push({key:"Resources",value:Te+" 0 R"}),L.matrix&&$e.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),tt({data:L.stream,additionalKeyValues:$e,objectId:L.objectNumber}),te("endobj")},ce=function(L){var ne;for(ne in ot)ot.hasOwnProperty(ne)&&(ot[ne]instanceof Td?Mt(ot[ne]):ot[ne]instanceof E0&&ur(ot[ne],L))},ke=function(L){for(var ne in L.objectNumber=Ln(),te("<<"),L)switch(ne){case"opacity":te("/ca "+D(L[ne]));break;case"stroke-opacity":te("/CA "+D(L[ne]))}te(">>"),te("endobj")},lt=function(){var L;for(L in Ee)Ee.hasOwnProperty(L)&&ke(Ee[L])},Gt=function(){for(var L in te("/XObject <<"),Ar)Ar.hasOwnProperty(L)&&Ar[L].objectNumber>=0&&te("/"+L+" "+Ar[L].objectNumber+" 0 R");Ht.publish("putXobjectDict"),te(">>")},ht=function(){Mn.oid=Ln(),te("<<"),te("/Filter /Standard"),te("/V "+Mn.v),te("/R "+Mn.r),te("/U <"+Mn.toHexString(Mn.U)+">"),te("/O <"+Mn.toHexString(Mn.O)+">"),te("/P "+Mn.P),te(">>"),te("endobj")},dt=function(){for(var L in te("/Font <<"),Ne)Ne.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&te("/"+L+" "+Ne[L].objectNumber+" 0 R");te(">>")},Ot=function(){if(Object.keys(ot).length>0){for(var L in te("/Shading <<"),ot)ot.hasOwnProperty(L)&&ot[L]instanceof Td&&ot[L].objectNumber>=0&&te("/"+L+" "+ot[L].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),te(">>")}},Ft=function(L){if(Object.keys(ot).length>0){for(var ne in te("/Pattern <<"),ot)ot.hasOwnProperty(ne)&&ot[ne]instanceof p.TilingPattern&&ot[ne].objectNumber>=0&&ot[ne].objectNumber<L&&te("/"+ne+" "+ot[ne].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),te(">>")}},Xt=function(){if(Object.keys(Ee).length>0){var L;for(L in te("/ExtGState <<"),Ee)Ee.hasOwnProperty(L)&&Ee[L].objectNumber>=0&&te("/"+L+" "+Ee[L].objectNumber+" 0 R");Ht.publish("putGStateDict"),te(">>")}},ir=function(L){ie(L.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),dt(),Ot(),Ft(L.objectOid),Xt(),Gt(),te(">>"),te("endobj")},Ir=function(){var L=[];_t(),lt(),Bt(),ce(L),Ht.publish("putResources"),L.forEach(ir),ir({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources")},Yn=function(){Ht.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var ne=he[L];ie(ne.objId,!0),te(ne.content),te("endobj")}Ht.publish("postPutAdditionalObjects")},Wa=function(L){Ue[L.fontName]=Ue[L.fontName]||{},Ue[L.fontName][L.fontStyle]=L.id},Yi=function(L,ne,Te,Ce,$e){var st={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Te,encoding:Ce,isStandardFont:$e||!1,metadata:{}};return Ht.publish("addFont",{font:st,instance:this}),Ne[st.id]=st,Wa(st),st.id},on=function(L){for(var ne=0,Te=Ve.length;ne<Te;ne++){var Ce=Yi.call(this,L[ne][0],L[ne][1],L[ne][2],Ve[ne][3],!0);f===!1&&(h[Ce]=!0);var $e=L[ne][0].split("-");Wa({id:Ce,fontName:$e[0],fontStyle:$e[1]||""})}Ht.publish("addFonts",{fonts:Ne,dictionary:Ue})},fn=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ce){var ne=Ce.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Te="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!mr.console)throw new Error(Te);mr.console.error(Te,Ce),mr.alert&&alert(Te)}},L.foo.bar=L,L.foo},_i=function(L,ne){var Te,Ce,$e,st,Tt,Vt,_,F,Q;if($e=(ne=ne||{}).sourceEncoding||"Unicode",Tt=ne.outputEncoding,(ne.autoencode||Tt)&&Ne[Et].metadata&&Ne[Et].metadata[$e]&&Ne[Et].metadata[$e].encoding&&(st=Ne[Et].metadata[$e].encoding,!Tt&&Ne[Et].encoding&&(Tt=Ne[Et].encoding),!Tt&&st.codePages&&(Tt=st.codePages[0]),typeof Tt=="string"&&(Tt=st[Tt]),Tt)){for(_=!1,Vt=[],Te=0,Ce=L.length;Te<Ce;Te++)(F=Tt[L.charCodeAt(Te)])?Vt.push(String.fromCharCode(F)):Vt.push(L[Te]),Vt[Te].charCodeAt(0)>>8&&(_=!0);L=Vt.join("")}for(Te=L.length;_===void 0&&Te!==0;)L.charCodeAt(Te-1)>>8&&(_=!0),Te--;if(!_)return L;for(Vt=ne.noBOM?[]:[254,255],Te=0,Ce=L.length;Te<Ce;Te++){if((Q=(F=L.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(Q),Vt.push(F-(Q<<8))}return String.fromCharCode.apply(void 0,Vt)},jr=p.__private__.pdfEscape=p.pdfEscape=function(L,ne){return _i(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_a=p.__private__.beginPage=function(L){we[++Ct]=[],At[Ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Jf(Ct),ye(we[R])},Fo=function(L,ne){var Te,Ce,$e;switch(r=ne||r,typeof L=="string"&&(Te=y(L.toLowerCase()),Array.isArray(Te)&&(Ce=Te[0],$e=Te[1])),Array.isArray(L)&&(Ce=L[0]*nt,$e=L[1]*nt),isNaN(Ce)&&(Ce=a[0],$e=a[1]),(Ce>14400||$e>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),$e=Math.min(14400,$e)),a=[Ce,$e],r.substr(0,1)){case"l":$e>Ce&&(a=[$e,Ce]);break;case"p":Ce>$e&&(a=[$e,Ce])}_a(a),nd(rd),te(ai),sd!==0&&te(sd+" J"),bu!==0&&te(bu+" j"),Ht.publish("addPage",{pageNumber:Ct})},Al=function(L){L>0&&L<=Ct&&(we.splice(L,1),At.splice(L,1),Ct--,R>Ct&&(R=Ct),this.setPage(R))},Jf=function(L){L>0&&L<=Ct&&(R=L)},dn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return we.length-1},oc=function(L,ne,Te){var Ce,$e=void 0;return Te=Te||{},L=L!==void 0?L:Ne[Et].fontName,ne=ne!==void 0?ne:Ne[Et].fontStyle,Ce=L.toLowerCase(),Ue[Ce]!==void 0&&Ue[Ce][ne]!==void 0?$e=Ue[Ce][ne]:Ue[L]!==void 0&&Ue[L][ne]!==void 0?$e=Ue[L][ne]:Te.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),$e||Te.noFallback||($e=Ue.times[ne])==null&&($e=Ue.times.normal),$e},lc=p.__private__.putInfo=function(){var L=Ln(),ne=function(Ce){return Ce};for(var Te in u!==null&&(ne=Mn.encryptor(L,0)),te("<<"),te("/Producer ("+jr(ne("jsPDF "+pr.version))+")"),Dt)Dt.hasOwnProperty(Te)&&Dt[Te]&&te("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+jr(ne(Dt[Te]))+")");te("/CreationDate ("+jr(ne(X))+")"),te(">>"),te("endobj")},$o=p.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||me;switch(Ln(),te("<<"),te("/Type /Catalog"),te("/Pages "+ne+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Le;Te.substr(Te.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&te("/OpenAction [3 0 R /XYZ null null "+D(Le)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}et&&te("/PageMode /"+et),Ht.publish("putCatalog"),te(">>"),te("endobj")},hm=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Z+1)),te("/Root "+Z+" 0 R"),te("/Info "+(Z-1)+" 0 R"),u!==null&&te("/Encrypt "+Mn.oid+" 0 R"),te("/ID [ <"+Y+"> <"+Y+"> ]"),te(">>")},Th=p.__private__.putHeader=function(){te("%PDF-"+g),te("%ºß¬à")},pm=p.__private__.putXRef=function(){var L="0000000000";te("xref"),te("0 "+(Z+1)),te("0000000000 65535 f ");for(var ne=1;ne<=Z;ne++)typeof oe[ne]=="function"?te((L+oe[ne]()).slice(-10)+" 00000 n "):oe[ne]!==void 0?te((L+oe[ne]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Bo=p.__private__.buildDocument=function(){ve(),ye(de),Ht.publish("buildDocument"),Th(),He(),Yn(),Ir(),u!==null&&ht(),lc(),$o();var L=re;return pm(),hm(),te("startxref"),te(""+L),te("%%EOF"),ye(we[R]),de.join(`
`)},fu=p.__private__.getBlob=function(L){return new Blob([Fe(L)],{type:"application/pdf"})},du=p.output=p.__private__.output=fn(function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return Bo();case"save":p.save(ne.filename);break;case"arraybuffer":return Fe(Bo());case"blob":return fu(Bo());case"bloburi":case"bloburl":if(mr.URL!==void 0&&typeof mr.URL.createObjectURL=="function")return mr.URL&&mr.URL.createObjectURL(fu(Bo()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Ce=Bo();try{Te=dE(Ce)}catch{Te=dE(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&($e=ne.pdfObjectUrl,st="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Vt=mr.open();return Vt!==null&&Vt.document.write(Tt),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',F=mr.open();if(F!==null){F.document.write(_);var Q=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=ne.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Re=mr.open();if(Re!==null&&(Re.document.write(ue),Re.document.title=ne.filename),Re||typeof safari>"u")return Re;break;case"datauri":case"dataurl":return mr.document.location.href=this.output("datauristring",ne);default:return null}}),Tl=function(L){return Array.isArray(ar)===!0&&ar.indexOf(L)>-1};switch(n){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=Tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);nt=n}var Mn=null;W(),G();var Eh=function(L){return u!==null?Mn.encryptor(L,0):function(ne){return ne}},Zf=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[L].objId,pageNumber:L,pageContext:At[L]}},yr=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in At)if(At[ne].objId===L)break;return Zf(ne)},El=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:At[R].objId,pageNumber:R,pageContext:At[R]}};p.addPage=function(){return Fo.apply(this,arguments),this},p.setPage=function(){return Jf.apply(this,arguments),ye.call(this,we[R]),this},p.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},p.movePage=function(L,ne){var Te,Ce;if(L>ne){Te=we[L],Ce=At[L];for(var $e=L;$e>ne;$e--)we[$e]=we[$e-1],At[$e]=At[$e-1];we[ne]=Te,At[ne]=Ce,this.setPage(ne)}else if(L<ne){Te=we[L],Ce=At[L];for(var st=L;st<ne;st++)we[st]=we[st+1],At[st]=At[st+1];we[ne]=Te,At[ne]=Ce,this.setPage(ne)}return this},p.deletePage=function(){return Al.apply(this,arguments),this},p.__private__.text=p.text=function(L,ne,Te,Ce,$e){var st,Tt,Vt,_,F,Q,ue,Re,Qe,Nt=(Ce=Ce||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Tr=Te;Te=ne,ne=L,L=Tr}if(arguments[3]instanceof Wt?(S("The transform parameter of text() with a Matrix value"),Qe=$e):(Vt=arguments[4],_=arguments[5],nn(ue=arguments[3])==="object"&&ue!==null||(typeof Vt=="string"&&(_=Vt,Vt=null),typeof ue=="string"&&(_=ue,ue=null),typeof ue=="number"&&(Vt=ue,ue=null),Ce={flags:ue,angle:Vt,align:_})),isNaN(ne)||isNaN(Te)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Nt;var Fr="",Er=!1,cn=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:ln,Sn=Nt.internal.scaleFactor;function Wo(Pn){return Pn=Pn.split("	").join(Array(Ce.TabLen||9).join(" ")),jr(Pn,ue)}function ii(Pn){for(var On,da=Pn.concat(),La=[],gc=da.length;gc--;)typeof(On=da.shift())=="string"?La.push(On):Array.isArray(Pn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?La.push(On[0]):La.push([On[0],On[1],On[2]]);return La}function Pl(Pn,On){var da;if(typeof Pn=="string")da=On(Pn)[0];else if(Array.isArray(Pn)){for(var La,gc,Sm=Pn.concat(),$h=[],yy=Sm.length;yy--;)typeof(La=Sm.shift())=="string"?$h.push(On(La)[0]):Array.isArray(La)&&typeof La[0]=="string"&&(gc=On(La[0],La[1],La[2]),$h.push([gc[0],gc[1],gc[2]]));da=$h}return da}var Ol=!1,gm=!0;if(typeof L=="string")Ol=!0;else if(Array.isArray(L)){var vm=L.concat();Tt=[];for(var Oh,si=vm.length;si--;)(typeof(Oh=vm.shift())!="string"||Array.isArray(Oh)&&typeof Oh[0]!="string")&&(gm=!1);Ol=gm}if(Ol===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ih=rt/Nt.internal.scaleFactor,jh=Ih*(cn-1);switch(Ce.baseline){case"bottom":Te-=jh;break;case"top":Te+=Ih-jh;break;case"hanging":Te+=Ih-2*jh;break;case"middle":Te+=Ih/2-jh}if((Q=Ce.maxWidth||0)>0&&(typeof L=="string"?L=Nt.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Pn,On){return Pn.concat(Nt.splitTextToSize(On,Q))},[]))),st={text:L,x:ne,y:Te,options:Ce,mutex:{pdfEscape:jr,activeFontKey:Et,fonts:Ne,activeFontSize:rt}},Ht.publish("preProcessText",st),L=st.text,Vt=(Ce=st.options).angle,!(Qe instanceof Wt)&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,Ce.rotationDirection===0&&(Vt=-Vt),b===w.ADVANCED&&(Vt=-Vt);var Dh=Math.cos(Vt),ym=Math.sin(Vt);Qe=new Wt(Dh,ym,-ym,Dh,0,0)}else Vt&&Vt instanceof Wt&&(Qe=Vt);b!==w.ADVANCED||Qe||(Qe=Jr),(F=Ce.charSpace||uc)!==void 0&&(Fr+=T(N(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Re=Ce.horizontalScale)!==void 0&&(Fr+=T(100*Re)+` Tz
`),Ce.lang;var gs=-1,g_=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,xm=Nt.internal.getCurrentPageInfo().pageContext;switch(g_){case 0:case!1:case"fill":gs=0;break;case 1:case!0:case"stroke":gs=1;break;case 2:case"fillThenStroke":gs=2;break;case 3:case"invisible":gs=3;break;case 4:case"fillAndAddForClipping":gs=4;break;case 5:case"strokeAndAddPathForClipping":gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gs=6;break;case 7:case"addToPathForClipping":gs=7}var py=xm.usedRenderingMode!==void 0?xm.usedRenderingMode:-1;gs!==-1?Fr+=gs+` Tr
`:py!==-1&&(Fr+=`0 Tr
`),gs!==-1&&(xm.usedRenderingMode=gs),_=Ce.align||"left";var ao,Lh=rt*cn,my=Nt.internal.pageSize.getWidth(),gy=Ne[Et];F=Ce.charSpace||uc,Q=Ce.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Tu=[],od=function(Pn){return Nt.getStringUnitWidth(Pn,{font:gy,charSpace:F,fontSize:rt,doKerning:!1})*rt/Sn};if(Object.prototype.toString.call(L)==="[object Array]"){var vs;Tt=ii(L),_!=="left"&&(ao=Tt.map(od));var Xi,Eu=0;if(_==="right"){ne-=ao[0],L=[],si=Tt.length;for(var hc=0;hc<si;hc++)hc===0?(Xi=Ls(ne),vs=Da(Te)):(Xi=N(Eu-ao[hc]),vs=-Lh),L.push([Tt[hc],Xi,vs]),Eu=ao[hc]}else if(_==="center"){ne-=ao[0]/2,L=[],si=Tt.length;for(var pc=0;pc<si;pc++)pc===0?(Xi=Ls(ne),vs=Da(Te)):(Xi=N((Eu-ao[pc])/2),vs=-Lh),L.push([Tt[pc],Xi,vs]),Eu=ao[pc]}else if(_==="left"){L=[],si=Tt.length;for(var Mh=0;Mh<si;Mh++)L.push(Tt[Mh])}else if(_==="justify"&&gy.encoding==="Identity-H"){L=[],si=Tt.length,Q=Q!==0?Q:my;for(var mc=0,fa=0;fa<si;fa++)if(vs=fa===0?Da(Te):-Lh,Xi=fa===0?Ls(ne):mc,fa<si-1){var bm=N((Q-ao[fa])/(Tt[fa].split(" ").length-1)),Qi=Tt[fa].split(" ");L.push([Qi[0]+" ",Xi,vs]),mc=0;for(var io=1;io<Qi.length;io++){var Rh=(od(Qi[io-1]+" "+Qi[io])-od(Qi[io]))*Sn+bm;io==Qi.length-1?L.push([Qi[io],Rh,0]):L.push([Qi[io]+" ",Rh,0]),mc-=Rh}}else L.push([Tt[fa],Xi,vs]);L.push(["",mc,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],si=Tt.length,Q=Q!==0?Q:my,fa=0;fa<si;fa++)vs=fa===0?Da(Te):-Lh,Xi=fa===0?Ls(ne):0,fa<si-1?Tu.push(T(N((Q-ao[fa])/(Tt[fa].split(" ").length-1)))):Tu.push(0),L.push([Tt[fa],Xi,vs])}}var vy=typeof Ce.R2L=="boolean"?Ce.R2L:De;vy===!0&&(L=Pl(L,function(Pn,On,da){return[Pn.split("").reverse().join(""),On,da]})),st={text:L,x:ne,y:Te,options:Ce,mutex:{pdfEscape:jr,activeFontKey:Et,fonts:Ne,activeFontSize:rt}},Ht.publish("postProcessText",st),L=st.text,Er=st.mutex.isHex||!1;var wm=Ne[Et].encoding;wm!=="WinAnsiEncoding"&&wm!=="StandardEncoding"||(L=Pl(L,function(Pn,On,da){return[Wo(Pn),On,da]})),Tt=ii(L),L=[];for(var ld,cd,Nu,ud=0,Fh=1,fd=Array.isArray(Tt[0])?Fh:ud,ku="",_m=function(Pn,On,da){var La="";return da instanceof Wt?(da=typeof Ce.angle=="number"?ua(da,new Wt(1,0,0,1,Pn,On)):ua(new Wt(1,0,0,1,Pn,On),da),b===w.ADVANCED&&(da=ua(new Wt(1,0,0,-1,0,0),da)),La=da.join(" ")+` Tm
`):La=T(Pn)+" "+T(On)+` Td
`,La},so=0;so<Tt.length;so++){switch(ku="",fd){case Fh:Nu=(Er?"<":"(")+Tt[so][0]+(Er?">":")"),ld=parseFloat(Tt[so][1]),cd=parseFloat(Tt[so][2]);break;case ud:Nu=(Er?"<":"(")+Tt[so]+(Er?">":")"),ld=Ls(ne),cd=Da(Te)}Tu!==void 0&&Tu[so]!==void 0&&(ku=Tu[so]+` Tw
`),so===0?L.push(ku+_m(ld,cd,Qe)+Nu):fd===ud?L.push(ku+Nu):fd===Fh&&L.push(ku+_m(ld,cd,Qe)+Nu)}L=fd===ud?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var oo=`BT
/`;return oo+=Et+" "+rt+` Tf
`,oo+=T(rt*cn)+` TL
`,oo+=zo+`
`,oo+=Fr,oo+=L,te(oo+="ET"),h[Et]=!0,Nt};var mm=p.__private__.clip=p.clip=function(L){return te(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return mm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var no=p.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return no(L)&&(c=L),this};var Nh=p.__private__.getStyle=p.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},js=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(L){return hu("f",L),this},p.fillEvenOdd=function(L){return hu("f*",L),this},p.fillStroke=function(L){return hu("B",L),this},p.fillStrokeEvenOdd=function(L){return hu("B*",L),this};var hu=function(L,ne){nn(ne)==="object"?mu(ne,L):te(L)},ed=function(L){L===null||b===w.ADVANCED&&L===void 0||(L=Nh(L),te(L))};function pu(L,ne,Te,Ce,$e){var st=new E0(ne||this.boundingBox,Te||this.xStep,Ce||this.yStep,this.gState,$e||this.matrix);st.stream=this.stream;var Tt=L+"$$"+this.cloneIndex+++"$$";return zn(Tt,st),st}var mu=function(L,ne){var Te=Rt[L.key],Ce=ot[Te];if(Ce instanceof Td)te("q"),te(kh(ne)),Ce.gState&&p.setGState(Ce.gState),te(L.matrix.toString()+" cm"),te("/"+Te+" sh"),te("Q");else if(Ce instanceof E0){var $e=new Wt(1,0,0,-1,0,Si());L.matrix&&($e=$e.multiply(L.matrix||Jr),Te=pu.call(Ce,L.key,L.boundingBox,L.xStep,L.yStep,$e).id),te("q"),te("/Pattern cs"),te("/"+Te+" scn"),Ce.gState&&p.setGState(Ce.gState),te(ne),te("Q")}},kh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uo=p.moveTo=function(L,ne){return te(T(N(L))+" "+T(V(ne))+" m"),this},Ds=p.lineTo=function(L,ne){return te(T(N(L))+" "+T(V(ne))+" l"),this},Vo=p.curveTo=function(L,ne,Te,Ce,$e,st){return te([T(N(L)),T(V(ne)),T(N(Te)),T(V(Ce)),T(N($e)),T(V(st)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,ne,Te,Ce,$e){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Ce)||!no($e))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[Te-L,Ce-ne]],L,ne,[1,1],$e||"S"):this.lines([[Te-L,Ce-ne]],L,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,ne,Te,Ce,$e,st){var Tt,Vt,_,F,Q,ue,Re,Qe,Nt,Tr,Fr,Er;if(typeof L=="number"&&(Er=Te,Te=ne,ne=L,L=Er),Ce=Ce||[1,1],st=st||!1,isNaN(ne)||isNaN(Te)||!Array.isArray(L)||!Array.isArray(Ce)||!no($e)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uo(ne,Te),Tt=Ce[0],Vt=Ce[1],F=L.length,Tr=ne,Fr=Te,_=0;_<F;_++)(Q=L[_]).length===2?(Tr=Q[0]*Tt+Tr,Fr=Q[1]*Vt+Fr,Ds(Tr,Fr)):(ue=Q[0]*Tt+Tr,Re=Q[1]*Vt+Fr,Qe=Q[2]*Tt+Tr,Nt=Q[3]*Vt+Fr,Tr=Q[4]*Tt+Tr,Fr=Q[5]*Vt+Fr,Vo(ue,Re,Qe,Nt,Tr,Fr));return st&&js(),ed($e),this},p.path=function(L){for(var ne=0;ne<L.length;ne++){var Te=L[ne],Ce=Te.c;switch(Te.op){case"m":Uo(Ce[0],Ce[1]);break;case"l":Ds(Ce[0],Ce[1]);break;case"c":Vo.apply(this,Ce);break;case"h":js()}}return this},p.__private__.rect=p.rect=function(L,ne,Te,Ce,$e){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Ce)||!no($e))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(Ce=-Ce),te([T(N(L)),T(V(ne)),T(N(Te)),T(N(Ce)),"re"].join(" ")),ed($e),this},p.__private__.triangle=p.triangle=function(L,ne,Te,Ce,$e,st,Tt){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Ce)||isNaN($e)||isNaN(st)||!no(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-L,Ce-ne],[$e-Te,st-Ce],[L-$e,ne-st]],L,ne,[1,1],Tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,ne,Te,Ce,$e,st,Tt){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Ce)||isNaN($e)||isNaN(st)||!no(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*Te),st=Math.min(st,.5*Ce),this.lines([[Te-2*$e,0],[$e*Vt,0,$e,st-st*Vt,$e,st],[0,Ce-2*st],[0,st*Vt,-$e*Vt,st,-$e,st],[2*$e-Te,0],[-$e*Vt,0,-$e,-st*Vt,-$e,-st],[0,2*st-Ce],[0,-st*Vt,$e*Vt,-st,$e,-st]],L+$e,ne,[1,1],Tt,!0),this},p.__private__.ellipse=p.ellipse=function(L,ne,Te,Ce,$e){if(isNaN(L)||isNaN(ne)||isNaN(Te)||isNaN(Ce)||!no($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*Te,Tt=4/3*(Math.SQRT2-1)*Ce;return Uo(L+Te,ne),Vo(L+Te,ne-Tt,L+st,ne-Ce,L,ne-Ce),Vo(L-st,ne-Ce,L-Te,ne-Tt,L-Te,ne),Vo(L-Te,ne+Tt,L-st,ne+Ce,L,ne+Ce),Vo(L+st,ne+Ce,L+Te,ne+Tt,L+Te,ne),ed($e),this},p.__private__.circle=p.circle=function(L,ne,Te,Ce){if(isNaN(L)||isNaN(ne)||isNaN(Te)||!no(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Te,Te,Ce)},p.setFont=function(L,ne,Te){return Te&&(ne=j(ne,Te)),Et=oc(L,ne,{disableWarning:!1}),this};var td=p.__private__.getFont=p.getFont=function(){return Ne[oc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,ne,Te={};for(L in Ue)if(Ue.hasOwnProperty(L))for(ne in Te[L]=[],Ue[L])Ue[L].hasOwnProperty(ne)&&Te[L].push(ne);return Te},p.addFont=function(L,ne,Te,Ce,$e){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(Te=j(Te,Ce)),$e=$e||"Identity-H",Yi.call(this,L,ne,Te,$e)};var ln,rd=e.lineWidth||.200025,gu=p.__private__.getLineWidth=p.getLineWidth=function(){return rd},nd=p.__private__.setLineWidth=p.setLineWidth=function(L){return rd=L,te(T(N(L))+" w"),this};p.__private__.setLineDash=pr.API.setLineDash=pr.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Te){return T(N(Te))}).join(" "),ne=T(N(ne)),te("["+L+"] "+ne+" d"),this};var ad=p.__private__.getLineHeight=p.getLineHeight=function(){return rt*ln};p.__private__.getLineHeight=p.getLineHeight=function(){return rt*ln};var id=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ln=L),this},cc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ln};id(e.lineHeight);var Ls=p.__private__.getHorizontalCoordinate=function(L){return N(L)},Da=p.__private__.getVerticalCoordinate=function(L){return b===w.ADVANCED?L:At[R].mediaBox.topRightY-At[R].mediaBox.bottomLeftY-N(L)},Ch=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Ls(L))},Nl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Da(L))},ai=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return be(ai)},p.__private__.setStrokeColor=p.setDrawColor=function(L,ne,Te,Ce){return ai=Se({ch1:L,ch2:ne,ch3:Te,ch4:Ce,pdfColorType:"draw",precision:2}),te(ai),this};var vu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return be(vu)},p.__private__.setFillColor=p.setFillColor=function(L,ne,Te,Ce){return vu=Se({ch1:L,ch2:ne,ch3:Te,ch4:Ce,pdfColorType:"fill",precision:2}),te(vu),this};var zo=e.textColor||"0 g",yu=p.__private__.getTextColor=p.getTextColor=function(){return be(zo)};p.__private__.setTextColor=p.setTextColor=function(L,ne,Te,Ce){return zo=Se({ch1:L,ch2:ne,ch3:Te,ch4:Ce,pdfColorType:"text",precision:3}),this};var uc=e.charSpace,xu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(uc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=L,this};var sd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var ne=p.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=ne,te(ne+" J"),this};var bu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var ne=p.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=ne,te(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(T(N(L))+" M"),this},p.GState=Ew,p.setGState=function(L){(L=typeof L=="string"?Ee[Je[L]]:kl(null,L)).equals(at)||(te("/"+L.id+" gs"),at=L)};var kl=function(L,ne){if(!L||!Je[L]){var Te=!1;for(var Ce in Ee)if(Ee.hasOwnProperty(Ce)&&Ee[Ce].equals(ne)){Te=!0;break}if(Te)ne=Ee[Ce];else{var $e="GS"+(Object.keys(Ee).length+1).toString(10);Ee[$e]=ne,ne.id=$e}return L&&(Je[L]=ne.id),Ht.publish("addGState",ne),ne}};p.addGState=function(L,ne){return kl(L,ne),this},p.saveGraphicsState=function(){return te("q"),We.push({key:Et,size:rt,color:zo}),this},p.restoreGraphicsState=function(){te("Q");var L=We.pop();return Et=L.key,rt=L.size,zo=L.color,at=null,this},p.setCurrentTransformationMatrix=function(L){return te(L.toString()+" cm"),this},p.comment=function(L){return te("#"+L),this};var fc=function(L,ne){var Te=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(st){isNaN(st)||(Te=parseFloat(st))}});var Ce=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(st){isNaN(st)||(Ce=parseFloat(st))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(st){$e=st.toString()}}),this},wu=function(L,ne,Te,Ce){fc.call(this,L,ne),this.type="rect";var $e=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(Tt){isNaN(Tt)||($e=parseFloat(Tt))}});var st=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(Tt){isNaN(Tt)||(st=parseFloat(Tt))}}),this},dc=function(){this.page=Ct,this.currentPage=R,this.pages=we.slice(0),this.pagesContext=At.slice(0),this.x=Jt,this.y=zt,this.matrix=Rr,this.width=Cl(R),this.height=Si(R),this.outputDestination=Ae,this.id="",this.objectNumber=-1};dc.prototype.restore=function(){Ct=this.page,R=this.currentPage,At=this.pagesContext,we=this.pages,Jt=this.x,zt=this.y,Rr=this.matrix,Su(R,this.width),Au(R,this.height),Ae=this.outputDestination};var _u=function(L,ne,Te,Ce,$e){wa.push(new dc),Ct=R=0,we=[],Jt=L,zt=ne,Rr=$e,_a([Te,Ce])},Ph=function(L){if(kn[L])wa.pop().restore();else{var ne=new dc,Te="Xo"+(Object.keys(Ar).length+1).toString(10);ne.id=Te,kn[L]=Te,Ar[Te]=ne,Ht.publish("addFormObject",ne),wa.pop().restore()}};for(var qo in p.beginFormObject=function(L,ne,Te,Ce,$e){return _u(L,ne,Te,Ce,$e),this},p.endFormObject=function(L){return Ph(L),this},p.doFormObject=function(L,ne){var Te=Ar[kn[L]];return te("q"),te(ne.toString()+" cm"),te("/"+Te.id+" Do"),te("Q"),this},p.getFormObject=function(L){var ne=Ar[kn[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Sd(fu(Bo()),L),typeof Sd.unload=="function"&&mr.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(Te,Ce){try{var $e=Sd(fu(Bo()),L);typeof Sd.unload=="function"&&mr.setTimeout&&setTimeout(Sd.unload,911),Te($e)}catch(st){Ce(st.message)}})},pr.API)pr.API.hasOwnProperty(qo)&&(qo==="events"&&pr.API.events.length?function(L,ne){var Te,Ce,$e;for($e=ne.length-1;$e!==-1;$e--)Te=ne[$e][0],Ce=ne[$e][1],L.subscribe.apply(L,[Te].concat(typeof Ce=="function"?[Ce]:Ce))}(Ht,pr.API.events):p[qo]=pr.API[qo]);var Cl=p.getPageWidth=function(L){return(At[L=L||R].mediaBox.topRightX-At[L].mediaBox.bottomLeftX)/nt},Su=p.setPageWidth=function(L,ne){At[L].mediaBox.topRightX=ne*nt+At[L].mediaBox.bottomLeftX},Si=p.getPageHeight=function(L){return(At[L=L||R].mediaBox.topRightY-At[L].mediaBox.bottomLeftY)/nt},Au=p.setPageHeight=function(L,ne){At[L].mediaBox.topRightY=ne*nt+At[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:jr,getStyle:Nh,getFont:td,getFontSize:Ze,getCharSpace:xu,getTextColor:yu,getLineHeight:ad,getLineHeightFactor:cc,getLineWidth:gu,write:Pe,getHorizontalCoordinate:Ls,getVerticalCoordinate:Da,getCoordinateString:Ch,getVerticalCoordinateString:Nl,collections:{},newObject:Ln,newAdditionalObject:_e,newObjectDeferred:Cn,newObjectDeferredBegin:ie,getFilters:ze,putStream:tt,events:Ht,scaleFactor:nt,pageSize:{getWidth:function(){return Cl(R)},setWidth:function(L){Su(R,L)},getHeight:function(){return Si(R)},setHeight:function(L){Au(R,L)}},encryptionOptions:u,encryption:Mn,getEncryptor:Eh,output:du,getNumberOfPages:dn,pages:we,out:te,f2:D,f3:E,getPageInfo:Zf,getPageInfoByObjId:yr,getCurrentPageInfo:El,getPDFVersion:m,Point:fc,Rectangle:wu,Matrix:Wt,hasHotfix:Tl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Cl(R)},set:function(L){Su(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Si(R)},set:function(L){Au(R,L)},enumerable:!0,configurable:!0}),on.call(p,Ve),Et="F1",Fo(a,r),Ht.publish("initialized"),p}n0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},n0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},n0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},n0.prototype.processOwnerPassword=function(e,t){return pE(hE(t).substr(0,5),e)},n0.prototype.encryptor=function(e,t){var r=hE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return pE(r,n)}},Ew.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||nn(e)!==nn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},pr.API={events:[]},pr.version="3.0.1";var aa=pr.API,NP=1,Ah=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nr=function(e){return e.toFixed(2)},Bu=function(e){return e.toFixed(5)};aa.__acroform__={};var Is=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pR=function(e){return e*NP},Ml=function(e){var t=new NK,r=rr.internal.getHeight(e)||0,n=rr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nr(n)),Number(Nr(r))],t},t9e=aa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},r9e=aa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},n9e=aa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ga=aa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return n9e(e,t-1)},va=aa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return t9e(e,t-1)},ya=aa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return r9e(e,t-1)},a9e=aa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Nr(l.lowerLeft_X)),Number(Nr(l.lowerLeft_Y)),Number(Nr(l.upperRight_X)),Number(Nr(l.upperRight_Y))]},i9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=mE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Nr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ml(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},mE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=rr.internal.getHeight(e)||0;s=s<0?-s:s;var o=rr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,P){if(E+1<a.length){var V=N+" "+a[E+1][0];return Fx(V,e,P).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=Fx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Fx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var I=!1;if(a[b].length!==1&&v!==a[b].length-1){if((f+2)*(w+2)+2>s)continue e;y+=a[b][v],I=!0,m=b,b--}else{y=(y+=a[b][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(b),j=l(C,y,i),T=b>=a.length-1;if(j&&!T){y+=" ",v=0;continue}if(j||T){if(T)m=C;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;m=C}}for(var S="",A=g;A<=m;A++){var D=a[A];if(e.multiline){if(A===m){S+=D[v]+" ",v=(v+1)%D.length;continue}if(A===g){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=Fx(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Nr(c)+" "+Nr(p)+` Td
`,t+="("+Ah(S)+`) Tj
`,t+=-Nr(c)+` 0 Td
`,p=-(i+2),u=0,g=I?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},Fx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},s9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},o9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},l9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),nn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},c9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_l.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(s9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");NP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&o9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=a9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rr.createDefaultAppearanceStream(o),nn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=i9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&l9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},EK=aa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),nn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ah(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},NA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ah(n(e))+")"},Ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ul.prototype.toString=function(){return this.objId+" 0 R"},Ul.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ul.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:EK(a,this.objId,this.scope)}):a instanceof Ul?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var NK=function(){Ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Is(NK,Ul);var kK=function(){Ul.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ah(r(e))+")"}},set:function(r){e=r}})};Is(kK,Ul);var _l=function e(){Ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ga(t,3)},set:function(y){y?this.F=va(t,3):this.F=ya(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Nw)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ah(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/NP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Nw||this instanceof Wd))return NA(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ja?h:NA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ja?y:y.substr(0,1)==="("?Qh(y.substr(1,y.length-2)):Qh(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Qh(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ja?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ja?p:NA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ja?y:y.substr(0,1)==="("?Qh(y.substr(1,y.length-2)):Qh(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Qh(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ja?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,1)},set:function(y){y?this.Ff=va(this.Ff,1):this.Ff=ya(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,2)},set:function(y){y?this.Ff=va(this.Ff,2):this.Ff=ya(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,3)},set:function(y){y?this.Ff=va(this.Ff,3):this.Ff=ya(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Is(_l,Ul);var V0=function(){_l.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,18)},set:function(r){r?this.Ff=va(this.Ff,18):this.Ff=ya(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=va(this.Ff,19):this.Ff=ya(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,20)},set:function(r){r?(this.Ff=va(this.Ff,20),t.sort()):this.Ff=ya(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,22)},set:function(r){r?this.Ff=va(this.Ff,22):this.Ff=ya(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(r){r?this.Ff=va(this.Ff,23):this.Ff=ya(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,27)},set:function(r){r?this.Ff=va(this.Ff,27):this.Ff=ya(this.Ff,27)}}),this.hasAppearanceStream=!1};Is(V0,_l);var z0=function(){V0.call(this),this.fontName="helvetica",this.combo=!1};Is(z0,V0);var q0=function(){z0.call(this),this.combo=!0};Is(q0,z0);var f2=function(){q0.call(this),this.edit=!0};Is(f2,q0);var Ja=function(){_l.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,15)},set:function(r){r?this.Ff=va(this.Ff,15):this.Ff=ya(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,16)},set:function(r){r?this.Ff=va(this.Ff,16):this.Ff=ya(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,17)},set:function(r){r?this.Ff=va(this.Ff,17):this.Ff=ya(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(r){r?this.Ff=va(this.Ff,26):this.Ff=ya(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ah(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){nn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Is(Ja,_l);var d2=function(){Ja.call(this),this.pushButton=!0};Is(d2,Ja);var W0=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Is(W0,Ja);var Nw=function(){var e,t;_l.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ah(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){nn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Is(Nw,_l),W0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},W0.prototype.createOption=function(e){var t=new Nw;return t.Parent=this,t.optionName=e,this.Kids.push(t),u9e.call(this.scope,t),t};var h2=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};Is(h2,Ja);var Wd=function(){_l.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,13)},set:function(t){t?this.Ff=va(this.Ff,13):this.Ff=ya(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,21)},set:function(t){t?this.Ff=va(this.Ff,21):this.Ff=ya(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(t){t?this.Ff=va(this.Ff,23):this.Ff=ya(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,24)},set:function(t){t?this.Ff=va(this.Ff,24):this.Ff=ya(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,25)},set:function(t){t?this.Ff=va(this.Ff,25):this.Ff=ya(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(t){t?this.Ff=va(this.Ff,26):this.Ff=ya(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Is(Wd,_l);var p2=function(){Wd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,14)},set:function(e){e?this.Ff=va(this.Ff,14):this.Ff=ya(this.Ff,14)}}),this.password=!0};Is(p2,Wd);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=mE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Nr(rr.internal.getWidth(e))+" "+Nr(rr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=rr.internal.getHeight(e),s=rr.internal.getWidth(e),o=mE(e,e.caption);return a.push("1 g"),a.push("0 0 "+Nr(s)+" "+Nr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Nr(s-1)+" "+Nr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Nr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(rr.internal.getWidth(e))+" "+Nr(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Circle.YesNormal,t.D[e]=rr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=rr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bu(rr.internal.getWidth(e)/2)+" "+Bu(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rr.internal.Bezier_C).toFixed(5)),s=Number((n*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(rr.internal.getWidth(e)/2)+" "+Bu(rr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bu(rr.internal.getWidth(e)/2)+" "+Bu(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(rr.internal.getWidth(e)/2)+" "+Bu(rr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Cross.YesNormal,t.D[e]=rr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=rr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Nr(rr.internal.getWidth(e)-2)+" "+Nr(rr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nr(n.x1.x)+" "+Nr(n.x1.y)+" m"),r.push(Nr(n.x2.x)+" "+Nr(n.x2.y)+" l"),r.push(Nr(n.x4.x)+" "+Nr(n.x4.y)+" m"),r.push(Nr(n.x3.x)+" "+Nr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=rr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nr(rr.internal.getWidth(e))+" "+Nr(rr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nr(rr.internal.getWidth(e)-2)+" "+Nr(rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nr(r.x1.x)+" "+Nr(r.x1.y)+" m"),n.push(Nr(r.x2.x)+" "+Nr(r.x2.y)+" l"),n.push(Nr(r.x4.x)+" "+Nr(r.x4.y)+" m"),n.push(Nr(r.x3.x)+" "+Nr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(rr.internal.getWidth(e))+" "+Nr(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rr.internal.getWidth(e),r=rr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rr.internal.getWidth=function(e){var t=0;return nn(e)==="object"&&(t=pR(e.Rect[2])),t},rr.internal.getHeight=function(e){var t=0;return nn(e)==="object"&&(t=pR(e.Rect[3])),t};var u9e=aa.addField=function(e){if(c9e(this,e),!(e instanceof _l))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};aa.AcroFormChoiceField=V0,aa.AcroFormListBox=z0,aa.AcroFormComboBox=q0,aa.AcroFormEditBox=f2,aa.AcroFormButton=Ja,aa.AcroFormPushButton=d2,aa.AcroFormRadioButton=W0,aa.AcroFormCheckBox=h2,aa.AcroFormTextField=Wd,aa.AcroFormPasswordField=p2,aa.AcroFormAppearance=rr,aa.AcroForm={ChoiceField:V0,ListBox:z0,ComboBox:q0,EditBox:f2,Button:Ja,PushButton:d2,RadioButton:W0,CheckBox:h2,TextField:Wd,PasswordField:p2,Appearance:rr},pr.AcroForm={ChoiceField:V0,ListBox:z0,ComboBox:q0,EditBox:f2,Button:Ja,PushButton:d2,RadioButton:W0,CheckBox:h2,TextField:Wd,PasswordField:p2,Appearance:rr};function CK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var P,V,X,Y,J,G=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(j(E))for(J in r)for(X=r[J],P=0;P<X.length;P+=1){for(Y=!0,V=0;V<X[P].length;V+=1)if(X[P][V]!==void 0&&X[P][V]!==E[V]){Y=!1;break}if(Y===!0){G=J;break}}else for(J in r)for(X=r[J],P=0;P<X.length;P+=1){for(Y=!0,V=0;V<X[P].length;V+=1)if(X[P][V]!==void 0&&X[P][V]!==E.charCodeAt(V)){Y=!1;break}if(Y===!0){G=J;break}}return G===t&&N!==t&&(G=N),G},a=function E(N){for(var P=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:N.width}),Y.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var J="",G=0,q=N.transparency.length;G<q;G++)J+=N.transparency[G]+" "+N.transparency[G]+" ";Y.push({key:"Mask",value:"["+J+"]"})}N.sMask!==void 0&&Y.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(V({data:N.data,additionalKeyValues:Y,alreadyAppliedFilters:ee,objectId:N.objectId}),P("endobj"),"sMask"in N&&N.sMask!==void 0){var W="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,O={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:W,data:N.sMask};"filter"in N&&(O.filter=N.filter),E.call(this,O)}if(N.colorSpace===v.INDEXED){var R=this.internal.newObject();V({data:S(new Uint8Array(N.palette)),objectId:R}),P("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,P=this.internal.write;for(var V in N)P("/I"+(E=N[V]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return nn(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var P=""+E.getAttribute("src");if(P.indexOf("data:image/")===0)return Jg(unescape(P).split("base64,").pop());var V=e.loadFile(P,!0);if(V!==void 0)return V}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var X;switch(N){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return Jg(E.toDataURL(X,1).split("base64,").pop())}},p=function(E){var N=this.internal.collections.addImage_images;if(N){for(var P in N)if(E===N[P].alias)return N[P]}},g=function(E,N,P){return E||N||(E=-96,N=-96),E<0&&(E=-1*P.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*P.height*72/N/this.internal.scaleFactor),E===0&&(E=N*P.width/P.height),N===0&&(N=E*P.height/P.width),[E,N]},m=function(E,N,P,V,X,Y){var J=g.call(this,P,V,X),G=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=l.call(this);if(P=J[0],V=J[1],ee[X.index]=X,Y){Y*=Math.PI/180;var W=Math.cos(Y),O=Math.sin(Y),R=function(H){return H.toFixed(4)},z=[R(W),R(O),R(-1*O),R(W),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,G(E),q(N+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([G(P),"0","0",G(V),"0","0","cm"].join(" "))):this.internal.write([G(P),"0","0",G(V),G(E),q(N+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var N,P,V=0;if(typeof E=="string")for(P=E.length,N=0;N<P;N++)V=(V<<5)-V+E.charCodeAt(N),V|=0;else if(j(E))for(P=E.byteLength/2,N=0;N<P;N++)V=(V<<5)-V+E[N],V|=0;return V},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},I=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return C()&&E instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(E){return C()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,P=new Uint8Array(N),V=0;V<N;V++)P[V]=E.charCodeAt(V);return P},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",P=j(E)?E:new Uint8Array(E),V=0;V<P.length;V+=8192)N+=String.fromCharCode.apply(null,P.subarray(V,V+8192));return N};e.addImage=function(){var E,N,P,V,X,Y,J,G,q;if(typeof arguments[1]=="number"?(N=t,P=arguments[1],V=arguments[2],X=arguments[3],Y=arguments[4],J=arguments[5],G=arguments[6],q=arguments[7]):(N=arguments[1],P=arguments[2],V=arguments[3],X=arguments[4],Y=arguments[5],J=arguments[6],G=arguments[7],q=arguments[8]),nn(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ee=E;E=ee.imageData,N=ee.format||N||t,P=ee.x||P||0,V=ee.y||V||0,X=ee.w||ee.width||X,Y=ee.h||ee.height||Y,J=ee.alias||J,G=ee.compression||G,q=ee.rotation||ee.angle||q}var W=this.internal.getFilters();if(G===void 0&&W.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(P)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var O=A.call(this,E,N,J,G);return m.call(this,P,V,X,Y,O,q),this};var A=function(E,N,P,V){var X,Y,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var G=D(E,!1);(G!==""||(G=e.loadFile(E,!0))!==void 0)&&(E=G)}if(f(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((J=P)==null||J.length===0)&&(P=function(q){return typeof q=="string"||j(q)?w(q):j(q.data)?w(q.data):null}(E)),(X=p.call(this,P))||(C()&&(E instanceof Uint8Array||N==="RGBA"||(Y=E,E=T(E))),X=this["process"+N.toUpperCase()](E,c.call(this),P,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:y.NONE}(V),Y)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},D=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var P,V="";if(typeof E=="string"){var X;P=(X=I(E))!==null&&X!==void 0?X:E;try{V=Jg(P)}catch(Y){if(N)throw b(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(E){var N,P,V="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((V=D(E,!1))===""&&(V=e.loadFile(E)||""),E=V),P=n(E),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(!C()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+P.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=P,N}})(pr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};pr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(w))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(pr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",b=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(b++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,b=0),v===m.length-1&&(y=r,w+=m.charAt(v-(b-1)),v-=b-1,b=0)):(y=r,w+=m.charAt(v-b),v-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,w=0,b="",I="",C="",j=(m=m||"").split("\\s+"),T=[];for(v=0;v<j.length;v+=1){for(T.push(""),y=0;y<j[v].length;y+=1)b=j[v][y],I=j[v][y-1],C=j[v][y+1],s(b)?(w=h(b,I,C),T[v]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):T[v]+=b;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(pr.API),pr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(pr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,I){return b.concat(v.splitTextToSize(I,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:f})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],w=[],b=[],I={},C={},j=[],T=[],S=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,P=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=V,this.setFontSize(D),f==null)w=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(f)&&nn(f[0])==="object")for(y=f.map(function(ee){return ee.name}),w=f.map(function(ee){return ee.prompt||ee.name||""}),b=f.map(function(ee){return ee.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,b=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(I[v=y[p]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=I[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,j)+N+N,j=[]}if(A){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=w[p],X[y[p]].align=b[p];var Y=o.call(this,X,C);T=y.map(function(ee){return new i(l,c,C[ee],Y,X[ee].text,void 0,X[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,W){return ee[W.name]=W.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var G=o.call(this,u[p],C);for(m=0;m<y.length;m+=1){var q=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:q},this),s.call(this,new i(l,c,C[y[m]],G,q,p+2,J[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(pr.API);var PK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gE=CK(OK),IK=[100,200,300,400,500,600,700,800,900],f9e=CK(IK);function vE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return PK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof gE[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function mR(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var d9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function h9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},d9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=vE(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+vR(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=gE[l],f=u<=gE.normal?-1:1,h=mR(c,OK,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=PK[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=f9e[l],f=mR(c,IK,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+vR(i)+"'.");return s}function yR(e){return e.trimLeft()}function p9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function m9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $x,xR,bR,kA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=O;Object.defineProperty(this,"pdf",{get:function(){return R}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ye){z=!!ye}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ye){H=!!ye}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ye){isNaN(ye)||(Z=ye)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ye){isNaN(ye)||(oe=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var te;typeof ye=="number"?te=[ye,ye,ye,ye]:((te=new Array(4))[0]=ye[0],te[1]=ye.length>=2?ye[1]:te[0],te[2]=ye.length>=3?ye[2]:te[0],te[3]=ye.length>=4?ye[3]:te[1]),c.margin=te}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ye){de=ye}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(ye){re=ye}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(ye){he=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(ye){we=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var te;te=h(ye),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var te=h(ye);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var B=null;function Ae(ye,te){if(B===null){var Pe=function(Fe){var Ve=[];return Object.keys(Fe).forEach(function(rt){Fe[rt].forEach(function(Le){var Ze=null;switch(Le){case"bold":Ze={family:rt,weight:"bold"};break;case"italic":Ze={family:rt,style:"italic"};break;case"bolditalic":Ze={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:rt}}Ze!==null&&(Ze.ref={name:rt,style:Le},Ve.push(Ze))})}),Ve}(ye.getFontList());B=function(Fe){for(var Ve={},rt=0;rt<Fe.length;++rt){var Le=vE(Fe[rt]),Ze=Le.family,De=Le.stretch,et=Le.style,yt=Le.weight;Ve[Ze]=Ve[Ze]||{},Ve[Ze][De]=Ve[Ze][De]||{},Ve[Ze][De][et]=Ve[Ze][De][et]||{},Ve[Ze][De][et][yt]=Le}return Ve}(Pe.concat(te))}return B}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(ye){B=null,ve=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var te;if(this.ctx.font=ye,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Pe=te[1];te[2];var Fe=te[3],Ve=te[4];te[5];var rt=te[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Le==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var Ze=function(Dt){var Et,nt,Jt=[],zt=Dt.trim();if(zt==="")return kA;if(zt in gR)return[gR[zt]];for(;zt!=="";){switch(nt=null,Et=(zt=yR(zt)).charAt(0)){case'"':case"'":nt=p9e(zt.substring(1),Et);break;default:nt=m9e(zt)}if(nt===null||(Jt.push(nt[0]),(zt=yR(nt[1]))!==""&&zt.charAt(0)!==","))return kA;zt=zt.replace(/^,/,"")}return Jt}(rt);if(this.fontFaces){var De=h9e(Ae(this.pdf,this.fontFaces),Ze.map(function(Dt){return{family:Dt,stretch:"normal",weight:Fe,style:Pe}}));this.pdf.setFont(De.ref.name,De.ref.style)}else{var et="";(Fe==="bold"||parseInt(Fe,10)>=700||Pe==="bold")&&(et="bold"),Pe==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var yt="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Ze.length;wt++){if(this.pdf.internal.getFont(Ze[wt],et,{noFallback:!0,disableWarning:!0})!==void 0){yt=Ze[wt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Ze[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=Ze[wt],et="bold";else if(this.pdf.internal.getFont(Ze[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=Ze[wt],et="normal";break}}if(yt===""){for(var It=0;It<Ze.length;It++)if(ft[Ze[It]]){yt=ft[Ze[It]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,R){if(isNaN(O)||isNaN(R))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(O,R)},f.prototype.closePath=function(){var O=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&nn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){O=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},f.prototype.lineTo=function(O,R){if(isNaN(O)||isNaN(R))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,R,z,H){if(isNaN(z)||isNaN(H)||isNaN(O)||isNaN(R))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(z,H)),oe=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.bezierCurveTo=function(O,R,z,H,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(Z,oe)),re=this.ctx.transform.applyToPoint(new s(O,R)),he=this.ctx.transform.applyToPoint(new s(z,H));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function(O,R,z,H,Z,oe){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H)||isNaN(Z))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(O,R));O=de.x,R=de.y;var re=this.ctx.transform.applyToPoint(new s(0,z)),he=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(re.x-he.x,2)+Math.pow(re.y-he.y,2))}Math.abs(Z-H)>=2*Math.PI&&(H=0,Z=2*Math.PI),this.path.push({type:"arc",x:O,y:R,radius:z,startAngle:H,endAngle:Z,counterclockwise:oe})},f.prototype.arcTo=function(O,R,z,H,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,R,z,H){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,R),this.lineTo(O+z,R),this.lineTo(O+z,R+H),this.lineTo(O,R+H),this.lineTo(O,R),this.lineTo(O+z,R),this.lineTo(O,R)},f.prototype.fillRect=function(O,R,z,H){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,R,z,H),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(O,R,z,H){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(O,R,z,H),this.stroke())},f.prototype.clearRect=function(O,R,z,H){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,R,z,H))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(R),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(O){var R,z,H,Z;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))R=0,z=0,H=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(oe!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),H=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),H=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof O=="string"&&O.charAt(0)!=="#"){var de=new SK(O);O=de.ok?de.toHex():"#000000"}O.length===4?(R=O.substring(1,2),R+=R,z=O.substring(2,3),z+=z,H=O.substring(3,4),H+=H):(R=O.substring(1,3),z=O.substring(3,5),H=O.substring(5,7)),R=parseInt(R,16),z=parseInt(z,16),H=parseInt(H,16)}}return{r:R,g:z,b:H,a:Z,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,R,z,H){if(isNaN(R)||isNaN(z)||typeof O!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!p.call(this)){var Z=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:O,x:R,y:z,scale:oe,angle:Z,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(O,R,z,H){if(isNaN(R)||isNaN(z)||typeof O!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){H=isNaN(H)?void 0:H;var Z=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:O,x:R,y:z,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,z=this.pdf.internal.scaleFactor,H=R.internal.getFontSize(),Z=R.getStringUnitWidth(O)*H/R.internal.scaleFactor,oe=function(de){var re=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new oe({width:Z*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(O,R){if(isNaN(O)||isNaN(R))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(O,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(O){if(isNaN(O))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(O,R){if(isNaN(O)||isNaN(R))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,O,R);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(O,R,z,H,Z,oe){if(isNaN(O)||isNaN(R)||isNaN(z)||isNaN(H)||isNaN(Z)||isNaN(oe))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(O,R,z,H,Z,oe);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(O,R,z,H,Z,oe){O=isNaN(O)?1:O,R=isNaN(R)?0:R,z=isNaN(z)?0:z,H=isNaN(H)?1:H,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(O,R,z,H,Z,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,R,z,H,Z,oe,de,re,he){var we=this.pdf.getImageProperties(O),B=1,Ae=1,ve=1,ye=1;H!==void 0&&re!==void 0&&(ve=re/H,ye=he/Z,B=we.width/H*re/H,Ae=we.height/Z*he/Z),oe===void 0&&(oe=R,de=z,R=0,z=0),H!==void 0&&re===void 0&&(re=H,he=Z),H===void 0&&re===void 0&&(re=we.width,he=we.height);for(var te,Pe=this.ctx.transform.decompose(),Fe=G(Pe.rotate.shx),Ve=new l,rt=(Ve=(Ve=(Ve=Ve.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new o(oe-R*ve,de-z*ye,H*B,Z*Ae)),Le=v.call(this,rt),Ze=[],De=0;De<Le.length;De+=1)Ze.indexOf(Le[De])===-1&&Ze.push(Le[De]);if(b(Ze),this.autoPaging)for(var et=Ze[0],yt=Ze[Ze.length-1],ft=et;ft<yt+1;ft++){this.pdf.setPage(ft);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=ft===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=ft===1?0:Dt+(ft-2)*Et;if(this.ctx.clip_path.length!==0){var Jt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(te,this.posX+this.margin[3],-nt+It+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Jt}var zt=JSON.parse(JSON.stringify(rt));zt=w([zt],this.posX+this.margin[3],-nt+It+this.ctx.prevPageLastElemOffset)[0];var Rr=(ft>et||ft<yt)&&m.call(this);Rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Et,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Fe),Rr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,Fe)};var v=function(O,R,z){var H=[];R=R||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":H.push(Math.floor((O.y+Z)/z)+1);break;case"arc":H.push(Math.floor((O.y+Z-O.radius)/z)+1),H.push(Math.floor((O.y+Z+O.radius)/z)+1);break;case"qct":var oe=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);H.push(Math.floor((oe.y+Z)/z)+1),H.push(Math.floor((oe.y+oe.h+Z)/z)+1);break;case"bct":var de=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);H.push(Math.floor((de.y+Z)/z)+1),H.push(Math.floor((de.y+de.h+Z)/z)+1);break;case"rect":H.push(Math.floor((O.y+Z)/z)+1),H.push(Math.floor((O.y+O.h+Z)/z)+1)}for(var re=0;re<H.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<H[re];)y.call(this);return H},y=function(){var O=this.fillStyle,R=this.strokeStyle,z=this.font,H=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=R,this.font=z,this.lineCap=H,this.lineWidth=Z,this.lineJoin=oe},w=function(O,R,z){for(var H=0;H<O.length;H++)switch(O[H].type){case"bct":O[H].x2+=R,O[H].y2+=z;case"qct":O[H].x1+=R,O[H].y1+=z;case"mt":case"lt":case"arc":default:O[H].x+=R,O[H].y+=z}return O},b=function(O){return O.sort(function(R,z){return R-z})},I=function(O,R){for(var z,H,Z=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,re=this.lineWidth,he=Math.abs(re*this.ctx.transform.scaleX),we=this.lineJoin,B=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),ve=[],ye=0;ye<Ae.length;ye++)if(Ae[ye].x!==void 0)for(var te=v.call(this,Ae[ye]),Pe=0;Pe<te.length;Pe+=1)ve.indexOf(te[Pe])===-1&&ve.push(te[Pe]);for(var Fe=0;Fe<ve.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<ve[Fe];)y.call(this);if(b(ve),this.autoPaging)for(var Ve=ve[0],rt=ve[ve.length-1],Le=Ve;Le<rt+1;Le++){this.pdf.setPage(Le),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=he,this.lineJoin=we;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Le===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Le===1?0:et+(Le-2)*yt;if(this.ctx.clip_path.length!==0){var wt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-ft+De+this.ctx.prevPageLastElemOffset),C.call(this,O,!0),this.path=wt}if(H=JSON.parse(JSON.stringify(B)),this.path=w(H,this.posX+this.margin[3],-ft+De+this.ctx.prevPageLastElemOffset),R===!1||Le===0){var It=(Le>Ve||Le<rt)&&m.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,yt,null).clip().discardPath()),C.call(this,O,R),It&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=he,C.call(this,O,R),this.lineWidth=re;this.path=B},C=function(O,R){if((O!=="stroke"||R||!g.call(this))&&(O==="stroke"||R||!p.call(this))){for(var z,H,Z=[],oe=this.path,de=0;de<oe.length;de++){var re=oe[de];switch(re.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:re,deltas:[],abs:[]});break;case"lt":var he=Z.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(z=[re.x-oe[de-1].x,re.y-oe[de-1].y],he>0)){for(;he>=0;he--)if(Z[he-1].close!==!0&&Z[he-1].begin!==!0){Z[he-1].deltas.push(z),Z[he-1].abs.push(re);break}}break;case"bct":z=[re.x1-oe[de-1].x,re.y1-oe[de-1].y,re.x2-oe[de-1].x,re.y2-oe[de-1].y,re.x-oe[de-1].x,re.y-oe[de-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var we=oe[de-1].x+2/3*(re.x1-oe[de-1].x),B=oe[de-1].y+2/3*(re.y1-oe[de-1].y),Ae=re.x+2/3*(re.x1-re.x),ve=re.y+2/3*(re.y1-re.y),ye=re.x,te=re.y;z=[we-oe[de-1].x,B-oe[de-1].y,Ae-oe[de-1].x,ve-oe[de-1].y,ye-oe[de-1].x,te-oe[de-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(re)}}H=R?null:O==="stroke"?"stroke":"fill";for(var Pe=!1,Fe=0;Fe<Z.length;Fe++)if(Z[Fe].arc)for(var Ve=Z[Fe].abs,rt=0;rt<Ve.length;rt++){var Le=Ve[rt];Le.type==="arc"?S.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,R,!Pe):P.call(this,Le.x,Le.y),Pe=!0}else if(Z[Fe].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(Z[Fe].begin!==!0){var Ze=Z[Fe].start.x,De=Z[Fe].start.y;V.call(this,Z[Fe].deltas,Ze,De),Pe=!0}H&&A.call(this,H),R&&D.call(this)}},j=function(O){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-z;case"top":return O+R-z;case"hanging":return O+R-2*z;case"middle":return O+R/2-z;case"ideographic":return O;case"alphabetic":default:return O}},T=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(R,z){this.colorStops.push([R,z])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,R,z,H,Z,oe,de,re,he){for(var we=Y.call(this,z,H,Z,oe),B=0;B<we.length;B++){var Ae=we[B];B===0&&(he?E.call(this,Ae.x1+O,Ae.y1+R):P.call(this,Ae.x1+O,Ae.y1+R)),X.call(this,O,R,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}re?D.call(this):A.call(this,de)},A=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(O,R){this.pdf.internal.out(r(O)+" "+n(R)+" m")},N=function(O){var R;switch(O.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var z=this.pdf.getTextDimensions(O.text),H=j.call(this,O.y),Z=T.call(this,H)-z.h,oe=this.ctx.transform.applyToPoint(new s(O.x,H)),de=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,we,B,Ae=this.ctx.transform.applyToRectangle(new o(O.x,H,z.w,z.h)),ve=re.applyToRectangle(new o(O.x,Z,z.w,z.h)),ye=v.call(this,ve),te=[],Pe=0;Pe<ye.length;Pe+=1)te.indexOf(ye[Pe])===-1&&te.push(ye[Pe]);if(b(te),this.autoPaging)for(var Fe=te[0],Ve=te[te.length-1],rt=Fe;rt<Ve+1;rt++){this.pdf.setPage(rt);var Le=rt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],et=De-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ft=yt-this.margin[3],wt=rt===1?0:Ze+(rt-2)*et;if(this.ctx.clip_path.length!==0){var It=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*wt+Le),C.call(this,"fill",!0),this.path=It}var Dt=w([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-wt+Le+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),B=this.lineWidth,this.lineWidth=B*O.scale);var Et=this.autoPaging!=="text";if(Et||Dt.y+Dt.h<=De){if(Et||Dt.y>=Le&&Dt.x<=yt){var nt=Et?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||yt-Dt.x)[0],Jt=w([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-wt+Le+this.ctx.prevPageLastElemOffset)[0],zt=Et&&(rt>Fe||rt<Ve)&&m.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,et,null).clip().discardPath()),this.pdf.text(nt,Jt.x,Jt.y,{angle:O.angle,align:R,renderingMode:O.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else Dt.y<De&&(this.ctx.prevPageLastElemOffset+=De-Dt.y);O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=B)}else O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),B=this.lineWidth,this.lineWidth=B*O.scale),this.pdf.text(O.text,oe.x+this.posX,oe.y+this.posY,{angle:O.angle,align:R,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=B)},P=function(O,R,z,H){z=z||0,H=H||0,this.pdf.internal.out(r(O+z)+" "+n(R+H)+" l")},V=function(O,R,z){return this.pdf.lines(O,R,z,null,null)},X=function(O,R,z,H,Z,oe,de,re){this.pdf.internal.out([t(a(z+O)),t(i(H+R)),t(a(Z+O)),t(i(oe+R)),t(a(de+O)),t(i(re+R)),"c"].join(" "))},Y=function(O,R,z,H){for(var Z=2*Math.PI,oe=Math.PI/2;R>z;)R-=Z;var de=Math.abs(z-R);de<Z&&H&&(de=Z-de);for(var re=[],he=H?-1:1,we=R;de>1e-5;){var B=we+he*Math.min(de,oe);re.push(J.call(this,O,we,B)),de-=Math.abs(B-we),we=B}return re},J=function(O,R,z){var H=(z-R)/2,Z=O*Math.cos(H),oe=O*Math.sin(H),de=Z,re=-oe,he=de*de+re*re,we=he+de*Z+re*oe,B=4/3*(Math.sqrt(2*he*we)-we)/(de*oe-re*Z),Ae=de-B*re,ve=re+B*de,ye=Ae,te=-ve,Pe=H+R,Fe=Math.cos(Pe),Ve=Math.sin(Pe);return{x1:O*Math.cos(R),y1:O*Math.sin(R),x2:Ae*Fe-ve*Ve,y2:Ae*Ve+ve*Fe,x3:ye*Fe-te*Ve,y3:ye*Ve+te*Fe,x4:O*Math.cos(z),y4:O*Math.sin(z)}},G=function(O){return 180*O/Math.PI},q=function(O,R,z,H,Z,oe){var de=O+.5*(z-O),re=R+.5*(H-R),he=Z+.5*(z-Z),we=oe+.5*(H-oe),B=Math.min(O,Z,de,he),Ae=Math.max(O,Z,de,he),ve=Math.min(R,oe,re,we),ye=Math.max(R,oe,re,we);return new o(B,ve,Ae-B,ye-ve)},ee=function(O,R,z,H,Z,oe,de,re){var he,we,B,Ae,ve,ye,te,Pe,Fe,Ve,rt,Le,Ze,De,et=z-O,yt=H-R,ft=Z-z,wt=oe-H,It=de-Z,Dt=re-oe;for(we=0;we<41;we++)Fe=(te=(B=O+(he=we/40)*et)+he*((ve=z+he*ft)-B))+he*(ve+he*(Z+he*It-ve)-te),Ve=(Pe=(Ae=R+he*yt)+he*((ye=H+he*wt)-Ae))+he*(ye+he*(oe+he*Dt-ye)-Pe),we==0?(rt=Fe,Le=Ve,Ze=Fe,De=Ve):(rt=Math.min(rt,Fe),Le=Math.min(Le,Ve),Ze=Math.max(Ze,Fe),De=Math.max(De,Ve));return new o(Math.round(rt),Math.round(Le),Math.round(Ze-rt),Math.round(De-Le))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,R,z=(O=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:R}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(pr.API),function(e){var t=function(i){var s,o,l,c,u,f,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,w){for(var b=w;b>0;b--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=fE(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(pr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(pr.API),function(e){function t(){return(mr.html2canvas?Promise.resolve(mr.html2canvas):sE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(mr.DOMPurify?Promise.resolve(mr.DOMPurify):sE(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=nn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||pr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,pr.getPageSize=function(s,o,l){if(nn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(vE):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(pr.API),pr.API.addJS=function(e){return bR=e,this.internal.events.subscribe("postPutResources",function(){$x=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($x+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$x!==void 0&&xR!==void 0&&this.internal.out("/Names <</JavaScript "+$x+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(pr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(pr.API);var Jh,Bx,wR,_R,SR,g9e=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,p,g,m,v,y,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var I,C;for(C=[],I=0;I<4;++I)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,v,y,w,b,I,C,j,T,S,A,D,E,N,P,V,X,Y,J,G,q,ee=Math.ceil((c.width-f)/p),W=Math.ceil((c.height-h)/g),O=c.width==ee&&c.height==W;for(N=s*ee,D=O?o:new Uint8Array(N*W),I=i.length,E=0,v=0;E<W&&l<I;){switch(i[l++]){case 0:for(w=X=0;X<N;w=X+=1)D[v++]=i[l++];break;case 1:for(w=Y=0;Y<N;w=Y+=1)m=i[l++],b=w<s?0:D[v-s],D[v++]=(m+b)%256;break;case 2:for(w=J=0;J<N;w=J+=1)m=i[l++],y=(w-w%s)/s,P=E&&D[(E-1)*N+y*s+w%s],D[v++]=(P+m)%256;break;case 3:for(w=G=0;G<N;w=G+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:D[v-s],P=E&&D[(E-1)*N+y*s+w%s],D[v++]=(m+Math.floor((b+P)/2))%256;break;case 4:for(w=q=0;q<N;w=q+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:D[v-s],E===0?P=V=0:(P=D[(E-1)*N+y*s+w%s],V=y&&D[(E-1)*N+(y-1)*s+w%s]),C=b+P-V,j=Math.abs(C-b),S=Math.abs(C-P),A=Math.abs(C-V),T=j<=S&&j<=A?b:S<=A?P:V,D[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!O){var R=((h+E*g)*c.width+f)*s,z=E*N;for(w=0;w<ee;w+=1){for(var H=0;H<s;H+=1)o[R++]=D[z++];R+=(p-1)*s}}E++}}return i=K$e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=f[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(mr)==="[object Window]"){try{t=mr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,p;if(this.animation){for(p=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function v9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,I=e[t++],C=I>>6&1,j=1<<(7&I)+1,T=o,S=l,A=!1;I>>7&&(A=!0,T=t,S=j,t+=3*j);var D=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:w,height:b,has_local_palette:A,palette_offset:T,palette_size:S,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!C,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,P){var V=this.frameInfo(N),X=V.width*V.height,Y=new Uint8Array(X);AR(e,V.data_offset,Y,X);var J=V.palette_offset,G=V.transparent_index;G===null&&(G=256);var q=V.width,ee=r-q,W=q,O=4*(V.y*r+V.x),R=4*((V.y+V.height)*r+V.x),z=O,H=4*ee;V.interlaced===!0&&(H+=4*r*7);for(var Z=8,oe=0,de=Y.length;oe<de;++oe){var re=Y[oe];if(W===0&&(W=q,(z+=H)>=R&&(H=4*ee+4*r*(Z-1),z=O+(q+ee)*(Z<<1),Z>>=1)),re===G)z+=4;else{var he=e[J+3*re],we=e[J+3*re+1],B=e[J+3*re+2];P[z++]=B,P[z++]=we,P[z++]=he,P[z++]=255}--W}},this.decodeAndBlitFrameRGBA=function(N,P){var V=this.frameInfo(N),X=V.width*V.height,Y=new Uint8Array(X);AR(e,V.data_offset,Y,X);var J=V.palette_offset,G=V.transparent_index;G===null&&(G=256);var q=V.width,ee=r-q,W=q,O=4*(V.y*r+V.x),R=4*((V.y+V.height)*r+V.x),z=O,H=4*ee;V.interlaced===!0&&(H+=4*r*7);for(var Z=8,oe=0,de=Y.length;oe<de;++oe){var re=Y[oe];if(W===0&&(W=q,(z+=H)>=R&&(H=4*ee+4*r*(Z-1),z=O+(q+ee)*(Z<<1),Z>>=1)),re===G)z+=4;else{var he=e[J+3*re],we=e[J+3*re+1],B=e[J+3*re+2];P[z++]=he,P[z++]=we,P[z++]=B,P[z++]=255}--W}}}function AR(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,b=y;b>i;)b=g[b]>>8,++w;var I=b;if(h+w+(y!==v?1:0)>n)return void Tn.log("Warning, gif stream longer than expected.");r[h++]=I;var C=h+=w;for(y!==v&&(r[h++]=I),b=y;w--;)b=g[b],r[--C]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|I,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Tn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function CA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),b=new Array(64),I=new Array(64),C=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(O,R){for(var z=0,H=0,Z=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=O[oe];de++)Z[R[H]]=[],Z[R[H]][0]=z,Z[R[H]][1]=oe,H++,z++;z*=2}return Z}function J(O){for(var R=O[0],z=O[1]-1;z>=0;)R&1<<z&&(v|=1<<y),z--,--y<0&&(v==255?(G(255),G(0)):G(v),y=7,v=0)}function G(O){m.push(O)}function q(O){G(O>>8&255),G(255&O)}function ee(O,R,z,H,Z){for(var oe,de=Z[0],re=Z[240],he=function(Ve,rt){var Le,Ze,De,et,yt,ft,wt,It,Dt,Et,nt=0;for(Dt=0;Dt<8;++Dt){Le=Ve[nt],Ze=Ve[nt+1],De=Ve[nt+2],et=Ve[nt+3],yt=Ve[nt+4],ft=Ve[nt+5],wt=Ve[nt+6];var Jt=Le+(It=Ve[nt+7]),zt=Le-It,Rr=Ze+wt,Ne=Ze-wt,Ue=De+ft,We=De-ft,ot=et+yt,Rt=et-yt,Ee=Jt+ot,Je=Jt-ot,at=Rr+Ue,Ct=Rr-Ue;Ve[nt]=Ee+at,Ve[nt+4]=Ee-at;var At=.707106781*(Ct+Je);Ve[nt+2]=Je+At,Ve[nt+6]=Je-At;var Ht=.382683433*((Ee=Rt+We)-(Ct=Ne+zt)),ar=.5411961*Ee+Ht,Ar=1.306562965*Ct+Ht,kn=.707106781*(at=We+Ne),wa=zt+kn,Wt=zt-kn;Ve[nt+5]=Wt+ar,Ve[nt+3]=Wt-ar,Ve[nt+1]=wa+Ar,Ve[nt+7]=wa-Ar,nt+=8}for(nt=0,Dt=0;Dt<8;++Dt){Le=Ve[nt],Ze=Ve[nt+8],De=Ve[nt+16],et=Ve[nt+24],yt=Ve[nt+32],ft=Ve[nt+40],wt=Ve[nt+48];var ua=Le+(It=Ve[nt+56]),Jr=Le-It,zn=Ze+wt,Ln=Ze-wt,Cn=De+ft,ie=De-ft,_e=et+yt,me=et-yt,ge=ua+_e,be=ua-_e,Se=zn+Cn,ze=zn-Cn;Ve[nt]=ge+Se,Ve[nt+32]=ge-Se;var tt=.707106781*(ze+be);Ve[nt+16]=be+tt,Ve[nt+48]=be-tt;var qe=.382683433*((ge=me+ie)-(ze=Ln+Jr)),He=.5411961*ge+qe,Xe=1.306562965*ze+qe,_t=.707106781*(Se=ie+Ln),Lt=Jr+_t,Bt=Jr-_t;Ve[nt+40]=Bt+He,Ve[nt+24]=Bt-He,Ve[nt+8]=Lt+Xe,Ve[nt+56]=Lt-Xe,nt++}for(Dt=0;Dt<64;++Dt)Et=Ve[Dt]*rt[Dt],p[Dt]=Et>0?Et+.5|0:Et-.5|0;return p}(O,R),we=0;we<64;++we)g[T[we]]=he[we];var B=g[0]-z;z=g[0],B==0?J(H[0]):(J(H[h[oe=32767+B]]),J(f[oe]));for(var Ae=63;Ae>0&&g[Ae]==0;)Ae--;if(Ae==0)return J(de),z;for(var ve,ye=1;ye<=Ae;){for(var te=ye;g[ye]==0&&ye<=Ae;)++ye;var Pe=ye-te;if(Pe>=16){ve=Pe>>4;for(var Fe=1;Fe<=ve;++Fe)J(re);Pe&=15}oe=32767+g[ye],J(Z[(Pe<<4)+h[oe]]),J(f[oe]),ye++}return Ae!=63&&J(de),z}function W(O){O=Math.min(Math.max(O,1),100),i!=O&&(function(R){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var Z=s((z[H]*R+50)/100);Z=Math.min(Math.max(Z,1),255),o[T[H]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var re=s((oe[de]*R+50)/100);re=Math.min(Math.max(re,1),255),l[T[de]]=re}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,B=0;B<8;B++)for(var Ae=0;Ae<8;Ae++)c[we]=1/(o[T[we]]*he[B]*he[Ae]*8),u[we]=1/(l[T[we]]*he[B]*he[Ae]*8),we++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,R){R&&W(R),m=new Array,v=0,y=7,q(65496),q(65504),q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),q(1),q(1),G(0),G(0),function(){q(65499),q(132),G(0);for(var Ze=0;Ze<64;Ze++)G(o[Ze]);G(1);for(var De=0;De<64;De++)G(l[De])}(),function(Ze,De){q(65472),q(17),G(8),q(De),q(Ze),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(O.width,O.height),function(){q(65476),q(418),G(0);for(var Ze=0;Ze<16;Ze++)G(S[Ze+1]);for(var De=0;De<=11;De++)G(A[De]);G(16);for(var et=0;et<16;et++)G(D[et+1]);for(var yt=0;yt<=161;yt++)G(E[yt]);G(1);for(var ft=0;ft<16;ft++)G(N[ft+1]);for(var wt=0;wt<=11;wt++)G(P[wt]);G(17);for(var It=0;It<16;It++)G(V[It+1]);for(var Dt=0;Dt<=161;Dt++)G(X[Dt])}(),q(65498),q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var z=0,H=0,Z=0;v=0,y=7,this.encode.displayName="_encode_";for(var oe,de,re,he,we,B,Ae,ve,ye,te=O.data,Pe=O.width,Fe=O.height,Ve=4*Pe,rt=0;rt<Fe;){for(oe=0;oe<Ve;){for(we=Ve*rt+oe,Ae=-1,ve=0,ye=0;ye<64;ye++)B=we+(ve=ye>>3)*Ve+(Ae=4*(7&ye)),rt+ve>=Fe&&(B-=Ve*(rt+1+ve-Fe)),oe+Ae>=Ve&&(B-=oe+Ae-Ve+4),de=te[B++],re=te[B++],he=te[B++],w[ye]=(j[de]+j[re+256>>0]+j[he+512>>0]>>16)-128,b[ye]=(j[de+768>>0]+j[re+1024>>0]+j[he+1280>>0]>>16)-128,I[ye]=(j[de+1280>>0]+j[re+1536>>0]+j[he+1792>>0]>>16)-128;z=ee(w,c,z,t,n),H=ee(b,u,H,r,a),Z=ee(I,u,Z,r,a),oe+=32}rt+=8}if(y>=0){var Le=[];Le[1]=y+1,Le[0]=(1<<y+1)-1,J(Le)}return q(65497),new Uint8Array(m)},e=e||50,function(){for(var O=String.fromCharCode,R=0;R<256;R++)C[R]=O(R)}(),t=Y(S,A),r=Y(N,P),n=Y(D,E),a=Y(V,X),function(){for(var O=1,R=2,z=1;z<=15;z++){for(var H=O;H<R;H++)h[32767+H]=z,f[32767+H]=[],f[32767+H][1]=z,f[32767+H][0]=H;for(var Z=-(R-1);Z<=-O;Z++)h[32767+Z]=z,f[32767+Z]=[],f[32767+Z][1]=z,f[32767+Z][0]=R-1+Z;O<<=1,R<<=1}}(),function(){for(var O=0;O<256;O++)j[O]=19595*O,j[O+256>>0]=38470*O,j[O+512>>0]=7471*O+32768,j[O+768>>0]=-11059*O,j[O+1024>>0]=-21709*O,j[O+1280>>0]=32768*O+8421375,j[O+1536>>0]=-27439*O,j[O+1792>>0]=-5329*O}(),W(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TR(e){function t(S){if(!S)throw Error("assert :P")}function r(S,A,D){for(var E=0;4>E;E++)if(S[A+E]!=D.charCodeAt(E))return!0;return!1}function n(S,A,D,E,N){for(var P=0;P<N;P++)S[A+P]=D[E+P]}function a(S,A,D,E){for(var N=0;N<E;N++)S[A+N]=D}function i(S){return new Int32Array(S)}function s(S,A){for(var D=[],E=0;E<S;E++)D.push(new A);return D}function o(S,A){var D=[];return function E(N,P,V){for(var X=V[P],Y=0;Y<X&&(N.push(V.length>P+1?[]:new A),!(V.length<P+1));Y++)E(N[Y],P+1,V)}(D,0,S),D}var l=function(){var S=this;function A(x,k){for(var M=1<<k-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function D(x,k,M,K,ae){t(!(K%M));do x[k+(K-=M)]=ae;while(0<K)}function E(x,k,M,K,ae){if(t(2328>=ae),512>=ae)var se=i(512);else if((se=i(ae))==null)return 0;return function(le,fe,pe,xe,Oe,Ke){var Ye,Be,xt=fe,it=1<<pe,Ie=i(16),Me=i(16);for(t(Oe!=0),t(xe!=null),t(le!=null),t(0<pe),Be=0;Be<Oe;++Be){if(15<xe[Be])return 0;++Ie[xe[Be]]}if(Ie[0]==Oe)return 0;for(Me[1]=0,Ye=1;15>Ye;++Ye){if(Ie[Ye]>1<<Ye)return 0;Me[Ye+1]=Me[Ye]+Ie[Ye]}for(Be=0;Be<Oe;++Be)Ye=xe[Be],0<xe[Be]&&(Ke[Me[Ye]++]=Be);if(Me[15]==1)return(xe=new N).g=0,xe.value=Ke[0],D(le,xt,1,it,xe),it;var pt,St=-1,vt=it-1,Yt=0,Ut=1,fr=1,qt=1<<pe;for(Be=0,Ye=1,Oe=2;Ye<=pe;++Ye,Oe<<=1){if(Ut+=fr<<=1,0>(fr-=Ie[Ye]))return 0;for(;0<Ie[Ye];--Ie[Ye])(xe=new N).g=Ye,xe.value=Ke[Be++],D(le,xt+Yt,Oe,qt,xe),Yt=A(Yt,Ye)}for(Ye=pe+1,Oe=2;15>=Ye;++Ye,Oe<<=1){if(Ut+=fr<<=1,0>(fr-=Ie[Ye]))return 0;for(;0<Ie[Ye];--Ie[Ye]){if(xe=new N,(Yt&vt)!=St){for(xt+=qt,pt=1<<(St=Ye)-pe;15>St&&!(0>=(pt-=Ie[St]));)++St,pt<<=1;it+=qt=1<<(pt=St-pe),le[fe+(St=Yt&vt)].g=pt+pe,le[fe+St].value=xt-fe-St}xe.g=Ye-pe,xe.value=Ke[Be++],D(le,xt+(Yt>>pe),Oe,qt,xe),Yt=A(Yt,Ye)}}return Ut!=2*Me[15]-1?0:it}(x,k,M,K,ae,se)}function N(){this.value=this.g=0}function P(){this.value=this.g=0}function V(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(si,P)}function X(x,k,M,K){t(x!=null),t(k!=null),t(2147483648>K),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=M,x.Jd=k,x.Yc=M+K,x.Zc=4<=K?M+K-4+1:M,oe(x)}function Y(x,k){for(var M=0;0<k--;)M|=re(x,128)<<k;return M}function J(x,k){var M=Y(x,k);return de(x)?-M:M}function G(x,k,M,K){var ae,se=0;for(t(x!=null),t(k!=null),t(4294967288>K),x.Sb=K,x.Ra=0,x.u=0,x.h=0,4<K&&(K=4),ae=0;ae<K;++ae)se+=k[M+ae]<<8*ae;x.Ra=se,x.bb=K,x.oa=k,x.pa=M}function q(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Dh-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function ee(x,k){if(t(0<=k),!x.h&&k<=jh){var M=R(x)&Ih[k];return x.u+=k,q(x),M}return x.h=1,x.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Dh-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Dh}function H(x,k){x.u=k,x.h=z(x)}function Z(x){x.u>=ym&&(t(x.u>=ym),q(x))}function oe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function de(x){return Y(x,1)}function re(x,k){var M=x.Ca;0>x.b&&oe(x);var K=x.b,ae=M*k>>>8,se=(x.I>>>K>ae)+0;for(se?(M-=ae,x.I-=ae+1<<K>>>0):M=ae+1,K=M,ae=0;256<=K;)ae+=8,K>>=8;return K=7^ae+gs[K],x.b-=K,x.Ca=(M<<K)-1,se}function he(x,k,M){x[k+0]=M>>24&255,x[k+1]=M>>16&255,x[k+2]=M>>8&255,x[k+3]=M>>0&255}function we(x,k){return x[k+0]<<0|x[k+1]<<8}function B(x,k){return we(x,k)|x[k+2]<<16}function Ae(x,k){return we(x,k)|we(x,k+2)<<16}function ve(x,k){var M=1<<k;return t(x!=null),t(0<k),x.X=i(M),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function ye(x,k){t(x!=null),t(k!=null),t(x.Xa==k.Xa),n(k.X,0,x.X,0,1<<k.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Pe(x,k,M,K){t(M!=null),t(K!=null);var ae=M[0],se=K[0];return ae==0&&(ae=(x*se+k/2)/k),se==0&&(se=(k*ae+x/2)/x),0>=ae||0>=se?0:(M[0]=ae,K[0]=se,1)}function Fe(x,k){return x+(1<<k)-1>>>k}function Ve(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function rt(x,k){S[k]=function(M,K,ae,se,le,fe,pe){var xe;for(xe=0;xe<le;++xe){var Oe=S[x](fe[pe+xe-1],ae,se+xe);fe[pe+xe]=Ve(M[K+xe],Oe)}}}function Le(){this.ud=this.hd=this.jd=0}function Ze(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function De(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function et(x,k){return De(x+(x-k+.5>>1))}function yt(x,k,M){return Math.abs(k-M)-Math.abs(x-M)}function ft(x,k,M,K,ae,se,le){for(K=se[le-1],M=0;M<ae;++M)se[le+M]=K=Ve(x[k+M],K)}function wt(x,k,M,K,ae){var se;for(se=0;se<M;++se){var le=x[k+se],fe=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((fe<<16)+fe));K[ae+se]=(4278255360&le)+pe>>>0}}function It(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function Dt(x,k,M,K,ae,se){var le;for(le=0;le<K;++le){var fe=k[M+le],pe=fe>>>8,xe=fe,Oe=255&(Oe=(Oe=fe>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));xe=255&(xe=(xe=xe+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(Oe<<24>>24)>>>5)),ae[se+le]=(4278255360&fe)+(Oe<<16)+xe}}function Et(x,k,M,K,ae){S[k]=function(se,le,fe,pe,xe,Oe,Ke,Ye,Be){for(pe=Ke;pe<Ye;++pe)for(Ke=0;Ke<Be;++Ke)xe[Oe++]=ae(fe[K(se[le++])])},S[x]=function(se,le,fe,pe,xe,Oe,Ke){var Ye=8>>se.b,Be=se.Ea,xt=se.K[0],it=se.w;if(8>Ye)for(se=(1<<se.b)-1,it=(1<<Ye)-1;le<fe;++le){var Ie,Me=0;for(Ie=0;Ie<Be;++Ie)Ie&se||(Me=K(pe[xe++])),Oe[Ke++]=ae(xt[Me&it]),Me>>=Ye}else S["VP8LMapColor"+M](pe,xe,xt,it,Oe,Ke,le,fe,Be)}}function nt(x,k,M,K,ae){for(M=k+M;k<M;){var se=x[k++];K[ae++]=se>>16&255,K[ae++]=se>>8&255,K[ae++]=se>>0&255}}function Jt(x,k,M,K,ae){for(M=k+M;k<M;){var se=x[k++];K[ae++]=se>>16&255,K[ae++]=se>>8&255,K[ae++]=se>>0&255,K[ae++]=se>>24&255}}function zt(x,k,M,K,ae){for(M=k+M;k<M;){var se=(le=x[k++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;K[ae++]=se,K[ae++]=le}}function Rr(x,k,M,K,ae){for(M=k+M;k<M;){var se=(le=x[k++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;K[ae++]=se,K[ae++]=le}}function Ne(x,k,M,K,ae){for(M=k+M;k<M;){var se=x[k++];K[ae++]=se>>0&255,K[ae++]=se>>8&255,K[ae++]=se>>16&255}}function Ue(x,k,M,K,ae,se){if(se==0)for(M=k+M;k<M;)he(K,((se=x[k++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ae+=32;else n(K,ae,x,k,M)}function We(x,k){S[k][0]=S[x+"0"],S[k][1]=S[x+"1"],S[k][2]=S[x+"2"],S[k][3]=S[x+"3"],S[k][4]=S[x+"4"],S[k][5]=S[x+"5"],S[k][6]=S[x+"6"],S[k][7]=S[x+"7"],S[k][8]=S[x+"8"],S[k][9]=S[x+"9"],S[k][10]=S[x+"10"],S[k][11]=S[x+"11"],S[k][12]=S[x+"12"],S[k][13]=S[x+"13"],S[k][14]=S[x+"0"],S[k][15]=S[x+"0"]}function ot(x){return x==x_||x==b_||x==Ay||x==w_}function Rt(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Je(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rt,this.f.kb=new Ee,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Ht(x,k){var M=x.T,K=k.ba.f.RGBA,ae=K.eb,se=K.fb+x.ka*K.A,le=co[k.ba.S],fe=x.y,pe=x.O,xe=x.f,Oe=x.N,Ke=x.ea,Ye=x.W,Be=k.cc,xt=k.dc,it=k.Mc,Ie=k.Nc,Me=x.ka,pt=x.ka+x.T,St=x.U,vt=St+1>>1;for(Me==0?le(fe,pe,null,null,xe,Oe,Ke,Ye,xe,Oe,Ke,Ye,ae,se,null,null,St):(le(k.ec,k.fc,fe,pe,Be,xt,it,Ie,xe,Oe,Ke,Ye,ae,se-K.A,ae,se,St),++M);Me+2<pt;Me+=2)Be=xe,xt=Oe,it=Ke,Ie=Ye,Oe+=x.Rc,Ye+=x.Rc,se+=2*K.A,le(fe,(pe+=2*x.fa)-x.fa,fe,pe,Be,xt,it,Ie,xe,Oe,Ke,Ye,ae,se-K.A,ae,se,St);return pe+=x.fa,x.j+pt<x.o?(n(k.ec,k.fc,fe,pe,St),n(k.cc,k.dc,xe,Oe,vt),n(k.Mc,k.Nc,Ke,Ye,vt),M--):1&pt||le(fe,pe,null,null,xe,Oe,Ke,Ye,xe,Oe,Ke,Ye,ae,se+K.A,null,null,St),M}function ar(x,k,M){var K=x.F,ae=[x.J];if(K!=null){var se=x.U,le=k.ba.S,fe=le==Sy||le==Ay;k=k.ba.f.RGBA;var pe=[0],xe=x.ka;pe[0]=x.T,x.Kb&&(xe==0?--pe[0]:(--xe,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-xe));var Oe=k.eb;xe=k.fb+xe*k.A,x=On(K,ae[0],x.width,se,pe,Oe,xe+(fe?0:3),k.A),t(M==pe),x&&ot(le)&&oo(Oe,xe,fe,se,pe,k.A)}return 0}function Ar(x){var k=x.ma,M=k.ba.S,K=11>M,ae=M==wy||M==_y||M==Sy||M==y_||M==12||ot(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!gm(k.Oa,x,ae?11:12))return 0;if(ae&&ot(M)&&Tt(),x.da)alert("todo:use_scaling");else{if(K){if(k.Ib=At,x.Kb){if(M=x.U+1>>1,k.memory=i(x.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=Ht,Tt()}}else alert("todo:EmitYUV");ae&&(k.Jb=ar,K&&$e())}if(K&&!FP){for(x=0;256>x;++x)pY[x]=89858*(x-128)+Ey>>Ty,vY[x]=-22014*(x-128)+Ey,gY[x]=-45773*(x-128),mY[x]=113618*(x-128)+Ey>>Ty;for(x=Tm;x<A_;++x)k=76283*(x-16)+Ey>>Ty,yY[x-Tm]=cn(k,255),xY[x-Tm]=cn(k+8>>4,15);FP=1}return 1}function kn(x){var k=x.ma,M=x.U,K=x.T;return t(!(1&x.ka)),0>=M||0>=K?0:(M=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,M),k.Dc+=M,1)}function wa(x){x.ma.memory=null}function Wt(x,k,M,K){return ee(x,8)!=47?0:(k[0]=ee(x,14)+1,M[0]=ee(x,14)+1,K[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function ua(x,k){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(k,M)+1}function Jr(x,k){return 120<k?k-120:1<=(M=((M=eY[k-1])>>4)*x+(8-(15&M)))?M:1;var M}function zn(x,k,M){var K=R(M),ae=x[k+=255&K].g-8;return 0<ae&&(H(M,M.u+8),K=R(M),k+=x[k].value,k+=K&(1<<ae)-1),H(M,M.u+x[k].g),x[k].value}function Ln(x,k,M){return M.g+=x.g,M.value+=x.value<<k>>>0,t(8>=M.g),x.g}function Cn(x,k,M){var K=x.xc;return t((k=K==0?0:x.vc[x.md*(M>>K)+(k>>K)])<x.Wb),x.Ya[k]}function ie(x,k,M,K){var ae=x.ab,se=x.c*k,le=x.C;k=le+k;var fe=M,pe=K;for(K=x.Ta,M=x.Ua;0<ae--;){var xe=x.gc[ae],Oe=le,Ke=k,Ye=fe,Be=pe,xt=(pe=K,fe=M,xe.Ea);switch(t(Oe<Ke),t(Ke<=xe.nc),xe.hc){case 2:py(Ye,Be,(Ke-Oe)*xt,pe,fe);break;case 0:var it=Oe,Ie=Ke,Me=pe,pt=fe,St=(qt=xe).Ea;it==0&&(g_(Ye,Be,null,null,1,Me,pt),ft(Ye,Be+1,0,0,St-1,Me,pt+1),Be+=St,pt+=St,++it);for(var vt=1<<qt.b,Yt=vt-1,Ut=Fe(St,qt.b),fr=qt.K,qt=qt.w+(it>>qt.b)*Ut;it<Ie;){var rn=fr,hn=qt,Yr=1;for(xm(Ye,Be,Me,pt-St,1,Me,pt);Yr<St;){var $r=(Yr&~Yt)+vt;$r>St&&($r=St),(0,Tu[rn[hn++]>>8&15])(Ye,Be+ +Yr,Me,pt+Yr-St,$r-Yr,Me,pt+Yr),Yr=$r}Be+=St,pt+=St,++it&Yt||(qt+=Ut)}Ke!=xe.nc&&n(pe,fe-xt,pe,fe+(Ke-Oe-1)*xt,xt);break;case 1:for(xt=Ye,Ie=Be,St=(Ye=xe.Ea)-(pt=Ye&~(Me=(Be=1<<xe.b)-1)),it=Fe(Ye,xe.b),vt=xe.K,xe=xe.w+(Oe>>xe.b)*it;Oe<Ke;){for(Yt=vt,Ut=xe,fr=new Le,qt=Ie+pt,rn=Ie+Ye;Ie<qt;)It(Yt[Ut++],fr),od(fr,xt,Ie,Be,pe,fe),Ie+=Be,fe+=Be;Ie<rn&&(It(Yt[Ut++],fr),od(fr,xt,Ie,St,pe,fe),Ie+=St,fe+=St),++Oe&Me||(xe+=it)}break;case 3:if(Ye==pe&&Be==fe&&0<xe.b){for(Ie=pe,Ye=xt=fe+(Ke-Oe)*xt-(pt=(Ke-Oe)*Fe(xe.Ea,xe.b)),Be=pe,Me=fe,it=[],pt=(St=pt)-1;0<=pt;--pt)it[pt]=Be[Me+pt];for(pt=St-1;0<=pt;--pt)Ie[Ye+pt]=it[pt];ao(xe,Oe,Ke,pe,xt,pe,fe)}else ao(xe,Oe,Ke,Ye,Be,pe,fe)}fe=K,pe=M}pe!=M&&n(K,M,fe,pe,se)}function _e(x,k){var M=x.V,K=x.Ba+x.c*x.C,ae=k-x.C;if(t(k<=x.l.o),t(16>=ae),0<ae){var se=x.l,le=x.Ta,fe=x.Ua,pe=se.width;if(ie(x,ae,M,K),ae=fe=[fe],t((M=x.C)<(K=k)),t(se.v<se.va),K>se.o&&(K=se.o),M<se.j){var xe=se.j-M;M=se.j,ae[0]+=xe*pe}if(M>=K?M=0:(ae[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=K-M,M=1),M){if(fe=fe[0],11>(M=x.ca).S){var Oe=M.f.RGBA,Ke=(K=M.S,ae=se.U,se=se.T,xe=Oe.eb,Oe.A),Ye=se;for(Oe=Oe.fb+x.Ma*Oe.A;0<Ye--;){var Be=le,xt=fe,it=ae,Ie=xe,Me=Oe;switch(K){case by:vs(Be,xt,it,Ie,Me);break;case wy:Xi(Be,xt,it,Ie,Me);break;case x_:Xi(Be,xt,it,Ie,Me),oo(Ie,Me,0,it,1,0);break;case kP:pc(Be,xt,it,Ie,Me);break;case _y:Ue(Be,xt,it,Ie,Me,1);break;case b_:Ue(Be,xt,it,Ie,Me,1),oo(Ie,Me,0,it,1,0);break;case Sy:Ue(Be,xt,it,Ie,Me,0);break;case Ay:Ue(Be,xt,it,Ie,Me,0),oo(Ie,Me,1,it,1,0);break;case y_:Eu(Be,xt,it,Ie,Me);break;case w_:Eu(Be,xt,it,Ie,Me),Pn(Ie,Me,it,1,0);break;case CP:hc(Be,xt,it,Ie,Me);break;default:t(0)}fe+=pe,Oe+=Ke}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=k,t(x.C<=x.i)}function me(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var M=x.Ya[k].G,K=x.Ya[k].H;if(0<M[1][K[1]+0].g||0<M[2][K[2]+0].g||0<M[3][K[3]+0].g)return 0}return 1}function ge(x,k,M,K,ae,se){if(x.Z!=0){var le=x.qd,fe=x.rd;for(t(Pu[x.Z]!=null);k<M;++k)Pu[x.Z](le,fe,K,ae,K,ae,se),le=K,fe=ae,ae+=se;x.qd=le,x.rd=fe}}function be(x,k){var M=x.l.ma,K=M.Z==0||M.Z==1?x.l.j:x.C;if(K=x.C<K?K:x.C,t(k<=x.l.o),k>K){var ae=x.l.width,se=M.ca,le=M.tb+ae*K,fe=x.V,pe=x.Ba+x.c*K,xe=x.gc;t(x.ab==1),t(xe[0].hc==3),my(xe[0],K,k,fe,pe,se,le),ge(M,K,k,se,le,ae)}x.C=x.Ma=k}function Se(x,k,M,K,ae,se,le){var fe=x.$/K,pe=x.$%K,xe=x.m,Oe=x.s,Ke=M+x.$,Ye=Ke;ae=M+K*ae;var Be=M+K*se,xt=280+Oe.ua,it=x.Pb?fe:16777216,Ie=0<Oe.ua?Oe.Wa:null,Me=Oe.wc,pt=Ke<Be?Cn(Oe,pe,fe):null;t(x.C<se),t(Be<=ae);var St=!1;e:for(;;){for(;St||Ke<Be;){var vt=0;if(fe>=it){var Yt=Ke-M;t((it=x).Pb),it.wd=it.m,it.xd=Yt,0<it.s.ua&&ye(it.s.Wa,it.s.vb),it=fe+rY}if(pe&Me||(pt=Cn(Oe,pe,fe)),t(pt!=null),pt.Qb&&(k[Ke]=pt.qb,St=!0),!St)if(Z(xe),pt.jc){vt=xe,Yt=k;var Ut=Ke,fr=pt.pd[R(vt)&si-1];t(pt.jc),256>fr.g?(H(vt,vt.u+fr.g),Yt[Ut]=fr.value,vt=0):(H(vt,vt.u+fr.g-256),t(256<=fr.value),vt=fr.value),vt==0&&(St=!0)}else vt=zn(pt.G[0],pt.H[0],xe);if(xe.h)break;if(St||256>vt){if(!St)if(pt.nd)k[Ke]=(pt.qb|vt<<8)>>>0;else{if(Z(xe),St=zn(pt.G[1],pt.H[1],xe),Z(xe),Yt=zn(pt.G[2],pt.H[2],xe),Ut=zn(pt.G[3],pt.H[3],xe),xe.h)break;k[Ke]=(Ut<<24|St<<16|vt<<8|Yt)>>>0}if(St=!1,++Ke,++pe>=K&&(pe=0,++fe,le!=null&&fe<=se&&!(fe%16)&&le(x,fe),Ie!=null))for(;Ye<Ke;)vt=k[Ye++],Ie.X[(506832829*vt&4294967295)>>>Ie.Mb]=vt}else if(280>vt){if(vt=ua(vt-256,xe),Yt=zn(pt.G[4],pt.H[4],xe),Z(xe),Yt=Jr(K,Yt=ua(Yt,xe)),xe.h)break;if(Ke-M<Yt||ae-Ke<vt)break e;for(Ut=0;Ut<vt;++Ut)k[Ke+Ut]=k[Ke+Ut-Yt];for(Ke+=vt,pe+=vt;pe>=K;)pe-=K,++fe,le!=null&&fe<=se&&!(fe%16)&&le(x,fe);if(t(Ke<=ae),pe&Me&&(pt=Cn(Oe,pe,fe)),Ie!=null)for(;Ye<Ke;)vt=k[Ye++],Ie.X[(506832829*vt&4294967295)>>>Ie.Mb]=vt}else{if(!(vt<xt))break e;for(St=vt-280,t(Ie!=null);Ye<Ke;)vt=k[Ye++],Ie.X[(506832829*vt&4294967295)>>>Ie.Mb]=vt;vt=Ke,t(!(St>>>(Yt=Ie).Xa)),k[vt]=Yt.X[St],St=!0}St||t(xe.h==z(xe))}if(x.Pb&&xe.h&&Ke<ae)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ye(x.s.vb,x.s.Wa);else{if(xe.h)break e;le!=null&&le(x,fe>se?se:fe),x.a=0,x.$=Ke-M}return 1}return x.a=3,0}function ze(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,t(x!=null)}function tt(){var x=new Ph;return x==null?null:(x.a=0,x.xb=IP,We("Predictor","VP8LPredictors"),We("Predictor","VP8LPredictors_C"),We("PredictorAdd","VP8LPredictorsAdd"),We("PredictorAdd","VP8LPredictorsAdd_C"),py=wt,od=Dt,vs=nt,Xi=Jt,Eu=zt,hc=Rr,pc=Ne,S.VP8LMapColor32b=Lh,S.VP8LMapColor8b=gy,x)}function qe(x,k,M,K,ae){var se=1,le=[x],fe=[k],pe=K.m,xe=K.s,Oe=null,Ke=0;e:for(;;){if(M)for(;se&&ee(pe,1);){var Ye=le,Be=fe,xt=K,it=1,Ie=xt.m,Me=xt.gc[xt.ab],pt=ee(Ie,2);if(xt.Oc&1<<pt)se=0;else{switch(xt.Oc|=1<<pt,Me.hc=pt,Me.Ea=Ye[0],Me.nc=Be[0],Me.K=[null],++xt.ab,t(4>=xt.ab),pt){case 0:case 1:Me.b=ee(Ie,3)+2,it=qe(Fe(Me.Ea,Me.b),Fe(Me.nc,Me.b),0,xt,Me.K),Me.K=Me.K[0];break;case 3:var St,vt=ee(Ie,8)+1,Yt=16<vt?0:4<vt?1:2<vt?2:3;if(Ye[0]=Fe(Me.Ea,Yt),Me.b=Yt,St=it=qe(vt,1,0,xt,Me.K)){var Ut,fr=vt,qt=Me,rn=1<<(8>>qt.b),hn=i(rn);if(hn==null)St=0;else{var Yr=qt.K[0],$r=qt.w;for(hn[0]=qt.K[0][0],Ut=1;Ut<1*fr;++Ut)hn[Ut]=Ve(Yr[$r+Ut],hn[Ut-1]);for(;Ut<4*rn;++Ut)hn[Ut]=0;qt.K[0]=null,qt.K[0]=hn,St=1}}it=St;break;case 2:break;default:t(0)}se=it}}if(le=le[0],fe=fe[0],se&&ee(pe,1)&&!(se=1<=(Ke=ee(pe,4))&&11>=Ke)){K.a=3;break e}var An;if(An=se)t:{var xn,Cr,Sa,ys=K,Aa=le,xs=fe,pn=Ke,Rs=M,Fs=ys.m,Ha=ys.s,oi=[null],Ji=1,uo=0,Il=tY[pn];r:for(;;){if(Rs&&ee(Fs,1)){var Ga=ee(Fs,3)+2,yc=Fe(Aa,Ga),dd=Fe(xs,Ga),Bh=yc*dd;if(!qe(yc,dd,0,ys,oi))break r;for(oi=oi[0],Ha.xc=Ga,xn=0;xn<Bh;++xn){var Ou=oi[xn]>>8&65535;oi[xn]=Ou,Ou>=Ji&&(Ji=Ou+1)}}if(Fs.h)break r;for(Cr=0;5>Cr;++Cr){var ra=PP[Cr];!Cr&&0<pn&&(ra+=1<<pn),uo<ra&&(uo=ra)}var T_=s(Ji*Il,N),UP=Ji,VP=s(UP,V);if(VP==null)var ky=null;else t(65536>=UP),ky=VP;var Em=i(uo);if(ky==null||Em==null||T_==null){ys.a=1;break r}var Cy=T_;for(xn=Sa=0;xn<Ji;++xn){var Go=ky[xn],Uh=Go.G,Vh=Go.H,zP=0,Py=1,qP=0;for(Cr=0;5>Cr;++Cr){ra=PP[Cr],Uh[Cr]=Cy,Vh[Cr]=Sa,!Cr&&0<pn&&(ra+=1<<pn);a:{var Oy,E_=ra,Iy=ys,Nm=Em,_Y=Cy,SY=Sa,N_=0,Iu=Iy.m,AY=ee(Iu,1);if(a(Nm,0,0,E_),AY){var TY=ee(Iu,1)+1,EY=ee(Iu,1),WP=ee(Iu,EY==0?1:8);Nm[WP]=1,TY==2&&(Nm[WP=ee(Iu,8)]=1);var jy=1}else{var HP=i(19),GP=ee(Iu,4)+4;if(19<GP){Iy.a=3;var Dy=0;break a}for(Oy=0;Oy<GP;++Oy)HP[ZK[Oy]]=ee(Iu,3);var k_=void 0,km=void 0,KP=Iy,NY=HP,Ly=E_,YP=Nm,C_=0,ju=KP.m,XP=8,QP=s(128,N);n:for(;E(QP,0,7,NY,19);){if(ee(ju,1)){var kY=2+2*ee(ju,3);if((k_=2+ee(ju,kY))>Ly)break n}else k_=Ly;for(km=0;km<Ly&&k_--;){Z(ju);var JP=QP[0+(127&R(ju))];H(ju,ju.u+JP.g);var zh=JP.value;if(16>zh)YP[km++]=zh,zh!=0&&(XP=zh);else{var CY=zh==16,ZP=zh-16,PY=QK[ZP],e6=ee(ju,XK[ZP])+PY;if(km+e6>Ly)break n;for(var OY=CY?XP:0;0<e6--;)YP[km++]=OY}}C_=1;break n}C_||(KP.a=3),jy=C_}(jy=jy&&!Iu.h)&&(N_=E(_Y,SY,8,Nm,E_)),jy&&N_!=0?Dy=N_:(Iy.a=3,Dy=0)}if(Dy==0)break r;if(Py&&JK[Cr]==1&&(Py=Cy[Sa].g==0),zP+=Cy[Sa].g,Sa+=Dy,3>=Cr){var Cm,P_=Em[0];for(Cm=1;Cm<ra;++Cm)Em[Cm]>P_&&(P_=Em[Cm]);qP+=P_}}if(Go.nd=Py,Go.Qb=0,Py&&(Go.qb=(Uh[3][Vh[3]+0].value<<24|Uh[1][Vh[1]+0].value<<16|Uh[2][Vh[2]+0].value)>>>0,zP==0&&256>Uh[0][Vh[0]+0].value&&(Go.Qb=1,Go.qb+=Uh[0][Vh[0]+0].value<<8)),Go.jc=!Go.Qb&&6>qP,Go.jc){var My,xc=Go;for(My=0;My<si;++My){var Du=My,Lu=xc.pd[Du],Ry=xc.G[0][xc.H[0]+Du];256<=Ry.value?(Lu.g=Ry.g+256,Lu.value=Ry.value):(Lu.g=0,Lu.value=0,Du>>=Ln(Ry,8,Lu),Du>>=Ln(xc.G[1][xc.H[1]+Du],16,Lu),Du>>=Ln(xc.G[2][xc.H[2]+Du],0,Lu),Ln(xc.G[3][xc.H[3]+Du],24,Lu))}}}Ha.vc=oi,Ha.Wb=Ji,Ha.Ya=ky,Ha.yc=T_,An=1;break t}An=0}if(!(se=An)){K.a=3;break e}if(0<Ke){if(xe.ua=1<<Ke,!ve(xe.Wa,Ke)){K.a=1,se=0;break e}}else xe.ua=0;var O_=K,t6=le,IY=fe,I_=O_.s,j_=I_.xc;if(O_.c=t6,O_.i=IY,I_.md=Fe(t6,j_),I_.wc=j_==0?-1:(1<<j_)-1,M){K.xb=cY;break e}if((Oe=i(le*fe))==null){K.a=1,se=0;break e}se=(se=Se(K,Oe,0,le,fe,fe,null))&&!pe.h;break e}return se?(ae!=null?ae[0]=Oe:(t(Oe==null),t(M)),K.$=0,M||ze(xe)):ze(xe),se}function He(x,k){var M=x.c*x.i,K=M+k+16*k;return t(x.c<=k),x.V=i(K),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+k,1)}function Xe(x,k){var M=x.C,K=k-M,ae=x.V,se=x.Ba+x.c*M;for(t(k<=x.l.o);0<K;){var le=16<K?16:K,fe=x.l.ma,pe=x.l.width,xe=pe*le,Oe=fe.ca,Ke=fe.tb+pe*M,Ye=x.Ta,Be=x.Ua;ie(x,le,ae,se),da(Ye,Be,Oe,Ke,xe),ge(fe,M,M+le,Oe,Ke,pe),K-=le,ae+=le*x.c,M+=le}t(M==k),x.C=x.Ma=k}function _t(){this.ub=this.yd=this.td=this.Rb=0}function Lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=function(){var x=[];return function k(M,K,ae){for(var se=ae[K],le=0;le<se&&(M.push(ae.length>K+1?[]:0),!(ae.length<K+1));le++)k(M[le],K+1,ae)}(x,0,[3,11]),x}()}function Mt(){this.jb=i(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ce(){this.ld=this.La=this.dd=this.tc=0}function ke(){this.Na=this.la=0}function lt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ht(){this.uc=this.M=this.Nb=0,this.wa=Array(new ce),this.Y=0,this.ya=Array(new Gt),this.aa=0,this.l=new Ft}function dt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ot(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new _t,this.Kc=new Lt,this.ed=new ur,this.Qa=new Bt,this.Ic=this.$c=this.Aa=0,this.D=new ht,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,W),this.ia=0,this.pb=s(4,lt),this.Pa=new Mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dt),this.Hd=0,this.rb=Array(new ke),this.sb=0,this.wa=Array(new ce),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gt),this.L=this.aa=0,this.gd=o([4,2],ce),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ft(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xt(){var x=new Ot;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Am||(Am=Wa)),x}function ir(x,k,M){return x.a==0&&(x.a=k,x.sc=M,x.cb=0),0}function Ir(x,k,M){return 3<=M&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function Yn(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return ir(x,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,K=k.w,ae=k.ha;if(4>ae)return ir(x,7,"Truncated header.");var se=M[K+0]|M[K+1]<<8|M[K+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return ir(x,3,"Incorrect keyframe parameters.");if(!le.yd)return ir(x,4,"Frame not displayable.");K+=3,ae-=3;var fe=x.Kc;if(le.Rb){if(7>ae)return ir(x,7,"cannot parse picture header");if(!Ir(M,K,ae))return ir(x,3,"Bad code word");fe.c=16383&(M[K+4]<<8|M[K+3]),fe.Td=M[K+4]>>6,fe.i=16383&(M[K+6]<<8|M[K+5]),fe.Ud=M[K+6]>>6,K+=7,ae-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,k.width=fe.c,k.height=fe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>ae)return ir(x,7,"bad partition length");X(se=x.m,M,K,le.ub),K+=le.ub,ae-=le.ub,le.Rb&&(fe.Ld=de(se),fe.Kd=de(se)),fe=x.Qa;var pe,xe=x.Pa;if(t(se!=null),t(fe!=null),fe.Cb=de(se),fe.Cb){if(fe.Bb=de(se),de(se)){for(fe.Fb=de(se),pe=0;4>pe;++pe)fe.Zb[pe]=de(se)?J(se,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=de(se)?J(se,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)xe.jb[pe]=de(se)?Y(se,8):255}else fe.Bb=0;if(se.Ka)return ir(x,3,"cannot parse segment header");if((fe=x.ed).zd=de(se),fe.Tb=Y(se,6),fe.wb=Y(se,3),fe.Pc=de(se),fe.Pc&&de(se)){for(xe=0;4>xe;++xe)de(se)&&(fe.vd[xe]=J(se,6));for(xe=0;4>xe;++xe)de(se)&&(fe.od[xe]=J(se,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,se.Ka)return ir(x,3,"cannot parse filter header");var Oe=ae;if(ae=pe=K,K=pe+Oe,fe=Oe,x.Xb=(1<<Y(x.m,2))-1,Oe<3*(xe=x.Xb))M=7;else{for(pe+=3*xe,fe-=3*xe,Oe=0;Oe<xe;++Oe){var Ke=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;Ke>fe&&(Ke=fe),X(x.Jc[+Oe],M,pe,Ke),pe+=Ke,fe-=Ke,ae+=3}X(x.Jc[+xe],M,pe,fe),M=pe<K?0:5}if(M!=0)return ir(x,M,"cannot parse partitions");for(M=Y(pe=x.m,7),ae=de(pe)?J(pe,4):0,K=de(pe)?J(pe,4):0,fe=de(pe)?J(pe,4):0,xe=de(pe)?J(pe,4):0,pe=de(pe)?J(pe,4):0,Oe=x.Qa,Ke=0;4>Ke;++Ke){if(Oe.Cb){var Ye=Oe.Zb[Ke];Oe.Fb||(Ye+=M)}else{if(0<Ke){x.pb[Ke]=x.pb[0];continue}Ye=M}var Be=x.pb[Ke];Be.Sc[0]=__[cn(Ye+ae,127)],Be.Sc[1]=S_[cn(Ye+0,127)],Be.Eb[0]=2*__[cn(Ye+K,127)],Be.Eb[1]=101581*S_[cn(Ye+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=__[cn(Ye+xe,117)],Be.Qc[1]=S_[cn(Ye+pe,127)],Be.lc=Ye+pe}if(!le.Rb)return ir(x,4,"Not a key frame.");for(de(se),le=x.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(K=0;3>K;++K)for(fe=0;11>fe;++fe)xe=re(se,oY[M][ae][K][fe])?Y(se,8):iY[M][ae][K][fe],le.Wc[M][ae].Yb[K][fe]=xe;for(ae=0;17>ae;++ae)le.Xc[M][ae]=le.Wc[M][lY[ae]]}return x.kc=de(se),x.kc&&(x.Bd=Y(se,8)),x.cb=1}function Wa(x,k,M,K,ae,se,le){var fe=k[ae].Yb[M];for(M=0;16>ae;++ae){if(!re(x,fe[M+0]))return ae;for(;!re(x,fe[M+1]);)if(fe=k[++ae].Yb[0],M=0,ae==16)return 16;var pe=k[ae+1].Yb;if(re(x,fe[M+2])){var xe=x,Oe=0;if(re(xe,(Ye=fe)[(Ke=M)+3]))if(re(xe,Ye[Ke+6])){for(fe=0,Ke=2*(Oe=re(xe,Ye[Ke+8]))+(Ye=re(xe,Ye[Ke+9+Oe])),Oe=0,Ye=nY[Ke];Ye[fe];++fe)Oe+=Oe+re(xe,Ye[fe]);Oe+=3+(8<<Ke)}else re(xe,Ye[Ke+7])?(Oe=7+2*re(xe,165),Oe+=re(xe,145)):Oe=5+re(xe,159);else Oe=re(xe,Ye[Ke+4])?3+re(xe,Ye[Ke+5]):2;fe=pe[2]}else Oe=1,fe=pe[1];pe=le+aY[ae],0>(xe=x).b&&oe(xe);var Ke,Ye=xe.b,Be=(Ke=xe.Ca>>1)-(xe.I>>Ye)>>31;--xe.b,xe.Ca+=Be,xe.Ca|=1,xe.I-=(Ke+1&Be)<<Ye,se[pe]=((Oe^Be)-Be)*K[(0<ae)+0]}return 16}function Yi(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function on(x,k){if(x==null)return 0;if(k==null)return ir(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Yn(x,k))return 0;if(t(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var M=Ny[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-M>>4,x.zb=k.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+M>>4,x.Hb=k.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var K=x.ed;for(M=0;4>M;++M){var ae;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=K.Tb)}else se=K.Tb;for(ae=0;1>=ae;++ae){var le=x.gd[M][ae],fe=se;if(K.Pc&&(fe+=K.vd[0],ae&&(fe+=K.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var pe=fe;0<K.wb&&(pe=4<K.wb?pe>>2:pe>>1)>9-K.wb&&(pe=9-K.wb),1>pe&&(pe=1),le.dd=pe,le.tc=2*fe+pe,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=ae}}}M=0}else ir(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=wY);e:{M=x.Ic,K=4*(pe=x.za);var xe=32*pe,Oe=pe+1,Ke=0<x.L?pe*(0<x.Aa?2:1):0,Ye=(x.Aa==2?2:1)*pe;if((le=K+832+(ae=3*(16*M+Ny[x.L])/2*xe)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=ir(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,fe=x.Fc,x.Ac=le,x.Bc=fe,fe+=K,x.Gd=s(xe,dt),x.Hd=0,x.rb=s(Oe+1,ke),x.sb=1,x.wa=Ke?s(Ke,ce):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=le,x.pc=fe,fe+=832,x.ya=s(Ye,Gt),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(xe=Ny[x.L])*x.R,xe=xe/2*x.B,x.sa=le,x.ta=fe+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+xe,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+xe,x.$c=0,fe+=ae,x.mb=se?le:null,x.nb=se?fe:null,t(fe+se<=x.Fc+x.Vb),Yi(x),a(x.Ac,x.Bc,0,K),M=1}}if(M){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!yy){for(M=-255;255>=M;++M)La[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)gc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Sm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)$h[255+M]=0>M?0:255<M?255:M;yy=1}Mh=lc,mc=Al,bm=Jf,Qi=dn,io=oc,fa=Fo,Rh=vu,vy=zo,wm=xu,ld=sd,cd=yu,Nu=uc,ud=bu,Fh=kl,fd=cc,ku=Ls,_m=Da,so=Ch,Ho[0]=no,Ho[1]=hm,Ho[2]=El,Ho[3]=mm,Ho[4]=Nh,Ho[5]=hu,Ho[6]=js,Ho[7]=ed,Ho[8]=mu,Ho[9]=pu,Cu[0]=Tl,Cu[1]=pm,Cu[2]=Bo,Cu[3]=fu,Cu[4]=Mn,Cu[5]=Eh,Cu[6]=Zf,vc[0]=Vo,vc[1]=Th,vc[2]=kh,vc[3]=Uo,vc[4]=ln,vc[5]=td,vc[6]=rd,M=1}else M=0}M&&(M=function(Be,xt){for(Be.M=0;Be.M<Be.Va;++Be.M){var it,Ie=Be.Jc[Be.M&Be.Xb],Me=Be.m,pt=Be;for(it=0;it<pt.za;++it){var St=Me,vt=pt,Yt=vt.Ac,Ut=vt.Bc+4*it,fr=vt.zc,qt=vt.ya[vt.aa+it];if(vt.Qa.Bb?qt.$b=re(St,vt.Pa.jb[0])?2+re(St,vt.Pa.jb[2]):re(St,vt.Pa.jb[1]):qt.$b=0,vt.kc&&(qt.Ad=re(St,vt.Bd)),qt.Za=!re(St,145)+0,qt.Za){var rn=qt.Ob,hn=0;for(vt=0;4>vt;++vt){var Yr,$r=fr[0+vt];for(Yr=0;4>Yr;++Yr){$r=sY[Yt[Ut+Yr]][$r];for(var An=OP[re(St,$r[0])];0<An;)An=OP[2*An+re(St,$r[An])];$r=-An,Yt[Ut+Yr]=$r}n(rn,hn,Yt,Ut,4),hn+=4,fr[0+vt]=$r}}else $r=re(St,156)?re(St,128)?1:3:re(St,163)?2:0,qt.Ob[0]=$r,a(Yt,Ut,$r,4),a(fr,0,$r,4);qt.Dd=re(St,142)?re(St,114)?re(St,183)?1:3:2:0}if(pt.m.Ka)return ir(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(pt=Ie,St=(Me=Be).rb[Me.sb-1],Yt=Me.rb[Me.sb+Me.ja],it=Me.ya[Me.aa+Me.ja],Ut=Me.kc?it.Ad:0)St.la=Yt.la=0,it.Za||(St.Na=Yt.Na=0),it.Hc=0,it.Gc=0,it.ia=0;else{var xn,Cr;if(St=Yt,Yt=pt,Ut=Me.Pa.Xc,fr=Me.ya[Me.aa+Me.ja],qt=Me.pb[fr.$b],vt=fr.ad,rn=0,hn=Me.rb[Me.sb-1],$r=Yr=0,a(vt,rn,0,384),fr.Za)var Sa=0,ys=Ut[3];else{An=i(16);var Aa=St.Na+hn.Na;if(Aa=Am(Yt,Ut[1],Aa,qt.Eb,0,An,0),St.Na=hn.Na=(0<Aa)+0,1<Aa)Mh(An,0,vt,rn);else{var xs=An[0]+3>>3;for(An=0;256>An;An+=16)vt[rn+An]=xs}Sa=1,ys=Ut[0]}var pn=15&St.la,Rs=15&hn.la;for(An=0;4>An;++An){var Fs=1&Rs;for(xs=Cr=0;4>xs;++xs)pn=pn>>1|(Fs=(Aa=Am(Yt,ys,Aa=Fs+(1&pn),qt.Sc,Sa,vt,rn))>Sa)<<7,Cr=Cr<<2|(3<Aa?3:1<Aa?2:vt[rn+0]!=0),rn+=16;pn>>=4,Rs=Rs>>1|Fs<<7,Yr=(Yr<<8|Cr)>>>0}for(ys=pn,Sa=Rs>>4,xn=0;4>xn;xn+=2){for(Cr=0,pn=St.la>>4+xn,Rs=hn.la>>4+xn,An=0;2>An;++An){for(Fs=1&Rs,xs=0;2>xs;++xs)Aa=Fs+(1&pn),pn=pn>>1|(Fs=0<(Aa=Am(Yt,Ut[2],Aa,qt.Qc,0,vt,rn)))<<3,Cr=Cr<<2|(3<Aa?3:1<Aa?2:vt[rn+0]!=0),rn+=16;pn>>=2,Rs=Rs>>1|Fs<<5}$r|=Cr<<4*xn,ys|=pn<<4<<xn,Sa|=(240&Rs)<<xn}St.la=ys,hn.la=Sa,fr.Hc=Yr,fr.Gc=$r,fr.ia=43690&$r?0:qt.ia,Ut=!(Yr|$r)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[it.$b][it.Za],Me.wa[Me.Y+Me.ja].La|=!Ut),pt.Ka)return ir(Be,7,"Premature end-of-file encountered.")}if(Yi(Be),Me=xt,pt=1,it=(Ie=Be).D,St=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(it.M=Ie.M,it.uc=St,Pl(Ie,it),pt=1,it=(Cr=Ie.D).Nb,St=($r=Ny[Ie.L])*Ie.R,Yt=$r/2*Ie.B,An=16*it*Ie.R,xs=8*it*Ie.B,Ut=Ie.sa,fr=Ie.ta-St+An,qt=Ie.qa,vt=Ie.ra-Yt+xs,rn=Ie.Ha,hn=Ie.Ia-Yt+xs,Rs=(pn=Cr.M)==0,Yr=pn>=Ie.Va-1,Ie.Aa==2&&Pl(Ie,Cr),Cr.uc)for(Fs=(Aa=Ie).D.M,t(Aa.D.uc),Cr=Aa.yb;Cr<Aa.Hb;++Cr){Sa=Cr,ys=Fs;var Ha=(oi=(ra=Aa).D).Nb;xn=ra.R;var oi=oi.wa[oi.Y+Sa],Ji=ra.sa,uo=ra.ta+16*Ha*xn+16*Sa,Il=oi.dd,Ga=oi.tc;if(Ga!=0)if(t(3<=Ga),ra.L==1)0<Sa&&ku(Ji,uo,xn,Ga+4),oi.La&&so(Ji,uo,xn,Ga),0<ys&&fd(Ji,uo,xn,Ga+4),oi.La&&_m(Ji,uo,xn,Ga);else{var yc=ra.B,dd=ra.qa,Bh=ra.ra+8*Ha*yc+8*Sa,Ou=ra.Ha,ra=ra.Ia+8*Ha*yc+8*Sa;Ha=oi.ld,0<Sa&&(vy(Ji,uo,xn,Ga+4,Il,Ha),ld(dd,Bh,Ou,ra,yc,Ga+4,Il,Ha)),oi.La&&(Nu(Ji,uo,xn,Ga,Il,Ha),Fh(dd,Bh,Ou,ra,yc,Ga,Il,Ha)),0<ys&&(Rh(Ji,uo,xn,Ga+4,Il,Ha),wm(dd,Bh,Ou,ra,yc,Ga+4,Il,Ha)),oi.La&&(cd(Ji,uo,xn,Ga,Il,Ha),ud(dd,Bh,Ou,ra,yc,Ga,Il,Ha))}}if(Ie.ia&&alert("todo:DitherRow"),Me.put!=null){if(Cr=16*pn,pn=16*(pn+1),Rs?(Me.y=Ie.sa,Me.O=Ie.ta+An,Me.f=Ie.qa,Me.N=Ie.ra+xs,Me.ea=Ie.Ha,Me.W=Ie.Ia+xs):(Cr-=$r,Me.y=Ut,Me.O=fr,Me.f=qt,Me.N=vt,Me.ea=rn,Me.W=hn),Yr||(pn-=$r),pn>Me.o&&(pn=Me.o),Me.F=null,Me.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&Cr<pn&&(Me.J=Au(Ie,Me,Cr,pn-Cr),Me.F=Ie.mb,Me.F==null&&Me.F.length==0)){pt=ir(Ie,3,"Could not decode alpha data.");break e}Cr<Me.j&&($r=Me.j-Cr,Cr=Me.j,t(!(1&$r)),Me.O+=Ie.R*$r,Me.N+=Ie.B*($r>>1),Me.W+=Ie.B*($r>>1),Me.F!=null&&(Me.J+=Me.width*$r)),Cr<pn&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=Cr-Me.j,Me.U=Me.va-Me.v,Me.T=pn-Cr,pt=Me.put(Me))}it+1!=Ie.Ic||Yr||(n(Ie.sa,Ie.ta-St,Ut,fr+16*Ie.R,St),n(Ie.qa,Ie.ra-Yt,qt,vt+8*Ie.B,Yt),n(Ie.Ha,Ie.Ia-Yt,rn,hn+8*Ie.B,Yt))}if(!pt)return ir(Be,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),M&=1}return M?(x.cb=0,M):0}function fn(x,k,M,K,ae){ae=x[k+M+32*K]+(ae>>3),x[k+M+32*K]=-256&ae?0>ae?0:255:ae}function _i(x,k,M,K,ae,se){fn(x,k,0,M,K+ae),fn(x,k,1,M,K+se),fn(x,k,2,M,K-se),fn(x,k,3,M,K-ae)}function jr(x){return(20091*x>>16)+x}function _a(x,k,M,K){var ae,se=0,le=i(16);for(ae=0;4>ae;++ae){var fe=x[k+0]+x[k+8],pe=x[k+0]-x[k+8],xe=(35468*x[k+4]>>16)-jr(x[k+12]),Oe=jr(x[k+4])+(35468*x[k+12]>>16);le[se+0]=fe+Oe,le[se+1]=pe+xe,le[se+2]=pe-xe,le[se+3]=fe-Oe,se+=4,k++}for(ae=se=0;4>ae;++ae)fe=(x=le[se+0]+4)+le[se+8],pe=x-le[se+8],xe=(35468*le[se+4]>>16)-jr(le[se+12]),fn(M,K,0,0,fe+(Oe=jr(le[se+4])+(35468*le[se+12]>>16))),fn(M,K,1,0,pe+xe),fn(M,K,2,0,pe-xe),fn(M,K,3,0,fe-Oe),se++,K+=32}function Fo(x,k,M,K){var ae=x[k+0]+4,se=35468*x[k+4]>>16,le=jr(x[k+4]),fe=35468*x[k+1]>>16;_i(M,K,0,ae+le,x=jr(x[k+1]),fe),_i(M,K,1,ae+se,x,fe),_i(M,K,2,ae-se,x,fe),_i(M,K,3,ae-le,x,fe)}function Al(x,k,M,K,ae){_a(x,k,M,K),ae&&_a(x,k+16,M,K+4)}function Jf(x,k,M,K){mc(x,k+0,M,K,1),mc(x,k+32,M,K+128,1)}function dn(x,k,M,K){var ae;for(x=x[k+0]+4,ae=0;4>ae;++ae)for(k=0;4>k;++k)fn(M,K,k,ae,x)}function oc(x,k,M,K){x[k+0]&&Qi(x,k+0,M,K),x[k+16]&&Qi(x,k+16,M,K+4),x[k+32]&&Qi(x,k+32,M,K+128),x[k+48]&&Qi(x,k+48,M,K+128+4)}function lc(x,k,M,K){var ae,se=i(16);for(ae=0;4>ae;++ae){var le=x[k+0+ae]+x[k+12+ae],fe=x[k+4+ae]+x[k+8+ae],pe=x[k+4+ae]-x[k+8+ae],xe=x[k+0+ae]-x[k+12+ae];se[0+ae]=le+fe,se[8+ae]=le-fe,se[4+ae]=xe+pe,se[12+ae]=xe-pe}for(ae=0;4>ae;++ae)le=(x=se[0+4*ae]+3)+se[3+4*ae],fe=se[1+4*ae]+se[2+4*ae],pe=se[1+4*ae]-se[2+4*ae],xe=x-se[3+4*ae],M[K+0]=le+fe>>3,M[K+16]=xe+pe>>3,M[K+32]=le-fe>>3,M[K+48]=xe-pe>>3,K+=64}function $o(x,k,M){var K,ae=k-32,se=Ms,le=255-x[ae-1];for(K=0;K<M;++K){var fe,pe=se,xe=le+x[k-1];for(fe=0;fe<M;++fe)x[k+fe]=pe[xe+x[ae+fe]];k+=32}}function hm(x,k){$o(x,k,4)}function Th(x,k){$o(x,k,8)}function pm(x,k){$o(x,k,16)}function Bo(x,k){var M;for(M=0;16>M;++M)n(x,k+32*M,x,k-32,16)}function fu(x,k){var M;for(M=16;0<M;--M)a(x,k,x[k-1],16),k+=32}function du(x,k,M){var K;for(K=0;16>K;++K)a(k,M+32*K,x,16)}function Tl(x,k){var M,K=16;for(M=0;16>M;++M)K+=x[k-1+32*M]+x[k+M-32];du(K>>5,x,k)}function Mn(x,k){var M,K=8;for(M=0;16>M;++M)K+=x[k-1+32*M];du(K>>4,x,k)}function Eh(x,k){var M,K=8;for(M=0;16>M;++M)K+=x[k+M-32];du(K>>4,x,k)}function Zf(x,k){du(128,x,k)}function yr(x,k,M){return x+2*k+M+2>>2}function El(x,k){var M,K=k-32;for(K=new Uint8Array([yr(x[K-1],x[K+0],x[K+1]),yr(x[K+0],x[K+1],x[K+2]),yr(x[K+1],x[K+2],x[K+3]),yr(x[K+2],x[K+3],x[K+4])]),M=0;4>M;++M)n(x,k+32*M,K,0,K.length)}function mm(x,k){var M=x[k-1],K=x[k-1+32],ae=x[k-1+64],se=x[k-1+96];he(x,k+0,16843009*yr(x[k-1-32],M,K)),he(x,k+32,16843009*yr(M,K,ae)),he(x,k+64,16843009*yr(K,ae,se)),he(x,k+96,16843009*yr(ae,se,se))}function no(x,k){var M,K=4;for(M=0;4>M;++M)K+=x[k+M-32]+x[k-1+32*M];for(K>>=3,M=0;4>M;++M)a(x,k+32*M,K,4)}function Nh(x,k){var M=x[k-1+0],K=x[k-1+32],ae=x[k-1+64],se=x[k-1-32],le=x[k+0-32],fe=x[k+1-32],pe=x[k+2-32],xe=x[k+3-32];x[k+0+96]=yr(K,ae,x[k-1+96]),x[k+1+96]=x[k+0+64]=yr(M,K,ae),x[k+2+96]=x[k+1+64]=x[k+0+32]=yr(se,M,K),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=yr(le,se,M),x[k+3+64]=x[k+2+32]=x[k+1+0]=yr(fe,le,se),x[k+3+32]=x[k+2+0]=yr(pe,fe,le),x[k+3+0]=yr(xe,pe,fe)}function js(x,k){var M=x[k+1-32],K=x[k+2-32],ae=x[k+3-32],se=x[k+4-32],le=x[k+5-32],fe=x[k+6-32],pe=x[k+7-32];x[k+0+0]=yr(x[k+0-32],M,K),x[k+1+0]=x[k+0+32]=yr(M,K,ae),x[k+2+0]=x[k+1+32]=x[k+0+64]=yr(K,ae,se),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=yr(ae,se,le),x[k+3+32]=x[k+2+64]=x[k+1+96]=yr(se,le,fe),x[k+3+64]=x[k+2+96]=yr(le,fe,pe),x[k+3+96]=yr(fe,pe,pe)}function hu(x,k){var M=x[k-1+0],K=x[k-1+32],ae=x[k-1+64],se=x[k-1-32],le=x[k+0-32],fe=x[k+1-32],pe=x[k+2-32],xe=x[k+3-32];x[k+0+0]=x[k+1+64]=se+le+1>>1,x[k+1+0]=x[k+2+64]=le+fe+1>>1,x[k+2+0]=x[k+3+64]=fe+pe+1>>1,x[k+3+0]=pe+xe+1>>1,x[k+0+96]=yr(ae,K,M),x[k+0+64]=yr(K,M,se),x[k+0+32]=x[k+1+96]=yr(M,se,le),x[k+1+32]=x[k+2+96]=yr(se,le,fe),x[k+2+32]=x[k+3+96]=yr(le,fe,pe),x[k+3+32]=yr(fe,pe,xe)}function ed(x,k){var M=x[k+0-32],K=x[k+1-32],ae=x[k+2-32],se=x[k+3-32],le=x[k+4-32],fe=x[k+5-32],pe=x[k+6-32],xe=x[k+7-32];x[k+0+0]=M+K+1>>1,x[k+1+0]=x[k+0+64]=K+ae+1>>1,x[k+2+0]=x[k+1+64]=ae+se+1>>1,x[k+3+0]=x[k+2+64]=se+le+1>>1,x[k+0+32]=yr(M,K,ae),x[k+1+32]=x[k+0+96]=yr(K,ae,se),x[k+2+32]=x[k+1+96]=yr(ae,se,le),x[k+3+32]=x[k+2+96]=yr(se,le,fe),x[k+3+64]=yr(le,fe,pe),x[k+3+96]=yr(fe,pe,xe)}function pu(x,k){var M=x[k-1+0],K=x[k-1+32],ae=x[k-1+64],se=x[k-1+96];x[k+0+0]=M+K+1>>1,x[k+2+0]=x[k+0+32]=K+ae+1>>1,x[k+2+32]=x[k+0+64]=ae+se+1>>1,x[k+1+0]=yr(M,K,ae),x[k+3+0]=x[k+1+32]=yr(K,ae,se),x[k+3+32]=x[k+1+64]=yr(ae,se,se),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=se}function mu(x,k){var M=x[k-1+0],K=x[k-1+32],ae=x[k-1+64],se=x[k-1+96],le=x[k-1-32],fe=x[k+0-32],pe=x[k+1-32],xe=x[k+2-32];x[k+0+0]=x[k+2+32]=M+le+1>>1,x[k+0+32]=x[k+2+64]=K+M+1>>1,x[k+0+64]=x[k+2+96]=ae+K+1>>1,x[k+0+96]=se+ae+1>>1,x[k+3+0]=yr(fe,pe,xe),x[k+2+0]=yr(le,fe,pe),x[k+1+0]=x[k+3+32]=yr(M,le,fe),x[k+1+32]=x[k+3+64]=yr(K,M,le),x[k+1+64]=x[k+3+96]=yr(ae,K,M),x[k+1+96]=yr(se,ae,K)}function kh(x,k){var M;for(M=0;8>M;++M)n(x,k+32*M,x,k-32,8)}function Uo(x,k){var M;for(M=0;8>M;++M)a(x,k,x[k-1],8),k+=32}function Ds(x,k,M){var K;for(K=0;8>K;++K)a(k,M+32*K,x,8)}function Vo(x,k){var M,K=8;for(M=0;8>M;++M)K+=x[k+M-32]+x[k-1+32*M];Ds(K>>4,x,k)}function td(x,k){var M,K=4;for(M=0;8>M;++M)K+=x[k+M-32];Ds(K>>3,x,k)}function ln(x,k){var M,K=4;for(M=0;8>M;++M)K+=x[k-1+32*M];Ds(K>>3,x,k)}function rd(x,k){Ds(128,x,k)}function gu(x,k,M){var K=x[k-M],ae=x[k+0],se=3*(ae-K)+v_[1020+x[k-2*M]-x[k+M]],le=xy[112+(se+4>>3)];x[k-M]=Ms[255+K+xy[112+(se+3>>3)]],x[k+0]=Ms[255+ae-le]}function nd(x,k,M,K){var ae=x[k+0],se=x[k+M];return lo[255+x[k-2*M]-x[k-M]]>K||lo[255+se-ae]>K}function ad(x,k,M,K){return 4*lo[255+x[k-M]-x[k+0]]+lo[255+x[k-2*M]-x[k+M]]<=K}function id(x,k,M,K,ae){var se=x[k-3*M],le=x[k-2*M],fe=x[k-M],pe=x[k+0],xe=x[k+M],Oe=x[k+2*M],Ke=x[k+3*M];return 4*lo[255+fe-pe]+lo[255+le-xe]>K?0:lo[255+x[k-4*M]-se]<=ae&&lo[255+se-le]<=ae&&lo[255+le-fe]<=ae&&lo[255+Ke-Oe]<=ae&&lo[255+Oe-xe]<=ae&&lo[255+xe-pe]<=ae}function cc(x,k,M,K){var ae=2*K+1;for(K=0;16>K;++K)ad(x,k+K,M,ae)&&gu(x,k+K,M)}function Ls(x,k,M,K){var ae=2*K+1;for(K=0;16>K;++K)ad(x,k+K*M,1,ae)&&gu(x,k+K*M,1)}function Da(x,k,M,K){var ae;for(ae=3;0<ae;--ae)cc(x,k+=4*M,M,K)}function Ch(x,k,M,K){var ae;for(ae=3;0<ae;--ae)Ls(x,k+=4,M,K)}function Nl(x,k,M,K,ae,se,le,fe){for(se=2*se+1;0<ae--;){if(id(x,k,M,se,le))if(nd(x,k,M,fe))gu(x,k,M);else{var pe=x,xe=k,Oe=M,Ke=pe[xe-2*Oe],Ye=pe[xe-Oe],Be=pe[xe+0],xt=pe[xe+Oe],it=pe[xe+2*Oe],Ie=27*(pt=v_[1020+3*(Be-Ye)+v_[1020+Ke-xt]])+63>>7,Me=18*pt+63>>7,pt=9*pt+63>>7;pe[xe-3*Oe]=Ms[255+pe[xe-3*Oe]+pt],pe[xe-2*Oe]=Ms[255+Ke+Me],pe[xe-Oe]=Ms[255+Ye+Ie],pe[xe+0]=Ms[255+Be-Ie],pe[xe+Oe]=Ms[255+xt-Me],pe[xe+2*Oe]=Ms[255+it-pt]}k+=K}}function ai(x,k,M,K,ae,se,le,fe){for(se=2*se+1;0<ae--;){if(id(x,k,M,se,le))if(nd(x,k,M,fe))gu(x,k,M);else{var pe=x,xe=k,Oe=M,Ke=pe[xe-Oe],Ye=pe[xe+0],Be=pe[xe+Oe],xt=xy[112+((it=3*(Ye-Ke))+4>>3)],it=xy[112+(it+3>>3)],Ie=xt+1>>1;pe[xe-2*Oe]=Ms[255+pe[xe-2*Oe]+Ie],pe[xe-Oe]=Ms[255+Ke+it],pe[xe+0]=Ms[255+Ye-xt],pe[xe+Oe]=Ms[255+Be-Ie]}k+=K}}function vu(x,k,M,K,ae,se){Nl(x,k,M,1,16,K,ae,se)}function zo(x,k,M,K,ae,se){Nl(x,k,1,M,16,K,ae,se)}function yu(x,k,M,K,ae,se){var le;for(le=3;0<le;--le)ai(x,k+=4*M,M,1,16,K,ae,se)}function uc(x,k,M,K,ae,se){var le;for(le=3;0<le;--le)ai(x,k+=4,1,M,16,K,ae,se)}function xu(x,k,M,K,ae,se,le,fe){Nl(x,k,ae,1,8,se,le,fe),Nl(M,K,ae,1,8,se,le,fe)}function sd(x,k,M,K,ae,se,le,fe){Nl(x,k,1,ae,8,se,le,fe),Nl(M,K,1,ae,8,se,le,fe)}function bu(x,k,M,K,ae,se,le,fe){ai(x,k+4*ae,ae,1,8,se,le,fe),ai(M,K+4*ae,ae,1,8,se,le,fe)}function kl(x,k,M,K,ae,se,le,fe){ai(x,k+4,1,ae,8,se,le,fe),ai(M,K+4,1,ae,8,se,le,fe)}function fc(){this.ba=new Je,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _u(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new N}function Ph(){this.xb=this.a=0,this.l=new Ft,this.ca=new Je,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _u,this.ab=0,this.gc=s(4,dc),this.Oc=0}function qo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ft,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cl(x,k,M,K,ae,se,le){for(x=x==null?0:x[k+0],k=0;k<le;++k)ae[se+k]=x+M[K+k]&255,x=ae[se+k]}function Su(x,k,M,K,ae,se,le){var fe;if(x==null)Cl(null,null,M,K,ae,se,le);else for(fe=0;fe<le;++fe)ae[se+fe]=x[k+fe]+M[K+fe]&255}function Si(x,k,M,K,ae,se,le){if(x==null)Cl(null,null,M,K,ae,se,le);else{var fe,pe=x[k+0],xe=pe,Oe=pe;for(fe=0;fe<le;++fe)xe=Oe+(pe=x[k+fe])-xe,Oe=M[K+fe]+(-256&xe?0>xe?0:255:xe)&255,xe=pe,ae[se+fe]=Oe}}function Au(x,k,M,K){var ae=k.width,se=k.o;if(t(x!=null&&k!=null),0>M||0>=K||M+K>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new qo,(le=x.ga==null)||(le=k.width*k.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var fe=x.Fa,pe=x.P,xe=x.qc,Oe=x.mb,Ke=x.nb,Ye=pe+1,Be=xe-1,xt=le.l;if(t(fe!=null&&Oe!=null&&k!=null),Pu[0]=null,Pu[1]=Cl,Pu[2]=Su,Pu[3]=Si,le.ca=Oe,le.tb=Ke,le.c=k.width,le.i=k.height,t(0<le.c&&0<le.i),1>=xe)k=0;else if(le.$a=fe[pe+0]>>0&3,le.Z=fe[pe+0]>>2&3,le.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)k=0;else if(xt.put=kn,xt.ac=Ar,xt.bc=wa,xt.ma=le,xt.width=k.width,xt.height=k.height,xt.Da=k.Da,xt.v=k.v,xt.va=k.va,xt.j=k.j,xt.o=k.o,le.$a)e:{t(le.$a==1),k=tt();t:for(;;){if(k==null){k=0;break e}if(t(le!=null),le.mc=k,k.c=le.c,k.i=le.i,k.l=le.l,k.l.ma=le,k.l.width=le.c,k.l.height=le.i,k.a=0,G(k.m,fe,Ye,Be),!qe(le.c,le.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&me(k.s)?(le.ic=1,fe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(fe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(le.ic=0,k=He(k,le.c)),!k))break t;k=1;break e}le.mc=null,k=0}else k=Be>=le.c*le.i;le=!k}if(le)return null;x.ga.Lc!=1?x.Ga=0:K=se-M}t(x.ga!=null),t(M+K<=se);e:{if(k=(fe=x.ga).c,se=fe.l.o,fe.$a==0){if(Ye=x.rc,Be=x.Vc,xt=x.Fa,pe=x.P+1+M*k,xe=x.mb,Oe=x.nb+M*k,t(pe<=x.P+x.qc),fe.Z!=0)for(t(Pu[fe.Z]!=null),le=0;le<K;++le)Pu[fe.Z](Ye,Be,xt,pe,xe,Oe,k),Ye=xe,Be=Oe,Oe+=k,pe+=k;else for(le=0;le<K;++le)n(xe,Oe,xt,pe,k),Ye=xe,Be=Oe,Oe+=k,pe+=k;x.rc=Ye,x.Vc=Be}else{if(t(fe.mc!=null),k=M+K,t((le=fe.mc)!=null),t(k<=le.i),le.C>=k)k=1;else if(fe.ic||$e(),fe.ic){fe=le.V,Ye=le.Ba,Be=le.c;var it=le.i,Ie=(xt=1,pe=le.$/Be,xe=le.$%Be,Oe=le.m,Ke=le.s,le.$),Me=Be*it,pt=Be*k,St=Ke.wc,vt=Ie<pt?Cn(Ke,xe,pe):null;t(Ie<=Me),t(k<=it),t(me(Ke));t:for(;;){for(;!Oe.h&&Ie<pt;){if(xe&St||(vt=Cn(Ke,xe,pe)),t(vt!=null),Z(Oe),256>(it=zn(vt.G[0],vt.H[0],Oe)))fe[Ye+Ie]=it,++Ie,++xe>=Be&&(xe=0,++pe<=k&&!(pe%16)&&be(le,pe));else{if(!(280>it)){xt=0;break t}it=ua(it-256,Oe);var Yt,Ut=zn(vt.G[4],vt.H[4],Oe);if(Z(Oe),!(Ie>=(Ut=Jr(Be,Ut=ua(Ut,Oe)))&&Me-Ie>=it)){xt=0;break t}for(Yt=0;Yt<it;++Yt)fe[Ye+Ie+Yt]=fe[Ye+Ie+Yt-Ut];for(Ie+=it,xe+=it;xe>=Be;)xe-=Be,++pe<=k&&!(pe%16)&&be(le,pe);Ie<pt&&xe&St&&(vt=Cn(Ke,xe,pe))}t(Oe.h==z(Oe))}be(le,pe>k?k:pe);break t}!xt||Oe.h&&Ie<Me?(xt=0,le.a=Oe.h?5:3):le.$=Ie,k=xt}else k=Se(le,le.V,le.Ba,le.c,le.i,k,Xe);if(!k){K=0;break e}}M+K>=se&&(x.Cc=1),K=1}if(!K)return null;if(x.Cc&&((K=x.ga)!=null&&(K.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ae}function L(x,k,M,K,ae,se){for(;0<ae--;){var le,fe=x,pe=k+(M?1:0),xe=x,Oe=k+(M?0:3);for(le=0;le<K;++le){var Ke=xe[Oe+4*le];Ke!=255&&(Ke*=32897,fe[pe+4*le+0]=fe[pe+4*le+0]*Ke>>23,fe[pe+4*le+1]=fe[pe+4*le+1]*Ke>>23,fe[pe+4*le+2]=fe[pe+4*le+2]*Ke>>23)}k+=se}}function ne(x,k,M,K,ae){for(;0<K--;){var se;for(se=0;se<M;++se){var le=x[k+2*se+0],fe=15&(xe=x[k+2*se+1]),pe=4369*fe,xe=(240&xe|xe>>4)*pe>>16;x[k+2*se+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,x[k+2*se+1]=240&xe|fe}k+=ae}}function Te(x,k,M,K,ae,se,le,fe){var pe,xe,Oe=255;for(xe=0;xe<ae;++xe){for(pe=0;pe<K;++pe){var Ke=x[k+pe];se[le+4*pe]=Ke,Oe&=Ke}k+=M,le+=fe}return Oe!=255}function Ce(x,k,M,K,ae){var se;for(se=0;se<ae;++se)M[K+se]=x[k+se]>>8}function $e(){oo=L,Pn=ne,On=Te,da=Ce}function st(x,k,M){S[x]=function(K,ae,se,le,fe,pe,xe,Oe,Ke,Ye,Be,xt,it,Ie,Me,pt,St){var vt,Yt=St-1>>1,Ut=fe[pe+0]|xe[Oe+0]<<16,fr=Ke[Ye+0]|Be[xt+0]<<16;t(K!=null);var qt=3*Ut+fr+131074>>2;for(k(K[ae+0],255&qt,qt>>16,it,Ie),se!=null&&(qt=3*fr+Ut+131074>>2,k(se[le+0],255&qt,qt>>16,Me,pt)),vt=1;vt<=Yt;++vt){var rn=fe[pe+vt]|xe[Oe+vt]<<16,hn=Ke[Ye+vt]|Be[xt+vt]<<16,Yr=Ut+rn+fr+hn+524296,$r=Yr+2*(rn+fr)>>3;qt=$r+Ut>>1,Ut=(Yr=Yr+2*(Ut+hn)>>3)+rn>>1,k(K[ae+2*vt-1],255&qt,qt>>16,it,Ie+(2*vt-1)*M),k(K[ae+2*vt-0],255&Ut,Ut>>16,it,Ie+(2*vt-0)*M),se!=null&&(qt=Yr+fr>>1,Ut=$r+hn>>1,k(se[le+2*vt-1],255&qt,qt>>16,Me,pt+(2*vt-1)*M),k(se[le+2*vt+0],255&Ut,Ut>>16,Me,pt+(2*vt+0)*M)),Ut=rn,fr=hn}1&St||(qt=3*Ut+fr+131074>>2,k(K[ae+St-1],255&qt,qt>>16,it,Ie+(St-1)*M),se!=null&&(qt=3*fr+Ut+131074>>2,k(se[le+St-1],255&qt,qt>>16,Me,pt+(St-1)*M)))}}function Tt(){co[by]=uY,co[wy]=jP,co[kP]=fY,co[_y]=DP,co[Sy]=LP,co[y_]=MP,co[CP]=dY,co[x_]=jP,co[b_]=DP,co[Ay]=LP,co[w_]=MP}function Vt(x){return x&~hY?0>x?0:255:x>>RP}function _(x,k){return Vt((19077*x>>8)+(26149*k>>8)-14234)}function F(x,k,M){return Vt((19077*x>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function Q(x,k){return Vt((19077*x>>8)+(33050*k>>8)-17685)}function ue(x,k,M,K,ae){K[ae+0]=_(x,M),K[ae+1]=F(x,k,M),K[ae+2]=Q(x,k)}function Re(x,k,M,K,ae){K[ae+0]=Q(x,k),K[ae+1]=F(x,k,M),K[ae+2]=_(x,M)}function Qe(x,k,M,K,ae){var se=F(x,k,M);k=se<<3&224|Q(x,k)>>3,K[ae+0]=248&_(x,M)|se>>5,K[ae+1]=k}function Nt(x,k,M,K,ae){var se=240&Q(x,k)|15;K[ae+0]=240&_(x,M)|F(x,k,M)>>4,K[ae+1]=se}function Tr(x,k,M,K,ae){K[ae+0]=255,ue(x,k,M,K,ae+1)}function Fr(x,k,M,K,ae){Re(x,k,M,K,ae),K[ae+3]=255}function Er(x,k,M,K,ae){ue(x,k,M,K,ae),K[ae+3]=255}function cn(x,k){return 0>x?0:x>k?k:x}function Sn(x,k,M){S[x]=function(K,ae,se,le,fe,pe,xe,Oe,Ke){for(var Ye=Oe+(-2&Ke)*M;Oe!=Ye;)k(K[ae+0],se[le+0],fe[pe+0],xe,Oe),k(K[ae+1],se[le+0],fe[pe+0],xe,Oe+M),ae+=2,++le,++pe,Oe+=2*M;1&Ke&&k(K[ae+0],se[le+0],fe[pe+0],xe,Oe)}}function Wo(x,k,M){return M==0?x==0?k==0?6:5:k==0?4:0:M}function ii(x,k,M,K,ae){switch(x>>>30){case 3:mc(k,M,K,ae,0);break;case 2:fa(k,M,K,ae);break;case 1:Qi(k,M,K,ae)}}function Pl(x,k){var M,K,ae=k.M,se=k.Nb,le=x.oc,fe=x.pc+40,pe=x.oc,xe=x.pc+584,Oe=x.oc,Ke=x.pc+600;for(M=0;16>M;++M)le[fe+32*M-1]=129;for(M=0;8>M;++M)pe[xe+32*M-1]=129,Oe[Ke+32*M-1]=129;for(0<ae?le[fe-1-32]=pe[xe-1-32]=Oe[Ke-1-32]=129:(a(le,fe-32-1,127,21),a(pe,xe-32-1,127,9),a(Oe,Ke-32-1,127,9)),K=0;K<x.za;++K){var Ye=k.ya[k.aa+K];if(0<K){for(M=-1;16>M;++M)n(le,fe+32*M-4,le,fe+32*M+12,4);for(M=-1;8>M;++M)n(pe,xe+32*M-4,pe,xe+32*M+4,4),n(Oe,Ke+32*M-4,Oe,Ke+32*M+4,4)}var Be=x.Gd,xt=x.Hd+K,it=Ye.ad,Ie=Ye.Hc;if(0<ae&&(n(le,fe-32,Be[xt].y,0,16),n(pe,xe-32,Be[xt].f,0,8),n(Oe,Ke-32,Be[xt].ea,0,8)),Ye.Za){var Me=le,pt=fe-32+16;for(0<ae&&(K>=x.za-1?a(Me,pt,Be[xt].y[15],4):n(Me,pt,Be[xt+1].y,0,4)),M=0;4>M;M++)Me[pt+128+M]=Me[pt+256+M]=Me[pt+384+M]=Me[pt+0+M];for(M=0;16>M;++M,Ie<<=2)Me=le,pt=fe+$P[M],Ho[Ye.Ob[M]](Me,pt),ii(Ie,it,16*+M,Me,pt)}else if(Me=Wo(K,ae,Ye.Ob[0]),Cu[Me](le,fe),Ie!=0)for(M=0;16>M;++M,Ie<<=2)ii(Ie,it,16*+M,le,fe+$P[M]);for(M=Ye.Gc,Me=Wo(K,ae,Ye.Dd),vc[Me](pe,xe),vc[Me](Oe,Ke),Ie=it,Me=pe,pt=xe,255&(Ye=M>>0)&&(170&Ye?bm(Ie,256,Me,pt):io(Ie,256,Me,pt)),Ye=Oe,Ie=Ke,255&(M>>=8)&&(170&M?bm(it,320,Ye,Ie):io(it,320,Ye,Ie)),ae<x.Ub-1&&(n(Be[xt].y,0,le,fe+480,16),n(Be[xt].f,0,pe,xe+224,8),n(Be[xt].ea,0,Oe,Ke+224,8)),M=8*se*x.B,Be=x.sa,xt=x.ta+16*K+16*se*x.R,it=x.qa,Ye=x.ra+8*K+M,Ie=x.Ha,Me=x.Ia+8*K+M,M=0;16>M;++M)n(Be,xt+M*x.R,le,fe+32*M,16);for(M=0;8>M;++M)n(it,Ye+M*x.B,pe,xe+32*M,8),n(Ie,Me+M*x.B,Oe,Ke+32*M,8)}}function Ol(x,k,M,K,ae,se,le,fe,pe){var xe=[0],Oe=[0],Ke=0,Ye=pe!=null?pe.kd:0,Be=pe??new wu;if(x==null||12>M)return 7;Be.data=x,Be.w=k,Be.ha=M,k=[k],M=[M],Be.gb=[Be.gb];e:{var xt=k,it=M,Ie=Be.gb;if(t(x!=null),t(it!=null),t(Ie!=null),Ie[0]=0,12<=it[0]&&!r(x,xt[0],"RIFF")){if(r(x,xt[0]+8,"WEBP")){Ie=3;break e}var Me=Ae(x,xt[0]+4);if(12>Me||4294967286<Me){Ie=3;break e}if(Ye&&Me>it[0]-8){Ie=7;break e}Ie[0]=Me,xt[0]+=12,it[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Me=0<Be.gb[0],M=M[0];;){e:{var pt=x;it=k,Ie=M;var St=xe,vt=Oe,Yt=xt=[0];if((qt=Ke=[Ke])[0]=0,8>Ie[0])Ie=7;else{if(!r(pt,it[0],"VP8X")){if(Ae(pt,it[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Ut=Ae(pt,it[0]+8),fr=1+B(pt,it[0]+12);if(2147483648<=fr*(pt=1+B(pt,it[0]+15))){Ie=3;break e}Yt!=null&&(Yt[0]=Ut),St!=null&&(St[0]=fr),vt!=null&&(vt[0]=pt),it[0]+=18,Ie[0]-=18,qt[0]=1}Ie=0}}if(Ke=Ke[0],xt=xt[0],Ie!=0)return Ie;if(it=!!(2&xt),!Me&&Ke)return 3;if(se!=null&&(se[0]=!!(16&xt)),le!=null&&(le[0]=it),fe!=null&&(fe[0]=0),le=xe[0],xt=Oe[0],Ke&&it&&pe==null){Ie=0;break}if(4>M){Ie=7;break}if(Me&&Ke||!Me&&!Ke&&!r(x,k[0],"ALPH")){M=[M],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ut=x,Ie=k,Me=M;var qt=Be.gb;St=Be.na,vt=Be.P,Yt=Be.Sa,fr=22,t(Ut!=null),t(Me!=null),pt=Ie[0];var rn=Me[0];for(t(St!=null),t(Yt!=null),St[0]=null,vt[0]=null,Yt[0]=0;;){if(Ie[0]=pt,Me[0]=rn,8>rn){Ie=7;break e}var hn=Ae(Ut,pt+4);if(4294967286<hn){Ie=3;break e}var Yr=8+hn+1&-2;if(fr+=Yr,0<qt&&fr>qt){Ie=3;break e}if(!r(Ut,pt,"VP8 ")||!r(Ut,pt,"VP8L")){Ie=0;break e}if(rn[0]<Yr){Ie=7;break e}r(Ut,pt,"ALPH")||(St[0]=Ut,vt[0]=pt+8,Yt[0]=hn),pt+=Yr,rn-=Yr}}if(M=M[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Ie!=0)break}M=[M],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(qt=x,Ie=k,Me=M,St=Be.gb[0],vt=Be.Ja,Yt=Be.xa,Ut=Ie[0],pt=!r(qt,Ut,"VP8 "),fr=!r(qt,Ut,"VP8L"),t(qt!=null),t(Me!=null),t(vt!=null),t(Yt!=null),8>Me[0])Ie=7;else{if(pt||fr){if(qt=Ae(qt,Ut+4),12<=St&&qt>St-12){Ie=3;break e}if(Ye&&qt>Me[0]-8){Ie=7;break e}vt[0]=qt,Ie[0]+=8,Me[0]-=8,Yt[0]=fr}else Yt[0]=5<=Me[0]&&qt[Ut+0]==47&&!(qt[Ut+4]>>5),vt[0]=Me[0];Ie=0}if(M=M[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],k=k[0],Ie!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||it||(fe[0]=Be.xa?2:1),le=[le],xt=[xt],Be.xa){if(5>M){Ie=7;break}fe=le,Ye=xt,it=se,x==null||5>M?x=0:5<=M&&x[k+0]==47&&!(x[k+4]>>5)?(Me=[0],qt=[0],St=[0],G(vt=new O,x,k,M),Wt(vt,Me,qt,St)?(fe!=null&&(fe[0]=Me[0]),Ye!=null&&(Ye[0]=qt[0]),it!=null&&(it[0]=St[0]),x=1):x=0):x=0}else{if(10>M){Ie=7;break}fe=xt,x==null||10>M||!Ir(x,k+3,M-3)?x=0:(Ye=x[k+0]|x[k+1]<<8|x[k+2]<<16,it=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&Ye||3<(Ye>>1&7)||!(Ye>>4&1)||Ye>>5>=Be.Ja||!it||!x?x=0:(le&&(le[0]=it),fe&&(fe[0]=x),x=1))}if(!x||(le=le[0],xt=xt[0],Ke&&(xe[0]!=le||Oe[0]!=xt)))return 3;pe!=null&&(pe[0]=Be,pe.offset=k-pe.w,t(4294967286>k-pe.w),t(pe.offset==pe.ha-M));break}return Ie==0||Ie==7&&Ke&&pe==null?(se!=null&&(se[0]|=Be.na!=null&&0<Be.na.length),K!=null&&(K[0]=le),ae!=null&&(ae[0]=xt),0):Ie}function gm(x,k,M){var K=k.width,ae=k.height,se=0,le=0,fe=K,pe=ae;if(k.Da=x!=null&&0<x.Da,k.Da&&(fe=x.cd,pe=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=fe||0>=pe||se+fe>K||le+pe>ae))return 0;if(k.v=se,k.j=le,k.va=se+fe,k.o=le+pe,k.U=fe,k.T=pe,k.da=x!=null&&0<x.da,k.da){if(!Pe(fe,pe,M=[x.ib],se=[x.hb]))return 0;k.ib=M[0],k.hb=se[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*K/4&&k.hb<3*ae/4,k.Kb=0),1}function vm(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function Oh(x,k,M,K){if(K==null||0>=x||0>=k)return 2;if(M!=null){if(M.Da){var ae=M.cd,se=M.bd,le=-2&M.v,fe=-2&M.j;if(0>le||0>fe||0>=ae||0>=se||le+ae>x||fe+se>k)return 2;x=ae,k=se}if(M.da){if(!Pe(x,k,ae=[M.ib],se=[M.hb]))return 2;x=ae[0],k=se[0]}}K.width=x,K.height=k;e:{var pe=K.width,xe=K.height;if(x=K.S,0>=pe||0>=xe||!(x>=by&&13>x))x=2;else{if(0>=K.Rd&&K.sd==null){le=se=ae=k=0;var Oe=(fe=pe*BP[x])*xe;if(11>x||(se=(xe+1)/2*(k=(pe+1)/2),x==12&&(le=(ae=pe)*xe)),(xe=i(Oe+2*se+le))==null){x=1;break e}K.sd=xe,11>x?((pe=K.f.RGBA).eb=xe,pe.fb=0,pe.A=fe,pe.size=Oe):((pe=K.f.kb).y=xe,pe.O=0,pe.fa=fe,pe.Fd=Oe,pe.f=xe,pe.N=0+Oe,pe.Ab=k,pe.Cd=se,pe.ea=xe,pe.W=0+Oe+se,pe.Db=k,pe.Ed=se,x==12&&(pe.F=xe,pe.J=0+Oe+2*se),pe.Tc=le,pe.lb=ae)}if(k=1,ae=K.S,se=K.width,le=K.height,ae>=by&&13>ae)if(11>ae)x=K.f.RGBA,k&=(fe=Math.abs(x.A))*(le-1)+se<=x.size,k&=fe>=se*BP[ae],k&=x.eb!=null;else{x=K.f.kb,fe=(se+1)/2,Oe=(le+1)/2,pe=Math.abs(x.fa),xe=Math.abs(x.Ab);var Ke=Math.abs(x.Db),Ye=Math.abs(x.lb),Be=Ye*(le-1)+se;k&=pe*(le-1)+se<=x.Fd,k&=xe*(Oe-1)+fe<=x.Cd,k=(k&=Ke*(Oe-1)+fe<=x.Ed)&pe>=se&xe>=fe&Ke>=fe,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,ae==12&&(k&=Ye>=se,k&=Be<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||M!=null&&M.fd&&(x=vm(K)),x}var si=64,Ih=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jh=24,Dh=32,ym=8,gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,k,M){return k[M+0]},S.Predictor3=function(x,k,M){return k[M+1]},S.Predictor4=function(x,k,M){return k[M-1]},S.Predictor5=function(x,k,M){return Ze(Ze(x,k[M+1]),k[M+0])},S.Predictor6=function(x,k,M){return Ze(x,k[M-1])},S.Predictor7=function(x,k,M){return Ze(x,k[M+0])},S.Predictor8=function(x,k,M){return Ze(k[M-1],k[M+0])},S.Predictor9=function(x,k,M){return Ze(k[M+0],k[M+1])},S.Predictor10=function(x,k,M){return Ze(Ze(x,k[M-1]),Ze(k[M+0],k[M+1]))},S.Predictor11=function(x,k,M){var K=k[M+0];return 0>=yt(K>>24&255,x>>24&255,(k=k[M-1])>>24&255)+yt(K>>16&255,x>>16&255,k>>16&255)+yt(K>>8&255,x>>8&255,k>>8&255)+yt(255&K,255&x,255&k)?K:x},S.Predictor12=function(x,k,M){var K=k[M+0];return(De((x>>24&255)+(K>>24&255)-((k=k[M-1])>>24&255))<<24|De((x>>16&255)+(K>>16&255)-(k>>16&255))<<16|De((x>>8&255)+(K>>8&255)-(k>>8&255))<<8|De((255&x)+(255&K)-(255&k)))>>>0},S.Predictor13=function(x,k,M){var K=k[M-1];return(et((x=Ze(x,k[M+0]))>>24&255,K>>24&255)<<24|et(x>>16&255,K>>16&255)<<16|et(x>>8&255,K>>8&255)<<8|et(x>>0&255,K>>0&255))>>>0};var g_=S.PredictorAdd0;S.PredictorAdd1=ft,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var xm=S.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var py,ao=S.ColorIndexInverseTransform,Lh=S.MapARGB,my=S.VP8LColorIndexInverseTransformAlpha,gy=S.MapAlpha,Tu=S.VP8LPredictorsAdd=[];Tu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var od,vs,Xi,Eu,hc,pc,Mh,mc,fa,bm,Qi,io,Rh,vy,wm,ld,cd,Nu,ud,Fh,fd,ku,_m,so,oo,Pn,On,da,La=i(511),gc=i(2041),Sm=i(225),$h=i(767),yy=0,v_=gc,xy=Sm,Ms=$h,lo=La,by=0,wy=1,kP=2,_y=3,Sy=4,y_=5,CP=6,x_=7,b_=8,Ay=9,w_=10,XK=[2,3,7],QK=[3,3,11],PP=[280,256,256,256,40],JK=[0,1,1,1,0],ZK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rY=8,__=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Am=null,nY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cu=[],Ho=[],vc=[],cY=1,IP=2,Pu=[],co=[];st("UpsampleRgbLinePair",ue,3),st("UpsampleBgrLinePair",Re,3),st("UpsampleRgbaLinePair",Er,4),st("UpsampleBgraLinePair",Fr,4),st("UpsampleArgbLinePair",Tr,4),st("UpsampleRgba4444LinePair",Nt,2),st("UpsampleRgb565LinePair",Qe,2);var uY=S.UpsampleRgbLinePair,fY=S.UpsampleBgrLinePair,jP=S.UpsampleRgbaLinePair,DP=S.UpsampleBgraLinePair,LP=S.UpsampleArgbLinePair,MP=S.UpsampleRgba4444LinePair,dY=S.UpsampleRgb565LinePair,Ty=16,Ey=1<<Ty-1,Tm=-227,A_=482,RP=6,hY=(256<<RP)-1,FP=0,pY=i(256),mY=i(256),gY=i(256),vY=i(256),yY=i(A_-Tm),xY=i(A_-Tm);Sn("YuvToRgbRow",ue,3),Sn("YuvToBgrRow",Re,3),Sn("YuvToRgbaRow",Er,4),Sn("YuvToBgraRow",Fr,4),Sn("YuvToArgbRow",Tr,4),Sn("YuvToRgba4444Row",Nt,2),Sn("YuvToRgb565Row",Qe,2);var $P=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ny=[0,2,8],bY=[8,7,6,4,4,2,2,2,1,1,1,1],wY=1;this.WebPDecodeRGBA=function(x,k,M,K,ae){var se=wy,le=new fc,fe=new Je;le.ba=fe,fe.S=se,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,xe=fe.height,Oe=new at;if(Oe==null||x==null)var Ke=2;else t(Oe!=null),Ke=Ol(x,k,M,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Ke!=0?pe=0:(pe!=null&&(pe[0]=Oe.width[0]),xe!=null&&(xe[0]=Oe.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],K!=null&&(K[0]=fe.width),ae!=null&&(ae[0]=fe.height);e:{if(K=new Ft,(ae=new wu).data=x,ae.w=k,ae.ha=M,ae.kd=1,k=[0],t(ae!=null),((x=Ol(ae.data,ae.w,ae.ha,null,null,null,k,null,ae))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(t(le!=null),K.data=ae.data,K.w=ae.w+ae.offset,K.ha=ae.ha-ae.offset,K.put=kn,K.ac=Ar,K.bc=wa,K.ma=le,ae.xa){if((x=tt())==null){le=1;break e}if(function(Ye,Be){var xt=[0],it=[0],Ie=[0];t:for(;;){if(Ye==null)return 0;if(Be==null)return Ye.a=2,0;if(Ye.l=Be,Ye.a=0,G(Ye.m,Be.data,Be.w,Be.ha),!Wt(Ye.m,xt,it,Ie)){Ye.a=3;break t}if(Ye.xb=IP,Be.width=xt[0],Be.height=it[0],!qe(xt[0],it[0],1,Ye,null))break t;return 1}return t(Ye.a!=0),0}(x,K)){if(K=(k=Oh(K.width,K.height,le.Oa,le.ba))==0){t:{K=x;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((M=K.l)!=null),t((ae=M.ma)!=null),K.xb!=0){if(K.ca=ae.ba,K.tb=ae.tb,t(K.ca!=null),!gm(ae.Oa,M,_y)){K.a=2;break r}if(!He(K,M.width)||M.da)break r;if((M.da||ot(K.ca.S))&&$e(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&$e()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ve(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Se(K,K.V,K.Ba,K.c,K.i,M.o,_e))break r;ae.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(k=x.a)}else k=x.a}else{if((x=new Xt)==null){le=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,Yn(x,K)){if((k=Oh(K.width,K.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((ae=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(xe=Oe=0;4>xe;++xe)12>(Ke=ae.pb[xe]).lc&&(Ke.ia=pe*bY[0>Ke.lc?0:Ke.lc]>>3),Oe|=Ke.ia;Oe&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}on(x,K)||(k=x.a)}}else k=x.a}k==0&&le.Oa!=null&&le.Oa.fd&&(k=vm(le.ba))}le=k}se=le!=0?null:11>se?fe.f.RGBA.eb:fe.f.kb.y}else se=null;return se};var BP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,A){for(var D="",E=0;E<4;E++)D+=String.fromCharCode(S[A++]);return D}function u(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16)>>>0}function f(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16|S[A+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(S,A){var D={},E=0,N=!1,P=0,V=0;if(D.frames=[],!function(R,z,H,Z){for(var oe=0;oe<Z;oe++)if(R[z+oe]!=H.charCodeAt(oe))return!0;return!1}(S,A,"RIFF",4)){for(f(S,A+=4),A+=8;A<S.length;){var X=c(S,A),Y=f(S,A+=4);A+=4;var J=Y+(1&Y);switch(X){case"VP8 ":case"VP8L":D.frames[E]===void 0&&(D.frames[E]={}),(ee=D.frames[E]).src_off=N?V:A-8,ee.src_size=P+Y+8,E++,N&&(N=!1,P=0,V=0);break;case"VP8X":(ee=D.header={}).feature_flags=S[A];var G=A+4;ee.canvas_width=1+u(S,G),G+=3,ee.canvas_height=1+u(S,G),G+=3;break;case"ALPH":N=!0,P=J+8,V=A-8;break;case"ANIM":(ee=D.header).bgcolor=f(S,A),G=A+4,ee.loop_count=(W=S)[(O=G)+0]<<0|W[O+1]<<8,G+=2;break;case"ANMF":var q,ee;(ee=D.frames[E]={}).offset_x=2*u(S,A),A+=3,ee.offset_y=2*u(S,A),A+=3,ee.width=1+u(S,A),A+=3,ee.height=1+u(S,A),A+=3,ee.duration=u(S,A),A+=3,q=S[A++],ee.dispose=1&q,ee.blend=q>>1&1}X!="ANMF"&&(A+=J)}var W,O;return D}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var I=0;I<b.length&&b[I].blend!=0;I++);}var C=b[0],j=m.WebPDecodeRGBA(v,C.src_off,C.src_size,p,h);C.rgba=j,C.imgwidth=p[0],C.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=j[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof fE=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var w=fE(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,p,g,m){for(var v,y,w,b=h.length/p,I=new Uint8Array(h.length+b),C=u(),j=0;j<b;j+=1){if(w=j*p,v=h.subarray(w,w+p),m)I.set(m(v,g,y),w+j);else{for(var T,S=C.length,A=[];T<S;T+=1)A[T]=C[T](v,g,y);var D=f(A.concat());I.set(A[D],w+j)}y=v}return I},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],w=h.length;y[0]=3;for(var b=0;b<w;b+=1)m=h[b-p]||0,v=g&&g[b]||0,y[b+1]=h[b]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,w,b=[],I=h.length;b[0]=4;for(var C=0;C<I;C+=1)m=h[C-p]||0,v=g&&g[C]||0,y=g&&g[C-p]||0,w=c(m,v,y),b[C+1]=h[C]-w+256&255;return b},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,w,b,I,C,j,T,S,A,D,E,N,P,V,X=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new g9e(h)).imgData,y=w.bits,v=w.colorSpace,I=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){S=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,D=new Uint8Array(S*w.colors),A=new Uint8Array(S);var J,G=w.pixelBitlength-w.bits;for(P=0,V=0;P<S;P++){for(N=T[P],J=0;J<G;)D[V++]=N>>>J&255,J+=w.bits;A[P]=N>>>J&255}}if(w.bits===16){S=(T=new Uint32Array(w.decodePixels().buffer)).length,D=new Uint8Array(S*(32/w.pixelBitlength)*w.colors),A=new Uint8Array(S*(32/w.pixelBitlength)),E=w.colors>1,P=0,V=0;for(var q=0;P<S;)N=T[P++],D[V++]=N>>>0&255,E&&(D[V++]=N>>>16&255,N=T[P++],D[V++]=N>>>0&255),A[q++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(D,w.width*w.colors,w.colors,m),j=r(A,w.width,1,m)):(h=D,j=A,X=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,C=w.palette,w.transparency.indexed)){var ee=w.transparency.indexed,W=0;for(P=0,S=ee.length;P<S;++P)W+=ee[P];if((W/=255)===S-1&&ee.indexOf(0)!==-1)b=[ee.indexOf(0)];else if(W!==S){for(T=w.decodePixels(),A=new Uint8Array(T.length),P=0,S=T.length;P<S;P++)A[P]=ee[T[P]];j=r(A,w.width,1)}}var O=function(R){var z;switch(R){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(m);return X===this.decode.FLATE_DECODE&&(Y="/Predictor "+O+" "),Y+="/Colors "+I+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:X,decodeParameters:Y,transparency:b,palette:C,sMask:j,predictor:O,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(pr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new v9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new CA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(pr.API),Zo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tn.log("bit decode error:"+r)}},Zo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Zo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Zo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Zo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Zo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Zo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Zo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Zo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Zo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new CA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(pr.API),TR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new TR(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new CA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(pr.API),pr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},pr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jh=pr.API,Bx=Jh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&nn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},wR=Jh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Jh.processArabic&&(e=Jh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Bx.apply(this,arguments).reduce(function(i,s){return i+s},0)},_R=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},SR=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=Bx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(I){(I=I.split(/\s*\n/)).length>1?w=w.concat(I.map(function(C,j){return(j&&C.length?`
`:"")+C})):w.push(I[0])}),m=w,l=wR.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(g=(a=Bx.apply(this,[n,r])).reduce(function(I,C){return I+C},0))>t||b){if(g>t){for(o=_R.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(I,C){return I+C},0)}else u=[n];f.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(I,C){return(C?y:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(c)},Jh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(SR.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(nn(h)!=="object")throw new Error("Don't know what to do with value type "+nn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,w=v,b=[],I="",C="",j=f.length-1,T=1;T<j;T+=1)(m=f[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([w,g]),w={},g=void 0):m=="}"?((p=b.pop())[0][p[1]]=w,g=void 0,w=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(I+=r[m],g=parseInt(I,16)*y,y=1,I=""):I+=m:r.hasOwnProperty(m)?(C+=r[m],w[g]=parseInt(C,16)*y,y=1,g=void 0,C=""):C+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(pr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Jg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(pr),function(e){function t(){return(mr.canvg?Promise.resolve(mr.canvg):sE(()=>import("./index.es-CEyd8Y1J.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}pr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),pr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},pr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(nn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(pr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+a0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+a0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+a0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+a0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+a0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,v="",y=0,w="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var I="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?I=h(v,m).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(I=r(v,g[m])),f.isHex=!0,{text:I,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(pr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(pr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var I=function(E){var N=E.charCodeAt(),P=N>>8,V=m[P];return V!==void 0?f[256*V+(255&N)]:P===252||P===253?"AL":y.test(P)?"L":P===8?"R":"N"},C=function(E){for(var N,P=0;P<E.length;P++){if((N=I(E.charAt(P)))==="L")return!1;if(N==="R")return!0}return!1},j=function(E,N,P,V){var X,Y,J,G,q=N[V];switch(q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(q="AN");break;case"AL":w=!0,q="R";break;case"WS":q="N";break;case"CS":V<1||V+1>=N.length||(X=P[V-1])!=="EN"&&X!=="AN"||(Y=N[V+1])!=="EN"&&Y!=="AN"?q="N":w&&(Y="AN"),q=Y===X?Y:"N";break;case"ES":q=(X=V>0?P[V-1]:"B")==="EN"&&V+1<N.length&&N[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&P[V-1]==="EN"){q="EN";break}if(w){q="N";break}for(J=V+1,G=N.length;J<G&&N[J]==="ET";)J++;q=J<G&&N[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(G=N.length,J=V+1;J<G&&N[J]==="NSM";)J++;if(J<G){var ee=E[V],W=ee>=1425&&ee<=2303||ee===64286;if(X=N[J],W&&(X==="R"||X==="AL")){q="R";break}}}q=V<1||(X=N[V-1])==="B"?"N":P[V-1];break;case"B":w=!1,a=!0,q=b;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":q="N"}return q},T=function(E,N,P){var V=E.split("");return P&&S(V,P,{hiLevel:b}),V.reverse(),N&&N.reverse(),V.join("")},S=function(E,N,P){var V,X,Y,J,G,q=-1,ee=E.length,W=0,O=[],R=b?p:h,z=[];for(w=!1,a=!1,i=!1,X=0;X<ee;X++)z[X]=I(E[X]);for(Y=0;Y<ee;Y++){if(G=W,O[Y]=j(E,z,O,Y),V=240&(W=R[G][g[O[Y]]]),W&=15,N[Y]=J=R[W][5],V>0)if(V===16){for(X=q;X<Y;X++)N[X]=1;q=-1}else q=-1;if(R[W][6])q===-1&&(q=Y);else if(q>-1){for(X=q;X<Y;X++)N[X]=J;q=-1}z[Y]==="B"&&(N[Y]=0),P.hiLevel|=J}i&&function(H,Z,oe){for(var de=0;de<oe;de++)if(H[de]==="S"){Z[de]=b;for(var re=de-1;re>=0&&H[re]==="WS";re--)Z[re]=b}}(z,N,ee)},A=function(E,N,P,V,X){if(!(X.hiLevel<E)){if(E===1&&b===1&&!a)return N.reverse(),void(P&&P.reverse());for(var Y,J,G,q,ee=N.length,W=0;W<ee;){if(V[W]>=E){for(G=W+1;G<ee&&V[G]>=E;)G++;for(q=W,J=G-1;q<J;q++,J--)Y=N[q],N[q]=N[J],N[J]=Y,P&&(Y=P[q],P[q]=P[J],P[J]=Y);W=G}W++}}},D=function(E,N,P){var V=E.split(""),X={hiLevel:b};return P||(P=[]),S(V,P,X),function(Y,J,G){if(G.hiLevel!==0&&u)for(var q,ee=0;ee<Y.length;ee++)J[ee]===1&&(q=v.indexOf(Y[ee]))>=0&&(Y[ee]=v[q+1])}(V,P,X),A(2,V,N,P,X),A(1,V,N,P,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,P){if(function(X,Y){if(Y)for(var J=0;J<X.length;J++)Y[J]=J;o===void 0&&(o=C(X)),c===void 0&&(c=C(X))}(E,N),s||!l||c)if(s&&l&&o^c)b=o?1:0,E=T(E,N,P);else if(!s&&l&&c)b=o?1:0,E=D(E,N,P),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(b=0,E=D(E,N,P)):(b=1,E=D(E,N,P),E=T(E,N));else if(s&&o&&!l&&c)b=1,E=D(E,N,P),E=T(E,N);else if(!s&&!l&&o^c){var V=u;o?(b=1,E=D(E,N,P),b=0,u=!1,E=D(E,N,P),u=V):(b=0,E=D(E,N,P),E=T(E,N),b=1,u=!1,E=D(E,N,P),u=V,E=T(E,N))}}else b=0,E=D(E,N,P);else b=o?1:0,E=D(E,N,P);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(pr),pr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $f(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new I9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new y9e(this.contents),this.head=new b9e(this),this.name=new T9e(this),this.cmap=new jK(this),this.toUnicode={},this.hhea=new w9e(this),this.maxp=new E9e(this),this.hmtx=new N9e(this),this.post=new S9e(this),this.os2=new _9e(this),this.loca=new O9e(this),this.glyf=new k9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Sl,$f=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),y9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new $f).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=DK.call(r);r.length%4;)r.push(0);for(i=new $f(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),x9e={}.hasOwnProperty,sc=function(e,t){for(var r in t)x9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Sl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var b9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new $f).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),ER=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var I,C;for(C=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)C.push(t.readUInt16());return C}(),t.pos+=2,m=function(){var I,C;for(C=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)C.push(t.readUInt16());return C}(),c=function(){var I,C;for(C=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)C.push(t.readUInt16());return C}(),u=function(){var I,C;for(C=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,o=function(){var I,C;for(C=[],l=I=0;0<=a?I<a:I>a;l=0<=a?++I:--I)C.push(t.readUInt16());return C}(),l=y=0,b=i.length;y<b;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,w,b,I,C,j,T,S,A,D,E,N,P,V,X,Y,J,G,q,ee,W,O,R,z,H,Z,oe,de,re,he,we,B;switch(V=new $f,s=Object.keys(t).sort(function(Ae,ve){return Ae-ve}),r){case"macroman":for(m=0,v=function(){var Ae=[];for(g=0;g<256;++g)Ae.push(0);return Ae}(),w={0:0},i={},X=0,q=s.length;X<q;X++)w[re=t[a=s[X]]]==null&&(w[re]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:i,subtable:V.data,maxGlyphID:m+1};case"unicode":for(N=[],f=[],b=0,w={},n={},y=c=null,Y=0,ee=s.length;Y<ee;Y++)w[C=t[a=s[Y]]]==null&&(w[C]=++b),n[a]={old:C,new:w[C]},o=w[C]-a,y!=null&&o===c||(y&&f.push(y),N.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),N.push(65535),D=2*(A=N.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*A-S,l=[],j=[],p=[],g=J=0,W=N.length;J<W;g=++J){if(E=N[g],u=f[g],E===65535){l.push(0),j.push(0);break}if(E-(P=n[E].new)>=32768)for(l.push(0),j.push(2*(p.length+A-g)),a=G=E;E<=u?G<=u:G>=u;a=E<=u?++G:--G)p.push(n[a].new);else l.push(P-E),j.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*A+2*p.length),V.writeUInt16(0),V.writeUInt16(D),V.writeUInt16(S),V.writeUInt16(h),V.writeUInt16(T),oe=0,O=f.length;oe<O;oe++)a=f[oe],V.writeUInt16(a);for(V.writeUInt16(0),de=0,R=N.length;de<R;de++)a=N[de],V.writeUInt16(a);for(he=0,z=l.length;he<z;he++)o=l[he],V.writeUInt16(o);for(we=0,H=j.length;we<H;we++)I=j[we],V.writeUInt16(I);for(B=0,Z=p.length;B<Z;B++)m=p[B],V.writeUInt16(m);return{charMap:n,subtable:V.data,maxGlyphID:b+1}}},e}(),jK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new ER(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=ER.encode(r,n),(i=new $f).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),w9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),_9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),S9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),A9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},T9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new A9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),E9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),N9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),DK=[].slice,k9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new $f(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new P9e(l,u,h,c,f):new C9e(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),C9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),P9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $f(DK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),O9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),I9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y;for(a in n=jK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(w){var b,I;for(b in I={},w)I[w[b]]=b;return I}(p),f=Object.keys(u).sort(function(w,b){return w-b}),m=function(){var w,b,I;for(I=[],w=0,b=f.length;w<b;w++)o=f[w],I.push(u[o]);return I}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();pr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function LK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var NR={},H0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:NR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return NR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),yE=function(e,t){return yE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},yE(e,t)};function MK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var RK=function(e){MK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function j9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function D9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function kw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function FK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=$K(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function $K(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function m_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function BK(e,t){var r=m_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function L9e(e,t,r,n,a){var i={},s=1.3333333333333333,o=PA(t,function(b){return a.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var l=PA(t,function(b){return a.getComputedStyle(b).color});l!=null&&(i.textColor=l);var c=R9e(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=PA(t,function(b){return a.getComputedStyle(b)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=M9e(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function M9e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function PA(e,t){var r=UK(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function UK(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:UK(e.parentElement,t):r}function R9e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=m_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function VK(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=F9e(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function F9e(e,t,r,n,a,i){for(var s=new RK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=L9e(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:$9e(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function $9e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function B9e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Oc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function zK(e,t){var r=new H0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();B9e(a,n,t);var i=Oc({},a,n,t),s;typeof window<"u"&&(s=window);var o=U9e(a,n,t),l=V9e(a,n,t),c=z9e(r,i),u=W9e(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function U9e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Oc({},c,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Oc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function V9e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function z9e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g=m_(t.margin,40/e.scaleFactor()),m=(r=q9e(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,b=t.theme||(w?"plain":"striped"),I=!!t.horizontalPageBreak,C=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:b,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:I,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function q9e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function W9e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=VK(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||H9e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function H9e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var xE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),G9e=function(e){MK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(xE),K9e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new G9e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new xE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new xE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),qK=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof RK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),WK=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=m_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Y9e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function X9e(e,t){Q9e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=bE(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=bE(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Z9e(t),eBe(t,e),J9e(t)}function Q9e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=BK(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=kw(c.text,c.styles,e)+f;var h=kw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function bE(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=bE(h,t,r))}return t}function J9e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function Z9e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function eBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=kR(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=kR(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function kR(e,t,r,n,a){return e.map(function(i){return tBe(i,t,r,n,a)})}function tBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=kw(e,r,n))return e;for(;t<kw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function HK(e,t){var r=new H0(e),n=rBe(t,r.scaleFactor()),a=new K9e(t,n);return X9e(r,a),r.applyStyles(r.userStyles),a}function rBe(e,t){var r=e.content,n=aBe(r.columns);if(r.head.length===0){var a=CR(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=CR(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:OA("head",r.head,n,s,i,t),body:OA("body",r.body,n,s,i,t),foot:OA("foot",r.foot,n,s,i,t)}}function OA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var b=iBe(e,v,c,a,n,i,w),I=new WK(y,b,e);f[v.dataKey]=I,f[v.index]=I,p=I.colSpan-1,s[v.index]={left:I.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new qK(l,c,e,f)});return o}function CR(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=nBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function nBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function aBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new Y9e(a,t,r)})}function iBe(e,t,r,n,a,i,s){var o=D9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Oc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Oc({},o.alternateRow,a.alternateRowStyles):{},p=j9e(i),g=Oc({},p,c,h,f);return Oc(g,s)}function sBe(e,t,r){var n;r===void 0&&(r={});var a=BK(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function oBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=sBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function GK(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new H0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(YK(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=Oc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?lBe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return ru(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Cw(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return ru(u,t,h,i,t.columns)})),FK(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function lBe(e,t,r,n){var a=oBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Zg(e,t,r,n,c.columns,!0):PR(e,t,n,c.columns),cBe(e,t,r,n,c.columns),IA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Zg(e,t,r,n,u,!0):PR(e,t,n,u),c=OR(e,t,s+1,n,u),IA(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Zg(e,t,r,n,h.columns,!0),OR(e,t,s+1,n,h.columns,f),IA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function PR(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return ru(e,t,i,r,n)})}function cBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Cw(e,t,i,o,r,n,a)})}function OR(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=KK(e,t,u,n);l.canEntireRowFit(f,a)&&(ru(e,t,l,n,a),o=r+c)}),o}function IA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return ru(e,t,i,r,n)})}function uBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function fBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new WK(c.raw,c.styles,c.section);u=Oc(u,c),u.text=[];var f=uBe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new qK(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function dBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Cw(e,t,r,n,a,i,s){var o=KK(e,t,n,i);if(r.canEntireRowFit(o,s))ru(e,t,r,i,s);else if(dBe(e,r,o,t)){var l=fBe(r,o,t,e);ru(e,t,r,i,s),Zg(e,t,a,i,s),Cw(e,t,l,n,a,i,s)}else Zg(e,t,a,i,s),Cw(e,t,r,n,a,i,s)}function ru(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}hBe(e,l,n);var u=l.getTextPos();LK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function hBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=$K(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),pBe(e,t,r,n.lineWidth))}function pBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function KK(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Zg(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return ru(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;FK(e,t,r,n),YK(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return ru(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function YK(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function mBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=zK(this,n),i=HK(this,a);return GK(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){LK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return H0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){H0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new H0(this),i=VK(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var jA;function gBe(e,t){var r=zK(e,t),n=HK(e,r);GK(e,n)}try{if(typeof window<"u"&&window){var IR=window,jR=IR.jsPDF||((jA=IR.jspdf)===null||jA===void 0?void 0:jA.jsPDF);jR&&mBe(jR)}}catch(e){console.error("Could not apply autoTable plugin",e)}const vBe=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(!0),[a,i]=U.useState(new Date),[s,o]=U.useState(new Date),[l,c]=U.useState("all"),[u,f]=U.useState("all"),[h,p]=U.useState(""),[g,m]=U.useState([]),{showToast:v}=rc(),{isDarkMode:y}=en(),{user:w}=ba(),b=async()=>{try{const E=(await lr(mt(Ge,"users"))).docs.map(N=>({id:N.id,...N.data()}));m(E)}catch(D){console.error("Error fetching users:",D),v("Failed to fetch users","error")}},I=async()=>{n(!0);try{let D=or(mt(Ge,"activityLogs"),Ia("time","desc"));a&&s?D=or(mt(Ge,"activityLogs"),nr("time",">=",db(a).toISOString()),nr("time","<=",Bv(s).toISOString()),Ia("time","desc")):a?D=or(mt(Ge,"activityLogs"),nr("time",">=",db(a).toISOString()),Ia("time","desc")):s&&(D=or(mt(Ge,"activityLogs"),nr("time","<=",Bv(s).toISOString()),Ia("time","desc")));let N=(await lr(D)).docs.map(P=>({id:P.id,user:P.data().user,role:P.data().role,detail:P.data().detail,time:P.data().time}));if(w&&w.role==="staff"&&(N=N.filter(P=>P.role!=="admin")),l!=="all"&&(N=N.filter(P=>P.user===l)),u!=="all"&&(N=N.filter(P=>{const V=P.detail.toLowerCase();return u==="inbound"?V.includes("added new product")||V.includes("edited product")||V.includes("quantity from")||V.includes("quantity to"):u==="outbound"?V.includes("units deducted from stock")||V.includes("deducted from stock"):!0})),h.trim()){const P=h.toLowerCase();N=N.filter(V=>{const X=V.detail.toLowerCase(),Y=V.user.toLowerCase(),J=V.role.toLowerCase(),G=X.match(/"([^"]+)"/),q=G?G[1].toLowerCase():"";return X.includes(P)||Y.includes(P)||J.includes(P)||q.includes(P)})}t(N)}catch(D){console.error("Error fetching activity logs:",D),v("Failed to fetch activity logs","error")}finally{n(!1)}};U.useEffect(()=>{b()},[]),U.useEffect(()=>{I()},[a,s,l,u,h,w]);const C=()=>{let D=g;return w&&w.role==="staff"&&(D=g.filter(E=>E.role!=="admin")),[{value:"all",label:"All Users"},...D.map(E=>({value:E.name,label:E.name}))]},j=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],T=()=>{i(null),o(null)},S=()=>{try{const E=[["User","Role","Activity","Time"].join(","),...e.map(X=>[X.user,X.role,`"${X.detail.replace(/"/g,'""')}"`,tr(new Date(X.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),N=new Blob([E],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),V=URL.createObjectURL(N);P.setAttribute("href",V),P.setAttribute("download",`activity_logs_${tr(new Date,"yyyy-MM-dd")}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)}catch(D){console.error("Error exporting to CSV:",D),v("Failed to export to CSV","error")}},A=()=>{var D,E;try{const N=new pr;N.setFontSize(16),N.text("Activity Logs Report",14,15),N.setFontSize(10);const P=a&&s?`${tr(a,"MMM d, yyyy")} - ${tr(s,"MMM d, yyyy")}`:a?`From ${tr(a,"MMM d, yyyy")}`:s?`To ${tr(s,"MMM d, yyyy")}`:"All Time";N.text(`Date Range: ${P}`,14,25),N.text(`User Filter: ${(D=C().find(V=>V.value===l))==null?void 0:D.label}`,14,30),N.text(`Activity Filter: ${(E=j.find(V=>V.value===u))==null?void 0:E.label}`,14,35),gBe(N,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,tr(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),N.save(`activity_logs_${tr(new Date,"yyyy-MM-dd")}.pdf`)}catch(N){console.error("Error exporting to PDF:",N),v("Failed to export to PDF","error")}};return d.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:d.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(z2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),d.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(z2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:d.jsx(kt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:D=>p(D.target.value),className:"w-full sm:w-96",icon:d.jsx(Oo,{size:16})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[d.jsx(zr,{value:l,onChange:D=>c(D.target.value),options:C(),className:"w-full sm:w-40"}),d.jsx(zr,{value:u,onChange:D=>f(D.target.value),options:j,className:"w-full sm:w-40"}),d.jsx(vC,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:T,className:"w-full sm:w-80"}),d.jsx(ut,{variant:"secondary",onClick:I,className:"flex items-center gap-2 w-full sm:w-auto",children:d.jsx(Za,{size:16})})]})]}),r?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:d.jsx(JU,{children:e.map(D=>d.jsxs(Xn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.user}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.role}),d.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.detail}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:tr(new Date(D.time),"MMM d, yyyy h:mm:ss a")})]},D.id))})})]})}),d.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(D=>d.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:D.user}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:D.role})]}),d.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[d.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),d.jsx("span",{className:"text-sm",children:D.detail})]}),d.jsx("div",{className:"text-xs mt-1",children:d.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",d.jsx("span",{className:"font-medium",children:tr(new Date(D.time),"MMM d, yyyy h:mm:ss a")})]})})]},D.id))})]}):d.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},yBe=()=>{const[e,t]=U.useState("daily"),[r,n]=U.useState(Pr(new Date,7)),[a,i]=U.useState(new Date),[s,o]=U.useState([]),[l,c]=U.useState([]),[u,f]=U.useState([]),[h,p]=U.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=U.useState(!0),{isDarkMode:v}=en(),{user:y}=ba(),w=U.useCallback(async()=>{m(!0);try{const A=a||new Date,D=r||Pr(A,7),E=or(mt(Ge,"orders"),nr("createdAt",">=",sr.fromDate(D)),nr("createdAt","<=",sr.fromDate(A))),P=(await lr(E)).docs.map(De=>{var et,yt,ft;return{id:De.id,...De.data(),createdAt:(et=De.data().createdAt)==null?void 0:et.toDate(),updatedAt:(yt=De.data().updatedAt)==null?void 0:yt.toDate(),shippedTime:(ft=De.data().shippedTime)==null?void 0:ft.toDate()}}),V=or(mt(Ge,"inventory")),Y=(await lr(V)).docs.map(De=>({id:De.id,...De.data(),lastUpdated:De.data().lastUpdated instanceof sr?De.data().lastUpdated.toDate():new Date(De.data().lastUpdated)})),J=or(mt(Ge,"activityLogs"),nr("time",">=",D.toISOString()),nr("time","<=",A.toISOString()),Ia("time","desc")),q=(await lr(J)).docs.map(De=>({id:De.id,...De.data()}));f(q),o(Y),c(P);const ee=Y.reduce((De,et)=>De+(et.quantity||0),0),W=Y.reduce((De,et)=>De+(et.quantity||0)*(et.price||0),0),O=P.length,R=Pr(new Date,1),z=new Date,H=P.filter(De=>{const et=De.createdAt;return et>=R&&et<=z}),Z=H.length,oe=H.reduce((De,et)=>De+(et.totalAmount||0),0),de=a||new Date,re=r||Pr(de,7),we=q.filter(De=>{const et=new Date(De.time);return et>=re&&et<=de}).filter(De=>{const et=De.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(et){const[,It]=et;return Y.some(Dt=>Dt.name===It)}const yt=De.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(yt){const[,It]=yt;return Y.some(Dt=>Dt.name===It)}return De.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(It=>It.test(De.detail)),!0}),B=de.getTime()-re.getTime(),Ae=new Date(re.getTime()-B),ve=new Date(re.getTime()),te=q.filter(De=>{const et=new Date(De.time);return et>=Ae&&et<=ve}).filter(De=>{const et=De.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(et){const[,It]=et;return Y.some(Dt=>Dt.name===It)}const yt=De.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(yt){const[,It]=yt;return Y.some(Dt=>Dt.name===It)}return De.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(It=>It.test(De.detail)),!0}),Pe=we.reduce((De,et)=>{const yt=et.detail.match(/(\d+) units deducted/);return De+(yt?parseInt(yt[1]):0)},0),Fe=te.reduce((De,et)=>{const yt=et.detail.match(/(\d+) units deducted/);return De+(yt?parseInt(yt[1]):0)},0),Ve=we.reduce((De,et)=>{const yt=et.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(yt){const[,wt,It]=yt;if(Y.find(Et=>Et.name===wt))return De+parseInt(It)}const ft=et.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ft){const[,wt,It,Dt]=ft;if(Y.find(nt=>nt.name===wt)){const nt=parseInt(Dt)-parseInt(It);if(nt>0)return De+nt}}return De},0),rt=we.reduce((De,et)=>{const yt=et.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(yt){const[,wt,It]=yt,Dt=Y.find(Et=>Et.name===wt);if(Dt){const Et=Dt.price||0;return De+parseInt(It)*Et}}const ft=et.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ft){const[,wt,It,Dt]=ft,Et=Y.find(nt=>nt.name===wt);if(Et){const nt=parseInt(Dt)-parseInt(It);if(nt>0){const Jt=Et.price||0;return De+nt*Jt}}}return De},0),Ze=we.reduce((De,et)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(wt=>wt.test(et.detail))){let wt=0;const It=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,Dt=et.detail.match(It);if(Dt)wt=parseInt(Dt[1]);else{const Et=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const nt of Et){const Jt=et.detail.match(nt);if(Jt){if(Jt.length===3){const zt=parseInt(Jt[1]),Rr=parseInt(Jt[2]);wt=Math.abs(zt-Rr)}else wt=parseInt(Jt[1]);break}}}return{incidents:De.incidents+1,units:De.units+(wt>0?wt:1)}}return De},{incidents:0,units:0}).incidents;p({totalOrders:O,totalStock:ee,totalInventoryValue:W,totalDamagedProducts:Ze,yesterdayOrders:Z,yesterdayStockChange:0,yesterdayRevenue:oe,totalDeductions:Pe,previousDeductions:Fe,todayStockAdditions:Ve,todayInventoryValueAdditions:rt})}catch(A){console.error("Error fetching data:",A)}finally{m(!1)}},[r,a]),b=()=>{n(null),i(null)};if(U.useEffect(()=>{w()},[w]),U.useEffect(()=>{},[e]),!y||y.role!=="admin")return d.jsx(k4,{to:"/",replace:!0});const I=()=>{const A=[],D=new Map,E=new Date;let N;switch(e){case"daily":N=Pr(E,7);break;case"weekly":N=Pr(E,30);break;case"monthly":N=Pr(E,90);break;default:N=Pr(E,7)}return u.filter(X=>{const Y=new Date(X.time);return Y>=N&&Y<=E}).filter(X=>{const Y=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Y){const[,G]=Y;return s.some(q=>q.name===G)}const J=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,G]=J;return s.some(q=>q.name===G)}return!0}).forEach(X=>{let Y=0,J=!1,G="";const q=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(q){const[,W,O]=q;s.find(z=>z.name===W)&&(Y=parseInt(O),G=W,J=!0)}const ee=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,W,O,R]=ee;if(s.find(H=>H.name===W)){const H=parseInt(R)-parseInt(O);H>0&&(Y=H,G=W,J=!0)}}if(J){const W=new Date(X.time);let O;switch(e){case"daily":O=tr(W,"MMM dd");break;case"weekly":O=tr(W,"'Week' w");break;case"monthly":O=tr(W,"MMM yyyy");break}const R=D.get(O)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(G),D.set(O,{activities:R.activities+1,units:R.units+Y,uniqueProducts:R.uniqueProducts})}}),D.forEach((X,Y)=>{A.push({date:Y,activities:X.activities,units:X.units,uniqueProducts:X.uniqueProducts.size})}),A.sort((X,Y)=>{const J=new Date(X.date),G=new Date(Y.date);return J.getTime()-G.getTime()})},C=()=>{const A=[],D=new Map,E=new Date;let N;switch(e){case"daily":N=Pr(E,7);break;case"weekly":N=Pr(E,30);break;case"monthly":N=Pr(E,90);break;default:N=Pr(E,7)}return u.filter(X=>{const Y=new Date(X.time);return Y>=N&&Y<=E}).filter(X=>(X.detail.match(/(\d+) units deducted from stock/),!0)).forEach(X=>{const Y=X.detail.match(/(\d+) units deducted from stock/);if(Y){const J=new Date(X.time);let G;switch(e){case"daily":G=tr(J,"MMM dd");break;case"weekly":G=tr(J,"'Week' w");break;case"monthly":G=tr(J,"MMM yyyy");break}const q=D.get(G)||0;D.set(G,q+parseInt(Y[1]))}}),D.forEach((X,Y)=>{A.push({date:Y,products:X})}),A.sort((X,Y)=>{const J=new Date(X.date),G=new Date(Y.date);return J.getTime()-G.getTime()})},j=()=>{const A=[],D=new Map,E=[],N=a||new Date,P=r||Pr(N,7);u.filter(J=>{const G=new Date(J.time);return G>=P&&G<=N}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(q=>q.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(J.detail))){const ee=new Date(J.time);let W;switch(e){case"daily":W=tr(ee,"MMM dd");break;case"weekly":W=tr(ee,"'Week' w");break;case"monthly":W=tr(ee,"MMM yyyy");break}let O=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,z=J.detail.match(R);if(z)O=parseInt(z[1]);else{const de=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const re of de){const he=J.detail.match(re);if(he){if(he.length===3){const we=parseInt(he[1]),B=parseInt(he[2]);O=Math.abs(we-B)}else O=parseInt(he[1]);break}}}let H="Unknown Product";const Z=J.detail.match(/"([^"]+)"/);Z&&(H=Z[1]),E.push({date:W,time:tr(ee,"HH:mm"),user:J.user,productName:H,units:O>0?O:1,detail:J.detail}),D.has(W)||D.set(W,{incidents:0,units:0,productNames:new Set});const oe=D.get(W);oe.incidents+=1,oe.units+=O>0?O:1,oe.productNames.add(H)}}),D.forEach((J,G)=>{A.push({date:G,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const Y=A.sort((J,G)=>new Date(J.date).getTime()-new Date(G.date).getTime());return Y.detailedIncidents=E.sort((J,G)=>{const q=new Date(J.date+" "+J.time);return new Date(G.date+" "+G.time).getTime()-q.getTime()}),Y},T=()=>{try{const A=tr(new Date,"yyyy-MM-dd-HH-mm"),D=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(ee=>[ee.name,ee.quantity,ee.price,`${ee.locationCode}-${ee.shelfNumber}`,ee.status,ee.damagedItems]),N=I(),P=C(),V=j(),X=Math.max(N.length,P.length,V.length,E.length),Y=[];Y.push(`Warehouse Analytics Report - ${D} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${tr(new Date,"yyyy-MM-dd HH:mm:ss")}`),Y.push(""),Y.push("SUMMARY STATISTICS"),Y.push(`Total Stock Added (${D}),${h.todayStockAdditions},Total Units Deducted (${D}),${h.totalDeductions},Total Damaged Products (${D}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),Y.push(""),Y.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),Y.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ee=0;ee<X;ee++){const W=[];if(ee<N.length){const O=N[ee];W.push(O.date,O.activities,O.units,O.uniqueProducts)}else W.push("","","","");if(ee<P.length){const O=P[ee];W.push(O.date,O.products)}else W.push("","");if(ee<V.length){const O=V[ee];W.push(O.date,O.products,O.units)}else W.push("","","");if(ee<E.length){const O=E[ee];W.push(...O)}else W.push("","","","","","");Y.push(W.join(","))}Y.push(""),Y.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),Y.push("Date,Time,User,Product Name,Units Damaged,Details"),V.detailedIncidents&&V.detailedIncidents.length>0?V.detailedIncidents.forEach(ee=>{Y.push(`${ee.date},${ee.time},${ee.user},${ee.productName},${ee.units},"${ee.detail.replace(/"/g,'""')}"`)}):Y.push("No detailed incidents available,,,,,");const J=Y.join(`
`),G=new Blob([J],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.href=URL.createObjectURL(G),q.download=`warehouse-report-${D}-${A}.csv`,q.click(),URL.revokeObjectURL(q.href)}catch(A){console.error("Error exporting CSV:",A),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const A=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",D=I(),E=C(),N=j(),P=N.detailedIncidents||[];console.log("Damaged Data:",N),console.log("Detailed Incidents:",P),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!P||P.length===0)&&console.log("No detailed incidents found, generating on the fly...");const V=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${A}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${A}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${tr(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${D.length}</p>
                <p><strong>Total Activities:</strong> ${D.reduce((Y,J)=>Y+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${D.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${D.reduce((Y,J)=>Y+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.activities}</td>
                      <td>${Y.units}</td>
                      <td>${Y.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${D.length>15?`<tr><td colspan="4"><em>... and ${D.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((Y,J)=>Y+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((Y,J)=>Y+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${P.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                      <td>${Y.units}</td>
                      <td>${Y.productNames?Y.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${P.length>0?P.slice(0,50).map(Y=>`
                    <tr>
                      <td>${Y.date} ${Y.time}</td>
                      <td>${Y.user}</td>
                      <td>${Y.productName}</td>
                      <td>${Y.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${Y.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${P.length>50?`<tr><td colspan="5"><em>... and ${P.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(Y=>Y.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(Y=>Y.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((Y,J)=>Y+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(Y=>`
                    <tr>
                      <td>${Y.name}</td>
                      <td>${Y.quantity}</td>
                      <td>${Y.price&&!isNaN(Y.price)?`£${Y.price.toFixed(2)}`:"Not set"}</td>
                      <td>${Y.locationCode}-${Y.shelfNumber}</td>
                      <td>${Y.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,X=window.open("","_blank");X?(X.document.write(V),X.document.close(),X.focus(),setTimeout(()=>{X.print()},500)):alert("Please allow pop-ups to export PDF")}catch(A){console.error("Error exporting PDF:",A),alert("Failed to export PDF. Please try again.")}};return d.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[d.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),d.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[d.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[d.jsx(z2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),d.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[d.jsx(z2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(zr,{value:e,onChange:A=>t(A.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(vC,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:b,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),d.jsx(ut,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:d.jsx(Za,{size:16,className:g?"animate-spin":""})})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?d.jsxs(d.Fragment,{children:[d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(fi,{title:`Total Stock Added (${r&&a?`${tr(r,"MMM d")} - ${tr(a,"MMM d, yyyy")}`:r?`From ${tr(r,"MMM d, yyyy")}`:a?`To ${tr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:d.jsx(tp,{size:24,className:"text-blue-600"})}),d.jsx(fi,{title:`Total Units Deducted (${r&&a?`${tr(r,"MMM d")} - ${tr(a,"MMM d, yyyy")}`:r?`From ${tr(r,"MMM d, yyyy")}`:a?`To ${tr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:d.jsx(l9,{size:24,className:"text-blue-600"})}),d.jsx(fi,{title:`Total Damaged Products (${r&&a?`${tr(r,"MMM d")} - ${tr(a,"MMM d, yyyy")}`:r?`From ${tr(r,"MMM d, yyyy")}`:a?`To ${tr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-blue-600"})}),d.jsx(fi,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(q2,{size:24,className:"text-blue-600"})})]})}),g?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Wg,{width:"100%",height:"100%",children:d.jsxs(Qg,{data:I(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(_s,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Inbound Activities"?[`${A} activities`,D]:D==="Units Added"?[`${A} units`,D]:D==="Affected Products"?[`${A} products`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),d.jsx(vl,{}),d.jsx(pi,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Wg,{width:"100%",height:"100%",children:d.jsxs(Qg,{data:C(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(_s,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),d.jsx(vl,{}),d.jsx(pi,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Wg,{width:"100%",height:"100%",children:d.jsxs(Qg,{data:j(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(_s,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Damaged Incidents"?[`${A} incidents`,D]:D==="Units Damaged"?[`${A} units`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),d.jsx(vl,{}),d.jsx(pi,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),d.jsx(pi,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},xBe=()=>{const{user:e,setUser:t}=ba(),{showToast:r}=rc(),{isDarkMode:n,toggleDarkMode:a}=en(),[i,s]=U.useState(!1),[o,l]=U.useState({}),[c,u]=U.useState([]),[f,h]=U.useState(null),[p,g]=U.useState(!1),[m,v]=U.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=U.useState({}),[b,I]=U.useState({}),[C,j]=U.useState(!1),[T,S]=U.useState(null),[A,D]=U.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=U.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),P=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const oe=(await lr(mt(Ge,"users"))).docs.map(de=>({id:de.id,...de.data()}));u(oe),console.log("Fetched users:",oe.map(de=>({id:de.id,username:de.username,name:de.name})))}catch(Z){console.error("Error fetching users:",Z),r("Error fetching users","error")}finally{s(!1)}}};U.useEffect(()=>{P()},[e==null?void 0:e.role,r]);const V=Z=>Z.split(" ").map(oe=>oe[0]).join("").toUpperCase().slice(0,2),X=Z=>{const{name:oe,value:de}=Z.target;D(re=>({...re,[oe]:de})),o[oe]&&l(re=>{const he={...re};return delete he[oe],he})},Y=()=>{const Z={};return A.username.trim()||(Z.username="Username is required"),A.email.trim()&&!/\S+@\S+\.\S+/.test(A.email)&&(Z.email="Invalid email format"),A.name.trim()||(Z.name="Name is required"),(A.currentPassword||A.newPassword||A.confirmPassword)&&(A.currentPassword?A.currentPassword!==(e==null?void 0:e.password)&&(Z.currentPassword="Current password is incorrect"):Z.currentPassword="Current password is required",A.newPassword?A.newPassword.length<6&&(Z.newPassword="Password must be at least 6 characters"):Z.newPassword="New password is required",A.newPassword!==A.confirmPassword&&(Z.confirmPassword="Passwords do not match")),l(Z),Object.keys(Z).length===0},J=async Z=>{if(Z.preventDefault(),!!e&&Y()){s(!0);try{const oe={username:A.username,email:A.email,name:A.name,password:A.currentPassword!=""&&A.confirmPassword!=""&&A.newPassword!=""?A.newPassword:e.password},de=[];e.username!==A.username&&de.push(`changed username from "${e.username}" to "${A.username}"`),e.email!==A.email&&de.push(`changed email from "${e.email}" to "${A.email}"`),e.name!==A.name&&de.push(`changed full name from "${e.name}" to "${A.name}"`),A.currentPassword&&A.newPassword&&de.push("changed their password");const re=wr(Ge,"users",e.id);await En(re,oe),de.length>0&&await hr(mt(Ge,"activityLogs"),{user:e.name,role:e.role,detail:de.length===1?de[0]:`made multiple profile changes: ${de.join("; ")}`,time:new Date().toISOString()}),t({...e,username:A.username,email:A.email,name:A.name,password:A.newPassword||e.password}),D(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(oe){console.error("Error updating profile:",oe),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},G=Z=>{console.log("Editing user:",Z),h(Z),I({}),N({username:Z.username,email:Z.email,name:Z.name,newPassword:"",confirmPassword:""})},q=Z=>{const{name:oe,value:de}=Z.target;N(re=>({...re,[oe]:de})),b[oe]&&I(re=>{const he={...re};return delete he[oe],he})},ee=async()=>{if(f)try{if(s(!0),I({}),!E.username.trim()){I({username:"Username is required"});return}if(!E.name.trim()){I({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){I({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){I({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const Z=wr(Ge,"users",f.id);console.log("User reference:",Z.path);const oe={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(oe.password=E.newPassword),console.log("Attempting to update document with data:",oe);try{await En(Z,oe),console.log("User updated successfully in Firestore")}catch(de){console.error("Failed to update by ID, trying to find by username:",de);const re=or(mt(Ge,"users"),nr("username","==",f.username)),he=await lr(re);if(he.empty)throw new Error("User not found by username either");{const we=he.docs[0];console.log("Found user by username, actual ID:",we.id);const B=wr(Ge,"users",we.id);await En(B,oe),console.log("User updated successfully using fallback method"),u(Ae=>Ae.map(ve=>ve.username===f.username?{...ve,id:we.id,...oe}:ve))}}await hr(mt(Ge,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(de=>de.map(re=>re.id===f.id?{...re,...oe}:re)),r("User updated successfully","success"),h(null)}catch(Z){console.error("Error updating user:",Z),console.error("Error details:",{editingUser:f,userEditForm:E,error:Z}),r("Failed to update user","error")}finally{s(!1)}},W=Z=>{const{name:oe,value:de}=Z.target;v(re=>({...re,[oe]:de})),y[oe]&&w(re=>{const he={...re};return delete he[oe],he})},O=()=>{const Z={};return m.username.trim()||(Z.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Z.email="Invalid email format"),m.name.trim()||(Z.name="Name is required"),m.password?m.password.length<6&&(Z.password="Password must be at least 6 characters"):Z.password="Password is required",m.password!==m.confirmPassword&&(Z.confirmPassword="Passwords do not match"),w(Z),Object.keys(Z).length===0},R=async Z=>{if(Z.preventDefault(),!!O()){s(!0);try{const de=(await lr(mt(Ge,"users"))).docs.map(he=>he.data());if(de.some(he=>he.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&de.some(he=>he.email===m.email)){w({email:"Email already exists"});return}const re=await hr(mt(Ge,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await hr(mt(Ge,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:re.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(oe){console.error("Error adding user:",oe),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},z=async(Z,oe)=>{S({username:oe,name:Z}),j(!0)},H=async()=>{if(T)try{s(!0);const Z=mt(Ge,"users"),oe=or(Z,nr("username","==",T.username)),de=await lr(oe);if(de.empty){r("User not found.","error");return}const re=de.docs[0],he=wr(Ge,"users",re.id);await Ys(he),await hr(mt(Ge,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(we=>we.filter(B=>B.username!==T.username)),r("User deleted successfully!","success")}catch(Z){console.error("Error deleting user:",Z),r("Failed to delete user. Please try again.","error")}finally{s(!1),j(!1),S(null)}};return d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),d.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&d.jsx(ut,{variant:"secondary",onClick:P,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:d.jsx(Za,{size:16,className:i?"animate-spin":""})}),d.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?d.jsx(o9,{size:20}):d.jsx(i9,{size:20})})]})]}),f&&d.jsxs(an,{isOpen:!!f,onClose:()=>{h(null),I({})},title:"Edit User",size:"md",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(kt,{label:"Username",name:"username",value:E.username,onChange:q,error:b.username}),d.jsx(kt,{label:"Email",name:"email",type:"email",value:E.email,onChange:q,error:b.email}),d.jsx(kt,{label:"Name",name:"name",value:E.name,onChange:q,error:b.name}),d.jsx(Vu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:q,error:b.newPassword}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:q,error:b.confirmPassword})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx(ut,{variant:"secondary",onClick:()=>{h(null),I({})},disabled:i,children:"Cancel"}),d.jsx(ut,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),d.jsxs(an,{isOpen:C,onClose:()=>j(!1),title:"Confirm Deletion",size:"sm",children:[d.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(ut,{variant:"secondary",onClick:()=>j(!1),disabled:i,children:"Cancel"}),d.jsx(ut,{variant:"danger",onClick:H,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:d.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:V((e==null?void 0:e.name)||"")})})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:A.name}),d.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Username",name:"username",value:A.username,onChange:X,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),d.jsx(kt,{label:"Email",name:"email",type:"email",value:A.email,onChange:X,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),d.jsx(kt,{label:"Full Name",name:"name",value:A.name,onChange:X,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),d.jsx(Vu,{label:"Current Password",name:"currentPassword",value:A.currentPassword,onChange:X,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vu,{label:"New Password",name:"newPassword",value:A.newPassword,onChange:X,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:A.confirmPassword,onChange:X,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&d.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ut,{type:"submit",isLoading:i,icon:d.jsx(j4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[d.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),d.jsxs(ut,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[d.jsx(j4,{size:16}),"Add New User"]})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[d.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>d.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.username}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.email||"-"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.role==="admin"?"Admin":Z.role==="staff"?"Staff":"Supply & Serve"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>G(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Gs,{size:16})}),d.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>z(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(is,{size:16})})]})})]},Z.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),d.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Z.username})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>G(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Gs,{size:16})}),d.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>z(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(is,{size:16})})]})]}),d.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Z.email||"-"}),d.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Z.role==="admin"?"Admin":Z.role==="staff"?"Staff":"Supply & Serve"})]},Z.id))})]}),d.jsx(an,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Username",name:"username",value:m.username,onChange:W,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),d.jsx(kt,{label:"Email",name:"email",type:"email",value:m.email,onChange:W,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(kt,{label:"Full Name",name:"name",value:m.name,onChange:W,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),d.jsx(zr,{label:"Role",name:"role",value:m.role,onChange:W,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"}],fullWidth:!0})]}),d.jsx(Vu,{label:"Password",name:"password",value:m.password,onChange:W,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:W,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ut,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},DA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],bBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=U.useState(""),[i,s]=U.useState("stock sold"),[o,l]=U.useState(""),c=DA.includes(e.storeName)?DA:[e.storeName,...DA],u=[...c,"other"],[f,h]=U.useState(e.storeName||c[0]||""),[p,g]=U.useState(""),{isDarkMode:m}=en(),v=async b=>{b.preventDefault();const I=Number(n);if(!n||I<=0||I>e.quantity)return;const C=i==="other"?o:i,j=f==="other"?p.trim():f.trim();await t({id:e.id,quantity:e.quantity-I,reason:C,storeName:j})},w=(()=>{const b=Number(n);return!n||b<=0?"Quantity to deduct must be greater than 0":b>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return d.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(kt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:b=>a(b.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(zr,{id:"reason",value:i,onChange:b=>s(b.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(kt,{id:"otherReason",type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(zr,{id:"storeName",value:f,onChange:b=>h(b.target.value),options:u.map(b=>({value:b,label:b==="other"?"Other":b})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),f==="other"&&d.jsx(kt,{id:"otherStoreName",type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:w})]}):d.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsx("div",{className:"flex justify-end space-x-3",children:d.jsx(ut,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?d.jsxs(d.Fragment,{children:[d.jsx(as,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},wBe=()=>{const[e,t]=U.useState(""),[r,n]=U.useState("name"),[a,i]=U.useState(!1),[s,o]=U.useState(!1),[l,c]=U.useState(null),[u,f]=U.useState([]),[h,p]=U.useState(!1),[g,m]=U.useState(new Set),[v,y]=U.useState(null),[w,b]=U.useState(!1),[I,C]=U.useState("all"),[j,T]=U.useState(!1),{showToast:S}=rc(),{isDarkMode:A}=en(),{user:D}=ba(),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],N=async()=>{o(!0);try{const W=or(mt(Ge,"inventory"),Ia("name")),R=(await lr(W)).docs.map(z=>{const H=z.data();return{id:z.id,...H,lastUpdated:H.lastUpdated instanceof sr?H.lastUpdated.toDate():new Date(H.lastUpdated)}});f(R)}catch(W){console.error("Error fetching stock items:",W),S("Failed to fetch stock items","error")}finally{o(!1)}},P=async()=>{try{const W=Pr(new Date,90),O=or(mt(Ge,"activityLogs"),nr("time",">=",W.toISOString()),Ia("time","desc")),z=(await lr(O)).docs.map(re=>({id:re.id,...re.data()})),H=Pr(new Date,10),Z=new Set,oe=new Map;z.forEach(re=>{if(re.detail.includes("added new product")){const he=re.detail.match(/added new product "([^"]+)"/);if(he){const we=he[1],B=new Date(re.time);(!oe.has(we)||B<oe.get(we))&&oe.set(we,B)}}if(re.detail.includes("units deducted from stock")){const he=re.detail.match(/units deducted from stock "([^"]+)"/);if(he){const we=he[1];new Date(re.time)>=H&&Z.add(we)}}});const de=new Set;u.forEach(re=>{const he=re.name,we=oe.get(he);we&&we<H&&!Z.has(he)&&de.add(he)}),m(de)}catch(W){console.error("Error fetching activity logs:",W)}};U.useEffect(()=>{N()},[S]),U.useEffect(()=>{u.length>0&&P()},[u]),U.useEffect(()=>{const W=O=>{if(w||j){const R=O.target;!R.closest(".store-filter-dropdown")&&!R.closest(".status-filter-dropdown")&&(b(!1),T(!1))}};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[w,j]);const V=()=>{y(null),C("all"),b(!1),T(!1)},X=u.filter(W=>W.quantity>0).filter(W=>{const O=e.toLowerCase(),R=W.name.toLowerCase().includes(O),z=`${W.locationCode} - ${W.shelfNumber}`.toLowerCase().includes(O),H=W.asin?W.asin.split(",").some(re=>re.trim().toLowerCase().includes(O)):!1,Z=W.barcode?W.barcode.toLowerCase().includes(O):!1,oe=v?v.storeName==="other"?!E.includes(W.storeName)&&W.fulfillmentType===v.fulfillmentType:W.storeName===v.storeName&&W.fulfillmentType===v.fulfillmentType:!0,de=I==="all"||W.status===I;return(R||z||H||Z)&&oe&&de}).sort((W,O)=>r==="name"?W.name.localeCompare(O.name):r==="quantity"?O.quantity-W.quantity:r==="price"?O.price-W.price:r==="date"?new Date(O.lastUpdated).getTime()-new Date(W.lastUpdated).getTime():0),Y=async W=>{o(!0);try{const O=wr(Ge,"inventory",W.id),R=await Ov(O);if(!R.exists())throw new Error("Stock item not found");const z=R.data();if(!D)throw new Error("User not authenticated");const H=W.reason==="damaged"?z.damagedItems+(z.quantity-W.quantity):z.damagedItems,Z=new Date;await En(O,{quantity:W.quantity,damagedItems:H,lastUpdated:sr.fromDate(Z)}),await hr(mt(Ge,"activityLogs"),{detail:`${z.quantity-W.quantity} units deducted from stock "${z.name}" (Reason: ${W.reason}, Store: ${W.storeName}) by ${D.role} from location ${z.locationCode} shelf ${z.shelfNumber}`,time:new Date().toISOString(),user:D.name,role:D.role});const oe=u.map(de=>de.id===W.id?{...de,quantity:W.quantity,damagedItems:H}:de);f(oe),c(null),i(!1),S("Stock quantity updated successfully","success")}catch(O){console.error("Error updating stock:",O),S("Failed to update stock quantity","error")}finally{o(!1)}},J=W=>{a||c(W)},G=(W,O)=>{W.stopPropagation(),c(O),i(!0)},q=()=>{p(!0)},ee=W=>{t(W),p(!1)};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${A?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),d.jsx("p",{className:`${A?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(kt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:W=>t(W.target.value),icon:d.jsx(Oo,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:q,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(zr,{value:r,onChange:W=>n(W.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>T(!j),className:`flex items-center gap-2 ${I!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[I==="all"?"Status Filter":I==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),j&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="all"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("all"),T(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="active"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("active"),T(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="pending"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("pending"),T(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{C("all"),T(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>b(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"Other":v.storeName} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(qc,{size:16})]}),w&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(W=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W?A?"bg-slate-700":"bg-slate-100":""}`,children:W}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W&&(v==null?void 0:v.fulfillmentType)==="fba"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:W,fulfillmentType:"fba"}),b(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W&&(v==null?void 0:v.fulfillmentType)==="mf"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:W,fulfillmentType:"mf"}),b(!1)},children:"MF"})]})]},W)),d.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),b(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(ut,{variant:"secondary",onClick:()=>{N(),V()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:d.jsx(Za,{size:16,className:s?"animate-spin":""})}),(v||I!=="all")&&d.jsx(ut,{variant:"secondary",onClick:V,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?d.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(as,{className:`w-8 h-8 ${A?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:A?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):X.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:`${A?"bg-slate-800":"bg-slate-50"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(D==null?void 0:D.role)==="admin"&&d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${A?"divide-slate-700":"divide-slate-200"}`,children:X.map(W=>d.jsxs("tr",{className:`${A?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(W),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-blue-400":"text-blue-700"} font-medium`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[W.name,g.has(W.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(xv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:W.status==="active"?"Active":"Pending"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:[W.locationCode," - ",W.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:W.asin?W.asin.split(",").length>3?W.asin.split(",").slice(0,3).map(O=>O.trim()).join(", ")+"...":W.asin.split(",").map(O=>O.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[W.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),W.quantity>10&&W.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),d.jsx("span",{children:W.quantity})]})}),(D==null?void 0:D.role)==="admin"&&d.jsx("td",{className:`px-4 py-3 text-right text-sm ${A?"text-slate-200":"text-slate-900"}`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:tr(new Date(W.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right text-sm",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:d.jsx(ut,{variant:"secondary",size:"sm",onClick:O=>G(O,W),className:`p-1 ${A?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:d.jsx(Gs,{size:16})})})})]},W.id))})]})})}),d.jsx("div",{className:"block md:hidden space-y-4",children:X.map(W=>d.jsxs("div",{className:`rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(W),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${A?"text-blue-400":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.has(W.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(xv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:W.status==="active"?"Active":"Pending"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[W.locationCode," - ",W.shelfNumber]})]}),d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:W.quantity})]}),W.asin&&d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:W.asin})]}),(D==null?void 0:D.role)==="admin"&&d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:tr(new Date(W.lastUpdated),"MMM d, yyyy")})]})]}),d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsxs(ut,{size:"sm",variant:"secondary",onClick:O=>{O.stopPropagation(),G(O,W)},children:[d.jsx(Gs,{size:14})," Edit"]})})]},W.id))})]}):d.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:A?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(an,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&d.jsx(bBe,{item:l,onSubmit:Y,isLoading:s})}),l&&!a&&d.jsx(A5,{isOpen:!0,onClose:()=>c(null),item:l}),d.jsx(hh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},_Be=()=>{const[e,t]=U.useState(!0),[r,n]=U.useState([]),[a,i]=U.useState(new Set),[s,o]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState("locationCode"),[h,p]=U.useState({}),{showToast:g}=rc(),{isDarkMode:m}=en(),[v,y]=U.useState(!1),[w,b]=U.useState(null),[I,C]=U.useState(1),[j,T]=U.useState("A1"),[S,A]=U.useState("0"),[D,E]=U.useState(!1),[N,P]=U.useState(!1),[V,X]=U.useState(""),[Y,J]=U.useState(_f("A1")),{user:G}=ba(),q=B=>{T(B);const Ae=_f(B);J(Ae),parseInt(S)>=Ae.length&&A("0")},ee=async()=>{t(!0);try{const B=or(mt(Ge,"inventory"),Ia("locationCode")),ve=(await lr(B)).docs.map(ye=>{const te=ye.data();return{id:ye.id,name:te.name||"",quantity:te.quantity||0,price:te.price||0,unit:te.unit||null,supplier:te.supplier??null,lastUpdated:te.lastUpdated instanceof sr?te.lastUpdated.toDate():new Date,locationCode:te.locationCode||"",shelfNumber:te.shelfNumber||"",barcode:te.barcode??null,asin:te.asin??null,status:te.status||"pending",damagedItems:te.damagedItems||0,fulfillmentType:te.fulfillmentType||"fba",storeName:te.storeName||""}});n(ve)}catch(B){console.error("Error fetching locations:",B),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},W=async()=>{try{const B=or(mt(Ge,"locations")),Ae=await lr(B),ve={};Ae.forEach(ye=>{ve[ye.id]=ye.data().isAvailable!==!1}),p(ve)}catch(B){console.error("Error fetching location availability:",B)}};U.useEffect(()=>{t(!0),Promise.all([ee(),W()]).finally(()=>t(!1))},[]);const O=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],R=O.reduce((B,Ae)=>{const ye=r.filter(te=>te.locationCode===Ae).reduce((te,Pe)=>{const Fe=te.findIndex(Ve=>Ve.name===Pe.name&&he(Ve.asin)===he(Pe.asin)&&he(Ve.barcode)===he(Pe.barcode)&&Ve.locationCode===Pe.locationCode&&Ve.shelfNumber===Pe.shelfNumber);return Fe>=0?te[Fe]={...te[Fe],quantity:te[Fe].quantity+Pe.quantity,lastUpdated:te[Fe].lastUpdated>Pe.lastUpdated?te[Fe].lastUpdated:Pe.lastUpdated}:te.push(Pe),te},[]);return B[Ae]={locationCode:Ae,totalStock:ye.reduce((te,Pe)=>te+Pe.quantity,0),products:ye},B},{}),z=Object.values(R).filter(B=>{const Ae=s.toLowerCase(),ve=l.toLowerCase(),ye=ve===""||B.locationCode.toLowerCase().includes(ve),te=Ae===""||B.products.some(Pe=>Pe.name.toLowerCase().includes(Ae)||Pe.asin&&Pe.asin.split(",").some(Fe=>Fe.trim().toLowerCase().includes(Ae))||Pe.barcode&&Pe.barcode.toLowerCase().includes(Ae));return ye&&te}).sort((B,Ae)=>{if(u==="totalStock")return Ae.totalStock-B.totalStock;if(u==="locationCode")return B.locationCode==="Awaiting Location"?-1:Ae.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Ae.locationCode);if(u==="availability"){const ve=h[B.locationCode]!==!1,ye=h[Ae.locationCode]!==!1;return ve===ye?B.locationCode==="Awaiting Location"?-1:Ae.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Ae.locationCode):ve?-1:1}return 0});U.useEffect(()=>{if(s.trim()&&s!==V){const B=z.filter(Ae=>{const ve=s.toLowerCase();return Ae.products.some(ye=>ye.name.toLowerCase().includes(ve)||ye.asin&&ye.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||ye.barcode&&ye.barcode.toLowerCase().includes(ve))});if(B.length>0){const Ae=B.flatMap(ye=>ye.products.filter(te=>{const Pe=s.toLowerCase();return te.name.toLowerCase().includes(Pe)||te.asin&&te.asin.split(",").some(Fe=>Fe.trim().toLowerCase().includes(Pe))||te.barcode&&te.barcode.toLowerCase().includes(Pe)})),ve=[...new Set(Ae.map(ye=>`${ye.locationCode}-${ye.shelfNumber}`))];g(`Product found! Located at: ${ve.join(", ")}`,"success"),X(s)}else s.trim()&&s!==V&&(g("Product not found in any location","error"),X(s))}else!s.trim()&&V&&X("")},[z,s,g,V]);const H=B=>{i(Ae=>{const ve=new Set(Ae);return ve.has(B)?ve.delete(B):ve.add(B),ve})},Z=()=>{P(!0)},oe=B=>{o(B),P(!1)},de=async B=>{const Ae=!(h[B]??!0);p(ve=>({...ve,[B]:Ae}));try{await sx(wr(Ge,"locations",B),{isAvailable:Ae},{merge:!0})}catch(ve){g("Failed to update availability","error"),p(ye=>({...ye,[B]:!Ae})),console.log(ve)}};function re(B){const Ae={...B};return Object.keys(Ae).forEach(ve=>{Ae[ve]===void 0&&(Ae[ve]=null)}),Ae}function he(B){return B??""}const we=async()=>{if(w&&!(I<1||I>w.quantity)){E(!0);try{const B=or(mt(Ge,"inventory")),Ae=await lr(B);let ve=null;if(Ae.forEach(ye=>{const te=ye.data();te.name===w.name&&te.locationCode===j&&te.shelfNumber===S&&he(te.asin)===he(w.asin)&&he(te.barcode)===he(w.barcode)&&(ve={...te,id:ye.id})}),I===w.quantity)await sx(wr(Ge,"inventory",w.id),re({...w,locationCode:j,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await sx(wr(Ge,"inventory",w.id),re({...w,quantity:w.quantity-I,lastUpdated:new Date}),{merge:!0}),ve)await sx(wr(Ge,"inventory",ve.id),re({...ve,quantity:ve.quantity+I,lastUpdated:new Date}),{merge:!0});else{const{id:ye,...te}=w;await hr(mt(Ge,"inventory"),re({...te,quantity:I,locationCode:j,shelfNumber:S,lastUpdated:new Date}))}await hr(mt(Ge,"activityLogs"),{user:(G==null?void 0:G.name)||"Unknown",role:(G==null?void 0:G.role)||"Unknown",detail:`Moved ${I} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${j}-${S}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),b(null),ee()}catch(B){g("Failed to move stock","error"),console.log(B)}finally{E(!1)}}};return d.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),d.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(kt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:B=>o(B.target.value),icon:d.jsx(Oo,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:Z,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"flex-1",children:d.jsx(kt,{type:"text",placeholder:"Search by location code...",value:l,onChange:B=>c(B.target.value),icon:d.jsx(Oo,{size:16})})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(zr,{value:u,onChange:B=>f(B.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),d.jsx(ut,{variant:"secondary",onClick:ee,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(Za,{size:16,className:e?"animate-spin":""})})]}),e?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):z.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[d.jsx(tp,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),d.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(z).map(B=>{const Ae=a.has(B.locationCode);return d.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Ae?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>H(B.locationCode),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:d.jsx(tp,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),d.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:B.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${B.locationCode}`})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h[B.locationCode]!==!1,onChange:ve=>{ve.stopPropagation(),de(B.locationCode)},className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[B.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),d.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[B.locationCode]!==!1?"translate-x-5":""}
                          `})]}),d.jsx("span",{className:`text-xs font-semibold ml-2 ${h[B.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[B.locationCode]!==!1?"Available":"Not Available"}),d.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:ve=>{ve.stopPropagation(),H(B.locationCode)},"aria-label":Ae?"Collapse":"Expand",children:Ae?d.jsx(n9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):d.jsx(qc,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),d.jsxs("div",{className:"flex justify-between items-end mt-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),d.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[B.totalStock," units"]})]}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?B.products.filter(ve=>{const ye=s.toLowerCase();return ve.name.toLowerCase().includes(ye)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(ye))||ve.barcode&&ve.barcode.toLowerCase().includes(ye)}).length:B.products.length," product",(s.trim()?B.products.filter(ve=>{const ye=s.toLowerCase();return ve.name.toLowerCase().includes(ye)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(ye))||ve.barcode&&ve.barcode.toLowerCase().includes(ye)}).length:B.products.length)!==1?"s":""]})]})]}),Ae&&d.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[d.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?B.products.filter(ve=>{const ye=s.toLowerCase();return ve.name.toLowerCase().includes(ye)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(ye))||ve.barcode&&ve.barcode.toLowerCase().includes(ye)}).length===0:B.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),d.jsx("div",{className:"space-y-4",children:B.products.filter(ve=>{if(s.trim()){const ye=s.toLowerCase();return ve.name.toLowerCase().includes(ye)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(ye))||ve.barcode&&ve.barcode.toLowerCase().includes(ye)}return!0}).map(ve=>{const ye=B.totalStock===0?0:ve.quantity/B.totalStock*100,te=s.toLowerCase(),Pe=ve.name.toLowerCase().includes(te)||ve.asin&&ve.asin.split(",").some(Fe=>Fe.trim().toLowerCase().includes(te))||ve.barcode&&ve.barcode.toLowerCase().includes(te);return d.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Pe?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${Pe?"text-blue-600":m?"text-white":"text-slate-800"}`,children:ve.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",ve.shelfNumber]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[ve.quantity," units"]}),d.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async Fe=>{Fe.stopPropagation();const Ve=await Ov(wr(Ge,"inventory",ve.id));if(Ve.exists()){const rt=Ve.data();b({...rt,id:ve.id}),C(1),T(ve.locationCode),A(ve.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),d.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${ye>75?"bg-green-500":ye>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${ye}%`},title:`${ve.quantity} out of ${B.totalStock} units (${ye.toFixed(1)}%)`})})]},ve.id)})})]})]},B.locationCode)})}),d.jsx(an,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&d.jsxs("form",{onSubmit:B=>{B.preventDefault(),we()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),d.jsx("input",{type:"number",min:1,max:w.quantity,value:I,onChange:B=>C(Number(B.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),d.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),d.jsx("select",{value:j,onChange:B=>q(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:O.map(B=>d.jsx("option",{value:B,children:B},B))})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),d.jsx("select",{value:S,onChange:B=>A(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:Y.map(B=>d.jsx("option",{value:B.value,children:B.label},B.value))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:D,children:D?"Moving...":"Move"})]})]})}),d.jsx(hh,{isOpen:N,onClose:()=>P(!1),onBarcodeScanned:oe})]})},SBe=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState("name"),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(!1),[v,y]=U.useState(!1),[w,b]=U.useState(!1),[I,C]=U.useState(null),[j,T]=U.useState([]),[S,A]=U.useState(new Set),[D,E]=U.useState(!1),{showToast:N}=rc(),{isDarkMode:P}=en(),{user:V}=ba(),[X,Y]=U.useState(!1),[J,G]=U.useState(null),[q,ee]=U.useState(!1),[W,O]=U.useState(!1),[R,z]=U.useState(null),[H,Z]=U.useState(null),[oe,de]=U.useState(!1),[re,he]=U.useState("all"),[we,B]=U.useState(!1);U.useEffect(()=>{const Ne=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ne)}},[e]),U.useEffect(()=>{const Ne=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ne)}},[a]);const Ae=U.useCallback(async()=>{b(!0);try{const Ne=or(mt(Ge,"inventory"),Ia("name")),We=(await lr(Ne)).docs.map(ot=>{const Rt=ot.data();return{id:ot.id,...Rt,lastUpdated:Rt.lastUpdated instanceof sr?Rt.lastUpdated.toDate():new Date(Rt.lastUpdated)}});T(We)}catch(Ne){console.error("Error fetching stock items:",Ne),N("Failed to fetch stock items","error")}finally{b(!1)}},[N]);U.useEffect(()=>{Ae()},[Ae]),U.useEffect(()=>{const Ne=Ue=>{const We=Ue.target;We.closest(".store-filter-dropdown")||de(!1),We.closest(".status-filter-dropdown")||B(!1)};return(oe||we)&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[oe,we]);const ve=U.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),ye=U.useMemo(()=>{const Ne=r.toLowerCase(),Ue=s.toLowerCase();return j.filter(We=>{if(We.quantity===0||We.storeName!=="supply & serve")return!1;const ot=r===""||We.name.toLowerCase().startsWith(Ne),Rt=s===""||We.barcode&&We.barcode.toLowerCase().includes(Ue)||We.asin&&We.asin.split(",").some(Je=>Je.trim().toLowerCase().includes(Ue)),Ee=re==="all"||We.status===re;return ot&&Rt&&Ee}).sort((We,ot)=>l==="name"?We.name.localeCompare(ot.name):l==="quantity"?ot.quantity-We.quantity:l==="price"?ot.price-We.price:l==="date"?new Date(ot.lastUpdated).getTime()-new Date(We.lastUpdated).getTime():0)},[j,r,s,re,l]),te=U.useMemo(()=>j.filter(Ne=>Ne.quantity>0&&Ne.storeName==="supply & serve").length,[j]),Pe=U.useCallback((Ne,Ue)=>j.filter(We=>We.locationCode===Ne&&We.shelfNumber===Ue),[j]),Fe=U.useCallback(async Ne=>{b(!0);try{const Ue=[];for(const We of Ne)if(We.barcode){const ot=or(mt(Ge,"inventory"),nr("barcode","==",We.barcode),nr("quantity","==",0)),Rt=await lr(ot);if(!Rt.empty){const Ee=Rt.docs[0];if(await Ys(wr(Ge,"inventory",Ee.id)),T(Je=>Je.filter(at=>at.id!==Ee.id)),V){const Je=Ee.data();await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${Je.name}" with barcode ${We.barcode} from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()})}}}for(const We of Ne){const ot=await hr(mt(Ge,"inventory"),{...We,lastUpdated:sr.fromDate(new Date)});Ue.push({...We,id:ot.id,lastUpdated:new Date})}if(V){const We=Ne.reduce((Rt,Ee)=>Rt+Ee.quantity,0),ot=Ne.map(Rt=>`${Rt.quantity} at ${Rt.locationCode}-${Rt.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${Ne[0].name}" with total quantity ${We} (${ot})`,time:new Date().toISOString()})}T(We=>[...We,...Ue]),f(!1),ee(!1),N("Stock items added successfully","success")}catch(Ue){console.error("Error adding stock:",Ue),N("Failed to add stock items","error")}finally{b(!1)}},[V,N]),Ve=U.useCallback(async Ne=>{const Ue=[];for(const We of Ne){const ot=Pe(We.locationCode,We.shelfNumber);ot.length>0&&Ue.push({locationCode:We.locationCode,shelfNumber:We.shelfNumber,products:ot})}if(Ue.length>0){const We=Ue[0];Z({locationCode:We.locationCode,shelfNumber:We.shelfNumber,existingProducts:We.products,newProductName:Ne[0].name,newProductBarcode:Ne[0].barcode||void 0}),z(Ne),O(!0);return}await Fe(Ne)},[Pe,Fe]),rt=U.useCallback(async()=>{R&&(await Fe(R),O(!1),z(null),Z(null),f(!1),ee(!1))},[R,Fe]),Le=U.useCallback(()=>{O(!1),z(null),Z(null),f(!1),ee(!1)},[]),Ze=U.useCallback(async()=>{if(R&&H)try{b(!0);const Ne=H.existingProducts.find(Ue=>Ue.barcode===H.newProductBarcode);if(Ne){const Ue=Ne.quantity+R[0].quantity,We=wr(Ge,"inventory",Ne.id);await En(We,{quantity:Ue,lastUpdated:sr.fromDate(new Date)}),V&&(await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Ne.name}" at location ${H.locationCode}-${H.shelfNumber}`,time:new Date().toISOString()}),await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": quantity from ${Ne.quantity} to ${Ue}`,time:new Date().toISOString()})),await Ae(),N("Products merged successfully","success")}}catch(Ne){console.error("Error merging products:",Ne),N("Failed to merge products","error")}finally{b(!1),O(!1),z(null),Z(null),f(!1),ee(!1)}},[R,H,V,Ae,N]),De=U.useCallback(async(Ne,Ue)=>{b(!0);try{const We=new Date,ot={},Rt=[];if(Ne.name!==Ue.name&&(ot.name=Ne.name,Rt.push(`name from "${Ue.name}" to "${Ne.name}"`)),Ne.price!==Ue.price){ot.price=Ne.price;const Ee=Number(Ue.price||0).toFixed(2),Je=Number(Ne.price||0).toFixed(2);Rt.push(`price from £${Ee} to £${Je}`)}if((Ne.locationCode!==Ue.locationCode||Ne.shelfNumber!==Ue.shelfNumber)&&(ot.locationCode=Ne.locationCode,ot.shelfNumber=Ne.shelfNumber,Rt.push(`location from ${Ue.locationCode}-${Ue.shelfNumber} to ${Ne.locationCode}-${Ne.shelfNumber}`)),Ne.supplier!==Ue.supplier&&(ot.supplier=Ne.supplier,Rt.push(`supplier from "${Ue.supplier||"none"}" to "${Ne.supplier||"none"}"`)),Ne.asin!==Ue.asin&&(ot.asin=Ne.asin,Rt.push(`ASIN from "${Ue.asin||"none"}" to "${Ne.asin||"none"}"`)),Ne.status!==Ue.status&&(ot.status=Ne.status,Rt.push(`status from "${Ue.status}" to "${Ne.status}"`)),Ne.damagedItems!==Ue.damagedItems&&(ot.damagedItems=Ne.damagedItems,Rt.push(`damaged items from ${Ue.damagedItems} to ${Ne.damagedItems}`)),Ne.fulfillmentType!==Ue.fulfillmentType&&(ot.fulfillmentType=Ne.fulfillmentType,Rt.push(`fulfillment type from "${Ue.fulfillmentType.toUpperCase()}" to "${Ne.fulfillmentType.toUpperCase()}"`)),Ne.storeName!==Ue.storeName&&(ot.storeName=Ne.storeName,Rt.push(`store name from "${Ue.storeName}" to "${Ne.storeName}"`)),Ne.unit!==Ue.unit&&(ot.unit=Ne.unit,Rt.push(`unit from "${Ue.unit||"none"}" to "${Ne.unit||"none"}"`)),Ne.barcode!==Ue.barcode&&(ot.barcode=Ne.barcode,Rt.push(`barcode from "${Ue.barcode||"none"}" to "${Ne.barcode||"none"}"`)),Object.keys(ot).length>0){const Ee=wr(Ge,"inventory",Ne.id);await En(Ee,{...ot,lastUpdated:sr.fromDate(We)}),V&&Rt.length>0&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": ${Rt.join(", ")}`,time:We.toISOString()});const Je=j.map(at=>at.id===Ne.id?{...at,...ot,lastUpdated:We}:at);T(Je),N("Stock details updated successfully","success"),p(!1),C(null)}if(Ne.quantity>Ue.quantity)G({itemId:Ne.id,newQuantity:Ne.quantity}),Y(!0),p(!1);else if(Ne.quantity!==Ue.quantity){const Ee=wr(Ge,"inventory",Ne.id);await En(Ee,{quantity:Ne.quantity,lastUpdated:sr.fromDate(We)}),V&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": quantity from ${Ue.quantity} to ${Ne.quantity}`,time:We.toISOString()});const Je=j.map(at=>at.id===Ne.id?{...at,quantity:Ne.quantity,lastUpdated:We}:at);T(Je),N("Stock quantity updated","success"),p(!1),C(null)}else p(!1),C(null)}catch(We){console.error("Error updating stock:",We),N("Failed to update stock item","error")}finally{b(!1)}},[j,V,N]),et=U.useCallback(async()=>{if(J){b(!0);try{const{itemId:Ne,newQuantity:Ue}=J,We=new Date,ot=j.find(Je=>Je.id===Ne),Rt=wr(Ge,"inventory",Ne);await En(Rt,{quantity:Ue,lastUpdated:sr.fromDate(We)}),V&&ot&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${ot.name}": quantity from ${ot.quantity} to ${Ue}`,time:We.toISOString()});const Ee=j.map(Je=>Je.id===Ne?{...Je,quantity:Ue,lastUpdated:We}:Je);T(Ee),N("Stock quantity updated successfully","success"),C(null)}catch(Ne){console.error("Error updating quantity:",Ne),N("Failed to update quantity","error")}finally{b(!1),Y(!1),G(null)}}},[J,j,V,N]),yt=U.useCallback(async Ne=>{b(!0);try{const Ue=j.find(We=>We.id===Ne);await Ys(wr(Ge,"inventory",Ne)),V&&Ue&&await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${Ue.name}" (${Ue.quantity} units) from location ${Ue.locationCode}-${Ue.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(We=>We.id!==Ne)),m(!1),C(null),N("Stock item deleted successfully","success")}catch(Ue){console.error("Error deleting stock:",Ue),N("Failed to delete stock item","error")}finally{b(!1)}},[j,V,N]),ft=U.useCallback(Ne=>{C(Ne)},[]),wt=U.useCallback((Ne,Ue)=>{Ne.stopPropagation(),C(Ue),p(!0)},[]),It=U.useCallback((Ne,Ue)=>{Ne.stopPropagation(),C(Ue),m(!0)},[]),Dt=U.useCallback(()=>{S.size===ye.length?A(new Set):A(new Set(ye.map(Ne=>Ne.id)))},[ye,S.size]),Et=U.useCallback(Ne=>{const Ue=new Set(S);Ue.has(Ne)?Ue.delete(Ne):Ue.add(Ne),A(Ue)},[S]),nt=U.useCallback(async()=>{if(S.size!==0){b(!0);try{const Ne=j.filter(We=>S.has(We.id)),Ue=Array.from(S).map(We=>Ys(wr(Ge,"inventory",We)));if(await Promise.all(Ue),V){const We=Ne.map(ot=>`"${ot.name}" (${ot.quantity} units) from ${ot.locationCode}-${ot.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${We}`,time:new Date().toISOString()})}T(j.filter(We=>!S.has(We.id))),A(new Set),E(!1),y(!1),N(`Successfully deleted ${S.size} items`,"success")}catch(Ne){console.error("Error deleting items:",Ne),N("Failed to delete selected items","error")}finally{b(!1)}}},[I,j,V,N]),Jt=U.useCallback(async()=>{if(S.size!==0){b(!0);try{const Ne=j.filter(We=>S.has(We.id)&&We.status==="pending");if(Ne.length===0){N("No pending items selected to activate","error");return}const Ue=Ne.map(We=>En(wr(Ge,"inventory",We.id),{status:"active",lastUpdated:sr.fromDate(new Date)}));if(await Promise.all(Ue),V){const We=Ne.map(ot=>`"${ot.name}" from ${ot.locationCode}-${ot.shelfNumber}`).join(", ");await hr(mt(Ge,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${Ne.length} pending products: ${We}`,time:new Date().toISOString()})}T(j.map(We=>S.has(We.id)&&We.status==="pending"?{...We,status:"active",lastUpdated:new Date}:We)),A(new Set),E(!1),N(`Successfully activated ${Ne.length} items`,"success")}catch(Ne){console.error("Error activating items:",Ne),N("Failed to activate selected items","error")}finally{b(!1)}}},[I,j,V,N]),zt=U.useCallback(()=>{E(!D),D||A(new Set)},[D]),Rr=U.useCallback(({item:Ne})=>d.jsxs("tr",{className:`hover:${P?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>ft(Ne),children:[D&&d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,onClick:Ue=>Ue.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:S.has(Ne.id),onChange:()=>Et(Ne.id),className:`h-4 w-4 text-blue-600 rounded ${P?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-blue-400":"text-blue-700"} font-medium`,children:Ne.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:Ne.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ne.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:[Ne.locationCode," - ",Ne.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:Ne.asin?Ne.asin.split(",").length>3?Ne.asin.split(",").slice(0,3).map(Ue=>Ue.trim()).join(", ")+"...":Ne.asin.split(",").map(Ue=>Ue.trim()).join(", "):"-"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${P?"text-slate-200":"text-slate-900"}`,children:Number(Ne.price)>0?`£${Number(Ne.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${P?"text-slate-200":"text-slate-900"}`,children:Number(Ne.quantity*Ne.price)>0?`£${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ne.quantity>10&&Ne.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ne.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${P?"text-slate-200":"text-slate-800"}`,children:tr(new Date(Ne.lastUpdated),"MMM d, yyyy")})]},Ne.id),[D,S,P,V,ft,Et,wt,It]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${P?"text-white":"text-gray-900"}`,children:"Supply & Serve Stock"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${P?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Supply & Serve Products: ",te]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${P?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your supply & serve stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?d.jsxs(d.Fragment,{children:[re==="pending"&&d.jsxs(ut,{onClick:Jt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[d.jsx(s9,{size:16}),"Go Live (",S.size,")"]}),d.jsx(ut,{onClick:zt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsx(d.Fragment,{})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(kt,{type:"text",placeholder:"Search by product name",value:e,onChange:Ne=>t(Ne.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(kt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ne=>i(Ne.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(zr,{value:l,onChange:Ne=>c(Ne.target.value),options:ve})}),d.jsx("div",{className:"flex flex-row gap-2",children:d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(ut,{variant:"secondary",onClick:()=>B(!we),className:`flex items-center gap-2 ${re!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[re==="all"?"Status Filter":re==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),we&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${P?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${re==="all"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{he("all"),B(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${re==="active"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{he("active"),B(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${re==="pending"?P?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{he("pending"),B(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${P?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${P?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{he("all"),B(!1)},children:"Clear Filter"})})]})})]})}),d.jsx(ut,{variant:"secondary",onClick:Ae,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:d.jsx(Za,{size:16,className:w?"animate-spin":""})})]}),w?d.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(as,{className:`w-8 h-8 ${P?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:P?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):ye.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${P?"divide-slate-700":"divide-slate-200"} ${P?"bg-slate-800":"bg-white"} rounded-lg border ${P?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:P?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[D&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:S.size===ye.length,onChange:Dt,className:`h-4 w-4 text-blue-600 rounded ${P?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${P?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"})]})}),d.jsx("tbody",{className:`divide-y ${P?"divide-slate-700":"divide-slate-200"}`,children:ye.map((Ne,Ue)=>d.jsx(Rr,{item:Ne,index:Ue},Ne.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:ye.map(Ne=>d.jsxs("div",{className:`rounded-lg border ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>ft(Ne),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${P?"text-blue-400":"text-blue-700"}`,children:Ne.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ne.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ne.locationCode," - ",Ne.shelfNumber]})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ne.quantity})]}),Ne.asin&&d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ne.asin})]}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ne.price)>0?`£${Number(Ne.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ne.quantity*Ne.price)>0?`£${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:P?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:tr(new Date(Ne.lastUpdated),"MMM d, yyyy")})]})]})]},Ne.id))})]}):d.jsx("div",{className:`text-center py-12 ${P?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:P?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(an,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(Mq,{onSubmit:Ve,isLoading:w,existingStockItems:j})}),d.jsx(an,{isOpen:q,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(Fq,{onSubmit:Ve,onClose:()=>ee(!1),isLoading:w})}),d.jsx(an,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:I&&d.jsx(Rq,{item:I,onSubmit:De,onCancel:()=>p(!1),isLoading:w})}),I&&d.jsx(hp,{isOpen:g,onClose:()=>{m(!1),C(null)},onConfirm:()=>yt(I.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${I.name}"? This action cannot be undone.`,isLoading:w}),I&&!h&&!g&&!X&&d.jsx(A5,{isOpen:!!I,onClose:()=>C(null),item:I}),d.jsx(hp,{isOpen:v,onClose:()=>{y(!1),A(new Set)},onConfirm:nt,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),d.jsx(an,{isOpen:X,onClose:()=>{Y(!1),G(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(ut,{variant:"secondary",onClick:()=>{Y(!1),G(null)},children:"No"}),d.jsx(ut,{onClick:et,isLoading:w,children:"Yes"})]})]})}),H&&d.jsx($q,{isOpen:W,onClose:Le,onConfirm:rt,onCancel:Le,onMerge:Ze,locationCode:H.locationCode,shelfNumber:H.shelfNumber,existingProducts:H.existingProducts,newProductName:H.newProductName,newProductBarcode:H.newProductBarcode})]})},vo=({children:e,allowedRoles:t})=>{const{user:r}=ba();return r?t.includes(r.role)?d.jsx(d.Fragment,{children:e}):d.jsx(k4,{to:"/",replace:!0}):d.jsx(k4,{to:"/login",replace:!0})};function ABe(){return d.jsxs(QJ,{children:[d.jsx(es,{path:"/login",element:d.jsx(jce,{})}),d.jsxs(es,{path:"/",element:d.jsx(Oce,{}),children:[d.jsx(es,{index:!0,element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(xye,{})})}),d.jsx(es,{path:"stock",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(Cye,{})})}),d.jsx(es,{path:"jobs",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(b$e,{})})}),d.jsx(es,{path:"inventory",element:d.jsx(vo,{allowedRoles:["admin"],children:d.jsx(Pye,{})})}),d.jsx(es,{path:"orders",element:d.jsx(vo,{allowedRoles:[""],children:d.jsx(j$e,{})})}),d.jsx(es,{path:"outbound-stock",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(wBe,{})})}),d.jsx(es,{path:"warehouse-locations",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(_Be,{})})}),d.jsx(es,{path:"warehouse-operations",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(vBe,{})})}),d.jsx(es,{path:"reports-analytics",element:d.jsx(vo,{allowedRoles:["admin"],children:d.jsx(yBe,{})})}),d.jsx(es,{path:"settings",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(xBe,{})})}),d.jsx(es,{path:"add",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(Lq,{})})}),d.jsx(es,{path:"supply-serve",element:d.jsx(vo,{allowedRoles:["supply_serve"],children:d.jsx(SBe,{})})})]})]})}H$(document.getElementById("root")).render(d.jsx(U.StrictMode,{children:d.jsx(iZ,{basename:"/",children:d.jsx(Lae,{children:d.jsx(Dae,{children:d.jsx(Ice,{children:d.jsx(ABe,{})})})})})}));export{nn as _,eg as c,_n as g};
