function EY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I7={exports:{}},Pw={},j7={exports:{}},Or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=Symbol.for("react.element"),kY=Symbol.for("react.portal"),NY=Symbol.for("react.fragment"),CY=Symbol.for("react.strict_mode"),PY=Symbol.for("react.profiler"),OY=Symbol.for("react.provider"),IY=Symbol.for("react.context"),jY=Symbol.for("react.forward_ref"),DY=Symbol.for("react.suspense"),LY=Symbol.for("react.memo"),MY=Symbol.for("react.lazy"),r6=Symbol.iterator;function RY(e){return e===null||typeof e!="object"?null:(e=r6&&e[r6]||e["@@iterator"],typeof e=="function"?e:null)}var D7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L7=Object.assign,M7={};function Lp(e,t,r){this.props=e,this.context=t,this.refs=M7,this.updater=r||D7}Lp.prototype.isReactComponent={};Lp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R7(){}R7.prototype=Lp.prototype;function b3(e,t,r){this.props=e,this.context=t,this.refs=M7,this.updater=r||D7}var w3=b3.prototype=new R7;w3.constructor=b3;L7(w3,Lp.prototype);w3.isPureReactComponent=!0;var n6=Array.isArray,F7=Object.prototype.hasOwnProperty,_3={current:null},$7={key:!0,ref:!0,__self:!0,__source:!0};function B7(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)F7.call(t,n)&&!$7.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:P1,type:e,key:i,ref:s,props:a,_owner:_3.current}}function FY(e,t){return{$$typeof:P1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S3(e){return typeof e=="object"&&e!==null&&e.$$typeof===P1}function $Y(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var a6=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$Y(""+e.key):t.toString(36)}function Bx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case P1:case kY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+j_(s,0):n,n6(a)?(r="",e!=null&&(r=e.replace(a6,"$&/")+"/"),Bx(a,t,r,"",function(c){return c})):a!=null&&(S3(a)&&(a=FY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(a6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",n6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+j_(i,o);s+=Bx(i,t,r,l,a)}else if(l=RY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+j_(i,o++),s+=Bx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ry(e,t,r){if(e==null)return e;var n=[],a=0;return Bx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function BY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cs={current:null},Ux={transition:null},UY={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:Ux,ReactCurrentOwner:_3};function U7(){throw Error("act(...) is not supported in production builds of React.")}Or.Children={map:Ry,forEach:function(e,t,r){Ry(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ry(e,function(){t++}),t},toArray:function(e){return Ry(e,function(t){return t})||[]},only:function(e){if(!S3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Or.Component=Lp;Or.Fragment=NY;Or.Profiler=PY;Or.PureComponent=b3;Or.StrictMode=CY;Or.Suspense=DY;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UY;Or.act=U7;Or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=L7({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)F7.call(t,l)&&!$7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:P1,type:e.type,key:a,ref:i,props:n,_owner:s}};Or.createContext=function(e){return e={$$typeof:IY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OY,_context:e},e.Consumer=e};Or.createElement=B7;Or.createFactory=function(e){var t=B7.bind(null,e);return t.type=e,t};Or.createRef=function(){return{current:null}};Or.forwardRef=function(e){return{$$typeof:jY,render:e}};Or.isValidElement=S3;Or.lazy=function(e){return{$$typeof:MY,_payload:{_status:-1,_result:e},_init:BY}};Or.memo=function(e,t){return{$$typeof:LY,type:e,compare:t===void 0?null:t}};Or.startTransition=function(e){var t=Ux.transition;Ux.transition={};try{e()}finally{Ux.transition=t}};Or.unstable_act=U7;Or.useCallback=function(e,t){return cs.current.useCallback(e,t)};Or.useContext=function(e){return cs.current.useContext(e)};Or.useDebugValue=function(){};Or.useDeferredValue=function(e){return cs.current.useDeferredValue(e)};Or.useEffect=function(e,t){return cs.current.useEffect(e,t)};Or.useId=function(){return cs.current.useId()};Or.useImperativeHandle=function(e,t,r){return cs.current.useImperativeHandle(e,t,r)};Or.useInsertionEffect=function(e,t){return cs.current.useInsertionEffect(e,t)};Or.useLayoutEffect=function(e,t){return cs.current.useLayoutEffect(e,t)};Or.useMemo=function(e,t){return cs.current.useMemo(e,t)};Or.useReducer=function(e,t,r){return cs.current.useReducer(e,t,r)};Or.useRef=function(e){return cs.current.useRef(e)};Or.useState=function(e){return cs.current.useState(e)};Or.useSyncExternalStore=function(e,t,r){return cs.current.useSyncExternalStore(e,t,r)};Or.useTransition=function(){return cs.current.useTransition()};Or.version="18.3.1";j7.exports=Or;var U=j7.exports;const Ie=yn(U),VY=EY({__proto__:null,default:Ie},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zY=U,qY=Symbol.for("react.element"),WY=Symbol.for("react.fragment"),HY=Object.prototype.hasOwnProperty,GY=zY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KY={key:!0,ref:!0,__self:!0,__source:!0};function V7(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)HY.call(t,n)&&!KY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:qY,type:e,key:i,ref:s,props:a,_owner:GY.current}}Pw.Fragment=WY;Pw.jsx=V7;Pw.jsxs=V7;I7.exports=Pw;var d=I7.exports,z7={exports:{}},Js={},q7={exports:{}},W7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,z){var ee=H.length;H.push(z);e:for(;0<ee;){var W=ee-1>>>1,P=H[W];if(0<a(P,z))H[W]=z,H[ee]=P,ee=W;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var z=H[0],ee=H.pop();if(ee!==z){H[0]=ee;e:for(var W=0,P=H.length,F=P>>>1;W<F;){var q=2*(W+1)-1,K=H[q],Z=q+1,ce=H[Z];if(0>a(K,ee))Z<P&&0>a(ce,K)?(H[W]=ce,H[Z]=ee,W=Z):(H[W]=K,H[q]=ee,W=q);else if(Z<P&&0>a(ce,ee))H[W]=ce,H[Z]=ee,W=Z;else break e}}return z}function a(H,z){var ee=H.sortIndex-z.sortIndex;return ee!==0?ee:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=H)n(c),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(c)}}function O(H){if(m=!1,w(H),!g)if(r(l)!==null)g=!0,Y(C);else{var z=r(c);z!==null&&J(O,z.startTime-H)}}function C(H,z){g=!1,m&&(m=!1,y(S),S=-1),p=!0;var ee=h;try{for(w(z),f=r(l);f!==null&&(!(f.expirationTime>z)||H&&!E());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var P=W(f.expirationTime<=z);z=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),w(z)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var q=r(c);q!==null&&J(O,q.startTime-z),F=!1}return F}finally{f=null,h=ee,p=!1}}var I=!1,T=null,S=-1,A=5,j=-1;function E(){return!(e.unstable_now()-j<A)}function k(){if(T!==null){var H=e.unstable_now();j=H;var z=!0;try{z=T(!0,H)}finally{z?D():(I=!1,T=null)}}else I=!1}var D;if(typeof b=="function")D=function(){b(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=k,D=function(){X.postMessage(null)}}else D=function(){v(k,0)};function Y(H){T=H,I||(I=!0,D())}function J(H,z){S=v(function(){H(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Y(C))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var ee=h;h=z;try{return H()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=h;h=H;try{return z()}finally{h=ee}},e.unstable_scheduleCallback=function(H,z,ee){var W=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ee+P,H={id:u++,callback:z,priorityLevel:H,startTime:ee,expirationTime:P,sortIndex:-1},ee>W?(H.sortIndex=ee,t(c,H),r(l)===null&&H===r(c)&&(m?(y(S),S=-1):m=!0,J(O,ee-W))):(H.sortIndex=P,t(l,H),g||p||(g=!0,Y(C))),H},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(H){var z=h;return function(){var ee=h;h=z;try{return H.apply(this,arguments)}finally{h=ee}}}})(W7);q7.exports=W7;var YY=q7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XY=U,Ys=YY;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H7=new Set,Zg={};function ch(e,t){G0(e,t),G0(e+"Capture",t)}function G0(e,t){for(Zg[e]=t,e=0;e<t.length;e++)H7.add(t[e])}var Mc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DA=Object.prototype.hasOwnProperty,QY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i6={},s6={};function JY(e){return DA.call(s6,e)?!0:DA.call(i6,e)?!1:QY.test(e)?s6[e]=!0:(i6[e]=!0,!1)}function ZY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eX(e,t,r,n){if(t===null||typeof t>"u"||ZY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function us(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gi[e]=new us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gi[t]=new us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gi[e]=new us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gi[e]=new us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gi[e]=new us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gi[e]=new us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gi[e]=new us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gi[e]=new us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gi[e]=new us(e,5,!1,e.toLowerCase(),null,!1,!1)});var A3=/[\-:]([a-z])/g;function T3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A3,T3);gi[t]=new us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A3,T3);gi[t]=new us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A3,T3);gi[t]=new us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gi[e]=new us(e,1,!1,e.toLowerCase(),null,!1,!1)});gi.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gi[e]=new us(e,1,!1,e.toLowerCase(),null,!0,!0)});function E3(e,t,r,n){var a=gi.hasOwnProperty(t)?gi[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eX(t,r,a,n)&&(r=null),n||a===null?JY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var eu=XY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fy=Symbol.for("react.element"),i0=Symbol.for("react.portal"),s0=Symbol.for("react.fragment"),k3=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),G7=Symbol.for("react.provider"),K7=Symbol.for("react.context"),N3=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),RA=Symbol.for("react.suspense_list"),C3=Symbol.for("react.memo"),Vu=Symbol.for("react.lazy"),Y7=Symbol.for("react.offscreen"),o6=Symbol.iterator;function Cm(e){return e===null||typeof e!="object"?null:(e=o6&&e[o6]||e["@@iterator"],typeof e=="function"?e:null)}var Yn=Object.assign,D_;function eg(e){if(D_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D_=t&&t[1]||""}return`
`+D_+e}var L_=!1;function M_(e,t){if(!e||L_)return"";L_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{L_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?eg(e):""}function tX(e){switch(e.tag){case 5:return eg(e.type);case 16:return eg("Lazy");case 13:return eg("Suspense");case 19:return eg("SuspenseList");case 0:case 2:case 15:return e=M_(e.type,!1),e;case 11:return e=M_(e.type.render,!1),e;case 1:return e=M_(e.type,!0),e;default:return""}}function FA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case s0:return"Fragment";case i0:return"Portal";case LA:return"Profiler";case k3:return"StrictMode";case MA:return"Suspense";case RA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K7:return(e.displayName||"Context")+".Consumer";case G7:return(e._context.displayName||"Context")+".Provider";case N3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C3:return t=e.displayName||null,t!==null?t:FA(e.type)||"Memo";case Vu:t=e._payload,e=e._init;try{return FA(e(t))}catch{}}return null}function rX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(t);case 8:return t===k3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ef(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nX(e){var t=X7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $y(e){e._valueTracker||(e._valueTracker=nX(e))}function Q7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=X7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function p2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $A(e,t){var r=t.checked;return Yn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function l6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ef(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J7(e,t){t=t.checked,t!=null&&E3(e,"checked",t,!1)}function BA(e,t){J7(e,t);var r=Ef(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?UA(e,t.type,r):t.hasOwnProperty("defaultValue")&&UA(e,t.type,Ef(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function UA(e,t,r){(t!=="number"||p2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tg=Array.isArray;function k0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ef(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function VA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return Yn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ot(92));if(tg(r)){if(1<r.length)throw Error(Ot(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ef(r)}}function Z7(e,t){var r=Ef(t.value),n=Ef(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function f6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var By,tF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(By=By||document.createElement("div"),By.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=By.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ev(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aX=["Webkit","ms","Moz","O"];Object.keys(mg).forEach(function(e){aX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mg[t]=mg[e]})});function rF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mg.hasOwnProperty(e)&&mg[e]?(""+t).trim():t+"px"}function nF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=rF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iX=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qA(e,t){if(t){if(iX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ot(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ot(62))}}function WA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HA=null;function P3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var GA=null,N0=null,C0=null;function d6(e){if(e=j1(e)){if(typeof GA!="function")throw Error(Ot(280));var t=e.stateNode;t&&(t=Lw(t),GA(e.stateNode,e.type,t))}}function aF(e){N0?C0?C0.push(e):C0=[e]:N0=e}function iF(){if(N0){var e=N0,t=C0;if(C0=N0=null,d6(e),t)for(e=0;e<t.length;e++)d6(t[e])}}function sF(e,t){return e(t)}function oF(){}var R_=!1;function lF(e,t,r){if(R_)return e(t,r);R_=!0;try{return sF(e,t,r)}finally{R_=!1,(N0!==null||C0!==null)&&(oF(),iF())}}function tv(e,t){var r=e.stateNode;if(r===null)return null;var n=Lw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ot(231,t,typeof r));return r}var KA=!1;if(Mc)try{var Pm={};Object.defineProperty(Pm,"passive",{get:function(){KA=!0}}),window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{KA=!1}function sX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var gg=!1,m2=null,g2=!1,YA=null,oX={onError:function(e){gg=!0,m2=e}};function lX(e,t,r,n,a,i,s,o,l){gg=!1,m2=null,sX.apply(oX,arguments)}function cX(e,t,r,n,a,i,s,o,l){if(lX.apply(this,arguments),gg){if(gg){var c=m2;gg=!1,m2=null}else throw Error(Ot(198));g2||(g2=!0,YA=c)}}function uh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h6(e){if(uh(e)!==e)throw Error(Ot(188))}function uX(e){var t=e.alternate;if(!t){if(t=uh(e),t===null)throw Error(Ot(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h6(a),e;if(i===n)return h6(a),t;i=i.sibling}throw Error(Ot(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Ot(189))}}if(r.alternate!==n)throw Error(Ot(190))}if(r.tag!==3)throw Error(Ot(188));return r.stateNode.current===r?e:t}function uF(e){return e=uX(e),e!==null?fF(e):null}function fF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fF(e);if(t!==null)return t;e=e.sibling}return null}var dF=Ys.unstable_scheduleCallback,p6=Ys.unstable_cancelCallback,fX=Ys.unstable_shouldYield,dX=Ys.unstable_requestPaint,ha=Ys.unstable_now,hX=Ys.unstable_getCurrentPriorityLevel,O3=Ys.unstable_ImmediatePriority,hF=Ys.unstable_UserBlockingPriority,v2=Ys.unstable_NormalPriority,pX=Ys.unstable_LowPriority,pF=Ys.unstable_IdlePriority,Ow=null,Fl=null;function mX(e){if(Fl&&typeof Fl.onCommitFiberRoot=="function")try{Fl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var cl=Math.clz32?Math.clz32:yX,gX=Math.log,vX=Math.LN2;function yX(e){return e>>>=0,e===0?32:31-(gX(e)/vX|0)|0}var Uy=64,Vy=4194304;function rg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function y2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=rg(o):(i&=s,i!==0&&(n=rg(i)))}else s=r&~a,s!==0?n=rg(s):i!==0&&(n=rg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cl(t),a=1<<r,n|=e[r],t&=~a;return n}function xX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-cl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=xX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function XA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mF(){var e=Uy;return Uy<<=1,!(Uy&4194240)&&(Uy=64),e}function F_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function O1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cl(t),e[t]=r}function wX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-cl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function I3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var dn=0;function gF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vF,j3,yF,xF,bF,QA=!1,zy=[],of=null,lf=null,cf=null,rv=new Map,nv=new Map,Wu=[],_X="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m6(e,t){switch(e){case"focusin":case"focusout":of=null;break;case"dragenter":case"dragleave":lf=null;break;case"mouseover":case"mouseout":cf=null;break;case"pointerover":case"pointerout":rv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nv.delete(t.pointerId)}}function Om(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=j1(t),t!==null&&j3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SX(e,t,r,n,a){switch(t){case"focusin":return of=Om(of,e,t,r,n,a),!0;case"dragenter":return lf=Om(lf,e,t,r,n,a),!0;case"mouseover":return cf=Om(cf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return rv.set(i,Om(rv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,nv.set(i,Om(nv.get(i)||null,e,t,r,n,a)),!0}return!1}function wF(e){var t=Ed(e.target);if(t!==null){var r=uh(t);if(r!==null){if(t=r.tag,t===13){if(t=cF(r),t!==null){e.blockedOn=t,bF(e.priority,function(){yF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=JA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);HA=n,r.target.dispatchEvent(n),HA=null}else return t=j1(r),t!==null&&j3(t),e.blockedOn=r,!1;t.shift()}return!0}function g6(e,t,r){Vx(e)&&r.delete(t)}function AX(){QA=!1,of!==null&&Vx(of)&&(of=null),lf!==null&&Vx(lf)&&(lf=null),cf!==null&&Vx(cf)&&(cf=null),rv.forEach(g6),nv.forEach(g6)}function Im(e,t){e.blockedOn===t&&(e.blockedOn=null,QA||(QA=!0,Ys.unstable_scheduleCallback(Ys.unstable_NormalPriority,AX)))}function av(e){function t(a){return Im(a,e)}if(0<zy.length){Im(zy[0],e);for(var r=1;r<zy.length;r++){var n=zy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(of!==null&&Im(of,e),lf!==null&&Im(lf,e),cf!==null&&Im(cf,e),rv.forEach(t),nv.forEach(t),r=0;r<Wu.length;r++)n=Wu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wu.length&&(r=Wu[0],r.blockedOn===null);)wF(r),r.blockedOn===null&&Wu.shift()}var P0=eu.ReactCurrentBatchConfig,x2=!0;function TX(e,t,r,n){var a=dn,i=P0.transition;P0.transition=null;try{dn=1,D3(e,t,r,n)}finally{dn=a,P0.transition=i}}function EX(e,t,r,n){var a=dn,i=P0.transition;P0.transition=null;try{dn=4,D3(e,t,r,n)}finally{dn=a,P0.transition=i}}function D3(e,t,r,n){if(x2){var a=JA(e,t,r,n);if(a===null)K_(e,t,n,b2,r),m6(e,n);else if(SX(a,e,t,r,n))n.stopPropagation();else if(m6(e,n),t&4&&-1<_X.indexOf(e)){for(;a!==null;){var i=j1(a);if(i!==null&&vF(i),i=JA(e,t,r,n),i===null&&K_(e,t,n,b2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else K_(e,t,n,null,r)}}var b2=null;function JA(e,t,r,n){if(b2=null,e=P3(n),e=Ed(e),e!==null)if(t=uh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return b2=e,null}function _F(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hX()){case O3:return 1;case hF:return 4;case v2:case pX:return 16;case pF:return 536870912;default:return 16}default:return 16}}var Qu=null,L3=null,zx=null;function SF(){if(zx)return zx;var e,t=L3,r=t.length,n,a="value"in Qu?Qu.value:Qu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return zx=a.slice(e,1<n?1-n:void 0)}function qx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qy(){return!0}function v6(){return!1}function Zs(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qy:v6,this.isPropagationStopped=v6,this}return Yn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qy)},persist:function(){},isPersistent:qy}),t}var Mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M3=Zs(Mp),I1=Yn({},Mp,{view:0,detail:0}),kX=Zs(I1),$_,B_,jm,Iw=Yn({},I1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jm&&(jm&&e.type==="mousemove"?($_=e.screenX-jm.screenX,B_=e.screenY-jm.screenY):B_=$_=0,jm=e),$_)},movementY:function(e){return"movementY"in e?e.movementY:B_}}),y6=Zs(Iw),NX=Yn({},Iw,{dataTransfer:0}),CX=Zs(NX),PX=Yn({},I1,{relatedTarget:0}),U_=Zs(PX),OX=Yn({},Mp,{animationName:0,elapsedTime:0,pseudoElement:0}),IX=Zs(OX),jX=Yn({},Mp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DX=Zs(jX),LX=Yn({},Mp,{data:0}),x6=Zs(LX),MX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $X(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FX[e])?!!t[e]:!1}function R3(){return $X}var BX=Yn({},I1,{key:function(e){if(e.key){var t=MX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R3,charCode:function(e){return e.type==="keypress"?qx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UX=Zs(BX),VX=Yn({},Iw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b6=Zs(VX),zX=Yn({},I1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R3}),qX=Zs(zX),WX=Yn({},Mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),HX=Zs(WX),GX=Yn({},Iw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KX=Zs(GX),YX=[9,13,27,32],F3=Mc&&"CompositionEvent"in window,vg=null;Mc&&"documentMode"in document&&(vg=document.documentMode);var XX=Mc&&"TextEvent"in window&&!vg,AF=Mc&&(!F3||vg&&8<vg&&11>=vg),w6=" ",_6=!1;function TF(e,t){switch(e){case"keyup":return YX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var o0=!1;function QX(e,t){switch(e){case"compositionend":return EF(t);case"keypress":return t.which!==32?null:(_6=!0,w6);case"textInput":return e=t.data,e===w6&&_6?null:e;default:return null}}function JX(e,t){if(o0)return e==="compositionend"||!F3&&TF(e,t)?(e=SF(),zx=L3=Qu=null,o0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AF&&t.locale!=="ko"?null:t.data;default:return null}}var ZX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZX[e.type]:t==="textarea"}function kF(e,t,r,n){aF(n),t=w2(t,"onChange"),0<t.length&&(r=new M3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yg=null,iv=null;function eQ(e){FF(e,0)}function jw(e){var t=u0(e);if(Q7(t))return e}function tQ(e,t){if(e==="change")return t}var NF=!1;if(Mc){var V_;if(Mc){var z_="oninput"in document;if(!z_){var A6=document.createElement("div");A6.setAttribute("oninput","return;"),z_=typeof A6.oninput=="function"}V_=z_}else V_=!1;NF=V_&&(!document.documentMode||9<document.documentMode)}function T6(){yg&&(yg.detachEvent("onpropertychange",CF),iv=yg=null)}function CF(e){if(e.propertyName==="value"&&jw(iv)){var t=[];kF(t,iv,e,P3(e)),lF(eQ,t)}}function rQ(e,t,r){e==="focusin"?(T6(),yg=t,iv=r,yg.attachEvent("onpropertychange",CF)):e==="focusout"&&T6()}function nQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jw(iv)}function aQ(e,t){if(e==="click")return jw(t)}function iQ(e,t){if(e==="input"||e==="change")return jw(t)}function sQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pl=typeof Object.is=="function"?Object.is:sQ;function sv(e,t){if(pl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!DA.call(t,a)||!pl(e[a],t[a]))return!1}return!0}function E6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k6(e,t){var r=E6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E6(r)}}function PF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OF(){for(var e=window,t=p2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=p2(e.document)}return t}function $3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oQ(e){var t=OF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PF(r.ownerDocument.documentElement,r)){if(n!==null&&$3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=k6(r,i);var s=k6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lQ=Mc&&"documentMode"in document&&11>=document.documentMode,l0=null,ZA=null,xg=null,e4=!1;function N6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e4||l0==null||l0!==p2(n)||(n=l0,"selectionStart"in n&&$3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xg&&sv(xg,n)||(xg=n,n=w2(ZA,"onSelect"),0<n.length&&(t=new M3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=l0)))}function Wy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var c0={animationend:Wy("Animation","AnimationEnd"),animationiteration:Wy("Animation","AnimationIteration"),animationstart:Wy("Animation","AnimationStart"),transitionend:Wy("Transition","TransitionEnd")},q_={},IF={};Mc&&(IF=document.createElement("div").style,"AnimationEvent"in window||(delete c0.animationend.animation,delete c0.animationiteration.animation,delete c0.animationstart.animation),"TransitionEvent"in window||delete c0.transitionend.transition);function Dw(e){if(q_[e])return q_[e];if(!c0[e])return e;var t=c0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in IF)return q_[e]=t[r];return e}var jF=Dw("animationend"),DF=Dw("animationiteration"),LF=Dw("animationstart"),MF=Dw("transitionend"),RF=new Map,C6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bf(e,t){RF.set(e,t),ch(t,[e])}for(var W_=0;W_<C6.length;W_++){var H_=C6[W_],cQ=H_.toLowerCase(),uQ=H_[0].toUpperCase()+H_.slice(1);Bf(cQ,"on"+uQ)}Bf(jF,"onAnimationEnd");Bf(DF,"onAnimationIteration");Bf(LF,"onAnimationStart");Bf("dblclick","onDoubleClick");Bf("focusin","onFocus");Bf("focusout","onBlur");Bf(MF,"onTransitionEnd");G0("onMouseEnter",["mouseout","mouseover"]);G0("onMouseLeave",["mouseout","mouseover"]);G0("onPointerEnter",["pointerout","pointerover"]);G0("onPointerLeave",["pointerout","pointerover"]);ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ng="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ng));function P6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cX(n,t,void 0,e),e.currentTarget=null}function FF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}}}if(g2)throw e=YA,g2=!1,YA=null,e}function In(e,t){var r=t[i4];r===void 0&&(r=t[i4]=new Set);var n=e+"__bubble";r.has(n)||($F(t,e,2,!1),r.add(n))}function G_(e,t,r){var n=0;t&&(n|=4),$F(r,e,n,t)}var Hy="_reactListening"+Math.random().toString(36).slice(2);function ov(e){if(!e[Hy]){e[Hy]=!0,H7.forEach(function(r){r!=="selectionchange"&&(fQ.has(r)||G_(r,!1,e),G_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hy]||(t[Hy]=!0,G_("selectionchange",!1,t))}}function $F(e,t,r,n){switch(_F(t)){case 1:var a=TX;break;case 4:a=EX;break;default:a=D3}r=a.bind(null,t,r,e),a=void 0,!KA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function K_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ed(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}lF(function(){var c=i,u=P3(r),f=[];e:{var h=RF.get(e);if(h!==void 0){var p=M3,g=e;switch(e){case"keypress":if(qx(r)===0)break e;case"keydown":case"keyup":p=UX;break;case"focusin":g="focus",p=U_;break;case"focusout":g="blur",p=U_;break;case"beforeblur":case"afterblur":p=U_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=y6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=CX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qX;break;case jF:case DF:case LF:p=IX;break;case MF:p=HX;break;case"scroll":p=kX;break;case"wheel":p=KX;break;case"copy":case"cut":case"paste":p=DX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,y!==null&&(O=tv(b,y),O!=null&&m.push(lv(b,O,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==HA&&(g=r.relatedTarget||r.fromElement)&&(Ed(g)||g[Rc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ed(g):null,g!==null&&(v=uh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=y6,O="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=b6,O="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:u0(p),w=g==null?h:u0(g),h=new m(O,b+"leave",p,r,u),h.target=v,h.relatedTarget=w,O=null,Ed(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=w,m.relatedTarget=v,O=m),v=O,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=qh(w))b++;for(w=0,O=y;O;O=qh(O))w++;for(;0<b-w;)m=qh(m),b--;for(;0<w-b;)y=qh(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=qh(m),y=qh(y)}m=null}else m=null;p!==null&&O6(f,h,p,m,!1),g!==null&&v!==null&&O6(f,v,g,m,!0)}}e:{if(h=c?u0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=tQ;else if(S6(h))if(NF)C=iQ;else{C=nQ;var I=rQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=aQ);if(C&&(C=C(e,c))){kF(f,C,r,u);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&UA(h,"number",h.value)}switch(I=c?u0(c):window,e){case"focusin":(S6(I)||I.contentEditable==="true")&&(l0=I,ZA=c,xg=null);break;case"focusout":xg=ZA=l0=null;break;case"mousedown":e4=!0;break;case"contextmenu":case"mouseup":case"dragend":e4=!1,N6(f,r,u);break;case"selectionchange":if(lQ)break;case"keydown":case"keyup":N6(f,r,u)}var T;if(F3)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else o0?TF(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(AF&&r.locale!=="ko"&&(o0||S!=="onCompositionStart"?S==="onCompositionEnd"&&o0&&(T=SF()):(Qu=u,L3="value"in Qu?Qu.value:Qu.textContent,o0=!0)),I=w2(c,S),0<I.length&&(S=new x6(S,e,null,r,u),f.push({event:S,listeners:I}),T?S.data=T:(T=EF(r),T!==null&&(S.data=T)))),(T=XX?QX(e,r):JX(e,r))&&(c=w2(c,"onBeforeInput"),0<c.length&&(u=new x6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}FF(f,t)})}function lv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function w2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=tv(e,r),i!=null&&n.unshift(lv(e,i,a)),i=tv(e,t),i!=null&&n.push(lv(e,i,a))),e=e.return}return n}function qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=tv(r,i),l!=null&&s.unshift(lv(r,l,o))):a||(l=tv(r,i),l!=null&&s.push(lv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var dQ=/\r\n?/g,hQ=/\u0000|\uFFFD/g;function I6(e){return(typeof e=="string"?e:""+e).replace(dQ,`
`).replace(hQ,"")}function Gy(e,t,r){if(t=I6(t),I6(e)!==t&&r)throw Error(Ot(425))}function _2(){}var t4=null,r4=null;function n4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a4=typeof setTimeout=="function"?setTimeout:void 0,pQ=typeof clearTimeout=="function"?clearTimeout:void 0,j6=typeof Promise=="function"?Promise:void 0,mQ=typeof queueMicrotask=="function"?queueMicrotask:typeof j6<"u"?function(e){return j6.resolve(null).then(e).catch(gQ)}:a4;function gQ(e){setTimeout(function(){throw e})}function Y_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),av(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);av(t)}function uf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rp=Math.random().toString(36).slice(2),Ll="__reactFiber$"+Rp,cv="__reactProps$"+Rp,Rc="__reactContainer$"+Rp,i4="__reactEvents$"+Rp,vQ="__reactListeners$"+Rp,yQ="__reactHandles$"+Rp;function Ed(e){var t=e[Ll];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rc]||r[Ll]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=D6(e);e!==null;){if(r=e[Ll])return r;e=D6(e)}return t}e=r,r=e.parentNode}return null}function j1(e){return e=e[Ll]||e[Rc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function u0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ot(33))}function Lw(e){return e[cv]||null}var s4=[],f0=-1;function Uf(e){return{current:e}}function Rn(e){0>f0||(e.current=s4[f0],s4[f0]=null,f0--)}function Nn(e,t){f0++,s4[f0]=e.current,e.current=t}var kf={},zi=Uf(kf),Es=Uf(!1),Hd=kf;function K0(e,t){var r=e.type.contextTypes;if(!r)return kf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ks(e){return e=e.childContextTypes,e!=null}function S2(){Rn(Es),Rn(zi)}function L6(e,t,r){if(zi.current!==kf)throw Error(Ot(168));Nn(zi,t),Nn(Es,r)}function BF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ot(108,rX(e)||"Unknown",a));return Yn({},r,n)}function A2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kf,Hd=zi.current,Nn(zi,e),Nn(Es,Es.current),!0}function M6(e,t,r){var n=e.stateNode;if(!n)throw Error(Ot(169));r?(e=BF(e,t,Hd),n.__reactInternalMemoizedMergedChildContext=e,Rn(Es),Rn(zi),Nn(zi,e)):Rn(Es),Nn(Es,r)}var xc=null,Mw=!1,X_=!1;function UF(e){xc===null?xc=[e]:xc.push(e)}function xQ(e){Mw=!0,UF(e)}function Vf(){if(!X_&&xc!==null){X_=!0;var e=0,t=dn;try{var r=xc;for(dn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xc=null,Mw=!1}catch(a){throw xc!==null&&(xc=xc.slice(e+1)),dF(O3,Vf),a}finally{dn=t,X_=!1}}return null}var d0=[],h0=0,T2=null,E2=0,vo=[],yo=0,Gd=null,wc=1,_c="";function md(e,t){d0[h0++]=E2,d0[h0++]=T2,T2=e,E2=t}function VF(e,t,r){vo[yo++]=wc,vo[yo++]=_c,vo[yo++]=Gd,Gd=e;var n=wc;e=_c;var a=32-cl(n)-1;n&=~(1<<a),r+=1;var i=32-cl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,wc=1<<32-cl(t)+a|r<<a|n,_c=i+e}else wc=1<<i|r<<a|n,_c=e}function B3(e){e.return!==null&&(md(e,1),VF(e,1,0))}function U3(e){for(;e===T2;)T2=d0[--h0],d0[h0]=null,E2=d0[--h0],d0[h0]=null;for(;e===Gd;)Gd=vo[--yo],vo[yo]=null,_c=vo[--yo],vo[yo]=null,wc=vo[--yo],vo[yo]=null}var Ks=null,qs=null,Un=!1,rl=null;function zF(e,t){var r=xo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ks=e,qs=uf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ks=e,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:wc,overflow:_c}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ks=e,qs=null,!0):!1;default:return!1}}function o4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l4(e){if(Un){var t=qs;if(t){var r=t;if(!R6(e,t)){if(o4(e))throw Error(Ot(418));t=uf(r.nextSibling);var n=Ks;t&&R6(e,t)?zF(n,r):(e.flags=e.flags&-4097|2,Un=!1,Ks=e)}}else{if(o4(e))throw Error(Ot(418));e.flags=e.flags&-4097|2,Un=!1,Ks=e}}}function F6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ks=e}function Ky(e){if(e!==Ks)return!1;if(!Un)return F6(e),Un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!n4(e.type,e.memoizedProps)),t&&(t=qs)){if(o4(e))throw qF(),Error(Ot(418));for(;t;)zF(e,t),t=uf(t.nextSibling)}if(F6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ot(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qs=uf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qs=null}}else qs=Ks?uf(e.stateNode.nextSibling):null;return!0}function qF(){for(var e=qs;e;)e=uf(e.nextSibling)}function Y0(){qs=Ks=null,Un=!1}function V3(e){rl===null?rl=[e]:rl.push(e)}var bQ=eu.ReactCurrentBatchConfig;function Dm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ot(309));var n=r.stateNode}if(!n)throw Error(Ot(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ot(284));if(!r._owner)throw Error(Ot(290,e))}return e}function Yy(e,t){throw e=Object.prototype.toString.call(t),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $6(e){var t=e._init;return t(e._payload)}function WF(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=pf(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,O){return b===null||b.tag!==6?(b=nS(w,y.mode,O),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,O){var C=w.type;return C===s0?u(y,b,w.props.children,O,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vu&&$6(C)===b.type)?(O=a(b,w.props),O.ref=Dm(y,b,w),O.return=y,O):(O=Qx(w.type,w.key,w.props,null,y.mode,O),O.ref=Dm(y,b,w),O.return=y,O)}function c(y,b,w,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=aS(w,y.mode,O),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function u(y,b,w,O,C){return b===null||b.tag!==7?(b=Fd(w,y.mode,O,C),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fy:return w=Qx(b.type,b.key,b.props,null,y.mode,w),w.ref=Dm(y,null,b),w.return=y,w;case i0:return b=aS(b,y.mode,w),b.return=y,b;case Vu:var O=b._init;return f(y,O(b._payload),w)}if(tg(b)||Cm(b))return b=Fd(b,y.mode,w,null),b.return=y,b;Yy(y,b)}return null}function h(y,b,w,O){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(y,b,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:return w.key===C?l(y,b,w,O):null;case i0:return w.key===C?c(y,b,w,O):null;case Vu:return C=w._init,h(y,b,C(w._payload),O)}if(tg(w)||Cm(w))return C!==null?null:u(y,b,w,O,null);Yy(y,w)}return null}function p(y,b,w,O,C){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(w)||null,o(b,y,""+O,C);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Fy:return y=y.get(O.key===null?w:O.key)||null,l(b,y,O,C);case i0:return y=y.get(O.key===null?w:O.key)||null,c(b,y,O,C);case Vu:var I=O._init;return p(y,b,w,I(O._payload),C)}if(tg(O)||Cm(O))return y=y.get(w)||null,u(b,y,O,C,null);Yy(b,O)}return null}function g(y,b,w,O){for(var C=null,I=null,T=b,S=b=0,A=null;T!==null&&S<w.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var j=h(y,T,w[S],O);if(j===null){T===null&&(T=A);break}e&&T&&j.alternate===null&&t(y,T),b=i(j,b,S),I===null?C=j:I.sibling=j,I=j,T=A}if(S===w.length)return r(y,T),Un&&md(y,S),C;if(T===null){for(;S<w.length;S++)T=f(y,w[S],O),T!==null&&(b=i(T,b,S),I===null?C=T:I.sibling=T,I=T);return Un&&md(y,S),C}for(T=n(y,T);S<w.length;S++)A=p(T,y,S,w[S],O),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?S:A.key),b=i(A,b,S),I===null?C=A:I.sibling=A,I=A);return e&&T.forEach(function(E){return t(y,E)}),Un&&md(y,S),C}function m(y,b,w,O){var C=Cm(w);if(typeof C!="function")throw Error(Ot(150));if(w=C.call(w),w==null)throw Error(Ot(151));for(var I=C=null,T=b,S=b=0,A=null,j=w.next();T!==null&&!j.done;S++,j=w.next()){T.index>S?(A=T,T=null):A=T.sibling;var E=h(y,T,j.value,O);if(E===null){T===null&&(T=A);break}e&&T&&E.alternate===null&&t(y,T),b=i(E,b,S),I===null?C=E:I.sibling=E,I=E,T=A}if(j.done)return r(y,T),Un&&md(y,S),C;if(T===null){for(;!j.done;S++,j=w.next())j=f(y,j.value,O),j!==null&&(b=i(j,b,S),I===null?C=j:I.sibling=j,I=j);return Un&&md(y,S),C}for(T=n(y,T);!j.done;S++,j=w.next())j=p(T,y,S,j.value,O),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?S:j.key),b=i(j,b,S),I===null?C=j:I.sibling=j,I=j);return e&&T.forEach(function(k){return t(y,k)}),Un&&md(y,S),C}function v(y,b,w,O){if(typeof w=="object"&&w!==null&&w.type===s0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:e:{for(var C=w.key,I=b;I!==null;){if(I.key===C){if(C=w.type,C===s0){if(I.tag===7){r(y,I.sibling),b=a(I,w.props.children),b.return=y,y=b;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vu&&$6(C)===I.type){r(y,I.sibling),b=a(I,w.props),b.ref=Dm(y,I,w),b.return=y,y=b;break e}r(y,I);break}else t(y,I);I=I.sibling}w.type===s0?(b=Fd(w.props.children,y.mode,O,w.key),b.return=y,y=b):(O=Qx(w.type,w.key,w.props,null,y.mode,O),O.ref=Dm(y,b,w),O.return=y,y=O)}return s(y);case i0:e:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=aS(w,y.mode,O),b.return=y,y=b}return s(y);case Vu:return I=w._init,v(y,b,I(w._payload),O)}if(tg(w))return g(y,b,w,O);if(Cm(w))return m(y,b,w,O);Yy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=nS(w,y.mode,O),b.return=y,y=b),s(y)):r(y,b)}return v}var X0=WF(!0),HF=WF(!1),k2=Uf(null),N2=null,p0=null,z3=null;function q3(){z3=p0=N2=null}function W3(e){var t=k2.current;Rn(k2),e._currentValue=t}function c4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function O0(e,t){N2=e,z3=p0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ss=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(z3!==e)if(e={context:e,memoizedValue:t,next:null},p0===null){if(N2===null)throw Error(Ot(308));p0=e,N2.dependencies={lanes:0,firstContext:e}}else p0=p0.next=e;return t}var kd=null;function H3(e){kd===null?kd=[e]:kd.push(e)}function GF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,H3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fc(e,n)}function Fc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zu=!1;function G3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ff(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Hr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fc(e,r)}return a=n.interleaved,a===null?(t.next=t,H3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fc(e,r)}function Wx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I3(e,r)}}function B6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function C2(e,t,r,n){var a=e.updateQueue;zu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Yn({},f,h);break e;case 2:zu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yd|=s,e.lanes=s,e.memoizedState=f}}function U6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ot(191,a));a.call(n)}}}var D1={},$l=Uf(D1),uv=Uf(D1),fv=Uf(D1);function Nd(e){if(e===D1)throw Error(Ot(174));return e}function K3(e,t){switch(Nn(fv,t),Nn(uv,e),Nn($l,D1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zA(t,e)}Rn($l),Nn($l,t)}function Q0(){Rn($l),Rn(uv),Rn(fv)}function YF(e){Nd(fv.current);var t=Nd($l.current),r=zA(t,e.type);t!==r&&(Nn(uv,e),Nn($l,r))}function Y3(e){uv.current===e&&(Rn($l),Rn(uv))}var Hn=Uf(0);function P2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q_=[];function X3(){for(var e=0;e<Q_.length;e++)Q_[e]._workInProgressVersionPrimary=null;Q_.length=0}var Hx=eu.ReactCurrentDispatcher,J_=eu.ReactCurrentBatchConfig,Kd=0,Gn=null,ja=null,Ga=null,O2=!1,bg=!1,dv=0,wQ=0;function bi(){throw Error(Ot(321))}function Q3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pl(e[r],t[r]))return!1;return!0}function J3(e,t,r,n,a,i){if(Kd=i,Gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hx.current=e===null||e.memoizedState===null?TQ:EQ,e=r(n,a),bg){i=0;do{if(bg=!1,dv=0,25<=i)throw Error(Ot(301));i+=1,Ga=ja=null,t.updateQueue=null,Hx.current=kQ,e=r(n,a)}while(bg)}if(Hx.current=I2,t=ja!==null&&ja.next!==null,Kd=0,Ga=ja=Gn=null,O2=!1,t)throw Error(Ot(300));return e}function Z3(){var e=dv!==0;return dv=0,e}function jl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ga===null?Gn.memoizedState=Ga=e:Ga=Ga.next=e,Ga}function Eo(){if(ja===null){var e=Gn.alternate;e=e!==null?e.memoizedState:null}else e=ja.next;var t=Ga===null?Gn.memoizedState:Ga.next;if(t!==null)Ga=t,ja=e;else{if(e===null)throw Error(Ot(310));ja=e,e={memoizedState:ja.memoizedState,baseState:ja.baseState,baseQueue:ja.baseQueue,queue:ja.queue,next:null},Ga===null?Gn.memoizedState=Ga=e:Ga=Ga.next=e}return Ga}function hv(e,t){return typeof t=="function"?t(e):t}function Z_(e){var t=Eo(),r=t.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=e;var n=ja,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Kd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Gn.lanes|=u,Yd|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,pl(n,t.memoizedState)||(Ss=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Gn.lanes|=i,Yd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eS(e){var t=Eo(),r=t.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);pl(i,t.memoizedState)||(Ss=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function XF(){}function QF(e,t){var r=Gn,n=Eo(),a=t(),i=!pl(n.memoizedState,a);if(i&&(n.memoizedState=a,Ss=!0),n=n.queue,ek(e$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ga!==null&&Ga.memoizedState.tag&1){if(r.flags|=2048,pv(9,ZF.bind(null,r,n,a,t),void 0,null),Xa===null)throw Error(Ot(349));Kd&30||JF(r,t,a)}return a}function JF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ZF(e,t,r,n){t.value=r,t.getSnapshot=n,t$(t)&&r$(e)}function e$(e,t,r){return r(function(){t$(t)&&r$(e)})}function t$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pl(e,r)}catch{return!0}}function r$(e){var t=Fc(e,1);t!==null&&ul(t,e,1,-1)}function V6(e){var t=jl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:e},t.queue=e,e=e.dispatch=AQ.bind(null,Gn,e),[t.memoizedState,e]}function pv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function n$(){return Eo().memoizedState}function Gx(e,t,r,n){var a=jl();Gn.flags|=e,a.memoizedState=pv(1|t,r,void 0,n===void 0?null:n)}function Rw(e,t,r,n){var a=Eo();n=n===void 0?null:n;var i=void 0;if(ja!==null){var s=ja.memoizedState;if(i=s.destroy,n!==null&&Q3(n,s.deps)){a.memoizedState=pv(t,r,i,n);return}}Gn.flags|=e,a.memoizedState=pv(1|t,r,i,n)}function z6(e,t){return Gx(8390656,8,e,t)}function ek(e,t){return Rw(2048,8,e,t)}function a$(e,t){return Rw(4,2,e,t)}function i$(e,t){return Rw(4,4,e,t)}function s$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o$(e,t,r){return r=r!=null?r.concat([e]):null,Rw(4,4,s$.bind(null,t,e),r)}function tk(){}function l$(e,t){var r=Eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Q3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function c$(e,t){var r=Eo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Q3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u$(e,t,r){return Kd&21?(pl(r,t)||(r=mF(),Gn.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=r)}function _Q(e,t){var r=dn;dn=r!==0&&4>r?r:4,e(!0);var n=J_.transition;J_.transition={};try{e(!1),t()}finally{dn=r,J_.transition=n}}function f$(){return Eo().memoizedState}function SQ(e,t,r){var n=hf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d$(e))h$(t,r);else if(r=GF(e,t,r,n),r!==null){var a=as();ul(r,e,n,a),p$(r,t,n)}}function AQ(e,t,r){var n=hf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d$(e))h$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,pl(o,s)){var l=t.interleaved;l===null?(a.next=a,H3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=GF(e,t,a,n),r!==null&&(a=as(),ul(r,e,n,a),p$(r,t,n))}}function d$(e){var t=e.alternate;return e===Gn||t!==null&&t===Gn}function h$(e,t){bg=O2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I3(e,r)}}var I2={readContext:To,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},TQ={readContext:To,useCallback:function(e,t){return jl().memoizedState=[e,t===void 0?null:t],e},useContext:To,useEffect:z6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gx(4194308,4,s$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gx(4,2,e,t)},useMemo:function(e,t){var r=jl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SQ.bind(null,Gn,e),[n.memoizedState,e]},useRef:function(e){var t=jl();return e={current:e},t.memoizedState=e},useState:V6,useDebugValue:tk,useDeferredValue:function(e){return jl().memoizedState=e},useTransition:function(){var e=V6(!1),t=e[0];return e=_Q.bind(null,e[1]),jl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Gn,a=jl();if(Un){if(r===void 0)throw Error(Ot(407));r=r()}else{if(r=t(),Xa===null)throw Error(Ot(349));Kd&30||JF(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,z6(e$.bind(null,n,i,e),[e]),n.flags|=2048,pv(9,ZF.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jl(),t=Xa.identifierPrefix;if(Un){var r=_c,n=wc;r=(n&~(1<<32-cl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EQ={readContext:To,useCallback:l$,useContext:To,useEffect:ek,useImperativeHandle:o$,useInsertionEffect:a$,useLayoutEffect:i$,useMemo:c$,useReducer:Z_,useRef:n$,useState:function(){return Z_(hv)},useDebugValue:tk,useDeferredValue:function(e){var t=Eo();return u$(t,ja.memoizedState,e)},useTransition:function(){var e=Z_(hv)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:XF,useSyncExternalStore:QF,useId:f$,unstable_isNewReconciler:!1},kQ={readContext:To,useCallback:l$,useContext:To,useEffect:ek,useImperativeHandle:o$,useInsertionEffect:a$,useLayoutEffect:i$,useMemo:c$,useReducer:eS,useRef:n$,useState:function(){return eS(hv)},useDebugValue:tk,useDeferredValue:function(e){var t=Eo();return ja===null?t.memoizedState=e:u$(t,ja.memoizedState,e)},useTransition:function(){var e=eS(hv)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:XF,useSyncExternalStore:QF,useId:f$,unstable_isNewReconciler:!1};function Qo(e,t){if(e&&e.defaultProps){t=Yn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function u4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fw={isMounted:function(e){return(e=e._reactInternals)?uh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=as(),a=hf(e),i=Nc(n,a);i.payload=t,r!=null&&(i.callback=r),t=ff(e,i,a),t!==null&&(ul(t,e,a,n),Wx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=as(),a=hf(e),i=Nc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ff(e,i,a),t!==null&&(ul(t,e,a,n),Wx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=as(),n=hf(e),a=Nc(r,n);a.tag=2,t!=null&&(a.callback=t),t=ff(e,a,n),t!==null&&(ul(t,e,n,r),Wx(t,e,n))}};function q6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!sv(r,n)||!sv(a,i):!0}function m$(e,t,r){var n=!1,a=kf,i=t.contextType;return typeof i=="object"&&i!==null?i=To(i):(a=ks(t)?Hd:zi.current,n=t.contextTypes,i=(n=n!=null)?K0(e,a):kf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function W6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fw.enqueueReplaceState(t,t.state,null)}function f4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},G3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=To(i):(i=ks(t)?Hd:zi.current,a.context=K0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(u4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fw.enqueueReplaceState(a,a.state,null),C2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function J0(e,t){try{var r="",n=t;do r+=tX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function tS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function d4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NQ=typeof WeakMap=="function"?WeakMap:Map;function g$(e,t,r){r=Nc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){D2||(D2=!0,_4=n),d4(e,t)},r}function v$(e,t,r){r=Nc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){d4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){d4(e,t),typeof n!="function"&&(df===null?df=new Set([this]):df.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function H6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VQ.bind(null,e,t,r),t.then(e,e))}function G6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nc(-1,1),t.tag=2,ff(r,t,1))),r.lanes|=1),e)}var CQ=eu.ReactCurrentOwner,Ss=!1;function Qi(e,t,r,n){t.child=e===null?HF(t,null,r,n):X0(t,e.child,r,n)}function Y6(e,t,r,n,a){r=r.render;var i=t.ref;return O0(t,a),n=J3(e,t,r,n,i,a),r=Z3(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$c(e,t,a)):(Un&&r&&B3(t),t.flags|=1,Qi(e,t,n,a),t.child)}function X6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ck(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,y$(e,t,i,n,a)):(e=Qx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:sv,r(s,n)&&e.ref===t.ref)return $c(e,t,a)}return t.flags|=1,e=pf(i,n),e.ref=t.ref,e.return=t,t.child=e}function y$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(sv(i,n)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ss=!0);else return t.lanes=e.lanes,$c(e,t,a)}return h4(e,t,r,n,a)}function x$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(g0,$s),$s|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nn(g0,$s),$s|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nn(g0,$s),$s|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Nn(g0,$s),$s|=n;return Qi(e,t,a,r),t.child}function b$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function h4(e,t,r,n,a){var i=ks(r)?Hd:zi.current;return i=K0(t,i),O0(t,a),r=J3(e,t,r,n,i,a),n=Z3(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$c(e,t,a)):(Un&&n&&B3(t),t.flags|=1,Qi(e,t,r,a),t.child)}function Q6(e,t,r,n,a){if(ks(r)){var i=!0;A2(t)}else i=!1;if(O0(t,a),t.stateNode===null)Kx(e,t),m$(t,r,n),f4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=To(c):(c=ks(r)?Hd:zi.current,c=K0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&W6(t,s,n,c),zu=!1;var h=t.memoizedState;s.state=h,C2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Es.current||zu?(typeof u=="function"&&(u4(t,r,u,n),l=t.memoizedState),(o=zu||q6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,KF(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Qo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=To(l):(l=ks(r)?Hd:zi.current,l=K0(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&W6(t,s,n,l),zu=!1,h=t.memoizedState,s.state=h,C2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Es.current||zu?(typeof p=="function"&&(u4(t,r,p,n),g=t.memoizedState),(c=zu||q6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return p4(e,t,r,n,i,a)}function p4(e,t,r,n,a,i){b$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&M6(t,r,!1),$c(e,t,i);n=t.stateNode,CQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=X0(t,e.child,null,i),t.child=X0(t,null,o,i)):Qi(e,t,o,i),t.memoizedState=n.state,a&&M6(t,r,!0),t.child}function w$(e){var t=e.stateNode;t.pendingContext?L6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L6(e,t.context,!1),K3(e,t.containerInfo)}function J6(e,t,r,n,a){return Y0(),V3(a),t.flags|=256,Qi(e,t,r,n),t.child}var m4={dehydrated:null,treeContext:null,retryLane:0};function g4(e){return{baseLanes:e,cachePool:null,transitions:null}}function _$(e,t,r){var n=t.pendingProps,a=Hn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nn(Hn,a&1),e===null)return l4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Uw(s,n,0,null),e=Fd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=g4(r),t.memoizedState=m4,e):rk(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return PQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=pf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=pf(o,i):(i=Fd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?g4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=m4,n}return i=e.child,e=i.sibling,n=pf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rk(e,t){return t=Uw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xy(e,t,r,n){return n!==null&&V3(n),X0(t,e.child,null,r),e=rk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=tS(Error(Ot(422))),Xy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Uw({mode:"visible",children:n.children},a,0,null),i=Fd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&X0(t,e.child,null,s),t.child.memoizedState=g4(s),t.memoizedState=m4,i);if(!(t.mode&1))return Xy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ot(419)),n=tS(i,n,void 0),Xy(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ss||o){if(n=Xa,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fc(e,a),ul(n,e,a,-1))}return lk(),n=tS(Error(Ot(421))),Xy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qs=uf(a.nextSibling),Ks=t,Un=!0,rl=null,e!==null&&(vo[yo++]=wc,vo[yo++]=_c,vo[yo++]=Gd,wc=e.id,_c=e.overflow,Gd=t),t=rk(t,n.children),t.flags|=4096,t)}function Z6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),c4(e.return,t,r)}function rS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function S$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Qi(e,t,n.children,r),n=Hn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z6(e,r,t);else if(e.tag===19)Z6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nn(Hn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&P2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&P2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rS(t,!0,r,null,i);break;case"together":rS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $c(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ot(153));if(t.child!==null){for(e=t.child,r=pf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OQ(e,t,r){switch(t.tag){case 3:w$(t),Y0();break;case 5:YF(t);break;case 1:ks(t.type)&&A2(t);break;case 4:K3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Nn(k2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nn(Hn,Hn.current&1),t.flags|=128,null):r&t.child.childLanes?_$(e,t,r):(Nn(Hn,Hn.current&1),e=$c(e,t,r),e!==null?e.sibling:null);Nn(Hn,Hn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nn(Hn,Hn.current),n)break;return null;case 22:case 23:return t.lanes=0,x$(e,t,r)}return $c(e,t,r)}var A$,v4,T$,E$;A$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v4=function(){};T$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Nd($l.current);var i=null;switch(r){case"input":a=$A(e,a),n=$A(e,n),i=[];break;case"select":a=Yn({},a,{value:void 0}),n=Yn({},n,{value:void 0}),i=[];break;case"textarea":a=VA(e,a),n=VA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_2)}qA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&In("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};E$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lm(e,t){if(!Un)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IQ(e,t,r){var n=t.pendingProps;switch(U3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(t),null;case 1:return ks(t.type)&&S2(),wi(t),null;case 3:return n=t.stateNode,Q0(),Rn(Es),Rn(zi),X3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ky(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rl!==null&&(T4(rl),rl=null))),v4(e,t),wi(t),null;case 5:Y3(t);var a=Nd(fv.current);if(r=t.type,e!==null&&t.stateNode!=null)T$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ot(166));return wi(t),null}if(e=Nd($l.current),Ky(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ll]=t,n[cv]=i,e=(t.mode&1)!==0,r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(a=0;a<ng.length;a++)In(ng[a],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":l6(n,i),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},In("invalid",n);break;case"textarea":u6(n,i),In("invalid",n)}qA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Gy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Gy(n.textContent,o,e),a=["children",""+o]):Zg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&In("scroll",n)}switch(r){case"input":$y(n),c6(n,i,!0);break;case"textarea":$y(n),f6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ll]=t,e[cv]=n,A$(e,t,!1,!1),t.stateNode=e;e:{switch(s=WA(r,n),r){case"dialog":In("cancel",e),In("close",e),a=n;break;case"iframe":case"object":case"embed":In("load",e),a=n;break;case"video":case"audio":for(a=0;a<ng.length;a++)In(ng[a],e);a=n;break;case"source":In("error",e),a=n;break;case"img":case"image":case"link":In("error",e),In("load",e),a=n;break;case"details":In("toggle",e),a=n;break;case"input":l6(e,n),a=$A(e,n),In("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Yn({},n,{value:void 0}),In("invalid",e);break;case"textarea":u6(e,n),a=VA(e,n),In("invalid",e);break;default:a=n}qA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?nF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ev(e,l):typeof l=="number"&&ev(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&In("scroll",e):l!=null&&E3(e,i,l,s))}switch(r){case"input":$y(e),c6(e,n,!1);break;case"textarea":$y(e),f6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ef(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?k0(e,!!n.multiple,i,!1):n.defaultValue!=null&&k0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wi(t),null;case 6:if(e&&t.stateNode!=null)E$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ot(166));if(r=Nd(fv.current),Nd($l.current),Ky(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ll]=t,(i=n.nodeValue!==r)&&(e=Ks,e!==null))switch(e.tag){case 3:Gy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ll]=t,t.stateNode=n}return wi(t),null;case 13:if(Rn(Hn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Un&&qs!==null&&t.mode&1&&!(t.flags&128))qF(),Y0(),t.flags|=98560,i=!1;else if(i=Ky(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ot(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ot(317));i[Ll]=t}else Y0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wi(t),i=!1}else rl!==null&&(T4(rl),rl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Hn.current&1?Da===0&&(Da=3):lk())),t.updateQueue!==null&&(t.flags|=4),wi(t),null);case 4:return Q0(),v4(e,t),e===null&&ov(t.stateNode.containerInfo),wi(t),null;case 10:return W3(t.type._context),wi(t),null;case 17:return ks(t.type)&&S2(),wi(t),null;case 19:if(Rn(Hn),i=t.memoizedState,i===null)return wi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Lm(i,!1);else{if(Da!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=P2(e),s!==null){for(t.flags|=128,Lm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nn(Hn,Hn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ha()>Z0&&(t.flags|=128,n=!0,Lm(i,!1),t.lanes=4194304)}else{if(!n)if(e=P2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Un)return wi(t),null}else 2*ha()-i.renderingStartTime>Z0&&r!==1073741824&&(t.flags|=128,n=!0,Lm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ha(),t.sibling=null,r=Hn.current,Nn(Hn,n?r&1|2:r&1),t):(wi(t),null);case 22:case 23:return ok(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$s&1073741824&&(wi(t),t.subtreeFlags&6&&(t.flags|=8192)):wi(t),null;case 24:return null;case 25:return null}throw Error(Ot(156,t.tag))}function jQ(e,t){switch(U3(t),t.tag){case 1:return ks(t.type)&&S2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Q0(),Rn(Es),Rn(zi),X3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Y3(t),null;case 13:if(Rn(Hn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ot(340));Y0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rn(Hn),null;case 4:return Q0(),null;case 10:return W3(t.type._context),null;case 22:case 23:return ok(),null;case 24:return null;default:return null}}var Qy=!1,Ii=!1,DQ=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function m0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ia(e,t,n)}else r.current=null}function y4(e,t,r){try{r()}catch(n){ia(e,t,n)}}var eO=!1;function LQ(e,t){if(t4=x2,e=OF(),$3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(r4={focusedElem:e,selectionRange:r},x2=!1,Ht=t;Ht!==null;)if(t=Ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ht=e;else for(;Ht!==null;){t=Ht;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Qo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ot(163))}}catch(O){ia(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ht=e;break}Ht=t.return}return g=eO,eO=!1,g}function wg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&y4(t,r,i)}a=a.next}while(a!==n)}}function $w(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function x4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k$(e){var t=e.alternate;t!==null&&(e.alternate=null,k$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ll],delete t[cv],delete t[i4],delete t[vQ],delete t[yQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N$(e){return e.tag===5||e.tag===3||e.tag===4}function tO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_2));else if(n!==4&&(e=e.child,e!==null))for(b4(e,t,r),e=e.sibling;e!==null;)b4(e,t,r),e=e.sibling}function w4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(w4(e,t,r),e=e.sibling;e!==null;)w4(e,t,r),e=e.sibling}var ii=null,Zo=!1;function Lu(e,t,r){for(r=r.child;r!==null;)C$(e,t,r),r=r.sibling}function C$(e,t,r){if(Fl&&typeof Fl.onCommitFiberUnmount=="function")try{Fl.onCommitFiberUnmount(Ow,r)}catch{}switch(r.tag){case 5:Ii||m0(r,t);case 6:var n=ii,a=Zo;ii=null,Lu(e,t,r),ii=n,Zo=a,ii!==null&&(Zo?(e=ii,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ii.removeChild(r.stateNode));break;case 18:ii!==null&&(Zo?(e=ii,r=r.stateNode,e.nodeType===8?Y_(e.parentNode,r):e.nodeType===1&&Y_(e,r),av(e)):Y_(ii,r.stateNode));break;case 4:n=ii,a=Zo,ii=r.stateNode.containerInfo,Zo=!0,Lu(e,t,r),ii=n,Zo=a;break;case 0:case 11:case 14:case 15:if(!Ii&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&y4(r,t,s),a=a.next}while(a!==n)}Lu(e,t,r);break;case 1:if(!Ii&&(m0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ia(r,t,o)}Lu(e,t,r);break;case 21:Lu(e,t,r);break;case 22:r.mode&1?(Ii=(n=Ii)||r.memoizedState!==null,Lu(e,t,r),Ii=n):Lu(e,t,r);break;default:Lu(e,t,r)}}function rO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new DQ),t.forEach(function(n){var a=qQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ii=o.stateNode,Zo=!1;break e;case 3:ii=o.stateNode.containerInfo,Zo=!0;break e;case 4:ii=o.stateNode.containerInfo,Zo=!0;break e}o=o.return}if(ii===null)throw Error(Ot(160));C$(i,s,a),ii=null,Zo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ia(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P$(t,e),t=t.sibling}function P$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zo(t,e),Cl(e),n&4){try{wg(3,e,e.return),$w(3,e)}catch(m){ia(e,e.return,m)}try{wg(5,e,e.return)}catch(m){ia(e,e.return,m)}}break;case 1:zo(t,e),Cl(e),n&512&&r!==null&&m0(r,r.return);break;case 5:if(zo(t,e),Cl(e),n&512&&r!==null&&m0(r,r.return),e.flags&32){var a=e.stateNode;try{ev(a,"")}catch(m){ia(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&J7(a,i),WA(o,s);var c=WA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?nF(a,f):u==="dangerouslySetInnerHTML"?tF(a,f):u==="children"?ev(a,f):E3(a,u,f,c)}switch(o){case"input":BA(a,i);break;case"textarea":Z7(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?k0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?k0(a,!!i.multiple,i.defaultValue,!0):k0(a,!!i.multiple,i.multiple?[]:"",!1))}a[cv]=i}catch(m){ia(e,e.return,m)}}break;case 6:if(zo(t,e),Cl(e),n&4){if(e.stateNode===null)throw Error(Ot(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){ia(e,e.return,m)}}break;case 3:if(zo(t,e),Cl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{av(t.containerInfo)}catch(m){ia(e,e.return,m)}break;case 4:zo(t,e),Cl(e);break;case 13:zo(t,e),Cl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ik=ha())),n&4&&rO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ii=(c=Ii)||u,zo(t,e),Ii=c):zo(t,e),Cl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ht=e,u=e.child;u!==null;){for(f=Ht=u;Ht!==null;){switch(h=Ht,p=h.child,h.tag){case 0:case 11:case 14:case 15:wg(4,h,h.return);break;case 1:m0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ia(n,r,m)}}break;case 5:m0(h,h.return);break;case 22:if(h.memoizedState!==null){aO(f);continue}}p!==null?(p.return=h,Ht=p):aO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=rF("display",s))}catch(m){ia(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ia(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zo(t,e),Cl(e),n&4&&rO(e);break;case 21:break;default:zo(t,e),Cl(e)}}function Cl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(N$(r)){var n=r;break e}r=r.return}throw Error(Ot(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ev(a,""),n.flags&=-33);var i=tO(e);w4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=tO(e);b4(e,o,s);break;default:throw Error(Ot(161))}}catch(l){ia(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MQ(e,t,r){Ht=e,O$(e)}function O$(e,t,r){for(var n=(e.mode&1)!==0;Ht!==null;){var a=Ht,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Qy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Ii;o=Qy;var c=Ii;if(Qy=s,(Ii=l)&&!c)for(Ht=a;Ht!==null;)s=Ht,l=s.child,s.tag===22&&s.memoizedState!==null?iO(a):l!==null?(l.return=s,Ht=l):iO(a);for(;i!==null;)Ht=i,O$(i),i=i.sibling;Ht=a,Qy=o,Ii=c}nO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ht=i):nO(e)}}function nO(e){for(;Ht!==null;){var t=Ht;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ii||$w(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ii)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Qo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&U6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}U6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&av(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ot(163))}Ii||t.flags&512&&x4(t)}catch(h){ia(t,t.return,h)}}if(t===e){Ht=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ht=r;break}Ht=t.return}}function aO(e){for(;Ht!==null;){var t=Ht;if(t===e){Ht=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ht=r;break}Ht=t.return}}function iO(e){for(;Ht!==null;){var t=Ht;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$w(4,t)}catch(l){ia(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ia(t,a,l)}}var i=t.return;try{x4(t)}catch(l){ia(t,i,l)}break;case 5:var s=t.return;try{x4(t)}catch(l){ia(t,s,l)}}}catch(l){ia(t,t.return,l)}if(t===e){Ht=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ht=o;break}Ht=t.return}}var RQ=Math.ceil,j2=eu.ReactCurrentDispatcher,nk=eu.ReactCurrentOwner,wo=eu.ReactCurrentBatchConfig,Hr=0,Xa=null,Ta=null,hi=0,$s=0,g0=Uf(0),Da=0,mv=null,Yd=0,Bw=0,ak=0,_g=null,bs=null,ik=0,Z0=1/0,yc=null,D2=!1,_4=null,df=null,Jy=!1,Ju=null,L2=0,Sg=0,S4=null,Yx=-1,Xx=0;function as(){return Hr&6?ha():Yx!==-1?Yx:Yx=ha()}function hf(e){return e.mode&1?Hr&2&&hi!==0?hi&-hi:bQ.transition!==null?(Xx===0&&(Xx=mF()),Xx):(e=dn,e!==0||(e=window.event,e=e===void 0?16:_F(e.type)),e):1}function ul(e,t,r,n){if(50<Sg)throw Sg=0,S4=null,Error(Ot(185));O1(e,r,n),(!(Hr&2)||e!==Xa)&&(e===Xa&&(!(Hr&2)&&(Bw|=r),Da===4&&Hu(e,hi)),Ns(e,n),r===1&&Hr===0&&!(t.mode&1)&&(Z0=ha()+500,Mw&&Vf()))}function Ns(e,t){var r=e.callbackNode;bX(e,t);var n=y2(e,e===Xa?hi:0);if(n===0)r!==null&&p6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&p6(r),t===1)e.tag===0?xQ(sO.bind(null,e)):UF(sO.bind(null,e)),mQ(function(){!(Hr&6)&&Vf()}),r=null;else{switch(gF(n)){case 1:r=O3;break;case 4:r=hF;break;case 16:r=v2;break;case 536870912:r=pF;break;default:r=v2}r=$$(r,I$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I$(e,t){if(Yx=-1,Xx=0,Hr&6)throw Error(Ot(327));var r=e.callbackNode;if(I0()&&e.callbackNode!==r)return null;var n=y2(e,e===Xa?hi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=M2(e,n);else{t=n;var a=Hr;Hr|=2;var i=D$();(Xa!==e||hi!==t)&&(yc=null,Z0=ha()+500,Rd(e,t));do try{BQ();break}catch(o){j$(e,o)}while(!0);q3(),j2.current=i,Hr=a,Ta!==null?t=0:(Xa=null,hi=0,t=Da)}if(t!==0){if(t===2&&(a=XA(e),a!==0&&(n=a,t=A4(e,a))),t===1)throw r=mv,Rd(e,0),Hu(e,n),Ns(e,ha()),r;if(t===6)Hu(e,n);else{if(a=e.current.alternate,!(n&30)&&!FQ(a)&&(t=M2(e,n),t===2&&(i=XA(e),i!==0&&(n=i,t=A4(e,i))),t===1))throw r=mv,Rd(e,0),Hu(e,n),Ns(e,ha()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ot(345));case 2:gd(e,bs,yc);break;case 3:if(Hu(e,n),(n&130023424)===n&&(t=ik+500-ha(),10<t)){if(y2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){as(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=a4(gd.bind(null,e,bs,yc),t);break}gd(e,bs,yc);break;case 4:if(Hu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-cl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ha()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RQ(n/1960))-n,10<n){e.timeoutHandle=a4(gd.bind(null,e,bs,yc),n);break}gd(e,bs,yc);break;case 5:gd(e,bs,yc);break;default:throw Error(Ot(329))}}}return Ns(e,ha()),e.callbackNode===r?I$.bind(null,e):null}function A4(e,t){var r=_g;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=M2(e,t),e!==2&&(t=bs,bs=r,t!==null&&T4(t)),e}function T4(e){bs===null?bs=e:bs.push.apply(bs,e)}function FQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hu(e,t){for(t&=~ak,t&=~Bw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cl(t),n=1<<r;e[r]=-1,t&=~n}}function sO(e){if(Hr&6)throw Error(Ot(327));I0();var t=y2(e,0);if(!(t&1))return Ns(e,ha()),null;var r=M2(e,t);if(e.tag!==0&&r===2){var n=XA(e);n!==0&&(t=n,r=A4(e,n))}if(r===1)throw r=mv,Rd(e,0),Hu(e,t),Ns(e,ha()),r;if(r===6)throw Error(Ot(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,bs,yc),Ns(e,ha()),null}function sk(e,t){var r=Hr;Hr|=1;try{return e(t)}finally{Hr=r,Hr===0&&(Z0=ha()+500,Mw&&Vf())}}function Xd(e){Ju!==null&&Ju.tag===0&&!(Hr&6)&&I0();var t=Hr;Hr|=1;var r=wo.transition,n=dn;try{if(wo.transition=null,dn=1,e)return e()}finally{dn=n,wo.transition=r,Hr=t,!(Hr&6)&&Vf()}}function ok(){$s=g0.current,Rn(g0)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pQ(r)),Ta!==null)for(r=Ta.return;r!==null;){var n=r;switch(U3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&S2();break;case 3:Q0(),Rn(Es),Rn(zi),X3();break;case 5:Y3(n);break;case 4:Q0();break;case 13:Rn(Hn);break;case 19:Rn(Hn);break;case 10:W3(n.type._context);break;case 22:case 23:ok()}r=r.return}if(Xa=e,Ta=e=pf(e.current,null),hi=$s=t,Da=0,mv=null,ak=Bw=Yd=0,bs=_g=null,kd!==null){for(t=0;t<kd.length;t++)if(r=kd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}kd=null}return e}function j$(e,t){do{var r=Ta;try{if(q3(),Hx.current=I2,O2){for(var n=Gn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}O2=!1}if(Kd=0,Ga=ja=Gn=null,bg=!1,dv=0,nk.current=null,r===null||r.return===null){Da=1,mv=t,Ta=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=hi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=G6(s);if(p!==null){p.flags&=-257,K6(p,s,o,i,t),p.mode&1&&H6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){H6(i,c,t),lk();break e}l=Error(Ot(426))}}else if(Un&&o.mode&1){var v=G6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),K6(v,s,o,i,t),V3(J0(l,o));break e}}i=l=J0(l,o),Da!==4&&(Da=2),_g===null?_g=[i]:_g.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=g$(i,l,t);B6(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(df===null||!df.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=v$(i,o,t);B6(i,O);break e}}i=i.return}while(i!==null)}M$(r)}catch(C){t=C,Ta===r&&r!==null&&(Ta=r=r.return);continue}break}while(!0)}function D$(){var e=j2.current;return j2.current=I2,e===null?I2:e}function lk(){(Da===0||Da===3||Da===2)&&(Da=4),Xa===null||!(Yd&268435455)&&!(Bw&268435455)||Hu(Xa,hi)}function M2(e,t){var r=Hr;Hr|=2;var n=D$();(Xa!==e||hi!==t)&&(yc=null,Rd(e,t));do try{$Q();break}catch(a){j$(e,a)}while(!0);if(q3(),Hr=r,j2.current=n,Ta!==null)throw Error(Ot(261));return Xa=null,hi=0,Da}function $Q(){for(;Ta!==null;)L$(Ta)}function BQ(){for(;Ta!==null&&!fX();)L$(Ta)}function L$(e){var t=F$(e.alternate,e,$s);e.memoizedProps=e.pendingProps,t===null?M$(e):Ta=t,nk.current=null}function M$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jQ(r,t),r!==null){r.flags&=32767,Ta=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Da=6,Ta=null;return}}else if(r=IQ(r,t,$s),r!==null){Ta=r;return}if(t=t.sibling,t!==null){Ta=t;return}Ta=t=e}while(t!==null);Da===0&&(Da=5)}function gd(e,t,r){var n=dn,a=wo.transition;try{wo.transition=null,dn=1,UQ(e,t,r,n)}finally{wo.transition=a,dn=n}return null}function UQ(e,t,r,n){do I0();while(Ju!==null);if(Hr&6)throw Error(Ot(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ot(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wX(e,i),e===Xa&&(Ta=Xa=null,hi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jy||(Jy=!0,$$(v2,function(){return I0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wo.transition,wo.transition=null;var s=dn;dn=1;var o=Hr;Hr|=4,nk.current=null,LQ(e,r),P$(r,e),oQ(r4),x2=!!t4,r4=t4=null,e.current=r,MQ(r),dX(),Hr=o,dn=s,wo.transition=i}else e.current=r;if(Jy&&(Jy=!1,Ju=e,L2=a),i=e.pendingLanes,i===0&&(df=null),mX(r.stateNode),Ns(e,ha()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(D2)throw D2=!1,e=_4,_4=null,e;return L2&1&&e.tag!==0&&I0(),i=e.pendingLanes,i&1?e===S4?Sg++:(Sg=0,S4=e):Sg=0,Vf(),null}function I0(){if(Ju!==null){var e=gF(L2),t=wo.transition,r=dn;try{if(wo.transition=null,dn=16>e?16:e,Ju===null)var n=!1;else{if(e=Ju,Ju=null,L2=0,Hr&6)throw Error(Ot(331));var a=Hr;for(Hr|=4,Ht=e.current;Ht!==null;){var i=Ht,s=i.child;if(Ht.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ht=c;Ht!==null;){var u=Ht;switch(u.tag){case 0:case 11:case 15:wg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ht=f;else for(;Ht!==null;){u=Ht;var h=u.sibling,p=u.return;if(k$(u),u===c){Ht=null;break}if(h!==null){h.return=p,Ht=h;break}Ht=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ht=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ht=s;else e:for(;Ht!==null;){if(i=Ht,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ht=y;break e}Ht=i.return}}var b=e.current;for(Ht=b;Ht!==null;){s=Ht;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ht=w;else e:for(s=b;Ht!==null;){if(o=Ht,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$w(9,o)}}catch(C){ia(o,o.return,C)}if(o===s){Ht=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Ht=O;break e}Ht=o.return}}if(Hr=a,Vf(),Fl&&typeof Fl.onPostCommitFiberRoot=="function")try{Fl.onPostCommitFiberRoot(Ow,e)}catch{}n=!0}return n}finally{dn=r,wo.transition=t}}return!1}function oO(e,t,r){t=J0(r,t),t=g$(e,t,1),e=ff(e,t,1),t=as(),e!==null&&(O1(e,1,t),Ns(e,t))}function ia(e,t,r){if(e.tag===3)oO(e,e,r);else for(;t!==null;){if(t.tag===3){oO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(df===null||!df.has(n))){e=J0(r,e),e=v$(t,e,1),t=ff(t,e,1),e=as(),t!==null&&(O1(t,1,e),Ns(t,e));break}}t=t.return}}function VQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&r,Xa===e&&(hi&r)===r&&(Da===4||Da===3&&(hi&130023424)===hi&&500>ha()-ik?Rd(e,0):ak|=r),Ns(e,t)}function R$(e,t){t===0&&(e.mode&1?(t=Vy,Vy<<=1,!(Vy&130023424)&&(Vy=4194304)):t=1);var r=as();e=Fc(e,t),e!==null&&(O1(e,t,r),Ns(e,r))}function zQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R$(e,r)}function qQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ot(314))}n!==null&&n.delete(t),R$(e,r)}var F$;F$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Es.current)Ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ss=!1,OQ(e,t,r);Ss=!!(e.flags&131072)}else Ss=!1,Un&&t.flags&1048576&&VF(t,E2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kx(e,t),e=t.pendingProps;var a=K0(t,zi.current);O0(t,r),a=J3(null,t,n,e,a,r);var i=Z3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(n)?(i=!0,A2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,G3(t),a.updater=Fw,t.stateNode=a,a._reactInternals=t,f4(t,n,e,r),t=p4(null,t,n,!0,i,r)):(t.tag=0,Un&&i&&B3(t),Qi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Kx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=HQ(n),e=Qo(n,e),a){case 0:t=h4(null,t,n,e,r);break e;case 1:t=Q6(null,t,n,e,r);break e;case 11:t=Y6(null,t,n,e,r);break e;case 14:t=X6(null,t,n,Qo(n.type,e),r);break e}throw Error(Ot(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qo(n,a),h4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qo(n,a),Q6(e,t,n,a,r);case 3:e:{if(w$(t),e===null)throw Error(Ot(387));n=t.pendingProps,i=t.memoizedState,a=i.element,KF(e,t),C2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=J0(Error(Ot(423)),t),t=J6(e,t,n,r,a);break e}else if(n!==a){a=J0(Error(Ot(424)),t),t=J6(e,t,n,r,a);break e}else for(qs=uf(t.stateNode.containerInfo.firstChild),Ks=t,Un=!0,rl=null,r=HF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Y0(),n===a){t=$c(e,t,r);break e}Qi(e,t,n,r)}t=t.child}return t;case 5:return YF(t),e===null&&l4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,n4(n,a)?s=null:i!==null&&n4(n,i)&&(t.flags|=32),b$(e,t),Qi(e,t,s,r),t.child;case 6:return e===null&&l4(t),null;case 13:return _$(e,t,r);case 4:return K3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=X0(t,null,n,r):Qi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qo(n,a),Y6(e,t,n,a,r);case 7:return Qi(e,t,t.pendingProps,r),t.child;case 8:return Qi(e,t,t.pendingProps.children,r),t.child;case 12:return Qi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Nn(k2,n._currentValue),n._currentValue=s,i!==null)if(pl(i.value,s)){if(i.children===a.children&&!Es.current){t=$c(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Nc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),c4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ot(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),c4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Qi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,O0(t,r),a=To(a),n=n(a),t.flags|=1,Qi(e,t,n,r),t.child;case 14:return n=t.type,a=Qo(n,t.pendingProps),a=Qo(n.type,a),X6(e,t,n,a,r);case 15:return y$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qo(n,a),Kx(e,t),t.tag=1,ks(n)?(e=!0,A2(t)):e=!1,O0(t,r),m$(t,n,a),f4(t,n,a,r),p4(null,t,n,!0,e,r);case 19:return S$(e,t,r);case 22:return x$(e,t,r)}throw Error(Ot(156,t.tag))};function $$(e,t){return dF(e,t)}function WQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(e,t,r,n){return new WQ(e,t,r,n)}function ck(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HQ(e){if(typeof e=="function")return ck(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N3)return 11;if(e===C3)return 14}return 2}function pf(e,t){var r=e.alternate;return r===null?(r=xo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")ck(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case s0:return Fd(r.children,a,i,t);case k3:s=8,a|=8;break;case LA:return e=xo(12,r,t,a|2),e.elementType=LA,e.lanes=i,e;case MA:return e=xo(13,r,t,a),e.elementType=MA,e.lanes=i,e;case RA:return e=xo(19,r,t,a),e.elementType=RA,e.lanes=i,e;case Y7:return Uw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G7:s=10;break e;case K7:s=9;break e;case N3:s=11;break e;case C3:s=14;break e;case Vu:s=16,n=null;break e}throw Error(Ot(130,e==null?e:typeof e,""))}return t=xo(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Fd(e,t,r,n){return e=xo(7,e,n,t),e.lanes=r,e}function Uw(e,t,r,n){return e=xo(22,e,n,t),e.elementType=Y7,e.lanes=r,e.stateNode={isHidden:!1},e}function nS(e,t,r){return e=xo(6,e,null,t),e.lanes=r,e}function aS(e,t,r){return t=xo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F_(0),this.expirationTimes=F_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uk(e,t,r,n,a,i,s,o,l){return e=new GQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G3(i),e}function KQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function B$(e){if(!e)return kf;e=e._reactInternals;e:{if(uh(e)!==e||e.tag!==1)throw Error(Ot(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ot(171))}if(e.tag===1){var r=e.type;if(ks(r))return BF(e,r,t)}return t}function U$(e,t,r,n,a,i,s,o,l){return e=uk(r,n,!0,e,a,i,s,o,l),e.context=B$(null),r=e.current,n=as(),a=hf(r),i=Nc(n,a),i.callback=t??null,ff(r,i,a),e.current.lanes=a,O1(e,a,n),Ns(e,n),e}function Vw(e,t,r,n){var a=t.current,i=as(),s=hf(a);return r=B$(r),t.context===null?t.context=r:t.pendingContext=r,t=Nc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ff(a,t,s),e!==null&&(ul(e,a,s,i),Wx(e,a,s)),s}function R2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fk(e,t){lO(e,t),(e=e.alternate)&&lO(e,t)}function YQ(){return null}var V$=typeof reportError=="function"?reportError:function(e){console.error(e)};function dk(e){this._internalRoot=e}zw.prototype.render=dk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ot(409));Vw(e,t,null,null)};zw.prototype.unmount=dk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){Vw(null,e,null,null)}),t[Rc]=null}};function zw(e){this._internalRoot=e}zw.prototype.unstable_scheduleHydration=function(e){if(e){var t=xF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wu.length&&t!==0&&t<Wu[r].priority;r++);Wu.splice(r,0,e),r===0&&wF(e)}};function hk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cO(){}function XQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=R2(s);i.call(c)}}var s=U$(t,n,e,0,null,!1,!1,"",cO);return e._reactRootContainer=s,e[Rc]=s.current,ov(e.nodeType===8?e.parentNode:e),Xd(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=R2(l);o.call(c)}}var l=uk(e,0,!1,null,null,!1,!1,"",cO);return e._reactRootContainer=l,e[Rc]=l.current,ov(e.nodeType===8?e.parentNode:e),Xd(function(){Vw(t,l,r,n)}),l}function Ww(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=R2(s);o.call(l)}}Vw(t,s,e,a)}else s=XQ(r,t,e,a,n);return R2(s)}vF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rg(t.pendingLanes);r!==0&&(I3(t,r|1),Ns(t,ha()),!(Hr&6)&&(Z0=ha()+500,Vf()))}break;case 13:Xd(function(){var n=Fc(e,1);if(n!==null){var a=as();ul(n,e,1,a)}}),fk(e,1)}};j3=function(e){if(e.tag===13){var t=Fc(e,134217728);if(t!==null){var r=as();ul(t,e,134217728,r)}fk(e,134217728)}};yF=function(e){if(e.tag===13){var t=hf(e),r=Fc(e,t);if(r!==null){var n=as();ul(r,e,t,n)}fk(e,t)}};xF=function(){return dn};bF=function(e,t){var r=dn;try{return dn=e,t()}finally{dn=r}};GA=function(e,t,r){switch(t){case"input":if(BA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Lw(n);if(!a)throw Error(Ot(90));Q7(n),BA(n,a)}}}break;case"textarea":Z7(e,r);break;case"select":t=r.value,t!=null&&k0(e,!!r.multiple,t,!1)}};sF=sk;oF=Xd;var QQ={usingClientEntryPoint:!1,Events:[j1,u0,Lw,aF,iF,sk]},Mm={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JQ={bundleType:Mm.bundleType,version:Mm.version,rendererPackageName:Mm.rendererPackageName,rendererConfig:Mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uF(e),e===null?null:e.stateNode},findFiberByHostInstance:Mm.findFiberByHostInstance||YQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{Ow=Zy.inject(JQ),Fl=Zy}catch{}}Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QQ;Js.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hk(t))throw Error(Ot(200));return KQ(e,t,null,r)};Js.createRoot=function(e,t){if(!hk(e))throw Error(Ot(299));var r=!1,n="",a=V$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=uk(e,1,!1,null,null,r,!1,n,a),e[Rc]=t.current,ov(e.nodeType===8?e.parentNode:e),new dk(t)};Js.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ot(188)):(e=Object.keys(e).join(","),Error(Ot(268,e)));return e=uF(t),e=e===null?null:e.stateNode,e};Js.flushSync=function(e){return Xd(e)};Js.hydrate=function(e,t,r){if(!qw(t))throw Error(Ot(200));return Ww(null,e,t,!0,r)};Js.hydrateRoot=function(e,t,r){if(!hk(e))throw Error(Ot(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=V$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=U$(t,null,e,1,r??null,a,!1,i,s),e[Rc]=t.current,ov(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new zw(t)};Js.render=function(e,t,r){if(!qw(t))throw Error(Ot(200));return Ww(null,e,t,!1,r)};Js.unmountComponentAtNode=function(e){if(!qw(e))throw Error(Ot(40));return e._reactRootContainer?(Xd(function(){Ww(null,null,e,!1,function(){e._reactRootContainer=null,e[Rc]=null})}),!0):!1};Js.unstable_batchedUpdates=sk;Js.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qw(r))throw Error(Ot(200));if(e==null||e._reactInternals===void 0)throw Error(Ot(38));return Ww(e,t,r,!1,n)};Js.version="18.3.1-next-f1338f8080-20240426";function z$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z$)}catch(e){console.error(e)}}z$(),z7.exports=Js;var ZQ=z7.exports,q$,uO=ZQ;q$=uO.createRoot,uO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}var Zu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zu||(Zu={}));const fO="popstate";function eJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return E4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:F2(a)}return rJ(t,r,null,e)}function Kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tJ(){return Math.random().toString(36).substr(2,8)}function dO(e,t){return{usr:e.state,key:e.key,idx:t}}function E4(e,t,r,n){return r===void 0&&(r=null),gv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fp(t):t,{state:r,key:t&&t.key||n||tJ()})}function F2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function rJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Zu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(gv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Zu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=Zu.Push;let b=E4(m.location,v,y);c=u()+1;let w=dO(b,c),O=m.createHref(b);try{s.pushState(w,"",O)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(O)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=Zu.Replace;let b=E4(m.location,v,y);c=u();let w=dO(b,c),O=m.createHref(b);s.replaceState(w,"",O),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:F2(v);return b=b.replace(/ $/,"%20"),Kn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(fO,f),l=v,()=>{a.removeEventListener(fO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var hO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hO||(hO={}));function nJ(e,t,r){return r===void 0&&(r="/"),aJ(e,t,r,!1)}function aJ(e,t,r,n){let a=typeof t=="string"?Fp(t):t,i=ep(a.pathname||"/",r);if(i==null)return null;let s=H$(e);iJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=gJ(i);o=pJ(s[l],c,n)}return o}function H$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Kn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=mf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Kn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:dJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of G$(i.path))a(i,s,l)}),t}function G$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=G$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function iJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sJ=/^:[\w-]+$/,oJ=3,lJ=2,cJ=1,uJ=10,fJ=-2,pO=e=>e==="*";function dJ(e,t){let r=e.split("/"),n=r.length;return r.some(pO)&&(n+=fJ),t&&(n+=lJ),r.filter(a=>!pO(a)).reduce((a,i)=>a+(sJ.test(i)?oJ:i===""?cJ:uJ),n)}function hJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function pJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=$2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=$2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:mf([i,f.pathname]),pathnameBase:bJ(mf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=mf([i,f.pathnameBase]))}return s}function $2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function mJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),W$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function gJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return W$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ep(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Fp(e):e;return{pathname:r?r.startsWith("/")?r:yJ(r,t):t,search:wJ(n),hash:_J(a)}}function yJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function iS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pk(e,t){let r=xJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Fp(e):(a=gv({},e),Kn(!a.pathname||!a.pathname.includes("?"),iS("?","pathname","search",a)),Kn(!a.pathname||!a.pathname.includes("#"),iS("#","pathname","hash",a)),Kn(!a.search||!a.search.includes("#"),iS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=vJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mf=e=>e.join("/").replace(/\/\/+/g,"/"),bJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_J=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K$=["post","put","patch","delete"];new Set(K$);const AJ=["get",...K$];new Set(AJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(this,arguments)}const Hw=U.createContext(null),Y$=U.createContext(null),tu=U.createContext(null),Gw=U.createContext(null),ru=U.createContext({outlet:null,matches:[],isDataRoute:!1}),X$=U.createContext(null);function TJ(e,t){let{relative:r}=t===void 0?{}:t;$p()||Kn(!1);let{basename:n,navigator:a}=U.useContext(tu),{hash:i,pathname:s,search:o}=Kw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:mf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function $p(){return U.useContext(Gw)!=null}function Bp(){return $p()||Kn(!1),U.useContext(Gw).location}function Q$(e){U.useContext(tu).static||U.useLayoutEffect(e)}function L1(){let{isDataRoute:e}=U.useContext(ru);return e?BJ():EJ()}function EJ(){$p()||Kn(!1);let e=U.useContext(Hw),{basename:t,future:r,navigator:n}=U.useContext(tu),{matches:a}=U.useContext(ru),{pathname:i}=Bp(),s=JSON.stringify(pk(a,r.v7_relativeSplatPath)),o=U.useRef(!1);return Q$(()=>{o.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=mk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const kJ=U.createContext(null);function NJ(e){let t=U.useContext(ru).outlet;return t&&U.createElement(kJ.Provider,{value:e},t)}function Kw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=U.useContext(tu),{matches:a}=U.useContext(ru),{pathname:i}=Bp(),s=JSON.stringify(pk(a,n.v7_relativeSplatPath));return U.useMemo(()=>mk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function CJ(e,t){return PJ(e,t)}function PJ(e,t,r,n){$p()||Kn(!1);let{navigator:a,static:i}=U.useContext(tu),{matches:s}=U.useContext(ru),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Bp(),f;if(t){var h;let y=typeof t=="string"?Fp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Kn(!1),f=y}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:nJ(e,{pathname:g}),v=LJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:mf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:mf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?U.createElement(Gw.Provider,{value:{location:vv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zu.Pop}},v):v}function OJ(){let e=$J(),t=SJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:a},r):null,null)}const IJ=U.createElement(OJ,null);class jJ extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?U.createElement(ru.Provider,{value:this.props.routeContext},U.createElement(X$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DJ(e){let{routeContext:t,match:r,children:n}=e,a=U.useContext(Hw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(ru.Provider,{value:t},n)}function LJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Kn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||IJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=U.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,U.createElement(DJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?U.createElement(jJ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var J$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(J$||{}),B2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(B2||{});function MJ(e){let t=U.useContext(Hw);return t||Kn(!1),t}function RJ(e){let t=U.useContext(Y$);return t||Kn(!1),t}function FJ(e){let t=U.useContext(ru);return t||Kn(!1),t}function Z$(e){let t=FJ(),r=t.matches[t.matches.length-1];return r.route.id||Kn(!1),r.route.id}function $J(){var e;let t=U.useContext(X$),r=RJ(B2.UseRouteError),n=Z$(B2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function BJ(){let{router:e}=MJ(J$.UseNavigateStable),t=Z$(B2.UseNavigateStable),r=U.useRef(!1);return Q$(()=>{r.current=!0}),U.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vv({fromRouteId:t},i)))},[e,t])}function UJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function k4(e){let{to:t,replace:r,state:n,relative:a}=e;$p()||Kn(!1);let{future:i,static:s}=U.useContext(tu),{matches:o}=U.useContext(ru),{pathname:l}=Bp(),c=L1(),u=mk(t,pk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function VJ(e){return NJ(e.context)}function gs(e){Kn(!1)}function zJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Zu.Pop,navigator:i,static:s=!1,future:o}=e;$p()&&Kn(!1);let l=t.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:i,static:s,future:vv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Fp(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=U.useMemo(()=>{let v=ep(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[l,u,f,h,p,g,a]);return m==null?null:U.createElement(tu.Provider,{value:c},U.createElement(Gw.Provider,{children:r,value:m}))}function qJ(e){let{children:t,location:r}=e;return CJ(N4(t),r)}new Promise(()=>{});function N4(e,t){t===void 0&&(t=[]);let r=[];return U.Children.forEach(e,(n,a)=>{if(!U.isValidElement(n))return;let i=[...t,a];if(n.type===U.Fragment){r.push.apply(r,N4(n.props.children,i));return}n.type!==gs&&Kn(!1),!n.props.index||!n.props.children||Kn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=N4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U2.apply(this,arguments)}function e9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function WJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HJ(e,t){return e.button===0&&(!t||t==="_self")&&!WJ(e)}const GJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],YJ="6";try{window.__reactRouterVersion=YJ}catch{}const XJ=U.createContext({isTransitioning:!1}),QJ="startTransition",mO=VY[QJ];function JJ(e){let{basename:t,children:r,future:n,window:a}=e,i=U.useRef();i.current==null&&(i.current=eJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=U.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=U.useCallback(f=>{c&&mO?mO(()=>l(f)):l(f)},[l,c]);return U.useLayoutEffect(()=>s.listen(u),[s,u]),U.useEffect(()=>UJ(n),[n]),U.createElement(zJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const ZJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tZ=U.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=e9(t,GJ),{basename:p}=U.useContext(tu),g,m=!1;if(typeof c=="string"&&eZ.test(c)&&(g=c,ZJ))try{let w=new URL(window.location.href),O=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=ep(O.pathname,p);O.origin===w.origin&&C!=null?c=C+O.search+O.hash:m=!0}catch{}let v=TJ(c,{relative:a}),y=nZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return U.createElement("a",U2({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:l}))}),sS=U.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=e9(t,KJ),h=Kw(l,{relative:f.relative}),p=Bp(),g=U.useContext(Y$),{navigator:m,basename:v}=U.useContext(tu),y=g!=null&&aZ(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&v&&(O=ep(O,v)||O);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=w===b||!s&&w.startsWith(b)&&w.charAt(C)==="/",T=O!=null&&(O===b||!s&&O.startsWith(b)&&O.charAt(b.length)==="/"),S={isActive:I,isPending:T,isTransitioning:y},A=I?n:void 0,j;typeof i=="function"?j=i(S):j=[i,I?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return U.createElement(tZ,U2({},f,{"aria-current":A,className:j,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var C4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(C4||(C4={}));var gO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gO||(gO={}));function rZ(e){let t=U.useContext(Hw);return t||Kn(!1),t}function nZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=L1(),c=Bp(),u=Kw(e,{relative:s});return U.useCallback(f=>{if(HJ(f,r)){f.preventDefault();let h=n!==void 0?n:F2(c)===F2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function aZ(e,t){t===void 0&&(t={});let r=U.useContext(XJ);r==null&&Kn(!1);let{basename:n}=rZ(C4.useViewTransitionState),a=Kw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=ep(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ep(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $2(a.pathname,s)!=null||$2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pr=(e,t)=>{const r=U.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>U.createElement("svg",{ref:u,...iZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${sZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=pr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=pr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=pr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=pr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=pr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=pr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=pr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=pr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=pr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=pr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=pr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=pr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=pr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=pr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=pr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=pr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=pr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=pr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=pr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=pr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=pr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=pr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=pr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=pr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=pr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=pr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=pr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=pr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=pr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=pr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=pr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=pr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=pr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=pr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=pr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=pr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=pr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=pr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=pr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=pr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=pr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=pr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=pr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=pr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=pr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=pr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=pr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=pr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kZ=()=>{};var wO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},NZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},o9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new CZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class CZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PZ=function(e){const t=s9(e);return o9.encodeByteArray(t,!0)},q2=function(e){return PZ(e).replace(/\./g,"")},OZ=function(e){try{return o9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZ=()=>IZ().__FIREBASE_DEFAULTS__,DZ=()=>{if(typeof process>"u"||typeof wO>"u")return;const e=wO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},LZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&OZ(e[1]);return t&&JSON.parse(t)},gk=()=>{try{return kZ()||jZ()||DZ()||LZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},MZ=e=>{var t,r;return(r=(t=gk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},RZ=e=>{const t=MZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},l9=()=>{var e;return(e=gk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(e){return e.endsWith(".cloudworkstations.dev")}async function $Z(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[q2(JSON.stringify(r)),q2(JSON.stringify(s)),""].join(".")}const Ag={};function UZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ag))Ag[t]?e.emulator.push(t):e.prod.push(t);return e}function VZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let _O=!1;function c9(e,t){if(typeof window>"u"||typeof document>"u"||!vk(window.location.host)||Ag[e]===t||Ag[e]||_O)return;Ag[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=UZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_O=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=VZ(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,m);const O=c();l(b,y),w.append(b,g,v,O),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qZ(){var e;const t=(e=gk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WZ(){return!qZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HZ(){try{return typeof indexedDB=="object"}catch{return!1}}function GZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ="FirebaseError";class Up extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=KZ,Object.setPrototypeOf(this,Up.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u9.prototype.create)}}class u9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?YZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Up(a,o,n)}}function YZ(e,t){return e.replace(XZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const XZ=/\{\$([^}]+)}/g;function W2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(SO(i)&&SO(s)){if(!W2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function SO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){return e&&e._delegate?e._delegate:e}class bv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new FZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZZ(t))try{this.getOrInitializeService({instanceIdentifier:vd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=vd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vd){return this.instances.has(t)}getOptions(t=vd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:JZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=vd){return this.component?this.component.multipleInstances?t:vd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JZ(e){return e===vd?void 0:e}function ZZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new QZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Br||(Br={}));const tee={debug:Br.DEBUG,verbose:Br.VERBOSE,info:Br.INFO,warn:Br.WARN,error:Br.ERROR,silent:Br.SILENT},ree=Br.INFO,nee={[Br.DEBUG]:"log",[Br.VERBOSE]:"log",[Br.INFO]:"info",[Br.WARN]:"warn",[Br.ERROR]:"error"},aee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=nee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f9{constructor(t){this.name=t,this._logLevel=ree,this._logHandler=aee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Br))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Br.DEBUG,...t),this._logHandler(this,Br.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Br.VERBOSE,...t),this._logHandler(this,Br.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Br.INFO,...t),this._logHandler(this,Br.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Br.WARN,...t),this._logHandler(this,Br.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Br.ERROR,...t),this._logHandler(this,Br.ERROR,...t)}}const iee=(e,t)=>t.some(r=>e instanceof r);let AO,TO;function see(){return AO||(AO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oee(){return TO||(TO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d9=new WeakMap,j4=new WeakMap,h9=new WeakMap,lS=new WeakMap,yk=new WeakMap;function lee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(gf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&d9.set(r,e)}).catch(()=>{}),yk.set(t,e),t}function cee(e){if(j4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});j4.set(e,t)}let D4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return j4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||h9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function uee(e){D4=e(D4)}function fee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(cS(this),t,...r);return h9.set(n,t.sort?t.sort():[t]),gf(n)}:oee().includes(e)?function(...t){return e.apply(cS(this),t),gf(d9.get(this))}:function(...t){return gf(e.apply(cS(this),t))}}function dee(e){return typeof e=="function"?fee(e):(e instanceof IDBTransaction&&cee(e),iee(e,see())?new Proxy(e,D4):e)}function gf(e){if(e instanceof IDBRequest)return lee(e);if(lS.has(e))return lS.get(e);const t=dee(e);return t!==e&&(lS.set(e,t),yk.set(t,e)),t}const cS=e=>yk.get(e);function hee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=gf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(gf(s.result),l.oldVersion,l.newVersion,gf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const pee=["get","getKey","getAll","getAllKeys","count"],mee=["put","add","delete","clear"],uS=new Map;function EO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uS.get(t))return uS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=mee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||pee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return uS.set(t,i),i}uee(e=>({...e,get:(t,r,n)=>EO(t,r)||e.get(t,r,n),has:(t,r)=>!!EO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(vee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function vee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const L4="@firebase/app",kO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new f9("@firebase/app"),yee="@firebase/app-compat",xee="@firebase/analytics-compat",bee="@firebase/analytics",wee="@firebase/app-check-compat",_ee="@firebase/app-check",See="@firebase/auth",Aee="@firebase/auth-compat",Tee="@firebase/database",Eee="@firebase/data-connect",kee="@firebase/database-compat",Nee="@firebase/functions",Cee="@firebase/functions-compat",Pee="@firebase/installations",Oee="@firebase/installations-compat",Iee="@firebase/messaging",jee="@firebase/messaging-compat",Dee="@firebase/performance",Lee="@firebase/performance-compat",Mee="@firebase/remote-config",Ree="@firebase/remote-config-compat",Fee="@firebase/storage",$ee="@firebase/storage-compat",Bee="@firebase/firestore",Uee="@firebase/vertexai",Vee="@firebase/firestore-compat",zee="firebase",qee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="[DEFAULT]",Wee={[L4]:"fire-core",[yee]:"fire-core-compat",[bee]:"fire-analytics",[xee]:"fire-analytics-compat",[_ee]:"fire-app-check",[wee]:"fire-app-check-compat",[See]:"fire-auth",[Aee]:"fire-auth-compat",[Tee]:"fire-rtdb",[Eee]:"fire-data-connect",[kee]:"fire-rtdb-compat",[Nee]:"fire-fn",[Cee]:"fire-fn-compat",[Pee]:"fire-iid",[Oee]:"fire-iid-compat",[Iee]:"fire-fcm",[jee]:"fire-fcm-compat",[Dee]:"fire-perf",[Lee]:"fire-perf-compat",[Mee]:"fire-rc",[Ree]:"fire-rc-compat",[Fee]:"fire-gcs",[$ee]:"fire-gcs-compat",[Bee]:"fire-fst",[Vee]:"fire-fst-compat",[Uee]:"fire-vertex","fire-js":"fire-js",[zee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Map,Hee=new Map,R4=new Map;function NO(e,t){try{e.container.addComponent(t)}catch(r){Vc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function G2(e){const t=e.name;if(R4.has(t))return Vc.debug(`There were multiple attempts to register component ${t}.`),!1;R4.set(t,e);for(const r of H2.values())NO(r,e);for(const r of Hee.values())NO(r,e);return!0}function Gee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Kee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vf=new u9("app","Firebase",Yee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=qee;function p9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:M4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw vf.create("bad-app-name",{appName:String(a)});if(r||(r=l9()),!r)throw vf.create("no-options");const i=H2.get(a);if(i){if(W2(r,i.options)&&W2(n,i.config))return i;throw vf.create("duplicate-app",{appName:a})}const s=new eee(a);for(const l of R4.values())s.addComponent(l);const o=new Xee(r,n,s);return H2.set(a,o),o}function Jee(e=M4){const t=H2.get(e);if(!t&&e===M4&&l9())return p9();if(!t)throw vf.create("no-app",{appName:e});return t}function j0(e,t,r){var n;let a=(n=Wee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vc.warn(o.join(" "));return}G2(new bv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee="firebase-heartbeat-database",ete=1,wv="firebase-heartbeat-store";let fS=null;function m9(){return fS||(fS=hee(Zee,ete,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wv)}catch(r){console.warn(r)}}}}).catch(e=>{throw vf.create("idb-open",{originalErrorMessage:e.message})})),fS}async function tte(e){try{const r=(await m9()).transaction(wv),n=await r.objectStore(wv).get(g9(e));return await r.done,n}catch(t){if(t instanceof Up)Vc.warn(t.message);else{const r=vf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vc.warn(r.message)}}}async function CO(e,t){try{const n=(await m9()).transaction(wv,"readwrite");await n.objectStore(wv).put(t,g9(e)),await n.done}catch(r){if(r instanceof Up)Vc.warn(r.message);else{const n=vf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vc.warn(n.message)}}}function g9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=1024,nte=30;class ate{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ste(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>nte){const s=ote(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=PO(),{heartbeatsToSend:n,unsentEntries:a}=ite(this._heartbeatsCache.heartbeats),i=q2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Vc.warn(r),""}}}function PO(){return new Date().toISOString().substring(0,10)}function ite(e,t=rte){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),OO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),OO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ste{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HZ()?GZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tte(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return CO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return CO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function OO(e){return q2(JSON.stringify({version:2,heartbeats:e})).length}function ote(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(e){G2(new bv("platform-logger",t=>new gee(t),"PRIVATE")),G2(new bv("heartbeat",t=>new ate(t),"PRIVATE")),j0(L4,kO,e),j0(L4,kO,"esm2017"),j0("fire-js","")}lte("");var cte="firebase",ute="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */j0(cte,ute,"app");var IO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yf,v9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function A(){}A.prototype=S.prototype,T.D=S.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(j,E,k){for(var D=Array(arguments.length-2),V=2;V<arguments.length;V++)D[V-2]=arguments[V];return S.prototype[E].apply(j,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,A){A||(A=0);var j=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)j[E]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(E=0;16>E;++E)j[E]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=T.g[0],A=T.g[1],E=T.g[2];var k=T.g[3],D=S+(k^A&(E^k))+j[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=k+(E^S&(A^E))+j[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=E+(A^k&(S^A))+j[2]+606105819&4294967295,E=k+(D<<17&4294967295|D>>>15),D=A+(S^E&(k^S))+j[3]+3250441966&4294967295,A=E+(D<<22&4294967295|D>>>10),D=S+(k^A&(E^k))+j[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=k+(E^S&(A^E))+j[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=E+(A^k&(S^A))+j[6]+2821735955&4294967295,E=k+(D<<17&4294967295|D>>>15),D=A+(S^E&(k^S))+j[7]+4249261313&4294967295,A=E+(D<<22&4294967295|D>>>10),D=S+(k^A&(E^k))+j[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=k+(E^S&(A^E))+j[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=E+(A^k&(S^A))+j[10]+4294925233&4294967295,E=k+(D<<17&4294967295|D>>>15),D=A+(S^E&(k^S))+j[11]+2304563134&4294967295,A=E+(D<<22&4294967295|D>>>10),D=S+(k^A&(E^k))+j[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=k+(E^S&(A^E))+j[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=E+(A^k&(S^A))+j[14]+2792965006&4294967295,E=k+(D<<17&4294967295|D>>>15),D=A+(S^E&(k^S))+j[15]+1236535329&4294967295,A=E+(D<<22&4294967295|D>>>10),D=S+(E^k&(A^E))+j[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=k+(A^E&(S^A))+j[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=E+(S^A&(k^S))+j[11]+643717713&4294967295,E=k+(D<<14&4294967295|D>>>18),D=A+(k^S&(E^k))+j[0]+3921069994&4294967295,A=E+(D<<20&4294967295|D>>>12),D=S+(E^k&(A^E))+j[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=k+(A^E&(S^A))+j[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=E+(S^A&(k^S))+j[15]+3634488961&4294967295,E=k+(D<<14&4294967295|D>>>18),D=A+(k^S&(E^k))+j[4]+3889429448&4294967295,A=E+(D<<20&4294967295|D>>>12),D=S+(E^k&(A^E))+j[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=k+(A^E&(S^A))+j[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=E+(S^A&(k^S))+j[3]+4107603335&4294967295,E=k+(D<<14&4294967295|D>>>18),D=A+(k^S&(E^k))+j[8]+1163531501&4294967295,A=E+(D<<20&4294967295|D>>>12),D=S+(E^k&(A^E))+j[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=k+(A^E&(S^A))+j[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=E+(S^A&(k^S))+j[7]+1735328473&4294967295,E=k+(D<<14&4294967295|D>>>18),D=A+(k^S&(E^k))+j[12]+2368359562&4294967295,A=E+(D<<20&4294967295|D>>>12),D=S+(A^E^k)+j[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=k+(S^A^E)+j[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=E+(k^S^A)+j[11]+1839030562&4294967295,E=k+(D<<16&4294967295|D>>>16),D=A+(E^k^S)+j[14]+4259657740&4294967295,A=E+(D<<23&4294967295|D>>>9),D=S+(A^E^k)+j[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=k+(S^A^E)+j[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=E+(k^S^A)+j[7]+4139469664&4294967295,E=k+(D<<16&4294967295|D>>>16),D=A+(E^k^S)+j[10]+3200236656&4294967295,A=E+(D<<23&4294967295|D>>>9),D=S+(A^E^k)+j[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=k+(S^A^E)+j[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=E+(k^S^A)+j[3]+3572445317&4294967295,E=k+(D<<16&4294967295|D>>>16),D=A+(E^k^S)+j[6]+76029189&4294967295,A=E+(D<<23&4294967295|D>>>9),D=S+(A^E^k)+j[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=k+(S^A^E)+j[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=E+(k^S^A)+j[15]+530742520&4294967295,E=k+(D<<16&4294967295|D>>>16),D=A+(E^k^S)+j[2]+3299628645&4294967295,A=E+(D<<23&4294967295|D>>>9),D=S+(E^(A|~k))+j[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=k+(A^(S|~E))+j[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=E+(S^(k|~A))+j[14]+2878612391&4294967295,E=k+(D<<15&4294967295|D>>>17),D=A+(k^(E|~S))+j[5]+4237533241&4294967295,A=E+(D<<21&4294967295|D>>>11),D=S+(E^(A|~k))+j[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=k+(A^(S|~E))+j[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=E+(S^(k|~A))+j[10]+4293915773&4294967295,E=k+(D<<15&4294967295|D>>>17),D=A+(k^(E|~S))+j[1]+2240044497&4294967295,A=E+(D<<21&4294967295|D>>>11),D=S+(E^(A|~k))+j[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=k+(A^(S|~E))+j[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=E+(S^(k|~A))+j[6]+2734768916&4294967295,E=k+(D<<15&4294967295|D>>>17),D=A+(k^(E|~S))+j[13]+1309151649&4294967295,A=E+(D<<21&4294967295|D>>>11),D=S+(E^(A|~k))+j[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=k+(A^(S|~E))+j[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=E+(S^(k|~A))+j[2]+718787259&4294967295,E=k+(D<<15&4294967295|D>>>17),D=A+(k^(E|~S))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+k&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var A=S-this.blockSize,j=this.B,E=this.h,k=0;k<S;){if(E==0)for(;k<=A;)a(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<S;)if(j[E++]=T.charCodeAt(k++),E==this.blockSize){a(this,j),E=0;break}}else for(;k<S;)if(j[E++]=T[k++],E==this.blockSize){a(this,j),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var A=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.u(T),T=Array(16),S=A=0;4>S;++S)for(var j=0;32>j;j+=8)T[A++]=this.g[S]>>>j&255;return T};function i(T,S){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=S(T)}function s(T,S){this.h=S;for(var A=[],j=!0,E=T.length-1;0<=E;E--){var k=T[E]|0;j&&k==S||(A[E]=k,j=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var S=[],A=1,j=0;T>=A;j++)S[j]=T/A|0,A*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),j=f,E=0;E<T.length;E+=8){var k=Math.min(8,T.length-E),D=parseInt(T.substring(E,E+k),S);8>k?(k=c(Math.pow(S,k)),j=j.j(k).add(c(D))):(j=j.j(A),j=j.add(c(D)))}return j}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,S=1,A=0;A<this.g.length;A++){var j=this.i(A);T+=(0<=j?j:4294967296+j)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),A=this,j="";;){var E=O(A,S).g;A=y(A,E.j(S));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=E,g(A))return k+j;for(;6>k.length;)k="0"+k;j=k+j}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var S=T.g.length,A=[],j=0;j<S;j++)A[j]=~T.g[j];return new s(A,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],j=0,E=0;E<=S;E++){var k=j+(this.i(E)&65535)+(T.i(E)&65535),D=(k>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);j=D>>>16,k&=65535,D&=65535,A[E]=D<<16|k}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,A=[],j=0;j<2*S;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(var E=0;E<T.g.length;E++){var k=this.i(j)>>>16,D=this.i(j)&65535,V=T.i(E)>>>16,X=T.i(E)&65535;A[2*j+2*E]+=D*X,b(A,2*j+2*E),A[2*j+2*E+1]+=k*X,b(A,2*j+2*E+1),A[2*j+2*E+1]+=D*V,b(A,2*j+2*E+1),A[2*j+2*E+2]+=k*V,b(A,2*j+2*E+2)}for(j=0;j<S;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=S;j<2*S;j++)A[j]=0;return new s(A,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function w(T,S){this.g=T,this.h=S}function O(T,S){if(g(S))throw Error("division by zero");if(g(T))return new w(f,f);if(m(T))return S=O(v(T),S),new w(v(S.g),v(S.h));if(m(S))return S=O(T,v(S)),new w(v(S.g),S.h);if(30<T.g.length){if(m(T)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,j=S;0>=j.l(T);)A=C(A),j=C(j);var E=I(A,1),k=I(j,1);for(j=I(j,2),A=I(A,2);!g(j);){var D=k.add(j);0>=D.l(T)&&(E=E.add(A),k=D),j=I(j,1),A=I(A,1)}return S=y(T,E.j(S)),new w(E,S)}for(E=f;0<=T.l(S);){for(A=Math.max(1,Math.floor(T.m()/S.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),k=c(A),D=k.j(S);m(D)||0<D.l(T);)A-=j,k=c(A),D=k.j(S);g(k)&&(k=h),E=E.add(k),T=y(T,D)}return new w(E,T)}e.A=function(T){return O(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],j=0;j<S;j++)A[j]=this.i(j)&T.i(j);return new s(A,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],j=0;j<S;j++)A[j]=this.i(j)|T.i(j);return new s(A,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],j=0;j<S;j++)A[j]=this.i(j)^T.i(j);return new s(A,this.h^T.h)};function C(T){for(var S=T.g.length+1,A=[],j=0;j<S;j++)A[j]=T.i(j)<<1|T.i(j-1)>>>31;return new s(A,T.h)}function I(T,S){var A=S>>5;S%=32;for(var j=T.g.length-A,E=[],k=0;k<j;k++)E[k]=0<S?T.i(k+A)>>>S|T.i(k+A+1)<<32-S:T.i(k+A);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,v9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,yf=s}).apply(typeof IO<"u"?IO:typeof self<"u"?self:typeof window<"u"?window:{});var ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y9,ag,x9,Zx,F4,b9,w9,_9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,R,Q){return _==Array.prototype||_==Object.prototype||(_[R]=Q.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof ex=="object"&&ex];for(var R=0;R<_.length;++R){var Q=_[R];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(_,R){if(R)e:{var Q=n;_=_.split(".");for(var ue=0;ue<_.length-1;ue++){var Me=_[ue];if(!(Me in Q))break e;Q=Q[Me]}_=_[_.length-1],ue=Q[_],R=R(ue),R!=ue&&R!=null&&t(Q,_,{configurable:!0,writable:!0,value:R})}}function i(_,R){_ instanceof String&&(_+="");var Q=0,ue=!1,Me={next:function(){if(!ue&&Q<_.length){var Ke=Q++;return{value:R(Ke,_[Ke]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}a("Array.prototype.values",function(_){return _||function(){return i(this,function(R,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var R=typeof _;return R=R!="object"?R:_?Array.isArray(_)?"array":R:"null",R=="array"||R=="object"&&typeof _.length=="number"}function c(_){var R=typeof _;return R=="object"&&_!=null||R=="function"}function u(_,R,Q){return _.call.apply(_.bind,arguments)}function f(_,R,Q){if(!_)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,ue),_.apply(R,Me)}}return function(){return _.apply(R,arguments)}}function h(_,R,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(_,R){var Q=Array.prototype.slice.call(arguments,1);return function(){var ue=Q.slice();return ue.push.apply(ue,arguments),_.apply(this,ue)}}function g(_,R){function Q(){}Q.prototype=R.prototype,_.aa=R.prototype,_.prototype=new Q,_.prototype.constructor=_,_.Qb=function(ue,Me,Ke){for(var At=Array(arguments.length-2),yr=2;yr<arguments.length;yr++)At[yr-2]=arguments[yr];return R.prototype[Me].apply(ue,At)}}function m(_){const R=_.length;if(0<R){const Q=Array(R);for(let ue=0;ue<R;ue++)Q[ue]=_[ue];return Q}return[]}function v(_,R){for(let Q=1;Q<arguments.length;Q++){const ue=arguments[Q];if(l(ue)){const Me=_.length||0,Ke=ue.length||0;_.length=Me+Ke;for(let At=0;At<Ke;At++)_[Me+At]=ue[At]}else _.push(ue)}}class y{constructor(R,Q){this.i=R,this.j=Q,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function O(_){return O[" "](_),_}O[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(_,R,Q){for(const ue in _)R.call(Q,_[ue],ue,_)}function T(_,R){for(const Q in _)R.call(void 0,_[Q],Q,_)}function S(_){const R={};for(const Q in _)R[Q]=_[Q];return R}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(_,R){let Q,ue;for(let Me=1;Me<arguments.length;Me++){ue=arguments[Me];for(Q in ue)_[Q]=ue[Q];for(let Ke=0;Ke<A.length;Ke++)Q=A[Ke],Object.prototype.hasOwnProperty.call(ue,Q)&&(_[Q]=ue[Q])}}function E(_){var R=1;_=_.split(":");const Q=[];for(;0<R&&_.length;)Q.push(_.shift()),R--;return _.length&&Q.push(_.join(":")),Q}function k(_){o.setTimeout(()=>{throw _},0)}function D(){var _=z;let R=null;return _.g&&(R=_.g,_.g=_.g.next,_.g||(_.h=null),R.next=null),R}class V{constructor(){this.h=this.g=null}add(R,Q){const ue=X.get();ue.set(R,Q),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var X=new y(()=>new Y,_=>_.reset());class Y{constructor(){this.next=this.g=this.h=null}set(R,Q){this.h=R,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let J,H=!1,z=new V,ee=()=>{const _=o.Promise.resolve(void 0);J=()=>{_.then(W)}};var W=()=>{for(var _;_=D();){try{_.h.call(_.g)}catch(Q){k(Q)}var R=X;R.j(_),100>R.h&&(R.h++,_.next=R.g,R.g=_)}H=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(_,R){this.type=_,this.g=this.target=R,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,R=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Q=()=>{};o.addEventListener("test",Q,R),o.removeEventListener("test",Q,R)}catch{}return _}();function K(_,R){if(F.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Q=this.type=_.type,ue=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=R,R=_.relatedTarget){if(C){e:{try{O(R.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(R=null)}}else Q=="mouseover"?R=_.fromElement:Q=="mouseout"&&(R=_.toElement);this.relatedTarget=R,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Z[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&K.aa.h.call(this)}}g(K,F);var Z={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),de=0;function ae(_,R,Q,ue,Me){this.listener=_,this.proxy=null,this.src=R,this.type=Q,this.capture=!!ue,this.ha=Me,this.key=++de,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Se(_){this.src=_,this.g={},this.h=0}Se.prototype.add=function(_,R,Q,ue,Me){var Ke=_.toString();_=this.g[Ke],_||(_=this.g[Ke]=[],this.h++);var At=Ee(_,R,ue,Me);return-1<At?(R=_[At],Q||(R.fa=!1)):(R=new ae(R,this.src,Ke,!!ue,Me),R.fa=Q,_.push(R)),R};function B(_,R){var Q=R.type;if(Q in _.g){var ue=_.g[Q],Me=Array.prototype.indexOf.call(ue,R,void 0),Ke;(Ke=0<=Me)&&Array.prototype.splice.call(ue,Me,1),Ke&&(he(R),_.g[Q].length==0&&(delete _.g[Q],_.h--))}}function Ee(_,R,Q,ue){for(var Me=0;Me<_.length;++Me){var Ke=_[Me];if(!Ke.da&&Ke.listener==R&&Ke.capture==!!Q&&Ke.ha==ue)return Me}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),xe={};function te(_,R,Q,ue,Me){if(Array.isArray(R)){for(var Ke=0;Ke<R.length;Ke++)te(_,R[Ke],Q,ue,Me);return null}return Q=pt(Q),_&&_[ce]?_.K(R,Q,c(ue)?!!ue.capture:!!ue,Me):Ne(_,R,Q,!1,ue,Me)}function Ne(_,R,Q,ue,Me,Ke){if(!R)throw Error("Invalid event type");var At=c(Me)?!!Me.capture:!!Me,yr=je(_);if(yr||(_[ve]=yr=new Se(_)),Q=yr.add(R,Q,ue,At,Ke),Q.proxy)return Q;if(ue=Be(),Q.proxy=ue,ue.src=_,ue.listener=Q,_.addEventListener)q||(Me=At),Me===void 0&&(Me=!1),_.addEventListener(R.toString(),ue,Me);else if(_.attachEvent)_.attachEvent(Le(R.toString()),ue);else if(_.addListener&&_.removeListener)_.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Be(){function _(Q){return R.call(_.src,_.listener,Q)}const R=Ye;return _}function Ue(_,R,Q,ue,Me){if(Array.isArray(R))for(var Ke=0;Ke<R.length;Ke++)Ue(_,R[Ke],Q,ue,Me);else ue=c(ue)?!!ue.capture:!!ue,Q=pt(Q),_&&_[ce]?(_=_.i,R=String(R).toString(),R in _.g&&(Ke=_.g[R],Q=Ee(Ke,Q,ue,Me),-1<Q&&(he(Ke[Q]),Array.prototype.splice.call(Ke,Q,1),Ke.length==0&&(delete _.g[R],_.h--)))):_&&(_=je(_))&&(R=_.g[R.toString()],_=-1,R&&(_=Ee(R,Q,ue,Me)),(Q=-1<_?R[_]:null)&&Ze(Q))}function Ze(_){if(typeof _!="number"&&_&&!_.da){var R=_.src;if(R&&R[ce])B(R.i,_);else{var Q=_.type,ue=_.proxy;R.removeEventListener?R.removeEventListener(Q,ue,_.capture):R.detachEvent?R.detachEvent(Le(Q),ue):R.addListener&&R.removeListener&&R.removeListener(ue),(Q=je(R))?(B(Q,_),Q.h==0&&(Q.src=null,R[ve]=null)):he(_)}}}function Le(_){return _ in xe?xe[_]:xe[_]="on"+_}function Ye(_,R){if(_.da)_=!0;else{R=new K(R,this);var Q=_.listener,ue=_.ha||_.src;_.fa&&Ze(_),_=Q.call(ue,R)}return _}function je(_){return _=_[ve],_ instanceof Se?_:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(_){return typeof _=="function"?_:(_[Qe]||(_[Qe]=function(R){return _.handleEvent(R)}),_[Qe])}function ot(){P.call(this),this.i=new Se(this),this.M=this,this.F=null}g(ot,P),ot.prototype[ce]=!0,ot.prototype.removeEventListener=function(_,R,Q,ue){Ue(this,_,R,Q,ue)};function St(_,R){var Q,ue=_.F;if(ue)for(Q=[];ue;ue=ue.F)Q.push(ue);if(_=_.M,ue=R.type||R,typeof R=="string")R=new F(R,_);else if(R instanceof F)R.target=R.target||_;else{var Me=R;R=new F(ue,_),j(R,Me)}if(Me=!0,Q)for(var Ke=Q.length-1;0<=Ke;Ke--){var At=R.g=Q[Ke];Me=jt(At,ue,!0,R)&&Me}if(At=R.g=_,Me=jt(At,ue,!0,R)&&Me,Me=jt(At,ue,!1,R)&&Me,Q)for(Ke=0;Ke<Q.length;Ke++)At=R.g=Q[Ke],Me=jt(At,ue,!1,R)&&Me}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var _=this.i,R;for(R in _.g){for(var Q=_.g[R],ue=0;ue<Q.length;ue++)he(Q[ue]);delete _.g[R],_.h--}}this.F=null},ot.prototype.K=function(_,R,Q,ue){return this.i.add(String(_),R,!1,Q,ue)},ot.prototype.L=function(_,R,Q,ue){return this.i.add(String(_),R,!0,Q,ue)};function jt(_,R,Q,ue){if(R=_.i.g[String(R)],!R)return!0;R=R.concat();for(var Me=!0,Ke=0;Ke<R.length;++Ke){var At=R[Ke];if(At&&!At.da&&At.capture==Q){var yr=At.listener,jr=At.ha||At.src;At.fa&&B(_.i,At),Me=yr.call(jr,ue)!==!1&&Me}}return Me&&!ue.defaultPrevented}function bt(_,R,Q){if(typeof _=="function")Q&&(_=h(_,Q));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(_,R||0)}function Tt(_){_.g=bt(()=>{_.g=null,_.i&&(_.i=!1,Tt(_))},_.l);const R=_.h;_.h=null,_.m.apply(null,R)}class it extends P{constructor(R,Q){super(),this.m=R,this.l=Q,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(_){P.call(this),this.h=_,this.g={}}g(Yt,P);var Pt=[];function Ir(_){I(_.g,function(R,Q){this.g.hasOwnProperty(Q)&&Ze(R)},_),_.g={}}Yt.prototype.N=function(){Yt.aa.N.call(this),Ir(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=o.JSON.stringify,It=o.JSON.parse,Zt=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Ut(){}Ut.prototype.h=null;function Tr(_){return _.h||(_.h=_.i())}function ke(){}var Je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lt(){F.call(this,"d")}g(lt,F);function Ct(){F.call(this,"c")}g(Ct,F);var mt={},Mt=null;function mr(){return Mt=Mt||new ot}mt.La="serverreachability";function Er(_){F.call(this,mt.La,_)}g(Er,F);function an(_){const R=mr();St(R,new Er(R))}mt.STAT_EVENT="statevent";function Za(_,R){F.call(this,mt.STAT_EVENT,_),this.stat=R}g(Za,F);function zt(_){const R=mr();St(R,new Za(R,_))}mt.Ma="timingevent";function Ua(_,R){F.call(this,mt.Ma,_),this.size=R}g(Ua,F);function Qn(_,R){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},R)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Pn(_,R,Q,ue,Me,Ke){_.info(function(){if(_.g)if(Ke)for(var At="",yr=Ke.split("&"),jr=0;jr<yr.length;jr++){var xr=yr[jr].split("=");if(1<xr.length){var rn=xr[0];xr=xr[1];var bn=rn.split("_");At=2<=bn.length&&bn[1]=="type"?At+(rn+"="+xr+"&"):At+(rn+"=redacted&")}}else At=null;else At=Ke;return"XMLHTTP REQ ("+ue+") [attempt "+Me+"]: "+R+`
`+Q+`
`+At})}function xn(_,R,Q,ue,Me,Ke,At){_.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Me+"]: "+R+`
`+Q+`
`+Ke+" "+At})}function se(_,R,Q,ue){_.info(function(){return"XMLHTTP TEXT ("+R+"): "+me(_,Q)+(ue?" "+ue:"")})}function we(_,R){_.info(function(){return"TIMEOUT: "+R})}Fn.prototype.info=function(){};function me(_,R){if(!_.g)return R;if(!R)return null;try{var Q=JSON.parse(R);if(Q){for(_=0;_<Q.length;_++)if(Array.isArray(Q[_])){var ue=Q[_];if(!(2>ue.length)){var Me=ue[1];if(Array.isArray(Me)&&!(1>Me.length)){var Ke=Me[0];if(Ke!="noop"&&Ke!="stop"&&Ke!="close")for(var At=1;At<Me.length;At++)Me[At]=""}}}}return _t(Q)}catch{return R}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ae;function Ve(){}g(Ve,Ut),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Ae=new Ve;function Xe(_,R,Q,ue){this.j=_,this.i=R,this.l=Q,this.R=ue||1,this.U=new Yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var qe={},Ge={};function yt(_,R,Q){_.L=1,_.v=nc(Hi(R)),_.m=Q,_.P=!0,Dt(_,null)}function Dt(_,R){_.F=Date.now(),$e(_),_.A=Hi(_.v);var Q=_.A,ue=_.R;Array.isArray(ue)||(ue=[String(ue)]),fr(Q.i,"t",ue),_.C=0,Q=_.j.J,_.h=new ze,_.g=re(_.j,Q?R:null,!_.m),0<_.O&&(_.M=new it(h(_.Y,_,_.g),_.O)),R=_.U,Q=_.g,ue=_.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(Pt[0]=Me.toString()),Me=Pt);for(var Ke=0;Ke<Me.length;Ke++){var At=te(Q,Me[Ke],ue||R.handleEvent,!1,R.h||R);if(!At)break;R.g[At.key]=At}R=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,R)):(_.u="GET",_.g.ea(_.A,_.u,null,R)),an(),Pn(_.i,_.u,_.A,_.l,_.R,_.m)}Xe.prototype.ca=function(_){_=_.target;const R=this.M;R&&Ca(_)==3?R.j():this.Y(_)},Xe.prototype.Y=function(_){try{if(_==this.g)e:{const bn=Ca(this.g);var R=this.g.Ba();const Bo=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||Ch(this.g)))){this.J||bn!=4||R==7||(R==8||0>=Bo?an(3):an(2)),nt(this);var Q=this.g.Z();this.X=Q;t:if(ie(this)){var ue=Ch(this.g);_="";var Me=ue.length,Ke=Ca(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vt(this),tt(this);var At="";break t}this.h.i=new o.TextDecoder}for(R=0;R<Me;R++)this.h.h=!0,_+=this.h.i.decode(ue[R],{stream:!(Ke&&R==Me-1)});ue.length=0,this.h.g+=_,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=Q==200,xn(this.i,this.u,this.A,this.l,this.R,bn,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var yr,jr=this.g;if((yr=jr.g?jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(yr)){var xr=yr;break t}}xr=null}if(Q=xr)se(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lt(this,Q);else{this.o=!1,this.s=3,zt(12),vt(this),tt(this);break e}}if(this.P){Q=!0;let ti;for(;!this.J&&this.C<At.length;)if(ti=ye(this,At),ti==Ge){bn==4&&(this.s=4,zt(14),Q=!1),se(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==qe){this.s=4,zt(15),se(this.i,this.l,At,"[Invalid Chunk]"),Q=!1;break}else se(this.i,this.l,ti,null),Lt(this,ti);if(ie(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||At.length!=0||this.h.h||(this.s=1,zt(16),Q=!1),this.o=this.o&&Q,!Q)se(this.i,this.l,At,"[Invalid Chunked Response]"),vt(this),tt(this);else if(0<At.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),wu(rn),rn.M=!0,zt(11))}}else se(this.i,this.l,At,null),Lt(this,At);bn==4&&vt(this),this.o&&!this.J&&(bn==4?Tl(this.j,this):(this.o=!1,$e(this)))}else Sl(this.g),Q==400&&0<At.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),vt(this),tt(this)}}}catch{}finally{}};function ie(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ye(_,R){var Q=_.C,ue=R.indexOf(`
`,Q);return ue==-1?Ge:(Q=Number(R.substring(Q,ue)),isNaN(Q)?qe:(ue+=1,ue+Q>R.length?Ge:(R=R.slice(ue,ue+Q),_.C=ue+Q,R)))}Xe.prototype.cancel=function(){this.J=!0,vt(this)};function $e(_){_.S=Date.now()+_.I,Et(_,_.I)}function Et(_,R){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Qn(h(_.ba,_),R)}function nt(_){_.B&&(o.clearTimeout(_.B),_.B=null)}Xe.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(we(this.i,this.A),this.L!=2&&(an(),zt(17)),vt(this),this.s=2,tt(this)):Et(this,this.S-_)};function tt(_){_.j.G==0||_.J||Tl(_.j,_)}function vt(_){nt(_);var R=_.M;R&&typeof R.ma=="function"&&R.ma(),_.M=null,Ir(_.U),_.g&&(R=_.g,_.g=null,R.abort(),R.ma())}function Lt(_,R){try{var Q=_.j;if(Q.G!=0&&(Q.g==_||on(Q.h,_))){if(!_.K&&on(Q.h,_)&&Q.G==3){try{var ue=Q.Da.g.parse(R)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Me=ue;if(Me[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<_.F)$o(Q),vu(Q);else break e;lc(Q),zt(18)}}else Q.za=Me[1],0<Q.za-Q.T&&37500>Me[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Qn(h(Q.Za,Q),6e3));if(1>=sn(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else xi(Q,11)}else if((_.K||Q.g==_)&&$o(Q),!b(R))for(Me=Q.Da.g.parse(R),R=0;R<Me.length;R++){let xr=Me[R];if(Q.T=xr[0],xr=xr[1],Q.G==2)if(xr[0]=="c"){Q.K=xr[1],Q.ia=xr[2];const rn=xr[3];rn!=null&&(Q.la=rn,Q.j.info("VER="+Q.la));const bn=xr[4];bn!=null&&(Q.Aa=bn,Q.j.info("SVER="+Q.Aa));const Bo=xr[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(ue=1.5*Bo,Q.L=ue,Q.j.info("backChannelRequestTimeoutMs_="+ue)),ue=Q;const ti=_.g;if(ti){const El=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var Ke=ue.h;Ke.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(qr(Ke,Ke.h),Ke.h=null))}if(ue.D){const kl=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(ue.ya=kl,ln(ue.I,ue.D,kl))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-_.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),ue=Q;var At=_;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),At.K){Xr(ue.h,At);var yr=At,jr=ue.L;jr&&(yr.I=jr),yr.B&&(nt(yr),$e(yr)),ue.g=At}else bu(ue);0<Q.i.length&&yu(Q)}else xr[0]!="stop"&&xr[0]!="close"||xi(Q,7);else Q.G==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?xi(Q,7):Fo(Q):xr[0]!="noop"&&Q.l&&Q.l.ta(xr),Q.v=0)}}an(4)}catch{}}var Xt=class{constructor(_,R){this.g=_,this.map=R}};function ir(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function sn(_){return _.h?1:_.g?_.g.size:0}function on(_,R){return _.h?_.h==R:_.g?_.g.has(R):!1}function qr(_,R){_.g?_.g.add(R):_.h=R}function Xr(_,R){_.h&&_.h==R?_.h=null:_.g&&_.g.has(R)&&_.g.delete(R)}ir.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Jn(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let R=_.i;for(const Q of _.g.values())R=R.concat(Q.D);return R}return m(_.i)}function fs(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var R=[],Q=_.length,ue=0;ue<Q;ue++)R.push(_[ue]);return R}R=[],Q=0;for(ue in _)R[Q++]=_[ue];return R}function $n(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var R=[];_=_.length;for(var Q=0;Q<_;Q++)R.push(Q);return R}R=[],Q=0;for(const ue in _)R[Q++]=ue;return R}}}function jo(_,R){if(_.forEach&&typeof _.forEach=="function")_.forEach(R,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,R,void 0);else for(var Q=$n(_),ue=fs(_),Me=ue.length,Ke=0;Ke<Me;Ke++)R.call(void 0,ue[Ke],Q&&Q[Ke],_)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bl(_,R){if(_){_=_.split("&");for(var Q=0;Q<_.length;Q++){var ue=_[Q].indexOf("="),Me=null;if(0<=ue){var Ke=_[Q].substring(0,ue);Me=_[Q].substring(ue+1)}else Ke=_[Q];R(Ke,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Zn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Zn){this.h=_.h,rc(this,_.j),this.o=_.o,this.g=_.g,cu(this,_.s),this.l=_.l;var R=_.i,Q=new wl;Q.i=R.i,R.g&&(Q.g=new Map(R.g),Q.h=R.h),Jf(this,Q),this.m=_.m}else _&&(R=String(_).match(yi))?(this.h=!1,rc(this,R[1]||"",!0),this.o=ac(R[2]||""),this.g=ac(R[3]||"",!0),cu(this,R[4]),this.l=ac(R[5]||"",!0),Jf(this,R[6]||"",!0),this.m=ac(R[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}Zn.prototype.toString=function(){var _=[],R=this.j;R&&_.push(Do(R,Th,!0),":");var Q=this.g;return(Q||R=="file")&&(_.push("//"),(R=this.o)&&_.push(Do(R,Th,!0),"@"),_.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&_.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&_.push("/"),_.push(Do(Q,Q.charAt(0)=="/"?Lo:hm,!0))),(Q=this.i.toString())&&_.push("?",Q),(Q=this.m)&&_.push("#",Do(Q,fu)),_.join("")};function Hi(_){return new Zn(_)}function rc(_,R,Q){_.j=Q?ac(R,!0):R,_.j&&(_.j=_.j.replace(/:$/,""))}function cu(_,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);_.s=R}else _.s=null}function Jf(_,R,Q){R instanceof wl?(_.i=R,pm(_.i,_.h)):(Q||(R=Do(R,uu)),_.i=new wl(R,_.h))}function ln(_,R,Q){_.i.set(R,Q)}function nc(_){return ln(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function ac(_,R){return _?R?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Do(_,R,Q){return typeof _=="string"?(_=encodeURI(_).replace(R,dm),Q&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function dm(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Th=/[#\/\?@]/g,hm=/[#\?:]/g,Lo=/[#\?]/g,uu=/[#\?@]/g,fu=/#/g;function wl(_,R){this.h=this.g=null,this.i=_||null,this.j=!!R}function On(_){_.g||(_.g=new Map,_.h=0,_.i&&bl(_.i,function(R,Q){_.add(decodeURIComponent(R.replace(/\+/g," ")),Q)}))}e=wl.prototype,e.add=function(_,R){On(this),this.i=null,_=_l(this,_);var Q=this.g.get(_);return Q||this.g.set(_,Q=[]),Q.push(R),this.h+=1,this};function Eh(_,R){On(_),R=_l(_,R),_.g.has(R)&&(_.i=null,_.h-=_.g.get(R).length,_.g.delete(R))}function Zf(_,R){return On(_),R=_l(_,R),_.g.has(R)}e.forEach=function(_,R){On(this),this.g.forEach(function(Q,ue){Q.forEach(function(Me){_.call(R,Me,ue,this)},this)},this)},e.na=function(){On(this);const _=Array.from(this.g.values()),R=Array.from(this.g.keys()),Q=[];for(let ue=0;ue<R.length;ue++){const Me=_[ue];for(let Ke=0;Ke<Me.length;Ke++)Q.push(R[ue])}return Q},e.V=function(_){On(this);let R=[];if(typeof _=="string")Zf(this,_)&&(R=R.concat(this.g.get(_l(this,_))));else{_=Array.from(this.g.values());for(let Q=0;Q<_.length;Q++)R=R.concat(_[Q])}return R},e.set=function(_,R){return On(this),this.i=null,_=_l(this,_),Zf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[R]),this.h+=1,this},e.get=function(_,R){return _?(_=this.V(_),0<_.length?String(_[0]):R):R};function fr(_,R,Q){Eh(_,R),0<Q.length&&(_.i=null,_.g.set(_l(_,R),m(Q)),_.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],R=Array.from(this.g.keys());for(var Q=0;Q<R.length;Q++){var ue=R[Q];const Ke=encodeURIComponent(String(ue)),At=this.V(ue);for(ue=0;ue<At.length;ue++){var Me=Ke;At[ue]!==""&&(Me+="="+encodeURIComponent(String(At[ue]))),_.push(Me)}}return this.i=_.join("&")};function _l(_,R){return R=String(R),_.j&&(R=R.toLowerCase()),R}function pm(_,R){R&&!_.j&&(On(_),_.i=null,_.g.forEach(function(Q,ue){var Me=ue.toLowerCase();ue!=Me&&(Eh(this,ue),fr(this,Me,Q))},_)),_.j=R}function eo(_,R){const Q=new Fn;if(o.Image){const ue=new Image;ue.onload=p(Os,Q,"TestLoadImage: loaded",!0,R,ue),ue.onerror=p(Os,Q,"TestLoadImage: error",!1,R,ue),ue.onabort=p(Os,Q,"TestLoadImage: abort",!1,R,ue),ue.ontimeout=p(Os,Q,"TestLoadImage: timeout",!1,R,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=_}else R(!1)}function kh(_,R){const Q=new Fn,ue=new AbortController,Me=setTimeout(()=>{ue.abort(),Os(Q,"TestPingServer: timeout",!1,R)},1e4);fetch(_,{signal:ue.signal}).then(Ke=>{clearTimeout(Me),Ke.ok?Os(Q,"TestPingServer: ok",!0,R):Os(Q,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Me),Os(Q,"TestPingServer: error",!1,R)})}function Os(_,R,Q,ue,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),ue(Q)}catch{}}function du(){this.g=new Zt}function ed(_,R,Q){const ue=Q||"";try{jo(_,function(Me,Ke){let At=Me;c(Me)&&(At=_t(Me)),R.push(ue+Ke+"="+encodeURIComponent(At))})}catch(Me){throw R.push(ue+"type="+encodeURIComponent("_badmap")),Me}}function hu(_){this.l=_.Ub||null,this.j=_.eb||!1}g(hu,Ut),hu.prototype.g=function(){return new pu(this.l,this.j)},hu.prototype.i=function(_){return function(){return _}}({});function pu(_,R){ot.call(this),this.D=_,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(pu,ot),e=pu.prototype,e.open=function(_,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=R,this.readyState=1,Is(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(R.body=_),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nh(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nh(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var R=_.value?_.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!_.done}))&&(this.response=this.responseText+=R)}_.done?Mo(this):Is(this),this.readyState==3&&Nh(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,Mo(this))},e.Qa=function(_){this.g&&(this.response=_,Mo(this))},e.ga=function(){this.g&&Mo(this)};function Mo(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Is(_)}e.setRequestHeader=function(_,R){this.u.append(_,R)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],R=this.h.entries();for(var Q=R.next();!Q.done;)Q=Q.value,_.push(Q[0]+": "+Q[1]),Q=R.next();return _.join(`\r
`)};function Is(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Ro(_){let R="";return I(_,function(Q,ue){R+=ue,R+=":",R+=Q,R+=`\r
`}),R}function td(_,R,Q){e:{for(ue in Q){var ue=!1;break e}ue=!0}ue||(Q=Ro(Q),typeof _=="string"?Q!=null&&encodeURIComponent(String(Q)):ln(_,R,Q))}function tn(_){ot.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(tn,ot);var rd=/^https?$/i,mu=["POST","PUT"];e=tn.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,R,Q,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);R=R?R.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?Tr(this.o):Tr(Ae),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(_),!0),this.B=!1}catch(Ke){nd(this,Ke);return}if(_=Q||"",Q=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Me in ue)Q.set(Me,ue[Me]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const Ke of ue.keys())Q.set(Ke,ue.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(Q.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),Me=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(mu,R,void 0))||ue||Me||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,At]of Q)this.g.setRequestHeader(Ke,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ke){nd(this,Ke)}};function nd(_,R){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=R,_.m=5,ad(_),ic(_)}function ad(_){_.A||(_.A=!0,St(_,"complete"),St(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,St(this,"complete"),St(this,"abort"),ic(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),tn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},e.bb=function(){id(this)};function id(_){if(_.h&&typeof s<"u"&&(!_.v[1]||Ca(_)!=4||_.Z()!=2)){if(_.u&&Ca(_)==4)bt(_.Ea,0,_);else if(St(_,"readystatechange"),Ca(_)==4){_.h=!1;try{const At=_.Z();e:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var Q;if(!(Q=R)){var ue;if(ue=At===0){var Me=String(_.D).match(yi)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),ue=!rd.test(Me?Me.toLowerCase():"")}Q=ue}if(Q)St(_,"complete"),St(_,"success");else{_.m=6;try{var Ke=2<Ca(_)?_.g.statusText:""}catch{Ke=""}_.l=Ke+" ["+_.Z()+"]",ad(_)}}finally{ic(_)}}}}function ic(_,R){if(_.g){js(_);const Q=_.g,ue=_.v[0]?()=>{}:null;_.g=null,_.v=null,R||St(_,"ready");try{Q.onreadystatechange=ue}catch{}}}function js(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function Ca(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<Ca(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var R=this.g.responseText;return _&&R.indexOf(_)==0&&(R=R.substring(_.length)),It(R)}};function Ch(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(_){const R={};_=(_.g&&2<=Ca(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<_.length;ue++){if(b(_[ue]))continue;var Q=E(_[ue]);const Me=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Ke=R[Me]||[];R[Me]=Ke,Ke.push(Q)}T(R,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(_,R,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[_]||R}function gu(_){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ei("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ei("baseRetryDelayMs",5e3,_),this.cb=ei("retryDelaySeedMs",1e4,_),this.Wa=ei("forwardChannelMaxRetries",2,_),this.wa=ei("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ir(_&&_.concurrentRequestLimit),this.Da=new du,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=gu.prototype,e.la=8,e.G=1,e.connect=function(_,R,Q,ue){zt(0),this.W=_,this.H=R||{},Q&&ue!==void 0&&(this.H.OSID=Q,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),yu(this)};function Fo(_){if(sc(_),_.G==3){var R=_.U++,Q=Hi(_.I);if(ln(Q,"SID",_.K),ln(Q,"RID",R),ln(Q,"TYPE","terminate"),Al(_,Q),R=new Xe(_,_.j,R),R.L=2,R.v=nc(Hi(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=R.v,Q=!0),Q||(R.g=re(R.j,null),R.g.ea(R.v)),R.F=Date.now(),$e(R)}Su(_)}function vu(_){_.g&&(wu(_),_.g.cancel(),_.g=null)}function sc(_){vu(_),_.u&&(o.clearTimeout(_.u),_.u=null),$o(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function yu(_){if(!ur(_.h)&&!_.s){_.s=!0;var R=_.Ga;J||ee(),H||(J(),H=!0),z.add(R,_),_.B=0}}function sd(_,R){return sn(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=R.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Qn(h(_.Ga,_,R),_u(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Me=new Xe(this,this.j,_);let Ke=this.o;if(this.S&&(Ke?(Ke=S(Ke),j(Ke,this.S)):Ke=this.S),this.m!==null||this.O||(Me.H=Ke,Ke=null),this.P)e:{for(var R=0,Q=0;Q<this.i.length;Q++){t:{var ue=this.i[Q];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(R+=ue,4096<R){R=Q;break e}if(R===4096||Q===this.i.length-1){R=Q+1;break e}}R=1e3}else R=1e3;R=oc(this,Me,R),Q=Hi(this.I),ln(Q,"RID",_),ln(Q,"CVER",22),this.D&&ln(Q,"X-HTTP-Session-Id",this.D),Al(this,Q),Ke&&(this.O?R="headers="+encodeURIComponent(String(Ro(Ke)))+"&"+R:this.m&&td(Q,this.m,Ke)),qr(this.h,Me),this.Ua&&ln(Q,"TYPE","init"),this.P?(ln(Q,"$req",R),ln(Q,"SID","null"),Me.T=!0,yt(Me,Q,null)):yt(Me,Q,R),this.G=2}}else this.G==3&&(_?xu(this,_):this.i.length==0||ur(this.h)||xu(this))};function xu(_,R){var Q;R?Q=R.l:Q=_.U++;const ue=Hi(_.I);ln(ue,"SID",_.K),ln(ue,"RID",Q),ln(ue,"AID",_.T),Al(_,ue),_.m&&_.o&&td(ue,_.m,_.o),Q=new Xe(_,_.j,Q,_.B+1),_.m===null&&(Q.H=_.o),R&&(_.i=R.D.concat(_.i)),R=oc(_,Q,1e3),Q.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),qr(_.h,Q),yt(Q,ue,R)}function Al(_,R){_.H&&I(_.H,function(Q,ue){ln(R,ue,Q)}),_.l&&jo({},function(Q,ue){ln(R,ue,Q)})}function oc(_,R,Q){Q=Math.min(_.i.length,Q);var ue=_.l?h(_.l.Na,_.l,_):null;e:{var Me=_.i;let Ke=-1;for(;;){const At=["count="+Q];Ke==-1?0<Q?(Ke=Me[0].g,At.push("ofs="+Ke)):Ke=0:At.push("ofs="+Ke);let yr=!0;for(let jr=0;jr<Q;jr++){let xr=Me[jr].g;const rn=Me[jr].map;if(xr-=Ke,0>xr)Ke=Math.max(0,Me[jr].g-100),yr=!1;else try{ed(rn,At,"req"+xr+"_")}catch{ue&&ue(rn)}}if(yr){ue=At.join("&");break e}}}return _=_.i.splice(0,Q),R.D=_,ue}function bu(_){if(!_.g&&!_.u){_.Y=1;var R=_.Fa;J||ee(),H||(J(),H=!0),z.add(R,_),_.v=0}}function lc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Qn(h(_.Fa,_),_u(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,Ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Qn(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),vu(this),Ph(this))};function wu(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Ph(_){_.g=new Xe(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var R=Hi(_.qa);ln(R,"RID","rpc"),ln(R,"SID",_.K),ln(R,"AID",_.T),ln(R,"CI",_.F?"0":"1"),!_.F&&_.ja&&ln(R,"TO",_.ja),ln(R,"TYPE","xmlhttp"),Al(_,R),_.m&&_.o&&td(R,_.m,_.o),_.L&&(_.g.I=_.L);var Q=_.g;_=_.ia,Q.L=1,Q.v=nc(Hi(R)),Q.m=null,Q.P=!0,Dt(Q,_)}e.Za=function(){this.C!=null&&(this.C=null,vu(this),lc(this),zt(19))};function $o(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function Tl(_,R){var Q=null;if(_.g==R){$o(_),wu(_),_.g=null;var ue=2}else if(on(_.h,R))Q=R.D,Xr(_.h,R),ue=1;else return;if(_.G!=0){if(R.o)if(ue==1){Q=R.m?R.m.length:0,R=Date.now()-R.F;var Me=_.B;ue=mr(),St(ue,new Ua(ue,Q)),yu(_)}else bu(_);else if(Me=R.s,Me==3||Me==0&&0<R.X||!(ue==1&&sd(_,R)||ue==2&&lc(_)))switch(Q&&0<Q.length&&(R=_.h,R.i=R.i.concat(Q)),Me){case 1:xi(_,5);break;case 4:xi(_,10);break;case 3:xi(_,6);break;default:xi(_,2)}}}function _u(_,R){let Q=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Q*=2),Q*R}function xi(_,R){if(_.j.info("Error code "+R),R==2){var Q=h(_.fb,_),ue=_.Xa;const Me=!ue;ue=new Zn(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||rc(ue,"https"),nc(ue),Me?eo(ue.toString(),Q):kh(ue.toString(),Q)}else zt(2);_.G=0,_.l&&_.l.sa(R),Su(_),sc(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Su(_){if(_.G=0,_.ka=[],_.l){const R=Jn(_.h);(R.length!=0||_.i.length!=0)&&(v(_.ka,R),v(_.ka,_.i),_.h.i.length=0,m(_.i),_.i.length=0),_.l.ra()}}function L(_,R,Q){var ue=Q instanceof Zn?Hi(Q):new Zn(Q);if(ue.g!="")R&&(ue.g=R+"."+ue.g),cu(ue,ue.s);else{var Me=o.location;ue=Me.protocol,R=R?R+"."+Me.hostname:Me.hostname,Me=+Me.port;var Ke=new Zn(null);ue&&rc(Ke,ue),R&&(Ke.g=R),Me&&cu(Ke,Me),Q&&(Ke.l=Q),ue=Ke}return Q=_.D,R=_.ya,Q&&R&&ln(ue,Q,R),ln(ue,"VER",_.la),Al(_,ue),ue}function re(_,R,Q){if(R&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=_.Ca&&!_.pa?new tn(new hu({eb:Q})):new tn(_.pa),R.Ha(_.J),R}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Te(){}e=Te.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ce(){}Ce.prototype.g=function(_,R){return new Re(_,R)};function Re(_,R){ot.call(this),this.g=new gu(R),this.l=_,this.h=R&&R.messageUrlParams||null,_=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(_?_["X-WebChannel-Content-Type"]=R.messageContentType:_={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(_?_["X-WebChannel-Client-Profile"]=R.va:_={"X-WebChannel-Client-Profile":R.va}),this.g.S=_,(_=R&&R.Sb)&&!b(_)&&(this.g.m=_),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,_=this.h,_!==null&&R in _&&(_=this.h,R in _&&delete _[R])),this.j=new $t(this)}g(Re,ot),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){Fo(this.g)},Re.prototype.o=function(_){var R=this.g;if(typeof _=="string"){var Q={};Q.__data__=_,_=Q}else this.u&&(Q={},Q.__data__=_t(_),_=Q);R.i.push(new Xt(R.Ya++,_)),R.G==3&&yu(R)},Re.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,Re.aa.N.call(this)};function at(_){lt.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var R=_.__sm__;if(R){e:{for(const Q in R){_=Q;break e}_=void 0}(this.i=_)&&(_=this.i,R=R!==null&&_ in R?R[_]:void 0),this.data=R}else this.data=_}g(at,lt);function wt(){Ct.call(this),this.status=1}g(wt,Ct);function $t(_){this.g=_}g($t,Te),$t.prototype.ua=function(){St(this.g,"a")},$t.prototype.ta=function(_){St(this.g,new at(_))},$t.prototype.sa=function(_){St(this.g,new wt)},$t.prototype.ra=function(){St(this.g,"b")},Ce.prototype.createWebChannel=Ce.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,_9=function(){return new Ce},w9=function(){return mr()},b9=mt,F4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Zx=ge,_e.COMPLETE="complete",x9=_e,ke.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ag=ke,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,y9=tn}).apply(typeof ex<"u"?ex:typeof self<"u"?self:typeof window<"u"?window:{});const jO="@firebase/firestore",DO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new f9("@firebase/firestore");function Zh(){return Jd.logLevel}function Wt(e,...t){if(Jd.logLevel<=Br.DEBUG){const r=t.map(xk);Jd.debug(`Firestore (${Vp}): ${e}`,...r)}}function zc(e,...t){if(Jd.logLevel<=Br.ERROR){const r=t.map(xk);Jd.error(`Firestore (${Vp}): ${e}`,...r)}}function rp(e,...t){if(Jd.logLevel<=Br.WARN){const r=t.map(xk);Jd.warn(`Firestore (${Vp}): ${e}`,...r)}}function xk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,S9(e,n,r)}function S9(e,t,r){let n=`FIRESTORE (${Vp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw zc(n),new Error(n)}function Zr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||S9(t,a,n)}function gr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends Up{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Pi.UNAUTHENTICATED))}shutdown(){}}class dte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class hte{constructor(t){this.t=t,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Zr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Bl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Zr(typeof n.accessToken=="string",31837,{l:n}),new A9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zr(t===null||typeof t=="string",2055,{h:t}),new Pi(t)}}class pte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new pte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Zr(this.o===void 0,3512);const n=i=>{i.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Wt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Zr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new LO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=vte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Cr(e,t){return e<t?-1:e>t?1:0}function $4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Cr(n,a);{const i=T9(),s=yte(i.encode(MO(e,r)),i.encode(MO(t,r)));return s!==0?s:Cr(n,a)}}r+=n>65535?2:1}return Cr(e.length,t.length)}function MO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function yte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Cr(e[r],t[r]);return Cr(e.length,t.length)}function np(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=-62135596800,FO=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(t){return tr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*FO);return new tr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Vt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Vt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<RO)throw new Vt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FO}_compareTo(t){return this.seconds===t.seconds?Cr(this.nanoseconds,t.nanoseconds):Cr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-RO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{static fromTimestamp(t){return new vr(t)}static min(){return new vr(new tr(0,0))}static max(){return new vr(new tr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="__name__";class Dl{constructor(t,r,n){r===void 0?r=0:r>t.length&&cr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&cr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Dl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Dl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Dl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Cr(t.length,r.length)}static compareSegments(t,r){const n=Dl.isNumericId(t),a=Dl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Dl.extractNumericId(t).compare(Dl.extractNumericId(r)):$4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yf.fromString(t.substring(4,t.length-2))}}class Ln extends Dl{construct(t,r,n){return new Ln(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Vt(ft.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Ln(r)}static emptyPath(){return new Ln([])}}const xte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends Dl{construct(t,r,n){return new fi(t,r,n)}static isValidIdentifier(t){return xte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$O}static keyField(){return new fi([$O])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Vt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Vt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Vt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Vt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fi(r)}static emptyPath(){return new fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.path=t}static fromPath(t){return new rr(Ln.fromString(t))}static fromName(t){return new rr(Ln.fromString(t).popFirst(5))}static empty(){return new rr(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ln.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ln.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rr(new Ln(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-1;function bte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=vr.fromTimestamp(n===1e9?new tr(r+1,0):new tr(r,n));return new Cf(a,rr.empty(),t)}function wte(e){return new Cf(e.readTime,e.key,_v)}class Cf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Cf(vr.min(),rr.empty(),_v)}static max(){return new Cf(vr.max(),rr.empty(),_v)}}function _te(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=rr.comparator(e.documentKey,t.documentKey),r!==0?r:Cr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ate{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==Ste)throw e;Wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&cr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new gt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof gt?r:gt.resolve(r)}catch(r){return gt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):gt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):gt.reject(r)}static resolve(t){return new gt((r,n)=>{r(t)})}static reject(t){return new gt((r,n)=>{n(t)})}static waitFor(t){return new gt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=gt.resolve(!1);for(const n of t)r=r.next(a=>a?gt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new gt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new gt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Tte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Yw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=-1;function Xw(e){return e==null}function K2(e){return e===0&&1/e==-1/0}function Ete(e){return typeof e=="number"&&Number.isInteger(e)&&!K2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="";function kte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=BO(t)),t=Nte(e.get(r),t);return BO(t)}function Nte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case k9:r+="";break;default:r+=i}}return r}function BO(e){return e+k9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function zf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Cte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function N9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r){this.comparator=t,this.root=r||li.EMPTY}insert(t,r){return new Xn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,li.BLACK,null,null))}remove(t){return new Xn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,li.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tx(this.root,t,this.comparator,!1)}getReverseIterator(){return new tx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tx(this.root,t,this.comparator,!0)}}class tx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class li{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??li.RED,this.left=a??li.EMPTY,this.right=i??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new li(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return li.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw cr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw cr(27949);return t+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw cr(57766)}get value(){throw cr(16141)}get color(){throw cr(16727)}get left(){throw cr(29726)}get right(){throw cr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new li(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.comparator=t,this.data=new Xn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new VO(this.data.getIterator())}getIteratorFrom(t){return new VO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Fa(this.comparator);return r.data=t,r}}class VO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.fields=t,t.sort(fi.comparator)}static empty(){return new Hs([])}unionWith(t){let r=new Fa(fi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Hs(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return np(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new C9("Invalid base64 string: "+i):i}}(t);return new vi(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new vi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Cr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const Pte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pf(e){if(Zr(!!e,39018),typeof e=="string"){let t=0;const r=Pte.exec(e);if(Zr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:da(e.seconds),nanos:da(e.nanos)}}function da(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Of(e){return typeof e=="string"?vi.fromBase64String(e):vi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="server_timestamp",O9="__type__",I9="__previous_value__",j9="__local_write_time__";function wk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[O9])===null||r===void 0?void 0:r.stringValue)===P9}function Qw(e){const t=e.mapValue.fields[I9];return wk(t)?Qw(t):t}function Sv(e){const t=Pf(e.mapValue.fields[j9].timestampValue);return new tr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Y2="(default)";class Av{constructor(t,r){this.projectId=t,this.database=r||Y2}static empty(){return new Av("","")}get isDefaultDatabase(){return this.database===Y2}isEqual(t){return t instanceof Av&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="__type__",L9="__max__",rx={mapValue:{fields:{__type__:{stringValue:L9}}}},M9="__vector__",X2="value";function If(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wk(e)?4:jte(e)?9007199254740991:Ite(e)?10:11:cr(28295,{value:e})}function Kl(e,t){if(e===t)return!0;const r=If(e);if(r!==If(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sv(e).isEqual(Sv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Pf(a.timestampValue),o=Pf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Of(a.bytesValue).isEqual(Of(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return da(a.geoPointValue.latitude)===da(i.geoPointValue.latitude)&&da(a.geoPointValue.longitude)===da(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return da(a.integerValue)===da(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=da(a.doubleValue),o=da(i.doubleValue);return s===o?K2(s)===K2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return np(e.arrayValue.values||[],t.arrayValue.values||[],Kl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(UO(s)!==UO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Kl(s[l],o[l])))return!1;return!0}(e,t);default:return cr(52216,{left:e})}}function Tv(e,t){return(e.values||[]).find(r=>Kl(r,t))!==void 0}function ap(e,t){if(e===t)return 0;const r=If(e),n=If(t);if(r!==n)return Cr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Cr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=da(i.integerValue||i.doubleValue),l=da(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return zO(e.timestampValue,t.timestampValue);case 4:return zO(Sv(e),Sv(t));case 5:return $4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Of(i),l=Of(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Cr(o[c],l[c]);if(u!==0)return u}return Cr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Cr(da(i.latitude),da(s.latitude));return o!==0?o:Cr(da(i.longitude),da(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},p=(o=f[X2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[X2])===null||l===void 0?void 0:l.arrayValue,m=Cr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:qO(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===rx.mapValue&&s===rx.mapValue)return 0;if(i===rx.mapValue)return 1;if(s===rx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=$4(l[f],u[f]);if(h!==0)return h;const p=ap(o[l[f]],c[u[f]]);if(p!==0)return p}return Cr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw cr(23264,{Pe:r})}}function zO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Cr(e,t);const r=Pf(e),n=Pf(t),a=Cr(r.seconds,n.seconds);return a!==0?a:Cr(r.nanos,n.nanos)}function qO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=ap(r[a],n[a]);if(i)return i}return Cr(r.length,n.length)}function ip(e){return B4(e)}function B4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Pf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Of(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return rr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=B4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${B4(r.fields[s])}`;return a+"}"}(e.mapValue):cr(61005,{value:e})}function e2(e){switch(If(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qw(e);return t?16+e2(t):16;case 5:return 2*e.stringValue.length;case 6:return Of(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+e2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return zf(n.fields,(i,s)=>{a+=i.length+e2(s)}),a}(e.mapValue);default:throw cr(13486,{value:e})}}function WO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function U4(e){return!!e&&"integerValue"in e}function _k(e){return!!e&&"arrayValue"in e}function HO(e){return!!e&&"nullValue"in e}function GO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function t2(e){return!!e&&"mapValue"in e}function Ite(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[D9])===null||r===void 0?void 0:r.stringValue)===M9}function Tg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Tg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Tg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function jte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===L9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this.value=t}static empty(){return new _s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!t2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tg(r)}setAll(t){let r=fi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Tg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());t2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Kl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];t2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){zf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new _s(Tg(this.value))}}function R9(e){const t=[];return zf(e.fields,(r,n)=>{const a=new fi([r]);if(t2(n)){const i=R9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Hs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Di(t,0,vr.min(),vr.min(),vr.min(),_s.empty(),0)}static newFoundDocument(t,r,n,a){return new Di(t,1,r,vr.min(),n,a,0)}static newNoDocument(t,r){return new Di(t,2,r,vr.min(),vr.min(),_s.empty(),0)}static newUnknownDocument(t,r){return new Di(t,3,r,vr.min(),vr.min(),_s.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(vr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,r){this.position=t,this.inclusive=r}}function KO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=rr.comparator(rr.fromName(s.referenceValue),r.key):n=ap(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function YO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Kl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,r="asc"){this.field=t,this.dir=r}}function Dte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{}class Ea extends F9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Mte(t,r,n):r==="array-contains"?new $te(t,n):r==="in"?new Bte(t,n):r==="not-in"?new Ute(t,n):r==="array-contains-any"?new Vte(t,n):new Ea(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Rte(t,n):new Fte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ap(r,this.value)):r!==null&&If(this.value)===If(r)&&this.matchesComparison(ap(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return cr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ml extends F9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new ml(t,r)}matches(t){return $9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $9(e){return e.op==="and"}function B9(e){return Lte(e)&&$9(e)}function Lte(e){for(const t of e.filters)if(t instanceof ml)return!1;return!0}function V4(e){if(e instanceof Ea)return e.field.canonicalString()+e.op.toString()+ip(e.value);if(B9(e))return e.filters.map(t=>V4(t)).join(",");{const t=e.filters.map(r=>V4(r)).join(",");return`${e.op}(${t})`}}function U9(e,t){return e instanceof Ea?function(n,a){return a instanceof Ea&&n.op===a.op&&n.field.isEqual(a.field)&&Kl(n.value,a.value)}(e,t):e instanceof ml?function(n,a){return a instanceof ml&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&U9(s,a.filters[o]),!0):!1}(e,t):void cr(19439)}function V9(e){return e instanceof Ea?function(r){return`${r.field.canonicalString()} ${r.op} ${ip(r.value)}`}(e):e instanceof ml?function(r){return r.op.toString()+" {"+r.getFilters().map(V9).join(" ,")+"}"}(e):"Filter"}class Mte extends Ea{constructor(t,r,n){super(t,r,n),this.key=rr.fromName(n.referenceValue)}matches(t){const r=rr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Rte extends Ea{constructor(t,r){super(t,"in",r),this.keys=z9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Fte extends Ea{constructor(t,r){super(t,"not-in",r),this.keys=z9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function z9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>rr.fromName(n.referenceValue))}class $te extends Ea{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return _k(r)&&Tv(r.arrayValue,this.value)}}class Bte extends Ea{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Tv(this.value.arrayValue,r)}}class Ute extends Ea{constructor(t,r){super(t,"not-in",r)}matches(t){if(Tv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Tv(this.value.arrayValue,r)}}class Vte extends Ea{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!_k(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Tv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function XO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new zte(e,t,r,n,a,i,s)}function Sk(e){const t=gr(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>V4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Xw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>ip(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>ip(n)).join(",")),t.Ie=r}return t.Ie}function Ak(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Dte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!U9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!YO(e.startAt,t.startAt)&&YO(e.endAt,t.endAt)}function z4(e){return rr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function qte(e,t,r,n,a,i,s,o){return new Wp(e,t,r,n,a,i,s,o)}function Jw(e){return new Wp(e)}function QO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function q9(e){return e.collectionGroup!==null}function Eg(e){const t=gr(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Fa(fi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Ev(i,n))}),r.has(fi.keyField().canonicalString())||t.Ee.push(new Ev(fi.keyField(),n))}return t.Ee}function Ul(e){const t=gr(e);return t.de||(t.de=W9(t,Eg(e))),t.de}function Wte(e){const t=gr(e);return t.Ae||(t.Ae=W9(t,e.explicitOrderBy)),t.Ae}function W9(e,t){if(e.limitType==="F")return XO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Ev(a.field,i)});const r=e.endAt?new Q2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Q2(e.startAt.position,e.startAt.inclusive):null;return XO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function q4(e,t){const r=e.filters.concat([t]);return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function J2(e,t,r){return new Wp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Zw(e,t){return Ak(Ul(e),Ul(t))&&e.limitType===t.limitType}function H9(e){return`${Sk(Ul(e))}|lt:${e.limitType}`}function e0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>V9(a)).join(", ")}]`),Xw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>ip(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>ip(a)).join(",")),`Target(${n})`}(Ul(e))}; limitType=${e.limitType})`}function e5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):rr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Eg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=KO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Eg(n),a)||n.endAt&&!function(s,o,l){const c=KO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Eg(n),a))}(e,t)}function Hte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function G9(e){return(t,r)=>{let n=!1;for(const a of Eg(e)){const i=Gte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Gte(e,t,r){const n=e.field.isKeyField()?rr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?ap(l,c):cr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return cr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){zf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return N9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kte=new Xn(rr.comparator);function qc(){return Kte}const K9=new Xn(rr.comparator);function ig(...e){let t=K9;for(const r of e)t=t.insert(r.key,r);return t}function Y9(e){let t=K9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Cd(){return kg()}function X9(){return kg()}function kg(){return new fh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Yte=new Xn(rr.comparator),Xte=new Fa(rr.comparator);function Lr(...e){let t=Xte;for(const r of e)t=t.add(r);return t}const Qte=new Fa(Cr);function Jte(){return Qte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K2(t)?"-0":t}}function Q9(e){return{integerValue:""+e}}function Zte(e,t){return Ete(t)?Q9(t):Tk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this._=void 0}}function ere(e,t,r){return e instanceof kv?function(a,i){const s={fields:{[O9]:{stringValue:P9},[j9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&wk(i)&&(i=Qw(i)),i&&(s.fields[I9]=i),{mapValue:s}}(r,t):e instanceof Nv?Z9(e,t):e instanceof Cv?eB(e,t):function(a,i){const s=J9(a,i),o=JO(s)+JO(a.Re);return U4(s)&&U4(a.Re)?Q9(o):Tk(a.serializer,o)}(e,t)}function tre(e,t,r){return e instanceof Nv?Z9(e,t):e instanceof Cv?eB(e,t):r}function J9(e,t){return e instanceof Z2?function(n){return U4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class kv extends t5{}class Nv extends t5{constructor(t){super(),this.elements=t}}function Z9(e,t){const r=tB(t);for(const n of e.elements)r.some(a=>Kl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Cv extends t5{constructor(t){super(),this.elements=t}}function eB(e,t){let r=tB(t);for(const n of e.elements)r=r.filter(a=>!Kl(a,n));return{arrayValue:{values:r}}}class Z2 extends t5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function JO(e){return da(e.integerValue||e.doubleValue)}function tB(e){return _k(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(t,r){this.field=t,this.transform=r}}function nre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Nv&&a instanceof Nv||n instanceof Cv&&a instanceof Cv?np(n.elements,a.elements,Kl):n instanceof Z2&&a instanceof Z2?Kl(n.Re,a.Re):n instanceof kv&&a instanceof kv}(e.transform,t.transform)}class are{constructor(t,r){this.version=t,this.transformResults=r}}class ss{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ss}static exists(t){return new ss(void 0,t)}static updateTime(t){return new ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function r2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class r5{}function rB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new n5(e.key,ss.none()):new M1(e.key,e.data,ss.none());{const r=e.data,n=_s.empty();let a=new Fa(fi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new qf(e.key,n,new Hs(a.toArray()),ss.none())}}function ire(e,t,r){e instanceof M1?function(a,i,s){const o=a.value.clone(),l=eI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof qf?function(a,i,s){if(!r2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(nB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Ng(e,t,r,n){return e instanceof M1?function(i,s,o,l){if(!r2(i.precondition,s))return o;const c=i.value.clone(),u=tI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof qf?function(i,s,o,l){if(!r2(i.precondition,s))return o;const c=tI(i.fieldTransforms,l,s),u=s.data;return u.setAll(nB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return r2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function sre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=J9(n.transform,a||null);i!=null&&(r===null&&(r=_s.empty()),r.set(n.field,i))}return r||null}function ZO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&np(n,a,(i,s)=>nre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class M1 extends r5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qf extends r5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function eI(e,t,r){const n=new Map;Zr(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,tre(s,o,r[a]))}return n}function tI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,ere(i,s,t))}return n}class n5 extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ore extends r5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&ire(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ng(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ng(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=X9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=rB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(vr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Lr())}isEqual(t){return this.batchId===t.batchId&&np(this.mutations,t.mutations,(r,n)=>ZO(r,n))&&np(this.baseMutations,t.baseMutations,(r,n)=>ZO(r,n))}}class Ek{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Zr(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Yte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new Ek(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa,$r;function dre(e){switch(e){case ft.OK:return cr(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return cr(15467,{code:e})}}function aB(e){if(e===void 0)return zc("GRPC error has no .code"),ft.UNKNOWN;switch(e){case wa.OK:return ft.OK;case wa.CANCELLED:return ft.CANCELLED;case wa.UNKNOWN:return ft.UNKNOWN;case wa.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case wa.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case wa.INTERNAL:return ft.INTERNAL;case wa.UNAVAILABLE:return ft.UNAVAILABLE;case wa.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case wa.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case wa.NOT_FOUND:return ft.NOT_FOUND;case wa.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case wa.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case wa.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case wa.ABORTED:return ft.ABORTED;case wa.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case wa.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case wa.DATA_LOSS:return ft.DATA_LOSS;default:return cr(39323,{code:e})}}($r=wa||(wa={}))[$r.OK=0]="OK",$r[$r.CANCELLED=1]="CANCELLED",$r[$r.UNKNOWN=2]="UNKNOWN",$r[$r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$r[$r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$r[$r.NOT_FOUND=5]="NOT_FOUND",$r[$r.ALREADY_EXISTS=6]="ALREADY_EXISTS",$r[$r.PERMISSION_DENIED=7]="PERMISSION_DENIED",$r[$r.UNAUTHENTICATED=16]="UNAUTHENTICATED",$r[$r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$r[$r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$r[$r.ABORTED=10]="ABORTED",$r[$r.OUT_OF_RANGE=11]="OUT_OF_RANGE",$r[$r.UNIMPLEMENTED=12]="UNIMPLEMENTED",$r[$r.INTERNAL=13]="INTERNAL",$r[$r.UNAVAILABLE=14]="UNAVAILABLE",$r[$r.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre=new yf([4294967295,4294967295],0);function rI(e){const t=T9().encode(e),r=new v9;return r.update(t),new Uint8Array(r.digest())}function nI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new yf([r,n],0),new yf([a,i],0)]}class kk{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new sg(`Invalid padding: ${r}`);if(n<0)throw new sg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new sg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new sg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=yf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(yf.fromNumber(n)));return a.compare(hre)===1&&(a=new yf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=rI(t),[n,a]=nI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new kk(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=rI(t),[n,a]=nI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,R1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new a5(vr.min(),a,new Xn(Cr),qc(),Lr())}}class R1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new R1(n,r,Lr(),Lr(),Lr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class iB{constructor(t,r){this.targetId=t,this.Ce=r}}class sB{constructor(t,r,n=vi.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class aI{constructor(){this.Fe=0,this.Me=iI(),this.xe=vi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lr(),r=Lr(),n=Lr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:cr(38017,{changeType:i})}}),new R1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=iI()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Zr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pre{constructor(t){this.ze=t,this.je=new Map,this.He=qc(),this.Je=nx(),this.Ye=nx(),this.Ze=new Xn(Cr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:cr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(z4(i))if(n===0){const s=new rr(i.path);this.tt(r,s,Di.newNoDocument(s,vr.min()))}else Zr(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Of(n).toUint8Array()}catch(l){if(l instanceof C9)return rp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new kk(s,a,i)}catch(l){return rp(l instanceof sg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&z4(o.target)){const l=new rr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Di.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Lr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new a5(t,r,this.Ze,this.He,n);return this.He=qc(),this.Je=nx(),this.Ye=nx(),this.Ze=new Xn(Cr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new aI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Fa(Cr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Fa(Cr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Wt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new aI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function nx(){return new Xn(rr.comparator)}function iI(){return new Xn(rr.comparator)}const mre={asc:"ASCENDING",desc:"DESCENDING"},gre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vre={and:"AND",or:"OR"};class yre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function W4(e,t){return e.useProto3Json||Xw(t)?t:{value:t}}function eb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xre(e,t){return eb(e,t.toTimestamp())}function Vl(e){return Zr(!!e,49232),vr.fromTimestamp(function(r){const n=Pf(r);return new tr(n.seconds,n.nanos)}(e))}function Nk(e,t){return H4(e,t).canonicalString()}function H4(e,t){const r=function(a){return new Ln(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function lB(e){const t=Ln.fromString(e);return Zr(pB(t),10190,{key:t.toString()}),t}function G4(e,t){return Nk(e.databaseId,t.path)}function dS(e,t){const r=lB(t);if(r.get(1)!==e.databaseId.projectId)throw new Vt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Vt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new rr(uB(r))}function cB(e,t){return Nk(e.databaseId,t)}function bre(e){const t=lB(e);return t.length===4?Ln.emptyPath():uB(t)}function K4(e){return new Ln(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uB(e){return Zr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function sI(e,t,r){return{name:G4(e,t),fields:r.value.mapValue.fields}}function wre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:cr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Zr(u===void 0||typeof u=="string",58123),vi.fromBase64String(u||"")):(Zr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),vi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?ft.UNKNOWN:aB(c.code);return new Vt(u,c.message||"")}(s);r=new sB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=dS(e,n.document.name),i=Vl(n.document.updateTime),s=n.document.createTime?Vl(n.document.createTime):vr.min(),o=new _s({mapValue:{fields:n.document.fields}}),l=Di.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new n2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=dS(e,n.document),i=n.readTime?Vl(n.readTime):vr.min(),s=Di.newNoDocument(a,i),o=n.removedTargetIds||[];r=new n2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=dS(e,n.document),i=n.removedTargetIds||[];r=new n2([],i,a,null)}else{if(!("filter"in t))return cr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new fre(a,i),o=n.targetId;r=new iB(o,s)}}return r}function _re(e,t){let r;if(t instanceof M1)r={update:sI(e,t.key,t.value)};else if(t instanceof n5)r={delete:G4(e,t.key)};else if(t instanceof qf)r={update:sI(e,t.key,t.data),updateMask:Ore(t.fieldMask)};else{if(!(t instanceof ore))return cr(16599,{ft:t.type});r={verify:G4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof kv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Nv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Cv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Z2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw cr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:xre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:cr(27497)}(e,t.precondition)),r}function Sre(e,t){return e&&e.length>0?(Zr(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Vl(a.updateTime):Vl(i);return s.isEqual(vr.min())&&(s=Vl(i)),new are(s,a.transformResults||[])}(r,t))):[]}function Are(e,t){return{documents:[cB(e,t.path)]}}function fB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=cB(e,a);const i=function(c){if(c.length!==0)return hB(ml.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Gu(h.field),direction:Nre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=W4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Tre(e,t,r,n){const{gt:a,parent:i}=fB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Gu(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Gu(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Ere(e){let t=bre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Zr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=dB(f);return h instanceof ml&&B9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new Ev(t0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Xw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Q2(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Q2(p,h)}(r.endAt)),qte(t,a,s,i,o,"F",l,c)}function kre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function dB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=t0(r.unaryFilter.field);return Ea.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=t0(r.unaryFilter.field);return Ea.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=t0(r.unaryFilter.field);return Ea.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=t0(r.unaryFilter.field);return Ea.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return cr(61313);default:return cr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Ea.create(t0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return cr(58110);default:return cr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ml.create(r.compositeFilter.filters.map(n=>dB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return cr(1026)}}(r.compositeFilter.op))}(e):cr(30097,{filter:e})}function Nre(e){return mre[e]}function Cre(e){return gre[e]}function Pre(e){return vre[e]}function Gu(e){return{fieldPath:e.canonicalString()}}function t0(e){return fi.fromServerFormat(e.fieldPath)}function hB(e){return e instanceof Ea?function(r){if(r.op==="=="){if(GO(r.value))return{unaryFilter:{field:Gu(r.field),op:"IS_NAN"}};if(HO(r.value))return{unaryFilter:{field:Gu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(GO(r.value))return{unaryFilter:{field:Gu(r.field),op:"IS_NOT_NAN"}};if(HO(r.value))return{unaryFilter:{field:Gu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(r.field),op:Cre(r.op),value:r.value}}}(e):e instanceof ml?function(r){const n=r.getFilters().map(a=>hB(a));return n.length===1?n[0]:{compositeFilter:{op:Pre(r.op),filters:n}}}(e):cr(54877,{filter:e})}function Ore(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function pB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,r,n,a,i=vr.min(),s=vr.min(),o=vi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ef(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(t){this.wt=t}}function jre(e){const t=Ere({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?J2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(){this.yn=new Lre}addToCollectionParentIndex(t,r){return this.yn.add(r),gt.resolve()}getCollectionParents(t,r){return gt.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return gt.resolve()}deleteFieldIndex(t,r){return gt.resolve()}deleteAllFieldIndexes(t){return gt.resolve()}createTargetIndexes(t,r){return gt.resolve()}getDocumentsMatchingTarget(t,r){return gt.resolve(null)}getIndexType(t,r){return gt.resolve(0)}getFieldIndexes(t,r){return gt.resolve([])}getNextCollectionGroupToUpdate(t){return gt.resolve(null)}getMinOffset(t,r){return gt.resolve(Cf.min())}getMinOffsetFromCollectionGroup(t,r){return gt.resolve(Cf.min())}updateCollectionGroup(t,r,n){return gt.resolve()}updateIndexEntries(t,r){return gt.resolve()}}class Lre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Fa(Ln.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Fa(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mB=41943040;class ys{static withCacheSize(t){return new ys(t,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(mB,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new sp(0)}static ir(){return new sp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="LruGarbageCollector",Mre=1048576;function cI([e,t],[r,n]){const a=Cr(e,r);return a===0?Cr(t,n):a}class Rre{constructor(t){this.cr=t,this.buffer=new Fa(cI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();cI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Wt(lI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qp(r)?Wt(lI,"Ignoring IndexedDB error during garbage collection: ",r):await zp(r)}await this.Ir(3e5)})}}class $re{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return gt.resolve(Yw.le);const n=new Rre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(oI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Zh()<=Br.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Bre(e,t){return new $re(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(){this.changes=new fh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Di.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?gt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Ng(n.mutation,a,Hs.empty(),tr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Lr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Lr()){const a=Cd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=ig();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Cd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Lr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=qc();const s=kg(),o=function(){return kg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof qf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ng(u.mutation,c,u.mutation.getFieldMask(),tr.now())):s.set(c.key,Hs.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Vre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=kg();let a=new Xn((s,o)=>s-o),i=Lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Hs.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Lr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=X9();u.forEach(h=>{if(!i.has(h)){const p=rB(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return gt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return rr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):q9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):gt.resolve(Cd());let o=_v,l=i;return s.next(c=>gt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?gt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Lr())).next(u=>({batchId:o,changes:Y9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new rr(r)).next(n=>{let a=ig();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=ig();return this.indexManager.getCollectionParents(t,i).next(o=>gt.forEach(o,l=>{const c=function(f,h){return new Wp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Di.newInvalidDocument(u)))});let o=ig();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ng(u.mutation,c,Hs.empty(),tr.now()),e5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return gt.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Vl(a.createTime)}}(r)),gt.resolve()}getNamedQuery(t,r){return gt.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:jre(a.bundledQuery),readTime:Vl(a.readTime)}}(r)),gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(){this.overlays=new Xn(rr.comparator),this.Or=new Map}getOverlay(t,r){return gt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Cd();return gt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),gt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),gt.resolve()}getOverlaysForCollection(t,r,n){const a=Cd(),i=r.length+1,s=new rr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return gt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Xn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Cd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Cd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return gt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new cre(r,n));let i=this.Or.get(r);i===void 0&&(i=Lr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(t){return gt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Nr=new Fa(qa.Br),this.Lr=new Fa(qa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new qa(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new qa(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new rr(new Ln([])),n=new qa(r,t),a=new qa(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new rr(new Ln([])),n=new qa(r,t),a=new qa(r,t+1);let i=Lr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new qa(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class qa{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return rr.comparator(t.key,r.key)||Cr(t.Gr,r.Gr)}static kr(t,r){return Cr(t.Gr,r.Gr)||rr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Fa(qa.Br)}checkEmpty(t){return gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new lre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new qa(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return gt.resolve(s)}lookupMutationBatch(t,r){return gt.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return gt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(this.mutationQueue.length===0?bk:this.Jn-1)}getAllMutationBatches(t){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new qa(r,0),a=new qa(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),gt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Fa(Cr);return r.forEach(a=>{const i=new qa(a,0),s=new qa(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),gt.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;rr.isDocumentKey(i)||(i=i.child(""));const s=new qa(new rr(i),0);let o=new Fa(Cr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),gt.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Zr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return gt.forEach(r.mutations,a=>{const i=new qa(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new qa(r,0),a=this.zr.firstAfterOrEqual(n);return gt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,gt.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(t){this.Zr=t,this.docs=function(){return new Xn(rr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return gt.resolve(n?n.document.mutableCopy():Di.newInvalidDocument(r))}getEntries(t,r){let n=qc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Di.newInvalidDocument(a))}),gt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=qc();const s=r.path,o=new rr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||_te(wte(u),n)<=0||(a.has(u.key)||e5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return gt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){cr(9500)}Xr(t,r){return gt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Yre(this)}getSize(t){return gt.resolve(this.size)}}class Yre extends Ure{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),gt.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(t){this.persistence=t,this.ei=new fh(r=>Sk(r),Ak),this.lastRemoteSnapshotVersion=vr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ck,this.targetCount=0,this.ri=sp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),gt.resolve()}getLastRemoteSnapshotVersion(t){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return gt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),gt.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new sp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,gt.resolve()}updateTargetData(t,r){return this.ar(r),gt.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,gt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),gt.waitFor(i).next(()=>a)}getTargetCount(t){return gt.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return gt.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),gt.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),gt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),gt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return gt.resolve(n)}containsKey(t,r){return gt.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(t,r){this.ii={},this.overlays={},this.si=new Yw(0),this.oi=!1,this.oi=!0,this._i=new Hre,this.referenceDelegate=t(this),this.ai=new Xre(this),this.indexManager=new Dre,this.remoteDocumentCache=function(a){return new Kre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Ire(r),this.ci=new qre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Wre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Gre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Wt("MemoryPersistence","Starting transaction:",t);const a=new Qre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return gt.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class Qre extends Ate{constructor(t){super(),this.currentSequenceNumber=t}}class Pk{constructor(t){this.persistence=t,this.Ti=new Ck,this.Ii=null}static Ei(t){return new Pk(t)}get di(){if(this.Ii)return this.Ii;throw cr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),gt.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),gt.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),gt.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.di,n=>{const a=rr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,vr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return gt.or([()=>gt.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class tb{constructor(t,r){this.persistence=t,this.Ri=new fh(n=>kte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Bre(this,r)}static Ei(t,r){return new tb(t,r)}li(){}hi(t){return gt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return gt.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?gt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,vr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),gt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),gt.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),gt.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),gt.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=e2(t.data.value)),r}gr(t,r,n){return gt.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return gt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Lr(),a=Lr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Ok(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return WZ()?8:Tte(zZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Jre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Zh()<=Br.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",e0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),gt.resolve()):(Zh()<=Br.DEBUG&&Wt("QueryEngine","Query:",e0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Zh()<=Br.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",e0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ul(r))):gt.resolve())}Rs(t,r){if(QO(r))return gt.resolve(null);let n=Ul(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=J2(r,null,"F"),n=Ul(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Lr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,J2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return QO(r)||a.isEqual(vr.min())?gt.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?gt.resolve(null):(Zh()<=Br.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),e0(r)),this.ws(t,s,r,bte(a,_v)).next(o=>o))})}ps(t,r){let n=new Fa(G9(t));return r.forEach((a,i)=>{e5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Zh()<=Br.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",e0(r)),this.As.getDocumentsMatchingQuery(t,r,Cf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="LocalStore",ene=3e8;class tne{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new Xn(Cr),this.Ds=new fh(i=>Sk(i),Ak),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function rne(e,t,r,n){return new tne(e,t,r,n)}async function vB(e,t){const r=gr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Lr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function nne(e,t){const r=gr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=gt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Zr(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Lr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function yB(e){const t=gr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function ane(e,t){const r=gr(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(vi.EMPTY_BYTE_STRING,vr.min()).withLastLimboFreeSnapshotVersion(vr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=ene?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=qc(),c=Lr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(ine(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(vr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return gt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function ine(e,t,r){let n=Lr(),a=Lr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=qc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(vr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Wt(Ik,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function sne(e,t){const r=gr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=bk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function one(e,t){const r=gr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,gt.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new ef(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function Y4(e,t,r){const n=gr(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!qp(s))throw s;Wt(Ik,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function uI(e,t,r){const n=gr(e);let a=vr.min(),i=Lr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=gr(l),h=f.Ds.get(u);return h!==void 0?gt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Ul(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:vr.min(),r?i:Lr())).next(o=>(lne(n,Hte(t),o),{documents:o,Ns:i})))}function lne(e,t,r){let n=e.vs.get(t)||vr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class fI{constructor(){this.activeTargetIds=Jte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cne{constructor(){this.So=new fI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new fI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="ConnectivityMonitor";class hI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Wt(dI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Wt(dI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax=null;function X4(){return ax===null?ax=function(){return 268435456+Math.round(2147483648*Math.random())}():ax++,"0x"+ax.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="RestConnection",fne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===Y2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=X4(),o=this.$o(t,r.toUriEncodedString());Wt(hS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=vk(c);return this.Ko(t,o,l,n,u).then(f=>(Wt(hS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw rp(hS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=fne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class pne extends dne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=X4();return new Promise((o,l)=>{const c=new y9;c.setWithCredentials(!0),c.listenOnce(x9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zx.NO_ERROR:const f=c.getResponseJson();Wt(_i,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Zx.TIMEOUT:Wt(_i,`RPC '${t}' ${s} timed out`),l(new Vt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const h=c.getStatus();if(Wt(_i,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(b)>=0?b:ft.UNKNOWN}(g.status);l(new Vt(m,g.message))}else l(new Vt(ft.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Vt(ft.UNAVAILABLE,"Connection failed."));break;default:cr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Wt(_i,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Wt(_i,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=X4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=_9(),o=w9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Wt(_i,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new hne({Go:v=>{p?Wt(_i,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Wt(_i,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Wt(_i,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,b)=>{v.listen(y,w=>{try{b(w)}catch(O){setTimeout(()=>{throw O},0)}})};return m(f,ag.EventType.OPEN,()=>{p||(Wt(_i,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,ag.EventType.CLOSE,()=>{p||(p=!0,Wt(_i,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,ag.EventType.ERROR,v=>{p||(p=!0,rp(_i,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Vt(ft.UNAVAILABLE,"The operation could not be completed")))}),m(f,ag.EventType.MESSAGE,v=>{var y;if(!p){const b=v.data[0];Zr(!!b,16349);const w=b,O=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(O){Wt(_i,`RPC '${t}' stream ${a} received error:`,O);const C=O.status;let I=function(A){const j=wa[A];if(j!==void 0)return aB(j)}(C),T=O.message;I===void 0&&(I=ft.INTERNAL,T="Unknown error status: "+C+" with message "+O.message),p=!0,g.r_(new Vt(I,T)),f.close()}else Wt(_i,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,b9.STAT_EVENT,v=>{v.stat===F4.PROXY?Wt(_i,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===F4.NOPROXY&&Wt(_i,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function pS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){return new yre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Wt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="PersistentStream";class bB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===ft.RESOURCE_EXHAUSTED?(zc(r.toString()),zc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Vt(ft.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Wt(pI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Wt(pI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mne extends bB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=wre(this.serializer,t),n=function(i){if(!("targetChange"in i))return vr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?vr.min():s.readTime?Vl(s.readTime):vr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=K4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=z4(l)?{documents:Are(i,l)}:{query:fB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=oB(i,s.resumeToken);const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(vr.min())>0){o.readTime=eb(i,s.snapshotVersion.toTimestamp());const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=kre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=K4(this.serializer),r.removeTarget=t,this.F_(r)}}class gne extends bB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Zr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zr(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Zr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Sre(t.writeResults,t.commitTime),n=Vl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=K4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>_re(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{}class yne extends vne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Vt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,H4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Vt(ft.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,H4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Vt(ft.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class xne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zc(r),this.ea=!1):Wt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RemoteStore";class bne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{dh(this)&&(Wt(Zd,"Restarting streams for network reachability change."),await async function(l){const c=gr(l);c.aa.add(4),await F1(c),c.la.set("Unknown"),c.aa.delete(4),await s5(c)}(this))})}),this.la=new xne(n,a)}}async function s5(e){if(dh(e))for(const t of e.ua)await t(!0)}async function F1(e){for(const t of e.ua)await t(!1)}function wB(e,t){const r=gr(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Mk(r)?Lk(r):Hp(r).b_()&&Dk(r,t))}function jk(e,t){const r=gr(e),n=Hp(r);r._a.delete(t),n.b_()&&_B(r,t),r._a.size===0&&(n.b_()?n.v_():dh(r)&&r.la.set("Unknown"))}function Dk(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Hp(e).U_(t)}function _B(e,t){e.ha.Ke(t),Hp(e).K_(t)}function Lk(e){e.ha=new pre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Hp(e).start(),e.la.ta()}function Mk(e){return dh(e)&&!Hp(e).w_()&&e._a.size>0}function dh(e){return gr(e).aa.size===0}function SB(e){e.ha=void 0}async function wne(e){e.la.set("Online")}async function _ne(e){e._a.forEach((t,r)=>{Dk(e,t)})}async function Sne(e,t){SB(e),Mk(e)?(e.la.ia(t),Lk(e)):e.la.set("Unknown")}async function Ane(e,t,r){if(e.la.set("Online"),t instanceof sB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Wt(Zd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rb(e,n)}else if(t instanceof n2?e.ha.Xe(t):t instanceof iB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(vr.min()))try{const n=await yB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(vi.EMPTY_BYTE_STRING,u.snapshotVersion)),_B(i,l);const f=new ef(u.target,l,c,u.sequenceNumber);Dk(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Wt(Zd,"Failed to raise snapshot:",n),await rb(e,n)}}async function rb(e,t,r){if(!qp(t))throw t;e.aa.add(1),await F1(e),e.la.set("Offline"),r||(r=()=>yB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Wt(Zd,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await s5(e)})}function AB(e,t){return t().catch(r=>rb(e,r,t))}async function o5(e){const t=gr(e),r=jf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:bk;for(;Tne(t);)try{const a=await sne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Ene(t,a)}catch(a){await rb(t,a)}TB(t)&&EB(t)}function Tne(e){return dh(e)&&e.oa.length<10}function Ene(e,t){e.oa.push(t);const r=jf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function TB(e){return dh(e)&&!jf(e).w_()&&e.oa.length>0}function EB(e){jf(e).start()}async function kne(e){jf(e).H_()}async function Nne(e){const t=jf(e);for(const r of e.oa)t.G_(r.mutations)}async function Cne(e,t,r){const n=e.oa.shift(),a=Ek.from(n,t,r);await AB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await o5(e)}async function Pne(e,t){t&&jf(e).W_&&await async function(n,a){if(function(s){return dre(s)&&s!==ft.ABORTED}(a.code)){const i=n.oa.shift();jf(n).D_(),await AB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await o5(n)}}(e,t),TB(e)&&EB(e)}async function mI(e,t){const r=gr(e);r.asyncQueue.verifyOperationInProgress(),Wt(Zd,"RemoteStore received new credentials");const n=dh(r);r.aa.add(3),await F1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await s5(r)}async function One(e,t){const r=gr(e);t?(r.aa.delete(2),await s5(r)):t||(r.aa.add(2),await F1(r),r.la.set("Unknown"))}function Hp(e){return e.Pa||(e.Pa=function(r,n,a){const i=gr(r);return i.Y_(),new mne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:wne.bind(null,e),Jo:_ne.bind(null,e),Zo:Sne.bind(null,e),Q_:Ane.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Mk(e)?Lk(e):e.la.set("Unknown")):(await e.Pa.stop(),SB(e))})),e.Pa}function jf(e){return e.Ta||(e.Ta=function(r,n,a){const i=gr(r);return i.Y_(),new gne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:kne.bind(null,e),Zo:Pne.bind(null,e),z_:Nne.bind(null,e),j_:Cne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await o5(e)):(await e.Ta.stop(),e.oa.length>0&&(Wt(Zd,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new Rk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fk(e,t){if(zc("AsyncQueue",`${t}: ${e}`),qp(e))return new Vt(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static emptySet(t){return new D0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||rr.comparator(r.key,n.key):(r,n)=>rr.comparator(r.key,n.key),this.keyedMap=ig(),this.sortedSet=new Xn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof D0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new D0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Ia=new Xn(rr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):cr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class op{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new op(t,r,D0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class jne{constructor(){this.queries=vI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=gr(r),i=a.queries;a.queries=vI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Vt(ft.ABORTED,"Firestore shutting down"))}}function vI(){return new fh(e=>H9(e),Zw)}async function $k(e,t){const r=gr(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Ine,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Fk(s,`Initialization of query '${e0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Uk(r)}async function Bk(e,t){const r=gr(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Dne(e,t){const r=gr(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Uk(r)}function Lne(e,t,r){const n=gr(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Uk(e){e.fa.forEach(t=>{t.next()})}var Q4,yI;(yI=Q4||(Q4={})).ya="default",yI.Cache="cache";class Vk{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new op(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=op.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Q4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.key=t}}class NB{constructor(t){this.key=t}}class Mne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lr(),this.mutatedKeys=Lr(),this.Ua=G9(t),this.Ka=new D0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new gI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=e5(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cr(20277,{Vt:v})}};return m(p)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new op(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new gI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new NB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new kB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Lr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return op.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const zk="SyncEngine";class Rne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Fne{constructor(t){this.key=t,this.tu=!1}}class $ne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new fh(o=>H9(o),Zw),this.iu=new Map,this.su=new Set,this.ou=new Xn(rr.comparator),this._u=new Map,this.au=new Ck,this.uu={},this.cu=new Map,this.lu=sp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Bne(e,t,r=!0){const n=DB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await CB(n,t,r,!0),a}async function Une(e,t){const r=DB(e);await CB(r,t,!0,!1)}async function CB(e,t,r,n){const a=await one(e.localStore,Ul(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Vne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&wB(e.remoteStore,a),o}async function Vne(e,t,r,n,a){e.Pu=(f,h,p)=>async function(m,v,y,b){let w=v.view.Ga(y);w.ys&&(w=await uI(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,w)));const O=b&&b.targetChanges.get(v.targetId),C=b&&b.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(w,m.isPrimaryClient,O,C);return bI(m,v.targetId,I.Ya),I.snapshot}(e,f,h,p);const i=await uI(e.localStore,t,!0),s=new Mne(t,i.Ns),o=s.Ga(i.documents),l=R1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);bI(e,r,c.Ya);const u=new Rne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function zne(e,t,r){const n=gr(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Zw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Y4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&jk(n.remoteStore,a.targetId),J4(n,a.targetId)}).catch(zp)):(J4(n,a.targetId),await Y4(n.localStore,a.targetId,!0))}async function qne(e,t){const r=gr(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),jk(r.remoteStore,n.targetId))}async function Wne(e,t,r){const n=Jne(e);try{const a=await function(s,o){const l=gr(s),c=tr.now(),u=o.reduce((p,g)=>p.add(g.key),Lr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=qc(),m=Lr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const b of o){const w=sre(b,f.get(b.key).overlayedDocument);w!=null&&y.push(new qf(b.key,w,R9(w.value.mapValue),ss.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Y9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new Xn(Cr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await $1(n,a.changes),await o5(n.remoteStore)}catch(a){const i=Fk(a,"Failed to persist write");r.reject(i)}}async function PB(e,t){const r=gr(e);try{const n=await ane(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Zr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Zr(s.tu,14607):a.removedDocuments.size>0&&(Zr(s.tu,42227),s.tu=!1))}),await $1(r,n,t)}catch(n){await zp(n)}}function xI(e,t,r){const n=gr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=gr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Uk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Hne(e,t,r){const n=gr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new Xn(rr.comparator);s=s.insert(i,Di.newNoDocument(i,vr.min()));const o=Lr().add(i),l=new a5(vr.min(),new Map,new Xn(Cr),s,o);await PB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),qk(n)}else await Y4(n.localStore,t,!1).then(()=>J4(n,t,r)).catch(zp)}async function Gne(e,t){const r=gr(e),n=t.batch.batchId;try{const a=await nne(r.localStore,t);IB(r,n,null),OB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await $1(r,a)}catch(a){await zp(a)}}async function Kne(e,t,r){const n=gr(e);try{const a=await function(s,o){const l=gr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Zr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);IB(n,t,r),OB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await $1(n,a)}catch(a){await zp(a)}}function OB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function IB(e,t,r){const n=gr(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function J4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||jB(e,n)})}function jB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(jk(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),qk(e))}function bI(e,t,r){for(const n of r)n instanceof kB?(e.au.addReference(n.key,t),Yne(e,n)):n instanceof NB?(Wt(zk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||jB(e,n.key)):cr(19791,{Iu:n})}function Yne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Wt(zk,"New document in limbo: "+r),e.su.add(n),qk(e))}function qk(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new rr(Ln.fromString(t)),n=e.lu.next();e._u.set(n,new Fne(r)),e.ou=e.ou.insert(r,n),wB(e.remoteStore,new ef(Ul(Jw(r.path)),n,"TargetPurposeLimboResolution",Yw.le))}}async function $1(e,t,r){const n=gr(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=Ok.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=gr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>gt.forEach(c,h=>gt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>gt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!qp(f))throw f;Wt(Ik,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function Xne(e,t){const r=gr(e);if(!r.currentUser.isEqual(t)){Wt(zk,"User change. New user:",t.toKey());const n=await vB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Vt(ft.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await $1(r,n.Ms)}}function Qne(e,t){const r=gr(e),n=r._u.get(t);if(n&&n.tu)return Lr().add(n.key);{let a=Lr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function DB(e){const t=gr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hne.bind(null,t),t.nu.Q_=Dne.bind(null,t.eventManager),t.nu.Tu=Lne.bind(null,t.eventManager),t}function Jne(e){const t=gr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kne.bind(null,t),t}class nb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=i5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return rne(this.persistence,new Zre,t.initialUser,this.serializer)}Ru(t){return new gB(Pk.Ei,this.serializer)}Au(t){return new cne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nb.provider={build:()=>new nb};class Zne extends nb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Zr(this.persistence.referenceDelegate instanceof tb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new gB(n=>tb.Ei(n,r),this.serializer)}}class Z4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xne.bind(null,this.syncEngine),await One(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jne}()}createDatastore(t){const r=i5(t.databaseInfo.databaseId),n=function(i){return new pne(i)}(t.databaseInfo);return function(i,s,o,l){return new yne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new bne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>xI(this.syncEngine,r,0),function(){return hI.C()?new hI:new une}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new $ne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=gr(a);Wt(Zd,"RemoteStore shutting down."),i.aa.add(5),await F1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Z4.provider={build:()=>new Z4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):zc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="FirestoreClient";class eae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Pi.UNAUTHENTICATED,this.clientId=E9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Wt(Df,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Wt(Df,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Fk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mS(e,t){e.asyncQueue.verifyOperationInProgress(),Wt(Df,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await vB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await tae(e);Wt(Df,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>mI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>mI(t.remoteStore,a)),e._onlineComponents=t}async function tae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wt(Df,"Using user provided OfflineComponentProvider");try{await mS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===ft.FAILED_PRECONDITION||a.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;rp("Error using user provided cache. Falling back to memory cache: "+r),await mS(e,new nb)}}else Wt(Df,"Using default OfflineComponentProvider"),await mS(e,new Zne(void 0));return e._offlineComponents}async function Hk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wt(Df,"Using user provided OnlineComponentProvider"),await wI(e,e._uninitializedComponentsProvider._online)):(Wt(Df,"Using default OnlineComponentProvider"),await wI(e,new Z4))),e._onlineComponents}function rae(e){return Hk(e).then(t=>t.syncEngine)}function nae(e){return Hk(e).then(t=>t.datastore)}async function ab(e){const t=await Hk(e),r=t.eventManager;return r.onListen=Bne.bind(null,t.syncEngine),r.onUnlisten=zne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Une.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=qne.bind(null,t.syncEngine),r}function aae(e,t,r={}){const n=new Bl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new Wk({next:h=>{u.yu(),s.enqueueAndForget(()=>Bk(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Vt(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Vt(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Vk(Jw(o.path),u,{includeMetadataChanges:!0,Fa:!0});return $k(i,f)}(await ab(e),e.asyncQueue,t,r,n)),n.promise}function iae(e,t,r={}){const n=new Bl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new Wk({next:h=>{u.yu(),s.enqueueAndForget(()=>Bk(i,f)),h.fromCache&&l.source==="server"?c.reject(new Vt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Vk(o,u,{includeMetadataChanges:!0,Fa:!0});return $k(i,f)}(await ab(e),e.asyncQueue,t,r,n)),n.promise}function sae(e,t,r){const n=new Bl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await nae(e);n.resolve(async function(s,o,l){var c;const u=gr(s),{request:f,yt:h,parent:p}=Tre(u.serializer,Wte(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,f,1)).filter(v=>!!v.result);Zr(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(e,t,r){if(!r)throw new Vt(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oae(e,t,r,n){if(t===!0&&n===!0)throw new Vt(ft.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function SI(e){if(!rr.isDocumentKey(e))throw new Vt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function AI(e){if(rr.isDocumentKey(e))throw new Vt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function l5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":cr(12329,{type:typeof e})}function Bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=l5(e);throw new Vt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function lae(e,t){if(t<=0)throw new Vt(ft.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="firestore.googleapis.com",TI=!0;class EI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Vt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RB,this.ssl=TI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:TI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Mre)throw new Vt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class c5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Vt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fte;switch(n.type){case"firstParty":return new mte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Vt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,c9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=_I.get(r);n&&(Wt("ComponentProvider","Removing Datastore"),_I.delete(r),n.terminate())}(this),Promise.resolve()}}function cae(e,t,r,n={}){var a;e=Bi(e,c5);const i=vk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==RB&&s.host!==l&&rp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!W2(c,o)&&(e._setSettings(c),i&&($Z(`https://${l}`),c9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Pi.MOCK_USER;else{u=BZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Vt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pi(h)}e._authCredentials=new dte(new A9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new nu(this.firestore,t,this._query)}}class Ui{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ui(this.firestore,t,this._key)}}class xf extends nu{constructor(t,r,n){super(t,r,Jw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ui(this.firestore,null,new rr(t))}withConverter(t){return new xf(this.firestore,t,this._path)}}function kt(e,t,...r){if(e=ko(e),MB("collection","path",t),e instanceof c5){const n=Ln.fromString(t,...r);return AI(n),new xf(e,null,n)}{if(!(e instanceof Ui||e instanceof xf))throw new Vt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ln.fromString(t,...r));return AI(n),new xf(e.firestore,null,n)}}function Pr(e,t,...r){if(e=ko(e),arguments.length===1&&(t=E9.newId()),MB("doc","path",t),e instanceof c5){const n=Ln.fromString(t,...r);return SI(n),new Ui(e,null,new rr(n))}{if(!(e instanceof Ui||e instanceof xf))throw new Vt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ln.fromString(t,...r));return SI(n),new Ui(e.firestore,e instanceof xf?e.converter:null,new rr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="AsyncQueue";class NI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xB(this,"async_queue_retry"),this.ju=()=>{const n=pS();n&&Wt(kI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=pS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=pS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Bl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!qp(t))throw t;Wt(kI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,zc("INTERNAL UNHANDLED ERROR: ",CI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=Rk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&cr(47125,{ec:CI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function CI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class gl extends c5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new NI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NI(t),this._firestoreClient=void 0,await t}}}function uae(e,t){const r=typeof e=="object"?e:Jee(),n=typeof e=="string"?e:Y2,a=Gee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=RZ("firestore");i&&cae(a,...i)}return a}function Gp(e){if(e._terminated)throw new Vt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fae(e),e._firestoreClient}function fae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Ote(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new eae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class hae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lp(vi.fromBase64String(t))}catch(r){throw new Vt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new lp(vi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Vt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Vt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Vt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Cr(this._lat,t._lat)||Cr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pae=/^__.*__$/;class mae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new qf(t,this.data,this.fieldMask,r,this.fieldTransforms):new M1(t,this.data,r,this.fieldTransforms)}}class FB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new qf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function $B(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cr(40011,{oc:e})}}class Yk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Yk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return ib(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if($B(this.oc)&&pae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class gae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||i5(t)}dc(t,r,n,a=!1){return new Yk({oc:t,methodName:r,Ec:n,path:fi.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U1(e){const t=e._freezeSettings(),r=i5(e._databaseId);return new gae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Xk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);Jk("Data must be an object, but it was:",s,n);const o=VB(n,s);let l,c;if(i.merge)l=new Hs(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=eT(t,f,r);if(!s.contains(h))throw new Vt(ft.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qB(u,h)||u.push(h)}l=new Hs(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new mae(new _s(o),l,c)}class V1 extends u5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof V1}}class Qk extends u5{_toFieldTransform(t){return new rre(t.path,new kv)}isEqual(t){return t instanceof Qk}}function BB(e,t,r,n){const a=e.dc(1,t,r);Jk("Data must be an object, but it was:",a,n);const i=[],s=_s.empty();zf(n,(l,c)=>{const u=Zk(t,l,r);c=ko(c);const f=a.hc(u);if(c instanceof V1)i.push(u);else{const h=z1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Hs(i);return new FB(s,o,a.fieldTransforms)}function UB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[eT(t,n,r)],l=[a];if(i.length%2!=0)throw new Vt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(eT(t,i[h])),l.push(i[h+1]);const c=[],u=_s.empty();for(let h=o.length-1;h>=0;--h)if(!qB(c,o[h])){const p=o[h];let g=l[h];g=ko(g);const m=s.hc(p);if(g instanceof V1)c.push(p);else{const v=z1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const f=new Hs(c);return new FB(u,f,s.fieldTransforms)}function vae(e,t,r,n=!1){return z1(r,e.dc(n?4:3,t))}function z1(e,t){if(zB(e=ko(e)))return Jk("Unsupported field value:",t,e),VB(e,t);if(e instanceof u5)return function(n,a){if(!$B(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=z1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ko(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Zte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=tr.fromDate(n);return{timestampValue:eb(a.serializer,i)}}if(n instanceof tr){const i=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eb(a.serializer,i)}}if(n instanceof Gk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lp)return{bytesValue:oB(a.serializer,n._byteString)};if(n instanceof Ui){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Kk)return function(s,o){return{mapValue:{fields:{[D9]:{stringValue:M9},[X2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return Tk(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${l5(n)}`)}(e,t)}function VB(e,t){const r={};return N9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zf(e,(n,a)=>{const i=z1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function zB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof tr||e instanceof Gk||e instanceof lp||e instanceof Ui||e instanceof u5||e instanceof Kk)}function Jk(e,t,r){if(!zB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=l5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function eT(e,t,r){if((t=ko(t))instanceof B1)return t._internalPath;if(typeof t=="string")return Zk(e,t);throw ib("Field path arguments must be of type string or ",e,!1,void 0,r)}const yae=new RegExp("[~\\*/\\[\\]]");function Zk(e,t,r){if(t.search(yae)>=0)throw ib(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new B1(...t.split("."))._internalPath}catch{throw ib(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function ib(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Vt(ft.INVALID_ARGUMENT,o+e+l)}function qB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(f5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class xae extends WB{data(){return super.data()}}function f5(e,t){return typeof t=="string"?Zk(e,t):t instanceof B1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Vt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eN{}class tN extends eN{}function er(e,t,...r){let n=[];t instanceof eN&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof rN).length,o=i.filter(l=>l instanceof d5).length;if(s>1||s>0&&o>0)throw new Vt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class d5 extends tN{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new d5(t,r,n)}_apply(t){const r=this._parse(t);return GB(t._query,r),new nu(t.firestore,t.converter,q4(t._query,r))}_parse(t){const r=U1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Vt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){II(f,u);const g=[];for(const m of f)g.push(OI(l,i,m));h={arrayValue:{values:g}}}else h=OI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||II(f,u),h=vae(o,s,f,u==="in"||u==="not-in");return Ea.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Jt(e,t,r){const n=t,a=f5("where",e);return d5._create(a,n,r)}class rN extends eN{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new rN(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ml.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)GB(s,l),s=q4(s,l)}(t._query,r),new nu(t.firestore,t.converter,q4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nN extends tN{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new nN(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Vt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Vt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ev(i,s)}(t._query,this._field,this._direction);return new nu(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Wp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function La(e,t="asc"){const r=t,n=f5("orderBy",e);return nN._create(n,r)}class aN extends tN{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new aN(t,r,n)}_apply(t){return new nu(t.firestore,t.converter,J2(t._query,this._limit,this._limitType))}}function og(e){return lae("limit",e),aN._create("limit",e,"F")}function OI(e,t,r){if(typeof(r=ko(r))=="string"){if(r==="")throw new Vt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q9(t)&&r.indexOf("/")!==-1)throw new Vt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Ln.fromString(r));if(!rr.isDocumentKey(n))throw new Vt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return WO(e,new rr(n))}if(r instanceof Ui)return WO(e,r._key);throw new Vt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l5(r)}.`)}function II(e,t){if(!Array.isArray(e)||e.length===0)throw new Vt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Vt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Vt(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class bae{convertValue(t,r="none"){switch(If(t)){case 0:return null;case 1:return t.booleanValue;case 2:return da(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Of(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw cr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return zf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[X2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>da(s.doubleValue));return new Kk(i)}convertGeoPoint(t){return new Gk(da(t.latitude),da(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Qw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Sv(t));default:return null}}convertTimestamp(t){const r=Pf(t);return new tr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Ln.fromString(t);Zr(pB(n),9688,{name:t});const a=new Av(n.get(1),n.get(3)),i=new rr(n.popFirst(5));return a.isEqual(r)||zc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function wae(){return new dae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class KB extends WB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new a2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(f5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class a2 extends KB{data(t={}){return super.data(t)}}class YB{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new lg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new a2(this._firestore,this._userDataWriter,n.key,n,new lg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Vt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new a2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new lg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new a2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new lg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:_ae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _ae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(e){e=Bi(e,Ui);const t=Bi(e.firestore,gl);return aae(Gp(t),e._key).then(r=>XB(t,e,r))}class h5 extends bae{constructor(t){super(),this.firestore=t}convertBytes(t){return new lp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ui(this.firestore,null,r)}}function nr(e){e=Bi(e,nu);const t=Bi(e.firestore,gl),r=Gp(t),n=new h5(t);return HB(e._query),iae(r,e._query).then(a=>new YB(t,n,e,a))}function ix(e,t,r){e=Bi(e,Ui);const n=Bi(e.firestore,gl),a=iN(e.converter,t,r);return q1(n,[Xk(U1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,ss.none())])}function na(e,t,r,...n){e=Bi(e,Ui);const a=Bi(e.firestore,gl),i=U1(a);let s;return s=typeof(t=ko(t))=="string"||t instanceof B1?UB(i,"updateDoc",e._key,t,r,n):BB(i,"updateDoc",e._key,t),q1(a,[s.toMutation(e._key,ss.exists(!0))])}function Cc(e){return q1(Bi(e.firestore,gl),[new n5(e._key,ss.none())])}function kr(e,t){const r=Bi(e.firestore,gl),n=Pr(e),a=iN(e.converter,t);return q1(r,[Xk(U1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,ss.exists(!1))]).then(()=>n)}function Sae(e,...t){var r,n,a;e=ko(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||PI(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(PI(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let l,c,u;if(e instanceof Ui)c=Bi(e.firestore,gl),u=Jw(e._key.path),l={next:f=>{t[s]&&t[s](XB(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=Bi(e,nu);c=Bi(f.firestore,gl),u=f._query;const h=new h5(c);l={next:p=>{t[s]&&t[s](new YB(c,h,f,p))},error:t[s+1],complete:t[s+2]},HB(e._query)}return function(h,p,g,m){const v=new Wk(m),y=new Vk(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>$k(await ab(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>Bk(await ab(h),y))}}(Gp(c),u,o,l)}function q1(e,t){return function(n,a){const i=new Bl;return n.asyncQueue.enqueueAndForget(async()=>Wne(await rae(n),a,i)),i.promise}(Gp(e),t)}function XB(e,t,r){const n=r.docs.get(t._key),a=new h5(e);return new KB(e,a,t._key,n,new lg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(e){return Aae(e,{count:wae()})}function Aae(e,t){const r=Bi(e.firestore,gl),n=Gp(r),a=Cte(t,(i,s)=>new ure(s,i.aggregateType,i._internalFieldPath));return sae(n,e._query,a).then(i=>function(o,l,c){const u=new h5(o);return new hae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=U1(t)}set(t,r,n){this._verifyNotCommitted();const a=gS(t,this._firestore),i=iN(a.converter,r,n),s=Xk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,ss.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=gS(t,this._firestore);let s;return s=typeof(r=ko(r))=="string"||r instanceof B1?UB(this._dataReader,"WriteBatch.update",i._key,r,n,a):BB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,ss.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=gS(t,this._firestore);return this._mutations=this._mutations.concat(new n5(r._key,ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gS(e,t){if((e=ko(e)).firestore!==t)throw new Vt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return new V1("deleteField")}function bc(){return new Qk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eae(e){return Gp(e=Bi(e,gl)),new Tae(e,t=>q1(e,t))}(function(t,r=!0){(function(a){Vp=a})(Qee),G2(new bv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gl(new hte(n.getProvider("auth-internal")),new gte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Vt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Av(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),j0(jO,DO,t),j0(jO,DO,"esm2017")})();const kae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Nae=p9(kae),et=uae(Nae),QB=U.createContext(void 0),Na=()=>{const e=U.useContext(QB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Cae=({children:e})=>{const[t,r]=U.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=U.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await nr(kt(et,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const p={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await kr(kt(et,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),kr(kt(et,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return d.jsx(QB.Provider,{value:o,children:e})},JB=U.createContext(void 0),Pae=({children:e})=>{const[t,r]=U.useState(!0),n=()=>{r(!t)};return d.jsx(JB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},en=()=>{const e=U.useContext(JB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},oN=U.createContext({});function W1(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const lN=typeof window<"u",cN=lN?U.useLayoutEffect:U.useEffect,p5=U.createContext(null);function uN(e,t){e.indexOf(t)===-1&&e.push(t)}function m5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Wc=(e,t,r)=>r>t?t:r<e?e:r;let sb=()=>{};const Hc={},ZB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eU(e){return typeof e=="object"&&e!==null}const tU=e=>/^0[^.\s]+$/u.test(e);function fN(e){let t;return()=>(t===void 0&&(t=e()),t)}const _o=e=>e,Oae=(e,t)=>r=>t(e(r)),H1=(...e)=>e.reduce(Oae),cp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class dN{constructor(){this.subscriptions=[]}add(t){return uN(this.subscriptions,t),()=>m5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fl=e=>e*1e3,zl=e=>e/1e3;function rU(e,t){return t?e*(1e3/t):0}const Iae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},nU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,jae=1e-7,Dae=12;function Lae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=nU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>jae&&++o<Dae);return s}function G1(e,t,r,n){if(e===t&&r===n)return _o;const a=i=>Lae(i,0,1,e,r);return i=>i===0||i===1?i:nU(a(i),t,n)}const aU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iU=e=>t=>1-e(1-t),sU=G1(.33,1.53,.69,.99),hN=iU(sU),oU=aU(hN),lU=e=>(e*=2)<1?.5*hN(e):.5*(2-Math.pow(2,-10*(e-1))),pN=e=>1-Math.sin(Math.acos(e)),cU=iU(pN),uU=aU(pN),Mae=G1(.42,0,1,1),Rae=G1(0,0,.58,1),fU=G1(.42,0,.58,1),dU=e=>Array.isArray(e)&&typeof e[0]!="number";function hU(e,t){return dU(e)?e[Iae(0,e.length,t)]:e}const pU=e=>Array.isArray(e)&&typeof e[0]=="number",DI={linear:_o,easeIn:Mae,easeInOut:fU,easeOut:Rae,circIn:pN,circInOut:uU,circOut:cU,backIn:hN,backInOut:oU,backOut:sU,anticipate:lU},Fae=e=>typeof e=="string",LI=e=>{if(pU(e)){sb(e.length===4);const[t,r,n,a]=e;return G1(t,r,n,a)}else if(Fae(e))return sb(DI[e]!==void 0),DI[e];return e},sx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],MI={value:null,addProjectionMetrics:null};function $ae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&MI.value&&MI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Bae=40;function mU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=sx.reduce((w,O)=>(w[O]=$ae(i,t?O:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const w=Hc.useManualTiming?a.timestamp:performance.now();r=!1,Hc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Bae),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:sx.reduce((w,O)=>{const C=s[O];return w[O]=(I,T=!1,S=!1)=>(r||v(),C.schedule(I,T,S)),w},{}),cancel:w=>{for(let O=0;O<sx.length;O++)s[sx[O]].cancel(w)},state:a,steps:s}}const{schedule:qn,cancel:Gc,state:si,steps:vS}=mU(typeof requestAnimationFrame<"u"?requestAnimationFrame:_o,!0);let i2;function Uae(){i2=void 0}const As={now:()=>(i2===void 0&&As.set(si.isProcessing||Hc.useManualTiming?si.timestamp:performance.now()),i2),set:e=>{i2=e,queueMicrotask(Uae)}},gU=e=>t=>typeof t=="string"&&t.startsWith(e),mN=gU("--"),Vae=gU("var(--"),gN=e=>Vae(e)?zae.test(e.split("/*")[0].trim()):!1,zae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ov={...Kp,transform:e=>Wc(0,1,e)},ox={...Kp,default:1},Cg=e=>Math.round(e*1e5)/1e5,vN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qae(e){return e==null}const Wae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yN=(e,t)=>r=>!!(typeof r=="string"&&Wae.test(r)&&r.startsWith(e)||t&&!qae(r)&&Object.prototype.hasOwnProperty.call(r,t)),vU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(vN);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Hae=e=>Wc(0,255,e),yS={...Kp,transform:e=>Math.round(Hae(e))},Pd={test:yN("rgb","red"),parse:vU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yS.transform(e)+", "+yS.transform(t)+", "+yS.transform(r)+", "+Cg(Ov.transform(n))+")"};function Gae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const tT={test:yN("#"),parse:Gae,transform:Pd.transform},K1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bu=K1("deg"),ql=K1("%"),dr=K1("px"),Kae=K1("vh"),Yae=K1("vw"),RI={...ql,parse:e=>ql.parse(e)/100,transform:e=>ql.transform(e*100)},v0={test:yN("hsl","hue"),parse:vU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ql.transform(Cg(t))+", "+ql.transform(Cg(r))+", "+Cg(Ov.transform(n))+")"},Ni={test:e=>Pd.test(e)||tT.test(e)||v0.test(e),parse:e=>Pd.test(e)?Pd.parse(e):v0.test(e)?v0.parse(e):tT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):v0.transform(e)},Xae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vN))==null?void 0:t.length)||0)+(((r=e.match(Xae))==null?void 0:r.length)||0)>0}const yU="number",xU="color",Jae="var",Zae="var(",FI="${}",eie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(eie,l=>(Ni.test(l)?(n.color.push(i),a.push(xU),r.push(Ni.parse(l))):l.startsWith(Zae)?(n.var.push(i),a.push(Jae),r.push(l)):(n.number.push(i),a.push(yU),r.push(parseFloat(l))),++i,FI)).split(FI);return{values:r,split:o,indexes:n,types:a}}function bU(e){return Iv(e).values}function wU(e){const{split:t,types:r}=Iv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===yU?i+=Cg(a[s]):o===xU?i+=Ni.transform(a[s]):i+=a[s]}return i}}const tie=e=>typeof e=="number"?0:e;function rie(e){const t=bU(e);return wU(e)(t.map(tie))}const Lf={test:Qae,parse:bU,createTransformer:wU,getAnimatableNone:rie};function xS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function nie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=xS(l,o,e+1/3),i=xS(l,o,e),s=xS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ob(e,t){return r=>r>0?t:e}const Vn=(e,t,r)=>e+(t-e)*r,bS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},aie=[tT,Pd,v0],iie=e=>aie.find(t=>t.test(e));function $I(e){const t=iie(e);if(!t)return!1;let r=t.parse(e);return t===v0&&(r=nie(r)),r}const BI=(e,t)=>{const r=$I(e),n=$I(t);if(!r||!n)return ob(e,t);const a={...r};return i=>(a.red=bS(r.red,n.red,i),a.green=bS(r.green,n.green,i),a.blue=bS(r.blue,n.blue,i),a.alpha=Vn(r.alpha,n.alpha,i),Pd.transform(a))},rT=new Set(["none","hidden"]);function sie(e,t){return rT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function oie(e,t){return r=>Vn(e,t,r)}function xN(e){return typeof e=="number"?oie:typeof e=="string"?gN(e)?ob:Ni.test(e)?BI:uie:Array.isArray(e)?_U:typeof e=="object"?Ni.test(e)?BI:lie:ob}function _U(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>xN(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function lie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=xN(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function cie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const uie=(e,t)=>{const r=Lf.createTransformer(t),n=Iv(e),a=Iv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?rT.has(e)&&!a.values.length||rT.has(t)&&!n.values.length?sie(e,t):H1(_U(cie(n,a),a.values),r):ob(e,t)};function SU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Vn(e,t,r):xN(e)(e,t)}const fie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>qn.update(t,r),stop:()=>Gc(t),now:()=>si.isProcessing?si.timestamp:As.now()}},AU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},lb=2e4;function bN(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<lb;)t+=r,n=e.next(t);return t>=lb?1/0:t}function TU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(bN(n),lb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:zl(a)}}const die=5;function EU(e,t,r){const n=Math.max(t-die,0);return rU(r-e(n),t-n)}const aa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wS=.001;function hie({duration:e=aa.duration,bounce:t=aa.bounce,velocity:r=aa.velocity,mass:n=aa.mass}){let a,i,s=1-t;s=Wc(aa.minDamping,aa.maxDamping,s),e=Wc(aa.minDuration,aa.maxDuration,zl(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=nT(c,s),g=Math.exp(-f);return wS-h/p*g},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=nT(Math.pow(c,2),s);return(-a(c)+wS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-wS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=mie(a,i,o);if(e=fl(e),isNaN(l))return{stiffness:aa.stiffness,damping:aa.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const pie=12;function mie(e,t,r){let n=r;for(let a=1;a<pie;a++)n=n-e(n)/t(n);return n}function nT(e,t){return e*Math.sqrt(1-t*t)}const gie=["duration","bounce"],vie=["stiffness","damping","mass"];function UI(e,t){return t.some(r=>e[r]!==void 0)}function yie(e){let t={velocity:aa.velocity,stiffness:aa.stiffness,damping:aa.damping,mass:aa.mass,isResolvedFromDuration:!1,...e};if(!UI(e,vie)&&UI(e,gie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Wc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:aa.mass,stiffness:a,damping:i}}else{const r=hie(e);t={...t,...r,mass:aa.mass},t.isResolvedFromDuration=!0}return t}function jv(e=aa.visualDuration,t=aa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=yie({...r,velocity:-zl(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=zl(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?aa.restSpeed.granular:aa.restSpeed.default),a||(a=b?aa.restDelta.granular:aa.restDelta.default);let w;if(m<1){const C=nT(y,m);w=I=>{const T=Math.exp(-m*y*I);return s-T*((g+m*y*v)/C*Math.sin(C*I)+v*Math.cos(C*I))}}else if(m===1)w=C=>s-Math.exp(-y*C)*(v+(g+y*v)*C);else{const C=y*Math.sqrt(m*m-1);w=I=>{const T=Math.exp(-m*y*I),S=Math.min(C*I,300);return s-T*((g+m*y*v)*Math.sinh(S)+C*v*Math.cosh(S))/C}}const O={calculatedDuration:p&&f||null,next:C=>{const I=w(C);if(p)o.done=C>=f;else{let T=C===0?g:0;m<1&&(T=C===0?fl(g):EU(w,C,I));const S=Math.abs(T)<=n,A=Math.abs(s-I)<=a;o.done=S&&A}return o.value=o.done?s:I,o},toString:()=>{const C=Math.min(bN(O),lb),I=AU(T=>O.next(C*T).value,C,30);return C+"ms "+I},toTransition:()=>{}};return O}jv.applyToOptions=e=>{const t=TU(e,100,jv);return e.ease=t.ease,e.duration=fl(t.duration),e.type="keyframes",e};function aT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const b=S=>-m*Math.exp(-S/n),w=S=>y+b(S),O=S=>{const A=b(S),j=w(S);h.done=Math.abs(A)<=c,h.value=h.done?y:j};let C,I;const T=S=>{p(h.value)&&(C=S,I=jv({keyframes:[h.value,g(h.value)],velocity:EU(w,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let A=!1;return!I&&C===void 0&&(A=!0,O(S),T(S)),C!==void 0&&S>=C?I.next(S-C):(!A&&O(S),h)}}}function xie(e,t,r){const n=[],a=r||Hc.mix||SU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||_o:t;o=H1(l,o)}n.push(o)}return n}function kU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(sb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=xie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=cp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Wc(e[0],e[i-1],u)):c}function NU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=cp(0,t,n);e.push(Vn(r,1,a))}}function CU(e){const t=[0];return NU(t,e.length-1),t}function bie(e,t){return e.map(r=>r*t)}function wie(e,t){return e.map(()=>t||fU).splice(0,e.length-1)}function Pg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=dU(n)?n.map(LI):LI(n),i={done:!1,value:t[0]},s=bie(r&&r.length===t.length?r:CU(t),e),o=kU(s,t,{ease:Array.isArray(a)?a:wie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const _ie=e=>e!==null;function wN(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(_ie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Sie={decay:aT,inertia:aT,tween:Pg,keyframes:Pg,spring:jv};function PU(e){typeof e.type=="string"&&(e.type=Sie[e.type])}class _N{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Aie=e=>e/100;class SN extends _N{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==As.now()&&this.tick(As.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;PU(t);const{type:r=Pg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Pg;l!==Pg&&typeof o[0]!="number"&&(this.mixKeyframes=H1(Aie,SU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=bN(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,O=n;if(f){const S=Math.min(this.currentTime,a)/o;let A=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(j=1-j,p&&(j-=p/o)):h==="mirror"&&(O=s)),w=Wc(0,1,j)*o}const C=b?{done:!1,value:u[0]}:O.next(w);i&&(C.value=i(C.value));let{done:I}=C;!b&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return T&&g!==aT&&(C.value=wN(u,this.options,v,this.speed)),m&&m(C.value),T&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return zl(this.calculatedDuration)}get time(){return zl(this.currentTime)}set time(t){var r;t=fl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(As.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=zl(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=fie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(As.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Tie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Od=e=>e*180/Math.PI,iT=e=>{const t=Od(Math.atan2(e[1],e[0]));return sT(t)},Eie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iT,rotateZ:iT,skewX:e=>Od(Math.atan(e[1])),skewY:e=>Od(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sT=e=>(e=e%360,e<0&&(e+=360),e),VI=iT,zI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zI,scaleY:qI,scale:e=>(zI(e)+qI(e))/2,rotateX:e=>sT(Od(Math.atan2(e[6],e[5]))),rotateY:e=>sT(Od(Math.atan2(-e[2],e[0]))),rotateZ:VI,rotate:VI,skewX:e=>Od(Math.atan(e[4])),skewY:e=>Od(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function oT(e){return e.includes("scale")?1:0}function lT(e,t){if(!e||e==="none")return oT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=kie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Eie,a=o}if(!a)return oT(t);const i=n[t],s=a[1].split(",").map(Cie);return typeof i=="function"?i(s):s[i]}const Nie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return lT(r,t)};function Cie(e){return parseFloat(e.trim())}const Yp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xp=new Set(Yp),WI=e=>e===Kp||e===dr,Pie=new Set(["x","y","z"]),Oie=Yp.filter(e=>!Pie.has(e));function Iie(e){const t=[];return Oie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const $d={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lT(t,"x"),y:(e,{transform:t})=>lT(t,"y")};$d.translateX=$d.x;$d.translateY=$d.y;const Bd=new Set;let cT=!1,uT=!1,fT=!1;function OU(){if(uT){const e=Array.from(Bd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Iie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uT=!1,cT=!1,Bd.forEach(e=>e.complete(fT)),Bd.clear()}function IU(){Bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uT=!0)})}function jie(){fT=!0,IU(),OU(),fT=!1}class AN{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Bd.add(this),cT||(cT=!0,qn.read(IU),qn.resolveKeyframes(OU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Tie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bd.delete(this)}cancel(){this.state==="scheduled"&&(Bd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Die=e=>e.startsWith("--");function Lie(e,t,r){Die(t)?e.style.setProperty(t,r):e.style[t]=r}const Mie=fN(()=>window.ScrollTimeline!==void 0),Rie={};function Fie(e,t){const r=fN(e);return()=>Rie[t]??r()}const jU=Fie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,HI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cg([0,.65,.55,1]),circOut:cg([.55,0,1,.45]),backIn:cg([.31,.01,.66,-.59]),backOut:cg([.33,1.53,.69,.99])};function DU(e,t){if(e)return typeof e=="function"?jU()?AU(e,t):"ease-out":pU(e)?cg(e):Array.isArray(e)?e.map(r=>DU(r,t)||HI.easeOut):HI[e]}function $ie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=DU(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function TN(e){return typeof e=="function"&&"applyToOptions"in e}function Bie({type:e,...t}){return TN(e)&&jU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Uie extends _N{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,sb(typeof t.type!="string");const c=Bie(t);this.animation=$ie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=wN(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Lie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return zl(Number(t))}get time(){return zl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Mie()?(this.animation.timeline=t,_o):r(this)}}const LU={anticipate:lU,backInOut:oU,circInOut:uU};function Vie(e){return e in LU}function zie(e){typeof e.ease=="string"&&Vie(e.ease)&&(e.ease=LU[e.ease])}const GI=10;class qie extends Uie{constructor(t){zie(t),PU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new SN({...s,autoplay:!1}),l=fl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-GI).value,o.sample(l).value,GI),o.stop()}}const KI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lf.test(e)||e==="0")&&!e.startsWith("url("));function Wie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Hie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=KI(a,t),o=KI(i,t);return!s||!o?!1:Wie(e)||(r==="spring"||TN(r))&&n}function EN(e){return eU(e)&&"offsetHeight"in e}const Gie=new Set(["opacity","clipPath","filter","transform"]),Kie=fN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!EN((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Kie()&&r&&Gie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Xie=40;class Qie extends _N{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=As.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||AN;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=As.now(),Hie(t,i,s,o)||((Hc.instantAnimations||!l)&&(u==null||u(wN(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Xie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&Yie(h)?new qie({...h,element:h.motionValue.owner.current}):new SN(h);p.finished.then(()=>this.notifyFinished()).catch(_o),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),jie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Jie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zie extends Jie{then(t,r){return this.finished.finally(t).then(()=>{})}}const ese=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tse(e){const t=ese.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function MU(e,t,r=1){const[n,a]=tse(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return ZB(s)?parseFloat(s):s}return gN(a)?MU(a,t,r+1):a}function kN(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const RU=new Set(["width","height","top","left","right","bottom",...Yp]),rse={test:e=>e==="auto",parse:e=>e},FU=e=>t=>t.test(e),$U=[Kp,dr,ql,Bu,Yae,Kae,rse],YI=e=>$U.find(FU(e));function nse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tU(e):!0}const ase=new Set(["brightness","contrast","saturate","opacity"]);function ise(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(vN)||[];if(!n)return e;const a=r.replace(n,"");let i=ase.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const sse=/\b([a-z-]*)\(.*?\)/gu,dT={...Lf,getAnimatableNone:e=>{const t=e.match(sse);return t?t.map(ise).join(" "):e}},XI={...Kp,transform:Math.round},ose={rotate:Bu,rotateX:Bu,rotateY:Bu,rotateZ:Bu,scale:ox,scaleX:ox,scaleY:ox,scaleZ:ox,skew:Bu,skewX:Bu,skewY:Bu,distance:dr,translateX:dr,translateY:dr,translateZ:dr,x:dr,y:dr,z:dr,perspective:dr,transformPerspective:dr,opacity:Ov,originX:RI,originY:RI,originZ:dr},NN={borderWidth:dr,borderTopWidth:dr,borderRightWidth:dr,borderBottomWidth:dr,borderLeftWidth:dr,borderRadius:dr,radius:dr,borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomRightRadius:dr,borderBottomLeftRadius:dr,width:dr,maxWidth:dr,height:dr,maxHeight:dr,top:dr,right:dr,bottom:dr,left:dr,padding:dr,paddingTop:dr,paddingRight:dr,paddingBottom:dr,paddingLeft:dr,margin:dr,marginTop:dr,marginRight:dr,marginBottom:dr,marginLeft:dr,backgroundPositionX:dr,backgroundPositionY:dr,...ose,zIndex:XI,fillOpacity:Ov,strokeOpacity:Ov,numOctaves:XI},lse={...NN,color:Ni,backgroundColor:Ni,outlineColor:Ni,fill:Ni,stroke:Ni,borderColor:Ni,borderTopColor:Ni,borderRightColor:Ni,borderBottomColor:Ni,borderLeftColor:Ni,filter:dT,WebkitFilter:dT},BU=e=>lse[e];function UU(e,t){let r=BU(e);return r!==dT&&(r=Lf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const cse=new Set(["auto","none","0"]);function use(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!cse.has(i)&&Iv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=UU(r,a)}class fse extends AN{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),gN(c))){const u=MU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!RU.has(n)||t.length!==2)return;const[a,i]=t,s=YI(a),o=YI(i);if(s!==o)if(WI(s)&&WI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else $d[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||nse(t[a]))&&n.push(a);n.length&&use(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$d[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=$d[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function VU(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const QI=30,dse=e=>!isNaN(parseFloat(e)),Og={current:void 0};class hse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=As.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=As.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new dN);const n=this.events[t].add(r);return t==="change"?()=>{n(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Og.current&&Og.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=As.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>QI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,QI);return rU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eh(e,t){return new hse(e,t)}const zU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:CN,cancel:ABe}=mU(queueMicrotask,!1),Xo={x:!1,y:!1};function qU(){return Xo.x||Xo.y}function pse(e){return e==="x"||e==="y"?Xo[e]?null:(Xo[e]=!0,()=>{Xo[e]=!1}):Xo.x||Xo.y?null:(Xo.x=Xo.y=!0,()=>{Xo.x=Xo.y=!1})}function WU(e,t){const r=VU(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function JI(e){return!(e.pointerType==="touch"||qU())}function mse(e,t,r={}){const[n,a,i]=WU(e,r),s=o=>{if(!JI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{JI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const HU=(e,t)=>t?e===t?!0:HU(e,t.parentElement):!1,PN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vse(e){return gse.has(e.tagName)||e.tabIndex!==-1}const s2=new WeakSet;function ZI(e){return t=>{t.key==="Enter"&&e(t)}}function _S(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ZI(()=>{if(s2.has(r))return;_S(r,"down");const a=ZI(()=>{_S(r,"up")}),i=()=>_S(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function ej(e){return PN(e)&&!qU()}function xse(e,t,r={}){const[n,a,i]=WU(e,r),s=o=>{const l=o.currentTarget;if(!ej(o))return;s2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),s2.has(l)&&s2.delete(l),ej(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||HU(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),EN(o)&&(o.addEventListener("focus",c=>yse(c,a)),!vse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function ON(e){return eU(e)&&"ownerSVGElement"in e}function GU(e){return ON(e)&&e.tagName==="svg"}function bse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=kU(a,i,s);return t?o(n):o}const Ya=e=>!!(e&&e.getVelocity),wse=[...$U,Ni,Lf],_se=e=>wse.find(FU(e)),g5=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Sse extends U.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=EN(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ase({children:e,isPresent:t,anchorX:r}){const n=U.useId(),a=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=U.useContext(g5);return U.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(Sse,{isPresent:t,childRef:a,sizeRef:i,children:U.cloneElement(e,{ref:a})})}const Tse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=W1(Ese),c=U.useId();let u=!0,f=U.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),U.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),U.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(Ase,{isPresent:r,anchorX:o,children:e})),d.jsx(p5.Provider,{value:f,children:e})};function Ese(){return new Map}function KU(e=!0){const t=U.useContext(p5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=U.useId();U.useEffect(()=>{if(e)return a(i)},[e]);const s=U.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const lx=e=>e.key||"";function tj(e){const t=[];return U.Children.forEach(e,r=>{U.isValidElement(r)&&t.push(r)}),t}const YU=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=KU(s),u=U.useMemo(()=>tj(e),[e]),f=s&&!l?[]:u.map(lx),h=U.useRef(!0),p=U.useRef(u),g=W1(()=>new Map),[m,v]=U.useState(u),[y,b]=U.useState(u);cN(()=>{h.current=!1,p.current=u;for(let C=0;C<y.length;C++){const I=lx(y[C]);f.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[y,f.length,f.join("-")]);const w=[];if(u!==m){let C=[...u];for(let I=0;I<y.length;I++){const T=y[I],S=lx(T);f.includes(S)||(C.splice(I,0,T),w.push(T))}return i==="wait"&&w.length&&(C=w),b(tj(C)),v(u),null}const{forceRender:O}=U.useContext(oN);return d.jsx(d.Fragment,{children:y.map(C=>{const I=lx(C),T=s&&!l?!1:u===y||f.includes(I),S=()=>{if(g.has(I))g.set(I,!0);else return;let A=!0;g.forEach(j=>{j||(A=!1)}),A&&(O==null||O(),b(p.current),s&&(c==null||c()),n&&n())};return d.jsx(Tse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:C},I)})})},XU=U.createContext({strict:!1}),rj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},up={};for(const e in rj)up[e]={isEnabled:t=>rj[e].some(r=>!!t[r])};function kse(e){for(const t in e)up[t]={...up[t],...e[t]}}const Nse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nse.has(e)}let QU=e=>!cb(e);function Cse(e){e&&(QU=t=>t.startsWith("on")?!cb(t):e(t))}try{Cse(require("@emotion/is-prop-valid").default)}catch{}function Pse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(QU(a)||r===!0&&cb(a)||!t&&!cb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Ose(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const v5=U.createContext({});function y5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dv(e){return typeof e=="string"||Array.isArray(e)}const IN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jN=["initial",...IN];function x5(e){return y5(e.animate)||jN.some(t=>Dv(e[t]))}function JU(e){return!!(x5(e)||e.variants)}function Ise(e,t){if(x5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Dv(r)?r:void 0,animate:Dv(n)?n:void 0}}return e.inherit!==!1?t:{}}function jse(e){const{initial:t,animate:r}=Ise(e,U.useContext(v5));return U.useMemo(()=>({initial:t,animate:r}),[nj(t),nj(r)])}function nj(e){return Array.isArray(e)?e.join(" "):e}const Dse=Symbol.for("motionComponentSymbol");function y0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Lse(e,t,r){return U.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):y0(r)&&(r.current=n))},[t])}const DN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mse="framerAppearId",ZU="data-"+DN(Mse),eV=U.createContext({});function Rse(e,t,r,n,a){var m,v;const{visualElement:i}=U.useContext(v5),s=U.useContext(XU),o=U.useContext(p5),l=U.useContext(g5).reducedMotion,c=U.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=U.useContext(eV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Fse(c.current,r,a,f);const h=U.useRef(!1);U.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[ZU],g=U.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return cN(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),CN.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function Fse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:tV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&y0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function tV(e){if(e)return e.options.allowProjection!==!1?e.projection:tV(e.parent)}function $se({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&kse(e);function i(o,l){let c;const u={...U.useContext(g5),...o,layoutId:Bse(o)},{isStatic:f}=u,h=jse(o),p=n(o,f);if(!f&&lN){Use();const g=Vse(u);c=g.MeasureLayout,h.visualElement=Rse(a,p,u,t,g.ProjectionNode)}return d.jsxs(v5.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Lse(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=U.forwardRef(i);return s[Dse]=a,s}function Bse({layoutId:e}){const t=U.useContext(oN).id;return t&&e!==void 0?t+"-"+e:e}function Use(e,t){U.useContext(XU).strict}function Vse(e){const{drag:t,layout:r}=up;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Lv={};function zse(e){for(const t in e)Lv[t]=e[t],mN(t)&&(Lv[t].isCSSVariable=!0)}function rV(e,{layout:t,layoutId:r}){return Xp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Lv[e]||e==="opacity")}const qse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wse=Yp.length;function Hse(e,t,r){let n="",a=!0;for(let i=0;i<Wse;i++){const s=Yp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=zU(o,NN[s]);if(!l){a=!1;const u=qse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function LN(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Xp.has(l)){s=!0;continue}else if(mN(l)){a[l]=c;continue}else{const u=zU(c,NN[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Hse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const MN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nV(e,t,r){for(const n in t)!Ya(t[n])&&!rV(n,r)&&(e[n]=t[n])}function Gse({transformTemplate:e},t){return U.useMemo(()=>{const r=MN();return LN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Kse(e,t){const r=e.style||{},n={};return nV(n,r,e),Object.assign(n,Gse(e,t)),n}function Yse(e,t){const r={},n=Kse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Xse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qse={offset:"strokeDashoffset",array:"strokeDasharray"};function Jse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Xse:Qse;e[i.offset]=dr.transform(-n);const s=dr.transform(t),o=dr.transform(r);e[i.array]=`${s} ${o}`}function aV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(LN(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Jse(f,a,i,s,!1)}const iV=()=>({...MN(),attrs:{}}),sV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Zse(e,t,r,n){const a=U.useMemo(()=>{const i=iV();return aV(i,t,sV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nV(i,e.style,e),a.style={...i,...a.style}}return a}const eoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RN(e){return typeof e!="string"||e.includes("-")?!1:!!(eoe.indexOf(e)>-1||/[A-Z]/u.test(e))}function toe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(RN(r)?Zse:Yse)(n,i,s,r),c=Pse(n,typeof r=="string",e),u=r!==U.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=U.useMemo(()=>Ya(f)?f.get():f,[f]);return U.createElement(r,{...u,children:h})}}function aj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function FN(e,t,r,n){if(typeof t=="function"){const[a,i]=aj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=aj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function o2(e){return Ya(e)?e.get():e}function roe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:noe(r,n,a,e),renderState:t()}}const oV=e=>(t,r)=>{const n=U.useContext(v5),a=U.useContext(p5),i=()=>roe(e,t,n,a);return r?i():W1(i)};function noe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=o2(i[h]);let{initial:s,animate:o}=e;const l=x5(e),c=JU(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!y5(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=FN(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let w=y[b];if(Array.isArray(w)){const O=u?w.length-1:0;w=w[O]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function $N(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ya(n[s])||t.style&&Ya(t.style[s])||rV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const aoe={useVisualState:oV({scrapeMotionValuesFromProps:$N,createRenderState:MN})};function lV(e,t,r){const n=$N(e,t,r);for(const a in e)if(Ya(e[a])||Ya(t[a])){const i=Yp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const ioe={useVisualState:oV({scrapeMotionValuesFromProps:lV,createRenderState:iV})};function soe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...RN(n)?ioe:aoe,preloadedFeatures:e,useRender:toe(a),createVisualElement:t,Component:n};return $se(s)}}function Mv(e,t,r){const n=e.getProps();return FN(n,t,r!==void 0?r:n.custom,e)}const hT=e=>Array.isArray(e);function ooe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,eh(r))}function loe(e){return hT(e)?e[e.length-1]||0:e}function coe(e,t){const r=Mv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=loe(i[s]);ooe(e,s,o)}}function uoe(e){return!!(Ya(e)&&e.add)}function pT(e,t){const r=e.getValue("willChange");if(uoe(r))return r.add(t);if(!r&&Hc.WillChange){const n=new Hc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function cV(e){return e.props[ZU]}const foe=e=>e!==null;function doe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(foe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const hoe={type:"spring",stiffness:500,damping:25,restSpeed:10},poe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),moe={type:"keyframes",duration:.8},goe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},voe=(e,{keyframes:t})=>t.length>2?moe:Xp.has(e)?e.startsWith("scale")?poe(t[1]):hoe:goe;function yoe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const BN=(e,t,r,n={},a,i)=>s=>{const o=kN(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-fl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};yoe(o)||Object.assign(u,voe(e,u)),u.duration&&(u.duration=fl(u.duration)),u.repeatDelay&&(u.repeatDelay=fl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Hc.instantAnimations||Hc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=doe(u.keyframes,o);if(h!==void 0){qn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new SN(u):new Qie(u)};function xoe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function UN(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&xoe(c,u))continue;const p={delay:r,...kN(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=cV(e);if(y){const b=window.MotionHandoffAnimation(y,u,qn);b!==null&&(p.startTime=b,m=!0)}}pT(e,u),f.start(BN(u,f,h,e.shouldReduceMotion&&RU.has(u)?{type:!1}:p,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{qn.update(()=>{s&&coe(e,s)})}),l}function mT(e,t,r={}){var l;const n=Mv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(UN(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return boe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function boe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(woe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(mT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function woe(e,t){return e.sortNodePosition(t)}function _oe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>mT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=mT(e,t,r);else{const a=typeof t=="function"?Mv(e,t,r.custom):t;n=Promise.all(UN(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function uV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Soe=jN.length;function fV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?fV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Soe;r++){const n=jN[r],a=e.props[n];(Dv(a)||a===!1)&&(t[n]=a)}return t}const Aoe=[...IN].reverse(),Toe=IN.length;function Eoe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>_oe(e,r,n)))}function koe(e){let t=Eoe(e),r=ij(),n=!0;const a=l=>(c,u)=>{var h;const f=Mv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=fV(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let v=0;v<Toe;v++){const y=Aoe[v],b=r[y],w=c[y]!==void 0?c[y]:u[y],O=Dv(w),C=y===l?b.isActive:null;C===!1&&(g=v);let I=w===u[y]&&w!==c[y]&&O;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...p},!b.isActive&&C===null||!w&&!b.prevProp||y5(w)||typeof w=="boolean")continue;const T=Noe(b.prevProp,w);let S=T||y===l&&b.isActive&&!I&&O||v>g&&O,A=!1;const j=Array.isArray(w)?w:[w];let E=j.reduce(a(y),{});C===!1&&(E={});const{prevResolvedValues:k={}}=b,D={...k,...E},V=J=>{S=!0,h.has(J)&&(A=!0,h.delete(J)),b.needsAnimating[J]=!0;const H=e.getValue(J);H&&(H.liveStyle=!1)};for(const J in D){const H=E[J],z=k[J];if(p.hasOwnProperty(J))continue;let ee=!1;hT(H)&&hT(z)?ee=!uV(H,z):ee=H!==z,ee?H!=null?V(J):h.add(J):H!==void 0&&h.has(J)?V(J):b.protectedKeys[J]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(I&&T)||A)&&f.push(...j.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Mv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ij(),n=!0}}}function Noe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uV(t,e):!1}function hd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ij(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Wf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Coe extends Wf{constructor(t){super(t),t.animationState||(t.animationState=koe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();y5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Poe=0;class Ooe extends Wf{constructor(){super(...arguments),this.id=Poe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ioe={animation:{Feature:Coe},exit:{Feature:Ooe}};function Rv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Y1(e){return{point:{x:e.pageX,y:e.pageY}}}const joe=e=>t=>PN(t)&&e(t,Y1(t));function Ig(e,t,r,n){return Rv(e,t,joe(r),n)}function dV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Doe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Loe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const hV=1e-4,Moe=1-hV,Roe=1+hV,pV=.01,Foe=0-pV,$oe=0+pV;function ts(e){return e.max-e.min}function Boe(e,t,r){return Math.abs(e-t)<=r}function sj(e,t,r,n=.5){e.origin=n,e.originPoint=Vn(t.min,t.max,e.origin),e.scale=ts(r)/ts(t),e.translate=Vn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Moe&&e.scale<=Roe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Foe&&e.translate<=$oe||isNaN(e.translate))&&(e.translate=0)}function jg(e,t,r,n){sj(e.x,t.x,r.x,n?n.originX:void 0),sj(e.y,t.y,r.y,n?n.originY:void 0)}function oj(e,t,r){e.min=r.min+t.min,e.max=e.min+ts(t)}function Uoe(e,t,r){oj(e.x,t.x,r.x),oj(e.y,t.y,r.y)}function lj(e,t,r){e.min=t.min-r.min,e.max=e.min+ts(t)}function Dg(e,t,r){lj(e.x,t.x,r.x),lj(e.y,t.y,r.y)}const cj=()=>({translate:0,scale:1,origin:0,originPoint:0}),x0=()=>({x:cj(),y:cj()}),uj=()=>({min:0,max:0}),ta=()=>({x:uj(),y:uj()});function mo(e){return[e("x"),e("y")]}function SS(e){return e===void 0||e===1}function gT({scale:e,scaleX:t,scaleY:r}){return!SS(e)||!SS(t)||!SS(r)}function yd(e){return gT(e)||mV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mV(e){return fj(e.x)||fj(e.y)}function fj(e){return e&&e!=="0%"}function ub(e,t,r){const n=e-r,a=t*n;return r+a}function dj(e,t,r,n,a){return a!==void 0&&(e=ub(e,a,n)),ub(e,r,n)+t}function vT(e,t=0,r=1,n,a){e.min=dj(e.min,t,r,n,a),e.max=dj(e.max,t,r,n,a)}function gV(e,{x:t,y:r}){vT(e.x,t.translate,t.scale,t.originPoint),vT(e.y,r.translate,r.scale,r.originPoint)}const hj=.999999999999,pj=1.0000000000001;function Voe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&w0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,gV(e,s)),n&&yd(i.latestValues)&&w0(e,i.latestValues))}t.x<pj&&t.x>hj&&(t.x=1),t.y<pj&&t.y>hj&&(t.y=1)}function b0(e,t){e.min=e.min+t,e.max=e.max+t}function mj(e,t,r,n,a=.5){const i=Vn(e.min,e.max,a);vT(e,t,r,i,n)}function w0(e,t){mj(e.x,t.x,t.scaleX,t.scale,t.originX),mj(e.y,t.y,t.scaleY,t.scale,t.originY)}function vV(e,t){return dV(Loe(e.getBoundingClientRect(),t))}function zoe(e,t,r){const n=vV(e,r),{scroll:a}=t;return a&&(b0(n.x,a.offset.x),b0(n.y,a.offset.y)),n}const yV=({current:e})=>e?e.ownerDocument.defaultView:null,gj=(e,t)=>Math.abs(e-t);function qoe(e,t){const r=gj(e.x,t.x),n=gj(e.y,t.y);return Math.sqrt(r**2+n**2)}class xV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=TS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=qoe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=si;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=AS(h,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=TS(f.type==="pointercancel"?this.lastMoveEventInfo:AS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!PN(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=Y1(t),o=AS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=si;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,TS(o,this.history)),this.removeListeners=H1(Ig(this.contextWindow,"pointermove",this.handlePointerMove),Ig(this.contextWindow,"pointerup",this.handlePointerUp),Ig(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gc(this.updatePoint)}}function AS(e,t){return t?{point:t(e.point)}:e}function vj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TS({point:e},t){return{point:e,delta:vj(e,bV(t)),offset:vj(e,Woe(t)),velocity:Hoe(t,.1)}}function Woe(e){return e[0]}function bV(e){return e[e.length-1]}function Hoe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=bV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>fl(t)));)r--;if(!n)return{x:0,y:0};const i=zl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Goe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Vn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Vn(r,e,n.max):Math.min(e,r)),e}function yj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Koe(e,{top:t,left:r,bottom:n,right:a}){return{x:yj(e.x,r,a),y:yj(e.y,t,n)}}function xj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Yoe(e,t){return{x:xj(e.x,t.x),y:xj(e.y,t.y)}}function Xoe(e,t){let r=.5;const n=ts(e),a=ts(t);return a>n?r=cp(t.min,t.max-n,e.min):n>a&&(r=cp(e.min,e.max-a,t.min)),Wc(0,1,r)}function Qoe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const yT=.35;function Joe(e=yT){return e===!1?e=0:e===!0&&(e=yT),{x:bj(e,"left","right"),y:bj(e,"top","bottom")}}function bj(e,t,r){return{min:wj(e,t),max:wj(e,r)}}function wj(e,t){return typeof e=="number"?e:e[t]||0}const Zoe=new WeakMap;class ele{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ta(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Y1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(ql.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=ts(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&qn.postRender(()=>g(u,f)),pT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=tle(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>mo(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:yV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&qn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!cx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Goe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&y0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Koe(n.layoutBox,t):this.constraints=!1,this.elastic=Joe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&mo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Qoe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!y0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=zoe(n,a.root,this.visualElement.getTransformPagePoint());let s=Yoe(a.layout.layoutBox,i);if(r){const o=r(Doe(s));this.hasMutatedConstraints=!!o,o&&(s=dV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=mo(u=>{if(!cx(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return pT(this.visualElement,t),n.start(BN(t,n,0,r,this.visualElement,!1))}stopAnimation(){mo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){mo(r=>{const{drag:n}=this.getProps();if(!cx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Vn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!y0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};mo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Xoe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mo(s=>{if(!cx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Vn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Zoe.set(this.visualElement,this);const t=this.visualElement.current,r=Ig(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();y0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),qn.read(n);const s=Rv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(mo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=yT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function cx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function tle(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class rle extends Wf{constructor(t){super(t),this.removeGroupControls=_o,this.removeListeners=_o,this.controls=new ele(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_o}unmount(){this.removeGroupControls(),this.removeListeners()}}const _j=e=>(t,r)=>{e&&qn.postRender(()=>e(t,r))};class nle extends Wf{constructor(){super(...arguments),this.removePointerDownListener=_o}onPointerDown(t){this.session=new xV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:_j(t),onStart:_j(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&qn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Ig(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const l2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dr.test(e))e=parseFloat(e);else return e;const r=Sj(e,t.target.x),n=Sj(e,t.target.y);return`${r}% ${n}%`}},ale={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Lf.parse(e);if(a.length>5)return n;const i=Lf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Vn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class ile extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;zse(sle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),l2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||qn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),CN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wV(e){const[t,r]=KU(),n=U.useContext(oN);return d.jsx(ile,{...e,layoutGroup:n,switchLayoutGroup:U.useContext(eV),isPresent:t,safeToRemove:r})}const sle={borderRadius:{...Rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rm,borderTopRightRadius:Rm,borderBottomLeftRadius:Rm,borderBottomRightRadius:Rm,boxShadow:ale};function _V(e,t,r){const n=Ya(e)?e:eh(e);return n.start(BN("",n,t,r)),n.animation}const ole=(e,t)=>e.depth-t.depth;class lle{constructor(){this.children=[],this.isDirty=!1}add(t){uN(this.children,t),this.isDirty=!0}remove(t){m5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ole),this.isDirty=!1,this.children.forEach(t)}}function cle(e,t){const r=As.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Gc(n),e(i-t))};return qn.setup(n,!0),()=>Gc(n)}const SV=["TopLeft","TopRight","BottomLeft","BottomRight"],ule=SV.length,Aj=e=>typeof e=="string"?parseFloat(e):e,Tj=e=>typeof e=="number"||dr.test(e);function fle(e,t,r,n,a,i){a?(e.opacity=Vn(0,r.opacity??1,dle(n)),e.opacityExit=Vn(t.opacity??1,0,hle(n))):i&&(e.opacity=Vn(t.opacity??1,r.opacity??1,n));for(let s=0;s<ule;s++){const o=`border${SV[s]}Radius`;let l=Ej(t,o),c=Ej(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Tj(l)===Tj(c)?(e[o]=Math.max(Vn(Aj(l),Aj(c),n),0),(ql.test(c)||ql.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Vn(t.rotate||0,r.rotate||0,n))}function Ej(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dle=AV(0,.5,cU),hle=AV(.5,.95,_o);function AV(e,t,r){return n=>n<e?0:n>t?1:r(cp(e,t,n))}function kj(e,t){e.min=t.min,e.max=t.max}function lo(e,t){kj(e.x,t.x),kj(e.y,t.y)}function Nj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cj(e,t,r,n,a){return e-=t,e=ub(e,1/r,n),a!==void 0&&(e=ub(e,1/a,n)),e}function ple(e,t=0,r=1,n=.5,a,i=e,s=e){if(ql.test(t)&&(t=parseFloat(t),t=Vn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Vn(i.min,i.max,n);e===i&&(o-=t),e.min=Cj(e.min,t,r,o,a),e.max=Cj(e.max,t,r,o,a)}function Pj(e,t,[r,n,a],i,s){ple(e,t[r],t[n],t[a],t.scale,i,s)}const mle=["x","scaleX","originX"],gle=["y","scaleY","originY"];function Oj(e,t,r,n){Pj(e.x,t,mle,r?r.x:void 0,n?n.x:void 0),Pj(e.y,t,gle,r?r.y:void 0,n?n.y:void 0)}function Ij(e){return e.translate===0&&e.scale===1}function TV(e){return Ij(e.x)&&Ij(e.y)}function jj(e,t){return e.min===t.min&&e.max===t.max}function vle(e,t){return jj(e.x,t.x)&&jj(e.y,t.y)}function Dj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EV(e,t){return Dj(e.x,t.x)&&Dj(e.y,t.y)}function Lj(e){return ts(e.x)/ts(e.y)}function Mj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yle{constructor(){this.members=[]}add(t){uN(this.members,t),t.scheduleRender()}remove(t){if(m5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const ES=["","X","Y","Z"],ble={visibility:"hidden"},wle=1e3;let _le=0;function kS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function kV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=cV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",qn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&kV(n)}function NV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=_le++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tle),this.nodes.forEach(Ple),this.nodes.forEach(Ole),this.nodes.forEach(Ele)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new dN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=ON(s)&&!GU(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=cle(f,250),l2.hasAnimatedSinceResize&&(l2.hasAnimatedSinceResize=!1,this.nodes.forEach(Fj))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Mle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!EV(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...kN(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Fj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ile),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rj);return}this.isUpdating||this.nodes.forEach(Nle),this.isUpdating=!1,this.nodes.forEach(Cle),this.nodes.forEach(Sle),this.nodes.forEach(Ale),this.clearAllSnapshots();const o=As.now();si.delta=Wc(0,1e3/60,o-si.timestamp),si.timestamp=o,si.isProcessing=!0,vS.update.process(si),vS.preRender.process(si),vS.render.process(si),si.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kle),this.sharedNodes.forEach(jle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ts(this.snapshot.measuredBox.x)&&!ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ta(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!TV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||yd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Rle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ta();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Fle))){const{scroll:u}=this.root;u&&(b0(o.x,u.offset.x),b0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ta();if(lo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&lo(o,s),b0(o.x,f.offset.x),b0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ta();lo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&w0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yd(u.latestValues)&&w0(l,u.latestValues)}return yd(this.latestValues)&&w0(l,this.latestValues),l}removeTransform(s){const o=ta();lo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yd(c.latestValues))continue;gT(c.latestValues)&&c.updateSnapshot();const u=ta(),f=c.measurePageBox();lo(u,f),Oj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yd(this.latestValues)&&Oj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==si.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=si.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ta(),this.relativeTargetOrigin=ta(),Dg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ta(),this.targetWithTransforms=ta()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uoe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lo(this.target,this.layout.layoutBox),gV(this.target,this.targetDelta)):lo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ta(),this.relativeTargetOrigin=ta(),Dg(this.relativeTargetOrigin,this.target,p.target),lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gT(this.parent.latestValues)||mV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===si.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;lo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Voe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ta());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nj(this.prevProjectionDelta.x,this.projectionDelta.x),Nj(this.prevProjectionDelta.y,this.projectionDelta.y)),jg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Mj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=x0(),this.projectionDelta=x0(),this.projectionDeltaWithTransform=x0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=x0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ta(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Lle));this.animationProgress=0;let w;this.mixTargetDelta=O=>{const C=O/1e3;$j(f.x,s.x,C),$j(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dle(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&vle(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ta()),lo(w,this.relativeTarget)),m&&(this.animationValues=u,fle(u,c,this.latestValues,C,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{l2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eh(0)),this.currentAnimation=_V(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&CV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ta();const f=ts(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ts(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}lo(o,l),w0(o,u),jg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new yle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&kS("z",s,c,this.animationValues);for(let u=0;u<ES.length;u++)kS(`rotate${ES[u]}`,s,c,this.animationValues),kS(`skew${ES[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ble;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=o2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=o2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=xle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Lv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Lv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?o2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(Rj),this.root.sharedNodes.clear()}}}function Sle(e){e.updateLayout()}function Ale(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?mo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ts(h);h.min=n[f].min,h.max=h.min+p}):CV(i,t.layoutBox,n)&&mo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ts(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=x0();jg(o,n,t.layoutBox);const l=x0();s?jg(l,e.applyTransform(a,!0),t.measuredBox):jg(l,n,t.layoutBox);const c=!TV(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=ta();Dg(g,t.layoutBox,h.layoutBox);const m=ta();Dg(m,n,p.layoutBox),EV(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Tle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ele(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kle(e){e.clearSnapshot()}function Rj(e){e.clearMeasurements()}function Nle(e){e.isLayoutDirty=!1}function Cle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ple(e){e.resolveTargetDelta()}function Ole(e){e.calcProjection()}function Ile(e){e.resetSkewAndRotation()}function jle(e){e.removeLeadSnapshot()}function $j(e,t,r){e.translate=Vn(t.translate,0,r),e.scale=Vn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Bj(e,t,r,n){e.min=Vn(t.min,r.min,n),e.max=Vn(t.max,r.max,n)}function Dle(e,t,r,n){Bj(e.x,t.x,r.x,n),Bj(e.y,t.y,r.y,n)}function Lle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mle={duration:.45,ease:[.4,0,.1,1]},Uj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vj=Uj("applewebkit/")&&!Uj("chrome/")?Math.round:_o;function zj(e){e.min=Vj(e.min),e.max=Vj(e.max)}function Rle(e){zj(e.x),zj(e.y)}function CV(e,t,r){return e==="position"||e==="preserve-aspect"&&!Boe(Lj(t),Lj(r),.2)}function Fle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const $le=NV({attachResizeListener:(e,t)=>Rv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),NS={current:void 0},PV=NV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!NS.current){const e=new $le({});e.mount(window),e.setOptions({layoutScroll:!0}),NS.current=e}return NS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ble={pan:{Feature:nle},drag:{Feature:rle,ProjectionNode:PV,MeasureLayout:wV}};function qj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&qn.postRender(()=>i(t,Y1(t)))}class Ule extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=mse(t,(r,n)=>(qj(this.node,n,"Start"),a=>qj(this.node,a,"End"))))}unmount(){}}class Vle extends Wf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=H1(Rv(this.node.current,"focus",()=>this.onFocus()),Rv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&qn.postRender(()=>i(t,Y1(t)))}class zle extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=xse(t,(r,n)=>(Wj(this.node,n,"Start"),(a,{success:i})=>Wj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xT=new WeakMap,CS=new WeakMap,qle=e=>{const t=xT.get(e.target);t&&t(e)},Wle=e=>{e.forEach(qle)};function Hle({root:e,...t}){const r=e||document;CS.has(r)||CS.set(r,{});const n=CS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Wle,{root:e,...t})),n[a]}function Gle(e,t,r){const n=Hle(t);return xT.set(e,r),n.observe(e),()=>{xT.delete(e),n.unobserve(e)}}const Kle={some:0,all:1};class Yle extends Wf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Kle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Gle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Xle(t,r))&&this.startObserver()}unmount(){}}function Xle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Qle={inView:{Feature:Yle},tap:{Feature:zle},focus:{Feature:Vle},hover:{Feature:Ule}},Jle={layout:{ProjectionNode:PV,MeasureLayout:wV}},bT={current:null},OV={current:!1};function Zle(){if(OV.current=!0,!!lN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bT.current=e.matches;e.addListener(t),t()}else bT.current=!1}const Fv=new WeakMap;function ece(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ya(a))e.addValue(n,a);else if(Ya(i))e.addValue(n,eh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,eh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Hj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=As.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=x5(r),this.isVariantNode=JU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Ya(p)&&p.set(l[h],!1)}}mount(t){this.current=t,Fv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),OV.current||Zle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gc(this.notifyUpdate),Gc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Xp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&qn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in up){const r=up[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ta()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Hj.length;n++){const a=Hj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=ece(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=eh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ZB(n)||tU(n))?n=parseFloat(n):!_se(n)&&Lf.test(r)&&(n=UU(t,r)),this.setBaseTarget(t,Ya(n)?n.get():n)),Ya(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=FN(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ya(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new dN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class jV extends IV{constructor(){super(...arguments),this.KeyframeResolver=fse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ya(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function DV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function tce(e){return window.getComputedStyle(e)}class LV extends jV{constructor(){super(...arguments),this.type="html",this.renderInstance=DV}readValueFromInstance(t,r){var n;if(Xp.has(r))return(n=this.projection)!=null&&n.isProjecting?oT(r):Nie(t,r);{const a=tce(t),i=(mN(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return vV(t,r)}build(t,r,n){LN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return $N(t,r,n)}}const MV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rce(e,t,r,n){DV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(MV.has(a)?a:DN(a),t.attrs[a])}class RV extends jV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ta}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Xp.has(r)){const n=BU(r);return n&&n.default||0}return r=MV.has(r)?r:DN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return lV(t,r,n)}build(t,r,n){aV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){rce(t,r,n,a)}mount(t){this.isSVGTag=sV(t.tagName),super.mount(t)}}const nce=(e,t)=>RN(e)?new RV(t):new LV(t,{allowProjection:e!==U.Fragment}),ace=soe({...Ioe,...Qle,...Ble,...Jle},nce),Wn=Ose(ace);function wT(e){const t=W1(()=>eh(e)),{isStatic:r}=U.useContext(g5);if(r){const[,n]=U.useState(e);U.useEffect(()=>t.on("change",n),[])}return t}function FV(e,t){const r=wT(t()),n=()=>r.set(t());return n(),cN(()=>{const a=()=>qn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Gc(n)}}),r}function ice(e){Og.current=[],e();const t=FV(Og.current,e);return Og.current=void 0,t}function Gj(e,t,r,n){if(typeof e=="function")return ice(e);const a=typeof t=="function"?t:bse(t,r,n);return Array.isArray(e)?Kj(e,a):Kj([e],([i])=>a(i))}function Kj(e,t){const r=W1(()=>[]);return FV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function VN(e){return typeof e=="object"&&!Array.isArray(e)}function $V(e,t,r,n){return typeof e=="string"&&VN(t)?VU(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function sce(e,t,r){return e*(t+1)}function Yj(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function oce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(m5(e,a),n--)}}function lce(e,t,r,n,a,i){oce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Vn(a,i,n[s]),easing:hU(r,s)})}function cce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function uce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const fce="easeInOut";function dce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,Yj(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=Yj(f,y.at,u,c));let b=0;const w=(O,C,I,T=0,S=0)=>{const A=hce(O),{delay:j=0,times:E=CU(A),type:k="keyframes",repeat:D,repeatType:V,repeatDelay:X=0,...Y}=C;let{ease:J=t.ease||"easeOut",duration:H}=C;const z=typeof j=="function"?j(T,S):j,ee=A.length,W=TN(k)?k:a==null?void 0:a[k];if(ee<=2&&W){let K=100;if(ee===2&&gce(A)){const de=A[1]-A[0];K=Math.abs(de)}const Z={...Y};H!==void 0&&(Z.duration=fl(H));const ce=TU(Z,K,W);J=ce.ease,H=ce.duration}H??(H=i);const P=f+z;E.length===1&&E[0]===0&&(E[1]=1);const F=E.length-A.length;if(F>0&&NU(E,F),A.length===1&&A.unshift(null),D){H=sce(H,D);const K=[...A],Z=[...E];J=Array.isArray(J)?[...J]:[J];const ce=[...J];for(let de=0;de<D;de++){A.push(...K);for(let ae=0;ae<K.length;ae++)E.push(Z[ae]+(de+1)),J.push(ae===0?"linear":hU(ce,ae-1))}cce(E,D)}const q=P+H;lce(I,A,J,E,P,q),b=Math.max(z+H,b),h=Math.max(q,h)};if(Ya(m)){const O=Xj(m,o);w(v,y,Qj("default",O))}else{const O=$V(m,v,n,l),C=O.length;for(let I=0;I<C;I++){v=v,y=y;const T=O[I],S=Xj(T,o);for(const A in v)w(v[A],pce(y,A),Qj(A,S),I,C)}}u=f,f+=b}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(uce);const y=[],b=[],w=[];for(let C=0;C<v.length;C++){const{at:I,value:T,easing:S}=v[C];y.push(T),b.push(cp(0,h,I)),w.push(S||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),w.unshift(fce)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const O=s.get(g);O.keyframes[m]=y,O.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function Xj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Qj(e,t){return t[e]||(t[e]=[]),t[e]}function hce(e){return Array.isArray(e)?e:[e]}function pce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const mce=e=>typeof e=="number",gce=e=>e.every(mce);function vce(e,t){return e in t}class yce extends IV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(vce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ta()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function xce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=ON(e)&&!GU(e)?new RV(t):new LV(t);r.mount(e),Fv.set(e,r)}function bce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new yce(t);r.mount(e),Fv.set(e,r)}function wce(e,t){return Ya(e)||typeof e=="number"||typeof e=="string"&&!VN(t)}function BV(e,t,r,n){const a=[];if(wce(e,t))a.push(_V(e,VN(t)&&t.default||t,r&&(r.default||r)));else{const i=$V(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?xce:bce;Fv.has(l)||c(l);const u=Fv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...UN(u,{...t,transition:f},{}))}}return a}function _ce(e,t,r){const n=[];return dce(e,t,r,{spring:jv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...BV(o,i,s))}),n}function Sce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Ace(e){function t(r,n,a){let i=[];return Sce(r)?i=_ce(r,n,e):i=BV(r,n,a,e),new Zie(i)}return t}const Jj=Ace(),Tce=()=>{const{user:e,logout:t}=Na(),r=L1(),{isDarkMode:n}=en(),[a,i]=U.useState(!1),s=h=>h.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:d.jsx(gZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:d.jsx(is,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:d.jsx(wZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:d.jsx(xZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:d.jsx(uZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:d.jsx(fZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:d.jsx(r9,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:d.jsx(AZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:d.jsx(cZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:d.jsx(oZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:d.jsx(SZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return d.jsxs(Wn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[d.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx(Wn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(sS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:d.jsx(Wn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),d.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,p)=>d.jsx(Wn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:d.jsx("div",{className:"group relative",children:d.jsx(sS,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>d.jsxs(d.Fragment,{children:[d.jsx(Wn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),d.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsxs(Wn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),d.jsx(Wn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsx(Wn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(xO,{size:20})})]}),d.jsx(Wn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?d.jsx(xv,{size:24}):d.jsx(yZ,{size:24})})]})]})}),d.jsx(YU,{children:a&&d.jsx(Wn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:d.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,p)=>d.jsx(Wn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},children:d.jsx(sS,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:d.jsxs(Wn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,d.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),d.jsx(Wn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Wn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),d.jsxs(Wn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(xO,{size:18}),d.jsx("span",{children:"Logout"})]})]})})]})})})]})},Ece=()=>{const{isAuthenticated:e}=Na(),t=L1(),{isDarkMode:r}=en();return Ie.useEffect(()=>{e||t("/login")},[e,t]),e?d.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[d.jsx(Tce,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:d.jsx(VJ,{})})]}):null},UV=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=U.useState(!1),[s,o]=U.useState(!1);U.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:d.jsx(P4,{className:"text-green-500",size:20}),error:d.jsx(bO,{className:"text-red-500",size:20}),warning:d.jsx(Qd,{className:"text-yellow-500",size:20}),info:d.jsx(mZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(bO,{size:18})})]})})},VV=U.createContext(void 0),au=()=>{const e=U.useContext(VV);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},kce=({children:e})=>{const[t,r]=U.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return d.jsxs(VV.Provider,{value:{showToast:n},children:[e,t&&d.jsx(UV,{message:t.message,type:t.type,onClose:a})]})},Nt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=en(),l=i??o;return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsxs("div",{className:"relative",children:[r&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ie.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),d.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Uu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=U.useState(!1),{isDarkMode:l}=en(),c=a??l,u=()=>{o(!s)};return d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),d.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?d.jsx(pZ,{size:18}):d.jsx(O4,{size:18})})]})},ct=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return d.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Nce=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=Na(),{showToast:u}=au(),{isDarkMode:f,toggleDarkMode:h}=en(),p=L1();U.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?p("/add"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return d.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[d.jsx(Wn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"max-w-md p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),d.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),d.jsx(Wn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[d.jsx(bZ,{size:48,className:"mx-auto text-blue-600"}),d.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),d.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),d.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),d.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?d.jsx(a9,{size:20}):d.jsx(n9,{size:20})})]}),a&&d.jsx(Wn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(Nt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:d.jsx(I4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),d.jsx(Uu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),d.jsx(ct,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},oi=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=en(),i=wT(0),s=wT(0),o=Gj(i,Math.round),l=Gj(s,Math.round);return Ie.useEffect(()=>{if(typeof t=="number"){const c=Jj(i,t,{duration:1});if(n){const u=Jj(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),d.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),d.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?d.jsx(Wn.span,{children:o}):t}),n&&d.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||d.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),d.jsx(Wn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&d.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),d.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},tf=()=>{const{isDarkMode:e}=en();return d.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),d.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:d.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},PS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=en();return d.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&d.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:d.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),d.jsx("div",{className:"p-6",children:t})]})};function Jr(e){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(e)}function Yl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function hn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function vn(e){hn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Jr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Cce(e,t){hn(2,arguments);var r=vn(e),n=Yl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Pce(e,t){hn(2,arguments);var r=vn(e).getTime(),n=Yl(t);return new Date(r+n)}var Oce={};function X1(){return Oce}function _T(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function fb(e){hn(1,arguments);var t=vn(e);return t.setHours(0,0,0,0),t}function c2(e,t){hn(2,arguments);var r=vn(e),n=vn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var zV=6e4,qV=36e5;function Ice(e){return hn(1,arguments),e instanceof Date||Jr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jce(e){if(hn(1,arguments),!Ice(e)&&typeof e!="number")return!1;var t=vn(e);return!isNaN(Number(t))}function Dce(e,t){hn(2,arguments);var r=vn(e),n=vn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Lce(e,t){return hn(2,arguments),vn(e).getTime()-vn(t).getTime()}var Zj={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Mce="trunc";function Rce(e){return e?Zj[e]:Zj[Mce]}function $v(e){hn(1,arguments);var t=vn(e);return t.setHours(23,59,59,999),t}function Fce(e){hn(1,arguments);var t=vn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $ce(e){hn(1,arguments);var t=vn(e);return $v(t).getTime()===Fce(t).getTime()}function Bce(e,t){hn(2,arguments);var r=vn(e),n=vn(t),a=c2(r,n),i=Math.abs(Dce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=c2(r,n)===-a;$ce(vn(e))&&i===1&&c2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Uce(e,t,r){hn(2,arguments);var n=Lce(e,t)/1e3;return Rce(void 0)(n)}function Vce(e,t){hn(2,arguments);var r=Yl(t);return Pce(e,-r)}var zce=864e5;function qce(e){hn(1,arguments);var t=vn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/zce)+1}function db(e){hn(1,arguments);var t=1,r=vn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function WV(e){hn(1,arguments);var t=vn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=db(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=db(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Wce(e){hn(1,arguments);var t=WV(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=db(r);return n}var Hce=6048e5;function Gce(e){hn(1,arguments);var t=vn(e),r=db(t).getTime()-Wce(t).getTime();return Math.round(r/Hce)+1}function hb(e,t){var r,n,a,i,s,o,l,c;hn(1,arguments);var u=X1(),f=Yl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=vn(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function HV(e,t){var r,n,a,i,s,o,l,c;hn(1,arguments);var u=vn(e),f=u.getUTCFullYear(),h=X1(),p=Yl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=hb(g,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=hb(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Kce(e,t){var r,n,a,i,s,o,l,c;hn(1,arguments);var u=X1(),f=Yl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=HV(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=hb(p,t);return g}var Yce=6048e5;function Xce(e,t){hn(1,arguments);var r=vn(e),n=hb(r,t).getTime()-Kce(r,t).getTime();return Math.round(n/Yce)+1}function fn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Mu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return fn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):fn(n+1,2)},d:function(t,r){return fn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return fn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return fn(t.getUTCHours(),r.length)},m:function(t,r){return fn(t.getUTCMinutes(),r.length)},s:function(t,r){return fn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return fn(i,r.length)}},Wh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Mu.y(t,r)},Y:function(t,r,n,a){var i=HV(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return fn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):fn(s,r.length)},R:function(t,r){var n=WV(t);return fn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return fn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return fn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return fn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Mu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return fn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Xce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):fn(i,r.length)},I:function(t,r,n){var a=Gce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):fn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Mu.d(t,r)},D:function(t,r,n){var a=qce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):fn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return fn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return fn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return fn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Wh.noon:a===0?i=Wh.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Wh.evening:a>=12?i=Wh.afternoon:a>=4?i=Wh.morning:i=Wh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Mu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Mu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):fn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):fn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Mu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Mu.s(t,r)},S:function(t,r){return Mu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return tD(s);case"XXXX":case"XX":return xd(s);case"XXXXX":case"XXX":default:return xd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return tD(s);case"xxxx":case"xx":return xd(s);case"xxxxx":case"xxx":default:return xd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+eD(s,":");case"OOOO":default:return"GMT"+xd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+eD(s,":");case"zzzz":default:return"GMT"+xd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return fn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return fn(s,r.length)}};function eD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+fn(i,2)}function tD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+fn(Math.abs(e)/60,2)}return xd(e,t)}function xd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=fn(Math.floor(a/60),2),s=fn(a%60,2);return n+i+r+s}var rD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},GV=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Jce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return rD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",rD(a,r)).replace("{{time}}",GV(i,r))},Zce={p:GV,P:Jce},eue=["D","DD"],tue=["YY","YYYY"];function rue(e){return eue.indexOf(e)!==-1}function nue(e){return tue.indexOf(e)!==-1}function nD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var aue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iue=function(t,r,n){var a,i=aue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function OS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var sue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cue={date:OS({formats:sue,defaultWidth:"full"}),time:OS({formats:oue,defaultWidth:"full"}),dateTime:OS({formats:lue,defaultWidth:"full"})},uue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fue=function(t,r,n,a){return uue[t]};function Fm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var due={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xue={ordinalNumber:yue,era:Fm({values:due,defaultWidth:"wide"}),quarter:Fm({values:hue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Fm({values:pue,defaultWidth:"wide"}),day:Fm({values:mue,defaultWidth:"wide"}),dayPeriod:Fm({values:gue,defaultWidth:"wide",formattingValues:vue,defaultFormattingWidth:"wide"})};function $m(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?wue(o,function(f){return f.test(s)}):bue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function bue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function wue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function _ue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var Sue=/^(\d+)(th|st|nd|rd)?/i,Aue=/\d+/i,Tue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Eue={any:[/^b/i,/^(a|c)/i]},kue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nue={any:[/1/i,/2/i,/3/i,/4/i]},Cue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Due={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lue={ordinalNumber:_ue({matchPattern:Sue,parsePattern:Aue,valueCallback:function(t){return parseInt(t,10)}}),era:$m({matchPatterns:Tue,defaultMatchWidth:"wide",parsePatterns:Eue,defaultParseWidth:"any"}),quarter:$m({matchPatterns:kue,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:$m({matchPatterns:Cue,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"}),day:$m({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any"}),dayPeriod:$m({matchPatterns:jue,defaultMatchWidth:"any",parsePatterns:Due,defaultParseWidth:"any"})},KV={code:"en-US",formatDistance:iue,formatLong:cue,formatRelative:fue,localize:xue,match:Lue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Mue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fue=/^'([^]*?)'?$/,$ue=/''/g,Bue=/[a-zA-Z]/;function Qt(e,t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v;hn(2,arguments);var y=String(t),b=X1(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:KV,O=Yl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Yl((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var I=vn(e);if(!jce(I))throw new RangeError("Invalid time value");var T=_T(I),S=Vce(I,T),A={firstWeekContainsDate:O,weekStartsOn:C,locale:w,_originalDate:I},j=y.match(Rue).map(function(E){var k=E[0];if(k==="p"||k==="P"){var D=Zce[k];return D(E,w.formatLong)}return E}).join("").match(Mue).map(function(E){if(E==="''")return"'";var k=E[0];if(k==="'")return Uue(E);var D=Qce[k];if(D)return nue(E)&&nD(E,t,String(e)),rue(E)&&nD(E,t,String(e)),D(S,E,w.localize,A);if(k.match(Bue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return E}).join("");return j}function Uue(e){var t=e.match(Fue);return t?t[1].replace($ue,"'"):e}function YV(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Vue(e){return YV({},e)}var aD=1440,zue=2520,IS=43200,que=86400;function Wue(e,t,r){var n,a;hn(2,arguments);var i=X1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:KV;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=c2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=YV(Vue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=vn(t),u=vn(e)):(c=vn(e),u=vn(t));var f=Uce(u,c),h=(_T(u)-_T(c))/1e3,p=Math.round((f-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<aD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<zue)return s.formatDistance("xDays",1,l);if(p<IS){var v=Math.round(p/aD);return s.formatDistance("xDays",v,l)}else if(p<que)return g=Math.round(p/IS),s.formatDistance("aboutXMonths",g,l)}if(g=Bce(u,c),g<12){var y=Math.round(p/IS);return s.formatDistance("xMonths",y,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Hue(e,t){return hn(1,arguments),Wue(e,Date.now(),t)}function Sr(e,t){hn(2,arguments);var r=Yl(t);return Cce(e,-r)}function Gue(e,t){var r;hn(1,arguments);var n=Yl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Que(e),i;if(a.date){var s=Jue(a.date,n);i=Zue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=efe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=tfe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var ux={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Yue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Xue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Que(e){var t={},r=e.split(ux.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ux.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ux.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=ux.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Jue(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Zue(e,t){if(t===null)return new Date(NaN);var r=e.match(Kue);if(!r)return new Date(NaN);var n=!!r[4],a=Bm(r[1]),i=Bm(r[2])-1,s=Bm(r[3]),o=Bm(r[4]),l=Bm(r[5])-1;if(n)return sfe(t,o,l)?rfe(t,o,l):new Date(NaN);var c=new Date(0);return!afe(t,i,s)||!ife(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Bm(e){return e?parseInt(e):1}function efe(e){var t=e.match(Yue);if(!t)return NaN;var r=jS(t[1]),n=jS(t[2]),a=jS(t[3]);return ofe(r,n,a)?r*qV+n*zV+a*1e3:NaN}function jS(e){return e&&parseFloat(e.replace(",","."))||0}function tfe(e){if(e==="Z")return 0;var t=e.match(Xue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return lfe(n,a)?r*(n*qV+a*zV):NaN}function rfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var nfe=[31,null,31,30,31,30,31,31,30,31,30,31];function XV(e){return e%400===0||e%4===0&&e%100!==0}function afe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(nfe[t]||(XV(e)?29:28))}function ife(e,t){return t>=1&&t<=(XV(e)?366:365)}function sfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ofe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function lfe(e,t){return t>=0&&t<=59}const cfe=()=>{const[e,t]=U.useState(!0),[r,n]=U.useState([]),[a,i]=U.useState([]),[s,o]=U.useState([]),[l,c]=U.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=en(),f=async()=>{t(!0);try{const m=new Date,v=Sr(m,30),y=Sr(m,1),b=m,w=er(kt(et,"orders"),Jt("createdAt",">=",tr.fromDate(v)),Jt("createdAt","<=",tr.fromDate(m))),O=er(kt(et,"orders"),Jt("createdAt",">=",tr.fromDate(y)),Jt("createdAt","<=",tr.fromDate(b))),C=er(kt(et,"inventory")),I=er(kt(et,"inventory"),Jt("lastUpdated",">=",tr.fromDate(y)),Jt("lastUpdated","<=",tr.fromDate(b))),[T,S,A,j]=await Promise.all([nr(w),nr(O),nr(C),nr(I)]),E=T.docs.map(Le=>({id:Le.id,...Le.data()})),k=S.docs.map(Le=>({id:Le.id,...Le.data()})),D=S.docs.length,V=A.docs.reduce((Le,Ye)=>{const je=Ye.data();return Le+(je.quantity||0)},0),X=j.docs.reduce((Le,Ye)=>{const je=Ye.data();return Le+(je.quantityChange||0)},0),Y=A.docs.reduce((Le,Ye)=>{const je=Ye.data();return Le+(je.quantity||0)*(je.price||0)},0),J=E.length,H=k.reduce((Le,Ye)=>Le+(Ye.totalAmount||0),0),z=er(kt(et,"inventory")),W=(await nr(z)).docs.map(Le=>({id:Le.id,...Le.data()})),P=W.filter(Le=>Le.quantity<=10),F=W.filter(Le=>Le.quantity>10&&Le.quantity<=25);console.log("All stock items:",W),console.log("Critical items:",P),console.log("Low stock items:",F),i(P),o(F);const q=new Date,K=fb(q),Z=$v(q),ce=fb(Sr(q,1)),de=$v(Sr(q,1)),ae=er(kt(et,"activityLogs"),Jt("time",">=",K.toISOString()),Jt("time","<=",Z.toISOString())),he=er(kt(et,"activityLogs"),Jt("time",">=",ce.toISOString()),Jt("time","<=",de.toISOString())),[Se,B]=await Promise.all([nr(ae),nr(he)]),Ee=Se.docs.map(Le=>Le.data()),ve=B.docs.map(Le=>Le.data()),xe=Ee.reduce((Le,Ye)=>{const je=Ye.detail.match(/(\d+) units deducted/);return Le+(je?parseInt(je[1]):0)},0),te=ve.reduce((Le,Ye)=>{const je=Ye.detail.match(/(\d+) units deducted/);return Le+(je?parseInt(je[1]):0)},0),Ne=Ee.reduce((Le,Ye)=>{const je=Ye.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Le+(je?parseInt(je[1]):0)},0),Be=Ee.reduce((Le,Ye)=>{const je=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(je){const[,Qe,pt]=je,ot=A.docs.find(St=>St.data().name===Qe);if(ot){const St=ot.data().price||0;return Le+parseInt(pt)*St}}return Le},0),Ue=Ee.reduce((Le,Ye)=>{const je=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const pt of Qe){const ot=je.match(pt);if(ot)if(ot.length===3){const St=parseInt(ot[1]),jt=parseInt(ot[2]);return Le+Math.abs(St-jt)}else return Le+parseInt(ot[1])}return Le+1}return Le},0),Ze=ve.reduce((Le,Ye)=>{const je=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const pt of Qe){const ot=je.match(pt);if(ot)if(ot.length===3){const St=parseInt(ot[1]),jt=parseInt(ot[2]);return Le+Math.abs(St-jt)}else return Le+parseInt(ot[1])}return Le+1}return Le},0);c({totalOrders:J,totalStock:V,totalInventoryValue:Y,todayDamagedProducts:Ue,yesterdayDamagedProducts:Ze,yesterdayOrders:D,yesterdayStockChange:X,yesterdayRevenue:H,totalDeductions:xe,yesterdayDeductions:te,todayStockAdditions:Ne,todayInventoryValueAdditions:Be})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=er(kt(et,"activityLogs"),La("time","desc"),og(5)),y=(await nr(m)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},p=async()=>{await Promise.all([f(),h()])};U.useEffect(()=>{p()},[]);const g=()=>{const{isDarkMode:m}=en();return d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>d.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return d.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),d.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),d.jsx(ct,{variant:"secondary",onClick:p,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ji,{size:16,className:e?"animate-spin":""})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?d.jsxs(d.Fragment,{children:[d.jsx(tf,{}),d.jsx(tf,{}),d.jsx(tf,{}),d.jsx(tf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(oi,{title:"Total Stock",value:l.totalStock,icon:d.jsx(tp,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:d.jsx(is,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),d.jsx(oi,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:d.jsx(i9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),d.jsx(oi,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),d.jsx(oi,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:d.jsx(z2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:d.jsx(is,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(PS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):r.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),d.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Hue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),d.jsx(PS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):s.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsx(PS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):a.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},Sn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=en(),o=U.useRef(null);if(U.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),U.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),d.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),d.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:d.jsx(xv,{size:20})})]}),d.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},hh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=U.useState(!1);return U.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),d.jsx(Sn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:d.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:d.jsx(Bc,{size:32,className:"text-blue-500"})}),d.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&d.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var QV=1252,ufe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},qN=function(e){ufe.indexOf(e)!=-1&&(QV=zN[0]=e)};function ffe(){qN(1252)}var sl=function(e){qN(e)};function JV(){sl(1200),ffe()}function iD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function dfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function ZV(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ug=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?dfe(e.slice(2)):t==254&&r==255?ZV(e.slice(2)):t==65279?e.slice(1):e},fx=function(t){return String.fromCharCode(t)},sD=function(t){return String.fromCharCode(t)},Ku,rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function oD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=rf.charAt(i)+rf.charAt(s)+rf.charAt(o)+rf.charAt(l);return t}function Xs(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=rf.indexOf(e.charAt(c++)),s=rf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=rf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=rf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Rr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ph=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mf(e){return Rr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function lD(e){return Rr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var al=function(t){return Rr?ph(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function mh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function WN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return WN(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Yu=Rr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ph(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function hfe(e){for(var t=[],r=0,n=e.length+250,a=Mf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mf(65535),n=65530)}return t.push(a.slice(0,r)),Yu(t)}var os=/\u0000/g,fg=/[\u0001-\u0006]/g;function L0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ol(e,t){var r=""+e;return r.length>=t?r:sa("0",t-r.length)+r}function HN(e,t){var r=""+e;return r.length>=t?r:sa(" ",t-r.length)+r}function pb(e,t){var r=""+e;return r.length>=t?r:r+sa(" ",t-r.length)}function pfe(e,t){var r=""+Math.round(e);return r.length>=t?r:sa("0",t-r.length)+r}function mfe(e,t){var r=""+e;return r.length>=t?r:sa("0",t-r.length)+r}var cD=Math.pow(2,32);function Hh(e,t){if(e>cD||e<-cD)return pfe(e,t);var r=Math.round(e);return mfe(r,t)}function mb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var uD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],DS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Ar={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},fD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function gb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Id(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Sfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var ez=new Date(1899,11,31,0,0,0),yfe=ez.getTime(),xfe=new Date(1900,2,1,0,0,0);function tz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=xfe&&(r+=24*60*60*1e3),(r-(yfe+(e.getTimezoneOffset()-ez.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function GN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function wfe(e){var t=e<0?12:11,r=GN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function _fe(e){var t=GN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Bv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=wfe(e):t===10?r=e.toFixed(10).substr(0,12):r=_fe(e),GN(bfe(r.toUpperCase()))}function th(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Bv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return No(14,tz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Sfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Afe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return DS[r.m-1][1];case 5:return DS[r.m-1][0];default:return DS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return uD[r.q][0];default:return uD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ol(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=ol(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ol(l,c):"";return u}function nf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var rz=/%/g;function Tfe(e,t,r){var n=t.replace(rz,""),a=t.length-n.length;return Pc(e,n,r*Math.pow(10,2*a))+sa("%",a)}function Efe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Pc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var az=/# (\?+)( ?)\/( ?)(\d+)/;function kfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?sa(" ",e[1].length+1+e[4].length):HN(s,e[1].length)+e[2]+"/"+e[3]+ol(o,e[4].length))}function Nfe(e,t,r){return r+(t===0?"":""+t)+sa(" ",e[1].length+2+e[4].length)}var iz=/^#*0*\.([0#]+)/,sz=/\).*[0#]/,oz=/\(###\) ###\\?-####/;function Ji(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function dD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function hD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Cfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Pfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function po(e,t,r){if(e.charCodeAt(0)===40&&!t.match(sz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?po("n",n,r):"("+po("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Efe(e,t,r);if(t.indexOf("%")!==-1)return Tfe(e,t,r);if(t.indexOf("E")!==-1)return nz(t,r);if(t.charCodeAt(0)===36)return"$"+po(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Hh(l,t.length);if(t.match(/^[#?]+$/))return a=Hh(r,0),a==="0"&&(a=""),a.length>t.length?a:Ji(t.substr(0,t.length-a.length))+a;if(i=t.match(az))return kfe(i,l,c);if(t.match(/^#+0+$/))return c+Hh(l,t.length-t.indexOf("0"));if(i=t.match(iz))return a=dD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ji(i[1])).replace(/\.$/,"."+Ji(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+sa("0",Ji(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+dD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+nf(Hh(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+po(e,t,-r):nf(""+(Math.floor(r)+Cfe(r,i[1].length)))+"."+ol(hD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return po(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=L0(po(e,t.replace(/[\\-]/g,""),r)),s=0,L0(L0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(oz))return a=po(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=gb(l,Math.pow(10,s)-1,!1),a=""+c,u=Pc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pb(o[2],s),u.length<i[4].length&&(u=Ji(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=gb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?HN(o[1],s)+i[2]+"/"+i[3]+pb(o[2],s):sa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Hh(r,0),t.length<=a.length?a:Ji(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ji(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=hD(r,i[1].length),r<0?"-"+po(e,t,-r):nf(Pfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ol(0,3-g.length):"")+g})+"."+ol(s,i[1].length);switch(t){case"###,##0.00":return po(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=nf(Hh(l,0));return p!=="0"?c+p:"";case"###,###.00":return po(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return po(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ofe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Pc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Ife(e,t,r){var n=t.replace(rz,""),a=t.length-n.length;return Pc(e,n,r*Math.pow(10,2*a))+sa("%",a)}function lz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ol(e,t,r){if(e.charCodeAt(0)===40&&!t.match(sz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ol("n",n,r):"("+Ol("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ofe(e,t,r);if(t.indexOf("%")!==-1)return Ife(e,t,r);if(t.indexOf("E")!==-1)return lz(t,r);if(t.charCodeAt(0)===36)return"$"+Ol(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ol(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ji(t.substr(0,t.length-a.length))+a;if(i=t.match(az))return Nfe(i,l,c);if(t.match(/^#+0+$/))return c+ol(l,t.length-t.indexOf("0"));if(i=t.match(iz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ji(i[1])).replace(/\.$/,"."+Ji(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+sa("0",Ji(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+nf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ol(e,t,-r):nf(""+r)+"."+sa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ol(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=L0(Ol(e,t.replace(/[\\-]/g,""),r)),s=0,L0(L0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(oz))return a=Ol(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=gb(l,Math.pow(10,s)-1,!1),a=""+c,u=Pc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pb(o[2],s),u.length<i[4].length&&(u=Ji(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=gb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?HN(o[1],s)+i[2]+"/"+i[3]+pb(o[2],s):sa(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ji(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ji(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ol(e,t,-r):nf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ol(0,3-g.length):"")+g})+"."+ol(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=nf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ol(e,t.slice(0,t.lastIndexOf(".")),r)+Ji(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Pc(e,t,r){return(r|0)===r?Ol(e,t,r):po(e,t,r)}function jfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Qp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":mb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(cz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Dfe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!mb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Id(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Id(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Id(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(cz)){if(c==null&&(c=Id(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Qp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Afe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;w+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=th(t,r);break}var C="",I,T;if(w.length>0){w.charCodeAt(0)==40?(I=t<0&&w.charCodeAt(0)===45?-t:t,T=Pc("n",w,I)):(I=t<0&&n>1?-t:t,T=Pc("n",w,I),I<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),O=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var A=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=T.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=T.substr(0,O+1),O=-1),a[s].t="t",A=s);O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(O=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,C=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(C=T.charAt(O--)+C);a[s].v=C,a[s].t="t",A=s}for(O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v),O=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,C=a[s].v.substr(0,u);u<a[s].v.length;++u)O<T.length&&(C+=T.charAt(O++));a[s].v=C,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(I=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Pc(a[s].t,a[s].v,I),a[s].t="t");var j="";for(s=0;s!==a.length;++s)a[s]!=null&&(j+=a[s].v);return j}var pD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Lfe(e,t){var r=jfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(pD),o=r[1].match(pD);return mD(t,s)?[n,r[0]]:mD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function No(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ar)[e],n==null&&(n=r.table&&r.table[fD[e]]||Ar[fD[e]]),n==null&&(n=vfe[e]||"General");break}if(mb(n,0))return th(t,r);t instanceof Date&&(t=tz(t,r.date1904));var a=Lfe(n,t);if(mb(a[1]))return th(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Dfe(a[1],t,r,a[0])}function Ud(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ar[r]==null){t<0&&(t=r);continue}if(Ar[r]==e){t=r;break}}t<0&&(t=391)}return Ar[t]=e,t}function uz(){Ar=gfe()}var Mfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Rfe(e){var t=typeof e=="number"?Ar[e]:e;return t=t.replace(fz,"(\\d+)"),new RegExp("^"+t+"$")}function Ffe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(fz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var $fe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[A]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,A=0,j=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)E[j]=T[j];for(j=0;j!=256;++j)for(A=T[j],S=256+j;S<4096;S+=256)A=E[S]=A>>>8^T[A&255];var k=[];for(j=1;j!=16;++j)k[j-1]=typeof Int32Array<"u"?E.subarray(j*256,j*256+256):E.slice(j*256,j*256+256);return k}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function O(T,S){for(var A=S^-1,j=0,E=T.length;j<E;)A=A>>>8^r[(A^T.charCodeAt(j++))&255];return~A}function C(T,S){for(var A=S^-1,j=T.length-15,E=0;E<j;)A=w[T[E++]^A&255]^b[T[E++]^A>>8&255]^y[T[E++]^A>>16&255]^v[T[E++]^A>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(j+=15;E<j;)A=A>>>8^r[(A^T[E++])&255];return~A}function I(T,S){for(var A=S^-1,j=0,E=T.length,k=0,D=0;j<E;)k=T.charCodeAt(j++),k<128?A=A>>>8^r[(A^k)&255]:k<2048?(A=A>>>8^r[(A^(192|k>>6&31))&255],A=A>>>8^r[(A^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,D=T.charCodeAt(j++)&1023,A=A>>>8^r[(A^(240|k>>8&7))&255],A=A>>>8^r[(A^(128|k>>2&63))&255],A=A>>>8^r[(A^(128|D>>6&15|(k&3)<<4))&255],A=A>>>8^r[(A^(128|D&63))&255]):(A=A>>>8^r[(A^(224|k>>12&15))&255],A=A>>>8^r[(A^(128|k>>6&63))&255],A=A>>>8^r[(A^(128|k&63))&255]);return~A}return e.table=r,e.bstr=O,e.buf=C,e.str=I,e}(),Ur=function(){var t={};t.version="1.2.1";function r(se,we){for(var me=se.split("/"),ge=we.split("/"),_e=0,Ae=0,Ve=Math.min(me.length,ge.length);_e<Ve;++_e){if(Ae=me[_e].length-ge[_e].length)return Ae;if(me[_e]!=ge[_e])return me[_e]<ge[_e]?-1:1}return me.length-ge.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(0,we+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(we+1)}function i(se,we){typeof we=="string"&&(we=new Date(we));var me=we.getHours();me=me<<6|we.getMinutes(),me=me<<5|we.getSeconds()>>>1,se.write_shift(2,me);var ge=we.getFullYear()-1980;ge=ge<<4|we.getMonth()+1,ge=ge<<5|we.getDate(),se.write_shift(2,ge)}function s(se){var we=se.read_shift(2)&65535,me=se.read_shift(2)&65535,ge=new Date,_e=me&31;me>>>=5;var Ae=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(Ae-1),ge.setDate(_e);var Ve=we&31;we>>>=5;var Xe=we&63;return we>>>=6,ge.setHours(we),ge.setMinutes(Xe),ge.setSeconds(Ve<<1),ge}function o(se){ci(se,0);for(var we={},me=0;se.l<=se.length-4;){var ge=se.read_shift(2),_e=se.read_shift(2),Ae=se.l+_e,Ve={};switch(ge){case 21589:me=se.read_shift(1),me&1&&(Ve.mtime=se.read_shift(4)),_e>5&&(me&2&&(Ve.atime=se.read_shift(4)),me&4&&(Ve.ctime=se.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}se.l=Ae,we[ge]=Ve}return we}var l;function c(){return l||(l={})}function u(se,we){if(se[0]==80&&se[1]==75)return ke(se,we);if((se[0]|32)==109&&(se[1]|32)==105)return Za(se,we);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var me=3,ge=512,_e=0,Ae=0,Ve=0,Xe=0,ze=0,qe=[],Ge=se.slice(0,512);ci(Ge,0);var yt=f(Ge);switch(me=yt[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(yt[1]==0)return ke(se,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Ge=se.slice(0,ge),ci(Ge,28));var Dt=se.slice(0,ge);h(Ge,me);var ie=Ge.read_shift(4,"i");if(me===3&&ie!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ie);Ge.l+=4,Ve=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Xe=Ge.read_shift(4,"i"),_e=Ge.read_shift(4,"i"),ze=Ge.read_shift(4,"i"),Ae=Ge.read_shift(4,"i");for(var ye=-1,$e=0;$e<109&&(ye=Ge.read_shift(4,"i"),!(ye<0));++$e)qe[$e]=ye;var Et=p(se,ge);v(ze,Ae,Et,ge,qe);var nt=b(Et,Ve,qe,ge);nt[Ve].name="!Directory",_e>0&&Xe!==D&&(nt[Xe].name="!MiniFAT"),nt[qe[0]].name="!FAT",nt.fat_addrs=qe,nt.ssz=ge;var tt={},vt=[],Lt=[],Xt=[];w(Ve,nt,Et,vt,_e,tt,Lt,Xe),g(Lt,Xt,vt),vt.shift();var ir={FileIndex:Lt,FullPaths:Xt};return we&&we.raw&&(ir.raw={header:Dt,sectors:Et}),ir}function f(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(V,"Header Signature: "),se.l+=16;var we=se.read_shift(2,"u");return[se.read_shift(2,"u"),we]}function h(se,we){var me=9;switch(se.l+=2,me=se.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function p(se,we){for(var me=Math.ceil(se.length/we)-1,ge=[],_e=1;_e<me;++_e)ge[_e-1]=se.slice(_e*we,(_e+1)*we);return ge[me-1]=se.slice(me*we),ge}function g(se,we,me){for(var ge=0,_e=0,Ae=0,Ve=0,Xe=0,ze=me.length,qe=[],Ge=[];ge<ze;++ge)qe[ge]=Ge[ge]=ge,we[ge]=me[ge];for(;Xe<Ge.length;++Xe)ge=Ge[Xe],_e=se[ge].L,Ae=se[ge].R,Ve=se[ge].C,qe[ge]===ge&&(_e!==-1&&qe[_e]!==_e&&(qe[ge]=qe[_e]),Ae!==-1&&qe[Ae]!==Ae&&(qe[ge]=qe[Ae])),Ve!==-1&&(qe[Ve]=ge),_e!==-1&&ge!=qe[ge]&&(qe[_e]=qe[ge],Ge.lastIndexOf(_e)<Xe&&Ge.push(_e)),Ae!==-1&&ge!=qe[ge]&&(qe[Ae]=qe[ge],Ge.lastIndexOf(Ae)<Xe&&Ge.push(Ae));for(ge=1;ge<ze;++ge)qe[ge]===ge&&(Ae!==-1&&qe[Ae]!==Ae?qe[ge]=qe[Ae]:_e!==-1&&qe[_e]!==_e&&(qe[ge]=qe[_e]));for(ge=1;ge<ze;++ge)if(se[ge].type!==0){if(Xe=ge,Xe!=qe[Xe])do Xe=qe[Xe],we[ge]=we[Xe]+"/"+we[ge];while(Xe!==0&&qe[Xe]!==-1&&Xe!=qe[Xe]);qe[ge]=-1}for(we[0]+="/",ge=1;ge<ze;++ge)se[ge].type!==2&&(we[ge]+="/")}function m(se,we,me){for(var ge=se.start,_e=se.size,Ae=[],Ve=ge;me&&_e>0&&Ve>=0;)Ae.push(we.slice(Ve*k,Ve*k+k)),_e-=k,Ve=Ad(me,Ve*4);return Ae.length===0?Ia(0):Yu(Ae).slice(0,se.size)}function v(se,we,me,ge,_e){var Ae=D;if(se===D){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ve=me[se],Xe=(ge>>>2)-1;if(!Ve)return;for(var ze=0;ze<Xe&&(Ae=Ad(Ve,ze*4))!==D;++ze)_e.push(Ae);v(Ad(Ve,ge-4),we-1,me,ge,_e)}}function y(se,we,me,ge,_e){var Ae=[],Ve=[];_e||(_e=[]);var Xe=ge-1,ze=0,qe=0;for(ze=we;ze>=0;){_e[ze]=!0,Ae[Ae.length]=ze,Ve.push(se[ze]);var Ge=me[Math.floor(ze*4/ge)];if(qe=ze*4&Xe,ge<4+qe)throw new Error("FAT boundary crossed: "+ze+" 4 "+ge);if(!se[Ge])break;ze=Ad(se[Ge],qe)}return{nodes:Ae,data:TD([Ve])}}function b(se,we,me,ge){var _e=se.length,Ae=[],Ve=[],Xe=[],ze=[],qe=ge-1,Ge=0,yt=0,Dt=0,ie=0;for(Ge=0;Ge<_e;++Ge)if(Xe=[],Dt=Ge+we,Dt>=_e&&(Dt-=_e),!Ve[Dt]){ze=[];var ye=[];for(yt=Dt;yt>=0;){ye[yt]=!0,Ve[yt]=!0,Xe[Xe.length]=yt,ze.push(se[yt]);var $e=me[Math.floor(yt*4/ge)];if(ie=yt*4&qe,ge<4+ie)throw new Error("FAT boundary crossed: "+yt+" 4 "+ge);if(!se[$e]||(yt=Ad(se[$e],ie),ye[yt]))break}Ae[Dt]={nodes:Xe,data:TD([ze])}}return Ae}function w(se,we,me,ge,_e,Ae,Ve,Xe){for(var ze=0,qe=ge.length?2:0,Ge=we[se].data,yt=0,Dt=0,ie;yt<Ge.length;yt+=128){var ye=Ge.slice(yt,yt+128);ci(ye,64),Dt=ye.read_shift(2),ie=JN(ye,0,Dt-qe),ge.push(ie);var $e={name:ie,type:ye.read_shift(1),color:ye.read_shift(1),L:ye.read_shift(4,"i"),R:ye.read_shift(4,"i"),C:ye.read_shift(4,"i"),clsid:ye.read_shift(16),state:ye.read_shift(4,"i"),start:0,size:0},Et=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);Et!==0&&($e.ct=O(ye,ye.l-8));var nt=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);nt!==0&&($e.mt=O(ye,ye.l-8)),$e.start=ye.read_shift(4,"i"),$e.size=ye.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=D,$e.name=""),$e.type===5?(ze=$e.start,_e>0&&ze!==D&&(we[ze].name="!StreamData")):$e.size>=4096?($e.storage="fat",we[$e.start]===void 0&&(we[$e.start]=y(me,$e.start,we.fat_addrs,we.ssz)),we[$e.start].name=$e.name,$e.content=we[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:ze!==D&&$e.start!==D&&we[ze]&&($e.content=m($e,we[ze].data,(we[Xe]||{}).data))),$e.content&&ci($e.content,0),Ae[ie]=$e,Ve.push($e)}}function O(se,we){return new Date((Us(se,we+4)/1e7*Math.pow(2,32)+Us(se,we)/1e7-11644473600)*1e3)}function C(se,we){return c(),u(l.readFileSync(se),we)}function I(se,we){var me=we&&we.type;switch(me||Rr&&Buffer.isBuffer(se)&&(me="buffer"),me||"base64"){case"file":return C(se,we);case"base64":return u(al(Xs(se)),we);case"binary":return u(al(se),we)}return u(se,we)}function T(se,we){var me=we||{},ge=me.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=ge+"/",se.FileIndex[0]={name:ge,type:5}),me.CLSID&&(se.FileIndex[0].clsid=me.CLSID),S(se)}function S(se){var we="Sh33tJ5";if(!Ur.find(se,"/"+we)){var me=Ia(4);me[0]=55,me[1]=me[3]=50,me[2]=54,se.FileIndex.push({name:we,type:2,content:me,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+we),A(se)}}function A(se,we){T(se);for(var me=!1,ge=!1,_e=se.FullPaths.length-1;_e>=0;--_e){var Ae=se.FileIndex[_e];switch(Ae.type){case 0:ge?me=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Ae.R*Ae.L*Ae.C)&&(me=!0),Ae.R>-1&&Ae.L>-1&&Ae.R==Ae.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!we)){var Ve=new Date(1987,1,19),Xe=0,ze=Object.create?Object.create(null):{},qe=[];for(_e=0;_e<se.FullPaths.length;++_e)ze[se.FullPaths[_e]]=!0,se.FileIndex[_e].type!==0&&qe.push([se.FullPaths[_e],se.FileIndex[_e]]);for(_e=0;_e<qe.length;++_e){var Ge=n(qe[_e][0]);ge=ze[Ge],ge||(qe.push([Ge,{name:a(Ge).replace("/",""),type:1,clsid:Y,ct:Ve,mt:Ve,content:null}]),ze[Ge]=!0)}for(qe.sort(function(ie,ye){return r(ie[0],ye[0])}),se.FullPaths=[],se.FileIndex=[],_e=0;_e<qe.length;++_e)se.FullPaths[_e]=qe[_e][0],se.FileIndex[_e]=qe[_e][1];for(_e=0;_e<qe.length;++_e){var yt=se.FileIndex[_e],Dt=se.FullPaths[_e];if(yt.name=a(Dt).replace("/",""),yt.L=yt.R=yt.C=-(yt.color=1),yt.size=yt.content?yt.content.length:0,yt.start=0,yt.clsid=yt.clsid||Y,_e===0)yt.C=qe.length>1?1:-1,yt.size=0,yt.type=5;else if(Dt.slice(-1)=="/"){for(Xe=_e+1;Xe<qe.length&&n(se.FullPaths[Xe])!=Dt;++Xe);for(yt.C=Xe>=qe.length?-1:Xe,Xe=_e+1;Xe<qe.length&&n(se.FullPaths[Xe])!=n(Dt);++Xe);yt.R=Xe>=qe.length?-1:Xe,yt.type=1}else n(se.FullPaths[_e+1]||"")==n(Dt)&&(yt.R=_e+1),yt.type=2}}}function j(se,we){var me=we||{};if(me.fileType=="mad")return zt(se,me);switch(A(se),me.fileType){case"zip":return lt(se,me)}var ge=function(ie){for(var ye=0,$e=0,Et=0;Et<ie.FileIndex.length;++Et){var nt=ie.FileIndex[Et];if(nt.content){var tt=nt.content.length;tt>0&&(tt<4096?ye+=tt+63>>6:$e+=tt+511>>9)}}for(var vt=ie.FullPaths.length+3>>2,Lt=ye+7>>3,Xt=ye+127>>7,ir=Lt+$e+vt+Xt,ur=ir+127>>7,sn=ur<=109?0:Math.ceil((ur-109)/127);ir+ur+sn+127>>7>ur;)sn=++ur<=109?0:Math.ceil((ur-109)/127);var on=[1,sn,ur,Xt,vt,$e,ye,0];return ie.FileIndex[0].size=ye<<6,on[7]=(ie.FileIndex[0].start=on[0]+on[1]+on[2]+on[3]+on[4]+on[5])+(on[6]+7>>3),on}(se),_e=Ia(ge[7]<<9),Ae=0,Ve=0;{for(Ae=0;Ae<8;++Ae)_e.write_shift(1,X[Ae]);for(Ae=0;Ae<8;++Ae)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Ae=0;Ae<3;++Ae)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,ge[2]),_e.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:D),_e.write_shift(4,ge[3]),_e.write_shift(-4,ge[1]?ge[0]-1:D),_e.write_shift(4,ge[1]),Ae=0;Ae<109;++Ae)_e.write_shift(-4,Ae<ge[2]?ge[1]+Ae:-1)}if(ge[1])for(Ve=0;Ve<ge[1];++Ve){for(;Ae<236+Ve*127;++Ae)_e.write_shift(-4,Ae<ge[2]?ge[1]+Ae:-1);_e.write_shift(-4,Ve===ge[1]-1?D:Ve+1)}var Xe=function(ie){for(Ve+=ie;Ae<Ve-1;++Ae)_e.write_shift(-4,Ae+1);ie&&(++Ae,_e.write_shift(-4,D))};for(Ve=Ae=0,Ve+=ge[1];Ae<Ve;++Ae)_e.write_shift(-4,J.DIFSECT);for(Ve+=ge[2];Ae<Ve;++Ae)_e.write_shift(-4,J.FATSECT);Xe(ge[3]),Xe(ge[4]);for(var ze=0,qe=0,Ge=se.FileIndex[0];ze<se.FileIndex.length;++ze)Ge=se.FileIndex[ze],Ge.content&&(qe=Ge.content.length,!(qe<4096)&&(Ge.start=Ve,Xe(qe+511>>9)));for(Xe(ge[6]+7>>3);_e.l&511;)_e.write_shift(-4,J.ENDOFCHAIN);for(Ve=Ae=0,ze=0;ze<se.FileIndex.length;++ze)Ge=se.FileIndex[ze],Ge.content&&(qe=Ge.content.length,!(!qe||qe>=4096)&&(Ge.start=Ve,Xe(qe+63>>6)));for(;_e.l&511;)_e.write_shift(-4,J.ENDOFCHAIN);for(Ae=0;Ae<ge[4]<<2;++Ae){var yt=se.FullPaths[Ae];if(!yt||yt.length===0){for(ze=0;ze<17;++ze)_e.write_shift(4,0);for(ze=0;ze<3;++ze)_e.write_shift(4,-1);for(ze=0;ze<12;++ze)_e.write_shift(4,0);continue}Ge=se.FileIndex[Ae],Ae===0&&(Ge.start=Ge.size?Ge.start-1:D);var Dt=Ae===0&&me.root||Ge.name;if(qe=2*(Dt.length+1),_e.write_shift(64,Dt,"utf16le"),_e.write_shift(2,qe),_e.write_shift(1,Ge.type),_e.write_shift(1,Ge.color),_e.write_shift(-4,Ge.L),_e.write_shift(-4,Ge.R),_e.write_shift(-4,Ge.C),Ge.clsid)_e.write_shift(16,Ge.clsid,"hex");else for(ze=0;ze<4;++ze)_e.write_shift(4,0);_e.write_shift(4,Ge.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Ge.start),_e.write_shift(4,Ge.size),_e.write_shift(4,0)}for(Ae=1;Ae<se.FileIndex.length;++Ae)if(Ge=se.FileIndex[Ae],Ge.size>=4096)if(_e.l=Ge.start+1<<9,Rr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+511&-512;else{for(ze=0;ze<Ge.size;++ze)_e.write_shift(1,Ge.content[ze]);for(;ze&511;++ze)_e.write_shift(1,0)}for(Ae=1;Ae<se.FileIndex.length;++Ae)if(Ge=se.FileIndex[Ae],Ge.size>0&&Ge.size<4096)if(Rr&&Buffer.isBuffer(Ge.content))Ge.content.copy(_e,_e.l,0,Ge.size),_e.l+=Ge.size+63&-64;else{for(ze=0;ze<Ge.size;++ze)_e.write_shift(1,Ge.content[ze]);for(;ze&63;++ze)_e.write_shift(1,0)}if(Rr)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function E(se,we){var me=se.FullPaths.map(function(ze){return ze.toUpperCase()}),ge=me.map(function(ze){var qe=ze.split("/");return qe[qe.length-(ze.slice(-1)=="/"?2:1)]}),_e=!1;we.charCodeAt(0)===47?(_e=!0,we=me[0].slice(0,-1)+we):_e=we.indexOf("/")!==-1;var Ae=we.toUpperCase(),Ve=_e===!0?me.indexOf(Ae):ge.indexOf(Ae);if(Ve!==-1)return se.FileIndex[Ve];var Xe=!Ae.match(fg);for(Ae=Ae.replace(os,""),Xe&&(Ae=Ae.replace(fg,"!")),Ve=0;Ve<me.length;++Ve)if((Xe?me[Ve].replace(fg,"!"):me[Ve]).replace(os,"")==Ae||(Xe?ge[Ve].replace(fg,"!"):ge[Ve]).replace(os,"")==Ae)return se.FileIndex[Ve];return null}var k=64,D=-2,V="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(se,we,me){c();var ge=j(se,me);l.writeFileSync(we,ge)}function z(se){for(var we=new Array(se.length),me=0;me<se.length;++me)we[me]=String.fromCharCode(se[me]);return we.join("")}function ee(se,we){var me=j(se,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,me),me;case"binary":return typeof me=="string"?me:z(me);case"base64":return oD(typeof me=="string"?me:z(me));case"buffer":if(Rr)return Buffer.isBuffer(me)?me:ph(me);case"array":return typeof me=="string"?al(me):me}return me}var W;function P(se){try{var we=se.InflateRaw,me=new we;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)W=se;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function F(se,we){if(!W)return Ut(se,we);var me=W.InflateRaw,ge=new me,_e=ge._processChunk(se.slice(se.l),ge._finishFlushFlag);return se.l+=ge.bytesRead,_e}function q(se){return W?W.deflateRawSync(se):Tt(se)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(se){var we=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(we>>16|we>>8|we)&255}for(var ae=typeof Uint8Array<"u",he=ae?new Uint8Array(256):[],Se=0;Se<256;++Se)he[Se]=de(Se);function B(se,we){var me=he[se&255];return we<=8?me>>>8-we:(me=me<<8|he[se>>8&255],we<=16?me>>>16-we:(me=me<<8|he[se>>16&255],me>>>24-we))}function Ee(se,we){var me=we&7,ge=we>>>3;return(se[ge]|(me<=6?0:se[ge+1]<<8))>>>me&3}function ve(se,we){var me=we&7,ge=we>>>3;return(se[ge]|(me<=5?0:se[ge+1]<<8))>>>me&7}function xe(se,we){var me=we&7,ge=we>>>3;return(se[ge]|(me<=4?0:se[ge+1]<<8))>>>me&15}function te(se,we){var me=we&7,ge=we>>>3;return(se[ge]|(me<=3?0:se[ge+1]<<8))>>>me&31}function Ne(se,we){var me=we&7,ge=we>>>3;return(se[ge]|(me<=1?0:se[ge+1]<<8))>>>me&127}function Be(se,we,me){var ge=we&7,_e=we>>>3,Ae=(1<<me)-1,Ve=se[_e]>>>ge;return me<8-ge||(Ve|=se[_e+1]<<8-ge,me<16-ge)||(Ve|=se[_e+2]<<16-ge,me<24-ge)||(Ve|=se[_e+3]<<24-ge),Ve&Ae}function Ue(se,we,me){var ge=we&7,_e=we>>>3;return ge<=5?se[_e]|=(me&7)<<ge:(se[_e]|=me<<ge&255,se[_e+1]=(me&7)>>8-ge),we+3}function Ze(se,we,me){var ge=we&7,_e=we>>>3;return me=(me&1)<<ge,se[_e]|=me,we+1}function Le(se,we,me){var ge=we&7,_e=we>>>3;return me<<=ge,se[_e]|=me&255,me>>>=8,se[_e+1]=me,we+8}function Ye(se,we,me){var ge=we&7,_e=we>>>3;return me<<=ge,se[_e]|=me&255,me>>>=8,se[_e+1]=me&255,se[_e+2]=me>>>8,we+16}function je(se,we){var me=se.length,ge=2*me>we?2*me:we+5,_e=0;if(me>=we)return se;if(Rr){var Ae=lD(ge);if(se.copy)se.copy(Ae);else for(;_e<se.length;++_e)Ae[_e]=se[_e];return Ae}else if(ae){var Ve=new Uint8Array(ge);if(Ve.set)Ve.set(se);else for(;_e<me;++_e)Ve[_e]=se[_e];return Ve}return se.length=ge,se}function Qe(se){for(var we=new Array(se),me=0;me<se;++me)we[me]=0;return we}function pt(se,we,me){var ge=1,_e=0,Ae=0,Ve=0,Xe=0,ze=se.length,qe=ae?new Uint16Array(32):Qe(32);for(Ae=0;Ae<32;++Ae)qe[Ae]=0;for(Ae=ze;Ae<me;++Ae)se[Ae]=0;ze=se.length;var Ge=ae?new Uint16Array(ze):Qe(ze);for(Ae=0;Ae<ze;++Ae)qe[_e=se[Ae]]++,ge<_e&&(ge=_e),Ge[Ae]=0;for(qe[0]=0,Ae=1;Ae<=ge;++Ae)qe[Ae+16]=Xe=Xe+qe[Ae-1]<<1;for(Ae=0;Ae<ze;++Ae)Xe=se[Ae],Xe!=0&&(Ge[Ae]=qe[Xe+16]++);var yt=0;for(Ae=0;Ae<ze;++Ae)if(yt=se[Ae],yt!=0)for(Xe=B(Ge[Ae],ge)>>ge-yt,Ve=(1<<ge+4-yt)-1;Ve>=0;--Ve)we[Xe|Ve<<yt]=yt&15|Ae<<4;return ge}var ot=ae?new Uint16Array(512):Qe(512),St=ae?new Uint16Array(32):Qe(32);if(!ae){for(var jt=0;jt<512;++jt)ot[jt]=0;for(jt=0;jt<32;++jt)St[jt]=0}(function(){for(var se=[],we=0;we<32;we++)se.push(5);pt(se,St,32);var me=[];for(we=0;we<=143;we++)me.push(8);for(;we<=255;we++)me.push(9);for(;we<=279;we++)me.push(7);for(;we<=287;we++)me.push(8);pt(me,ot,288)})();var bt=function(){for(var we=ae?new Uint8Array(32768):[],me=0,ge=0;me<ce.length-1;++me)for(;ge<ce[me+1];++ge)we[ge]=me;for(;ge<32768;++ge)we[ge]=29;var _e=ae?new Uint8Array(259):[];for(me=0,ge=0;me<Z.length-1;++me)for(;ge<Z[me+1];++ge)_e[ge]=me;function Ae(Xe,ze){for(var qe=0;qe<Xe.length;){var Ge=Math.min(65535,Xe.length-qe),yt=qe+Ge==Xe.length;for(ze.write_shift(1,+yt),ze.write_shift(2,Ge),ze.write_shift(2,~Ge&65535);Ge-- >0;)ze[ze.l++]=Xe[qe++]}return ze.l}function Ve(Xe,ze){for(var qe=0,Ge=0,yt=ae?new Uint16Array(32768):[];Ge<Xe.length;){var Dt=Math.min(65535,Xe.length-Ge);if(Dt<10){for(qe=Ue(ze,qe,+(Ge+Dt==Xe.length)),qe&7&&(qe+=8-(qe&7)),ze.l=qe/8|0,ze.write_shift(2,Dt),ze.write_shift(2,~Dt&65535);Dt-- >0;)ze[ze.l++]=Xe[Ge++];qe=ze.l*8;continue}qe=Ue(ze,qe,+(Ge+Dt==Xe.length)+2);for(var ie=0;Dt-- >0;){var ye=Xe[Ge];ie=(ie<<5^ye)&32767;var $e=-1,Et=0;if(($e=yt[ie])&&($e|=Ge&-32768,$e>Ge&&($e-=32768),$e<Ge))for(;Xe[$e+Et]==Xe[Ge+Et]&&Et<250;)++Et;if(Et>2){ye=_e[Et],ye<=22?qe=Le(ze,qe,he[ye+1]>>1)-1:(Le(ze,qe,3),qe+=5,Le(ze,qe,he[ye-23]>>5),qe+=3);var nt=ye<8?0:ye-4>>2;nt>0&&(Ye(ze,qe,Et-Z[ye]),qe+=nt),ye=we[Ge-$e],qe=Le(ze,qe,he[ye]>>3),qe-=3;var tt=ye<4?0:ye-2>>1;tt>0&&(Ye(ze,qe,Ge-$e-ce[ye]),qe+=tt);for(var vt=0;vt<Et;++vt)yt[ie]=Ge&32767,ie=(ie<<5^Xe[Ge])&32767,++Ge;Dt-=Et-1}else ye<=143?ye=ye+48:qe=Ze(ze,qe,1),qe=Le(ze,qe,he[ye]),yt[ie]=Ge&32767,++Ge}qe=Le(ze,qe,0)-1}return ze.l=(qe+7)/8|0,ze.l}return function(ze,qe){return ze.length<8?Ae(ze,qe):Ve(ze,qe)}}();function Tt(se){var we=Ia(50+Math.floor(se.length*1.1)),me=bt(se,we);return we.slice(0,me)}var it=ae?new Uint16Array(32768):Qe(32768),Yt=ae?new Uint16Array(32768):Qe(32768),Pt=ae?new Uint16Array(128):Qe(128),Ir=1,_t=1;function It(se,we){var me=te(se,we)+257;we+=5;var ge=te(se,we)+1;we+=5;var _e=xe(se,we)+4;we+=4;for(var Ae=0,Ve=ae?new Uint8Array(19):Qe(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ze=1,qe=ae?new Uint8Array(8):Qe(8),Ge=ae?new Uint8Array(8):Qe(8),yt=Ve.length,Dt=0;Dt<_e;++Dt)Ve[K[Dt]]=Ae=ve(se,we),ze<Ae&&(ze=Ae),qe[Ae]++,we+=3;var ie=0;for(qe[0]=0,Dt=1;Dt<=ze;++Dt)Ge[Dt]=ie=ie+qe[Dt-1]<<1;for(Dt=0;Dt<yt;++Dt)(ie=Ve[Dt])!=0&&(Xe[Dt]=Ge[ie]++);var ye=0;for(Dt=0;Dt<yt;++Dt)if(ye=Ve[Dt],ye!=0){ie=he[Xe[Dt]]>>8-ye;for(var $e=(1<<7-ye)-1;$e>=0;--$e)Pt[ie|$e<<ye]=ye&7|Dt<<3}var Et=[];for(ze=1;Et.length<me+ge;)switch(ie=Pt[Ne(se,we)],we+=ie&7,ie>>>=3){case 16:for(Ae=3+Ee(se,we),we+=2,ie=Et[Et.length-1];Ae-- >0;)Et.push(ie);break;case 17:for(Ae=3+ve(se,we),we+=3;Ae-- >0;)Et.push(0);break;case 18:for(Ae=11+Ne(se,we),we+=7;Ae-- >0;)Et.push(0);break;default:Et.push(ie),ze<ie&&(ze=ie);break}var nt=Et.slice(0,me),tt=Et.slice(me);for(Dt=me;Dt<286;++Dt)nt[Dt]=0;for(Dt=ge;Dt<30;++Dt)tt[Dt]=0;return Ir=pt(nt,it,286),_t=pt(tt,Yt,30),we}function Zt(se,we){if(se[0]==3&&!(se[1]&3))return[Mf(we),2];for(var me=0,ge=0,_e=lD(we||1<<18),Ae=0,Ve=_e.length>>>0,Xe=0,ze=0;!(ge&1);){if(ge=ve(se,me),me+=3,ge>>>1)ge>>1==1?(Xe=9,ze=5):(me=It(se,me),Xe=Ir,ze=_t);else{me&7&&(me+=8-(me&7));var qe=se[me>>>3]|se[(me>>>3)+1]<<8;if(me+=32,qe>0)for(!we&&Ve<Ae+qe&&(_e=je(_e,Ae+qe),Ve=_e.length);qe-- >0;)_e[Ae++]=se[me>>>3],me+=8;continue}for(;;){!we&&Ve<Ae+32767&&(_e=je(_e,Ae+32767),Ve=_e.length);var Ge=Be(se,me,Xe),yt=ge>>>1==1?ot[Ge]:it[Ge];if(me+=yt&15,yt>>>=4,!(yt>>>8&255))_e[Ae++]=yt;else{if(yt==256)break;yt-=257;var Dt=yt<8?0:yt-4>>2;Dt>5&&(Dt=0);var ie=Ae+Z[yt];Dt>0&&(ie+=Be(se,me,Dt),me+=Dt),Ge=Be(se,me,ze),yt=ge>>>1==1?St[Ge]:Yt[Ge],me+=yt&15,yt>>>=4;var ye=yt<4?0:yt-2>>1,$e=ce[yt];for(ye>0&&($e+=Be(se,me,ye),me+=ye),!we&&Ve<ie&&(_e=je(_e,ie+100),Ve=_e.length);Ae<ie;)_e[Ae]=_e[Ae-$e],++Ae}}}return we?[_e,me+7>>>3]:[_e.slice(0,Ae),me+7>>>3]}function Ut(se,we){var me=se.slice(se.l||0),ge=Zt(me,we);return se.l+=ge[1],ge[0]}function Tr(se,we){if(se)typeof console<"u"&&console.error(we);else throw new Error(we)}function ke(se,we){var me=se;ci(me,0);var ge=[],_e=[],Ae={FileIndex:ge,FullPaths:_e};T(Ae,{root:we.root});for(var Ve=me.length-4;(me[Ve]!=80||me[Ve+1]!=75||me[Ve+2]!=5||me[Ve+3]!=6)&&Ve>=0;)--Ve;me.l=Ve+4,me.l+=4;var Xe=me.read_shift(2);me.l+=6;var ze=me.read_shift(4);for(me.l=ze,Ve=0;Ve<Xe;++Ve){me.l+=20;var qe=me.read_shift(4),Ge=me.read_shift(4),yt=me.read_shift(2),Dt=me.read_shift(2),ie=me.read_shift(2);me.l+=8;var ye=me.read_shift(4),$e=o(me.slice(me.l+yt,me.l+yt+Dt));me.l+=yt+Dt+ie;var Et=me.l;me.l=ye+4,Je(me,qe,Ge,Ae,$e),me.l=Et}return Ae}function Je(se,we,me,ge,_e){se.l+=2;var Ae=se.read_shift(2),Ve=se.read_shift(2),Xe=s(se);if(Ae&8257)throw new Error("Unsupported ZIP encryption");for(var ze=se.read_shift(4),qe=se.read_shift(4),Ge=se.read_shift(4),yt=se.read_shift(2),Dt=se.read_shift(2),ie="",ye=0;ye<yt;++ye)ie+=String.fromCharCode(se[se.l++]);if(Dt){var $e=o(se.slice(se.l,se.l+Dt));($e[21589]||{}).mt&&(Xe=$e[21589].mt),((_e||{})[21589]||{}).mt&&(Xe=_e[21589].mt)}se.l+=Dt;var Et=se.slice(se.l,se.l+qe);switch(Ve){case 8:Et=F(se,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var nt=!1;Ae&8&&(ze=se.read_shift(4),ze==134695760&&(ze=se.read_shift(4),nt=!0),qe=se.read_shift(4),Ge=se.read_shift(4)),qe!=we&&Tr(nt,"Bad compressed size: "+we+" != "+qe),Ge!=me&&Tr(nt,"Bad uncompressed size: "+me+" != "+Ge),Qn(ge,ie,Et,{unsafe:!0,mt:Xe})}function lt(se,we){var me=we||{},ge=[],_e=[],Ae=Ia(1),Ve=me.compression?8:0,Xe=0,ze=0,qe=0,Ge=0,yt=0,Dt=se.FullPaths[0],ie=Dt,ye=se.FileIndex[0],$e=[],Et=0;for(ze=1;ze<se.FullPaths.length;++ze)if(ie=se.FullPaths[ze].slice(Dt.length),ye=se.FileIndex[ze],!(!ye.size||!ye.content||ie=="Sh33tJ5")){var nt=Ge,tt=Ia(ie.length);for(qe=0;qe<ie.length;++qe)tt.write_shift(1,ie.charCodeAt(qe)&127);tt=tt.slice(0,tt.l),$e[yt]=$fe.buf(ye.content,0);var vt=ye.content;Ve==8&&(vt=q(vt)),Ae=Ia(30),Ae.write_shift(4,67324752),Ae.write_shift(2,20),Ae.write_shift(2,Xe),Ae.write_shift(2,Ve),ye.mt?i(Ae,ye.mt):Ae.write_shift(4,0),Ae.write_shift(-4,$e[yt]),Ae.write_shift(4,vt.length),Ae.write_shift(4,ye.content.length),Ae.write_shift(2,tt.length),Ae.write_shift(2,0),Ge+=Ae.length,ge.push(Ae),Ge+=tt.length,ge.push(tt),Ge+=vt.length,ge.push(vt),Ae=Ia(46),Ae.write_shift(4,33639248),Ae.write_shift(2,0),Ae.write_shift(2,20),Ae.write_shift(2,Xe),Ae.write_shift(2,Ve),Ae.write_shift(4,0),Ae.write_shift(-4,$e[yt]),Ae.write_shift(4,vt.length),Ae.write_shift(4,ye.content.length),Ae.write_shift(2,tt.length),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(4,0),Ae.write_shift(4,nt),Et+=Ae.l,_e.push(Ae),Et+=tt.length,_e.push(tt),++yt}return Ae=Ia(22),Ae.write_shift(4,101010256),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,yt),Ae.write_shift(2,yt),Ae.write_shift(4,Et),Ae.write_shift(4,Ge),Ae.write_shift(2,0),Yu([Yu(ge),Yu(_e),Ae])}var Ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function mt(se,we){if(se.ctype)return se.ctype;var me=se.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Ct[ge[1]]||we&&(ge=(me=we).match(/[\.\\]([^\.\\])+$/),ge&&Ct[ge[1]])?Ct[ge[1]]:"application/octet-stream"}function Mt(se){for(var we=oD(se),me=[],ge=0;ge<we.length;ge+=76)me.push(we.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function mr(se){var we=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Ge=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=we.split(`\r
`),_e=0;_e<ge.length;++_e){var Ae=ge[_e];if(Ae.length==0){me.push("");continue}for(var Ve=0;Ve<Ae.length;){var Xe=76,ze=Ae.slice(Ve,Ve+Xe);ze.charAt(Xe-1)=="="?Xe--:ze.charAt(Xe-2)=="="?Xe-=2:ze.charAt(Xe-3)=="="&&(Xe-=3),ze=Ae.slice(Ve,Ve+Xe),Ve+=Xe,Ve<Ae.length&&(ze+="="),me.push(ze)}}return me.join(`\r
`)}function Er(se){for(var we=[],me=0;me<se.length;++me){for(var ge=se[me];me<=se.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+se[++me];we.push(ge)}for(var _e=0;_e<we.length;++_e)we[_e]=we[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Ae){return String.fromCharCode(parseInt(Ae.slice(1),16))});return al(we.join(`\r
`))}function an(se,we,me){for(var ge="",_e="",Ae="",Ve,Xe=0;Xe<10;++Xe){var ze=we[Xe];if(!ze||ze.match(/^\s*$/))break;var qe=ze.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":ge=qe[2].trim();break;case"content-type":Ae=qe[2].trim();break;case"content-transfer-encoding":_e=qe[2].trim();break}}switch(++Xe,_e.toLowerCase()){case"base64":Ve=al(Xs(we.slice(Xe).join("")));break;case"quoted-printable":Ve=Er(we.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Ge=Qn(se,ge.slice(me.length),Ve,{unsafe:!0});Ae&&(Ge.ctype=Ae)}function Za(se,we){if(z(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=we&&we.root||"",ge=(Rr&&Buffer.isBuffer(se)?se.toString("binary"):z(se)).split(`\r
`),_e=0,Ae="";for(_e=0;_e<ge.length;++_e)if(Ae=ge[_e],!!/^Content-Location:/i.test(Ae)&&(Ae=Ae.slice(Ae.indexOf("file")),me||(me=Ae.slice(0,Ae.lastIndexOf("/")+1)),Ae.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ae.slice(0,me.length)!=me););var Ve=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var Xe="--"+(Ve[1]||""),ze=[],qe=[],Ge={FileIndex:ze,FullPaths:qe};T(Ge);var yt,Dt=0;for(_e=0;_e<ge.length;++_e){var ie=ge[_e];ie!==Xe&&ie!==Xe+"--"||(Dt++&&an(Ge,ge.slice(yt,_e),me),yt=_e)}return Ge}function zt(se,we){var me=we||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Ae=se.FullPaths[0],Ve=Ae,Xe=se.FileIndex[0],ze=1;ze<se.FullPaths.length;++ze)if(Ve=se.FullPaths[ze].slice(Ae.length),Xe=se.FileIndex[ze],!(!Xe.size||!Xe.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Et){return"_x"+Et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Et){return"_u"+Et.charCodeAt(0).toString(16)+"_"});for(var qe=Xe.content,Ge=Rr&&Buffer.isBuffer(qe)?qe.toString("binary"):z(qe),yt=0,Dt=Math.min(1024,Ge.length),ie=0,ye=0;ye<=Dt;++ye)(ie=Ge.charCodeAt(ye))>=32&&ie<128&&++yt;var $e=yt>=Dt*4/5;_e.push(ge),_e.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ve),_e.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),_e.push("Content-Type: "+mt(Xe,Ve)),_e.push(""),_e.push($e?mr(Ge):Mt(Ge))}return _e.push(ge+`--\r
`),_e.join(`\r
`)}function Ua(se){var we={};return T(we,se),we}function Qn(se,we,me,ge){var _e=ge&&ge.unsafe;_e||T(se);var Ae=!_e&&Ur.find(se,we);if(!Ae){var Ve=se.FullPaths[0];we.slice(0,Ve.length)==Ve?Ve=we:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+we).replace("//","/")),Ae={name:a(we),type:2},se.FileIndex.push(Ae),se.FullPaths.push(Ve),_e||Ur.utils.cfb_gc(se)}return Ae.content=me,Ae.size=me?me.length:0,ge&&(ge.CLSID&&(Ae.clsid=ge.CLSID),ge.mt&&(Ae.mt=ge.mt),ge.ct&&(Ae.ct=ge.ct)),Ae}function Fn(se,we){T(se);var me=Ur.find(se,we);if(me){for(var ge=0;ge<se.FileIndex.length;++ge)if(se.FileIndex[ge]==me)return se.FileIndex.splice(ge,1),se.FullPaths.splice(ge,1),!0}return!1}function Pn(se,we,me){T(se);var ge=Ur.find(se,we);if(ge){for(var _e=0;_e<se.FileIndex.length;++_e)if(se.FileIndex[_e]==ge)return se.FileIndex[_e].name=a(me),se.FullPaths[_e]=me,!0}return!1}function xn(se){A(se,!0)}return t.find=E,t.read=I,t.parse=u,t.write=ee,t.writeFile=H,t.utils={cfb_new:Ua,cfb_add:Qn,cfb_del:Fn,cfb_mov:Pn,cfb_gc:xn,ReadShift:Lg,CheckField:jz,prep_blob:ci,bconcat:Yu,use_zlib:P,_deflateRaw:Tt,_inflateRaw:Ut,consts:J},t}();function Bfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Xl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function KN(e){for(var t=[],r=Xl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var vb=new Date(1899,11,30,0,0,0);function ls(e,t){var r=e.getTime(),n=vb.getTime()+(e.getTimezoneOffset()-vb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var dz=new Date,Ufe=vb.getTime()+(dz.getTimezoneOffset()-vb.getTimezoneOffset())*6e4,gD=dz.getTimezoneOffset();function b5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Ufe),t.getTimezoneOffset()!==gD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-gD)*6e4),t}function Vfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var vD=new Date("2017-02-19T19:06:09.000Z"),hz=isNaN(vD.getFullYear())?new Date("2/19/17"):vD,zfe=hz.getFullYear()==2017;function Qa(e,t){var r=new Date(e);if(zfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(hz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function rh(e,t){if(Rr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return hg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return hg(ZV(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return hg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return hg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function pi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=pi(e[r]));return t}function sa(e,t){for(var r="";r.length<t;)r+=e;return r}function dl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var qfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function fp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&qfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Wfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function pz(e){return e?e.content&&e.type?rh(e.content,!0):e.data?ug(e.data):e.asNodeBuffer&&Rr?ug(e.asNodeBuffer().toString("binary")):e.asBinary?ug(e.asBinary()):e._data&&e._data.getContent?ug(rh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function mz(e){if(!e)return null;if(e.data)return iD(e.data);if(e.asNodeBuffer&&Rr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?iD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Hfe(e){return e&&e.name.slice(-4)===".bin"?mz(e):pz(e)}function go(e,t){for(var r=e.FullPaths||Xl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function YN(e,t){var r=go(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function _a(e,t,r){if(!r)return Hfe(YN(e,t));if(!t)return null;try{return _a(e,t)}catch{return null}}function Vs(e,t,r){if(!r)return pz(YN(e,t));if(!t)return null;try{return Vs(e,t)}catch{return null}}function Gfe(e,t,r){return mz(YN(e,t))}function yD(e){for(var t=e.FullPaths||Xl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Kfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Rr?n=ph(r):n=hfe(r),Ur.utils.cfb_add(e,t,n)}Ur.utils.cfb_add(e,t,r)}else e.file(t,r)}function gz(e,t){switch(t.type){case"base64":return Ur.read(e,{type:"base64"});case"binary":return Ur.read(e,{type:"binary"});case"buffer":case"array":return Ur.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function dg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var vz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Yfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,xD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Xfe=/<[^>]*>/g,Wi=vz.match(xD)?xD:Xfe,Qfe=/<\w*:/,Jfe=/<(\/?)\w+:/;function hr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Yfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function Jl(e){return e.replace(Jfe,"<$1")}var yz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Zfe=KN(yz),Gr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return yz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),ede=/[&<>'"]/g,tde=/[\u0000-\u001f]/g;function XN(e){var t=e+"";return t.replace(ede,function(r){return Zfe[r]}).replace(/\n/g,"<br/>").replace(tde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var bD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Bn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function wD(e){var t=Mf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function _D(e){return ph(e,"binary").toString("utf8")}var dx="foo bar bazâð£",Cn=Rr&&(_D(dx)==LS(dx)&&_D||wD(dx)==LS(dx)&&wD)||LS,hg=Rr?function(e){return ph(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Uv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),xz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),rde=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),nde=/<\/?(?:vt:)?variant>/g,ade=/<(?:vt:)([^>]*)>([\s\S]*)</;function SD(e,t){var r=hr(e),n=e.match(rde(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(nde,"").match(ade);s&&a.push({v:Cn(s[2]),t:s[1]})}),a}var ide=/(^\s|\s$|\n)/;function sde(e){return Xl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ode(e,t,r){return"<"+e+(r!=null?sde(r):"")+(t!=null?(t.match(ide)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function QN(e){if(Rr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Cn(mh(WN(e)));throw new Error("Bad input format: expected Buffer or string")}var Vv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,lde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ude(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function fde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var AD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},TD=Rr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ph(t)})):AD(e)}:AD,ED=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Sc(e,a)));return n.join("").replace(os,"")},JN=Rr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(os,""):ED(e,t,r)}:ED,kD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},bz=Rr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):kD(e,t,r)}:kD,ND=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(r0(e,a)));return n.join("")},Q1=Rr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ND(t,r,n)}:ND,wz=function(e,t){var r=Us(e,t);return r>0?Q1(e,t+4,t+4+r-1):""},_z=wz,Sz=function(e,t){var r=Us(e,t);return r>0?Q1(e,t+4,t+4+r-1):""},Az=Sz,Tz=function(e,t){var r=2*Us(e,t);return r>0?Q1(e,t+4,t+4+r-1):""},Ez=Tz,kz=function(t,r){var n=Us(t,r);return n>0?JN(t,r+4,r+4+n):""},Nz=kz,Cz=function(e,t){var r=Us(e,t);return r>0?Q1(e,t+4,t+4+r):""},Pz=Cz,Oz=function(e,t){return ude(e,t)},yb=Oz,Iz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Rr&&(_z=function(t,r){if(!Buffer.isBuffer(t))return wz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Az=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Ez=function(t,r){if(!Buffer.isBuffer(t))return Tz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Nz=function(t,r){if(!Buffer.isBuffer(t))return kz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Pz=function(t,r){if(!Buffer.isBuffer(t))return Cz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},yb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Oz(t,r)},Iz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var r0=function(e,t){return e[t]},Sc=function(e,t){return e[t+1]*256+e[t]},dde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Us=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ad=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},hde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Lg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Rr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Sc(this,c)),c+=2;e*=2;break;case"utf8":r=Q1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=JN(this,this.l,this.l+e);break;case"wstr":return Lg.call(this,e,"dbcs");case"lpstr-ansi":r=_z(this,this.l),e=4+Us(this,this.l);break;case"lpstr-cp":r=Az(this,this.l),e=4+Us(this,this.l);break;case"lpwstr":r=Ez(this,this.l),e=4+2*Us(this,this.l);break;case"lpp4":e=4+Us(this,this.l),r=Nz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Us(this,this.l),r=Pz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=r0(this,this.l+e++))!==0;)i.push(fx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Sc(this,this.l+e))!==0;)i.push(fx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=r0(this,c),this.l=c+1,o=Lg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(fx(Sc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=r0(this,c),this.l=c+1,o=Lg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(fx(r0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=r0(this,this.l),this.l++,n;case 2:return n=(t==="i"?dde:Sc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ad:hde)(this,this.l),this.l+=4,n):(a=Us(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=yb(this,this.l):a=yb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=bz(this,this.l,e);break}}return this.l+=e,r}var pde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},mde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},gde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function vde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)gde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,pde(this,t,this.l);break;case 8:if(n=8,r==="f"){fde(this,t,this.l);break}case 16:break;case-4:n=4,mde(this,t,this.l);break}return this.l+=n,this}function jz(e,t){var r=bz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ci(e,t){e.l=t,e.read_shift=Lg,e.chk=jz,e.write_shift=vde}function qi(e,t){e.l+=t}function Ia(e){var t=Mf(e);return ci(t,0),t}function iu(e,t,r){if(e){var n,a,i;ci(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Ab[o]||Ab[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function ST(){var e=[],t=Rr?256:2048,r=function(c){var u=Ia(c);return ci(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Yu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Mg(e,t,r){var n=pi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function CD(e,t,r){var n=pi(e);return n.s=Mg(n.s,t.s,r),n.e=Mg(n.e,t.s,r),n}function Rg(e,t){if(e.cRel&&e.c<0)for(e=pi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=pi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=wr(e);return!e.cRel&&e.cRel!=null&&(r=bde(r)),!e.rRel&&e.rRel!=null&&(r=yde(r)),r}function MS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ma(e.s.c)+":"+(e.e.cRel?"":"$")+Ma(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mi(e.s.r)+":"+(e.e.rRel?"":"$")+mi(e.e.r):Rg(e.s,t.biff)+":"+Rg(e.e,t.biff)}function ZN(e){return parseInt(xde(e),10)-1}function mi(e){return""+(e+1)}function yde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function xde(e){return e.replace(/\$(\d+)$/,"$1")}function eC(e){for(var t=wde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ma(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function bde(e){return e.replace(/^([A-Z])/,"$$$1")}function wde(e){return e.replace(/^\$([A-Z])/,"$1")}function _de(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function rs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function wr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Jp(e){var t=e.indexOf(":");return t==-1?{s:rs(e),e:rs(e)}:{s:rs(e.slice(0,t)),e:rs(e.slice(t+1))}}function zr(e,t){return typeof t>"u"||typeof t=="number"?zr(e.s,e.e):(typeof e!="string"&&(e=wr(e)),typeof t!="string"&&(t=wr(t)),e==t?e:e+":"+t)}function la(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function PD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=No(e.z,r?ls(t):t)}catch{}try{return e.w=No((e.XF||{}).numFmtId||(r?14:0),r?ls(t):t)}catch{return""+t}}function Kc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?yh[e.v]||e.v:t==null?PD(e,e.v):PD(e,t))}function Hf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Dz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?rs(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=la(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ar[14],n.cellDates?(p.t="d",p.w=No(p.z,ls(p.v))):(p.t="n",p.v=ls(p.v),p.w=No(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=wr({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=zr(c)),i}function Zp(e,t){return Dz(null,e,t)}function Sde(e){return e.read_shift(4,"i")}function Vi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ade(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function tC(e,t){var r=e.l,n=e.read_shift(1),a=Vi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(Ade(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Tde=tC;function Po(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Ede=Vi;function rC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var kde=Vi,AT=rC;function nC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?yb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ad(t,0)>>2;return r?a/100:a}function Lz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var vh=Lz;function Ri(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Nde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Vd[a];c&&(t.rgb=qv(c));break;case 2:t.rgb=qv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Cde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Mz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Pde(e){return Mz(e,1)}function Ode(e){return Mz(e,2)}var aC=2,vs=3,hx=11,OD=12,xb=19,px=64,Ide=65,jde=71,Dde=4108,Lde=4126,Wa=80,Rz=81,Mde=[Wa,Rz],Rde={1:{n:"CodePage",t:aC},2:{n:"Category",t:Wa},3:{n:"PresentationFormat",t:Wa},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:hx},12:{n:"HeadingPairs",t:Dde},13:{n:"TitlesOfParts",t:Lde},14:{n:"Manager",t:Wa},15:{n:"Company",t:Wa},16:{n:"LinksUpToDate",t:hx},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:hx},22:{n:"HyperlinksChanged",t:hx},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:Ide},26:{n:"ContentType",t:Wa},27:{n:"ContentStatus",t:Wa},28:{n:"Language",t:Wa},29:{n:"Version",t:Wa},255:{},2147483648:{n:"Locale",t:xb},2147483651:{n:"Behavior",t:xb},1919054434:{}},Fde={1:{n:"CodePage",t:aC},2:{n:"Title",t:Wa},3:{n:"Subject",t:Wa},4:{n:"Author",t:Wa},5:{n:"Keywords",t:Wa},6:{n:"Comments",t:Wa},7:{n:"Template",t:Wa},8:{n:"LastAuthor",t:Wa},9:{n:"RevNumber",t:Wa},10:{n:"EditTime",t:px},11:{n:"LastPrinted",t:px},12:{n:"CreatedDate",t:px},13:{n:"ModifiedDate",t:px},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:jde},18:{n:"Application",t:Wa},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:xb},2147483651:{n:"Behavior",t:xb},1919054434:{}},ID={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},$de=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Bde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ude=Bde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vd=pi(Ude),yh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Fz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},jD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Vde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zde(e){var t=Vde();if(!e||!e.match)return t;var r={};if((e.match(Wi)||[]).forEach(function(n){var a=hr(n);switch(a[0].replace(Qfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[jD[a.ContentType]]!==void 0&&t[jD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==lde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var _0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Fg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Wi)||[]).forEach(function(a){var i=hr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:dg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var qde="application/vnd.oasis.opendocument.spreadsheet";function Wde(e,t){for(var r=QN(e),n,a;n=Vv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=hr(n[0],!1),a.path=="/"&&a.type!==qde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var $g=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Hde=function(){for(var e=new Array($g.length),t=0;t<$g.length;++t){var r=$g[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function $z(e){var t={};e=Cn(e);for(var r=0;r<$g.length;++r){var n=$g[r],a=e.match(Hde[r]);a!=null&&a.length>0&&(t[n[1]]=Gr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Qa(t[n[1]]))}return t}var Gde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Bz(e,t,r,n){var a=[];if(typeof e=="string")a=SD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?SD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Kde(e,t,r){var n={};return t||(t={}),e=Cn(e),Gde.forEach(function(a){var i=(e.match(Uv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Gr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Bz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Yde=/<[^>]+>[^<]*/g;function Xde(e,t){var r={},n="",a=e.match(Yde);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=hr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Gr(u);break;case"bool":r[n]=Bn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Qa(u);break;case"cy":case"error":r[n]=Gr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Qde={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},RS;function Jde(e,t,r){RS||(RS=KN(Qde)),t=RS[t]||t,e[t]=r}function iC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Uz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Vz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function zz(e,t,r){return t===31?Vz(e):Uz(e,t,r)}function ET(e,t,r){return zz(e,t,r===!1?0:4)}function Zde(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zz(e,t,0)}function ehe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(os,""),e.l-a&2&&(e.l+=2)}return r}function the(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(os,"");return r}function rhe(e){var t=e.l,r=bb(e,Rz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=bb(e,vs);return[r,n]}function nhe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(rhe(e));return r}function DD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(os,"").replace(fg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function qz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function ahe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function bb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==OD&&n!==t&&Mde.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===OD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Uz(e,n,4).replace(os,"");case 31:return Vz(e);case 64:return iC(e);case 65:return qz(e);case 71:return ahe(e);case 80:return ET(e,n,!i.raw).replace(os,"");case 81:return Zde(e,n).replace(os,"");case 4108:return nhe(e);case 4126:case 4127:return n==4127?ehe(e):the(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function LD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=bb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:sl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=bb(e,aC),sl(o),l!==-1){var m=e.l;e.l=i[l][1],c=DD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=DD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=qz(e);break;case 30:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=fa(e,4);break;case 64:e.l+=4,y=Qa(iC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function MD(e,t,r){var n=e.content;if(!n)return{};ci(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ur.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=LD(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=LD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Ru(e,t){return e.read_shift(t),null}function ihe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function fa(e,t){return e.read_shift(t)===1}function Sa(e){return e.read_shift(2,"u")}function Wz(e,t){return ihe(e,t,Sa)}function she(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function J1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function ohe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Z1(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):nh(e,n,r)}function xh(e,t,r){if(r.biff>5)return Z1(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function lhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function che(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(os,"");return n&&(e.l+=24),a}function uhe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(os,"");return r+s}function fhe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return che(e);case"0303000000000000c000000000000046":return uhe(e);default:throw new Error("Unsupported Moniker "+r)}}function mx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(os,""):"";return r}function dhe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=mx(e,r-e.l)),a&128&&(s=mx(e,r-e.l)),(a&257)===257&&(o=mx(e,r-e.l)),(a&257)===1&&(l=fhe(e,r-e.l)),a&8&&(c=mx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=iC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function Hz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Gz(e,t){var r=Hz(e);return r[3]=0,r}function Zl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function hhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function phe(e,t,r){return t===0?"":xh(e,t,r)}function mhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Kz(e){var t=e.read_shift(2),r=nC(e);return[t,r]}function ghe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=J1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function w5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Yz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var vhe=Yz;function Xz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function yhe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function xhe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Si(e){e.l+=2,e.l+=e.read_shift(2)}var bhe={0:Si,4:Si,5:Si,6:Si,7:xhe,8:Si,9:Si,10:Si,11:Si,12:Si,13:yhe,14:Si,15:Si,16:Si,17:Si,18:Si,19:Si,20:Si,21:Xz};function whe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(bhe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function gx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function _he(e,t){return t===0||e.read_shift(2),1200}function She(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xh(e,0,r);return e.read_shift(t+n-e.l),a}function Ahe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function The(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=J1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Ehe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(ohe(e));return i.Count=n,i.Unique=a,i}function khe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Nhe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Che(e){var t=hhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Phe(e){return e.read_shift(2),e.read_shift(4)}function RD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Ohe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Ihe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jhe(){}function Dhe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=J1(e,0,r),n}function Lhe(e){var t=Zl(e);return t.isst=e.read_shift(4),t}function Mhe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Zl(e);r.biff==2&&e.l++;var i=Z1(e,n-e.l,r);return a.val=i,a}function Rhe(e,t,r){var n=e.read_shift(2),a=xh(e,0,r);return[n,a]}var Fhe=xh;function FD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function $he(e){var t=e.read_shift(2),r=e.read_shift(2),n=Kz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Bhe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Kz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Uhe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Vhe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=$de[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function zhe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Vhe(e,t,n.fStyle,r),n}function qhe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function $D(e,t,r){var n=Zl(e);(r.biff==2||t==9)&&++e.l;var a=she(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Whe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Zl(e),a=Ri(e);return n.val=a,n}var BD=phe;function Hhe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=nh(e,i),o=[];n>e.l;)o.push(Z1(e));return[i,a,s,o]}function UD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=ghe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Ghe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function VD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=nh(e,s,r);a&32&&(c=Ghe[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:Nge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Qz(e,t,r){if(r.biff<8)return Khe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(mhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Khe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=J1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Yhe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=nh(e,n,r),s=nh(e,a,r);return[i,s]}function Xhe(e,t,r){var n=Yz(e);e.l++;var a=e.read_shift(1);return t-=8,[Cge(e,t,r),a,n]}function zD(e,t,r){var n=vhe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Ege(e,t,r)]}function Qhe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Jhe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=xh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Zhe(e,t,r){return Jhe(e,t,r)}function e0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(w5(e));return r}function t0e(e,t,r){if(r&&r.biff<8)return n0e(e,t,r);var n=Xz(e),a=whe(e,t-22,n[1]);return{cmo:n,ft:a}}var r0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function n0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((r0e[n]||qi)(e,t,r)),{cmo:[a,n,i],ft:s}}function a0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=lhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Sa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=nh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function i0e(e,t){var r=w5(e);e.l+=16;var n=dhe(e,t-24);return[r,n]}function s0e(e,t){e.read_shift(2);var r=w5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(os,""),[r,n]}function o0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ID[r]||r,r=e.read_shift(2),t[1]=ID[r]||r,t}function l0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gz(e));return r}function c0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gz(e));return r}function u0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Jz(e,t,r){if(!r.cellStyles)return qi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function f0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ri(e),r.footer=Ri(e),e.l+=2),r}function d0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var h0e=Zl,p0e=Wz,m0e=Z1;function g0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function v0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Zl(e);++e.l;var a=xh(e,t-7,r);return n.t="str",n.val=a,n}function y0e(e){var t=Zl(e);++e.l;var r=Ri(e);return t.t="n",t.val=r,t}function x0e(e){var t=Zl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function b0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function w0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function _0e(e,t,r){var n=e.l+t,a=Zl(e),i=e.read_shift(2),s=nh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var S0e=[2,3,48,49,131,139,140,245],qD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=KN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Mf(1);switch(l.type){case"base64":u=al(Xs(o));break;case"binary":u=al(o);break;case"buffer":case"array":u=o;break}ci(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],O={},C=Math.min(u.length,f==2?521:v-10-(p?264:0)),I=g?32:11;u.l<C&&u[u.l]!=13;)switch(O={},O.name=Ku.utils.decode(b,u.slice(u.l,u.l+I)).replace(/[\u0000\r\n].*$/g,""),u.l+=I,O.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),f==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&w.push(O),f!=2&&(u.l+=g?13:14),O.type){case"B":(!p||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=w.length;++S)c[0][S]=w[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=w.length;++S){var A=u.slice(u.l,u.l+w[S].len);u.l+=w[S].len,ci(A,0);var j=Ku.utils.decode(b,A);switch(w[S].type){case"C":j.trim().length&&(c[T][S]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[T][S]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[T][S]=j;break;case"F":c[T][S]=parseFloat(j.trim());break;case"+":case"I":c[T][S]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][S]="##MEMO##"+(g?parseInt(j.trim(),10):A.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[T][S]=+j||0);break;case"@":c[T][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[T][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-A.read_shift(-8,"f");break;case"B":if(p&&w[S].len==8){c[T][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Zp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Hf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&sl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ST(),f=jT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var w=la(o["!ref"]),O=[],C=[],I=[];for(m=0;m<=w.e.c-w.s.c;++m){var T="",S="",A=0,j=[];for(v=0;v<p.length;++v)p[v][m]!=null&&j.push(p[v][m]);if(j.length==0||h[m]==null){O[m]="?";continue}for(v=0;v<j.length;++v){switch(typeof j[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=j[v]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(j[v]).length),T=T&&T!=S?"C":S}A>250&&(A=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>A&&(A=g[m].DBF.len),T=="B"&&S=="N"&&(T="N",I[m]=g[m].DBF.dec,A=g[m].DBF.len),C[m]=T=="C"||S=="N"?A:i[T]||0,b+=C[m],O[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,b),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[QV]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var k=u.next(32),D=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,D,"sbcs"),k.write_shift(1,O[m]=="?"?"C":O[m],"sbcs"),k.write_shift(4,v),k.write_shift(1,C[m]||i[O[m]]||0),k.write_shift(1,I[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),v+=C[m]||i[O[m]]||0}var V=u.next(264);for(V.write_shift(4,13),m=0;m<65;++m)V.write_shift(4,0);for(m=0;m<p.length;++m){var X=u.next(b);for(X.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":X.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":X.write_shift(8,p[m][v]||0,"f");break;case"N":var Y="0";for(typeof p[m][v]=="number"&&(Y=p[m][v].toFixed(I[v]||0)),y=0;y<C[v]-Y.length;++y)X.write_shift(1,32);X.write_shift(1,Y,"sbcs");break;case"D":p[m][v]?(X.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[m][v]!=null?p[m][v]:"").slice(0,C[v]);for(X.write_shift(1,J,"sbcs"),y=0;y<C[v]-J.length;++y)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),A0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Xl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?sD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:sD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Xs(h),p);case"binary":return i(h,p);case"buffer":return i(Rr&&Buffer.isBuffer(h)?h.toString("binary"):mh(h),p);case"array":return i(rh(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,w=[],O=[],C=null,I={},T=[],S=[],A=[],j=0,E;for(+p.codepage>=0&&sl(+p.codepage);y!==g.length;++y){j=0;var k=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=k.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),V=D[0],X;if(k.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&O.push(k.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,J=!1,H=!1,z=!1,ee=-1,W=-1;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"A":break;case"X":v=parseInt(D[b].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(D[b].slice(1))-1,J||(v=0),E=w.length;E<=m;++E)w[E]=[];break;case"K":X=D[b].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(dl(X))?isNaN(fp(X).getDate())||(X=Qa(X)):(X=dl(X),C!==null&&Qp(C)&&(X=b5(X))),Y=!0;break;case"E":z=!0;var P=M0(D[b].slice(1),{r:m,c:v});w[m][v]=[w[m][v],P];break;case"S":H=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":ee=parseInt(D[b].slice(1))-1;break;case"C":W=parseInt(D[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(Y&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=X:w[m][v]=X,C=null),H){if(z)throw new Error("SYLK shared formula cannot have own formula");var F=ee>-1&&w[ee][W];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=lq(F[1],{r:m-ee,c:v-W})}break;case"F":var q=0;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"X":v=parseInt(D[b].slice(1))-1,++q;break;case"Y":for(m=parseInt(D[b].slice(1))-1,E=w.length;E<=m;++E)w[E]=[];break;case"M":j=parseInt(D[b].slice(1))/20;break;case"F":break;case"G":break;case"P":C=O[parseInt(D[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=D[b].slice(1).split(" "),E=parseInt(A[0],10);E<=parseInt(A[1],10);++E)j=parseInt(A[2],10),S[E-1]=j===0?{hidden:!0}:{wch:j},dp(S[E-1]);break;case"C":v=parseInt(D[b].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(D[b].slice(1))-1,T[m]||(T[m]={}),j>0?(T[m].hpt=j,T[m].hpx=Wv(j)):j===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}q<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return T.length>0&&(I["!rows"]=T),S.length>0&&(I["!cols"]=S),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,I]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=Zp(m,p);return Xl(v).forEach(function(b){y[b]=v[b]}),y}function o(h,p){return Hf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+ume(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=_b(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Sb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*iq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=la(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var C=v.s.c;C<=v.e.c;++C){var I=wr({r:O,c:C});y=b?(h[O]||[])[C]:h[I],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,O,C))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),T0e=function(){function e(i,s){switch(s.type){case"base64":return t(Xs(i),s);case"binary":return t(i,s);case"buffer":return t(Rr&&Buffer.isBuffer(i)?i.toString("binary"):mh(i),s);case"array":return t(rh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(dl(g))?isNaN(fp(g).getDate())?f[l][c]=g:f[l][c]=Qa(g):f[l][c]=dl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Zp(e(i,s),s)}function n(i,s){return Hf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=la(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=wr({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=No(f.z||Ar[14],ls(Qa(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),E0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var w=rs(b[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var O=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Zp(r(f,h),h)}function a(f,h){return Hf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=Jp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(m=wr({r:b,c:w}),g=y?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var O=ls(Qa(g.v));p[2]="vtc",p[3]="nd",p[4]=""+O,p[5]=g.w||No(g.z||Ar[14],O);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),zv=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(dl(u))?isNaN(fp(u).getDate())?f[h][p]=u:f[h][p]=Qa(u):f[h][p]=dl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){p[b]=[];var w=0;for(e(g[b].slice(0,v).trim(),p,b,w,h),w=1;w<=(g[b].length-v)/10+1;++w)e(g[b].slice(v+(w-1)*10,v+w*10).trim(),p,b,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,b=0,w=0,O=0,C=p.charCodeAt(0),I=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?Rfe(h.dateNF):null;function j(){var E=u.slice(w,O),k={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)k.t="z";else if(h.raw)k.t="s",k.v=E;else if(E.trim().length===0)k.t="s",k.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(k.t="s",k.v=E.slice(2,-1).replace(/""/g,'"')):dme(E)?(k.t="n",k.f=E.slice(1)):(k.t="s",k.v=E);else if(E=="TRUE")k.t="b",k.v=!0;else if(E=="FALSE")k.t="b",k.v=!1;else if(!isNaN(b=dl(E)))k.t="n",h.cellText!==!1&&(k.w=E),k.v=b;else if(!isNaN(fp(E).getDate())||A&&E.match(A)){k.z=h.dateNF||Ar[14];var D=0;A&&E.match(A)&&(E=Ffe(E,h.dateNF,E.match(A)||[]),D=1),h.cellDates?(k.t="d",k.v=Qa(E,D)):(k.t="n",k.v=ls(Qa(E,D))),h.cellText!==!1&&(k.w=No(k.z,k.v instanceof Date?ls(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=E;if(k.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=k):g[wr({c:y,r:v})]=k),w=O+1,S=u.charCodeAt(w),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==C)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(T=u.charCodeAt(O)){case 34:S===34&&(I=!I);break;case C:case 10:case 13:if(!I&&j())break e;break}return O-w>0&&j(),g["!ref"]=zr(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Zp(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:hC(u,f);switch(f.type){case"base64":h=Xs(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ku<"u"?h=Ku.utils.decode(f.codepage,u):h=Rr&&Buffer.isBuffer(u)?u.toString("binary"):mh(u);break;case"array":h=rh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Cn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Cn(h):f.type=="binary"&&typeof Ku<"u"&&f.codepage&&(h=Ku.utils.decode(f.codepage,Ku.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?E0e.to_sheet(f.type=="string"?h:Cn(h),f):s(h,f)}function l(u,f){return Hf(o(u,f),f)}function c(u){for(var f=[],h=la(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=wr({r:m,c:y});if(p=g?(u[m]||[])[y]:u[b],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(Kc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function k0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=A0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return zv.to_workbook(e,t)}}var Bg=function(){function e(P,F,q){if(P){ci(P,P.l||0);for(var K=q.Enum||ee;P.l<P.length;){var Z=P.read_shift(2),ce=K[Z]||K[65535],de=P.read_shift(2),ae=P.l+de,he=ce.f&&ce.f(P,de,q);if(P.l=ae,F(he,ce,Z))return}}}function t(P,F){switch(F.type){case"base64":return r(al(Xs(P)),F);case"binary":return r(al(P),F);case"buffer":case"array":return r(P,F)}throw"Unsupported type "+F.type}function r(P,F){if(!P)return P;var q=F||{},K=q.dense?[]:{},Z="Sheet1",ce="",de=0,ae={},he=[],Se=[],B={s:{r:0,c:0},e:{r:0,c:0}},Ee=q.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)q.Enum=ee,e(P,function(Ne,Be,Ue){switch(Ue){case 0:q.vers=Ne,Ne>=4096&&(q.qpro=!0);break;case 6:B=Ne;break;case 204:Ne&&(ce=Ne);break;case 222:ce=Ne;break;case 15:case 51:q.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=q.dateNF||Ar[14],q.cellDates&&(Ne[1].t="d",Ne[1].v=b5(Ne[1].v))),q.qpro&&Ne[3]>de&&(K["!ref"]=zr(B),ae[Z]=K,he.push(Z),K=q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},de=Ne[3],Z=ce||"Sheet"+(de+1),ce="");var Ze=q.dense?(K[Ne[0].r]||[])[Ne[0].c]:K[wr(Ne[0])];if(Ze){Ze.t=Ne[1].t,Ze.v=Ne[1].v,Ne[1].z!=null&&(Ze.z=Ne[1].z),Ne[1].f!=null&&(Ze.f=Ne[1].f);break}q.dense?(K[Ne[0].r]||(K[Ne[0].r]=[]),K[Ne[0].r][Ne[0].c]=Ne[1]):K[wr(Ne[0])]=Ne[1];break}},q);else if(P[2]==26||P[2]==14)q.Enum=W,P[2]==14&&(q.qpro=!0,P.l=0),e(P,function(Ne,Be,Ue){switch(Ue){case 204:Z=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>de&&(K["!ref"]=zr(B),ae[Z]=K,he.push(Z),K=q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},de=Ne[3],Z="Sheet"+(de+1)),Ee>0&&Ne[0].r>=Ee)break;q.dense?(K[Ne[0].r]||(K[Ne[0].r]=[]),K[Ne[0].r][Ne[0].c]=Ne[1]):K[wr(Ne[0])]=Ne[1],B.e.c<Ne[0].c&&(B.e.c=Ne[0].c),B.e.r<Ne[0].r&&(B.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(Se[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:Se[Ne[0]]=Ne[1],Ne[0]==de&&(Z=Ne[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(K["!ref"]=zr(B),ae[ce||Z]=K,he.push(ce||Z),!Se.length)return{SheetNames:he,Sheets:ae};for(var ve={},xe=[],te=0;te<Se.length;++te)ae[he[te]]?(xe.push(Se[te]||he[te]),ve[Se[te]]=ae[Se[te]]||ae[he[te]]):(xe.push(Se[te]),ve[Se[te]]={"!ref":"A1"});return{SheetNames:xe,Sheets:ve}}function n(P,F){var q=F||{};if(+q.codepage>=0&&sl(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=ST(),Z=la(P["!ref"]),ce=Array.isArray(P),de=[];Wo(K,0,i(1030)),Wo(K,6,l(Z));for(var ae=Math.min(Z.e.r,8191),he=Z.s.r;he<=ae;++he)for(var Se=mi(he),B=Z.s.c;B<=Z.e.c;++B){he===Z.s.r&&(de[B]=Ma(B));var Ee=de[B]+Se,ve=ce?(P[he]||[])[B]:P[Ee];if(!(!ve||ve.t=="z"))if(ve.t=="n")(ve.v|0)==ve.v&&ve.v>=-32768&&ve.v<=32767?Wo(K,13,p(he,B,ve.v)):Wo(K,14,m(he,B,ve.v));else{var xe=Kc(ve);Wo(K,15,f(he,B,xe.slice(0,239)))}}return Wo(K,1),K.end()}function a(P,F){var q=F||{};if(+q.codepage>=0&&sl(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=ST();Wo(K,0,s(P));for(var Z=0,ce=0;Z<P.SheetNames.length;++Z)(P.Sheets[P.SheetNames[Z]]||{})["!ref"]&&Wo(K,27,z(P.SheetNames[Z],ce++));var de=0;for(Z=0;Z<P.SheetNames.length;++Z){var ae=P.Sheets[P.SheetNames[Z]];if(!(!ae||!ae["!ref"])){for(var he=la(ae["!ref"]),Se=Array.isArray(ae),B=[],Ee=Math.min(he.e.r,8191),ve=he.s.r;ve<=Ee;++ve)for(var xe=mi(ve),te=he.s.c;te<=he.e.c;++te){ve===he.s.r&&(B[te]=Ma(te));var Ne=B[te]+xe,Be=Se?(ae[ve]||[])[te]:ae[Ne];if(!(!Be||Be.t=="z"))if(Be.t=="n")Wo(K,23,j(ve,te,de,Be.v));else{var Ue=Kc(Be);Wo(K,22,T(ve,te,de,Ue.slice(0,239)))}}++de}}return Wo(K,1),K.end()}function i(P){var F=Ia(2);return F.write_shift(2,P),F}function s(P){var F=Ia(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var q=0,K=0,Z=0,ce=0;ce<P.SheetNames.length;++ce){var de=P.SheetNames[ce],ae=P.Sheets[de];if(!(!ae||!ae["!ref"])){++Z;var he=Jp(ae["!ref"]);q<he.e.r&&(q=he.e.r),K<he.e.c&&(K=he.e.c)}}return q>8191&&(q=8191),F.write_shift(2,q),F.write_shift(1,Z),F.write_shift(1,K),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(P,F,q){var K={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&q.qpro?(K.s.c=P.read_shift(1),P.l++,K.s.r=P.read_shift(2),K.e.c=P.read_shift(1),P.l++,K.e.r=P.read_shift(2),K):(K.s.c=P.read_shift(2),K.s.r=P.read_shift(2),F==12&&q.qpro&&(P.l+=2),K.e.c=P.read_shift(2),K.e.r=P.read_shift(2),F==12&&q.qpro&&(P.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(P){var F=Ia(8);return F.write_shift(2,P.s.c),F.write_shift(2,P.s.r),F.write_shift(2,P.e.c),F.write_shift(2,P.e.r),F}function c(P,F,q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(K[0].c=P.read_shift(1),K[3]=P.read_shift(1),K[0].r=P.read_shift(2),P.l+=2):(K[2]=P.read_shift(1),K[0].c=P.read_shift(2),K[0].r=P.read_shift(2)),K}function u(P,F,q){var K=P.l+F,Z=c(P,F,q);if(Z[1].t="s",q.vers==20768){P.l++;var ce=P.read_shift(1);return Z[1].v=P.read_shift(ce,"utf8"),Z}return q.qpro&&P.l++,Z[1].v=P.read_shift(K-P.l,"cstr"),Z}function f(P,F,q){var K=Ia(7+q.length);K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,P),K.write_shift(1,39);for(var Z=0;Z<K.length;++Z){var ce=q.charCodeAt(Z);K.write_shift(1,ce>=128?95:ce)}return K.write_shift(1,0),K}function h(P,F,q){var K=c(P,F,q);return K[1].v=P.read_shift(2,"i"),K}function p(P,F,q){var K=Ia(7);return K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,P),K.write_shift(2,q,"i"),K}function g(P,F,q){var K=c(P,F,q);return K[1].v=P.read_shift(8,"f"),K}function m(P,F,q){var K=Ia(13);return K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,P),K.write_shift(8,q,"f"),K}function v(P,F,q){var K=P.l+F,Z=c(P,F,q);if(Z[1].v=P.read_shift(8,"f"),q.qpro)P.l=K;else{var ce=P.read_shift(2);O(P.slice(P.l,P.l+ce),Z),P.l+=ce}return Z}function y(P,F,q){var K=F&32768;return F&=-32769,F=(K?P:0)+(F>=8192?F-16384:F),(K?"":"$")+(q?Ma(F):mi(F))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(P,F){ci(P,0);for(var q=[],K=0,Z="",ce="",de="",ae="";P.l<P.length;){var he=P[P.l++];switch(he){case 0:q.push(P.read_shift(8,"f"));break;case 1:ce=y(F[0].c,P.read_shift(2),!0),Z=y(F[0].r,P.read_shift(2),!1),q.push(ce+Z);break;case 2:{var Se=y(F[0].c,P.read_shift(2),!0),B=y(F[0].r,P.read_shift(2),!1);ce=y(F[0].c,P.read_shift(2),!0),Z=y(F[0].r,P.read_shift(2),!1),q.push(Se+B+":"+ce+Z)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(P.read_shift(2));break;case 6:{for(var Ee="";he=P[P.l++];)Ee+=String.fromCharCode(he);q.push('"'+Ee.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ae=q.pop(),de=q.pop(),q.push(["AND","OR"][he-20]+"("+de+","+ae+")");break;default:if(he<32&&w[he])ae=q.pop(),de=q.pop(),q.push(de+w[he]+ae);else if(b[he]){if(K=b[he][1],K==69&&(K=P[P.l++]),K>q.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+q.join("|")+"|");return}var ve=q.slice(-K);q.length-=K,q.push(b[he][0]+"("+ve.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}q.length==1?F[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function C(P){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=P.read_shift(2),F[3]=P[P.l++],F[0].c=P[P.l++],F}function I(P,F){var q=C(P);return q[1].t="s",q[1].v=P.read_shift(F-4,"cstr"),q}function T(P,F,q,K){var Z=Ia(6+K.length);Z.write_shift(2,P),Z.write_shift(1,q),Z.write_shift(1,F),Z.write_shift(1,39);for(var ce=0;ce<K.length;++ce){var de=K.charCodeAt(ce);Z.write_shift(1,de>=128?95:de)}return Z.write_shift(1,0),Z}function S(P,F){var q=C(P);q[1].v=P.read_shift(2);var K=q[1].v>>1;if(q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return q[1].v=K,q}function A(P,F){var q=C(P),K=P.read_shift(4),Z=P.read_shift(4),ce=P.read_shift(2);if(ce==65535)return K===0&&Z===3221225472?(q[1].t="e",q[1].v=15):K===0&&Z===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var de=ce&32768;return ce=(ce&32767)-16446,q[1].v=(1-de*2)*(Z*Math.pow(2,ce+32)+K*Math.pow(2,ce)),q}function j(P,F,q,K){var Z=Ia(14);if(Z.write_shift(2,P),Z.write_shift(1,q),Z.write_shift(1,F),K==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var ce=0,de=0,ae=0,he=0;return K<0&&(ce=1,K=-K),de=Math.log2(K)|0,K/=Math.pow(2,de-31),he=K>>>0,he&2147483648||(K/=2,++de,he=K>>>0),K-=he,he|=2147483648,he>>>=0,K*=Math.pow(2,32),ae=K>>>0,Z.write_shift(4,ae),Z.write_shift(4,he),de+=16383+(ce?32768:0),Z.write_shift(2,de),Z}function E(P,F){var q=A(P);return P.l+=F-14,q}function k(P,F){var q=C(P),K=P.read_shift(4);return q[1].v=K>>6,q}function D(P,F){var q=C(P),K=P.read_shift(8,"f");return q[1].v=K,q}function V(P,F){var q=D(P);return P.l+=F-10,q}function X(P,F){return P[P.l+F-1]==0?P.read_shift(F,"cstr"):""}function Y(P,F){var q=P[P.l++];q>F-1&&(q=F-1);for(var K="";K.length<q;)K+=String.fromCharCode(P[P.l++]);return K}function J(P,F,q){if(!(!q.qpro||F<21)){var K=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Z=P.read_shift(F-21,"cstr");return[K,Z]}}function H(P,F){for(var q={},K=P.l+F;P.l<K;){var Z=P.read_shift(2);if(Z==14e3){for(q[Z]=[0,""],q[Z][0]=P.read_shift(2);P[P.l];)q[Z][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return q}function z(P,F){var q=Ia(5+P.length);q.write_shift(2,14e3),q.write_shift(2,F);for(var K=0;K<P.length;++K){var Z=P.charCodeAt(K);q[q.l++]=Z>127?95:Z}return q[q.l++]=0,q}var ee={0:{n:"BOF",f:Sa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function N0e(e){var t={},r=e.match(Wi),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=hr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=zN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var C0e=function(){var e=Uv("t"),t=Uv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Gr(s[1])},l=i.match(t);return l&&(o.s=N0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),P0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),O0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,I0e=/<(?:\w+:)?r>/,j0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function sC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gr(Cn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Cn(e),r&&(n.h=XN(n.t))):e.match(I0e)&&(n.r=Cn(e),n.t=Gr(Cn((e.replace(j0e,"").match(O0e)||[]).join("").replace(Wi,""))),r&&(n.h=P0e(C0e(n.r)))),n):{t:""}}var D0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,L0e=/<(?:\w+:)?(?:si|sstItem)>/g,M0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function R0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(D0e);if(a){n=a[2].replace(L0e,"").split(M0e);for(var i=0;i!=n.length;++i){var s=sC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=hr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function F0e(e){return[e.read_shift(4),e.read_shift(4)]}function $0e(e,t){var r=[],n=!1;return iu(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Zz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Oc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function B0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Oc(e,4),t.U=Oc(e,4),t.W=Oc(e,4),t}function U0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function V0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(U0e(e));return t}function z0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function q0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Oc(e,4),t.U=Oc(e,4),t.W=Oc(e,4),t}function W0e(e){var t=q0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function eq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function tq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function H0e(e){var t=Oc(e);switch(t.Minor){case 2:return[t.Minor,G0e(e)];case 3:return[t.Minor,K0e()];case 4:return[t.Minor,Y0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function G0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=eq(e,r),a=tq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function K0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Y0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Wi,function(i){var s=hr(i);switch(Jl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function X0e(e,t){var r={},n=r.EncryptionVersionInfo=Oc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=eq(e,a),t-=a,r.EncryptionVerifier=tq(e,t),r}function Q0e(e){var t={},r=t.EncryptionVersionInfo=Oc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function J0e(e){var t=0,r,n=Zz(e),a=n.length+1,i,s,o,l,c;for(r=Mf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var rq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Zz(s),l=i(o),c=o.length,u=Mf(16),f=0;f!=16;++f)u[f]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Z0e=function(e,t,r,n,a){a||(a=t),n||(n=rq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},epe=function(e){var t=0,r=rq(e);return function(n){var a=Z0e("",n,t,r);return t=a[1],a[0]}};function tpe(e,t,r,n){var a={key:Sa(e),verificationBytes:Sa(e)};return r.password&&(a.verifier=J0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=epe(r.password)),a}function rpe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Q0e(e):n.Data=X0e(e,t),n}function npe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?rpe(e,t-2,n):tpe(e,r.biff>=8?t:t-2,r,n),n}var ape=function(){function e(a,i){switch(i.type){case"base64":return t(Xs(a),i);case"binary":return t(a,i);case"buffer":return t(Rr&&Buffer.isBuffer(a)?a.toString("binary"):mh(a),i);case"array":return t(rh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[wr({r:f,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=zr(c),o}function r(a,i){return Hf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=la(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=wr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Kc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function ipe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function qv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function spe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function ope(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function wb(e,t){if(t===0)return e;var r=spe(ipe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),qv(ope(r))}var nq=6,lpe=15,cpe=1,Zi=nq;function _b(e){return Math.floor((e+Math.round(128/Zi)/256)*Zi)}function Sb(e){return Math.floor((e-5)/Zi*100+.5)/100}function kT(e){return Math.round((e*Zi+5)/Zi*256)/256}function FS(e){return kT(Sb(_b(e)))}function oC(e){var t=Math.abs(e-FS(e)),r=Zi;if(t>.005)for(Zi=cpe;Zi<lpe;++Zi)Math.abs(e-FS(e))<=t&&(t=Math.abs(e-FS(e)),r=Zi);Zi=r}function dp(e){e.width?(e.wpx=_b(e.width),e.wch=Sb(e.wpx),e.MDW=Zi):e.wpx?(e.wch=Sb(e.wpx),e.width=kT(e.wch),e.MDW=Zi):typeof e.wch=="number"&&(e.width=kT(e.wch),e.wpx=_b(e.width),e.MDW=Zi),e.customWidth&&delete e.customWidth}var upe=96,aq=upe;function iq(e){return e*96/aq}function Wv(e){return e*aq/96}var fpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function dpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Wi)||[]).forEach(function(s){var o=hr(s);switch(Jl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Bn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Bn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function hpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Wi)||[]).forEach(function(s){var o=hr(s);switch(Jl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function ppe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Wi)||[]).forEach(function(s){var o=hr(s);switch(Jl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Cn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Bn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Bn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Bn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Bn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Bn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Bn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Bn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=zN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Bn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Vd[a.color.index];a.color.index==81&&(l=Vd[1]),l||(l=Vd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=wb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function mpe(e,t,r){t.NumberFmt=[];for(var n=Xl(Ar),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ar[n[a]];var i=e[0].match(Wi);if(i)for(a=0;a<i.length;++a){var s=hr(i[a]);switch(Jl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gr(Cn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Ud(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var vx=["numFmtId","fillId","fontId","borderId","xfId"],yx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function gpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Wi)||[]).forEach(function(i){var s=hr(i),o=0;switch(Jl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<vx.length;++o)n[vx[o]]&&(n[vx[o]]=parseInt(n[vx[o]],10));for(o=0;o<yx.length;++o)n[yx[o]]&&(n[yx[o]]=Bn(n[yx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Bn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var vpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&mpe(f,u,c),(f=o.match(a))&&ppe(f,u,l,c),(f=o.match(n))&&hpe(f,u,l,c),(f=o.match(i))&&dpe(f,u,l,c),(f=o.match(r))&&gpe(f,u,c),u}}();function ype(e,t){var r=e.read_shift(2),n=Vi(e);return[r,n]}function xpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Cde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Nde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vi(e),n}var bpe=qi;function wpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var _pe=qi;function Spe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ar)n.NumberFmt[a]=Ar[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return iu(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ud(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=wb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Ape=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Tpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Wi)||[]).forEach(function(a){var i=hr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Ape.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Epe(){}function kpe(){}var Npe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Cpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ppe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ope(e,t,r){t.themeElements={};var n;[["clrScheme",Npe,Tpe],["fontScheme",Cpe,Epe],["fmtScheme",Ppe,kpe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Ipe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function sq(e,t){(!e||e.length===0)&&(e=jpe());var r,n={};if(!(r=e.match(Ipe)))throw new Error("themeElements not found in theme");return Ope(r[0],n,t),n.raw=e,n}function jpe(e,t){var r=[vz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Dpe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=gz(i,{type:"array"})}catch{return}var o=Vs(s,"theme/theme/theme1.xml",!0);if(o)return sq(o,r)}}function Lpe(e){return e.read_shift(4)}function Mpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Rpe(e,4);break;case 2:t.xclrValue=Hz(e);break;case 3:t.xclrValue=Lpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Rpe(e,t){return qi(e,t)}function Fpe(e,t){return qi(e,t)}function $pe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Mpe(e);break;case 6:n[1]=Fpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Bpe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push($pe(e,r-e.l));return{ixfe:n,ext:i}}function Upe(e,t){t.forEach(function(r){switch(r[0]){}})}function Vpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Vi(e)}}function zpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function qpe(e){return e.l+=4,e.read_shift(4)!=0}function Wpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return iu(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Hpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Wi,function(o){var l=hr(o);switch(Jl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Gpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Wi)||[]).forEach(function(n){var a=hr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Kpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=wr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Ype(e,t,r){var n=[];return iu(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Xpe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;iu(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Qpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function WD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=rs(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=la(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=zr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Jpe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=hr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=rs(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&sC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Zpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Wi,function(o,l){var c=hr(o);switch(Jl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function eme(e,t){var r=[],n=!1;return e.replace(Wi,function(i){var s=hr(i);switch(Jl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function tme(e){var t={};t.iauthor=e.read_shift(4);var r=vh(e);return t.rfx=r.s,t.ref=wr(r.s),e.l+=16,t}var rme=Vi;function nme(e,t){var r=[],n=[],a={},i=!1;return iu(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var ame="application/vnd.ms-office.vbaProject";function ime(e){var t=Ur.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ur.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ur.write(t)}function sme(){return{"!type":"dialog"}}function ome(){return{"!type":"dialog"}}function lme(){return{"!type":"macro"}}function cme(){return{"!type":"macro"}}var M0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ma(u)+(l?"":"$")+mi(c)}return function(a,i){return t=i,a.replace(e,r)}}(),oq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ume=function(){return function(t,r){return t.replace(oq,function(n,a,i,s,o,l){var c=eC(s)-(i?0:r.c),u=ZN(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function lq(e,t){return e.replace(oq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ma(eC(i)+t.c))+(s=="$"?s+o:mi(ZN(o)+t.r))})}function fme(e,t,r){var n=Jp(t),a=n.s,i=rs(r),s={r:i.r-a.r,c:i.c-a.c};return lq(e,s)}function dme(e){return e.length!=1}function HD(e){return e.replace(/_xlfn\./g,"")}function ba(e){e.l+=1}function Rf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function cq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return uq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Rf(e),o=Rf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function uq(e){var t=Rf(e),r=Rf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function hme(e,t,r){if(r.biff<8)return uq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Rf(e),s=Rf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function fq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return pme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Rf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function pme(e){var t=Rf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function mme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function gme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return vme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function vme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function yme(e,t,r){var n=(e[e.l++]&96)>>5,a=cq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function xme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=cq(e,i,r);return[n,a,s]}function bme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function wme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function _me(e,t,r){var n=(e[e.l++]&96)>>5,a=hme(e,t-1,r);return[n,a]}function Sme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function GD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Ame(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Tme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Eme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function kme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Nme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function dq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Cme(e){return e.read_shift(2),dq(e)}function Pme(e){return e.read_shift(2),dq(e)}function Ome(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=fq(e,0,r);return[n,a]}function Ime(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=gme(e,0,r);return[n,a]}function jme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=fq(e,0,r);return[n,a,i]}function Dme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Lge[a],mq[a],n]}function Lme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Mme(e);return[a,(i[0]===0?mq:Dge)[i[1]]]}function Mme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Rme(e,t,r){e.l+=r&&r.biff==2?3:4}function Fme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $me(e){return e.l++,yh[e.read_shift(1)]}function Bme(e){return e.l++,e.read_shift(2)}function Ume(e){return e.l++,e.read_shift(1)!==0}function Vme(e){return e.l++,Ri(e)}function zme(e,t,r){return e.l++,J1(e,t-1,r)}function qme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=yh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ri(e);break;case 2:r[1]=xh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Wme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?vh:w5)(e));return a}function Hme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=qme(e,r.biff);return s}function Gme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Kme(e,t,r){if(r.biff==5)return Yme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Yme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Xme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Qme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Jme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Zme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var ege=qi,tge=qi,rge=qi;function ey(e,t,r){return e.l+=2,[mme(e)]}function lC(e){return e.l+=6,[]}var nge=ey,age=lC,ige=lC,sge=ey;function hq(e){return e.l+=2,[Sa(e),e.read_shift(2)&1]}var oge=ey,lge=hq,cge=lC,uge=ey,fge=ey,dge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=dge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function pge(e){return e.l+=2,[e.read_shift(4)]}function mge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function gge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function vge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function yge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xge(e){return e.l+=4,[0,0]}var KD={1:{n:"PtgExp",f:Fme},2:{n:"PtgTbl",f:rge},3:{n:"PtgAdd",f:ba},4:{n:"PtgSub",f:ba},5:{n:"PtgMul",f:ba},6:{n:"PtgDiv",f:ba},7:{n:"PtgPower",f:ba},8:{n:"PtgConcat",f:ba},9:{n:"PtgLt",f:ba},10:{n:"PtgLe",f:ba},11:{n:"PtgEq",f:ba},12:{n:"PtgGe",f:ba},13:{n:"PtgGt",f:ba},14:{n:"PtgNe",f:ba},15:{n:"PtgIsect",f:ba},16:{n:"PtgUnion",f:ba},17:{n:"PtgRange",f:ba},18:{n:"PtgUplus",f:ba},19:{n:"PtgUminus",f:ba},20:{n:"PtgPercent",f:ba},21:{n:"PtgParen",f:ba},22:{n:"PtgMissArg",f:ba},23:{n:"PtgStr",f:zme},26:{n:"PtgSheet",f:mge},27:{n:"PtgEndSheet",f:gge},28:{n:"PtgErr",f:$me},29:{n:"PtgBool",f:Ume},30:{n:"PtgInt",f:Bme},31:{n:"PtgNum",f:Vme},32:{n:"PtgArray",f:Sme},33:{n:"PtgFunc",f:Dme},34:{n:"PtgFuncVar",f:Lme},35:{n:"PtgName",f:Gme},36:{n:"PtgRef",f:Ome},37:{n:"PtgArea",f:yme},38:{n:"PtgMemArea",f:Xme},39:{n:"PtgMemErr",f:ege},40:{n:"PtgMemNoMem",f:tge},41:{n:"PtgMemFunc",f:Qme},42:{n:"PtgRefErr",f:Jme},43:{n:"PtgAreaErr",f:bme},44:{n:"PtgRefN",f:Ime},45:{n:"PtgAreaN",f:_me},46:{n:"PtgMemAreaN",f:vge},47:{n:"PtgMemNoMemN",f:yge},57:{n:"PtgNameX",f:Kme},58:{n:"PtgRef3d",f:jme},59:{n:"PtgArea3d",f:xme},60:{n:"PtgRefErr3d",f:Zme},61:{n:"PtgAreaErr3d",f:wme},255:{}},bge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},wge={1:{n:"PtgElfLel",f:hq},2:{n:"PtgElfRw",f:uge},3:{n:"PtgElfCol",f:nge},6:{n:"PtgElfRwV",f:fge},7:{n:"PtgElfColV",f:sge},10:{n:"PtgElfRadical",f:oge},11:{n:"PtgElfRadicalS",f:cge},13:{n:"PtgElfColS",f:age},15:{n:"PtgElfColSV",f:ige},16:{n:"PtgElfRadicalLel",f:lge},25:{n:"PtgList",f:hge},29:{n:"PtgSxName",f:pge},255:{}},_ge={0:{n:"PtgAttrNoop",f:xge},1:{n:"PtgAttrSemi",f:Nme},2:{n:"PtgAttrIf",f:Eme},4:{n:"PtgAttrChoose",f:Ame},8:{n:"PtgAttrGoto",f:Tme},16:{n:"PtgAttrSum",f:Rme},32:{n:"PtgAttrBaxcel",f:GD},33:{n:"PtgAttrBaxcel",f:GD},64:{n:"PtgAttrSpace",f:Cme},65:{n:"PtgAttrSpaceSemi",f:Pme},128:{n:"PtgAttrIfError",f:kme},255:{}};function ty(e,t,r,n){if(n.biff<8)return qi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Hme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Wme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(qi(e,t)),i}function ry(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=KD[i]||KD[bge[i]],(i===24||i===25)&&(a=(i===24?wge:_ge)[e[e.l+1]]),!a||!a.f?qi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Sge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Age={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Tge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function pq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function YD(e,t,r){var n=pq(e,t,r);return n=="#REF"?n:Tge(n,r)}function Oi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=sa(" ",e[0][m][1][1]);break;case 1:v=sa("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Age[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Mg(w[1][1],s,a),o.push(Rg(u,i));break;case"PtgRefN":u=r?Mg(w[1][1],r,a):w[1][1],o.push(Rg(u,i));break;case"PtgRef3d":f=w[1][1],u=Mg(w[1][2],s,a),g=YD(n,f,a),o.push(g+"!"+Rg(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=w[1][0],C=w[1][1];O||(O=0),O&=127;var I=O==0?[]:o.slice(-O);o.length-=O,C==="User"&&(C=I.shift()),o.push(C+"("+I.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=CD(w[1][1],r?{s:r}:s,a),o.push(MS(p,a));break;case"PtgArea":p=CD(w[1][1],s,a),o.push(MS(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=YD(n,f,a),o.push(g+"!"+MS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var j;if(a.biff<=5)A<0&&(A=-A),n[A]&&(j=n[A][h]);else{var E="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(E=n.SheetNames[n[A][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])E+=n[A][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var k=(pq(n,A,a)||"").split(";;");k[h-1]?E=k[h-1]:E+="SH33TJSERRX"}o.push(E);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var D="(",V=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:D=sa(" ",e[0][m][1][1])+D;break;case 3:D=sa("\r",e[0][m][1][1])+D;break;case 4:V=sa(" ",e[0][m][1][1])+V;break;case 5:V=sa("\r",e[0][m][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(D+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[wr(u)]){var Y=n.sharedf[wr(u)];o.push(Oi(Y,s,X,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Oi(c[1],s,X,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+Sge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&H.indexOf(e[0][y][0])==-1){w=e[0][m];var z=!0;switch(w[1][0]){case 4:z=!1;case 0:v=sa(" ",w[1][1]);break;case 5:z=!1;case 1:v=sa("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((z?v:"")+o.pop()+(z?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Ege(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qi(e,t-2)];var o=ry(e,s,r);return t!==s+a&&(i=ty(e,t-s-a,o,r)),e.l=n,[o,i]}function kge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qi(e,t-2)];var o=ry(e,s,r);return t!==s+a&&(i=ty(e,t-s-a,o,r)),e.l=n,[o,i]}function Nge(e,t,r,n){var a=e.l+t,i=ry(e,n,r),s;return a!==e.l&&(s=ty(e,a-e.l,i,r)),[i,s]}function Cge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=ry(e,i,r);return i==65535?[[],qi(e,t-2)]:(t!==i+2&&(a=ty(e,n-i-2,s,r)),[s,a])}function Pge(e){var t;if(Sc(e,e.l+6)!==65535)return[Ri(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function $S(e,t,r){var n=e.l+t,a=Zl(e);r.biff==2&&++e.l;var i=Pge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=kge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function _5(e,t,r){var n=e.read_shift(4),a=ry(e,n,r),i=e.read_shift(4),s=i>0?ty(e,i,a,r):null;return[a,s]}var Oge=_5,S5=_5,Ige=_5,jge=_5,Dge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Lge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function XD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function BS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Ug={},R0={};function Vg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function gq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Ar[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Qa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ar[t]==null&&Ud(Mfe[t]||"General",t),e.t==="e")e.w=e.w||yh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Bv(e.v);else if(e.t==="d"){var s=ls(e.v);(s|0)===s?e.w=s.toString(10):e.w=Bv(s)}else{if(e.v===void 0)return"";e.w=th(e.v,R0)}else e.t==="d"?e.w=No(t,ls(e.v),R0):e.w=No(t,e.v,R0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=wb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=wb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Mge(e,t){var r=la(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=zr(r))}var Rge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Fge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,$ge=/<(?:\w:)?hyperlink [^>]*>/mg,Bge=/"(\w*:\w*)"/,Uge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Vge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,zge=/<(?:\w:)?pageMargins[^>]*\/>/g,vq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Wge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Hge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Fge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(vq);h?cC(h[0],o,a,r):(h=c.match(qge))&&Gge(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(Bge);g&&Mge(o,g[1])}var m=c.match(Wge);m&&m[1]&&Zge(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Uge);y&&Xge(v,y)}f&&eve(f[1],o,t,l,i,s);var b=u.match(Vge);b&&(o["!autofilter"]=Qge(b[0]));var w=[],O=u.match(Rge);if(O)for(p=0;p!=O.length;++p)w[p]=la(O[p].slice(O[p].indexOf('"')+1));var C=u.match($ge);C&&Kge(o,C,n);var I=u.match(zge);if(I&&(o["!margins"]=Yge(hr(I[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=zr(l)),t.sheetRows>0&&o["!ref"]){var T=la(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=zr(T))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function cC(e,t,r,n){var a=hr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Gr(Cn(a.codeName)))}function Gge(e,t,r,n,a){cC(e.slice(0,e.indexOf(">")),r,n,a)}function Kge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=hr(Cn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Gr(i.location))):(i.Target="#"+Gr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=la(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=wr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Yge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Xge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=hr(t[n],!0);a.hidden&&(a.hidden=Bn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,oC(a.width)),dp(a);i<=s;)e[i++]=pi(a)}}function Qge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Jge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Zge(e,t){t.Views||(t.Views=[{}]),(e.match(Jge)||[]).forEach(function(r,n){var a=hr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Bn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var eve=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Uv("v"),s=Uv("f");return function(l,c,u,f,h,p){for(var g=0,m="",v=[],y=[],b=0,w=0,O=0,C="",I,T,S=0,A=0,j,E,k=0,D=0,V=Array.isArray(p.CellXf),X,Y=[],J=[],H=Array.isArray(c),z=[],ee={},W=!1,P=!!u.sheetStubs,F=l.split(t),q=0,K=F.length;q!=K;++q){m=F[q].trim();var Z=m.length;if(Z!==0){var ce=0;e:for(g=0;g<Z;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=hr(m.slice(ce,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,u.sheetRows&&u.sheetRows<S)continue;ee={},W=!1,T.ht&&(W=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Wv(ee.hpt)),T.hidden=="1"&&(W=!0,ee.hidden=!0),T.outlineLevel!=null&&(W=!0,ee.level=+T.outlineLevel),W&&(z[S-1]=ee)}break;case"<":ce=g;break}if(ce>=g)break;if(T=hr(m.slice(ce,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(ee={},W=!1,T.ht&&(W=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Wv(ee.hpt)),T.hidden=="1"&&(W=!0,ee.hidden=!0),T.outlineLevel!=null&&(W=!0,ee.level=+T.outlineLevel),W&&(z[S-1]=ee)),v=m.slice(g).split(e);for(var de=0;de!=v.length&&v[de].trim().charAt(0)=="<";++de);for(v=v.slice(de),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,w=0,O=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,C=y[1],w=0;w!=C.length&&!((O=C.charCodeAt(w)-64)<1||O>26);++w)b=26*b+O;--b,A=b}else++A;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,T=hr(m.slice(0,w),!0),T.r||(T.r=wr({r:S-1,c:A})),C=m.slice(w),I={t:""},(y=C.match(i))!=null&&y[1]!==""&&(I.v=Gr(y[1])),u.cellFormula){if((y=C.match(s))!=null&&y[1]!==""){if(I.f=Gr(Cn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(I.f=HD(I.f)),y[0].indexOf('t="array"')>-1)I.F=(C.match(a)||[])[1],I.F.indexOf(":")>-1&&Y.push([la(I.F),I.F]);else if(y[0].indexOf('t="shared"')>-1){E=hr(y[0]);var ae=Gr(Cn(y[1]));u.xlfn||(ae=HD(ae)),J[parseInt(E.si,10)]=[E,ae,T.r]}}else(y=C.match(/<f[^>]*\/>/))&&(E=hr(y[0]),J[E.si]&&(I.f=fme(J[E.si][1],J[E.si][2],T.r)));var he=rs(T.r);for(w=0;w<Y.length;++w)he.r>=Y[w][0].s.r&&he.r<=Y[w][0].e.r&&he.c>=Y[w][0].s.c&&he.c<=Y[w][0].e.c&&(I.F=Y[w][1])}if(T.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(P)I.t="z";else continue;else I.t=T.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),I.t){case"n":if(I.v==""||I.v==null){if(!P)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!P)continue;I.t="z"}else j=Ug[parseInt(I.v,10)],I.v=j.t,I.r=j.r,u.cellHTML&&(I.h=j.h);break;case"str":I.t="s",I.v=I.v!=null?Cn(I.v):"",u.cellHTML&&(I.h=XN(I.v));break;case"inlineStr":y=C.match(n),I.t="s",y!=null&&(j=sC(y[1]))?(I.v=j.t,u.cellHTML&&(I.h=j.h)):I.v="";break;case"b":I.v=Bn(I.v);break;case"d":u.cellDates?I.v=Qa(I.v,1):(I.v=ls(Qa(I.v,1)),I.t="n");break;case"e":(!u||u.cellText!==!1)&&(I.w=I.v),I.v=Fz[I.v];break}if(k=D=0,X=null,V&&T.s!==void 0&&(X=p.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(k=X.numFmtId),u.cellStyles&&X.fillId!=null&&(D=X.fillId))),gq(I,k,D,u,h,p),u.cellDates&&V&&I.t=="n"&&Qp(Ar[k])&&(I.t="d",I.v=b5(I.v)),T.cm&&u.xlmeta){var Se=(u.xlmeta.Cell||[])[+T.cm-1];Se&&Se.type=="XLDAPR"&&(I.D=!0)}if(H){var B=rs(T.r);c[B.r]||(c[B.r]=[]),c[B.r][B.c]=I}else c[T.r]=I}}}}z.length>0&&(c["!rows"]=z)}}();function tve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var rve=vh;function nve(){}function ave(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Ede(e),r}function ive(e){var t=Po(e);return[t]}function sve(e){var t=gh(e);return[t]}function ove(e){var t=Po(e),r=e.read_shift(1);return[t,r,"b"]}function lve(e){var t=gh(e),r=e.read_shift(1);return[t,r,"b"]}function cve(e){var t=Po(e),r=e.read_shift(1);return[t,r,"e"]}function uve(e){var t=gh(e),r=e.read_shift(1);return[t,r,"e"]}function fve(e){var t=Po(e),r=e.read_shift(4);return[t,r,"s"]}function dve(e){var t=gh(e),r=e.read_shift(4);return[t,r,"s"]}function hve(e){var t=Po(e),r=Ri(e);return[t,r,"n"]}function yq(e){var t=gh(e),r=Ri(e);return[t,r,"n"]}function pve(e){var t=Po(e),r=nC(e);return[t,r,"n"]}function mve(e){var t=gh(e),r=nC(e);return[t,r,"n"]}function gve(e){var t=Po(e),r=tC(e);return[t,r,"is"]}function vve(e){var t=Po(e),r=Vi(e);return[t,r,"str"]}function yve(e){var t=gh(e),r=Vi(e);return[t,r,"str"]}function xve(e,t,r){var n=e.l+t,a=Po(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Oi(o,null,a,r.supbooks,r)}else e.l=n;return s}function bve(e,t,r){var n=e.l+t,a=Po(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Oi(o,null,a,r.supbooks,r)}else e.l=n;return s}function wve(e,t,r){var n=e.l+t,a=Po(e);a.r=r["!row"];var i=Ri(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Oi(o,null,a,r.supbooks,r)}else e.l=n;return s}function _ve(e,t,r){var n=e.l+t,a=Po(e);a.r=r["!row"];var i=Vi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=S5(e,n-e.l,r);s[3]=Oi(o,null,a,r.supbooks,r)}else e.l=n;return s}var Sve=vh;function Ave(e,t){var r=e.l+t,n=vh(e),a=rC(e),i=Vi(e),s=Vi(e),o=Vi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Tve(){}function Eve(e,t,r){var n=e.l+t,a=Lz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Oge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function kve(e,t,r){var n=e.l+t,a=vh(e),i=[a];if(r.cellFormula){var s=jge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Nve=["left","right","top","bottom","header","footer"];function Cve(e){var t={};return Nve.forEach(function(r){t[r]=Ri(e)}),t}function Pve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Ove(){}function Ive(){}function jve(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,b,w,O,C,I=[];o.biff=12,o["!row"]=0;var T=0,S=!1,A=[],j={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=j,E.arrayf=A,E.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var k=0;k<a.Names.length;++k)E[0][k+1]=a.Names[k];var D=[],V=[],X=!1;Ab[16]={n:"BrtShortReal",f:yq};var Y;if(iu(e,function(z,ee,W){if(!h)switch(W){case 148:c=z;break;case 0:p=z,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),O=mi(v=p.r),o["!row"]=p.r,(z.hidden||z.hpt||z.level!=null)&&(z.hpt&&(z.hpx=Wv(z.hpt)),V[z.r]=z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:z[2]},z[2]){case"n":g.v=z[1];break;case"s":w=Ug[z[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!z[1];break;case"e":g.v=z[1],o.cellText!==!1&&(g.w=yh[g.v]);break;case"str":g.t="s",g.v=z[1];break;case"is":g.t="s",g.v=z[1].t;break}if((m=s.CellXf[z[0].iStyleRef])&&gq(g,m.numFmtId,null,o,i,s),y=z[0].c==-1?y+1:z[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ma(y)+O]=g,o.cellFormula){for(S=!1,T=0;T<A.length;++T){var P=A[T];p.r>=P[0].s.r&&p.r<=P[0].e.r&&y>=P[0].s.c&&y<=P[0].e.c&&(g.F=zr(P[0]),S=!0)}!S&&z.length>3&&(g.f=z[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Qp(Ar[m.numFmtId])){var F=Id(g.v);F&&(g.t="d",g.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=z[0].c==-1?y+1:z[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ma(y)+O]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 176:I.push(z);break;case 49:Y=((o.xlmeta||{}).Cell||[])[z-1];break;case 494:var q=n["!id"][z.relId];for(q?(z.Target=q.Target,z.loc&&(z.Target+="#"+z.loc),z.Rel=q):z.relId==""&&(z.Target="#"+z.loc),v=z.rfx.s.r;v<=z.rfx.e.r;++v)for(y=z.rfx.s.c;y<=z.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=z):(b=wr({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=z);break;case 426:if(!o.cellFormula)break;A.push(z),C=o.dense?l[v][y]:l[Ma(y)+O],C.f=Oi(z[1],u,{r:p.r,c:y},E,o),C.F=zr(z[0]);break;case 427:if(!o.cellFormula)break;j[wr(z[0].s)]=z[1],C=o.dense?l[v][y]:l[Ma(y)+O],C.f=Oi(z[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;z.e>=z.s;)D[z.e--]={width:z.w/256,hidden:!!(z.flags&1),level:z.level},X||(X=!0,oC(z.w/256)),dp(D[z.e+1]);break;case 161:l["!autofilter"]={ref:zr(z)};break;case 476:l["!margins"]=z;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),z.name&&(a.Sheets[r].CodeName=z.name),(z.above||z.left)&&(l["!outline"]={above:z.above,left:z.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),z.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=zr(c||u)),o.sheetRows&&l["!ref"]){var J=la(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=zr(J))}return I.length>0&&(l["!merges"]=I),D.length>0&&(l["!cols"]=D),V.length>0&&(l["!rows"]=V),l}function Dve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Gr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Lve(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Dve(f);u.s.r=u.s.c=0,u.e.c=o,c=Ma(o),h[0].forEach(function(p,g){s[c+mi(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=zr(u)),s}function Mve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(vq);return o&&cC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Rve(e,t){e.l+=10;var r=Vi(e);return{name:r}}function Fve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return iu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var xq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],$ve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Bve=[],Uve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function QD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Bn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function JD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Bn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function bq(e){JD(e.WBProps,xq),JD(e.CalcPr,Uve),QD(e.WBView,$ve),QD(e.Sheets,Bve),R0.date1904=Bn(e.WBProps.date1904)}var Vve="][*?/\\".split("");function zve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var qve=/<\w+:workbook/;function Wve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Wi,function(l,c){var u=hr(l);switch(Jl(u[0])){case"<?xml":break;case"<workbook":l.match(qve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":xq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Bn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Cn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Gr(Cn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Cn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Bn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Gr(Cn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),cde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return bq(r),r}function Hve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=AT(e),r.name=Vi(e),r}function Gve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Vi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Kve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Yve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=kde(e),s=Ige(e,0,r),o=rC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Xve(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Ab[16]={n:"BrtFRTArchID$",f:Kve},iu(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Oi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),bq(r),r.Names=i,r.supbooks=s,r}function Qve(e,t,r){return t.slice(-4)===".bin"?Xve(e,r):Wve(e,r)}function Jve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?jve(e,n,r,a,i,s,o):Hge(e,n,r,a,i,s,o)}function Zve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Fve(e,n,r,a,i):Mve(e,n,r,a,i)}function e1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?lme():cme()}function t1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?sme():ome()}function r1e(e,t,r,n){return t.slice(-4)===".bin"?Spe(e,r,n):vpe(e,r,n)}function n1e(e,t,r){return sq(e,r)}function a1e(e,t,r){return t.slice(-4)===".bin"?$0e(e,r):R0e(e,r)}function i1e(e,t,r){return t.slice(-4)===".bin"?nme(e,r):Jpe(e,r)}function s1e(e,t,r){return t.slice(-4)===".bin"?Ype(e):Gpe(e)}function o1e(e,t,r,n){return r.slice(-4)===".bin"?Xpe(e,t,r,n):void 0}function l1e(e,t,r){return t.slice(-4)===".bin"?Wpe(e,t,r):Hpe(e,t,r)}var wq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_q=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(wq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(_q),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function c1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(wq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(_q),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var zg;function u1e(e,t){var r=zg[e]||Gr(e);return r==="General"?th(t):No(r,t)}function f1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Bn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Qa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gr(t)]=a}function d1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Bv(e.v):e.w=th(e.v):e.w=u1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=zg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Qp(n)){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function h1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=fpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function p1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Bn(e);break;case"String":n.t="s",n.r=bD(Gr(e)),n.v=e.indexOf("<")>-1?Gr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Qa(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Gr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Fz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=bD(t||e));break}if(d1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Gr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=M0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=M0("RC:RC",a):n.ArrayRange&&(n.F=M0(n.ArrayRange,a),l.push([la(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function m1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function US(e,t){var r=t||{};uz();var n=ug(QN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Cn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=pi(r);return s.type="string",zv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Be){a.indexOf("<"+Be)>=0&&(i=!0)}),i)return A1e(n,r);zg={"General Number":"General","General Date":Ar[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ar[15],"Short Date":Ar[14],"Long Time":Ar[19],"Medium Time":Ar[18],"Short Time":Ar[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ar[2],Standard:Ar[4],Percent:Ar[10],Scientific:Ar[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",g={},m={},v=qo('<Data ss:Type="String">'),y=0,b=0,w=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},I={},T="",S=0,A=[],j={},E={},k=0,D=[],V=[],X={},Y=[],J,H=!1,z=[],ee=[],W={},P=0,F=0,q={Sheets:[],WBProps:{date1904:!1}},K={};Vv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=Vv.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?p1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?X:g,{c:b,r:w},C,Y[b],m,z,r):(T="",v=qo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[Ma(b)+mi(w)]=g),g.HRef&&(g.l={Target:Gr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=b+(parseInt(g.MergeAcross,10)|0),F=w+(parseInt(g.MergeDown,10)|0),A.push({s:{c:b,r:w},e:{c:P,r:F}})),!r.sheetStubs)g.MergeAcross?b=P+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ce=b;ce<=P;++ce)for(var de=w;de<=F;++de)(ce>b||de>w)&&(r.dense?(h[de]||(h[de]=[]),h[de][ce]={t:"z"}):h[Ma(ce)+mi(de)]={t:"z"});b=P+1}else++b;else g=c1e(o[0]),g.Index&&(b=+g.Index-1),b<O.s.c&&(O.s.c=b),b>O.e.c&&(O.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<O.s.r&&(O.s.r=w),w>O.e.r&&(O.e.r=w),o[0].slice(-2)==="/>"&&(m=qo(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=qo(o[0]),m.Index&&(w=+m.Index-1),W={},(m.AutoFitHeight=="0"||m.Height)&&(W.hpx=parseInt(m.Height,10),W.hpt=iq(W.hpx),ee[w]=W),m.Hidden=="1"&&(W.hidden=!0,ee[w]=W));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=zr(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=zr(O))),A.length&&(h["!merges"]=A),Y.length>0&&(h["!cols"]=Y),ee.length>0&&(h["!rows"]=ee),u[p]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=qo(o[0]),p=Gr(c.Name),h=r.dense?[]:{},A=[],z=[],ee=[],K={name:p,Hidden:0},q.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Y=[],H=!1}break;case"style":o[1]==="/"?h1e(C,I,r):I=qo(o[0]);break;case"numberformat":I.nf=Gr(qo(o[0]).Format||"General"),zg[I.nf]&&(I.nf=zg[I.nf]);for(var ae=0;ae!=392&&Ar[ae]!=I.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Ar[ae]==null){Ud(I.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=qo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!H&&J.wpx>10){H=!0,Zi=nq;for(var he=0;he<Y.length;++he)Y[he]&&dp(Y[he])}H&&dp(J),Y[J.Index-1||Y.length]=J;for(var Se=0;Se<+J.Span;++Se)Y[Y.length]=pi(J);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var B=hr(o[0]),Ee={Name:B.Name,Ref:M0(B.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Ee.Sheet=q.Sheets.length-1),q.Names.push(Ee);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;I.Interior=qo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Jde(j,Z,n.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));m1e(X),V.push(X)}else l.push([o[3],!1]),c=qo(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ve=qo(o[0]);h["!autofilter"]={ref:M0(ve.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return a8(n,r);var xe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(k,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else k=o.index+o[0].length;break;case"header":h["!margins"]||Vg(h["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(h["!margins"].header=+hr(o[0]).Margin);break;case"footer":h["!margins"]||Vg(h["!margins"]={},"xlml"),isNaN(+hr(o[0]).Margin)||(h["!margins"].footer=+hr(o[0]).Margin);break;case"pagemargins":var te=hr(o[0]);h["!margins"]||Vg(h["!margins"]={},"xlml"),isNaN(+te.Top)||(h["!margins"].top=+te.Top),isNaN(+te.Left)||(h["!margins"].left=+te.Left),isNaN(+te.Right)||(h["!margins"].right=+te.Right),isNaN(+te.Bottom)||(h["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?f1e(E,Z,D,n.slice(k,o.index)):(D=o,k=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ne={};return!r.bookSheets&&!r.bookProps&&(Ne.Sheets=u),Ne.SheetNames=f,Ne.Workbook=q,Ne.SSF=pi(Ar),Ne.Props=j,Ne.Custprops=E,Ne}function NT(e,t){switch(dC(t=t||{}),t.type||"base64"){case"base64":return US(Xs(e),t);case"binary":case"buffer":case"file":return US(e,t);case"array":return US(mh(e),t)}}function g1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Pde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Ode(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var v1e=[60,1084,2066,2165,2175];function y1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Sc(r,r.l),c=CT[l],u=0;c!=null&&v1e.indexOf(l)>-1;)i=Sc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=CT[l=Sc(r,r.l)];var f=Yu(s);ci(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Pl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ar[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||yh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Bv(e.v):e.w=th(e.v):e.w=No(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Qp(Ar[n]||String(n))){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function xx(e,t,r){return{v:e,ixfe:t,t:r}}function x1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,g,m,v,y={},b=[],w,O,C=[],I=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=function(Tt){return Tt<8?Vd[Tt]:Tt<64&&I[Tt-8]||Vd[Tt]},j=function(Tt,it,Yt){var Pt=it.XF.data;if(!(!Pt||!Pt.patternType||!Yt||!Yt.cellStyles)){it.s={},it.s.patternType=Pt.patternType;var Ir;(Ir=qv(A(Pt.icvFore)))&&(it.s.fgColor={rgb:Ir}),(Ir=qv(A(Pt.icvBack)))&&(it.s.bgColor={rgb:Ir})}},E=function(Tt,it,Yt){if(!(W>1)&&!(Yt.sheetRows&&Tt.r>=Yt.sheetRows)){if(Yt.cellStyles&&it.XF&&it.XF.data&&j(Tt,it,Yt),delete it.ixfe,delete it.XF,f=Tt,h=wr(Tt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Tt.r<s.s.r&&(s.s.r=Tt.r),Tt.c<s.s.c&&(s.s.c=Tt.c),Tt.r+1>s.e.r&&(s.e.r=Tt.r+1),Tt.c+1>s.e.c&&(s.e.c=Tt.c+1),Yt.cellFormula&&it.f){for(var Pt=0;Pt<b.length;++Pt)if(!(b[Pt][0].s.c>Tt.c||b[Pt][0].s.r>Tt.r)&&!(b[Pt][0].e.c<Tt.c||b[Pt][0].e.r<Tt.r)){it.F=zr(b[Pt][0]),(b[Pt][0].s.c!=Tt.c||b[Pt][0].s.r!=Tt.r)&&delete it.f,it.f&&(it.f=""+Oi(b[Pt][1],s,Tt,z,k));break}}Yt.dense?(a[Tt.r]||(a[Tt.r]=[]),a[Tt.r][Tt.c]=it):a[h]=it}},k={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var D,V=[],X=[],Y=[],J=[],H=!1,z=[];z.SheetNames=k.snames,z.sharedf=k.sharedf,z.arrayf=k.arrayf,z.names=[],z.XTI=[];var ee=0,W=0,P=0,F=[],q=[],K;k.codepage=1200,sl(1200);for(var Z=!1;e.l<e.length-1;){var ce=e.l,de=e.read_shift(2);if(de===0&&ee===10)break;var ae=e.l===e.length?0:e.read_shift(2),he=CT[de];if(he&&he.f){if(t.bookSheets&&ee===133&&de!==133)break;if(ee=de,he.r===2||he.r==12){var Se=e.read_shift(2);if(ae-=2,!k.enc&&Se!==de&&((Se&255)<<8|Se>>8)!==de)throw new Error("rt mismatch: "+Se+"!="+de);he.r==12&&(e.l+=10,ae-=10)}var B={};if(de===10?B=he.f(e,ae,k):B=y1e(de,he,e,ae,k),W==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(de){case 34:r.opts.Date1904=T.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(e.l=0),k.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=B;break;case 66:var Ee=Number(B);switch(Ee){case 21010:Ee=1200;break;case 32768:Ee=1e4;break;case 32769:Ee=1252;break}sl(k.codepage=Ee),Z=!0;break;case 317:k.rrtabid=B;break;case 25:k.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:k.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:C.push(B);break;case 430:z.push([B]),z[z.length-1].XTI=[];break;case 35:case 547:z[z.length-1].push(B);break;case 24:case 536:K={Name:B.Name,Ref:Oi(B.rgce,s,null,z,k)},B.itab>0&&(K.Sheet=B.itab-1),z.names.push(K),z[0]||(z[0]=[],z[0].XTI=[]),z[z.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(q[B.itab-1]={ref:zr(B.rgce[0][0][1][2])});break;case 22:k.ExternCount=B;break;case 23:z.length==0&&(z[0]=[],z[0].XTI=[]),z[z.length-1].XTI=z[z.length-1].XTI.concat(B),z.XTI=z.XTI.concat(B);break;case 2196:if(k.biff<8)break;K!=null&&(K.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&k.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,k.snames.push(B.name);break;case 10:{if(--W)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=zr(s),t.sheetRows&&t.sheetRows<=s.e.r){var ve=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=zr(s),s.e.r=ve}s.e.r++,s.e.c++}V.length>0&&(a["!merges"]=V),X.length>0&&(a["!objects"]=X),Y.length>0&&(a["!cols"]=Y),J.length>0&&(a["!rows"]=J),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),k.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(k.biff=5,Z=!0,sl(k.codepage=28591)),k.biff==8&&B.BIFFVer==0&&B.dt==16&&(k.biff=2),W++)break;if(a=t.dense?[]:{},k.biff<8&&!Z&&(Z=!0,sl(k.codepage=t.codepage||1252)),k.biff<5||B.BIFFVer==0&&B.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-ae,name:c};i[xe.pos]=xe,k.snames.push(c)}else c=(i[ce]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),V=[],X=[],k.arrayf=b=[],Y=[],J=[],H=!1,S={Hidden:(i[ce]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[wr({c:B.c,r:B.r})])&&++B.c,w={ixfe:B.ixfe,XF:C[B.ixfe]||{},v:B.val,t:"n"},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t);break;case 5:case 517:w={ixfe:B.ixfe,XF:C[B.ixfe],v:B.val,t:B.t},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t);break;case 638:w={ixfe:B.ixfe,XF:C[B.ixfe],v:B.rknum,t:"n"},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t);break;case 189:for(var te=B.c;te<=B.C;++te){var Ne=B.rkrec[te-B.c][0];w={ixfe:Ne,XF:C[Ne],v:B.rkrec[te-B.c][1],t:"n"},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:te,r:B.r},w,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){o=B;break}if(w=xx(B.val,B.cell.ixfe,B.tt),w.XF=C[w.ixfe],t.cellFormula){var Be=B.formula;if(Be&&Be[0]&&Be[0][0]&&Be[0][0][0]=="PtgExp"){var Ue=Be[0][0][1][0],Ze=Be[0][0][1][1],Le=wr({r:Ue,c:Ze});y[Le]?w.f=""+Oi(B.formula,s,B.cell,z,k):w.F=((t.dense?(a[Ue]||[])[Ze]:a[Le])||{}).F}else w.f=""+Oi(B.formula,s,B.cell,z,k)}P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E(B.cell,w,t),o=B}break;case 7:case 519:if(o)o.val=B,w=xx(B,o.cell.ixfe,"s"),w.XF=C[w.ixfe],t.cellFormula&&(w.f=""+Oi(o.formula,s,o.cell,z,k)),P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(B);var Ye=wr(B[0].s);if(p=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Ye],t.cellFormula&&p){if(!o||!Ye||!p)break;p.f=""+Oi(B[1],s,B[0],z,k),p.F=zr(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[wr(o.cell)]=B[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[wr(o.cell)],(p||{}).f=""+Oi(B[0],s,f,z,k)}}break;case 253:w=xx(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(w.h=l[B.isst].h),w.XF=C[w.ixfe],P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:B.ixfe,XF:C[B.ixfe],t:"z"},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t));break;case 190:if(t.sheetStubs)for(var je=B.c;je<=B.C;++je){var Qe=B.ixfe[je-B.c];w={ixfe:Qe,XF:C[Qe],t:"z"},P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:je,r:B.r},w,t)}break;case 214:case 516:case 4:w=xx(B.val,B.ixfe,"s"),w.XF=C[w.ixfe],P>0&&(w.z=F[w.ixfe>>8&63]),Pl(w,t,r.opts.Date1904),E({c:B.c,r:B.r},w,t);break;case 0:case 512:W===1&&(s=B);break;case 252:l=B;break;case 1054:if(k.biff==4){F[P++]=B[1];for(var pt=0;pt<P+163&&Ar[pt]!=B[1];++pt);pt>=163&&Ud(B[1],P+163)}else Ud(B[1],B[0]);break;case 30:{F[P++]=B;for(var ot=0;ot<P+163&&Ar[ot]!=B;++ot);ot>=163&&Ud(B,P+163)}break;case 229:V=V.concat(B);break;case 93:X[B.cmo[0]]=k.lastobj=B;break;case 438:k.lastobj.TxO=B;break;case 127:k.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[wr({c:m,r:v})],p&&(p.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[wr({c:m,r:v})],p&&p.l&&(p.l.Tooltip=B[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;p=t.dense?(a[B[0].r]||[])[B[0].c]:a[wr(B[0])];var St=X[B[2]];p||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),p=a[B[0].r][B[0].c]={t:"z"}):p=a[wr(B[0])]={t:"z"},s.e.r=Math.max(s.e.r,B[0].r),s.s.r=Math.min(s.s.r,B[0].r),s.e.c=Math.max(s.e.c,B[0].c),s.s.c=Math.min(s.s.c,B[0].c)),p.c||(p.c=[]),g={a:B[1],t:St.TxO.t},p.c.push(g)}break;case 2173:Upe(C[B.ixfe],B.ext);break;case 125:{if(!k.cellStyles)break;for(;B.e>=B.s;)Y[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},H||(H=!0,oC(B.w/256)),dp(Y[B.e+1])}break;case 520:{var jt={};B.level!=null&&(J[B.r]=jt,jt.level=B.level),B.hidden&&(J[B.r]=jt,jt.hidden=!0),B.hpt&&(J[B.r]=jt,jt.hpt=B.hpt,jt.hpx=Wv(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Vg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=B;break;case 161:a["!margins"]||Vg(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(T.Views[0].RTL=!0);break;case 146:I=B;break;case 2198:D=B;break;case 140:O=B;break;case 442:c?S.CodeName=B||S.name:T.WBProps.CodeName=B||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=ae}return r.SheetNames=Xl(i).sort(function(bt,Tt){return Number(bt)-Number(Tt)}).map(function(bt){return i[bt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(bt,Tt){r.Sheets[r.SheetNames[Tt]]["!autofilter"]=bt}),r.Strings=l,r.SSF=pi(Ar),k.enc&&(r.Encryption=k.enc),D&&(r.Themes=D),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),z.names.length>0&&(T.Names=z.names),r.Workbook=T,r}var ZD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function b1e(e,t,r){var n=Ur.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=MD(n,Rde,ZD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Ur.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=MD(s,Fde,ZD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Bz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Sq(e,t){t||(t={}),dC(t),JV(),t.codepage&&qN(t.codepage);var r,n;if(e.FullPaths){if(Ur.find(e,"/encryption"))throw new Error("File is password-protected");r=Ur.find(e,"!CompObj"),n=Ur.find(e,"/Workbook")||Ur.find(e,"/Book")}else{switch(t.type){case"base64":e=al(Xs(e));break;case"binary":e=al(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ci(e,0),n={content:e}}var a,i;if(r&&g1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Rr?"buffer":"array";if(n&&n.content)a=x1e(n.content,t);else if((i=Ur.find(e,"PerfectOffice_MAIN"))&&i.content)a=Bg.to_workbook(i.content,(t.type=s,t));else if((i=Ur.find(e,"NativeContent_MAIN"))&&i.content)a=Bg.to_workbook(i.content,(t.type=s,t));else throw(i=Ur.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ur.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=ime(e))}var o={};return e.FullPaths&&b1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Ab={0:{f:tve},1:{f:ive},2:{f:pve},3:{f:cve},4:{f:ove},5:{f:hve},6:{f:vve},7:{f:fve},8:{f:_ve},9:{f:wve},10:{f:xve},11:{f:bve},12:{f:sve},13:{f:mve},14:{f:uve},15:{f:lve},16:{f:yq},17:{f:yve},18:{f:dve},19:{f:tC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Yve},40:{},42:{},43:{f:xpe},44:{f:ype},45:{f:bpe},46:{f:_pe},47:{f:wpe},48:{},49:{f:Sde},50:{},51:{f:zpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Jz},62:{f:gve},63:{f:Kpe},64:{f:Ove},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Pve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ave},148:{f:rve,p:16},151:{f:Tve},152:{},153:{f:Gve},154:{},155:{},156:{f:Hve},157:{},158:{},159:{T:1,f:F0e},160:{T:-1},161:{T:1,f:vh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Sve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Vpe},336:{T:-1},337:{f:qpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:AT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Qz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Eve},427:{f:kve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Cve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ave},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:AT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rme},633:{T:1},634:{T:-1},635:{T:1,f:tme},636:{T:-1},637:{f:Tde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Rve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ive},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},CT={6:{f:$S},10:{f:Ru},12:{f:Sa},13:{f:Sa},14:{f:fa},15:{f:fa},16:{f:Ri},17:{f:fa},18:{f:fa},19:{f:Sa},20:{f:BD},21:{f:BD},23:{f:Qz},24:{f:VD},25:{f:fa},26:{},27:{},28:{f:Zhe},29:{},34:{f:fa},35:{f:UD},38:{f:Ri},39:{f:Ri},40:{f:Ri},41:{f:Ri},42:{f:fa},43:{f:fa},47:{f:npe},49:{f:Dhe},51:{f:Sa},60:{},61:{f:Ohe},64:{f:fa},65:{f:jhe},66:{f:Sa},77:{},80:{},81:{},82:{},85:{f:Sa},89:{},90:{},91:{},92:{f:She},93:{f:t0e},94:{},95:{f:fa},96:{},97:{},99:{f:fa},125:{f:Jz},128:{f:qhe},129:{f:Ahe},130:{f:Sa},131:{f:fa},132:{f:fa},133:{f:The},134:{},140:{f:o0e},141:{f:Sa},144:{},146:{f:c0e},151:{},152:{},153:{},154:{},155:{},156:{f:Sa},157:{},158:{},160:{f:p0e},161:{f:f0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Bhe},190:{f:Uhe},193:{f:Ru},197:{},198:{},199:{},200:{},201:{},202:{f:fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Sa},220:{},221:{f:fa},222:{},224:{f:zhe},225:{f:_he},226:{f:Ru},227:{},229:{f:e0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ehe},253:{f:Lhe},255:{f:khe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Wz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fa},353:{f:Ru},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Hhe},431:{f:fa},432:{},433:{},434:{},437:{},438:{f:a0e},439:{f:fa},440:{f:i0e},441:{},442:{f:Z1},443:{},444:{f:Sa},445:{},446:{},448:{f:Ru},449:{f:Phe,r:2},450:{f:Ru},512:{f:FD},513:{f:h0e},515:{f:Whe},516:{f:Mhe},517:{f:$D},519:{f:m0e},520:{f:Nhe},523:{},545:{f:zD},549:{f:RD},566:{},574:{f:Ihe},638:{f:$he},659:{},1048:{},1054:{f:Rhe},1084:{},1212:{f:Xhe},2048:{f:s0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:gx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ru},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:u0e,r:12},2173:{f:Bpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Yhe,r:12},2197:{},2198:{f:Dpe,r:12},2199:{},2200:{},2201:{},2202:{f:Qhe,r:12},2203:{f:Ru},2204:{},2205:{},2206:{},2207:{},2211:{f:Che},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Sa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:d0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:l0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:FD},1:{},2:{f:x0e},3:{f:y0e},4:{f:v0e},5:{f:$D},7:{f:b0e},8:{},9:{f:gx},11:{},22:{f:Sa},30:{f:Fhe},31:{},32:{},33:{f:zD},36:{},37:{f:RD},50:{f:w0e},62:{},52:{},67:{},68:{f:Sa},69:{},86:{},126:{},127:{f:g0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_0e},223:{},234:{},354:{},421:{},518:{f:$S},521:{f:gx},536:{f:VD},547:{f:UD},561:{},579:{},1030:{f:$S},1033:{f:gx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Wo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Iz(r)&&e.push(r)}}function e8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Wfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,O=0;w.charAt(0)=="<"&&(O=w.indexOf(">"))>-1;)w=w.slice(O+1);for(var C=0;C<g.length;++C){var I=g[C];I.s.c==u&&I.s.r<c&&c<=I.e.r&&(u=I.e.c+1,C=-1)}var T=hr(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!w.length){u+=h;continue}if(w=xz(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var A={t:"s",v:w};r.raw||!w.trim().length||S=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(dl(w))?isNaN(fp(w).getDate())||(A={t:"d",v:Qa(w)},r.cellDates||(A={t:"n",v:ls(A.v)}),A.z=r.dateNF||Ar[14]):A={t:"n",v:dl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[wr({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=zr(p),g.length&&(n["!merges"]=g),n}function w1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=wr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||XN(f.w||(Kc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(ode("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var _1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',S1e="</body></html>";function A1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Hf(e8(r[0],t),t);var n=pC();return r.forEach(function(a,i){mC(n,e8(a,t),"Sheet"+(i+1))}),n}function T1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function E1e(e,t){var r=t||{},n=r.header!=null?r.header:_1e,a=r.footer!=null?r.footer:S1e,i=[n],s=Jp(e["!ref"]);r.dense=Array.isArray(e),i.push(T1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(w1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Aq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?rs(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Jp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var O=o[g];if(t8(O)){if(n.display)continue;p[m]={hidden:!0}}var C=O.children;for(v=y=0;v<C.length;++v){var I=C[v];if(!(n.display&&t8(I))){var T=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):xz(I.innerHTML),S=I.getAttribute("data-z")||I.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<m+a&&m+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}w=+I.getAttribute("colspan")||1,((b=+I.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(b||1)-1,c:y+i+(w||1)-1}});var j={t:"s",v:T},E=I.getAttribute("data-t")||I.getAttribute("t")||"";T!=null&&(T.length==0?j.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?j={t:"b",v:!0}:T==="FALSE"?j={t:"b",v:!1}:isNaN(dl(T))?isNaN(fp(T).getDate())||(j={t:"d",v:Qa(T)},n.cellDates||(j={t:"n",v:ls(j.v)}),j.z=n.dateNF||Ar[14]):j={t:"n",v:dl(T)})),j.z===void 0&&S!=null&&(j.z=S);var k="",D=I.getElementsByTagName("A");if(D&&D.length)for(var V=0;V<D.length&&!(D[V].hasAttribute("href")&&(k=D[V].getAttribute("href"),k.charAt(0)!="#"));++V);k&&k.charAt(0)!="#"&&(j.l={Target:k}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=j):e[wr({c:y+i,r:m+a})]=j,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=zr(c),m>=l&&(e["!fullref"]=zr((c.e.r=o.length-g+m-1+a,c))),e}function Tq(e,t){var r=t||{},n=r.dense?[]:{};return Aq(n,e,t)}function k1e(e,t){return Hf(Tq(e,t),t)}function t8(e){var t="",r=N1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function N1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function C1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gr(t.replace(/<[^>]*>/g,""));return[r]}var r8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Eq(e,t){var r=t||{},n=QN(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},b="",w=0,O=[],C=-1,I=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,A={},j=[],E={},k=0,D=0,V=[],X=1,Y=1,J=[],H={Names:[]},z={},ee=["",""],W=[],P={},F="",q=0,K=!1,Z=!1,ce=0;for(Vv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Vv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=zr(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=zr(T)),j.length&&(g["!merges"]=j),V.length&&(g["!rows"]=V),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,Z=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=hr(m[0],!1),C=I=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},j=[],V=[],Z=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"行":if(m[1]==="/"){C+=X,X=1;break}if(f=hr(m[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),X=+f["number-rows-repeated"]||1,X<10)for(ce=0;ce<X;++ce)S>0&&(V[C+ce]={level:S});I=-1;break;case"covered-table-cell":m[1]!=="/"&&++I,r.sheetStubs&&(r.dense?(g[C]||(g[C]=[]),g[C][I]={t:"z"}):g[wr({r:C,c:I})]={t:"z"}),b="",O=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++I,y=hr(m[0],!1),Y=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=XD(Gr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Gr(y["string-value"]||""),r.dense?(g[C]||(g[C]=[]),g[C][I]=v):g[wr({r:C,c:I})]=v),I+=Y-1;else if(m[1]!=="/"){++I,b="",w=0,O=[],Y=1;var de=X?C+X-1:C;if(I>T.e.c&&(T.e.c=I),I<T.s.c&&(T.s.c=I),C<T.s.r&&(T.s.r=C),de>T.e.r&&(T.e.r=de),y=hr(m[0],!1),W=[],P={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Gr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(k=parseInt(y["number-matrix-rows-spanned"],10)||0,D=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:C,c:I},e:{r:C+k-1,c:I+D-1}},v.F=zr(E),J.push([E,v.F])),y.formula)v.f=XD(y.formula);else for(ce=0;ce<J.length;++ce)C>=J[ce][0].s.r&&C<=J[ce][0].e.r&&I>=J[ce][0].s.c&&I<=J[ce][0].e.c&&(v.F=J[ce][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(k=parseInt(y["number-rows-spanned"],10)||0,D=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:C,c:I},e:{r:C+k-1,c:I+D-1}},j.push(E)),y["number-columns-repeated"]&&(Y=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Bn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Qa(y["date-value"]),r.cellDates||(v.t="n",v.v=ls(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Vfe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=b5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Gr(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=b||"",O.length&&(v.R=O),K=w==0),z.Target&&(v.l=z),W.length>0&&(v.c=W,W=[]),b&&r.cellText!==!1&&(v.w=b),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var ae=0;ae<X;++ae){if(Y=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[C+ae]||(g[C+ae]=[]),g[C+ae][I]=ae==0?v:pi(v);--Y>0;)g[C+ae][I+Y]=pi(v);else for(g[wr({r:C+ae,c:I})]=v;--Y>0;)g[wr({r:C+ae,c:I+Y})]=pi(v);T.e.c<=I&&(T.e.c=I)}Y=parseInt(y["number-columns-repeated"]||"1",10),I+=Y-1,Y=0,v={},b="",O=[]}z={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;P.t=b,O.length&&(P.R=O),P.a=F,W.push(P)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);F="",q=0,b="",w=0,O=[];break;case"creator":m[1]==="/"?F=n.slice(q,m.index):q=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=hr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=hr(m[0],!1),l+=r8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=hr(m[0],!1),l+=r8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=hr(m[0],!1),ee=BS(s["cell-range-address"]);var he={Name:s.name,Ref:ee[0]+"!"+ee[1]};Z&&(he.Sheet=p.length),H.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var Se=C1e(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+Se[0]}else hr(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=BS(hr(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(z=hr(m[0],!1),!z.href)break;z.Target=Gr(z.href),delete z.href,z.Target.charAt(0)=="#"&&z.Target.indexOf(".")>-1?(ee=BS(z.Target.slice(1)),z.Target="#"+ee[0]+"!"+ee[1]):z.Target.match(/^\.\.[\\\/]/)&&(z.Target=z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var B={Sheets:h,SheetNames:p,Workbook:H};return r.bookSheets&&delete B.Sheets,B}function n8(e,t){t=t||{},go(e,"META-INF/manifest.xml")&&Wde(_a(e,"META-INF/manifest.xml"),t);var r=Vs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Eq(Cn(r),t);return go(e,"meta.xml")&&(n.Props=$z(_a(e,"meta.xml"))),n}function a8(e,t){return Eq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function uC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function PT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Cn(mh(e))}function OT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function i8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function P1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Hv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $a(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function $i(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Hv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Hv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function fC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function O1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Hv(e,n),i=$i(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:$a(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=$i(o.data),c=$a(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=$a(i[3][0].data)>>>0>0),r.push(s)}return r}function I1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Hv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[OT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=OT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function j1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(I1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return OT(t)}function D1e(e,t,r,n){var a=uC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+i8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=i8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function L1e(e,t,r){var n=uC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=P1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function M1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return D1e(e,t,r,e[0]);case 5:return L1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function bf(e){var t=$i(e);return Hv(t[1][0].data)}function s8(e,t){var r=$i(t.data),n=$a(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=$i(s.data),l=$a(o[1][0].data)>>>0;switch(n){case 1:i[l]=PT(o[3][0].data);break;case 8:{var c=e[bf(o[9][0].data)][0],u=$i(c.data),f=e[bf(u[1][0].data)][0],h=$a(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=$i(f.data);i[l]=p[3].map(function(g){return PT(g.data)}).join("")}break}}),i}function R1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g,m,v=$i(e),y=$a(v[1][0].data)>>>0,b=$a(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&$a(v[8][0].data)>0||!1,O,C;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,C=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)O=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,C=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var I=w?4:1,T=uC(O),S=[],A=0;A<O.length/2;++A){var j=T.getUint16(A*2,!0);j<65535&&S.push([A,j])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var E=[];for(A=0;A<S.length-1;++A)E[S[A][0]]=C.subarray(S[A][1]*I,S[A+1][1]*I);return S.length>=1&&(E[S[S.length-1][0]]=C.subarray(S[S.length-1][1]*I)),{R:y,cells:E}}function F1e(e,t){var r,n=$i(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?$a(n[7][0].data)>>>0>0?1:0:-1,i=fC(n[5],function(s){return R1e(s,a)});return{nrows:$a(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function $1e(e,t,r){var n,a=$i(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=($a(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=($a(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=zr(i);var s=$i(a[4][0].data),o=s8(e,e[bf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?s8(e,e[bf(s[17][0].data)][0]):[],c=$i(s[3][0].data),u=0;c[1].forEach(function(f){var h=$i(f.data),p=e[bf(h[2][0].data)][0],g=$a(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=F1e(e,p);m.data.forEach(function(v,y){v.forEach(function(b,w){var O=wr({r:u+y,c:w}),C=M1e(b,o,l);C&&(r[O]=C)})}),u+=m.nrows})}function B1e(e,t){var r=$i(t.data),n={"!ref":"A1"},a=e[bf(r[2][0].data)],i=$a(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return $1e(e,a[0],n),n}function U1e(e,t){var r,n=$i(t.data),a={name:(r=n[1])!=null&&r[0]?PT(n[1][0].data):"",sheets:[]},i=fC(n[2],bf);return i.forEach(function(s){e[s].forEach(function(o){var l=$a(o.meta[1][0].data);l==6e3&&a.sheets.push(B1e(e,o))})}),a}function V1e(e,t){var r=pC(),n=$i(t.data),a=fC(n[1],bf);if(a.forEach(function(i){e[i].forEach(function(s){var o=$a(s.meta[1][0].data);if(o==2){var l=U1e(e,s);l.sheets.forEach(function(c,u){mC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function VS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=j1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=O1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&$a(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=$a(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return V1e(i,o)}function z1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function dC(e){z1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function q1e(e){return _0.WS.indexOf(e)>-1?"sheet":e==_0.CS?"chart":e==_0.DS?"dialog":e==_0.MS?"macro":e&&e.length?e:"sheet"}function W1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,q1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function H1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Fg(Vs(e,r,!0),t);var h=_a(e,t),p;switch(o){case"sheet":p=Jve(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=Zve(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var g=dg(p["!drawel"].Target,t),m=TT(g),v=Qpe(Vs(e,g,!0),Fg(Vs(e,m,!0),g)),y=dg(v,g),b=TT(y);p=Lve(Vs(e,y,!0),y,l,Fg(Vs(e,b,!0),y),c,p);break;case"macro":p=e1e(h,t,a,l,i[n],c,u,f);break;case"dialog":p=t1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var w=[];i&&i[n]&&Xl(i[n]).forEach(function(O){var C="";if(i[n][O].Type==_0.CMNT){C=dg(i[n][O].Target,t);var I=i1e(_a(e,C,!0),C,l);if(!I||!I.length)return;WD(p,I,!1)}i[n][O].Type==_0.TCMNT&&(C=dg(i[n][O].Target,t),w=w.concat(Zpe(_a(e,C,!0),l)))}),w&&w.length&&WD(p,w,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function co(e){return e.charAt(0)=="/"?e.slice(1):e}function G1e(e,t){if(uz(),t=t||{},dC(t),go(e,"META-INF/manifest.xml")||go(e,"objectdata.xml"))return n8(e,t);if(go(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof VS<"u"){if(e.FileIndex)return VS(e);var r=Ur.utils.cfb_new();return yD(e).forEach(function(V){Kfe(r,V,Gfe(e,V))}),VS(r)}throw new Error("Unsupported NUMBERS file")}if(!go(e,"[Content_Types].xml"))throw go(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):go(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=yD(e),a=zde(Vs(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",_a(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!_a(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Ug=[],a.sst)try{Ug=a1e(_a(e,co(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=n1e(Vs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=r1e(_a(e,co(a.style)),a.style,l,t))}a.links.map(function(V){try{var X=Fg(Vs(e,TT(co(V))),V);return o1e(_a(e,co(V)),X,V,t)}catch{}});var u=Qve(_a(e,co(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=_a(e,co(a.coreprops[0]),!0),h&&(f=$z(h)),a.extprops.length!==0&&(h=_a(e,co(a.extprops[0]),!0),h&&Kde(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Vs(e,co(a.custprops[0]),!0),h&&(p=Xde(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=s1e(_a(e,co(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var O=u.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var C=0;C!=O.length;++C)f.SheetNames[C]=O[C].name}var I=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");go(e,S)||(S="xl/_rels/workbook."+I+".rels");var A=Fg(Vs(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=l1e(_a(e,co(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=eme(_a(e,co(a.people[0])),t)),A&&(A=W1e(A,u.Sheets));var j=_a(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(A&&A[v]?(b="xl/"+A[v][1].replace(/[\/]?xl\//,""),go(e,b)||(b=A[v][1]),go(e,b)||(b=S.replace(/_rels\/.*$/,"")+A[v][1]),E=A[v][2]):(b="xl/worksheets/sheet"+(v+1-j)+"."+I,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==v&&(k=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[v].toLowerCase()&&(k=1);if(!k)continue e}}H1e(e,b,w,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Ug,Styles:c,Themes:l,SSF:pi(Ar)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(V,X){V=V.replace(/^Root Entry[\/]/,""),g.keys.push(V),g.files[V]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=_a(e,co(a.vba[0]),!0):a.defaults&&a.defaults.bin===ame&&(g.vbaraw=_a(e,"xl/vbaProject.bin",!0))),g}function K1e(e,t){var r=t||{},n="Workbook",a=Ur.find(e,n);try{if(n="/!DataSpaces/Version",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(B0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=V0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=z0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);W0e(a.content)}catch{}if(n="/EncryptionInfo",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=H0e(a.content);if(n="/EncryptedPackage",a=Ur.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function hC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Xs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Y1e(e,t){return Ur.find(e,"EncryptedPackage")?K1e(e,t):Sq(e,t)}function X1e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Rr&&Buffer.isBuffer(e)?"buffer":"base64"),r=gz(n,a),G1e(r,a)}function kq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return NT(e.slice(r),t);default:break e}return zv.to_workbook(e,t)}function Q1e(e,t){var r="",n=hC(e,t);switch(t.type){case"base64":r=Xs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=rh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Cn(r)),t.type="binary",kq(r,t)}function J1e(e,t){var r=e;return t.type=="base64"&&(r=Xs(r)),r=Ku.utils.decode(1200,r.slice(2),"str"),t.type="binary",kq(r,t)}function Z1e(e){return e.match(/[^\x00-\x7F]/)?hg(e):e}function zS(e,t,r,n){return n?(r.type="string",zv.to_workbook(e,r)):zv.to_workbook(t,r)}function IT(e,t){JV();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return IT(new Uint8Array(e),(r=pi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),R0={},r.dateNF&&(R0.dateNF=r.dateNF),r.type||(r.type=Rr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Rr?"buffer":"binary",n=Bfe(e),typeof Uint8Array<"u"&&!Rr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Z1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=pi(r),r.type="array",IT(WN(n),r)}switch((a=hC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Y1e(Ur.read(n,r),r);break;case 9:if(a[1]<=8)return Sq(n,r);break;case 60:return NT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return k0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return T0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?X1e(n,r):zS(e,n,r,i);case 239:return a[3]===60?NT(n,r):zS(e,n,r,i);case 255:if(a[1]===254)return J1e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Bg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Bg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return qD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return ape.to_workbook(n,r);break;case 10:case 13:case 32:return Q1e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return S0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?qD.to_workbook(n,r):zS(e,n,r,i)}function eye(e,t,r,n,a,i,s,o){var l=mi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Kc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function jT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=la(u);break;case"number":l=la(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=mi(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],C=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(O[b]||{}).hidden)switch(h[b]=Ma(b),r=v?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Kc(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(C[y]||{}).hidden){var I=eye(e,l,y,h,n,i,v,c);(I.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=I.row)}return p.length=g,p}var o8=/"/g;function tye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=mi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Kc(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(o8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(o8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Nq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=la(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Ma(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=tye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function rye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Nq(e,t);return r}function nye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=la(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ma(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=mi(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Cq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?rs(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=la(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){Xl(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],w="z",O="",C=wr({c:o+p,r:s+v+a});c=Gv(i,C),b&&typeof b=="object"&&!(b instanceof Date)?i[C]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=ls(b)),O=n.dateNF||Ar[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,O&&(c.z=O)):i[C]=c={t:w,v:b},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=mi(s);if(a)for(p=0;p<h.length;++p)i[Ma(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=zr(u),i}function aye(e,t){return Cq(null,e,t)}function Gv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=rs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Gv(e,wr(t)):Gv(e,wr({r:t,c:r||0}))}function iye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function pC(){return{SheetNames:[],Sheets:{}}}function mC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(zve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function sye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=iye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function oye(e,t){return e.z=t,e}function Pq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function lye(e,t,r){return Pq(e,"#"+t,r)}function cye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function uye(e,t,r,n){for(var a=typeof t!="string"?t:la(t),i=typeof t=="string"?t:zr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Gv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var fye={encode_col:Ma,encode_row:mi,encode_cell:wr,encode_range:zr,decode_col:eC,decode_row:ZN,split_cell:_de,decode_cell:rs,decode_range:Jp,format_cell:Kc,sheet_add_aoa:Dz,sheet_add_json:Cq,sheet_add_dom:Aq,aoa_to_sheet:Zp,json_to_sheet:aye,table_to_sheet:Tq,table_to_book:k1e,sheet_to_csv:Nq,sheet_to_txt:rye,sheet_to_json:jT,sheet_to_html:E1e,sheet_to_formulae:nye,sheet_to_row_object_array:jT,sheet_get_cell:Gv,book_new:pC,book_append_sheet:mC,book_set_sheet_visibility:sye,cell_set_number_format:oye,cell_set_hyperlink:Pq,cell_set_internal_link:lye,cell_add_comment:cye,sheet_set_array_formula:uye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Oq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Zm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var j=C(A);j.chunkSize=parseInt(j.chunkSize),A.step||A.chunk||(j.chunkSize=null),this._handle=new m(j),(this._handle.streamer=this)._config=j}).call(this,S),this.parseChunk=function(A,j){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let D=this._config.newline;D||(k=this._config.quoteChar||'"',D=this._handle.guessLineEndings(A,k)),A=[...A.split(D).slice(E)].join(D)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(A))!==void 0&&(A=k),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+A,k=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=k.meta.cursor,E=(this._finished||(this._partialLine=E.substring(A-this._baseIndex),this._baseIndex=A),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:k,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!j){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!E||!T(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(A){T(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:A,finished:!1})}}function f(S){var A;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=I(this._chunkLoaded,this),A.onerror=I(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var j,E=this._config.downloadRequestHeaders;for(j in E)A.setRequestHeader(j,E[j])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+k));try{A.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(j){j=A.statusText||j,this._sendError(new Error(j))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var A,j,E=typeof FileReader<"u";this.stream=function(k){this._input=k,j=k.slice||k.webkitSlice||k.mozSlice,E?((A=new FileReader).onload=I(this._chunkLoaded,this),A.onerror=I(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),k=j.call(k,this._start,D)),A.readAsText(k,this._config.encoding));E||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(S){var A;u.call(this,S=S||{}),this.stream=function(j){return A=j,this._nextChunk()},this._nextChunk=function(){var j,E;if(!this._finished)return j=this._config.chunkSize,A=j?(E=A.substring(0,j),A.substring(j)):(E=A,""),this._finished=!A,this.parseChunk(E)}}function g(S){u.call(this,S=S||{});var A=[],j=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):j=!0},this._streamData=I(function(k){try{A.push(typeof k=="string"?k:k.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(D){this._streamError(D)}},this),this._streamError=I(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=I(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var A,j,E,k,D=Math.pow(2,53),V=-D,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,H=0,z=0,ee=!1,W=!1,P=[],F={data:[],errors:[],meta:{}};function q(de){return S.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function K(){if(F&&E&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),S.skipEmptyLines&&(F.data=F.data.filter(function(Se){return!q(Se)})),Z()){let Se=function(B,Ee){T(S.transformHeader)&&(B=S.transformHeader(B,Ee)),P.push(B)};if(F)if(Array.isArray(F.data[0])){for(var de=0;Z()&&de<F.data.length;de++)F.data[de].forEach(Se);F.data.splice(0,1)}else F.data.forEach(Se)}function ae(Se,B){for(var Ee=S.header?{}:[],ve=0;ve<Se.length;ve++){var xe=ve,te=Se[ve],te=((Ne,Be)=>(Ue=>(S.dynamicTypingFunction&&S.dynamicTyping[Ue]===void 0&&(S.dynamicTyping[Ue]=S.dynamicTypingFunction(Ue)),(S.dynamicTyping[Ue]||S.dynamicTyping)===!0))(Ne)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((Ue=>{if(X.test(Ue)&&(Ue=parseFloat(Ue),V<Ue&&Ue<D))return 1})(Be)?parseFloat(Be):Y.test(Be)?new Date(Be):Be===""?null:Be):Be)(xe=S.header?ve>=P.length?"__parsed_extra":P[ve]:xe,te=S.transform?S.transform(te,xe):te);xe==="__parsed_extra"?(Ee[xe]=Ee[xe]||[],Ee[xe].push(te)):Ee[xe]=te}return S.header&&(ve>P.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+ve,z+B):ve<P.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+ve,z+B)),Ee}var he;F&&(S.header||S.dynamicTyping||S.transform)&&(he=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(ae),he=F.data.length):F.data=ae(F.data,0),S.header&&F.meta&&(F.meta.fields=P),z+=he)}function Z(){return S.header&&P.length===0}function ce(de,ae,he,Se){de={type:de,code:ae,message:he},Se!==void 0&&(de.row=Se),F.errors.push(de)}T(S.step)&&(k=S.step,S.step=function(de){F=de,Z()?K():(K(),F.data.length!==0&&(H+=de.data.length,S.preview&&H>S.preview?j.abort():(F.data=F.data[0],k(F,J))))}),this.parse=function(de,ae,he){var Se=S.quoteChar||'"',Se=(S.newline||(S.newline=this.guessLineEndings(de,Se)),E=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(de),F.meta.delimiter=S.delimiter):((Se=((B,Ee,ve,xe,te)=>{var Ne,Be,Ue,Ze;te=te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Le=0;Le<te.length;Le++){for(var Ye,je=te[Le],Qe=0,pt=0,ot=0,St=(Ue=void 0,new y({comments:xe,delimiter:je,newline:Ee,preview:10}).parse(B)),jt=0;jt<St.data.length;jt++)ve&&q(St.data[jt])?ot++:(Ye=St.data[jt].length,pt+=Ye,Ue===void 0?Ue=Ye:0<Ye&&(Qe+=Math.abs(Ye-Ue),Ue=Ye));0<St.data.length&&(pt/=St.data.length-ot),(Be===void 0||Qe<=Be)&&(Ze===void 0||Ze<pt)&&1.99<pt&&(Be=Qe,Ne=je,Ze=pt)}return{successful:!!(S.delimiter=Ne),bestDelimiter:Ne}})(de,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=Se.bestDelimiter:(E=!0,S.delimiter=c.DefaultDelimiter),F.meta.delimiter=S.delimiter),C(S));return S.preview&&S.header&&Se.preview++,A=de,j=new y(Se),F=j.parse(A,ae,he),K(),ee?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,j.abort(),A=T(S.chunk)?"":A.substring(j.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(A,!0)):setTimeout(J.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,j.abort(),F.meta.aborted=!0,T(S.complete)&&S.complete(F),A=""},this.guessLineEndings=function(B,Se){B=B.substring(0,1048576);var Se=new RegExp(v(Se)+"([^]*?)"+v(Se),"gm"),he=(B=B.replace(Se,"")).split("\r"),Se=B.split(`
`),B=1<Se.length&&Se[0].length<he[0].length;if(he.length===1||B)return`
`;for(var Ee=0,ve=0;ve<he.length;ve++)he[ve][0]===`
`&&Ee++;return Ee>=he.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var A=(S=S||{}).delimiter,j=S.newline,E=S.comments,k=S.step,D=S.preview,V=S.fastMode,X=null,Y=!1,J=S.quoteChar==null?'"':S.quoteChar,H=J;if(S.escapeChar!==void 0&&(H=S.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),E===A)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var z=0,ee=!1;this.parse=function(W,P,F){if(typeof W!="string")throw new Error("Input must be a string");var q=W.length,K=A.length,Z=j.length,ce=E.length,de=T(k),ae=[],he=[],Se=[],B=z=0;if(!W)return Qe();if(V||V!==!1&&W.indexOf(J)===-1){for(var Ee=W.split(j),ve=0;ve<Ee.length;ve++){if(Se=Ee[ve],z+=Se.length,ve!==Ee.length-1)z+=j.length;else if(F)return Qe();if(!E||Se.substring(0,ce)!==E){if(de){if(ae=[],Ze(Se.split(A)),pt(),ee)return Qe()}else Ze(Se.split(A));if(D&&D<=ve)return ae=ae.slice(0,D),Qe(!0)}}return Qe()}for(var xe=W.indexOf(A,z),te=W.indexOf(j,z),Ne=new RegExp(v(H)+v(J),"g"),Be=W.indexOf(J,z);;)if(W[z]===J)for(Be=z,z++;;){if((Be=W.indexOf(J,Be+1))===-1)return F||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:z}),Ye();if(Be===q-1)return Ye(W.substring(z,Be).replace(Ne,J));if(J===H&&W[Be+1]===H)Be++;else if(J===H||Be===0||W[Be-1]!==H){xe!==-1&&xe<Be+1&&(xe=W.indexOf(A,Be+1));var Ue=Le((te=te!==-1&&te<Be+1?W.indexOf(j,Be+1):te)===-1?xe:Math.min(xe,te));if(W.substr(Be+1+Ue,K)===A){Se.push(W.substring(z,Be).replace(Ne,J)),W[z=Be+1+Ue+K]!==J&&(Be=W.indexOf(J,z)),xe=W.indexOf(A,z),te=W.indexOf(j,z);break}if(Ue=Le(te),W.substring(Be+1+Ue,Be+1+Ue+Z)===j){if(Se.push(W.substring(z,Be).replace(Ne,J)),je(Be+1+Ue+Z),xe=W.indexOf(A,z),Be=W.indexOf(J,z),de&&(pt(),ee))return Qe();if(D&&ae.length>=D)return Qe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:z}),Be++}}else if(E&&Se.length===0&&W.substring(z,z+ce)===E){if(te===-1)return Qe();z=te+Z,te=W.indexOf(j,z),xe=W.indexOf(A,z)}else if(xe!==-1&&(xe<te||te===-1))Se.push(W.substring(z,xe)),z=xe+K,xe=W.indexOf(A,z);else{if(te===-1)break;if(Se.push(W.substring(z,te)),je(te+Z),de&&(pt(),ee))return Qe();if(D&&ae.length>=D)return Qe(!0)}return Ye();function Ze(ot){ae.push(ot),B=z}function Le(ot){var St=0;return St=ot!==-1&&(ot=W.substring(Be+1,ot))&&ot.trim()===""?ot.length:St}function Ye(ot){return F||(ot===void 0&&(ot=W.substring(z)),Se.push(ot),z=q,Ze(Se),de&&pt()),Qe()}function je(ot){z=ot,Ze(Se),Se=[],te=W.indexOf(j,z)}function Qe(ot){if(S.header&&!P&&ae.length&&!Y){var St=ae[0],jt=Object.create(null),bt=new Set(St);let Tt=!1;for(let it=0;it<St.length;it++){let Yt=St[it];if(jt[Yt=T(S.transformHeader)?S.transformHeader(Yt,it):Yt]){let Pt,Ir=jt[Yt];for(;Pt=Yt+"_"+Ir,Ir++,bt.has(Pt););bt.add(Pt),St[it]=Pt,jt[Yt]++,Tt=!0,(X=X===null?{}:X)[Pt]=Yt}else jt[Yt]=1,St[it]=Yt;bt.add(Yt)}Tt&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:ae,errors:he,meta:{delimiter:A,linebreak:j,aborted:ee,truncated:!!ot,cursor:B+(P||0),renamedHeaders:X}}}function pt(){k(Qe()),ae=[],he=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return z}}function b(S){var A=S.data,j=o[A.workerId],E=!1;if(A.error)j.userError(A.error,A.file);else if(A.results&&A.results.data){var k={abort:function(){E=!0,w(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(T(j.userStep)){for(var D=0;D<A.results.data.length&&(j.userStep({data:A.results.data[D],errors:A.results.errors,meta:A.results.meta},k),!E);D++);delete A.results}else T(j.userChunk)&&(j.userChunk(A.results,k,A.file),delete A.results)}A.finished&&!E&&w(A.workerId,A.results)}function w(S,A){var j=o[S];T(j.userComplete)&&j.userComplete(A),j.terminate(),delete o[S]}function O(){throw new Error("Not implemented.")}function C(S){if(typeof S!="object"||S===null)return S;var A,j=Array.isArray(S)?[]:{};for(A in S)j[A]=C(S[A]);return j}function I(S,A){return function(){S.apply(A,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,A){var j=(A=A||{}).dynamicTyping||!1;if(T(j)&&(A.dynamicTypingFunction=j,j={}),A.dynamicTyping=j,A.transform=!!T(A.transform)&&A.transform,!A.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(S),j=new(A.download?f:p)(A)):S.readable===!0&&T(S.read)&&T(S.on)?j=new g(A):(n.File&&S instanceof File||S instanceof Object)&&(j=new h(A)),j.stream(S);(j=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var k=n.URL||n.webkitURL||null,D=r.toString();return c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=A.step,j.userChunk=A.chunk,j.userComplete=A.complete,j.userError=A.error,A.step=T(A.step),A.chunk=T(A.chunk),A.complete=T(A.complete),A.error=T(A.error),delete A.worker,j.postMessage({input:S,config:A,workerId:j.id})},c.unparse=function(S,A){var j=!1,E=!0,k=",",D=`\r
`,V='"',X=V+V,Y=!1,J=null,H=!1,z=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||c.BAD_DELIMITERS.filter(function(P){return A.delimiter.indexOf(P)!==-1}).length||(k=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(j=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Y=A.skipEmptyLines),typeof A.newline=="string"&&(D=A.newline),typeof A.quoteChar=="string"&&(V=A.quoteChar),typeof A.header=="boolean"&&(E=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");J=A.columns}A.escapeChar!==void 0&&(X=A.escapeChar+V),A.escapeFormulae instanceof RegExp?H=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(V),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ee(null,S,Y);if(typeof S[0]=="object")return ee(J||Object.keys(S[0]),S,Y)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||J),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),ee(S.fields||[],S.data||[],Y);throw new Error("Unable to serialize unrecognized input");function ee(P,F,q){var K="",Z=(typeof P=="string"&&(P=JSON.parse(P)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(P)&&0<P.length),ce=!Array.isArray(F[0]);if(Z&&E){for(var de=0;de<P.length;de++)0<de&&(K+=k),K+=W(P[de],de);0<F.length&&(K+=D)}for(var ae=0;ae<F.length;ae++){var he=(Z?P:F[ae]).length,Se=!1,B=Z?Object.keys(F[ae]).length===0:F[ae].length===0;if(q&&!Z&&(Se=q==="greedy"?F[ae].join("").trim()==="":F[ae].length===1&&F[ae][0].length===0),q==="greedy"&&Z){for(var Ee=[],ve=0;ve<he;ve++){var xe=ce?P[ve]:ve;Ee.push(F[ae][xe])}Se=Ee.join("").trim()===""}if(!Se){for(var te=0;te<he;te++){0<te&&!B&&(K+=k);var Ne=Z&&ce?P[te]:te;K+=W(F[ae][Ne],te)}ae<F.length-1&&(!q||0<he&&!B)&&(K+=D)}}return K}function W(P,F){var q,K;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(K=!1,H&&typeof P=="string"&&H.test(P)&&(P="'"+P,K=!0),q=P.toString().replace(z,X),(K=K||j===!0||typeof j=="function"&&j(P,F)||Array.isArray(j)&&j[F]||((Z,ce)=>{for(var de=0;de<ce.length;de++)if(-1<Z.indexOf(ce[de]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(k)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?V+q+V:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var A=S.config||{},j=[];return this.each(function(D){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)j.push({file:this.files[V],inputElem:this,instanceConfig:a.extend({},A)})}),E(),this;function E(){if(j.length===0)T(S.complete)&&S.complete();else{var D,V,X,Y,J=j[0];if(T(S.before)){var H=S.before(J.file,J.inputElem);if(typeof H=="object"){if(H.action==="abort")return D="AbortError",V=J.file,X=J.inputElem,Y=H.reason,void(T(S.error)&&S.error({name:D},V,X,Y));if(H.action==="skip")return void k();typeof H.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,H.config))}else if(H==="skip")return void k()}var z=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){T(z)&&z(ee,J.file,J.inputElem),k()},c.parse(J.file,J.instanceConfig)}}function k(){j.splice(0,1),E()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Oq);var dye=Oq.exports;const hye=yn(dye),Iq=()=>{const{user:e}=Na(),{isDarkMode:t}=en(),[r,n]=U.useState(!1),[a,i]=U.useState([]),[s,o]=U.useState(!1),[l,c]=U.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=U.useState(null),[h,p]=U.useState(null),[g,m]=U.useState(!1),[v,y]=U.useState(!1),[b,w]=U.useState(null),[O,C]=U.useState(null),[I,T]=U.useState(!1),[S,A]=U.useState(""),[j,E]=U.useState(null),[k,D]=U.useState(null),V=Ie.useRef(null),[X,Y]=U.useState(null),[J,H]=U.useState(!1),[z,ee]=U.useState([]);U.useEffect(()=>{W(),P()},[]);const W=async B=>{o(!0);try{let Ee;if(B&&B.trim()!==""){const ve=er(kt(et,"scannedProducts"),Jt("name",">=",B),Jt("name","<=",B+""),La("name"),og(100)),xe=er(kt(et,"scannedProducts"),Jt("barcode",">=",B),Jt("barcode","<=",B+""),La("barcode"),og(100)),te=er(kt(et,"scannedProducts"),Jt("asin",">=",B),Jt("asin","<=",B+""),La("asin"),og(100)),[Ne,Be,Ue]=await Promise.all([nr(ve),nr(xe),nr(te)]),Ze=[...Ne.docs,...Be.docs,...Ue.docs].reduce((Le,Ye)=>(Le.some(je=>je.id===Ye.id)||Le.push(Ye),Le),[]);i(Ze.map(Le=>{const Ye=Le.data();return{id:Le.id,name:Ye.name,unit:Ye.unit,asin:Ye.asin||"",barcode:Ye.barcode,createdAt:Ye.createdAt instanceof tr?Ye.createdAt.toDate():new Date(Ye.createdAt)}}))}else{Ee=er(kt(et,"scannedProducts"),La("createdAt","desc"),og(100));const xe=(await nr(Ee)).docs.map(te=>{const Ne=te.data();return{id:te.id,name:Ne.name,unit:Ne.unit,asin:Ne.asin||"",barcode:Ne.barcode,createdAt:Ne.createdAt instanceof tr?Ne.createdAt.toDate():new Date(Ne.createdAt)}});i(xe)}}catch{f("Failed to fetch products")}finally{o(!1)}},P=async()=>{try{const B=kt(et,"scannedProducts"),Ee=await sN(B);Y(Ee.data().count)}catch{Y(null)}},F=()=>{const B={};a.forEach(ve=>{B[ve.name]||(B[ve.name]=[]),B[ve.name].push(ve)});const Ee=Object.entries(B).filter(([,ve])=>ve.length>1).map(([ve,xe])=>({name:ve,products:xe.sort((te,Ne)=>new Date(Ne.createdAt).getTime()-new Date(te.createdAt).getTime())})).sort((ve,xe)=>xe.products.length-ve.products.length);ee(Ee),H(!0)},q=()=>{H(!1),ee([])},K=B=>{B?(c({name:B.name||"",unit:B.unit||"",asin:B.asin||"",barcode:B.barcode||""}),p(B)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),f(null)},Z=()=>{n(!1),f(null)},ce=B=>{c({...l,[B.target.name]:B.target.value})},de=async B=>{c(Ee=>({...Ee,barcode:B})),m(!1),w(null),y(!0);try{const ve=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${B}`,te=await(await fetch(ve)).json();if(te&&te.items&&te.items.length>0){const Ne=te.items[0];c(Be=>({...Be,name:Ne.title||Be.name,asin:Ne.asin||Ne.amazon_asin||""}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{y(!1)}},ae=async B=>{if(B.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const Ee=l.name.toUpperCase();if(h){const ve=Pr(et,"scannedProducts",h.id);if(await na(ve,{name:Ee,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const xe=[];h.name!==Ee&&xe.push(`name from "${h.name}" to "${Ee}"`),h.unit!==l.unit&&xe.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&xe.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&xe.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),xe.length>0&&await kr(kt(et,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Ee}": ${xe.join(", ")}`,time:new Date().toISOString()})}}else await kr(kt(et,"scannedProducts"),{name:Ee,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:tr.fromDate(new Date)}),e&&await kr(kt(et,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Ee}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),W()}catch{f("Failed to save product")}finally{o(!1)}},he=async()=>{if(O){T(!0);try{const B=a.find(Ee=>Ee.id===O);await Cc(Pr(et,"scannedProducts",O)),e&&B&&await kr(kt(et,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${B.name}" with barcode ${B.barcode}`,time:new Date().toISOString()}),C(null),W()}catch{}finally{T(!1)}}},Se=async B=>{var xe;const Ee=(xe=B.target.files)==null?void 0:xe[0];if(!Ee)return;let ve=[];try{if(Ee.name.endsWith(".csv")){const te=await Ee.text(),Be=hye.parse(te,{header:!0}).data;ve=Be.map(Ze=>{var Le,Ye,je,Qe;return{name:((Le=Ze.Description)==null?void 0:Le.toString().trim())||"",unit:((Ye=Ze.Unit)==null?void 0:Ye.toString().trim())||"",asin:((je=Ze.ASIN)==null?void 0:je.toString().trim())||"",barcode:((Qe=Ze.EAN)==null?void 0:Qe.toString().trim())||""}}).filter(Ze=>Ze.name||Ze.unit||Ze.barcode);const Ue=Be.length-ve.length;Ue>0&&(console.log(`${Ue} rows skipped (all columns empty).`),D({type:"error",message:`${Ue} rows skipped (all columns empty).`}))}else if(Ee.name.endsWith(".xlsx")){const te=await Ee.arrayBuffer(),Ne=IT(te,{type:"array"}),Be=Ne.Sheets[Ne.SheetNames[0]],Ue=fye.sheet_to_json(Be);ve=Ue.map(Le=>{var Ye,je,Qe,pt;return{name:((Ye=Le.Description)==null?void 0:Ye.toString().trim())||"",unit:((je=Le.Unit)==null?void 0:je.toString().trim())||"",asin:((Qe=Le.ASIN)==null?void 0:Qe.toString().trim())||"",barcode:((pt=Le.EAN)==null?void 0:pt.toString().trim())||""}}).filter(Le=>Le.name||Le.unit||Le.barcode);const Ze=Ue.length-ve.length;Ze>0&&(console.log(`${Ze} rows skipped (all columns empty).`),D({type:"error",message:`${Ze} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),D({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ve.length===0){console.log("No valid products found in file."),D({type:"error",message:"No valid products found in file."});return}for(const te of ve)await kr(kt(et,"scannedProducts"),{name:te.name.toUpperCase(),unit:te.unit,barcode:te.barcode,asin:"",createdAt:tr.fromDate(new Date)});e&&await kr(kt(et,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ve.length} products from file "${Ee.name}"`,time:new Date().toISOString()}),D({type:"success",message:`Uploaded ${ve.length} products successfully!`}),console.log(`Uploaded ${ve.length} products successfully!`),W()}catch{console.log("Failed to upload products."),D({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?d.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):d.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",X!==null?X:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[d.jsx(ct,{variant:"secondary",onClick:()=>W(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:d.jsx(ji,{size:18,className:s?"animate-spin":""})}),d.jsx(ct,{variant:J?"primary":"secondary",onClick:J?q:F,className:"w-full md:w-auto",icon:J?d.jsx(ji,{size:18}):d.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),d.jsx(ct,{icon:d.jsx(EZ,{size:18}),onClick:()=>{var B;return(B=V.current)==null?void 0:B.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),d.jsx("input",{type:"file",accept:".csv,.xlsx",ref:V,onChange:Se,style:{display:"none"}}),d.jsx(ct,{icon:d.jsx(is,{size:18}),onClick:()=>K(),className:"w-full md:w-auto",children:"Add Product"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:S,onChange:B=>{const Ee=B.target.value;A(Ee),W(Ee.toUpperCase())},className:"pl-10",fullWidth:!0}),d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:d.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),d.jsx(Sn,{isOpen:r,onClose:Z,title:h?"Edit Product":"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:l.name,onChange:ce,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Unit",name:"unit",value:l.unit,onChange:ce,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"ASIN",name:"asin",value:l.asin,onChange:ce,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ce,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){w(null),y(!0);try{await de(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?d.jsx(ws,{size:18,className:"animate-spin text-blue-500"}):d.jsx(Bc,{size:18,className:"text-blue-500"})})]}),u&&d.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&d.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(ws,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),d.jsx(ct,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),d.jsx(hh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:de}),d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:d.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[d.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{border:0,padding:0},children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(ws,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&z.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&z.length>0?z.flatMap((B,Ee)=>[d.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:d.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[B.name," - ",B.products.length," duplicates"]})},`header-${B.name}`),...B.products.map((ve,xe)=>d.jsxs(Wn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ee*.1+xe*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(ve),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:ve.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ve.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Qt(ve.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:te=>{te.stopPropagation(),K(ve)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(Ws,{size:16})}),d.jsx("button",{onClick:te=>{te.stopPropagation(),C(ve.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&O===ve.id,children:d.jsx(es,{size:16})})]})]},ve.id))]):a.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((B,Ee)=>d.jsxs(Wn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ee*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(B),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:B.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Qt(B.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:ve=>{ve.stopPropagation(),K(B)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(Ws,{size:16})}),d.jsx("button",{onClick:ve=>{ve.stopPropagation(),C(B.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&O===B.id,children:d.jsx(es,{size:16})})]})]},B.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(ws,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&z.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&z.length>0?z.map(B=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[B.name," - ",B.products.length," duplicates"]}),B.products.map(Ee=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(Ee),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Ee.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Ee.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Ee.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{variant:"ghost",size:"sm",onClick:ve=>{ve.stopPropagation(),K(Ee)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Ws,{size:16})}),d.jsx(ct,{variant:"ghost",size:"sm",onClick:ve=>{ve.stopPropagation(),C(Ee.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&O===Ee.id,children:d.jsx(es,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ee.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Qt(Ee.createdAt,"MMM d, yyyy, h:mm a")})]})]},Ee.id))]},B.name)):a.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(B=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(B),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:B.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",B.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",B.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{variant:"ghost",size:"sm",onClick:Ee=>{Ee.stopPropagation(),K(B)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Ws,{size:16})}),d.jsx(ct,{variant:"ghost",size:"sm",onClick:Ee=>{Ee.stopPropagation(),C(B.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&O===B.id,children:d.jsx(es,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Qt(B.createdAt,"MMM d, yyyy, h:mm a")})]})]},B.id))}),d.jsx(Sn,{isOpen:!!O,onClose:()=>C(null),title:"Delete Product",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{children:"Are you sure you want to delete this product?"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ct,{variant:"secondary",onClick:()=>C(null),disabled:I,children:"Cancel"}),d.jsxs(ct,{variant:"danger",onClick:he,isLoading:I,className:"flex items-center justify-center",children:[I&&d.jsx(ws,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),d.jsx(Sn,{isOpen:!!j,onClose:()=>E(null),title:j?j.name:"Product Details",size:"xl",children:j&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.asin||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Qt(j.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),k&&d.jsx(UV,{type:k.type,message:k.message,onClose:()=>D(null)})]})]})},pye=()=>{const{user:e}=Na();if(!e)return null;switch(e.role){case"admin":return d.jsx(cfe,{});case"staff":return d.jsx(Iq,{});default:return null}},Vr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=en();return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},mye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=Na(),[a,i]=U.useState({name:"",unit:"",barcode:""}),[s,o]=U.useState(null),[l,c]=U.useState(!1),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(C=>({...C,barcode:O})),f(!1),m(null),p(!0);try{const I=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,S=await(await fetch(I)).json();if(S&&S.items&&S.items.length>0){const A=S.items[0];i(j=>({...j,name:A.title||j.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},b=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const C=a.name.toUpperCase();await kr(kt(et,"scannedProducts"),{name:C,unit:a.unit,barcode:a.barcode,createdAt:tr.fromDate(new Date)}),n&&await kr(kt(et,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${C}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return d.jsxs(d.Fragment,{children:[d.jsx(Sn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?d.jsx(ws,{size:18,className:"animate-spin text-blue-500"}):d.jsx(Bc,{size:18,className:"text-blue-500"})})]}),s&&d.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&d.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(ws,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),d.jsx(ct,{type:"submit",isLoading:l,children:"Add"})]})]})}),d.jsx(hh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},gye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>d.jsx(Sn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(r9,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",d.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",d.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ct,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),d.jsx(ct,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),vye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=en();return d.jsx(Sn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(yv,{size:24}),d.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ct,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),d.jsx(ct,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},wf=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},yye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],xye=e=>wf(e),qS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],bye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=Na(),[a,i]=U.useState({name:"",price:"",unit:"",supplier:qS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:"supply & serve",selectedAsins:[]}),[s,o]=U.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=U.useState({}),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(""),{isDarkMode:v}=en(),[y,b]=U.useState(null),[w,O]=U.useState(!1),[C,I]=U.useState(null),[T,S]=U.useState(!1),[A,j]=U.useState(""),[E,k]=U.useState(!1),[D,V]=U.useState(null),[X,Y]=U.useState(null),[J,H]=U.useState(!1),[z,ee]=U.useState(""),[W,P]=U.useState(!1),[F,q]=U.useState(null),[K,Z]=U.useState([]),[ce,de]=U.useState(!1),[ae,he]=U.useState(null),[Se,B]=U.useState([]),[Ee,ve]=U.useState(!1),[xe,te]=U.useState(null);U.useEffect(()=>{a.storeName==="supply & serve"&&a.fulfillmentType!=="mf"&&i(_t=>({..._t,fulfillmentType:"mf"}))},[a.storeName,a.fulfillmentType]);const Ne=_t=>{const{name:It,value:Zt}=_t.target;if(i(Ut=>({...Ut,[It]:Zt})),It==="supplier"&&(S(Zt==="other"),Zt!=="other"&&j("")),l[It]&&c(Ut=>{const Tr={...Ut};return delete Tr[It],Tr}),It==="barcode"&&Zt.length===13&&!w){F&&clearTimeout(F);const Ut=setTimeout(()=>{Zt.length===13&&je(Zt)},500);q(Ut)}else It==="barcode"&&Zt.length!==13&&F&&(clearTimeout(F),q(null))},Be=(_t,It,Zt)=>{o(Ut=>{const Tr=[...Ut];if(Tr[_t]={...Tr[_t],[It]:Zt},It==="locationCode"&&(Tr[_t].shelfNumber="0"),It==="shelfNumber"){const ke=Tr[_t].locationCode,Je=wf(ke).length-1;parseInt(Zt)>Je&&(Tr[_t].shelfNumber="0")}return Tr})},Ue=()=>{o(_t=>[..._t,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Ze=_t=>{o(It=>It.filter((Zt,Ut)=>Ut!==_t))},Le=async _t=>{i(Zt=>({...Zt,barcode:_t})),b(null),I(null),O(!0);let It=!1;try{const Zt=er(kt(et,"scannedProducts"),Jt("barcode","==",_t)),Ut=await nr(Zt);if(Ut.empty){const ke=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_t}`,lt=await(await fetch(ke)).json();if(lt&&lt.items&&lt.items.length>0){const Ct=lt.items[0],mt=Ct.asin||Ct.amazon_asin||"";if(mt&&mt.includes(" ")){const Mt=mt.split(" ").filter(mr=>mr.trim());if(Mt.length>1){Z(Mt),B([]),he({name:Ct.title||"",unit:"",asin:Mt[0]}),de(!0),b("Multiple ASINs detected. Please select one or more."),It=!0;return}}i(Mt=>({...Mt,name:Ct.title||Mt.name,asin:mt||Mt.asin,selectedAsins:mt?[mt]:[]})),b("Product name and ASIN auto-filled from external database."),It=!0}else b("No product found for this barcode. Please enter details manually.")}else{const Tr=Ut.docs[0].data(),ke=Tr.asin||"";if(ke&&ke.includes(" ")){const Je=ke.split(" ").filter(lt=>lt.trim());if(Je.length>1){Z(Je),B([]),he({name:Tr.name||"",unit:Tr.unit||"",asin:Je[0]}),de(!0),b("Multiple ASINs detected. Please select one or more."),It=!0;return}}i(Je=>({...Je,name:Tr.name||Je.name,unit:Tr.unit||Je.unit,asin:ke||Je.asin,selectedAsins:ke?[ke]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),It=!0}}catch{I("Failed to fetch product info."),b("Failed to search for product. Please enter details manually.")}finally{O(!1),!It&&_t.length===13&&setTimeout(()=>{je(_t)},100)}},Ye=async _t=>{try{const It=er(kt(et,"inventory"),Jt("barcode","==",_t),Jt("quantity","==",0)),Zt=await nr(It);if(!Zt.empty){const Ut=Zt.docs[0].data();return te({hiddenProduct:{...Ut,id:Zt.docs[0].id,lastUpdated:Ut.lastUpdated instanceof Date?Ut.lastUpdated:new Date(Ut.lastUpdated)},newProductName:a.name||"New Product"}),ve(!0),!0}return!1}catch(It){return console.error("Error checking for hidden products:",It),!1}},je=async _t=>{const It=_t||a.barcode;if(!(!It||w)){I(null),O(!0);try{const Zt=er(kt(et,"scannedProducts"),Jt("barcode","==",It)),Ut=await nr(Zt);if(!Ut.empty){const Ct=Ut.docs[0].data(),mt=Ct.asin||"";if(mt&&mt.includes(" ")){const Mt=mt.split(" ").filter(mr=>mr.trim());if(Mt.length>1){Z(Mt),B([]),he({name:Ct.name||"",unit:Ct.unit||"",asin:Mt[0]}),de(!0),b("Multiple ASINs detected. Please select one or more."),O(!1);return}}i(Mt=>({...Mt,name:Ct.name||Mt.name,unit:Ct.unit||Mt.unit,asin:mt||Mt.asin,selectedAsins:mt?[mt]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),O(!1);return}const ke=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${It}`,lt=await(await fetch(ke)).json();if(lt&&lt.items&&lt.items.length>0){const Ct=lt.items[0],mt=Ct.asin||Ct.amazon_asin||"";if(mt&&mt.includes(" ")){const Mt=mt.split(" ").filter(mr=>mr.trim());if(Mt.length>1){Z(Mt),B([]),he({name:Ct.title||"",unit:"",asin:Mt[0]}),de(!0),b("Multiple ASINs detected. Please select one or more."),O(!1);return}}i(Mt=>({...Mt,name:Ct.title||Mt.name,asin:mt||Mt.asin,selectedAsins:mt?[mt]:[]})),b("Product name and ASIN auto-filled from UPC database.")}else I("No product info found for this barcode.")}catch{I("Failed to fetch product info.")}finally{O(!1),await Ye(It)}}},Qe=()=>{const _t={};return a.name.trim()||(_t.name="Product name is required"),s.forEach((It,Zt)=>{It.quantity?(isNaN(Number(It.quantity))||Number(It.quantity)<0)&&(_t[`location_${Zt}_quantity`]="Quantity must be a positive number"):_t[`location_${Zt}_quantity`]="Quantity is required"}),c(_t),Object.keys(_t).length===0},pt=async _t=>{if(_t.preventDefault(),Qe()){const It=a.supplier||qS[0].value,Zt=a.storeName||"supply & serve",Ut=a.selectedAsins.length>0?a.selectedAsins:a.asin?[a.asin]:[],Tr=s.map(Je=>({name:a.name,quantity:parseInt(Je.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:It==="other"?A:It,locationCode:Je.locationCode,shelfNumber:Je.shelfNumber,asin:Ut.length>0?Ut.join(", "):null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Zt==="other"?g:Zt})),ke=Tr.find(Je=>r.some(lt=>lt.name.trim().toLowerCase()===Je.name.trim().toLowerCase()&&(lt.barcode||"")===(Je.barcode||"")&&lt.locationCode===Je.locationCode&&lt.shelfNumber===Je.shelfNumber));if(ke){Y({name:ke.name,location:`${ke.locationCode}-${ke.shelfNumber}`}),V(Tr),k(!0);return}try{await e(Tr)}catch(Je){console.error("Error adding stock:",Je)}}},ot=async()=>{if(D){try{await e(D)}catch(_t){console.error("Error adding stock:",_t)}k(!1),V(null),Y(null)}},St=()=>{k(!1),V(null),Y(null)},jt=()=>{P(!0)},bt=()=>{ee("Product has been successfully added to the database!"),H(!0)},Tt=_t=>{ae&&(i(It=>({...It,name:ae.name||It.name,unit:ae.unit||It.unit,asin:_t.join(", "),selectedAsins:_t})),b(`Product info and ${_t.length} selected ASIN(s) auto-filled.`)),de(!1),Z([]),he(null),B([])},it=()=>{de(!1),Z([]),he(null),B([]),b("ASIN selection cancelled. Please enter details manually.")},Yt=_t=>{B(It=>It.includes(_t)?It.filter(Ut=>Ut!==_t):[...It,_t])},Pt=(_t,It)=>{s.length>0&&o(Zt=>{const Ut=[...Zt];return Ut[0]={...Ut[0],locationCode:_t,shelfNumber:It},Ut}),ve(!1),te(null)},Ir=()=>{ve(!1),te(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:pt,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:a.name,onChange:Ne,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx("div",{children:d.jsx(Vr,{label:"Supplier",name:"supplier",value:a.supplier,onChange:Ne,options:qS,required:!0,fullWidth:!0})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&d.jsx(Nt,{label:"Price",name:"price",type:"number",value:a.price,onChange:Ne,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!T&&d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:Ne,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),T&&d.jsx(Nt,{label:"Other Supplier",value:A,onChange:_t=>j(_t.target.value),placeholder:"Enter supplier name",required:T,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T&&d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:Ne,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),d.jsx(ct,{type:"button",onClick:Ue,variant:"primary",icon:d.jsx(is,{size:18}),children:"Add Location"})]}),s.map((_t,It)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsx(Vr,{label:"Location Code",value:_t.locationCode,onChange:Zt=>Be(It,"locationCode",Zt.target.value),options:yye,required:!0,fullWidth:!0}),d.jsx(Vr,{label:"Shelf Number",value:_t.shelfNumber,onChange:Zt=>Be(It,"shelfNumber",Zt.target.value),options:xye(_t.locationCode),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Quantity",type:"number",value:_t.quantity,onChange:Zt=>Be(It,"quantity",Zt.target.value),error:l[`location_${It}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&d.jsx(ct,{type:"button",onClick:()=>Ze(It),variant:"danger",icon:d.jsx(es,{size:18}),children:"Remove"})]},It))]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vr,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:Ne,options:a.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?d.jsx(Vr,{label:"Status",name:"status",value:a.status,onChange:Ne,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(Nt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:Ne,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>je(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:w,children:w?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Bc,{size:18,className:"text-blue-500"})})]}),d.jsx(Nt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:a.asin,onChange:Ne,placeholder:"Enter Amazon ASIN",fullWidth:!0}),C&&d.jsxs("div",{className:"text-red-500 text-sm",children:[C," Please enter details manually."]}),y&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx("div",{children:d.jsx(Vr,{label:"Store Name",value:a.storeName,onChange:_t=>{const It=_t.target.value;i(Zt=>({...Zt,storeName:It,fulfillmentType:It==="supply & serve"?"mf":Zt.fulfillmentType})),p(It==="other"),It!=="other"&&m("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"Fahiz"},{value:"other",label:"Other"}]})})}),h&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:g,onChange:_t=>m(_t.target.value),placeholder:"Enter store name",required:h})]})}),d.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{type:"button",onClick:jt,variant:"primary",icon:d.jsx(is,{size:18}),children:"Add New Product"}),d.jsx(ct,{type:"submit",isLoading:t,variant:"success",icon:d.jsx(is,{size:18}),children:"Confirm"})]})})]}),d.jsx(hh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:Le}),d.jsx(mye,{isOpen:W,onClose:()=>P(!1),onSuccess:bt}),d.jsx(vye,{isOpen:E,onClose:St,onConfirm:ot,title:"Duplicate Stock Detected",message:X?`A product with the same name and barcode already exists at location ${X.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),d.jsx(Sn,{isOpen:J,onClose:()=>H(!1),title:"Success!",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[d.jsx(vO,{size:24}),d.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:z})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(ct,{variant:"primary",onClick:()=>H(!1),children:"OK"})})]})}),d.jsx(Sn,{isOpen:ce,onClose:it,title:"Multiple ASINs Detected",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),d.jsx("div",{className:"space-y-3",children:K.map((_t,It)=>d.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Se.includes(_t)?v?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":v?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>Yt(_t),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`font-mono text-sm ${v?"text-slate-200":"text-slate-800"}`,children:_t}),d.jsxs("div",{className:"flex items-center gap-2",children:[Se.includes(_t)&&d.jsx(vO,{size:16,className:"text-blue-500"}),d.jsxs("span",{className:`text-xs ${v?"text-slate-400":"text-slate-500"}`,children:["ASIN ",It+1]})]})]})},It))}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("div",{className:"text-sm text-slate-500",children:Se.length>0?`${Se.length} ASIN(s) selected`:"No ASINs selected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{variant:"secondary",onClick:it,children:"Cancel"}),d.jsx(ct,{variant:"primary",onClick:()=>Tt(Se),disabled:Se.length===0,children:"Confirm Selection"})]})]})]})}),(xe==null?void 0:xe.hiddenProduct)&&d.jsx(gye,{isOpen:Ee,onClose:()=>ve(!1),onUseLocation:Pt,onManualLocation:Ir,hiddenProduct:xe.hiddenProduct,newProductName:xe.newProductName||"New Product"})]})},wye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],_ye=e=>wf(e),Sye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],l8=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],Aye=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=en(),{user:a}=Na(),[i,s]=U.useState(null),o=e.storeName,l=o&&!Sye.includes(o),c=l8.some(k=>k.value===(e.supplier||"")),u=c?e.supplier||"":"other",f=c?"":e.supplier||"",[h,p]=U.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:u,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(l?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:l?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[g,m]=U.useState(l),[v,y]=U.useState(l?o:""),[b,w]=U.useState(u==="other"),[O,C]=U.useState(f),[I,T]=U.useState(!1);U.useEffect(()=>{h.storeName==="supply & serve"&&h.fulfillmentType!=="mf"&&p(k=>({...k,fulfillmentType:"mf"}))},[h.storeName,h.fulfillmentType]);const S=k=>{const{name:D,value:V}=k.target;if(D==="damagedItems"){const X=Number(V),Y=Number(h.quantity);if(X<0){s("Damaged items cannot be negative");return}s(null),p(J=>({...J,damagedItems:V,quantity:(Y-(X-Number(J.damagedItems))).toString()}));return}D==="supplier"&&(w(V==="other"),V!=="other"&&C("")),p(X=>({...X,[D]:V}))},A=k=>{p(D=>({...D,barcode:k})),T(!1)},j=async k=>{if(k.preventDefault(),E())try{const D={id:e.id,name:h.name,quantity:parseInt(h.quantity),price:(a==null?void 0:a.role)==="admin"?parseFloat(h.price):e.price,unit:h.unit||null,supplier:h.supplier==="other"?O:h.supplier||null,locationCode:h.locationCode,shelfNumber:h.shelfNumber,asin:h.asin||null,status:(a==null?void 0:a.role)==="admin"?h.status:"pending",damagedItems:parseInt(h.damagedItems),fulfillmentType:h.fulfillmentType,lastUpdated:new Date,storeName:h.storeName==="other"?v:h.storeName,barcode:h.barcode||null};await t(D,e)}catch(D){console.error("Error updating stock:",D),s("Failed to update stock. Please try again.")}},E=()=>h.name.trim()?!h.quantity||parseInt(h.quantity)<0?(s("Quantity must be a positive number"),!1):(a==null?void 0:a.role)==="admin"&&(!h.price||parseFloat(h.price)<0)?(s("Price must be a positive number"),!1):!h.locationCode||!h.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:h.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"?d.jsx(Vr,{label:"Status",name:"status",value:h.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(Nt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Quantity",name:"quantity",type:"number",value:h.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"&&d.jsx(Nt,{label:"Price",name:"price",type:"number",value:h.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:h.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),d.jsx(Vr,{label:"Fulfillment Type",name:"fulfillmentType",value:h.fulfillmentType,onChange:S,options:h.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vr,{label:"Location Code",name:"locationCode",value:h.locationCode,onChange:S,options:wye,required:!0,fullWidth:!0}),d.jsx(Vr,{label:"Shelf Number",name:"shelfNumber",value:h.shelfNumber,onChange:S,options:_ye(h.locationCode),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:h.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>T(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Bc,{size:18,className:"text-blue-500"})})]}),d.jsx(Nt,{label:"ASIN",name:"asin",value:h.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(Vr,{label:"Supplier",name:"supplier",value:h.supplier,onChange:S,options:l8,required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),d.jsx(Vr,{value:h.storeName,onChange:k=>{const D=k.target.value;p(V=>({...V,storeName:D,fulfillmentType:D==="supply & serve"?"mf":V.fulfillmentType})),m(D==="other"),D!=="other"&&y("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"Fahiz"},{value:"other",label:"Other"}]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&d.jsx(Nt,{label:"Other Supplier",value:O,onChange:k=>C(k.target.value),placeholder:"Enter supplier name",required:b,fullWidth:!0}),g&&!b&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:v,onChange:k=>y(k.target.value),placeholder:"Enter store name",required:g})]}),g&&b&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:v,onChange:k=>y(k.target.value),placeholder:"Enter store name",required:g})]}),d.jsxs("div",{children:[d.jsx(Nt,{label:"Damaged Items",name:"damagedItems",type:"number",value:h.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{type:"submit",isLoading:r,icon:d.jsx(is,{size:18}),children:"Update Product"})}),d.jsx(hh,{isOpen:I,onClose:()=>T(!1),onBarcodeScanned:A})]})},Tye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Eye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=U.useState([]),[i,s]=U.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=U.useState({}),[c,u]=U.useState(!1),[f,h]=U.useState(null),[p,g]=U.useState(!1),[m,v]=U.useState(null),y=U.useRef(null);U.useEffect(()=>{a(wf(i.locationCode))},[]),U.useEffect(()=>{a(wf(i.locationCode));const S=wf(i.locationCode).length-1;parseInt(i.shelfNumber)>S&&s(A=>({...A,shelfNumber:"0"}))},[i.locationCode]);const b=S=>{const{name:A,value:j}=S.target;s(E=>({...E,[A]:j})),o[A]&&l(E=>{const k={...E};return delete k[A],k}),A==="barcode"&&j.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{j.length===13&&C(j)},500)):A==="barcode"&&j.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},w=()=>{u(!0)},O=async S=>{s(j=>({...j,barcode:S})),h(null),v(null),g(!0);let A=!1;try{const j=er(kt(et,"scannedProducts"),Jt("barcode","==",S)),E=await nr(j);if(E.empty){const D=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,X=await(await fetch(D)).json();if(X&&X.items&&X.items.length>0){const Y=X.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database."),A=!0}else h("No product found for this barcode. Please enter details manually.")}else{const k=E.docs[0].data();s(D=>({...D,name:k.name||D.name})),h("Product name auto-filled from scanned products."),A=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!A&&S.length===13&&setTimeout(()=>{C(S)},100)}},C=async S=>{const A=S||i.barcode;if(!(!A||p)){v(null),g(!0);try{const j=er(kt(et,"scannedProducts"),Jt("barcode","==",A)),E=await nr(j);if(E.empty){const D=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${A}`,X=await(await fetch(D)).json();if(X&&X.items&&X.items.length>0){const Y=X.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const k=E.docs[0].data();s(D=>({...D,name:k.name||D.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},I=()=>{const S={};return i.name.trim()||(S.name="Product name is required"),i.locationCode||(S.locationCode="Location is required"),i.shelfNumber||(S.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(S.quantity="Quantity must be greater than 0"),l(S),Object.keys(S).length===0},T=async S=>{if(S.preventDefault(),!I())return;const A={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([A]),t()}catch(j){console.error("Error adding stock:",j)}};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vr,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:Tye,error:o.locationCode,required:!0,fullWidth:!0}),d.jsx(Vr,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await C()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Bc,{size:18,className:"text-blue-500"})})]}),m&&d.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),p&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),d.jsx(Nt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{type:"submit",isLoading:r,icon:d.jsx(is,{size:18}),children:"Quick Add"}),d.jsx(ct,{type:"button",onClick:w,variant:"primary",icon:d.jsx(Bc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),d.jsx(hh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:O})]})},gC=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=en(),{user:a}=Na();return r?d.jsx(Sn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),d.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),d.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>d.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:Qt(r.lastUpdated,"MMM d, yyyy")})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),d.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),d.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),d.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[d.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),d.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"Critical: <10"}),d.jsx("span",{children:"Low: 10-25"}),d.jsx("span",{children:"25+"})]})]})]})}):null},Tb=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=en();return d.jsx(Sn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(yv,{size:24}),d.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ct,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),d.jsx(ct,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},kye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return d.jsx(Sn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(yv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",d.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),d.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>d.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&d.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",d.jsx("strong",{children:l})," to this location?"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(ct,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&d.jsx(ct,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),d.jsx(ct,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Nye=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(""),[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState("name"),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState(!1),[v,y]=U.useState(!1),[b,w]=U.useState(!1),[O,C]=U.useState(null),[I,T]=U.useState([]),[S,A]=U.useState(new Set),[j,E]=U.useState(!1),{showToast:k}=au(),{isDarkMode:D}=en(),{user:V}=Na(),[X,Y]=U.useState(!1),[J,H]=U.useState(null),[z,ee]=U.useState(!1),[W,P]=U.useState(!1),[F,q]=U.useState(null),[K,Z]=U.useState(null),[ce,de]=U.useState(null),[ae,he]=U.useState(!1),[Se,B]=U.useState("all"),[Ee,ve]=U.useState(!1),[xe,te]=U.useState(null);U.useEffect(()=>{const ke=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(ke)}},[e]),U.useEffect(()=>{const ke=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(ke)}},[a]);const Ne=U.useCallback(async()=>{w(!0);try{const ke=er(kt(et,"inventory"),La("name")),lt=(await nr(ke)).docs.map(Ct=>{const mt=Ct.data();return{id:Ct.id,...mt,lastUpdated:mt.lastUpdated instanceof tr?mt.lastUpdated.toDate():new Date(mt.lastUpdated)}});T(lt)}catch(ke){console.error("Error fetching stock items:",ke),k("Failed to fetch stock items","error")}finally{w(!1)}},[k]),Be=U.useCallback(async()=>{try{const ke=kt(et,"inventory"),Je=await sN(ke);te(Je.data().count)}catch{te(null)}},[]);U.useEffect(()=>{Ne(),Be()},[Ne,Be]),U.useEffect(()=>{const ke=Je=>{const lt=Je.target;lt.closest(".store-filter-dropdown")||he(!1),lt.closest(".status-filter-dropdown")||ve(!1)};return(ae||Ee)&&document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[ae,Ee]);const Ue=U.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Ze=U.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),Le=U.useMemo(()=>{const ke=r.toLowerCase(),Je=s.toLowerCase();return I.filter(lt=>{if(lt.quantity===0)return!1;const Ct=r===""||lt.name.toLowerCase().startsWith(ke),mt=s===""||lt.barcode&&lt.barcode.toLowerCase().includes(Je)||lt.asin&&lt.asin.split(",").some(Er=>Er.trim().toLowerCase().includes(Je)),Mt=ce?ce.storeName==="other"?!Ze.includes(lt.storeName)&&lt.fulfillmentType===ce.fulfillmentType:lt.storeName===ce.storeName&&lt.fulfillmentType===ce.fulfillmentType:!0,mr=Se==="all"||lt.status===Se;return Ct&&mt&&Mt&&mr}).sort((lt,Ct)=>l==="name"?lt.name.localeCompare(Ct.name):l==="quantity"?Ct.quantity-lt.quantity:l==="price"?Ct.price-lt.price:l==="date"?new Date(Ct.lastUpdated).getTime()-new Date(lt.lastUpdated).getTime():0)},[I,r,s,ce,Se,l,Ze]),Ye=U.useCallback((ke,Je)=>I.filter(lt=>lt.locationCode===ke&&lt.shelfNumber===Je),[I]),je=U.useCallback(async ke=>{w(!0);try{const Je=[];for(const lt of ke)if(lt.barcode){const Ct=er(kt(et,"inventory"),Jt("barcode","==",lt.barcode),Jt("quantity","==",0)),mt=await nr(Ct);if(!mt.empty){const Mt=mt.docs[0];if(await Cc(Pr(et,"inventory",Mt.id)),T(mr=>mr.filter(Er=>Er.id!==Mt.id)),V){const mr=Mt.data();await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${mr.name}" with barcode ${lt.barcode} from location ${mr.locationCode}-${mr.shelfNumber}`,time:new Date().toISOString()})}}}for(const lt of ke){const Ct=await kr(kt(et,"inventory"),{...lt,lastUpdated:tr.fromDate(new Date)});Je.push({...lt,id:Ct.id,lastUpdated:new Date})}if(V){const lt=ke.reduce((mt,Mt)=>mt+Mt.quantity,0),Ct=ke.map(mt=>`${mt.quantity} at ${mt.locationCode}-${mt.shelfNumber}`).join(", ");await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${ke[0].name}" with total quantity ${lt} (${Ct})`,time:new Date().toISOString()})}T(lt=>[...lt,...Je]),f(!1),ee(!1),k("Stock items added successfully","success")}catch(Je){console.error("Error adding stock:",Je),k("Failed to add stock items","error")}finally{w(!1)}},[V,k]),Qe=U.useCallback(async ke=>{const Je=[];for(const lt of ke){const Ct=Ye(lt.locationCode,lt.shelfNumber);Ct.length>0&&Je.push({locationCode:lt.locationCode,shelfNumber:lt.shelfNumber,products:Ct})}if(Je.length>0){const lt=Je[0];Z({locationCode:lt.locationCode,shelfNumber:lt.shelfNumber,existingProducts:lt.products,newProductName:ke[0].name,newProductBarcode:ke[0].barcode||void 0}),q(ke),P(!0);return}await je(ke)},[Ye,je]),pt=U.useCallback(async()=>{F&&(await je(F),P(!1),q(null),Z(null),f(!1),ee(!1))},[F,je]),ot=U.useCallback(()=>{P(!1),q(null),Z(null),f(!1),ee(!1)},[]),St=U.useCallback(async()=>{if(F&&K)try{w(!0);const ke=K.existingProducts.find(Je=>Je.barcode===K.newProductBarcode);if(ke){const Je=ke.quantity+F[0].quantity,lt=Pr(et,"inventory",ke.id);await na(lt,{quantity:Je,lastUpdated:tr.fromDate(new Date)}),V&&(await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${F[0].quantity} units of "${F[0].name}" with existing stock "${ke.name}" at location ${K.locationCode}-${K.shelfNumber}`,time:new Date().toISOString()}),await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${ke.name}": quantity from ${ke.quantity} to ${Je}`,time:new Date().toISOString()})),await Ne(),k("Products merged successfully","success")}}catch(ke){console.error("Error merging products:",ke),k("Failed to merge products","error")}finally{w(!1),P(!1),q(null),Z(null),f(!1),ee(!1)}},[F,K,V,Ne,k]),jt=U.useCallback(async(ke,Je)=>{w(!0);try{const lt=new Date,Ct={},mt=[];if(ke.name!==Je.name&&(Ct.name=ke.name,mt.push(`name from "${Je.name}" to "${ke.name}"`)),ke.price!==Je.price){Ct.price=ke.price;const Mt=Number(Je.price||0).toFixed(2),mr=Number(ke.price||0).toFixed(2);mt.push(`price from £${Mt} to £${mr}`)}if((ke.locationCode!==Je.locationCode||ke.shelfNumber!==Je.shelfNumber)&&(Ct.locationCode=ke.locationCode,Ct.shelfNumber=ke.shelfNumber,mt.push(`location from ${Je.locationCode}-${Je.shelfNumber} to ${ke.locationCode}-${ke.shelfNumber}`)),ke.supplier!==Je.supplier&&(Ct.supplier=ke.supplier,mt.push(`supplier from "${Je.supplier||"none"}" to "${ke.supplier||"none"}"`)),ke.asin!==Je.asin&&(Ct.asin=ke.asin,mt.push(`ASIN from "${Je.asin||"none"}" to "${ke.asin||"none"}"`)),ke.status!==Je.status&&(Ct.status=ke.status,mt.push(`status from "${Je.status}" to "${ke.status}"`)),ke.damagedItems!==Je.damagedItems&&(Ct.damagedItems=ke.damagedItems,mt.push(`damaged items from ${Je.damagedItems} to ${ke.damagedItems}`)),ke.fulfillmentType!==Je.fulfillmentType&&(Ct.fulfillmentType=ke.fulfillmentType,mt.push(`fulfillment type from "${Je.fulfillmentType.toUpperCase()}" to "${ke.fulfillmentType.toUpperCase()}"`)),ke.storeName!==Je.storeName&&(Ct.storeName=ke.storeName,mt.push(`store name from "${Je.storeName}" to "${ke.storeName}"`)),ke.unit!==Je.unit&&(Ct.unit=ke.unit,mt.push(`unit from "${Je.unit||"none"}" to "${ke.unit||"none"}"`)),ke.barcode!==Je.barcode&&(Ct.barcode=ke.barcode,mt.push(`barcode from "${Je.barcode||"none"}" to "${ke.barcode||"none"}"`)),Object.keys(Ct).length>0){const Mt=Pr(et,"inventory",ke.id);await na(Mt,{...Ct,lastUpdated:tr.fromDate(lt)}),V&&mt.length>0&&await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${ke.name}": ${mt.join(", ")}`,time:lt.toISOString()});const mr=I.map(Er=>Er.id===ke.id?{...Er,...Ct,lastUpdated:lt}:Er);T(mr),k("Stock details updated successfully","success"),p(!1),C(null)}if(ke.quantity>Je.quantity)H({itemId:ke.id,newQuantity:ke.quantity}),Y(!0),p(!1);else if(ke.quantity!==Je.quantity){const Mt=Pr(et,"inventory",ke.id);await na(Mt,{quantity:ke.quantity,lastUpdated:tr.fromDate(lt)}),V&&await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${ke.name}": quantity from ${Je.quantity} to ${ke.quantity}`,time:lt.toISOString()});const mr=I.map(Er=>Er.id===ke.id?{...Er,quantity:ke.quantity,lastUpdated:lt}:Er);T(mr),k("Stock quantity updated","success"),p(!1),C(null)}else p(!1),C(null)}catch(lt){console.error("Error updating stock:",lt),k("Failed to update stock item","error")}finally{w(!1)}},[I,V,k]),bt=U.useCallback(async()=>{if(J){w(!0);try{const{itemId:ke,newQuantity:Je}=J,lt=new Date,Ct=I.find(mr=>mr.id===ke),mt=Pr(et,"inventory",ke);await na(mt,{quantity:Je,lastUpdated:tr.fromDate(lt)}),V&&Ct&&await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ct.name}": quantity from ${Ct.quantity} to ${Je}`,time:lt.toISOString()});const Mt=I.map(mr=>mr.id===ke?{...mr,quantity:Je,lastUpdated:lt}:mr);T(Mt),k("Stock quantity updated successfully","success"),C(null)}catch(ke){console.error("Error updating quantity:",ke),k("Failed to update quantity","error")}finally{w(!1),Y(!1),H(null)}}},[J,I,V,k]),Tt=U.useCallback(async ke=>{w(!0);try{const Je=I.find(lt=>lt.id===ke);await Cc(Pr(et,"inventory",ke)),V&&Je&&await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${Je.name}" (${Je.quantity} units) from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()}),T(I.filter(lt=>lt.id!==ke)),m(!1),C(null),k("Stock item deleted successfully","success")}catch(Je){console.error("Error deleting stock:",Je),k("Failed to delete stock item","error")}finally{w(!1)}},[I,V,k]),it=U.useCallback(ke=>{C(ke)},[]),Yt=U.useCallback((ke,Je)=>{ke.stopPropagation(),C(Je),p(!0)},[]),Pt=U.useCallback((ke,Je)=>{ke.stopPropagation(),C(Je),m(!0)},[]),Ir=U.useCallback(()=>{S.size===Le.length?A(new Set):A(new Set(Le.map(ke=>ke.id)))},[Le,S.size]),_t=U.useCallback(ke=>{const Je=new Set(S);Je.has(ke)?Je.delete(ke):Je.add(ke),A(Je)},[S]),It=U.useCallback(async()=>{if(S.size!==0){w(!0);try{const ke=I.filter(lt=>S.has(lt.id)),Je=Array.from(S).map(lt=>Cc(Pr(et,"inventory",lt)));if(await Promise.all(Je),V){const lt=ke.map(Ct=>`"${Ct.name}" (${Ct.quantity} units) from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${lt}`,time:new Date().toISOString()})}T(I.filter(lt=>!S.has(lt.id))),A(new Set),E(!1),y(!1),k(`Successfully deleted ${S.size} items`,"success")}catch(ke){console.error("Error deleting items:",ke),k("Failed to delete selected items","error")}finally{w(!1)}}},[O,I,V,k]),Zt=U.useCallback(async()=>{if(S.size!==0){w(!0);try{const ke=I.filter(lt=>S.has(lt.id)&&lt.status==="pending");if(ke.length===0){k("No pending items selected to activate","error");return}const Je=ke.map(lt=>na(Pr(et,"inventory",lt.id),{status:"active",lastUpdated:tr.fromDate(new Date)}));if(await Promise.all(Je),V){const lt=ke.map(Ct=>`"${Ct.name}" from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await kr(kt(et,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${ke.length} pending products: ${lt}`,time:new Date().toISOString()})}T(I.map(lt=>S.has(lt.id)&&lt.status==="pending"?{...lt,status:"active",lastUpdated:new Date}:lt)),A(new Set),E(!1),k(`Successfully activated ${ke.length} items`,"success")}catch(ke){console.error("Error activating items:",ke),k("Failed to activate selected items","error")}finally{w(!1)}}},[O,I,V,k]),Ut=U.useCallback(()=>{E(!j),j||A(new Set)},[j]),Tr=U.useCallback(({item:ke})=>d.jsxs("tr",{className:`hover:${D?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>it(ke),children:[j&&d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,onClick:Je=>Je.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:S.has(ke.id),onChange:()=>_t(ke.id),className:`h-4 w-4 text-blue-600 rounded ${D?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-blue-400":"text-blue-700"} font-medium`,children:ke.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:ke.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ke.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ke.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:[ke.locationCode," - ",ke.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:ke.asin?ke.asin.split(",").length>3?ke.asin.split(",").slice(0,3).map(Je=>Je.trim()).join(", ")+"...":ke.asin.split(",").map(Je=>Je.trim()).join(", "):"-"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${D?"text-slate-200":"text-slate-900"}`,children:Number(ke.price)>0?`£${Number(ke.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${D?"text-slate-200":"text-slate-900"}`,children:Number(ke.quantity*ke.price)>0?`£${Number(ke.quantity*ke.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ke.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),ke.quantity>10&&ke.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:ke.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"}`,children:Qt(new Date(ke.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:Je=>Yt(Je,ke),className:`p-1 ${D?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(Ws,{size:16})}),d.jsx("button",{onClick:Je=>Pt(Je,ke),className:`p-1 ${D?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(es,{size:16})})]})})]},ke.id),[j,S,D,V,it,_t,Yt,Pt]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${D?"text-white":"text-gray-900"}`,children:"Inbound"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${D?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",xe!==null?xe:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:j?d.jsxs(d.Fragment,{children:[Se==="pending"&&d.jsxs(ct,{onClick:Zt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[d.jsx(_Z,{size:16}),"Go Live (",S.size,")"]}),d.jsxs(ct,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[d.jsx(es,{size:16}),"Delete Selected (",S.size,")"]}),d.jsx(ct,{onClick:Ut,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(ct,{onClick:Ut,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Jx,{size:16}),"Select Items"]}),d.jsxs(ct,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(is,{size:16}),"Quick Add"]}),d.jsxs(ct,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(is,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by product name",value:e,onChange:ke=>t(ke.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:ke=>i(ke.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(Vr,{value:l,onChange:ke=>c(ke.target.value),options:Ue})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>ve(!Ee),className:`flex items-center gap-2 ${Se!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[Se==="all"?"Status Filter":Se==="active"?"Active":"Pending",d.jsx(Nf,{size:16})]}),Ee&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${D?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Se==="all"?D?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("all"),ve(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Se==="active"?D?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("active"),ve(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Se==="pending"?D?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("pending"),ve(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${D?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{B("all"),ve(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>he(!ae),className:`flex items-center gap-2 ${ce?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ce?`${ce.storeName==="other"?"Other":ce.storeName} - ${ce.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(Nf,{size:16})]}),ae&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${D?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(ke=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ce==null?void 0:ce.storeName)===ke?D?"bg-slate-700":"bg-slate-100":""}`,children:ke}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[ke!=="supply & serve"&&d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ce==null?void 0:ce.storeName)===ke&&(ce==null?void 0:ce.fulfillmentType)==="fba"?D?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{de({storeName:ke,fulfillmentType:"fba"}),he(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${D?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ce==null?void 0:ce.storeName)===ke&&(ce==null?void 0:ce.fulfillmentType)==="mf"?D?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{de({storeName:ke,fulfillmentType:"mf"}),he(!1)},children:"MF"})]})]},ke)),d.jsx("div",{className:`border-t ${D?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${D?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{de(null),he(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(ct,{variant:"secondary",onClick:Ne,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(ji,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(ws,{className:`w-8 h-8 ${D?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:D?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Le.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${D?"divide-slate-700":"divide-slate-200"} ${D?"bg-slate-800":"bg-white"} rounded-lg border ${D?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:D?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[j&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:S.size===Le.length,onChange:Ir,className:`h-4 w-4 text-blue-600 rounded ${D?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${D?"divide-slate-700":"divide-slate-200"}`,children:Le.map((ke,Je)=>d.jsx(Tr,{item:ke,index:Je},ke.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(ke=>d.jsxs("div",{className:`rounded-lg border ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>it(ke),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${D?"text-blue-400":"text-blue-700"}`,children:ke.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ke.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ke.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[ke.locationCode," - ",ke.shelfNumber]})]}),d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:ke.quantity})]}),ke.asin&&d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:ke.asin})]}),(V==null?void 0:V.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(ke.price)>0?`£${Number(ke.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(ke.quantity*ke.price)>0?`£${Number(ke.quantity*ke.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:D?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:Qt(new Date(ke.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(ct,{size:"sm",variant:"secondary",onClick:Je=>{Je.stopPropagation(),Yt(Je,ke)},children:[d.jsx(Ws,{size:14})," Edit"]}),d.jsxs(ct,{size:"sm",variant:"danger",onClick:Je=>{Je.stopPropagation(),Pt(Je,ke)},children:[d.jsx(es,{size:14})," Delete"]})]})]},ke.id))})]}):d.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:D?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(Sn,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(bye,{onSubmit:Qe,isLoading:b,existingStockItems:I})}),d.jsx(Sn,{isOpen:z,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(Eye,{onSubmit:Qe,onClose:()=>ee(!1),isLoading:b})}),d.jsx(Sn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:O&&d.jsx(Aye,{item:O,onSubmit:jt,onCancel:()=>p(!1),isLoading:b})}),O&&d.jsx(Tb,{isOpen:g,onClose:()=>{m(!1),C(null)},onConfirm:()=>Tt(O.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${O.name}"? This action cannot be undone.`,isLoading:b}),O&&!h&&!g&&!X&&d.jsx(gC,{isOpen:!!O,onClose:()=>C(null),item:O}),d.jsx(Tb,{isOpen:v,onClose:()=>{y(!1),A(new Set)},onConfirm:It,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(Sn,{isOpen:X,onClose:()=>{Y(!1),H(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(ct,{variant:"secondary",onClick:()=>{Y(!1),H(null)},children:"No"}),d.jsx(ct,{onClick:bt,isLoading:b,children:"Yes"})]})]})}),K&&d.jsx(kye,{isOpen:W,onClose:ot,onConfirm:pt,onCancel:ot,onMerge:St,locationCode:K.locationCode,shelfNumber:K.shelfNumber,existingProducts:K.existingProducts,newProductName:K.newProductName,newProductBarcode:K.newProductBarcode})]})},Cye=()=>{const{isDarkMode:e}=en(),{showToast:t}=au(),{user:r}=Na();Na();const[n,a]=U.useState(!1),[i,s]=U.useState([]),[o,l]=U.useState(""),[c,u]=U.useState(null),[f,h]=U.useState(""),[p,g]=U.useState(null),[m,v]=U.useState("all"),[y,b]=U.useState("all"),[w,O]=U.useState(!1),[C,I]=U.useState(!1),[T,S]=U.useState(null),A=async W=>{if(r)try{await kr(kt(et,"activityLogs"),{user:r.name,role:r.role,detail:W,time:new Date().toISOString()})}catch(P){console.error("Failed to log activity:",P)}},j=U.useCallback(async()=>{a(!0);try{const W=er(kt(et,"inventory"),La("name")),F=(await nr(W)).docs.map(q=>{const K=q.data();return{id:q.id,...K,lastUpdated:K.lastUpdated instanceof tr?K.lastUpdated.toDate():new Date(K.lastUpdated)}});s(F)}catch(W){console.error("Failed to fetch inventory",W),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=U.useCallback(async()=>{try{const W=kt(et,"inventory"),P=await sN(W);g(P.data().count)}catch{g(null)}},[]);U.useEffect(()=>{j(),E()},[j,E]),U.useEffect(()=>{const W=P=>{const F=P.target;F.closest(".damage-filter-dropdown")||O(!1),F.closest(".duplicate-filter-dropdown")||I(!1)};return(w||C)&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[w,C]);const k=U.useMemo(()=>{const W={};for(const P of i){const F=(P.name||"").trim().toLowerCase();if(!F)continue;const q=`${P.locationCode||""}-${P.shelfNumber||""}`.trim().toLowerCase();W[F]||(W[F]=new Set),W[F].add(q)}return W},[i]),V=((W,P)=>{const[F,q]=U.useState(W);return U.useEffect(()=>{const K=setTimeout(()=>q(W),P);return()=>clearTimeout(K)},[W,P]),F})(o,300),X=U.useMemo(()=>{const W=V.trim().toLowerCase();return i.filter(P=>{var B,Ee;const F=((B=P.name)==null?void 0:B.toLowerCase())||"",q=(P.asin||"").toLowerCase(),K=(P.barcode||"").toLowerCase(),Z=W?F.includes(W)||q.includes(W)||K.includes(W):!0,ce=m==="all"?!0:m==="damaged"?(P.damagedItems||0)>0:(P.damagedItems||0)<=0,de=(P.name||"").trim().toLowerCase(),he=(de&&((Ee=k[de])==null?void 0:Ee.size)||0)>1;return Z&&ce&&(y==="all"?!0:y==="duplicates"?he:!he)})},[i,V,m,y,k]),Y=U.useMemo(()=>V.trim()?X.reduce((W,P)=>W+(P.quantity||0),0):0,[X,V]),J=U.useMemo(()=>{var ae;const W=X.length;let P=0,F=0,q=0,K=0,Z=0;for(const he of X){(he.damagedItems||0)>0&&P++,he.status==="active"&&F++,he.status==="pending"&&q++,Number(he.price)>0&&K++;const Se=(he.name||"").trim().toLowerCase();(Se&&((ae=k[Se])==null?void 0:ae.size)||0)>1&&Z++}const ce=W-Z,de=W-K;return{total:W,damaged:P,duplicates:Z,unique:ce,active:F,pending:q,priceSet:K,noPrice:de}},[X,k]),H=W=>{u(W.id),h(W.price!=null?String(W.price):"")},z=()=>{u(null),h("")},ee=async W=>{const P=Number(f);if(Number.isNaN(P)||P<0){t("Enter a valid non-negative price","error");return}a(!0);try{const F=new Date,q=Pr(et,"inventory",W.id);await na(q,{price:P,lastUpdated:tr.fromDate(F)}),await A(`updated price for ${W.name} (barcode: ${W.barcode}) from £${W.price||0} to £${P.toFixed(2)}`),s(K=>K.map(Z=>Z.id===W.id?{...Z,price:P,lastUpdated:F}:Z)),t("Price updated","success"),u(null),h("")}catch(F){console.error("Failed to update price",F),t("Failed to update price","error")}finally{a(!1)}};return d.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[d.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:d.jsx("span",{className:"animate-pulse",children:"..."})]}),d.jsxs(ct,{variant:"secondary",onClick:()=>{j(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[d.jsx(ji,{size:14,className:n?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[V.trim()?d.jsx(oi,{title:"Total Quantity",value:Y,icon:d.jsx(tp,{size:20,className:"text-blue-600"})}):d.jsx(oi,{title:"Products",value:J.total,icon:d.jsx(tp,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"Damaged",value:J.damaged,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"Duplicates",value:J.duplicates,icon:d.jsx(hZ,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"Unique",value:J.unique,icon:d.jsx(P4,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[d.jsx(oi,{title:"Active",value:J.active,icon:d.jsx(P4,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"Pending",value:J.pending,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"With Price",value:J.priceSet,icon:d.jsx(z2,{size:20,className:"text-blue-600"})}),d.jsx(oi,{title:"No Price",value:J.noPrice,icon:d.jsx(z2,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:W=>l(W.target.value),className:"pl-10 text-sm sm:text-base"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>O(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),d.jsx(Nf,{size:16})]}),w&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),O(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),O(!1)},children:"Damaged"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),O(!1)},children:"Not Damaged"})]})})]}),d.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>I(!C),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),d.jsx(Nf,{size:16})]}),C&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),I(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),I(!1)},children:"Duplicates Only"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),I(!1)},children:"Unique Only"})]})})]})]})]}),n?d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[d.jsx(ws,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):X.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),d.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:X.map(W=>d.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:W.asin?W.asin.split(",").length>3?W.asin.split(",").slice(0,3).map(P=>P.trim()).join(", ")+"...":W.asin.split(",").map(P=>P.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===W.id?d.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:P=>P.stopPropagation(),children:[d.jsx(Nt,{type:"number",step:"0.01",value:f,onChange:P=>h(P.target.value),className:"w-28 text-right"}),d.jsx(ct,{size:"sm",onClick:()=>ee(W),isLoading:n,children:d.jsx(yO,{size:14})}),d.jsx(ct,{size:"sm",variant:"secondary",onClick:z,disabled:n,children:d.jsx(xv,{size:14})})]}):d.jsx("button",{onClick:P=>{P.stopPropagation(),H(W)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:W.quantity}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:W.barcode||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:d.jsx("button",{onClick:()=>S(W),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:d.jsx(O4,{size:16})})})]},W.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-3",children:X.map(W=>{var P;return d.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:((P=W.asin)==null?void 0:P.split(",")[0])||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",d.jsx("span",{className:"font-medium",children:W.barcode||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",d.jsx("span",{className:"font-medium",children:W.quantity})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"No price"}),d.jsxs("div",{className:"flex gap-1",children:[c===W.id?d.jsxs(d.Fragment,{children:[d.jsx(ct,{size:"sm",onClick:()=>ee(W),isLoading:n,children:d.jsx(yO,{size:12})}),d.jsx(ct,{size:"sm",variant:"secondary",onClick:F=>{F.stopPropagation(),z()},disabled:n,children:d.jsx(xv,{size:12})})]}):d.jsx(ct,{size:"sm",variant:"secondary",onClick:F=>{F.stopPropagation(),H(W)},children:d.jsx(Ws,{size:12})}),d.jsx(ct,{size:"sm",variant:"secondary",onClick:()=>S(W),children:d.jsx(O4,{size:12})})]})]})]}),c===W.id&&d.jsx("div",{className:"mt-1",children:d.jsx(Nt,{type:"number",step:"0.01",value:f,onChange:F=>h(F.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},W.id)})})]}):d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&d.jsx(gC,{isOpen:!!T,onClose:()=>S(null),item:T})]})},vC=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=en(),[o,l]=U.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${Qt(e,"MMM d, yyyy")} - ${Qt(t,"MMM d, yyyy")}`:e?`From ${Qt(e,"MMM d, yyyy")}`:t?`To ${Qt(t,"MMM d, yyyy")}`:"Select date range";return d.jsxs("div",{className:`relative ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(dZ,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&d.jsx("span",{onClick:p=>{p.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f())},children:d.jsx(xv,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:e?Qt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:t?Qt(t,"yyyy-MM-dd"):"",onChange:u,min:e?Qt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},bx=["supply & serve","APHY","AZTEC","ZK","Fahiz"],Pye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=U.useState(""),[s,o]=U.useState("stock sold"),[l,c]=U.useState(""),[u,f]=U.useState(e.storeName||bx[0]||""),[h,p]=U.useState(""),[g,m]=U.useState([]),[v,y]=U.useState(""),[b,w]=U.useState(!1),{isDarkMode:O}=en(),I=[...bx.includes(e.storeName)?bx:[e.storeName,...bx],"other"];U.useEffect(()=>{(async()=>{w(!0);try{let k=er(kt(et,"inventory"),Jt("barcode","==",e.barcode)),D=await nr(k);if(D.empty&&e.barcode){const Y=String(e.barcode).trim();k=er(kt(et,"inventory"),Jt("barcode","==",Y)),D=await nr(k)}D.empty&&e.name&&(k=er(kt(et,"inventory"),Jt("name","==",e.name)),D=await nr(k));const V=[];D.docs.forEach(Y=>{const J=Y.data();J.locationCode&&J.shelfNumber&&V.push({locationCode:J.locationCode,shelfNumber:J.shelfNumber,quantity:J.quantity||0})});const X=V.filter((Y,J,H)=>J===H.findIndex(z=>z.locationCode===Y.locationCode&&z.shelfNumber===Y.shelfNumber)).sort((Y,J)=>Y.locationCode.localeCompare(J.locationCode));m(X),X.length>0&&y(`${X[0].locationCode}-${X[0].shelfNumber}`)}catch(k){console.error("Error fetching locations:",k)}finally{w(!1)}})()},[e.barcode]);const T=async E=>{E.preventDefault();const k=Number(a);if(!a||k<0)return;const D=S();if(k>D||!v)return;const V=s==="other"?l:s,X=u==="other"?h.trim():u.trim(),[Y,J]=v.split("-");await t({id:e.id,quantity:e.quantity-k,reason:V,storeName:X,locationCode:Y,shelfNumber:J})},S=()=>{if(!v)return e.quantity;const[E,k]=v.split("-"),D=g.find(V=>V.locationCode===E&&V.shelfNumber===k);return D?D.quantity:e.quantity},j=(()=>{const E=Number(a);if(!a||E<0)return"Quantity to deduct must be 0 or greater";const k=S();return E>k?`Cannot deduct more than current stock at selected location (${k} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":!u.trim()||u==="other"&&!h.trim()?"Please select or enter the store name":v?null:"Please select a location":"Please select a reason"})();return d.jsxs("form",{onSubmit:T,className:`space-y-6 ${O?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${O?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:e.name}),d.jsx("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:v&&d.jsxs("span",{className:` ${O?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",S()," units"]})}),d.jsxs("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),b?d.jsxs("div",{className:`flex items-center gap-2 text-sm ${O?"text-slate-400":"text-slate-500"}`,children:[d.jsx(ws,{size:16,className:"animate-spin"}),"Loading locations..."]}):g.length>0?d.jsx(Vr,{id:"location",value:v,onChange:E=>y(E.target.value),required:!0,options:[{value:"",label:"Select a location"},...g.map(E=>({value:`${E.locationCode}-${E.shelfNumber}`,label:`${E.locationCode} - Shelf ${E.shelfNumber} (${E.quantity} units)${E.quantity===0?" - Out of Stock":""}`}))],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`}):d.jsx("div",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Nt,{id:"deductQuantity",type:"number",min:"0",max:S(),value:a,onChange:E=>i(E.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`}),v&&d.jsxs("p",{className:`text-xs ${O?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",S()," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(Vr,{id:"reason",value:s,onChange:E=>o(E.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Nt,{id:"otherReason",type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Enter the reason",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(Vr,{id:"storeName",value:u,onChange:E=>f(E.target.value),options:I.map(E=>({value:E,label:E==="other"?"Other":E})),required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`}),u==="other"&&d.jsx(Nt,{id:"otherStoreName",type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Enter store name",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${j?"border-red-500 focus:border-red-500":""}`})]}),j?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${O?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:j})]}):d.jsx("p",{className:`text-xs ${O?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),d.jsx(ct,{type:"submit",disabled:n||!!j,className:"min-w-[100px]",children:n?d.jsxs(d.Fragment,{children:[d.jsx(ws,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Oye=({isOpen:e,onClose:t})=>{const[r,n]=U.useState("0"),[a,i]=U.useState(null),[s,o]=U.useState(null),[l,c]=U.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const O=g(a||0,b,s);n(String(O)),i(O)}c(!0),o(y)},g=(y,b,w)=>{switch(w){case"+":return y+b;case"-":return y-b;case"×":return y*b;case"÷":return y/b;default:return b}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),b=g(a,y,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return d.jsx(Sn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[d.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&d.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,b)=>d.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},b))}),d.jsx("div",{className:"pt-2",children:d.jsx(ct,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function jq(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jq(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jq(e))&&(n&&(n+=" "),n+=t);return n}var Iye=Array.isArray,Cs=Iye,jye=typeof Zm=="object"&&Zm&&Zm.Object===Object&&Zm,Dq=jye,Dye=Dq,Lye=typeof self=="object"&&self&&self.Object===Object&&self,Mye=Dye||Lye||Function("return this")(),ec=Mye,Rye=ec,Fye=Rye.Symbol,ny=Fye,c8=ny,Lq=Object.prototype,$ye=Lq.hasOwnProperty,Bye=Lq.toString,Um=c8?c8.toStringTag:void 0;function Uye(e){var t=$ye.call(e,Um),r=e[Um];try{e[Um]=void 0;var n=!0}catch{}var a=Bye.call(e);return n&&(t?e[Um]=r:delete e[Um]),a}var Vye=Uye,zye=Object.prototype,qye=zye.toString;function Wye(e){return qye.call(e)}var Hye=Wye,u8=ny,Gye=Vye,Kye=Hye,Yye="[object Null]",Xye="[object Undefined]",f8=u8?u8.toStringTag:void 0;function Qye(e){return e==null?e===void 0?Xye:Yye:f8&&f8 in Object(e)?Gye(e):Kye(e)}var su=Qye;function Jye(e){return e!=null&&typeof e=="object"}var ou=Jye,Zye=su,exe=ou,txe="[object Symbol]";function rxe(e){return typeof e=="symbol"||exe(e)&&Zye(e)==txe}var em=rxe,nxe=Cs,axe=em,ixe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sxe=/^\w*$/;function oxe(e,t){if(nxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||axe(e)?!0:sxe.test(e)||!ixe.test(e)||t!=null&&e in Object(t)}var yC=oxe;function lxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gf=lxe;const tm=yn(Gf);var cxe=su,uxe=Gf,fxe="[object AsyncFunction]",dxe="[object Function]",hxe="[object GeneratorFunction]",pxe="[object Proxy]";function mxe(e){if(!uxe(e))return!1;var t=cxe(e);return t==dxe||t==hxe||t==fxe||t==pxe}var xC=mxe;const Nr=yn(xC);var gxe=ec,vxe=gxe["__core-js_shared__"],yxe=vxe,WS=yxe,d8=function(){var e=/[^.]+$/.exec(WS&&WS.keys&&WS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xxe(e){return!!d8&&d8 in e}var bxe=xxe,wxe=Function.prototype,_xe=wxe.toString;function Sxe(e){if(e!=null){try{return _xe.call(e)}catch{}try{return e+""}catch{}}return""}var Mq=Sxe,Axe=xC,Txe=bxe,Exe=Gf,kxe=Mq,Nxe=/[\\^$.*+?()[\]{}|]/g,Cxe=/^\[object .+?Constructor\]$/,Pxe=Function.prototype,Oxe=Object.prototype,Ixe=Pxe.toString,jxe=Oxe.hasOwnProperty,Dxe=RegExp("^"+Ixe.call(jxe).replace(Nxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lxe(e){if(!Exe(e)||Txe(e))return!1;var t=Axe(e)?Dxe:Cxe;return t.test(kxe(e))}var Mxe=Lxe;function Rxe(e,t){return e==null?void 0:e[t]}var Fxe=Rxe,$xe=Mxe,Bxe=Fxe;function Uxe(e,t){var r=Bxe(e,t);return $xe(r)?r:void 0}var bh=Uxe,Vxe=bh,zxe=Vxe(Object,"create"),A5=zxe,h8=A5;function qxe(){this.__data__=h8?h8(null):{},this.size=0}var Wxe=qxe;function Hxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gxe=Hxe,Kxe=A5,Yxe="__lodash_hash_undefined__",Xxe=Object.prototype,Qxe=Xxe.hasOwnProperty;function Jxe(e){var t=this.__data__;if(Kxe){var r=t[e];return r===Yxe?void 0:r}return Qxe.call(t,e)?t[e]:void 0}var Zxe=Jxe,e2e=A5,t2e=Object.prototype,r2e=t2e.hasOwnProperty;function n2e(e){var t=this.__data__;return e2e?t[e]!==void 0:r2e.call(t,e)}var a2e=n2e,i2e=A5,s2e="__lodash_hash_undefined__";function o2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i2e&&t===void 0?s2e:t,this}var l2e=o2e,c2e=Wxe,u2e=Gxe,f2e=Zxe,d2e=a2e,h2e=l2e;function rm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rm.prototype.clear=c2e;rm.prototype.delete=u2e;rm.prototype.get=f2e;rm.prototype.has=d2e;rm.prototype.set=h2e;var p2e=rm;function m2e(){this.__data__=[],this.size=0}var g2e=m2e;function v2e(e,t){return e===t||e!==e&&t!==t}var bC=v2e,y2e=bC;function x2e(e,t){for(var r=e.length;r--;)if(y2e(e[r][0],t))return r;return-1}var T5=x2e,b2e=T5,w2e=Array.prototype,_2e=w2e.splice;function S2e(e){var t=this.__data__,r=b2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():_2e.call(t,r,1),--this.size,!0}var A2e=S2e,T2e=T5;function E2e(e){var t=this.__data__,r=T2e(t,e);return r<0?void 0:t[r][1]}var k2e=E2e,N2e=T5;function C2e(e){return N2e(this.__data__,e)>-1}var P2e=C2e,O2e=T5;function I2e(e,t){var r=this.__data__,n=O2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var j2e=I2e,D2e=g2e,L2e=A2e,M2e=k2e,R2e=P2e,F2e=j2e;function nm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nm.prototype.clear=D2e;nm.prototype.delete=L2e;nm.prototype.get=M2e;nm.prototype.has=R2e;nm.prototype.set=F2e;var E5=nm,$2e=bh,B2e=ec,U2e=$2e(B2e,"Map"),wC=U2e,p8=p2e,V2e=E5,z2e=wC;function q2e(){this.size=0,this.__data__={hash:new p8,map:new(z2e||V2e),string:new p8}}var W2e=q2e;function H2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var G2e=H2e,K2e=G2e;function Y2e(e,t){var r=e.__data__;return K2e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var k5=Y2e,X2e=k5;function Q2e(e){var t=X2e(this,e).delete(e);return this.size-=t?1:0,t}var J2e=Q2e,Z2e=k5;function ebe(e){return Z2e(this,e).get(e)}var tbe=ebe,rbe=k5;function nbe(e){return rbe(this,e).has(e)}var abe=nbe,ibe=k5;function sbe(e,t){var r=ibe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var obe=sbe,lbe=W2e,cbe=J2e,ube=tbe,fbe=abe,dbe=obe;function am(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}am.prototype.clear=lbe;am.prototype.delete=cbe;am.prototype.get=ube;am.prototype.has=fbe;am.prototype.set=dbe;var _C=am,Rq=_C,hbe="Expected a function";function SC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hbe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(SC.Cache||Rq),r}SC.Cache=Rq;var Fq=SC;const pbe=yn(Fq);var mbe=Fq,gbe=500;function vbe(e){var t=mbe(e,function(n){return r.size===gbe&&r.clear(),n}),r=t.cache;return t}var ybe=vbe,xbe=ybe,bbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wbe=/\\(\\)?/g,_be=xbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bbe,function(r,n,a,i){t.push(a?i.replace(wbe,"$1"):n||r)}),t}),Sbe=_be;function Abe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var AC=Abe,m8=ny,Tbe=AC,Ebe=Cs,kbe=em,Nbe=1/0,g8=m8?m8.prototype:void 0,v8=g8?g8.toString:void 0;function $q(e){if(typeof e=="string")return e;if(Ebe(e))return Tbe(e,$q)+"";if(kbe(e))return v8?v8.call(e):"";var t=e+"";return t=="0"&&1/e==-Nbe?"-0":t}var Cbe=$q,Pbe=Cbe;function Obe(e){return e==null?"":Pbe(e)}var Bq=Obe,Ibe=Cs,jbe=yC,Dbe=Sbe,Lbe=Bq;function Mbe(e,t){return Ibe(e)?e:jbe(e,t)?[e]:Dbe(Lbe(e))}var Uq=Mbe,Rbe=em,Fbe=1/0;function $be(e){if(typeof e=="string"||Rbe(e))return e;var t=e+"";return t=="0"&&1/e==-Fbe?"-0":t}var N5=$be,Bbe=Uq,Ube=N5;function Vbe(e,t){t=Bbe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ube(t[r++])];return r&&r==n?e:void 0}var TC=Vbe,zbe=TC;function qbe(e,t,r){var n=e==null?void 0:zbe(e,t);return n===void 0?r:n}var Vq=qbe;const So=yn(Vq);function Wbe(e){return e==null}var Hbe=Wbe;const Mr=yn(Hbe);var Gbe=su,Kbe=Cs,Ybe=ou,Xbe="[object String]";function Qbe(e){return typeof e=="string"||!Kbe(e)&&Ybe(e)&&Gbe(e)==Xbe}var Jbe=Qbe;const ah=yn(Jbe);var zq={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=Symbol.for("react.element"),kC=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),P5=Symbol.for("react.strict_mode"),O5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),Zbe=Symbol.for("react.server_context"),D5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),M5=Symbol.for("react.suspense_list"),R5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),ewe=Symbol.for("react.offscreen"),qq;qq=Symbol.for("react.module.reference");function Oo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case EC:switch(e=e.type,e){case C5:case O5:case P5:case L5:case M5:return e;default:switch(e=e&&e.$$typeof,e){case Zbe:case j5:case D5:case F5:case R5:case I5:return e;default:return t}}case kC:return t}}}pn.ContextConsumer=j5;pn.ContextProvider=I5;pn.Element=EC;pn.ForwardRef=D5;pn.Fragment=C5;pn.Lazy=F5;pn.Memo=R5;pn.Portal=kC;pn.Profiler=O5;pn.StrictMode=P5;pn.Suspense=L5;pn.SuspenseList=M5;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(e){return Oo(e)===j5};pn.isContextProvider=function(e){return Oo(e)===I5};pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===EC};pn.isForwardRef=function(e){return Oo(e)===D5};pn.isFragment=function(e){return Oo(e)===C5};pn.isLazy=function(e){return Oo(e)===F5};pn.isMemo=function(e){return Oo(e)===R5};pn.isPortal=function(e){return Oo(e)===kC};pn.isProfiler=function(e){return Oo(e)===O5};pn.isStrictMode=function(e){return Oo(e)===P5};pn.isSuspense=function(e){return Oo(e)===L5};pn.isSuspenseList=function(e){return Oo(e)===M5};pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C5||e===O5||e===P5||e===L5||e===M5||e===ewe||typeof e=="object"&&e!==null&&(e.$$typeof===F5||e.$$typeof===R5||e.$$typeof===I5||e.$$typeof===j5||e.$$typeof===D5||e.$$typeof===qq||e.getModuleId!==void 0)};pn.typeOf=Oo;zq.exports=pn;var twe=zq.exports,rwe=su,nwe=ou,awe="[object Number]";function iwe(e){return typeof e=="number"||nwe(e)&&rwe(e)==awe}var Wq=iwe;const swe=yn(Wq);var owe=Wq;function lwe(e){return owe(e)&&e!=+e}var cwe=lwe;const ay=yn(cwe);var ll=function(t){return t===0?0:t>0?1:-1},jd=function(t){return ah(t)&&t.indexOf("%")===t.length-1},Rt=function(t){return swe(t)&&!ay(t)},Ra=function(t){return Rt(t)||ah(t)},uwe=0,iy=function(t){var r=++uwe;return"".concat(t||"").concat(r)},ih=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt(t)&&!ah(t))return n;var i;if(jd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ay(i)&&(i=n),a&&i>r&&(i=r),i},Xu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},fwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},nl=function(t,r){return Rt(t)&&Rt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Eb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):So(n,t))===r})}var dwe=function(t,r){return Rt(t)&&Rt(r)?t-r:ah(t)&&ah(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function F0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function DT(e){"@babel/helpers - typeof";return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DT(e)}var hwe=["viewBox","children"],pwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y8=["points","pathLength"],HS={svg:hwe,polygon:y8,polyline:y8},NC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(U.isValidElement(t)&&(n=t.props),!tm(n))return null;var a={};return Object.keys(n).forEach(function(i){NC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},mwe=function(t,r,n){return function(a){return t(r,n,a),null}},Nb=function(t,r,n){if(!tm(t)||DT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];NC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=mwe(s,r,n))}),a},gwe=["children"],vwe=["children"];function x8(e,t){if(e==null)return{};var r=ywe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LT(e){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LT(e)}var b8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ic=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},w8=null,GS=null,CC=function e(t){if(t===w8&&Array.isArray(GS))return GS;var r=[];return U.Children.forEach(t,function(n){Mr(n)||(twe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),GS=r,w8=t,r};function Ao(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ic(a)}):n=[Ic(t)],CC(e).forEach(function(a){var i=So(a,"type.displayName")||So(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Bs(e,t){var r=Ao(e,t);return r&&r[0]}var _8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Rt(n)||n<=0||!Rt(a)||a<=0)},xwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bwe=function(t){return t&&t.type&&ah(t.type)&&xwe.indexOf(t.type)>=0},wwe=function(t){return t&&LT(t)==="object"&&"clipDot"in t},_we=function(t,r,n,a){var i,s=(i=HS==null?void 0:HS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Nr(t)&&(a&&s.includes(r)||pwe.includes(r))||n&&NC.includes(r)},Fr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(U.isValidElement(t)&&(a=t.props),!tm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;_we((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},MT=function e(t,r){if(t===r)return!0;var n=U.Children.count(t);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return S8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!S8(i,s))return!1}return!0},S8=function(t,r){if(Mr(t)&&Mr(r))return!0;if(!Mr(t)&&!Mr(r)){var n=t.props||{},a=n.children,i=x8(n,gwe),s=r.props||{},o=s.children,l=x8(s,vwe);return a&&o?F0(i,l)&&MT(a,o):!a&&!o?F0(i,l):!1}return!1},A8=function(t,r){var n=[],a={};return CC(t).forEach(function(i,s){if(bwe(i))n.push(i);else if(i){var o=Ic(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},Swe=function(t){var r=t&&t.type;return r&&b8[r]?b8[r]:null},Awe=function(t,r){return CC(r).indexOf(t)},Twe=["children","width","height","viewBox","className","style","title","desc"];function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function Ewe(e,t){if(e==null)return{};var r=kwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Ewe(e,Twe),u=a||{width:r,height:n,x:0,y:0},f=Kr("recharts-surface",i);return Ie.createElement("svg",RT({},Fr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ie.createElement("title",null,o),Ie.createElement("desc",null,l),t)}var Nwe=["children","className"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function Cwe(e,t){if(e==null)return{};var r=Pwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var va=Ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=Cwe(e,Nwe),i=Kr("recharts-layer",n);return Ie.createElement("g",$T({className:i},Fr(a,!0),{ref:t}),r)}),jc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Owe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Iwe=Owe,jwe=Iwe;function Dwe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:jwe(e,t,r)}var Lwe=Dwe,Mwe="\\ud800-\\udfff",Rwe="\\u0300-\\u036f",Fwe="\\ufe20-\\ufe2f",$we="\\u20d0-\\u20ff",Bwe=Rwe+Fwe+$we,Uwe="\\ufe0e\\ufe0f",Vwe="\\u200d",zwe=RegExp("["+Vwe+Mwe+Bwe+Uwe+"]");function qwe(e){return zwe.test(e)}var Hq=qwe;function Wwe(e){return e.split("")}var Hwe=Wwe,Gq="\\ud800-\\udfff",Gwe="\\u0300-\\u036f",Kwe="\\ufe20-\\ufe2f",Ywe="\\u20d0-\\u20ff",Xwe=Gwe+Kwe+Ywe,Qwe="\\ufe0e\\ufe0f",Jwe="["+Gq+"]",BT="["+Xwe+"]",UT="\\ud83c[\\udffb-\\udfff]",Zwe="(?:"+BT+"|"+UT+")",Kq="[^"+Gq+"]",Yq="(?:\\ud83c[\\udde6-\\uddff]){2}",Xq="[\\ud800-\\udbff][\\udc00-\\udfff]",e5e="\\u200d",Qq=Zwe+"?",Jq="["+Qwe+"]?",t5e="(?:"+e5e+"(?:"+[Kq,Yq,Xq].join("|")+")"+Jq+Qq+")*",r5e=Jq+Qq+t5e,n5e="(?:"+[Kq+BT+"?",BT,Yq,Xq,Jwe].join("|")+")",a5e=RegExp(UT+"(?="+UT+")|"+n5e+r5e,"g");function i5e(e){return e.match(a5e)||[]}var s5e=i5e,o5e=Hwe,l5e=Hq,c5e=s5e;function u5e(e){return l5e(e)?c5e(e):o5e(e)}var f5e=u5e,d5e=Lwe,h5e=Hq,p5e=f5e,m5e=Bq;function g5e(e){return function(t){t=m5e(t);var r=h5e(t)?p5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?d5e(r,1).join(""):t.slice(1);return n[e]()+a}}var v5e=g5e,y5e=v5e,x5e=y5e("toUpperCase"),b5e=x5e;const $5=yn(b5e);function kn(e){return function(){return e}}const Zq=Math.cos,Cb=Math.sin,vl=Math.sqrt,Pb=Math.PI,B5=2*Pb,VT=Math.PI,zT=2*VT,bd=1e-6,w5e=zT-bd;function eW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class S5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eW:_5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bd)if(!(Math.abs(f*l-c*u)>bd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((VT-Math.acos((m+h-v)/(2*y*b)))/2),O=w/b,C=w/y;Math.abs(O-1)>bd&&this._append`L${t+O*u},${r+O*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+C*l},${this._y1=r+C*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bd||Math.abs(this._y1-u)>bd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%zT+zT),h>w5e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>bd&&this._append`A${n},${n},0,${+(h>=VT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function PC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S5e(t)}function OC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tW(e){this._context=e}tW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U5(e){return new tW(e)}function rW(e){return e[0]}function nW(e){return e[1]}function aW(e,t){var r=kn(!0),n=null,a=U5,i=null,s=PC(o);e=typeof e=="function"?e:e===void 0?rW:kn(e),t=typeof t=="function"?t:t===void 0?nW:kn(t);function o(l){var c,u=(l=OC(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:kn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:kn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:kn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function wx(e,t,r){var n=null,a=kn(!0),i=null,s=U5,o=null,l=PC(c);e=typeof e=="function"?e:e===void 0?rW:kn(+e),t=typeof t=="function"?t:kn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nW:kn(+r);function c(f){var h,p,g,m=(f=OC(f)).length,v,y=!1,b,w=new Array(m),O=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],O[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),O[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):O[h]))}if(b)return o=null,b+""||null}function u(){return aW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:kn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:kn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:kn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class iW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function A5e(e){return new iW(e,!0)}function T5e(e){return new iW(e,!1)}const IC={draw(e,t){const r=vl(t/Pb);e.moveTo(r,0),e.arc(0,0,r,0,B5)}},E5e={draw(e,t){const r=vl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sW=vl(1/3),k5e=sW*2,N5e={draw(e,t){const r=vl(t/k5e),n=r*sW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},C5e={draw(e,t){const r=vl(t),n=-r/2;e.rect(n,n,r,r)}},P5e=.8908130915292852,oW=Cb(Pb/10)/Cb(7*Pb/10),O5e=Cb(B5/10)*oW,I5e=-Zq(B5/10)*oW,j5e={draw(e,t){const r=vl(t*P5e),n=O5e*r,a=I5e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=B5*i/5,o=Zq(s),l=Cb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},KS=vl(3),D5e={draw(e,t){const r=-vl(t/(KS*3));e.moveTo(0,r*2),e.lineTo(-KS*r,-r),e.lineTo(KS*r,-r),e.closePath()}},uo=-.5,fo=vl(3)/2,qT=1/vl(12),L5e=(qT/2+1)*3,M5e={draw(e,t){const r=vl(t/L5e),n=r/2,a=r*qT,i=n,s=r*qT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(uo*n-fo*a,fo*n+uo*a),e.lineTo(uo*i-fo*s,fo*i+uo*s),e.lineTo(uo*o-fo*l,fo*o+uo*l),e.lineTo(uo*n+fo*a,uo*a-fo*n),e.lineTo(uo*i+fo*s,uo*s-fo*i),e.lineTo(uo*o+fo*l,uo*l-fo*o),e.closePath()}};function R5e(e,t){let r=null,n=PC(a);e=typeof e=="function"?e:kn(e||IC),t=typeof t=="function"?t:kn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:kn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:kn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ob(){}function Ib(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lW(e){this._context=e}lW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ib(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F5e(e){return new lW(e)}function cW(e){this._context=e}cW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5e(e){return new cW(e)}function uW(e){this._context=e}uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ib(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5e(e){return new uW(e)}function fW(e){this._context=e}fW.prototype={areaStart:Ob,areaEnd:Ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function U5e(e){return new fW(e)}function T8(e){return e<0?-1:1}function E8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(T8(i)+T8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function k8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function jb(e){this._context=e}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YS(this,this._t0,k8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YS(this,k8(this,r=E8(this,e,t)),r);break;default:YS(this,this._t0,r=E8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dW(e){this._context=new hW(e)}(dW.prototype=Object.create(jb.prototype)).point=function(e,t){jb.prototype.point.call(this,t,e)};function hW(e){this._context=e}hW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function V5e(e){return new jb(e)}function z5e(e){return new dW(e)}function pW(e){this._context=e}pW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N8(e),a=N8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function q5e(e){return new pW(e)}function V5(e,t){this._context=e,this._t=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function W5e(e){return new V5(e,.5)}function H5e(e){return new V5(e,0)}function G5e(e){return new V5(e,1)}function hp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function WT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function K5e(e,t){return e[t]}function Y5e(e){const t=[];return t.key=e,t}function X5e(){var e=kn([]),t=WT,r=hp,n=K5e;function a(i){var s=Array.from(e.apply(this,arguments),Y5e),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=OC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:kn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:kn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?WT:typeof i=="function"?i:kn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??hp,a):r},a}function Q5e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}hp(e,t)}}function J5e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hp(e,t)}}function Z5e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,hp(e,t)}}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}var e_e=["type","size","sizeType"];function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){t_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t_e(e,t,r){return t=r_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r_e(e){var t=n_e(e,"string");return Kv(t)=="symbol"?t:t+""}function n_e(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a_e(e,t){if(e==null)return{};var r=i_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mW={symbolCircle:IC,symbolCross:E5e,symbolDiamond:N5e,symbolSquare:C5e,symbolStar:j5e,symbolTriangle:D5e,symbolWye:M5e},s_e=Math.PI/180,o_e=function(t){var r="symbol".concat($5(t));return mW[r]||IC},l_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*s_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},c_e=function(t,r){mW["symbol".concat($5(t))]=r},jC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=a_e(t,e_e),c=P8(P8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=o_e(n),y=R5e().type(v).size(l_e(i,o,n));return y()},f=c.className,h=c.cx,p=c.cy,g=Fr(c,!0);return h===+h&&p===+p&&i===+i?Ie.createElement("path",HT({},g,{className:Kr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};jC.registerSymbol=c_e;function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vW(n.key),n)}}function h_e(e,t,r){return t&&d_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p_e(e,t,r){return t=Db(t),m_e(e,gW()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function m_e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_e(e)}function g_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function v_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KT(e,t)}function Yv(e,t,r){return t=vW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=y_e(e,"string");return pp(t)=="symbol"?t:t+""}function y_e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ho=32,DC=function(e){function t(){return f_e(this,t),p_e(this,t,arguments)}return v_e(t,e),h_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ho/2,s=ho/6,o=ho/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ie.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ho,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ie.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ho,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ie.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ho/8,"h").concat(ho,"v").concat(ho*3/4,"h").concat(-ho,"z"),className:"recharts-legend-icon"});if(Ie.isValidElement(n.legendIcon)){var c=u_e({},n);return delete c.legendIcon,Ie.cloneElement(n.legendIcon,c)}return Ie.createElement(jC,{fill:l,cx:i,cy:i,size:ho,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:ho,height:ho},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=Kr(Yv(Yv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Nr(p.value)?null:p.value;jc(!Nr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return Ie.createElement("li",GT({className:v,style:f,key:"legend-item-".concat(g)},Nb(n.props,p,g)),Ie.createElement(FT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ie.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(U.PureComponent);Yv(DC,"displayName","Legend");Yv(DC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x_e=E5;function b_e(){this.__data__=new x_e,this.size=0}var w_e=b_e;function __e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var S_e=__e;function A_e(e){return this.__data__.get(e)}var T_e=A_e;function E_e(e){return this.__data__.has(e)}var k_e=E_e,N_e=E5,C_e=wC,P_e=_C,O_e=200;function I_e(e,t){var r=this.__data__;if(r instanceof N_e){var n=r.__data__;if(!C_e||n.length<O_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new P_e(n)}return r.set(e,t),this.size=r.size,this}var j_e=I_e,D_e=E5,L_e=w_e,M_e=S_e,R_e=T_e,F_e=k_e,$_e=j_e;function im(e){var t=this.__data__=new D_e(e);this.size=t.size}im.prototype.clear=L_e;im.prototype.delete=M_e;im.prototype.get=R_e;im.prototype.has=F_e;im.prototype.set=$_e;var yW=im,B_e="__lodash_hash_undefined__";function U_e(e){return this.__data__.set(e,B_e),this}var V_e=U_e;function z_e(e){return this.__data__.has(e)}var q_e=z_e,W_e=_C,H_e=V_e,G_e=q_e;function Lb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new W_e;++t<r;)this.add(e[t])}Lb.prototype.add=Lb.prototype.push=H_e;Lb.prototype.has=G_e;var xW=Lb;function K_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var bW=K_e;function Y_e(e,t){return e.has(t)}var wW=Y_e,X_e=xW,Q_e=bW,J_e=wW,Z_e=1,eSe=2;function tSe(e,t,r,n,a,i){var s=r&Z_e,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&eSe?new X_e:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Q_e(t,function(y,b){if(!J_e(p,b)&&(g===y||a(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var _W=tSe,rSe=ec,nSe=rSe.Uint8Array,aSe=nSe;function iSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var sSe=iSe;function oSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var LC=oSe,I8=ny,j8=aSe,lSe=bC,cSe=_W,uSe=sSe,fSe=LC,dSe=1,hSe=2,pSe="[object Boolean]",mSe="[object Date]",gSe="[object Error]",vSe="[object Map]",ySe="[object Number]",xSe="[object RegExp]",bSe="[object Set]",wSe="[object String]",_Se="[object Symbol]",SSe="[object ArrayBuffer]",ASe="[object DataView]",D8=I8?I8.prototype:void 0,XS=D8?D8.valueOf:void 0;function TSe(e,t,r,n,a,i,s){switch(r){case ASe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case SSe:return!(e.byteLength!=t.byteLength||!i(new j8(e),new j8(t)));case pSe:case mSe:case ySe:return lSe(+e,+t);case gSe:return e.name==t.name&&e.message==t.message;case xSe:case wSe:return e==t+"";case vSe:var o=uSe;case bSe:var l=n&dSe;if(o||(o=fSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=hSe,s.set(e,t);var u=cSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case _Se:if(XS)return XS.call(e)==XS.call(t)}return!1}var ESe=TSe;function kSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var SW=kSe,NSe=SW,CSe=Cs;function PSe(e,t,r){var n=t(e);return CSe(e)?n:NSe(n,r(e))}var OSe=PSe;function ISe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var jSe=ISe;function DSe(){return[]}var LSe=DSe,MSe=jSe,RSe=LSe,FSe=Object.prototype,$Se=FSe.propertyIsEnumerable,L8=Object.getOwnPropertySymbols,BSe=L8?function(e){return e==null?[]:(e=Object(e),MSe(L8(e),function(t){return $Se.call(e,t)}))}:RSe,USe=BSe;function VSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var zSe=VSe,qSe=su,WSe=ou,HSe="[object Arguments]";function GSe(e){return WSe(e)&&qSe(e)==HSe}var KSe=GSe,M8=KSe,YSe=ou,AW=Object.prototype,XSe=AW.hasOwnProperty,QSe=AW.propertyIsEnumerable,JSe=M8(function(){return arguments}())?M8:function(e){return YSe(e)&&XSe.call(e,"callee")&&!QSe.call(e,"callee")},MC=JSe,Mb={exports:{}};function ZSe(){return!1}var eAe=ZSe;Mb.exports;(function(e,t){var r=ec,n=eAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Mb,Mb.exports);var TW=Mb.exports,tAe=9007199254740991,rAe=/^(?:0|[1-9]\d*)$/;function nAe(e,t){var r=typeof e;return t=t??tAe,!!t&&(r=="number"||r!="symbol"&&rAe.test(e))&&e>-1&&e%1==0&&e<t}var RC=nAe,aAe=9007199254740991;function iAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aAe}var FC=iAe,sAe=su,oAe=FC,lAe=ou,cAe="[object Arguments]",uAe="[object Array]",fAe="[object Boolean]",dAe="[object Date]",hAe="[object Error]",pAe="[object Function]",mAe="[object Map]",gAe="[object Number]",vAe="[object Object]",yAe="[object RegExp]",xAe="[object Set]",bAe="[object String]",wAe="[object WeakMap]",_Ae="[object ArrayBuffer]",SAe="[object DataView]",AAe="[object Float32Array]",TAe="[object Float64Array]",EAe="[object Int8Array]",kAe="[object Int16Array]",NAe="[object Int32Array]",CAe="[object Uint8Array]",PAe="[object Uint8ClampedArray]",OAe="[object Uint16Array]",IAe="[object Uint32Array]",jn={};jn[AAe]=jn[TAe]=jn[EAe]=jn[kAe]=jn[NAe]=jn[CAe]=jn[PAe]=jn[OAe]=jn[IAe]=!0;jn[cAe]=jn[uAe]=jn[_Ae]=jn[fAe]=jn[SAe]=jn[dAe]=jn[hAe]=jn[pAe]=jn[mAe]=jn[gAe]=jn[vAe]=jn[yAe]=jn[xAe]=jn[bAe]=jn[wAe]=!1;function jAe(e){return lAe(e)&&oAe(e.length)&&!!jn[sAe(e)]}var DAe=jAe;function LAe(e){return function(t){return e(t)}}var EW=LAe,Rb={exports:{}};Rb.exports;(function(e,t){var r=Dq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Rb,Rb.exports);var MAe=Rb.exports,RAe=DAe,FAe=EW,R8=MAe,F8=R8&&R8.isTypedArray,$Ae=F8?FAe(F8):RAe,kW=$Ae,BAe=zSe,UAe=MC,VAe=Cs,zAe=TW,qAe=RC,WAe=kW,HAe=Object.prototype,GAe=HAe.hasOwnProperty;function KAe(e,t){var r=VAe(e),n=!r&&UAe(e),a=!r&&!n&&zAe(e),i=!r&&!n&&!a&&WAe(e),s=r||n||a||i,o=s?BAe(e.length,String):[],l=o.length;for(var c in e)(t||GAe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qAe(c,l)))&&o.push(c);return o}var YAe=KAe,XAe=Object.prototype;function QAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||XAe;return e===r}var JAe=QAe;function ZAe(e,t){return function(r){return e(t(r))}}var NW=ZAe,e4e=NW,t4e=e4e(Object.keys,Object),r4e=t4e,n4e=JAe,a4e=r4e,i4e=Object.prototype,s4e=i4e.hasOwnProperty;function o4e(e){if(!n4e(e))return a4e(e);var t=[];for(var r in Object(e))s4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var l4e=o4e,c4e=xC,u4e=FC;function f4e(e){return e!=null&&u4e(e.length)&&!c4e(e)}var sy=f4e,d4e=YAe,h4e=l4e,p4e=sy;function m4e(e){return p4e(e)?d4e(e):h4e(e)}var z5=m4e,g4e=OSe,v4e=USe,y4e=z5;function x4e(e){return g4e(e,y4e,v4e)}var b4e=x4e,$8=b4e,w4e=1,_4e=Object.prototype,S4e=_4e.hasOwnProperty;function A4e(e,t,r,n,a,i){var s=r&w4e,o=$8(e),l=o.length,c=$8(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:S4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var w=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||a(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var O=e.constructor,C=t.constructor;O!=C&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof C=="function"&&C instanceof C)&&(m=!1)}return i.delete(e),i.delete(t),m}var T4e=A4e,E4e=bh,k4e=ec,N4e=E4e(k4e,"DataView"),C4e=N4e,P4e=bh,O4e=ec,I4e=P4e(O4e,"Promise"),j4e=I4e,D4e=bh,L4e=ec,M4e=D4e(L4e,"Set"),CW=M4e,R4e=bh,F4e=ec,$4e=R4e(F4e,"WeakMap"),B4e=$4e,YT=C4e,XT=wC,QT=j4e,JT=CW,ZT=B4e,PW=su,sm=Mq,B8="[object Map]",U4e="[object Object]",U8="[object Promise]",V8="[object Set]",z8="[object WeakMap]",q8="[object DataView]",V4e=sm(YT),z4e=sm(XT),q4e=sm(QT),W4e=sm(JT),H4e=sm(ZT),wd=PW;(YT&&wd(new YT(new ArrayBuffer(1)))!=q8||XT&&wd(new XT)!=B8||QT&&wd(QT.resolve())!=U8||JT&&wd(new JT)!=V8||ZT&&wd(new ZT)!=z8)&&(wd=function(e){var t=PW(e),r=t==U4e?e.constructor:void 0,n=r?sm(r):"";if(n)switch(n){case V4e:return q8;case z4e:return B8;case q4e:return U8;case W4e:return V8;case H4e:return z8}return t});var G4e=wd,QS=yW,K4e=_W,Y4e=ESe,X4e=T4e,W8=G4e,H8=Cs,G8=TW,Q4e=kW,J4e=1,K8="[object Arguments]",Y8="[object Array]",_x="[object Object]",Z4e=Object.prototype,X8=Z4e.hasOwnProperty;function eTe(e,t,r,n,a,i){var s=H8(e),o=H8(t),l=s?Y8:W8(e),c=o?Y8:W8(t);l=l==K8?_x:l,c=c==K8?_x:c;var u=l==_x,f=c==_x,h=l==c;if(h&&G8(e)){if(!G8(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new QS),s||Q4e(e)?K4e(e,t,r,n,a,i):Y4e(e,t,l,r,n,a,i);if(!(r&J4e)){var p=u&&X8.call(e,"__wrapped__"),g=f&&X8.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new QS),a(m,v,r,n,i)}}return h?(i||(i=new QS),X4e(e,t,r,n,a,i)):!1}var tTe=eTe,rTe=tTe,Q8=ou;function OW(e,t,r,n,a){return e===t?!0:e==null||t==null||!Q8(e)&&!Q8(t)?e!==e&&t!==t:rTe(e,t,r,n,OW,a)}var $C=OW,nTe=yW,aTe=$C,iTe=1,sTe=2;function oTe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new nTe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?aTe(u,c,iTe|sTe,n,f):h))return!1}}return!0}var lTe=oTe,cTe=Gf;function uTe(e){return e===e&&!cTe(e)}var IW=uTe,fTe=IW,dTe=z5;function hTe(e){for(var t=dTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,fTe(a)]}return t}var pTe=hTe;function mTe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jW=mTe,gTe=lTe,vTe=pTe,yTe=jW;function xTe(e){var t=vTe(e);return t.length==1&&t[0][2]?yTe(t[0][0],t[0][1]):function(r){return r===e||gTe(r,e,t)}}var bTe=xTe;function wTe(e,t){return e!=null&&t in Object(e)}var _Te=wTe,STe=Uq,ATe=MC,TTe=Cs,ETe=RC,kTe=FC,NTe=N5;function CTe(e,t,r){t=STe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=NTe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&kTe(a)&&ETe(s,a)&&(TTe(e)||ATe(e)))}var PTe=CTe,OTe=_Te,ITe=PTe;function jTe(e,t){return e!=null&&ITe(e,t,OTe)}var DTe=jTe,LTe=$C,MTe=Vq,RTe=DTe,FTe=yC,$Te=IW,BTe=jW,UTe=N5,VTe=1,zTe=2;function qTe(e,t){return FTe(e)&&$Te(t)?BTe(UTe(e),t):function(r){var n=MTe(r,e);return n===void 0&&n===t?RTe(r,e):LTe(t,n,VTe|zTe)}}var WTe=qTe;function HTe(e){return e}var om=HTe;function GTe(e){return function(t){return t==null?void 0:t[e]}}var KTe=GTe,YTe=TC;function XTe(e){return function(t){return YTe(t,e)}}var QTe=XTe,JTe=KTe,ZTe=QTe,eEe=yC,tEe=N5;function rEe(e){return eEe(e)?JTe(tEe(e)):ZTe(e)}var nEe=rEe,aEe=bTe,iEe=WTe,sEe=om,oEe=Cs,lEe=nEe;function cEe(e){return typeof e=="function"?e:e==null?sEe:typeof e=="object"?oEe(e)?iEe(e[0],e[1]):aEe(e):lEe(e)}var Kf=cEe;function uEe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var DW=uEe;function fEe(e){return e!==e}var dEe=fEe;function hEe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var pEe=hEe,mEe=DW,gEe=dEe,vEe=pEe;function yEe(e,t,r){return t===t?vEe(e,t,r):mEe(e,gEe,r)}var xEe=yEe,bEe=xEe;function wEe(e,t){var r=e==null?0:e.length;return!!r&&bEe(e,t,0)>-1}var _Ee=wEe;function SEe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var AEe=SEe;function TEe(){}var EEe=TEe,JS=CW,kEe=EEe,NEe=LC,CEe=1/0,PEe=JS&&1/NEe(new JS([,-0]))[1]==CEe?function(e){return new JS(e)}:kEe,OEe=PEe,IEe=xW,jEe=_Ee,DEe=AEe,LEe=wW,MEe=OEe,REe=LC,FEe=200;function $Ee(e,t,r){var n=-1,a=jEe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=DEe;else if(i>=FEe){var c=t?null:MEe(e);if(c)return REe(c);s=!1,a=LEe,l=new IEe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var BEe=$Ee,UEe=Kf,VEe=BEe;function zEe(e,t){return e&&e.length?VEe(e,UEe(t)):[]}var qEe=zEe;const J8=yn(qEe);function LW(e,t,r){return t===!0?J8(e,r):Nr(t)?J8(e,t):e}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var WEe=["ref"];function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(n){q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RW(n.key),n)}}function GEe(e,t,r){return t&&eL(e.prototype,t),r&&eL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KEe(e,t,r){return t=Fb(t),YEe(e,MW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function YEe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(e)}function XEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eE(e,t)}function q5(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=JEe(e,"string");return mp(t)=="symbol"?t:t+""}function JEe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZEe(e,t){if(e==null)return{};var r=e3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t3e(e){return e.value}function r3e(e,t){if(Ie.isValidElement(e))return Ie.cloneElement(e,t);if(typeof e=="function")return Ie.createElement(e,t);t.ref;var r=ZEe(t,WEe);return Ie.createElement(DC,r)}var tL=1,hl=function(e){function t(){var r;HEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=KEe(this,t,[].concat(a)),q5(r,"lastBoundingBox",{width:-1,height:-1}),r}return QEe(t,e),GEe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>tL||Math.abs(a.height-this.lastBoundingBox.height)>tL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return gc(gc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=gc(gc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},r3e(i,gc(gc({},this.props),{},{payload:LW(u,c,t3e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=gc(gc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Rt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(U.PureComponent);q5(hl,"displayName","Legend");q5(hl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rL=ny,n3e=MC,a3e=Cs,nL=rL?rL.isConcatSpreadable:void 0;function i3e(e){return a3e(e)||n3e(e)||!!(nL&&e&&e[nL])}var s3e=i3e,o3e=SW,l3e=s3e;function FW(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=l3e),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?FW(o,t-1,r,n,a):o3e(a,o):n||(a[a.length]=o)}return a}var $W=FW;function c3e(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var u3e=c3e,f3e=u3e,d3e=f3e(),h3e=d3e,p3e=h3e,m3e=z5;function g3e(e,t){return e&&p3e(e,t,m3e)}var BW=g3e,v3e=sy;function y3e(e,t){return function(r,n){if(r==null)return r;if(!v3e(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var x3e=y3e,b3e=BW,w3e=x3e,_3e=w3e(b3e),BC=_3e,S3e=BC,A3e=sy;function T3e(e,t){var r=-1,n=A3e(e)?Array(e.length):[];return S3e(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var UW=T3e;function E3e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var k3e=E3e,aL=em;function N3e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=aL(e),s=t!==void 0,o=t===null,l=t===t,c=aL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var C3e=N3e,P3e=C3e;function O3e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=P3e(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var I3e=O3e,ZS=AC,j3e=TC,D3e=Kf,L3e=UW,M3e=k3e,R3e=EW,F3e=I3e,$3e=om,B3e=Cs;function U3e(e,t,r){t.length?t=ZS(t,function(i){return B3e(i)?function(s){return j3e(s,i.length===1?i[0]:i)}:i}):t=[$3e];var n=-1;t=ZS(t,R3e(D3e));var a=L3e(e,function(i,s,o){var l=ZS(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return M3e(a,function(i,s){return F3e(i,s,r)})}var V3e=U3e;function z3e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var q3e=z3e,W3e=q3e,iL=Math.max;function H3e(e,t,r){return t=iL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=iL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),W3e(e,this,o)}}var G3e=H3e;function K3e(e){return function(){return e}}var Y3e=K3e,X3e=bh,Q3e=function(){try{var e=X3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),VW=Q3e,J3e=Y3e,sL=VW,Z3e=om,eke=sL?function(e,t){return sL(e,"toString",{configurable:!0,enumerable:!1,value:J3e(t),writable:!0})}:Z3e,tke=eke,rke=800,nke=16,ake=Date.now;function ike(e){var t=0,r=0;return function(){var n=ake(),a=nke-(n-r);if(r=n,a>0){if(++t>=rke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ske=ike,oke=tke,lke=ske,cke=lke(oke),uke=cke,fke=om,dke=G3e,hke=uke;function pke(e,t){return hke(dke(e,t,fke),e+"")}var mke=pke,gke=bC,vke=sy,yke=RC,xke=Gf;function bke(e,t,r){if(!xke(r))return!1;var n=typeof t;return(n=="number"?vke(r)&&yke(t,r.length):n=="string"&&t in r)?gke(r[t],e):!1}var W5=bke,wke=$W,_ke=V3e,Ske=mke,oL=W5,Ake=Ske(function(e,t){if(e==null)return[];var r=t.length;return r>1&&oL(e,t[0],t[1])?t=[]:r>2&&oL(t[0],t[1],t[2])&&(t=[t[0]]),_ke(e,wke(t,1),[])}),Tke=Ake;const UC=yn(Tke);function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}function Eke(e,t){return Pke(e)||Cke(e,t)||Nke(e,t)||kke()}function kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nke(e,t){if(e){if(typeof e=="string")return lL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lL(e,t)}}function lL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Pke(e){if(Array.isArray(e))return e}function cL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(r),!0).forEach(function(n){Oke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oke(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=jke(e,"string");return Xv(t)=="symbol"?t:t+""}function jke(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dke(e){return Array.isArray(e)&&Ra(e[0])&&Ra(e[1])?e.join(" ~ "):e}var Lke=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var k={padding:0,margin:0},D=(h?UC(u,h):u).map(function(V,X){if(V.type==="none")return null;var Y=eA({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),J=V.formatter||f||Dke,H=V.value,z=V.name,ee=H,W=z;if(J&&ee!=null&&W!=null){var P=J(H,z,V,X,u);if(Array.isArray(P)){var F=Eke(P,2);ee=F[0],W=F[1]}else ee=P}return Ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Y},Ra(W)?Ie.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Ra(W)?Ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ie.createElement("span",{className:"recharts-tooltip-item-value"},ee),Ie.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Ie.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},O=eA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=eA({margin:0},c),I=!Mr(m),T=I?m:"",S=Kr("recharts-default-tooltip",p),A=Kr("recharts-tooltip-label",g);I&&v&&u!==void 0&&u!==null&&(T=v(m,u));var j=b?{role:"status","aria-live":"assertive"}:{};return Ie.createElement("div",tE({className:S,style:O},j),Ie.createElement("p",{className:A,style:C},Ie.isValidElement(T)?T:"".concat(T)),w())};function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function Sx(e,t,r){return t=Mke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mke(e){var t=Rke(e,"string");return Qv(t)=="symbol"?t:t+""}function Rke(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm="recharts-tooltip-wrapper",Fke={visibility:"hidden"};function $ke(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Kr(Vm,Sx(Sx(Sx(Sx({},"".concat(Vm,"-right"),Rt(r)&&t&&Rt(t.x)&&r>=t.x),"".concat(Vm,"-left"),Rt(r)&&t&&Rt(t.x)&&r<t.x),"".concat(Vm,"-bottom"),Rt(n)&&t&&Rt(t.y)&&n>=t.y),"".concat(Vm,"-top"),Rt(n)&&t&&Rt(t.y)&&n<t.y))}function uL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Rt(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function Bke(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Uke(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=uL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=uL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Bke({translateX:u,translateY:f,useTranslate3d:o})):c=Fke,{cssProperties:c,cssClasses:$ke({translateX:u,translateY:f,coordinate:r})}}function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){nE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qW(n.key),n)}}function qke(e,t,r){return t&&zke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wke(e,t,r){return t=$b(t),Hke(e,zW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function Hke(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(e)}function Gke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function Kke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rE(e,t)}function nE(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=Yke(e,"string");return gp(t)=="symbol"?t:t+""}function Yke(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hL=1,Xke=function(e){function t(){var r;Vke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wke(this,t,[].concat(a)),nE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Kke(t,e),qke(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>hL||Math.abs(n.height-this.state.lastBoundingBox.height)>hL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=Uke({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=w.cssClasses,C=w.cssProperties,I=dL(dL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ie.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){n.wrapperNode=S}},c)}}])}(U.PureComponent),Qke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Dc={isSsr:Qke(),get:function(t){return Dc[t]},set:function(t,r){if(typeof t=="string")Dc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Dc[a]=t[a]})}}};function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HW(n.key),n)}}function eNe(e,t,r){return t&&Zke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tNe(e,t,r){return t=Bb(t),rNe(e,WW()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function rNe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nNe(e)}function nNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function aNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aE(e,t)}function VC(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=iNe(e,"string");return vp(t)=="symbol"?t:t+""}function iNe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sNe(e){return e.dataKey}function oNe(e,t){return Ie.isValidElement(e)?Ie.cloneElement(e,t):typeof e=="function"?Ie.createElement(e,t):Ie.createElement(Lke,t)}var xs=function(e){function t(){return Jke(this,t),tNe(this,t,arguments)}return aNe(t,e),eNe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,O=a.wrapperStyle,C=g??[];f&&C.length&&(C=LW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,sNe));var I=C.length>0;return Ie.createElement(Xke,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:I,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:O},oNe(c,mL(mL({},this.props),{},{payload:C})))}}])}(U.PureComponent);VC(xs,"displayName","Tooltip");VC(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lNe=ec,cNe=function(){return lNe.Date.now()},uNe=cNe,fNe=/\s/;function dNe(e){for(var t=e.length;t--&&fNe.test(e.charAt(t)););return t}var hNe=dNe,pNe=hNe,mNe=/^\s+/;function gNe(e){return e&&e.slice(0,pNe(e)+1).replace(mNe,"")}var vNe=gNe,yNe=vNe,gL=Gf,xNe=em,vL=NaN,bNe=/^[-+]0x[0-9a-f]+$/i,wNe=/^0b[01]+$/i,_Ne=/^0o[0-7]+$/i,SNe=parseInt;function ANe(e){if(typeof e=="number")return e;if(xNe(e))return vL;if(gL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yNe(e);var r=wNe.test(e);return r||_Ne.test(e)?SNe(e.slice(2),r?2:8):bNe.test(e)?vL:+e}var GW=ANe,TNe=Gf,tA=uNe,yL=GW,ENe="Expected a function",kNe=Math.max,NNe=Math.min;function CNe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(ENe);t=yL(t)||0,TNe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?kNe(yL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(I){var T=n,S=a;return n=a=void 0,c=I,s=e.apply(S,T),s}function g(I){return c=I,o=setTimeout(y,t),u?p(I):s}function m(I){var T=I-l,S=I-c,A=t-T;return f?NNe(A,i-S):A}function v(I){var T=I-l,S=I-c;return l===void 0||T>=t||T<0||f&&S>=i}function y(){var I=tA();if(v(I))return b(I);o=setTimeout(y,m(I))}function b(I){return o=void 0,h&&n?p(I):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:b(tA())}function C(){var I=tA(),T=v(I);if(n=arguments,a=this,l=I,T){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return C.cancel=w,C.flush=O,C}var PNe=CNe,ONe=PNe,INe=Gf,jNe="Expected a function";function DNe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(jNe);return INe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ONe(e,t,{leading:n,maxWait:t,trailing:a})}var LNe=DNe;const KW=yn(LNe);function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){MNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MNe(e,t,r){return t=RNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=FNe(e,"string");return Jv(t)=="symbol"?t:t+""}function FNe(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ne(e,t){return zNe(e)||VNe(e,t)||UNe(e,t)||BNe()}function BNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UNe(e,t){if(e){if(typeof e=="string")return bL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bL(e,t)}}function bL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function zNe(e){if(Array.isArray(e))return e}var qg=U.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,O=w===void 0?{}:w,C=U.useRef(null),I=U.useRef();I.current=b,U.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var T=U.useState({containerWidth:a.width,containerHeight:a.height}),S=$Ne(T,2),A=S[0],j=S[1],E=U.useCallback(function(D,V){j(function(X){var Y=Math.round(D),J=Math.round(V);return X.containerWidth===Y&&X.containerHeight===J?X:{containerWidth:Y,containerHeight:J}})},[]);U.useEffect(function(){var D=function(z){var ee,W=z[0].contentRect,P=W.width,F=W.height;E(P,F),(ee=I.current)===null||ee===void 0||ee.call(I,P,F)};m>0&&(D=KW(D,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(D),X=C.current.getBoundingClientRect(),Y=X.width,J=X.height;return E(Y,J),V.observe(C.current),function(){V.disconnect()}},[E,m]);var k=U.useMemo(function(){var D=A.containerWidth,V=A.containerHeight;if(D<0||V<0)return null;jc(jd(s)||jd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),jc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=jd(s)?D:s,Y=jd(l)?V:l;r&&r>0&&(X?Y=X/r:Y&&(X=Y*r),h&&Y>h&&(Y=h)),jc(X>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,Y,s,l,u,f,r);var J=!Array.isArray(p)&&Ic(p.type).endsWith("Chart");return Ie.Children.map(p,function(H){return Ie.isValidElement(H)?U.cloneElement(H,Ax({width:X,height:Y},J?{style:Ax({height:"100%",width:"100%",maxHeight:Y,maxWidth:X},H.props.style)}:{})):H})},[r,p,l,h,f,u,A,s]);return Ie.createElement("div",{id:v?"".concat(v):void 0,className:Kr("recharts-responsive-container",y),style:Ax(Ax({},O),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:C},k)}),YW=function(t){return null};YW.displayName="Cell";function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){qNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qNe(e,t,r){return t=WNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WNe(e){var t=HNe(e,"string");return Zv(t)=="symbol"?t:t+""}function HNe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gh={widthCache:{},cacheCount:0},GNe=2e3,KNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_L="recharts_measurement_span";function YNe(e){var t=iE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Wg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dc.isSsr)return{width:0,height:0};var n=YNe(r),a=JSON.stringify({text:t,copyStyle:n});if(Gh.widthCache[a])return Gh.widthCache[a];try{var i=document.getElementById(_L);i||(i=document.createElement("span"),i.setAttribute("id",_L),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=iE(iE({},KNe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Gh.widthCache[a]=l,++Gh.cacheCount>GNe&&(Gh.cacheCount=0,Gh.widthCache={}),l}catch{return{width:0,height:0}}},XNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}function Ub(e,t){return eCe(e)||ZNe(e,t)||JNe(e,t)||QNe()}function QNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JNe(e,t){if(e){if(typeof e=="string")return SL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(e,t)}}function SL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function eCe(e){if(Array.isArray(e))return e}function tCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nCe(n.key),n)}}function rCe(e,t,r){return t&&AL(e.prototype,t),r&&AL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nCe(e){var t=aCe(e,"string");return e1(t)=="symbol"?t:t+""}function aCe(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oCe=Object.keys(XW),S0="NaN";function lCe(e,t){return e*XW[t]}var Tx=function(){function e(t,r){tCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!iCe.test(r)&&(this.num=NaN,this.unit=""),oCe.includes(r)&&(this.num=lCe(t,r),this.unit="px")}return rCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sCe.exec(r))!==null&&n!==void 0?n:[],i=Ub(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function QW(e){if(e.includes(S0))return S0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TL.exec(t))!==null&&r!==void 0?r:[],a=Ub(n,4),i=a[1],s=a[2],o=a[3],l=Tx.parse(i??""),c=Tx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return S0;t=t.replace(TL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=EL.exec(t))!==null&&f!==void 0?f:[],p=Ub(h,4),g=p[1],m=p[2],v=p[3],y=Tx.parse(g??""),b=Tx.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return S0;t=t.replace(EL,w.toString())}return t}var kL=/\(([^()]*)\)/;function cCe(e){for(var t=e;t.includes("(");){var r=kL.exec(t),n=Ub(r,2),a=n[1];t=t.replace(kL,QW(a))}return t}function uCe(e){var t=e.replace(/\s+/g,"");return t=cCe(t),t=QW(t),t}function fCe(e){try{return uCe(e)}catch{return S0}}function rA(e){var t=fCe(e.slice(5,-1));return t===S0?"":t}var dCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hCe=["dx","dy","angle","className","breakAll"];function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sE.apply(this,arguments)}function NL(e,t){if(e==null)return{};var r=pCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CL(e,t){return yCe(e)||vCe(e,t)||gCe(e,t)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gCe(e,t){if(e){if(typeof e=="string")return PL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(e,t)}}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function yCe(e){if(Array.isArray(e))return e}var JW=/[ \f\n\r\t\v\u2028\u2029]+/,ZW=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Mr(r)||(n?i=r.toString().split(""):i=r.toString().split(JW));var s=i.map(function(l){return{word:l,width:Wg(l,a).width}}),o=n?0:Wg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},xCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Rt(s),f=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(Y,J){var H=J.word,z=J.width,ee=Y[Y.length-1];if(ee&&(a==null||i||ee.width+z+n<Number(a)))ee.words.push(H),ee.width+=z+n;else{var W={words:[H],width:z};Y.push(W)}return Y},[])},p=h(r),g=function(X){return X.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!u)return p;for(var m="…",v=function(X){var Y=f.slice(0,X),J=ZW({breakAll:c,style:l,children:Y+m}).wordsWithComputedWidth,H=h(J),z=H.length>s||g(H).width>Number(a);return[z,H]},y=0,b=f.length-1,w=0,O;y<=b&&w<=f.length-1;){var C=Math.floor((y+b)/2),I=C-1,T=v(I),S=CL(T,2),A=S[0],j=S[1],E=v(C),k=CL(E,1),D=k[0];if(!A&&!D&&(y=C+1),A&&D&&(b=C-1),!A&&D){O=j;break}w++}return O||p},OL=function(t){var r=Mr(t)?[]:t.toString().split(JW);return[{words:r}]},bCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Dc.isSsr){var l,c,u=ZW({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return OL(a);return xCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return OL(a)},IL="#808080",Vb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?IL:v,b=NL(t,dCe),w=U.useMemo(function(){return bCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),O=b.dx,C=b.dy,I=b.angle,T=b.className,S=b.breakAll,A=NL(b,hCe);if(!Ra(n)||!Ra(i))return null;var j=n+(Rt(O)?O:0),E=i+(Rt(C)?C:0),k;switch(m){case"start":k=rA("calc(".concat(c,")"));break;case"middle":k=rA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:k=rA("calc(".concat(w.length-1," * -").concat(o,")"));break}var D=[];if(f){var V=w[0].width,X=b.width;D.push("scale(".concat((Rt(X)?X/V:1)/V,")"))}return I&&D.push("rotate(".concat(I,", ").concat(j,", ").concat(E,")")),D.length&&(A.transform=D.join(" ")),Ie.createElement("text",sE({},Fr(A,!0),{x:j,y:E,className:Kr("recharts-text",T),textAnchor:p,fill:y.includes("url")?IL:y}),w.map(function(Y,J){var H=Y.words.join(S?"":" ");return Ie.createElement("tspan",{x:j,dy:J===0?k:o,key:"".concat(H,"-").concat(J)},H)}))};function _f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zC(e){let t,r,n;e.length!==2?(t=_f,r=(o,l)=>_f(e(o),l),n=(o,l)=>e(o)-l):(t=e===_f||e===wCe?e:_Ce,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function _Ce(){return 0}function eH(e){return e===null?NaN:+e}function*SCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ACe=zC(_f),oy=ACe.right;zC(eH).center;class jL extends Map{constructor(t,r=kCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(DL(this,t))}has(t){return super.has(DL(this,t))}set(t,r){return super.set(TCe(this,t),r)}delete(t){return super.delete(ECe(this,t))}}function DL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ECe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NCe(e=_f){if(e===_f)return tH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CCe=Math.sqrt(50),PCe=Math.sqrt(10),OCe=Math.sqrt(2);function zb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=CCe?10:i>=PCe?5:i>=OCe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?zb(e,t,r*2):[o,l,c]}function oE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?zb(t,e,r):zb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function lE(e,t,r){return t=+t,e=+e,r=+r,zb(e,t,r)[2]}function cE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?lE(t,e,r):lE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function LL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ML(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?tH:NCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));rH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(zm(e,r,t),a(e[n],i)>0&&zm(e,r,n);s<o;){for(zm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?zm(e,r,o):(++o,zm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function zm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ICe(e,t,r){if(e=Float64Array.from(SCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ML(e);if(t>=1)return LL(e);var n,a=(n-1)*t,i=Math.floor(a),s=LL(rH(e,i).subarray(0,i+1)),o=ML(e.subarray(i+1));return s+(o-s)*(a-i)}}function jCe(e,t,r=eH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function DCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Io(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uE=Symbol("implicit");function qC(){var e=new jL,t=[],r=[],n=uE;function a(i){let s=e.get(i);if(s===void 0){if(n!==uE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new jL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qC(t,r).unknown(n)},Io.apply(a,arguments),a}function t1(){var e=qC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=DCe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return t1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Io.apply(f(),arguments)}function nH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nH(t())},e}function Hg(){return nH(t1.apply(null,arguments).paddingInner(1))}function WC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ly(){}var r1=.7,qb=1/r1,$0="\\s*([+-]?\\d+)\\s*",n1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LCe=/^#([0-9a-f]{3,8})$/,MCe=new RegExp(`^rgb\\(${$0},${$0},${$0}\\)$`),RCe=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),FCe=new RegExp(`^rgba\\(${$0},${$0},${$0},${n1}\\)$`),$Ce=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${n1}\\)$`),BCe=new RegExp(`^hsl\\(${n1},${Wl},${Wl}\\)$`),UCe=new RegExp(`^hsla\\(${n1},${Wl},${Wl},${n1}\\)$`),RL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WC(ly,a1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FL,formatHex:FL,formatHex8:VCe,formatHsl:zCe,formatRgb:$L,toString:$L});function FL(){return this.rgb().formatHex()}function VCe(){return this.rgb().formatHex8()}function zCe(){return iH(this).formatHsl()}function $L(){return this.rgb().formatRgb()}function a1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?BL(t):r===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ex(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ex(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MCe.exec(e))?new Ts(t[1],t[2],t[3],1):(t=RCe.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FCe.exec(e))?Ex(t[1],t[2],t[3],t[4]):(t=$Ce.exec(e))?Ex(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BCe.exec(e))?zL(t[1],t[2]/100,t[3]/100,1):(t=UCe.exec(e))?zL(t[1],t[2]/100,t[3]/100,t[4]):RL.hasOwnProperty(e)?BL(RL[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function BL(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function Ex(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ts(e,t,r,n)}function qCe(e){return e instanceof ly||(e=a1(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function fE(e,t,r,n){return arguments.length===1?qCe(e):new Ts(e,t,r,n??1)}function Ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}WC(Ts,fE,aH(ly,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(zd(this.r),zd(this.g),zd(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UL,formatHex:UL,formatHex8:WCe,formatRgb:VL,toString:VL}));function UL(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function WCe(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function VL(){const e=Wb(this.opacity);return`${e===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${e===1?")":`, ${e})`}`}function Wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=zd(e),(e<16?"0":"")+e.toString(16)}function zL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new il(e,t,r,n)}function iH(e){if(e instanceof il)return new il(e.h,e.s,e.l,e.opacity);if(e instanceof ly||(e=a1(e)),!e)return new il;if(e instanceof il)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new il(s,o,l,e.opacity)}function HCe(e,t,r,n){return arguments.length===1?iH(e):new il(e,t,r,n??1)}function il(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}WC(il,HCe,aH(ly,{brighter(e){return e=e==null?qb:Math.pow(qb,e),new il(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new il(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ts(nA(e>=240?e-240:e+120,a,n),nA(e,a,n),nA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new il(qL(this.h),kx(this.s),kx(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wb(this.opacity);return`${e===1?"hsl(":"hsla("}${qL(this.h)}, ${kx(this.s)*100}%, ${kx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qL(e){return e=(e||0)%360,e<0?e+360:e}function kx(e){return Math.max(0,Math.min(1,e||0))}function nA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const HC=e=>()=>e;function GCe(e,t){return function(r){return e+r*t}}function KCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function YCe(e){return(e=+e)==1?sH:function(t,r){return r-t?KCe(t,r,e):HC(isNaN(t)?r:t)}}function sH(e,t){var r=t-e;return r?GCe(e,r):HC(isNaN(e)?t:e)}const WL=function e(t){var r=YCe(t);function n(a,i){var s=r((a=fE(a)).r,(i=fE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=sH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function XCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function QCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function JCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=lm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function ZCe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ePe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=lm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var dE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aA=new RegExp(dE.source,"g");function tPe(e){return function(){return e}}function rPe(e){return function(t){return e(t)+""}}function nPe(e,t){var r=dE.lastIndex=aA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=dE.exec(e))&&(a=aA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Hb(n,a)})),r=aA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?rPe(l[0].x):tPe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function lm(e,t){var r=typeof t,n;return t==null||r==="boolean"?HC(t):(r==="number"?Hb:r==="string"?(n=a1(t))?(t=n,WL):nPe:t instanceof a1?WL:t instanceof Date?ZCe:QCe(t)?XCe:Array.isArray(t)?JCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ePe:Hb)(e,t)}function GC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function aPe(e,t){t===void 0&&(t=e,e=lm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function iPe(e){return function(){return e}}function Gb(e){return+e}var HL=[0,1];function ns(e){return e}function hE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iPe(isNaN(t)?NaN:.5)}function sPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function oPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=hE(a,n),i=r(s,i)):(n=hE(n,a),i=r(i,s)),function(o){return i(n(o))}}function lPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=hE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=oy(e,o,1,n)-1;return i[l](a[l](o))}}function cy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H5(){var e=HL,t=HL,r=lm,n,a,i,s=ns,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==ns&&(s=sPe(e[0],e[h-1])),o=h>2?lPe:oPe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=GC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ns,u()):s!==ns},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function KC(){return H5()(ns,ns)}function cPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yp(e){return e=Kb(Math.abs(e)),e?e[1]:NaN}function uPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function fPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i1(e){if(!(t=dPe.exec(e)))throw new Error("invalid format: "+e);var t;return new YC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}i1.prototype=YC.prototype;function YC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}YC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var oH;function pPe(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(oH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kb(e,Math.max(0,t+i-1))[0]}function GL(e,t){var r=Kb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const KL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GL(e*100,t),r:GL,s:pPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YL(e){return e}var XL=Array.prototype.map,QL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mPe(e){var t=e.grouping===void 0||e.thousands===void 0?YL:uPe(XL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?YL:fPe(XL.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=i1(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,O=f.trim,C=f.type;C==="n"?(b=!0,C="g"):KL[C]||(w===void 0&&(w=12),O=!0,C="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var I=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?n:/[%p]/.test(C)?s:"",S=KL[C],A=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function j(E){var k=I,D=T,V,X,Y;if(C==="c")D=S(E)+D,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),w),O&&(E=hPe(E)),J&&+E==0&&g!=="+"&&(J=!1),k=(J?g==="("?g:o:g==="-"||g==="("?"":g)+k,D=(C==="s"?QL[8+oH/3]:"")+D+(J&&g==="("?")":""),A){for(V=-1,X=E.length;++V<X;)if(Y=E.charCodeAt(V),48>Y||Y>57){D=(Y===46?a+E.slice(V+1):E.slice(V))+D,E=E.slice(0,V);break}}}b&&!v&&(E=t(E,1/0));var H=k.length+E.length+D.length,z=H<y?new Array(y-H+1).join(h):"";switch(b&&v&&(E=t(z+E,z.length?y-D.length:1/0),z=""),p){case"<":E=k+E+D+z;break;case"=":E=k+z+E+D;break;case"^":E=z.slice(0,H=z.length>>1)+k+E+D+z.slice(H);break;default:E=z+k+E+D;break}return i(E)}return j.toString=function(){return f+""},j}function u(f,h){var p=c((f=i1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(yp(h)/3)))*3,m=Math.pow(10,-g),v=QL[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var Nx,XC,lH;gPe({thousands:",",grouping:[3],currency:["$",""]});function gPe(e){return Nx=mPe(e),XC=Nx.format,lH=Nx.formatPrefix,Nx}function vPe(e){return Math.max(0,-yp(Math.abs(e)))}function yPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yp(t)/3)))*3-yp(Math.abs(e)))}function xPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yp(t)-yp(e))+1}function cH(e,t,r,n){var a=cE(e,t,r),i;switch(n=i1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=yPe(a,s))&&(n.precision=i),lH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=vPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return XC(n)}function Yf(e){var t=e.domain;return e.ticks=function(r){var n=t();return oE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return cH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=lE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Yb(){var e=KC();return e.copy=function(){return cy(e,Yb())},Io.apply(e,arguments),Yf(e)}function uH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uH(e).unknown(t)},e=arguments.length?Array.from(e,Gb):[0,1],Yf(r)}function fH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function JL(e){return Math.log(e)}function ZL(e){return Math.exp(e)}function bPe(e){return-Math.log(-e)}function wPe(e){return-Math.exp(-e)}function _Pe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SPe(e){return e===10?_Pe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function APe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eM(e){return(t,r)=>-e(-t,r)}function QC(e){const t=e(JL,ZL),r=t.domain;let n=10,a,i;function s(){return a=APe(n),i=SPe(n),r()[0]<0?(a=eM(a),i=eM(i),e(bPe,wPe)):e(JL,ZL),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=oE(c,u,v))}else y=oE(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=i1(l)).precision==null&&(l.trim=!0),l=XC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(fH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function dH(){const e=QC(H5()).domain([1,10]);return e.copy=()=>cy(e,dH()).base(e.base()),Io.apply(e,arguments),e}function tM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JC(e){var t=1,r=e(tM(t),rM(t));return r.constant=function(n){return arguments.length?e(tM(t=+n),rM(t)):t},Yf(r)}function hH(){var e=JC(H5());return e.copy=function(){return cy(e,hH()).constant(e.constant())},Io.apply(e,arguments)}function nM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EPe(e){return e<0?-e*e:e*e}function ZC(e){var t=e(ns,ns),r=1;function n(){return r===1?e(ns,ns):r===.5?e(TPe,EPe):e(nM(r),nM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yf(t)}function eP(){var e=ZC(H5());return e.copy=function(){return cy(e,eP()).exponent(e.exponent())},Io.apply(e,arguments),e}function kPe(){return eP.apply(null,arguments).exponent(.5)}function aM(e){return Math.sign(e)*e*e}function NPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pH(){var e=KC(),t=[0,1],r=!1,n;function a(i){var s=NPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(aM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gb)).map(aM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Io.apply(a,arguments),Yf(a)}function mH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=jCe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[oy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_f),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return mH().domain(e).range(t).unknown(n)},Io.apply(i,arguments)}function gH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[oy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return gH().domain([e,t]).range(a).unknown(i)},Io.apply(Yf(s),arguments)}function vH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[oy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vH().domain(e).range(t).unknown(r)},Io.apply(a,arguments)}const iA=new Date,sA=new Date;function Ba(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ba(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(iA.setTime(+i),sA.setTime(+s),e(iA),e(sA),Math.floor(r(iA,sA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Xb=Ba(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ba(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xb);Xb.range;const Ac=1e3,bo=Ac*60,Tc=bo*60,Yc=Tc*24,tP=Yc*7,iM=Yc*30,oA=Yc*365,Ld=Ba(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ac)},(e,t)=>(t-e)/Ac,e=>e.getUTCSeconds());Ld.range;const rP=Ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ac)},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getMinutes());rP.range;const nP=Ba(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bo)},(e,t)=>(t-e)/bo,e=>e.getUTCMinutes());nP.range;const aP=Ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ac-e.getMinutes()*bo)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getHours());aP.range;const iP=Ba(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getUTCHours());iP.range;const uy=Ba(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bo)/Yc,e=>e.getDate()-1);uy.range;const G5=Ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yc,e=>e.getUTCDate()-1);G5.range;const yH=Ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yc,e=>Math.floor(e/Yc));yH.range;function wh(e){return Ba(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bo)/tP)}const K5=wh(0),Qb=wh(1),CPe=wh(2),PPe=wh(3),xp=wh(4),OPe=wh(5),IPe=wh(6);K5.range;Qb.range;CPe.range;PPe.range;xp.range;OPe.range;IPe.range;function _h(e){return Ba(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tP)}const Y5=_h(0),Jb=_h(1),jPe=_h(2),DPe=_h(3),bp=_h(4),LPe=_h(5),MPe=_h(6);Y5.range;Jb.range;jPe.range;DPe.range;bp.range;LPe.range;MPe.range;const sP=Ba(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sP.range;const oP=Ba(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oP.range;const Xc=Ba(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ba(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xc.range;const Qc=Ba(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ba(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qc.range;function xH(e,t,r,n,a,i){const s=[[Ld,1,Ac],[Ld,5,5*Ac],[Ld,15,15*Ac],[Ld,30,30*Ac],[i,1,bo],[i,5,5*bo],[i,15,15*bo],[i,30,30*bo],[a,1,Tc],[a,3,3*Tc],[a,6,6*Tc],[a,12,12*Tc],[n,1,Yc],[n,2,2*Yc],[r,1,tP],[t,1,iM],[t,3,3*iM],[e,1,oA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=zC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(cE(c/oA,u/oA,f));if(p===0)return Xb.every(Math.max(cE(c,u,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[RPe,FPe]=xH(Qc,oP,Y5,yH,iP,nP),[$Pe,BPe]=xH(Xc,sP,K5,uy,aP,rP);function lA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wm(a),u=Hm(a),f=Wm(i),h=Hm(i),p=Wm(s),g=Hm(s),m=Wm(o),v=Hm(o),y=Wm(l),b=Hm(l),w={a:J,A:H,b:z,B:ee,c:null,d:fM,e:fM,f:u6e,g:b6e,G:_6e,H:o6e,I:l6e,j:c6e,L:bH,m:f6e,M:d6e,p:W,q:P,Q:pM,s:mM,S:h6e,u:p6e,U:m6e,V:g6e,w:v6e,W:y6e,x:null,X:null,y:x6e,Y:w6e,Z:S6e,"%":hM},O={a:F,A:q,b:K,B:Z,c:null,d:dM,e:dM,f:k6e,g:R6e,G:$6e,H:A6e,I:T6e,j:E6e,L:_H,m:N6e,M:C6e,p:ce,q:de,Q:pM,s:mM,S:P6e,u:O6e,U:I6e,V:j6e,w:D6e,W:L6e,x:null,X:null,y:M6e,Y:F6e,Z:B6e,"%":hM},C={a:j,A:E,b:k,B:D,c:V,d:cM,e:cM,f:n6e,g:lM,G:oM,H:uM,I:uM,j:ZPe,L:r6e,m:JPe,M:e6e,p:A,q:QPe,Q:i6e,s:s6e,S:t6e,u:HPe,U:GPe,V:KPe,w:WPe,W:YPe,x:X,X:Y,y:lM,Y:oM,Z:XPe,"%":a6e};w.x=I(r,w),w.X=I(n,w),w.c=I(t,w),O.x=I(r,O),O.X=I(n,O),O.c=I(t,O);function I(ae,he){return function(Se){var B=[],Ee=-1,ve=0,xe=ae.length,te,Ne,Be;for(Se instanceof Date||(Se=new Date(+Se));++Ee<xe;)ae.charCodeAt(Ee)===37&&(B.push(ae.slice(ve,Ee)),(Ne=sM[te=ae.charAt(++Ee)])!=null?te=ae.charAt(++Ee):Ne=te==="e"?" ":"0",(Be=he[te])&&(te=Be(Se,Ne)),B.push(te),ve=Ee+1);return B.push(ae.slice(ve,Ee)),B.join("")}}function T(ae,he){return function(Se){var B=qm(1900,void 0,1),Ee=S(B,ae,Se+="",0),ve,xe;if(Ee!=Se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(he&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ve=cA(qm(B.y,0,1)),xe=ve.getUTCDay(),ve=xe>4||xe===0?Jb.ceil(ve):Jb(ve),ve=G5.offset(ve,(B.V-1)*7),B.y=ve.getUTCFullYear(),B.m=ve.getUTCMonth(),B.d=ve.getUTCDate()+(B.w+6)%7):(ve=lA(qm(B.y,0,1)),xe=ve.getDay(),ve=xe>4||xe===0?Qb.ceil(ve):Qb(ve),ve=uy.offset(ve,(B.V-1)*7),B.y=ve.getFullYear(),B.m=ve.getMonth(),B.d=ve.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),xe="Z"in B?cA(qm(B.y,0,1)).getUTCDay():lA(qm(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(xe+5)%7:B.w+B.U*7-(xe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,cA(B)):lA(B)}}function S(ae,he,Se,B){for(var Ee=0,ve=he.length,xe=Se.length,te,Ne;Ee<ve;){if(B>=xe)return-1;if(te=he.charCodeAt(Ee++),te===37){if(te=he.charAt(Ee++),Ne=C[te in sM?he.charAt(Ee++):te],!Ne||(B=Ne(ae,Se,B))<0)return-1}else if(te!=Se.charCodeAt(B++))return-1}return B}function A(ae,he,Se){var B=c.exec(he.slice(Se));return B?(ae.p=u.get(B[0].toLowerCase()),Se+B[0].length):-1}function j(ae,he,Se){var B=p.exec(he.slice(Se));return B?(ae.w=g.get(B[0].toLowerCase()),Se+B[0].length):-1}function E(ae,he,Se){var B=f.exec(he.slice(Se));return B?(ae.w=h.get(B[0].toLowerCase()),Se+B[0].length):-1}function k(ae,he,Se){var B=y.exec(he.slice(Se));return B?(ae.m=b.get(B[0].toLowerCase()),Se+B[0].length):-1}function D(ae,he,Se){var B=m.exec(he.slice(Se));return B?(ae.m=v.get(B[0].toLowerCase()),Se+B[0].length):-1}function V(ae,he,Se){return S(ae,t,he,Se)}function X(ae,he,Se){return S(ae,r,he,Se)}function Y(ae,he,Se){return S(ae,n,he,Se)}function J(ae){return s[ae.getDay()]}function H(ae){return i[ae.getDay()]}function z(ae){return l[ae.getMonth()]}function ee(ae){return o[ae.getMonth()]}function W(ae){return a[+(ae.getHours()>=12)]}function P(ae){return 1+~~(ae.getMonth()/3)}function F(ae){return s[ae.getUTCDay()]}function q(ae){return i[ae.getUTCDay()]}function K(ae){return l[ae.getUTCMonth()]}function Z(ae){return o[ae.getUTCMonth()]}function ce(ae){return a[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var he=I(ae+="",w);return he.toString=function(){return ae},he},parse:function(ae){var he=T(ae+="",!1);return he.toString=function(){return ae},he},utcFormat:function(ae){var he=I(ae+="",O);return he.toString=function(){return ae},he},utcParse:function(ae){var he=T(ae+="",!0);return he.toString=function(){return ae},he}}}var sM={"-":"",_:" ",0:"0"},Ja=/^\s*\d+/,VPe=/^%/,zPe=/[\\^$*+?|[\]().{}]/g;function Yr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function qPe(e){return e.replace(zPe,"\\$&")}function Wm(e){return new RegExp("^(?:"+e.map(qPe).join("|")+")","i")}function Hm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WPe(e,t,r){var n=Ja.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HPe(e,t,r){var n=Ja.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GPe(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function KPe(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function YPe(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oM(e,t,r){var n=Ja.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lM(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QPe(e,t,r){var n=Ja.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function JPe(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cM(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZPe(e,t,r){var n=Ja.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uM(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function e6e(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function t6e(e,t,r){var n=Ja.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function r6e(e,t,r){var n=Ja.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function n6e(e,t,r){var n=Ja.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function a6e(e,t,r){var n=VPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function i6e(e,t,r){var n=Ja.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function s6e(e,t,r){var n=Ja.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fM(e,t){return Yr(e.getDate(),t,2)}function o6e(e,t){return Yr(e.getHours(),t,2)}function l6e(e,t){return Yr(e.getHours()%12||12,t,2)}function c6e(e,t){return Yr(1+uy.count(Xc(e),e),t,3)}function bH(e,t){return Yr(e.getMilliseconds(),t,3)}function u6e(e,t){return bH(e,t)+"000"}function f6e(e,t){return Yr(e.getMonth()+1,t,2)}function d6e(e,t){return Yr(e.getMinutes(),t,2)}function h6e(e,t){return Yr(e.getSeconds(),t,2)}function p6e(e){var t=e.getDay();return t===0?7:t}function m6e(e,t){return Yr(K5.count(Xc(e)-1,e),t,2)}function wH(e){var t=e.getDay();return t>=4||t===0?xp(e):xp.ceil(e)}function g6e(e,t){return e=wH(e),Yr(xp.count(Xc(e),e)+(Xc(e).getDay()===4),t,2)}function v6e(e){return e.getDay()}function y6e(e,t){return Yr(Qb.count(Xc(e)-1,e),t,2)}function x6e(e,t){return Yr(e.getFullYear()%100,t,2)}function b6e(e,t){return e=wH(e),Yr(e.getFullYear()%100,t,2)}function w6e(e,t){return Yr(e.getFullYear()%1e4,t,4)}function _6e(e,t){var r=e.getDay();return e=r>=4||r===0?xp(e):xp.ceil(e),Yr(e.getFullYear()%1e4,t,4)}function S6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yr(t/60|0,"0",2)+Yr(t%60,"0",2)}function dM(e,t){return Yr(e.getUTCDate(),t,2)}function A6e(e,t){return Yr(e.getUTCHours(),t,2)}function T6e(e,t){return Yr(e.getUTCHours()%12||12,t,2)}function E6e(e,t){return Yr(1+G5.count(Qc(e),e),t,3)}function _H(e,t){return Yr(e.getUTCMilliseconds(),t,3)}function k6e(e,t){return _H(e,t)+"000"}function N6e(e,t){return Yr(e.getUTCMonth()+1,t,2)}function C6e(e,t){return Yr(e.getUTCMinutes(),t,2)}function P6e(e,t){return Yr(e.getUTCSeconds(),t,2)}function O6e(e){var t=e.getUTCDay();return t===0?7:t}function I6e(e,t){return Yr(Y5.count(Qc(e)-1,e),t,2)}function SH(e){var t=e.getUTCDay();return t>=4||t===0?bp(e):bp.ceil(e)}function j6e(e,t){return e=SH(e),Yr(bp.count(Qc(e),e)+(Qc(e).getUTCDay()===4),t,2)}function D6e(e){return e.getUTCDay()}function L6e(e,t){return Yr(Jb.count(Qc(e)-1,e),t,2)}function M6e(e,t){return Yr(e.getUTCFullYear()%100,t,2)}function R6e(e,t){return e=SH(e),Yr(e.getUTCFullYear()%100,t,2)}function F6e(e,t){return Yr(e.getUTCFullYear()%1e4,t,4)}function $6e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bp(e):bp.ceil(e),Yr(e.getUTCFullYear()%1e4,t,4)}function B6e(){return"+0000"}function hM(){return"%"}function pM(e){return+e}function mM(e){return Math.floor(+e/1e3)}var Kh,AH,TH;U6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U6e(e){return Kh=UPe(e),AH=Kh.format,Kh.parse,TH=Kh.utcFormat,Kh.utcParse,Kh}function V6e(e){return new Date(e)}function z6e(e){return e instanceof Date?+e:+new Date(+e)}function lP(e,t,r,n,a,i,s,o,l,c){var u=KC(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),O=c("%Y");function C(I){return(l(I)<I?p:o(I)<I?g:s(I)<I?m:i(I)<I?v:n(I)<I?a(I)<I?y:b:r(I)<I?w:O)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,z6e)):h().map(V6e)},u.ticks=function(I){var T=h();return e(T[0],T[T.length-1],I??10)},u.tickFormat=function(I,T){return T==null?C:c(T)},u.nice=function(I){var T=h();return(!I||typeof I.range!="function")&&(I=t(T[0],T[T.length-1],I??10)),I?h(fH(T,I)):u},u.copy=function(){return cy(u,lP(e,t,r,n,a,i,s,o,l,c))},u}function q6e(){return Io.apply(lP($Pe,BPe,Xc,sP,K5,uy,aP,rP,Ld,AH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function W6e(){return Io.apply(lP(RPe,FPe,Qc,oP,Y5,G5,iP,nP,Ld,TH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X5(){var e=0,t=1,r,n,a,i,s=ns,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=u(lm),c.rangeRound=u(GC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EH(){var e=Yf(X5()(ns));return e.copy=function(){return Xf(e,EH())},lu.apply(e,arguments)}function kH(){var e=QC(X5()).domain([1,10]);return e.copy=function(){return Xf(e,kH()).base(e.base())},lu.apply(e,arguments)}function NH(){var e=JC(X5());return e.copy=function(){return Xf(e,NH()).constant(e.constant())},lu.apply(e,arguments)}function cP(){var e=ZC(X5());return e.copy=function(){return Xf(e,cP()).exponent(e.exponent())},lu.apply(e,arguments)}function H6e(){return cP.apply(null,arguments).exponent(.5)}function CH(){var e=[],t=ns;function r(n){if(n!=null&&!isNaN(n=+n))return t((oy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(_f),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ICe(e,i/n))},r.copy=function(){return CH(t).domain(e)},lu.apply(r,arguments)}function Q5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ns,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=aPe(m,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(lm),p.rangeRound=g(GC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function PH(){var e=Yf(Q5()(ns));return e.copy=function(){return Xf(e,PH())},lu.apply(e,arguments)}function OH(){var e=QC(Q5()).domain([.1,1,10]);return e.copy=function(){return Xf(e,OH()).base(e.base())},lu.apply(e,arguments)}function IH(){var e=JC(Q5());return e.copy=function(){return Xf(e,IH()).constant(e.constant())},lu.apply(e,arguments)}function uP(){var e=ZC(Q5());return e.copy=function(){return Xf(e,uP()).exponent(e.exponent())},lu.apply(e,arguments)}function G6e(){return uP.apply(null,arguments).exponent(.5)}const gM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t1,scaleDiverging:PH,scaleDivergingLog:OH,scaleDivergingPow:uP,scaleDivergingSqrt:G6e,scaleDivergingSymlog:IH,scaleIdentity:uH,scaleImplicit:uE,scaleLinear:Yb,scaleLog:dH,scaleOrdinal:qC,scalePoint:Hg,scalePow:eP,scaleQuantile:mH,scaleQuantize:gH,scaleRadial:pH,scaleSequential:EH,scaleSequentialLog:kH,scaleSequentialPow:cP,scaleSequentialQuantile:CH,scaleSequentialSqrt:H6e,scaleSequentialSymlog:NH,scaleSqrt:kPe,scaleSymlog:hH,scaleThreshold:vH,scaleTime:q6e,scaleUtc:W6e,tickFormat:cH},Symbol.toStringTag,{value:"Module"}));var K6e=em;function Y6e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!K6e(s):r(s,o)))var o=s,l=i}return l}var jH=Y6e;function X6e(e,t){return e>t}var Q6e=X6e,J6e=jH,Z6e=Q6e,eOe=om;function tOe(e){return e&&e.length?J6e(e,eOe,Z6e):void 0}var rOe=tOe;const J5=yn(rOe);function nOe(e,t){return e<t}var aOe=nOe,iOe=jH,sOe=aOe,oOe=om;function lOe(e){return e&&e.length?iOe(e,oOe,sOe):void 0}var cOe=lOe;const Z5=yn(cOe);var uOe=AC,fOe=Kf,dOe=UW,hOe=Cs;function pOe(e,t){var r=hOe(e)?uOe:dOe;return r(e,fOe(t))}var mOe=pOe,gOe=$W,vOe=mOe;function yOe(e,t){return gOe(vOe(e,t),1)}var xOe=yOe;const bOe=yn(xOe);var wOe=$C;function _Oe(e,t){return wOe(e,t)}var SOe=_Oe;const e_=yn(SOe);var cm=1e9,AOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dP,zn=!0,Co="[DecimalError] ",qd=Co+"Invalid argument: ",fP=Co+"Exponent out of range: ",um=Math.floor,_d=Math.pow,TOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zs,Ha=1e7,Dn=7,DH=9007199254740991,Zb=um(DH/Dn),Gt={};Gt.absoluteValue=Gt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Gt.comparedTo=Gt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Gt.decimalPlaces=Gt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Gt.dividedBy=Gt.div=function(e){return Lc(this,new this.constructor(e))};Gt.dividedToIntegerBy=Gt.idiv=function(e){var t=this,r=t.constructor;return An(Lc(t,new r(e),0,1),r.precision)};Gt.equals=Gt.eq=function(e){return!this.cmp(e)};Gt.exponent=function(){return ka(this)};Gt.greaterThan=Gt.gt=function(e){return this.cmp(e)>0};Gt.greaterThanOrEqualTo=Gt.gte=function(e){return this.cmp(e)>=0};Gt.isInteger=Gt.isint=function(){return this.e>this.d.length-2};Gt.isNegative=Gt.isneg=function(){return this.s<0};Gt.isPositive=Gt.ispos=function(){return this.s>0};Gt.isZero=function(){return this.s===0};Gt.lessThan=Gt.lt=function(e){return this.cmp(e)<0};Gt.lessThanOrEqualTo=Gt.lte=function(e){return this.cmp(e)<1};Gt.logarithm=Gt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zs))throw Error(Co+"NaN");if(r.s<1)throw Error(Co+(r.s?"NaN":"-Infinity"));return r.eq(zs)?new n(0):(zn=!1,t=Lc(s1(r,i),s1(e,i),i),zn=!0,An(t,a))};Gt.minus=Gt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RH(t,e):LH(t,(e.s=-e.s,e))};Gt.modulo=Gt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Co+"NaN");return r.s?(zn=!1,t=Lc(r,e,0,1).times(e),zn=!0,r.minus(t)):An(new n(r),a)};Gt.naturalExponential=Gt.exp=function(){return MH(this)};Gt.naturalLogarithm=Gt.ln=function(){return s1(this)};Gt.negated=Gt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Gt.plus=Gt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LH(t,e):RH(t,(e.s=-e.s,e))};Gt.precision=Gt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qd+e);if(t=ka(a)+1,n=a.d.length-1,r=n*Dn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Gt.squareRoot=Gt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Co+"NaN")}for(e=ka(o),zn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ml(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=um((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Lc(o,i,s+2)).times(.5),Ml(i.d).slice(0,s)===(t=Ml(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(An(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return zn=!0,An(n,r)};Gt.times=Gt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Ha|0,t=o/Ha|0;i[a]=(i[a]+t)%Ha|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,zn?An(e,f.precision):e};Gt.toDecimalPlaces=Gt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ql(e,0,cm),t===void 0?t=n.rounding:Ql(t,0,8),An(r,e+ka(r)+1,t))};Gt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sh(n,!0):(Ql(e,0,cm),t===void 0?t=a.rounding:Ql(t,0,8),n=An(new a(n),e+1,t),r=sh(n,!0,e+1)),r};Gt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?sh(a):(Ql(e,0,cm),t===void 0?t=i.rounding:Ql(t,0,8),n=An(new i(a),e+ka(a)+1,t),r=sh(n.abs(),!1,e+ka(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Gt.toInteger=Gt.toint=function(){var e=this,t=e.constructor;return An(new t(e),ka(e)+1,t.rounding)};Gt.toNumber=function(){return+this};Gt.toPower=Gt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(zs);if(o=new l(o),!o.s){if(e.s<1)throw Error(Co+"Infinity");return o}if(o.eq(zs))return o;if(n=l.precision,e.eq(zs))return An(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=DH){for(a=new l(zs),t=Math.ceil(n/Dn+4),zn=!1;r%2&&(a=a.times(o),yM(a.d,t)),r=um(r/2),r!==0;)o=o.times(o),yM(o.d,t);return zn=!0,e.s<0?new l(zs).div(a):An(a,n)}}else if(i<0)throw Error(Co+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,zn=!1,a=e.times(s1(o,n+c)),zn=!0,a=MH(a),a.s=i,a};Gt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ka(a),n=sh(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ql(e,1,cm),t===void 0?t=i.rounding:Ql(t,0,8),a=An(new i(a),e,t),r=ka(a),n=sh(a,e<=r||r<=i.toExpNeg,e)),n};Gt.toSignificantDigits=Gt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ql(e,1,cm),t===void 0?t=n.rounding:Ql(t,0,8)),An(new n(r),e,t)};Gt.toString=Gt.valueOf=Gt.val=Gt.toJSON=Gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ka(e),r=e.constructor;return sh(e,t<=r.toExpNeg||t>=r.toExpPos)};function LH(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),zn?An(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Dn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Ha|0,l[i]%=Ha;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,zn?An(t,f):t}function Ql(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qd+e)}function Ml(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Dn-n.length,r&&(i+=qu(r)),i+=n;s=e[t],n=s+"",r=Dn-n.length,r&&(i+=qu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Lc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ha|0,s=i/Ha|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ha+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,g,m,v,y,b,w,O,C,I,T,S,A=n.constructor,j=n.s==a.s?1:-1,E=n.d,k=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Co+"Division by zero");for(l=n.e-a.e,T=k.length,C=E.length,p=new A(j),g=p.d=[],c=0;k[c]==(E[c]||0);)++c;if(k[c]>(E[c]||0)&&--l,i==null?b=i=A.precision:s?b=i+(ka(n)-ka(a))+1:b=i,b<0)return new A(0);if(b=b/Dn+2|0,c=0,T==1)for(u=0,k=k[0],b++;(c<C||u)&&b--;c++)w=u*Ha+(E[c]||0),g[c]=w/k|0,u=w%k|0;else{for(u=Ha/(k[0]+1)|0,u>1&&(k=e(k,u),E=e(E,u),T=k.length,C=E.length),O=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;S=k.slice(),S.unshift(0),I=k[0],k[1]>=Ha/2&&++I;do u=0,o=t(k,m,T,v),o<0?(y=m[0],T!=v&&(y=y*Ha+(m[1]||0)),u=y/I|0,u>1?(u>=Ha&&(u=Ha-1),f=e(k,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,T<h?S:k,h))):(u==0&&(o=u=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(k,m,T,v),o<1&&(u++,r(m,T<v?S:k,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[O]||0:(m=[E[O]],v=1);while((O++<C||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,An(p,s?i+ka(p)+1:i)}}();function MH(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ka(e)>16)throw Error(fP+ka(e));if(!e.s)return new u(zs);for(t==null?(zn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(_d(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(zs),u.precision=o;;){if(a=An(a.times(e),o),r=r.times(++l),s=i.plus(Lc(a,r,o)),Ml(s.d).slice(0,o)===Ml(i.d).slice(0,o)){for(;c--;)i=An(i.times(i),o);return u.precision=f,t==null?(zn=!0,An(i,f)):i}i=s}}function ka(e){for(var t=e.e*Dn,r=e.d[0];r>=10;r/=10)t++;return t}function uA(e,t,r){if(t>e.LN10.sd())throw zn=!0,r&&(e.precision=r),Error(Co+"LN10 precision limit exceeded");return An(new e(e.LN10),t)}function qu(e){for(var t="";e--;)t+="0";return t}function s1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Co+(p.s?"NaN":"-Infinity"));if(p.eq(zs))return new m(0);if(t==null?(zn=!1,c=v):c=t,p.eq(10))return t==null&&(zn=!0),uA(m,c);if(c+=h,m.precision=c,r=Ml(g),n=r.charAt(0),i=ka(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ml(p.d),n=r.charAt(0),f++;i=ka(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=uA(m,c+2,v).times(i+""),p=s1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(zn=!0,An(p,v)):p;for(o=s=p=Lc(p.minus(zs),p.plus(zs),c),u=An(p.times(p),c),a=3;;){if(s=An(s.times(u),c),l=o.plus(Lc(s,new m(a),c)),Ml(l.d).slice(0,c)===Ml(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(uA(m,c+2,v).times(i+""))),o=Lc(o,new m(f),c),m.precision=v,t==null?(zn=!0,An(o,v)):o;o=l,a+=2}}function vM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=um(r/Dn),e.d=[],n=(r+1)%Dn,r<0&&(n+=Dn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dn;n<a;)e.d.push(+t.slice(n,n+=Dn));t=t.slice(n),n=Dn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),zn&&(e.e>Zb||e.e<-Zb))throw Error(fP+r)}else e.s=0,e.e=0,e.d=[0];return e}function An(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Dn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Dn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Dn,a=n-Dn+s}if(r!==void 0&&(i=_d(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/_d(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ka(e),f.length=1,t=t-i-1,f[0]=_d(10,(Dn-t%Dn)%Dn),e.e=um(-t/Dn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=_d(10,Dn-n),f[u]=a>0?(c/_d(10,s-a)%_d(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Ha&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ha)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(zn&&(e.e>Zb||e.e<-Zb))throw Error(fP+ka(e));return e}function RH(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),zn?An(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Dn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Ha-1;--l[i],l[a]+=Ha}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,zn?An(t,p):t):new h(0)}function sh(e,t,r){var n,a=ka(e),i=Ml(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+qu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qu(-a-1)+i,r&&(n=r-s)>0&&(i+=qu(n))):a>=s?(i+=qu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+qu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=qu(n))),e.s<0?"-"+i:i}function yM(e,t){if(e.length>t)return e.length=t,!0}function FH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return vM(s,i.toString())}else if(typeof i!="string")throw Error(qd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,TOe.test(i))vM(s,i);else throw Error(qd+i)}if(a.prototype=Gt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FH,a.config=a.set=EOe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function EOe(e){if(!e||typeof e!="object")throw Error(Co+"Object expected");var t,r,n,a=["precision",1,cm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(um(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var dP=FH(AOe);zs=new dP(1);const gn=dP;function kOe(e){return OOe(e)||POe(e)||COe(e)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(e,t){if(e){if(typeof e=="string")return pE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(e,t)}}function POe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OOe(e){if(Array.isArray(e))return pE(e)}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IOe=function(t){return t},$H={"@@functional/placeholder":!0},BH=function(t){return t===$H},xM=function(t){return function r(){return arguments.length===0||arguments.length===1&&BH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},jOe=function e(t,r){return t===1?r:xM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==$H}).length;return s>=t?r.apply(void 0,a):e(t-s,xM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return BH(f)?l.shift():f});return r.apply(void 0,kOe(u).concat(l))}))})},t_=function(t){return jOe(t.length,t)},mE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},DOe=t_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),LOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},gE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},UH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function MOe(e){var t;return e===0?t=1:t=Math.floor(new gn(e).abs().log(10).toNumber())+1,t}function ROe(e,t,r){for(var n=new gn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var FOe=t_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),$Oe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),BOe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const r_={rangeStep:ROe,getDigitCount:MOe,interpolateNumber:FOe,uninterpolateNumber:$Oe,uninterpolateTruncation:BOe};function vE(e){return zOe(e)||VOe(e)||VH(e)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zOe(e){if(Array.isArray(e))return yE(e)}function o1(e,t){return HOe(e)||WOe(e,t)||VH(e,t)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VH(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function HOe(e){if(Array.isArray(e))return e}function zH(e){var t=o1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function qH(e,t,r){if(e.lte(0))return new gn(0);var n=r_.getDigitCount(e.toNumber()),a=new gn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new gn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new gn(Math.ceil(l))}function GOe(e,t,r){var n=1,a=new gn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new gn(10).pow(r_.getDigitCount(e)-1),a=new gn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new gn(Math.floor(e)))}else e===0?a=new gn(Math.floor((t-1)/2)):r||(a=new gn(Math.floor(e)));var s=Math.floor((t-1)/2),o=LOe(DOe(function(l){return a.add(new gn(l-s).mul(n)).toNumber()}),mE);return o(0,t)}function WH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gn(0),tickMin:new gn(0),tickMax:new gn(0)};var i=qH(new gn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new gn(0):(s=new gn(e).add(t).div(2),s=s.sub(new gn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new gn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?WH(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new gn(o).mul(i)),tickMax:s.add(new gn(l).mul(i))})}function KOe(e){var t=o1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=zH([r,n]),l=o1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(vE(mE(0,a-1).map(function(){return 1/0}))):[].concat(vE(mE(0,a-1).map(function(){return-1/0})),[u]);return r>n?gE(f):f}if(c===u)return GOe(c,a,i);var h=WH(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=r_.rangeStep(g,m.add(new gn(.1).mul(p)),p);return r>n?gE(v):v}function YOe(e,t){var r=o1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=zH([n,a]),o=o1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=qH(new gn(c).sub(l).div(u-1),i,0),h=[].concat(vE(r_.rangeStep(new gn(l),new gn(c).sub(new gn(.99).mul(f)),f)),[c]);return n>a?gE(h):h}var XOe=UH(KOe),QOe=UH(YOe),JOe="Invariant failed";function oh(e,t){throw new Error(JOe)}var ZOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function eIe(e,t){return aIe(e)||nIe(e,t)||rIe(e,t)||tIe()}function tIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rIe(e,t){if(e){if(typeof e=="string")return bM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bM(e,t)}}function bM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function aIe(e){if(Array.isArray(e))return e}function iIe(e,t){if(e==null)return{};var r=sIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KH(n.key),n)}}function cIe(e,t,r){return t&&lIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uIe(e,t,r){return t=tw(t),fIe(e,HH()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function fIe(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function hIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xE(e,t)}function GH(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=pIe(e,"string");return wp(t)=="symbol"?t:t+""}function pIe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fy=function(e){function t(){return oIe(this,t),uIe(this,t,arguments)}return hIe(t,e),cIe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=iIe(n,ZOe),p=Fr(h,!1);this.props.direction==="x"&&u.type!=="number"&&oh();var g=l.map(function(m){var v=c(m,o),y=v.x,b=v.y,w=v.value,O=v.errorVal;if(!O)return null;var C=[],I,T;if(Array.isArray(O)){var S=eIe(O,2);I=S[0],T=S[1]}else I=T=O;if(i==="vertical"){var A=u.scale,j=b+a,E=j+s,k=j-s,D=A(w-I),V=A(w+T);C.push({x1:V,y1:E,x2:V,y2:k}),C.push({x1:D,y1:j,x2:V,y2:j}),C.push({x1:D,y1:E,x2:D,y2:k})}else if(i==="horizontal"){var X=f.scale,Y=y+a,J=Y-s,H=Y+s,z=X(w-I),ee=X(w+T);C.push({x1:J,y1:ee,x2:H,y2:ee}),C.push({x1:Y,y1:z,x2:Y,y2:ee}),C.push({x1:J,y1:z,x2:H,y2:z})}return Ie.createElement(va,ew({className:"recharts-errorBar",key:"bar-".concat(C.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),C.map(function(W){return Ie.createElement("line",ew({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return Ie.createElement(va,{className:"recharts-errorBars"},g)}}])}(Ie.Component);GH(fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});GH(fy,"displayName","ErrorBar");function l1(e){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(e)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){mIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mIe(e,t,r){return t=gIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gIe(e){var t=vIe(e,"string");return l1(t)=="symbol"?t:t+""}function vIe(e,t){if(l1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Bs(r,hl);if(!s)return null;var o=hl.defaultProps,l=o!==void 0?pd(pd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?pd(pd({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:hP(f),value:m||g,payload:p}}),pd(pd(pd({},l),hl.getWithHeight(s,a)),{},{payload:c,item:s})};function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function _M(e){return wIe(e)||bIe(e)||xIe(e)||yIe()}function yIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xIe(e,t){if(e){if(typeof e=="string")return bE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(e,t)}}function bIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wIe(e){if(Array.isArray(e))return bE(e)}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){B0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B0(e,t,r){return t=_Ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ie(e){var t=SIe(e,"string");return c1(t)=="symbol"?t:t+""}function SIe(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qs(e,t,r){return Mr(e)||Mr(t)?r:Ra(t)?So(e,t,r):Nr(t)?t(e):r}function Gg(e,t,r,n){var a=bOe(e,function(o){return Qs(o,t)});if(r==="number"){var i=a.filter(function(o){return Rt(o)||parseFloat(o)});return i.length?[Z5(i),J5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Mr(o)}):a;return s.map(function(o){return Ra(o)||o instanceof Date?o:""})}var AIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(ll(f-u)!==ll(h-f)){var g=[];if(ll(h-f)===ll(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},hP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},TIe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Ic(T.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?oa(oa({},b),y[0].props):y[0].props,O=w.barSize,C=w[v];s[C]||(s[C]=[]);var I=Mr(O)?r:O;s[C].push({item:y[0],stackList:y.slice(1),barSize:Mr(I)?void 0:ih(I,n,0)})}}return s},EIe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ih(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(O,C){return O+C.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(O,C){var I={item:C.item,position:{offset:v.offset+v.size+c,size:h?p:C.barSize}},T=[].concat(_M(O),[I]);return v=T[T.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:v})}),T},f)}else{var y=ih(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(O,C,I){var T=[].concat(_M(O),[{item:C.item,position:{offset:y+(b+c)*I+(b-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},f)}return u},kIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=YH({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Rt(t[p]))return oa(oa({},t),{},B0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Rt(t[g]))return oa(oa({},t),{},B0({},g,t[g]+(h||0)))}return t},NIe=function(t,r,n){return Mr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},XH=function(t,r,n,a,i){var s=r.props.children,o=Ao(s,fy).filter(function(c){return NIe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Qs(u,n);if(Mr(f))return c;var h=Array.isArray(f)?[Z5(f),J5(f)]:[f,f],p=l.reduce(function(g,m){var v=Qs(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},CIe=function(t,r,n,a,i){var s=r.map(function(o){return XH(t,o,n,i,a)}).filter(function(o){return!Mr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},QH=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&XH(t,l,c,a)||Gg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},JH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ZH=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Ec=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ll(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!ay(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},fA=new WeakMap,Cx=function(t,r){if(typeof r!="function")return t;fA.has(t)||fA.set(t,new WeakMap);var n=fA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},PIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:t1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Yb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hg(),realScaleType:"point"}:i==="category"?{scale:t1(),realScaleType:"band"}:{scale:Yb(),realScaleType:"linear"};if(ah(a)){var l="scale".concat($5(a));return{scale:(gM[l]||Hg)(),realScaleType:gM[l]?l:"point"}}return Nr(a)?{scale:a}:{scale:Hg(),realScaleType:"point"}},AM=1e-4,OIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-AM,s=Math.max(a[0],a[1])+AM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},IIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},jIe=function(t,r){if(!r||r.length!==2||!Rt(r[0])||!Rt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Rt(t[0])||t[0]<n)&&(i[0]=n),(!Rt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},DIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=ay(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},LIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=ay(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},MIe={sign:DIe,expand:Q5e,none:hp,silhouette:J5e,wiggle:Z5e,positive:LIe},RIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=MIe[n],s=X5e().keys(a).value(function(o,l){return+Qs(o,l,0)}).order(WT).offset(i);return s(t)},FIe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?oa(oa({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Ra(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[iy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return oa(oa({},f),{},B0({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return oa(oa({},m),{},B0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:RIe(t,y.items,i)}))},g)}return oa(oa({},f),{},B0({},h,p))},u)},$Ie=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=XOe(c,i,o);return t.domain([Z5(u),J5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=QOe(f,i,o);return{niceTicks:h}}return null};function TM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mr(a[t.dataKey])){var o=Eb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Qs(a,Mr(s)?t.dataKey:s);return Mr(l)?null:t.scale(l)}var EM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Qs(s,r.dataKey,r.domain[o]);return Mr(l)?null:r.scale(l)-i/2+a},BIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},UIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ra(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},VIe=function(t){return t.reduce(function(r,n){return[Z5(n.concat([r[0]]).filter(Rt)),J5(n.concat([r[1]]).filter(Rt))]},[1/0,-1/0])},eG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=VIe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},kM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wE=function(t,r,n){if(Nr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Rt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(kM.test(t[0])){var i=+kM.exec(t[0])[1];a[0]=r[0]-i}else Nr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Rt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(NM.test(t[1])){var s=+NM.exec(t[1])[1];a[1]=r[1]+s}else Nr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=UC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},CM=function(t,r,n){return!t||!t.length||e_(t,So(n,"type.defaultProps.domain"))?r:t},tG=function(t,r){var n=t.type.defaultProps?oa(oa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return oa(oa({},Fr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:hP(t),value:Qs(r,a),type:l,payload:r,chartType:c,hide:u})};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){zIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zIe(e,t,r){return t=qIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qIe(e){var t=WIe(e,"string");return u1(t)=="symbol"?t:t+""}function WIe(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nw=Math.PI/180,HIe=function(t){return t*180/Math.PI},di=function(t,r,n,a){return{x:t+Math.cos(-nw*a)*n,y:r+Math.sin(-nw*a)*n}},GIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},KIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=GIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:HIe(c),angleInRadian:c}},YIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},XIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},IM=function(t,r){var n=t.x,a=t.y,i=KIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=YIe(r),f=u.startAngle,h=u.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?OM(OM({},r),{},{radius:s,angle:XIe(p,r)}):null};function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}var QIe=["offset"];function JIe(e){return rje(e)||tje(e)||eje(e)||ZIe()}function ZIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eje(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function tje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rje(e){if(Array.isArray(e))return _E(e)}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nje(e,t){if(e==null)return{};var r=aje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){ije(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ije(e,t,r){return t=sje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sje(e){var t=oje(e,"string");return f1(t)=="symbol"?t:t+""}function oje(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(this,arguments)}var lje=function(t){var r=t.value,n=t.formatter,a=Mr(t.children)?r:t.children;return Nr(n)?n(a):a},cje=function(t,r){var n=ll(r-t),a=Math.min(Math.abs(r-t),360);return n*a},uje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=cje(p,g),b=y>=0?1:-1,w,O;a==="insideStart"?(w=p+b*s,O=m):a==="insideEnd"?(w=g-b*s,O=!m):a==="end"&&(w=g+b*s,O=m),O=y<=0?O:!O;var C=di(c,u,v,w),I=di(c,u,v,w+(O?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Mr(t.id)?iy("recharts-radial-line-"):t.id;return Ie.createElement("text",d1({},n,{dominantBaseline:"central",className:Kr("recharts-radial-bar-label",o)}),Ie.createElement("defs",null,Ie.createElement("path",{id:S,d:T})),Ie.createElement("textPath",{xlinkHref:"#".concat(S)},r))},fje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=di(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=di(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},dje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Oa(Oa({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Oa(Oa({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var C={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Oa(Oa({},C),n?{width:Math.max(C.x-n.x,0),height:u}:{})}if(i==="right"){var I={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Oa(Oa({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?Oa({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?Oa({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?Oa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?Oa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?Oa({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},T):i==="insideTopRight"?Oa({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?Oa({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},T):i==="insideBottomRight"?Oa({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):tm(i)&&(Rt(i.x)||jd(i.x))&&(Rt(i.y)||jd(i.y))?Oa({x:o+ih(i.x,c),y:l+ih(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):Oa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},hje=function(t){return"cx"in t&&Rt(t.cx)};function Li(e){var t=e.offset,r=t===void 0?5:t,n=nje(e,QIe),a=Oa({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Mr(o)&&Mr(l)&&!U.isValidElement(c)&&!Nr(c))return null;if(U.isValidElement(c))return U.cloneElement(c,a);var p;if(Nr(c)){if(p=U.createElement(c,a),U.isValidElement(p))return p}else p=lje(a);var g=hje(i),m=Fr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return uje(a,p,m);var v=g?fje(a):dje(a);return Ie.createElement(Vb,d1({className:Kr("recharts-label",f)},m,v,{breakAll:h}),p)}Li.displayName="Label";var rG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Rt(m)&&Rt(v)){if(Rt(f)&&Rt(h))return{x:f,y:h,width:m,height:v};if(Rt(p)&&Rt(g))return{x:p,y:g,width:m,height:v}}return Rt(f)&&Rt(h)?{x:f,y:h,width:0,height:0}:Rt(r)&&Rt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},pje=function(t,r){return t?t===!0?Ie.createElement(Li,{key:"label-implicit",viewBox:r}):Ra(t)?Ie.createElement(Li,{key:"label-implicit",viewBox:r,value:t}):U.isValidElement(t)?t.type===Li?U.cloneElement(t,{key:"label-implicit",viewBox:r}):Ie.createElement(Li,{key:"label-implicit",content:t,viewBox:r}):Nr(t)?Ie.createElement(Li,{key:"label-implicit",content:t,viewBox:r}):tm(t)?Ie.createElement(Li,d1({viewBox:r},t,{key:"label-implicit"})):null:null},mje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=rG(t),s=Ao(a,Li).map(function(l,c){return U.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=pje(t.label,r||i);return[o].concat(JIe(s))};Li.parseViewBox=rG;Li.renderCallByParent=mje;function gje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vje=gje;const yje=yn(vje);function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}var xje=["valueAccessor"],bje=["data","dataKey","clockWise","id","textBreakAll"];function wje(e){return Tje(e)||Aje(e)||Sje(e)||_je()}function _je(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function Aje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tje(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){Eje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eje(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Nje(e,"string");return h1(t)=="symbol"?t:t+""}function Nje(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MM(e,t){if(e==null)return{};var r=Cje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pje=function(t){return Array.isArray(t.value)?yje(t.value):t.value};function Sf(e){var t=e.valueAccessor,r=t===void 0?Pje:t,n=MM(e,xje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=MM(n,bje);return!a||!a.length?null:Ie.createElement(va,{className:"recharts-label-list"},a.map(function(u,f){var h=Mr(i)?r(u,f):Qs(u&&u.payload,i),p=Mr(o)?{}:{id:"".concat(o,"-").concat(f)};return Ie.createElement(Li,aw({},Fr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Li.parseViewBox(Mr(s)?u:LM(LM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Sf.displayName="LabelList";function Oje(e,t){return e?e===!0?Ie.createElement(Sf,{key:"labelList-implicit",data:t}):Ie.isValidElement(e)||Nr(e)?Ie.createElement(Sf,{key:"labelList-implicit",data:t,content:e}):tm(e)?Ie.createElement(Sf,aw({data:t},e,{key:"labelList-implicit"})):null:null}function Ije(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ao(n,Sf).map(function(s,o){return U.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Oje(e.label,t);return[i].concat(wje(a))}Sf.renderCallByParent=Ije;function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AE.apply(this,arguments)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jje(e,t,r){return t=Dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dje(e){var t=Lje(e,"string");return p1(t)=="symbol"?t:t+""}function Lje(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mje=function(t,r){var n=ll(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Px=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/nw,h=c?i:i+s*f,p=di(r,n,u,h),g=di(r,n,a,h),m=c?i-s*f:i,v=di(r,n,u*Math.cos(f*nw),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},nG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Mje(s,o),c=s+l,u=di(r,n,i,s),f=di(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=di(r,n,a,s),g=di(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Rje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=ll(u-c),h=Px({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Px({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(O<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):nG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var I=Px({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=I.circleTangency,S=I.lineTangency,A=I.theta,j=Px({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=j.circleTangency,k=j.lineTangency,D=j.theta,V=l?Math.abs(c-u):Math.abs(c-u)-A-D;if(V<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Fje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aG=function(t){var r=FM(FM({},Fje),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=Kr("recharts-sector",h),g=s-i,m=ih(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Rje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=nG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ie.createElement("path",AE({},Fr(r,!0),{className:p,d:v,role:"img"}))};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){$je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t,r){return t=Bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bje(e){var t=Uje(e,"string");return m1(t)=="symbol"?t:t+""}function Uje(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM={curveBasisClosed:$5e,curveBasisOpen:B5e,curveBasis:F5e,curveBumpX:A5e,curveBumpY:T5e,curveLinearClosed:U5e,curveLinear:U5,curveMonotoneX:V5e,curveMonotoneY:z5e,curveNatural:q5e,curveStep:W5e,curveStepAfter:G5e,curveStepBefore:H5e},Ox=function(t){return t.x===+t.x&&t.y===+t.y},Gm=function(t){return t.x},Km=function(t){return t.y},Vje=function(t,r){if(Nr(t))return t;var n="curve".concat($5(t));return(n==="curveMonotone"||n==="curveBump")&&r?UM["".concat(n).concat(r==="vertical"?"Y":"X")]:UM[n]||U5},zje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Vje(n,o),f=c?i.filter(function(m){return Ox(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Ox(m)}):s,g=f.map(function(m,v){return BM(BM({},m),{},{base:p[v]})});return o==="vertical"?h=wx().y(Km).x1(Gm).x0(function(m){return m.base.x}):h=wx().x(Gm).y1(Km).y0(function(m){return m.base.y}),h.defined(Ox).curve(u),h(g)}return o==="vertical"&&Rt(s)?h=wx().y(Km).x1(Gm).x0(s):Rt(s)?h=wx().x(Gm).y1(Km).y0(s):h=aW().x(Gm).y(Km),h.defined(Ox).curve(u),h(f)},EE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?zje(t):a;return Ie.createElement("path",TE({},Fr(t,!1),kb(t),{className:Kr("recharts-curve",r),d:s,ref:i}))},iG={exports:{}},qje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wje=qje,Hje=Wje;function sG(){}function oG(){}oG.resetWarningCache=sG;var Gje=function(){function e(n,a,i,s,o,l){if(l!==Hje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oG,resetWarningCache:sG};return r.PropTypes=r,r};iG.exports=Gje();var Kje=iG.exports;const nn=yn(Kje);var Yje=Object.getOwnPropertyNames,Xje=Object.getOwnPropertySymbols,Qje=Object.prototype.hasOwnProperty;function VM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ix(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function zM(e){return Yje(e).concat(Xje(e))}var Jje=Object.hasOwn||function(e,t){return Qje.call(e,t)};function Sh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Zje="__v",eDe="__o",tDe="_owner",qM=Object.getOwnPropertyDescriptor,WM=Object.keys;function rDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function nDe(e,t){return Sh(e.getTime(),t.getTime())}function aDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iDe(e,t){return e===t}function HM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var sDe=Sh;function oDe(e,t,r){var n=WM(e),a=n.length;if(WM(t).length!==a)return!1;for(;a-- >0;)if(!lG(e,t,r,n[a]))return!1;return!0}function Ym(e,t,r){var n=zM(e),a=n.length;if(zM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!lG(e,t,r,i)||(s=qM(e,i),o=qM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function lDe(e,t){return Sh(e.valueOf(),t.valueOf())}function cDe(e,t){return e.source===t.source&&e.flags===t.flags}function GM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function uDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function fDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lG(e,t,r,n){return(n===tDe||n===eDe||n===Zje)&&(e.$$typeof||t.$$typeof)?!0:Jje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var dDe="[object Arguments]",hDe="[object Boolean]",pDe="[object Date]",mDe="[object Error]",gDe="[object Map]",vDe="[object Number]",yDe="[object Object]",xDe="[object RegExp]",bDe="[object Set]",wDe="[object String]",_De="[object URL]",SDe=Array.isArray,KM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,YM=Object.assign,ADe=Object.prototype.toString.call.bind(Object.prototype.toString);function TDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if(SDe(g))return t(g,m,v);if(KM!=null&&KM(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return c(g,m,v);if(b===Map)return i(g,m,v);if(b===Set)return u(g,m,v);var w=ADe(g);return w===pDe?r(g,m,v):w===xDe?c(g,m,v):w===gDe?i(g,m,v):w===bDe?u(g,m,v):w===yDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):w===_De?h(g,m,v):w===mDe?n(g,m,v):w===dDe?o(g,m,v):w===hDe||w===vDe||w===wDe?l(g,m,v):!1}}function EDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ym:rDe,areDatesEqual:nDe,areErrorsEqual:aDe,areFunctionsEqual:iDe,areMapsEqual:n?VM(HM,Ym):HM,areNumbersEqual:sDe,areObjectsEqual:n?Ym:oDe,arePrimitiveWrappersEqual:lDe,areRegExpsEqual:cDe,areSetsEqual:n?VM(GM,Ym):GM,areTypedArraysEqual:n?Ym:uDe,areUrlsEqual:fDe};if(r&&(a=YM({},a,r(a))),t){var i=Ix(a.areArraysEqual),s=Ix(a.areMapsEqual),o=Ix(a.areObjectsEqual),l=Ix(a.areSetsEqual);a=YM({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function kDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function NDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var CDe=Qf();Qf({strict:!0});Qf({circular:!0});Qf({circular:!0,strict:!0});Qf({createInternalComparator:function(){return Sh}});Qf({strict:!0,createInternalComparator:function(){return Sh}});Qf({circular:!0,createInternalComparator:function(){return Sh}});Qf({circular:!0,createInternalComparator:function(){return Sh},strict:!0});function Qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=EDe(e),l=TDe(o),c=n?n(l):kDe(l);return NDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function PDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function XM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):PDe(a)};requestAnimationFrame(n)}function kE(e){"@babel/helpers - typeof";return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kE(e)}function ODe(e){return LDe(e)||DDe(e)||jDe(e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jDe(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LDe(e){if(Array.isArray(e))return e}function MDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ODe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){XM(a.bind(null,c),l);return}a(l),XM(a.bind(null,c));return}kE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return t=RDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RDe(e){var t=FDe(e,"string");return g1(t)==="symbol"?t:String(t)}function FDe(e,t){if(g1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $De=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},BDe=function(t){return t},UDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Kg=function(t,r){return Object.keys(r).reduce(function(n,a){return ZM(ZM({},n),{},cG({},a,t(a,r[a])))},{})},eR=function(t,r,n){return t.map(function(a){return"".concat(UDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function VDe(e,t){return WDe(e)||qDe(e,t)||uG(e,t)||zDe()}function zDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function WDe(e){if(Array.isArray(e))return e}function HDe(e){return YDe(e)||KDe(e)||uG(e)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return NE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(e,t)}}function KDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YDe(e){if(Array.isArray(e))return NE(e)}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iw=1e-4,fG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},dG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},tR=function(t,r){return function(n){var a=fG(t,r);return dG(a,n)}},XDe=function(t,r){return function(n){var a=fG(t,r),i=[].concat(HDe(a.map(function(s,o){return s*o}).slice(1)),[0]);return dG(i,n)}},rR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=VDe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=tR(a,s),h=tR(i,o),p=XDe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,O=0;O<8;++O){var C=f(w)-b,I=p(w);if(Math.abs(C-b)<iw||I<iw)return h(w);w=g(w-C/I)}return h(w)};return m.isStepper=!1,m},QDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<iw&&Math.abs(m)<iw?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},JDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rR(a);case"spring":return QDe();default:if(a.split("(")[0]==="cubic-bezier")return rR(a)}return typeof a=="function"?a:null};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function nR(e){return t8e(e)||e8e(e)||hG(e)||ZDe()}function ZDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return PE(e)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){CE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CE(e,t,r){return t=r8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8e(e){var t=n8e(e,"string");return v1(t)==="symbol"?t:String(t)}function n8e(e,t){if(v1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a8e(e,t){return o8e(e)||s8e(e,t)||hG(e,t)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function o8e(e){if(Array.isArray(e))return e}var sw=function(t,r,n){return t+(r-t)*n},OE=function(t){var r=t.from,n=t.to;return r!==n},l8e=function e(t,r,n){var a=Kg(function(i,s){if(OE(s)){var o=t(s.from,s.to,s.velocity),l=a8e(o,2),c=l[0],u=l[1];return ai(ai({},s),{},{from:c,velocity:u})}return s},r);return n<1?Kg(function(i,s){return OE(s)?ai(ai({},s),{},{velocity:sw(s.velocity,a[i].velocity,n),from:sw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const c8e=function(e,t,r,n,a){var i=$De(e,t),s=i.reduce(function(v,y){return ai(ai({},v),{},CE({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return ai(ai({},v),{},CE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Kg(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(OE).length},g=function(y){c||(c=y);var b=y-c,w=b/r.dt;o=l8e(r,o,w),a(ai(ai(ai({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,w=Kg(function(C,I){return sw.apply(void 0,nR(I).concat([r(b)]))},s);if(a(ai(ai(ai({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var O=Kg(function(C,I){return sw.apply(void 0,nR(I).concat([r(1)]))},s);a(ai(ai(ai({},e),t),O))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}var u8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function f8e(e,t){if(e==null)return{};var r=d8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dA(e){return g8e(e)||m8e(e)||p8e(e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8e(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function m8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g8e(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pg(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function x8e(e,t,r){return t&&y8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pG(e){var t=b8e(e,"string");return _p(t)==="symbol"?t:String(t)}function b8e(e,t){if(_p(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jE(e,t)}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jE(e,t)}function _8e(e){var t=S8e();return function(){var n=ow(e),a;if(t){var i=ow(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return DE(this,a)}}function DE(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LE(e)}function LE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}var Jc=function(e){w8e(r,e);var t=_8e(r);function r(n,a){var i;v8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(LE(i)),i.changeStyle=i.changeStyle.bind(LE(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),DE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},DE(i);i.state={style:l?pg({},l,c):c}}else i.state={style:{}};return i}return x8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?pg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(CDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?pg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Ho(Ho({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=c8e(s,o,JDe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,O=w===void 0?"ease":w,C=v.style,I=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,A=I||Object.keys(C);if(typeof O=="function"||O==="spring")return[].concat(dA(m),[i.runJSAnimation.bind(i,{from:S.style,to:C,duration:b,easing:O}),b]);var j=eR(A,b,O),E=Ho(Ho(Ho({},S.style),C),{},{transition:j});return[].concat(dA(m),[E,b,T]).filter(BDe)};return this.manager.start([l].concat(dA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=MDe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?pg({},o,l):l,v=eR(Object.keys(m),s,c);g.start([u,i,Ho(Ho({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=f8e(a,u8e),c=U.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=U.cloneElement(p,Ho(Ho({},l),{},{style:Ho(Ho({},v),u),className:y}));return b};return c===1?f(U.Children.only(i)):Ie.createElement("div",null,U.Children.map(i,function(h){return f(h)}))}}]),r}(U.PureComponent);Jc.displayName="Animate";Jc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jc.propTypes={from:nn.oneOfType([nn.object,nn.string]),to:nn.oneOfType([nn.object,nn.string]),attributeName:nn.string,duration:nn.number,begin:nn.number,easing:nn.oneOfType([nn.string,nn.func]),steps:nn.arrayOf(nn.shape({duration:nn.number.isRequired,style:nn.object.isRequired,easing:nn.oneOfType([nn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nn.func]),properties:nn.arrayOf("string"),onAnimationEnd:nn.func})),children:nn.oneOfType([nn.node,nn.func]),isActive:nn.bool,canBegin:nn.bool,onAnimationEnd:nn.func,shouldReAnimate:nn.bool,onAnimationStart:nn.func,onAnimationReStart:nn.func};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function A8e(e,t){return N8e(e)||k8e(e,t)||E8e(e,t)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e,t){if(e){if(typeof e=="string")return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function N8e(e){if(Array.isArray(e))return e}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){C8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8e(e,t,r){return t=P8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8e(e){var t=O8e(e,"string");return y1(t)=="symbol"?t:t+""}function O8e(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},I8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},j8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pP=function(t){var r=lR(lR({},j8e),t),n=U.useRef(),a=U.useState(-1),i=A8e(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Kr("recharts-rectangle",p);return b?Ie.createElement(Jc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(O){var C=O.width,I=O.height,T=O.x,S=O.y;return Ie.createElement(Jc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Ie.createElement("path",lw({},Fr(r,!0),{className:w,d:cR(T,S,C,I,h),ref:n})))}):Ie.createElement("path",lw({},Fr(r,!0),{className:w,d:cR(l,c,u,f,h)}))};function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}var mP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Kr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ie.createElement("circle",ME({},Fr(t,!1),kb(t),{className:s,cx:r,cy:n,r:a})):null};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}var D8e=["x","y","top","left","width","height","className"];function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RE.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){M8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8e(e,t,r){return t=R8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8e(e){var t=F8e(e,"string");return x1(t)=="symbol"?t:t+""}function F8e(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $8e(e,t){if(e==null)return{};var r=B8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U8e=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},V8e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=$8e(t,D8e),v=L8e({x:n,y:i,top:o,left:c,width:f,height:p},m);return!Rt(n)||!Rt(i)||!Rt(f)||!Rt(p)||!Rt(o)||!Rt(c)?null:Ie.createElement("path",RE({},Fr(v,!0),{className:Kr("recharts-cross",g),d:U8e(n,i,f,p,o,c)}))},z8e=NW,q8e=z8e(Object.getPrototypeOf,Object),W8e=q8e,H8e=su,G8e=W8e,K8e=ou,Y8e="[object Object]",X8e=Function.prototype,Q8e=Object.prototype,mG=X8e.toString,J8e=Q8e.hasOwnProperty,Z8e=mG.call(Object);function eLe(e){if(!K8e(e)||H8e(e)!=Y8e)return!1;var t=G8e(e);if(t===null)return!0;var r=J8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mG.call(r)==Z8e}var tLe=eLe;const rLe=yn(tLe);var nLe=su,aLe=ou,iLe="[object Boolean]";function sLe(e){return e===!0||e===!1||aLe(e)&&nLe(e)==iLe}var oLe=sLe;const lLe=yn(oLe);function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function cLe(e,t){return hLe(e)||dLe(e,t)||fLe(e,t)||uLe()}function uLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fLe(e,t){if(e){if(typeof e=="string")return fR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hLe(e){if(Array.isArray(e))return e}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){pLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pLe(e,t,r){return t=mLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mLe(e){var t=gLe(e,"string");return b1(t)=="symbol"?t:t+""}function gLe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},vLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yLe=function(t){var r=hR(hR({},vLe),t),n=U.useRef(),a=U.useState(-1),i=cLe(a,2),s=i[0],o=i[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Kr("recharts-trapezoid",p);return y?Ie.createElement(Jc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(w){var O=w.upperWidth,C=w.lowerWidth,I=w.height,T=w.x,S=w.y;return Ie.createElement(Jc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ie.createElement("path",cw({},Fr(r,!0),{className:b,d:pR(T,S,O,C,I),ref:n})))}):Ie.createElement("g",null,Ie.createElement("path",cw({},Fr(r,!0),{className:b,d:pR(l,c,u,f,h)})))},xLe=["option","shapeType","propTransformer","activeClassName","isActive"];function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function bLe(e,t){if(e==null)return{};var r=wLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){_Le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Le(e,t,r){return t=SLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SLe(e){var t=ALe(e,"string");return w1(t)=="symbol"?t:t+""}function ALe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TLe(e,t){return uw(uw({},t),e)}function ELe(e,t){return e==="symbols"}function gR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ie.createElement(pP,r);case"trapezoid":return Ie.createElement(yLe,r);case"sector":return Ie.createElement(aG,r);case"symbols":if(ELe(t))return Ie.createElement(jC,r);break;default:return null}}function kLe(e){return U.isValidElement(e)?e.props:e}function NLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?TLe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=bLe(e,xLe),c;if(U.isValidElement(t))c=U.cloneElement(t,uw(uw({},l),kLe(t)));else if(Nr(t))c=t(l);else if(rLe(t)&&!lLe(t)){var u=a(t,l);c=Ie.createElement(gR,{shapeType:r,elementProps:u})}else{var f=l;c=Ie.createElement(gR,{shapeType:r,elementProps:f})}return o?Ie.createElement(va,{className:s},c):c}function n_(e,t){return t!=null&&"trapezoids"in e.props}function a_(e,t){return t!=null&&"sectors"in e.props}function _1(e,t){return t!=null&&"points"in e.props}function CLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function PLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function OLe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ILe(e,t){var r;return n_(e,t)?r=CLe:a_(e,t)?r=PLe:_1(e,t)&&(r=OLe),r}function jLe(e,t){var r;return n_(e,t)?r="trapezoids":a_(e,t)?r="sectors":_1(e,t)&&(r="points"),r}function DLe(e,t){if(n_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(a_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _1(e,t)?t.payload:{}}function LLe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=jLe(r,t),i=DLe(r,t),s=n.filter(function(l,c){var u=e_(i,l),f=r.props[a].filter(function(g){var m=ILe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var MLe=Math.ceil,RLe=Math.max;function FLe(e,t,r,n){for(var a=-1,i=RLe(MLe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var $Le=FLe,BLe=GW,vR=1/0,ULe=17976931348623157e292;function VLe(e){if(!e)return e===0?e:0;if(e=BLe(e),e===vR||e===-vR){var t=e<0?-1:1;return t*ULe}return e===e?e:0}var gG=VLe,zLe=$Le,qLe=W5,hA=gG;function WLe(e){return function(t,r,n){return n&&typeof n!="number"&&qLe(t,r,n)&&(r=n=void 0),t=hA(t),r===void 0?(r=t,t=0):r=hA(r),n=n===void 0?t<r?1:-1:hA(n),zLe(t,r,n,e)}}var HLe=WLe,GLe=HLe,KLe=GLe(),YLe=KLe;const fw=yn(YLe);function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){vG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vG(e,t,r){return t=XLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XLe(e){var t=QLe(e,"string");return S1(t)=="symbol"?t:t+""}function QLe(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JLe=["Webkit","Moz","O","ms"],ZLe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=JLe.reduce(function(i,s){return xR(xR({},i),{},vG({},s+n,r))},{});return a[t]=r,a};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){Fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xG(n.key),n)}}function tMe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rMe(e,t,r){return t=hw(t),nMe(e,yG()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function nMe(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aMe(e)}function aMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function iMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FE(e,t)}function Fs(e,t,r){return t=xG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=sMe(e,"string");return Sp(t)=="symbol"?t:t+""}function sMe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Hg().domain(fw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},_R=function(t){return t.changedTouches&&!!t.changedTouches.length},Ap=function(e){function t(r){var n;return eMe(this,t),n=rMe(this,t,[r]),Fs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Fs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Fs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Fs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fs(n,"handleSlideDragStart",function(a){var i=_R(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return iMe(t,e),tMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Qs(i[n],o,n);return Nr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_R(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var w=this.getIndex(y),O=w.startIndex,C=w.endIndex,I=function(){var S=v.length-1;return s==="startX"&&(o>l?O%m===0:C%m===0)||o<l&&C===S||s==="endX"&&(o>l?C%m===0:O%m===0)||o>l&&C===S};this.setState(Fs(Fs({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&I()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Fs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ie.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=U.Children.only(c);return f?Ie.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=pA(pA({},Fr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Ie.createElement(va,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Ie.createElement(va,{className:"recharts-brush-texts"},Ie.createElement(Vb,dw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Ie.createElement(Vb,dw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Rt(o)||!Rt(l)||!Rt(c)||!Rt(u)||c<=0||u<=0)return null;var w=Kr("recharts-brush",i),O=Ie.Children.count(s)===1,C=ZLe("userSelect","none");return Ie.createElement(va,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ie.createElement(Ie.Fragment,null,Ie.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ie.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ie.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ie.isValidElement(n)?i=Ie.cloneElement(n,a):Nr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return pA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?oMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(U.PureComponent);Fs(Ap,"displayName","Brush");Fs(Ap,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lMe=BC;function cMe(e,t){var r;return lMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var uMe=cMe,fMe=bW,dMe=Kf,hMe=uMe,pMe=Cs,mMe=W5;function gMe(e,t,r){var n=pMe(e)?fMe:hMe;return r&&mMe(e,t,r)&&(t=void 0),n(e,dMe(t))}var vMe=gMe;const yMe=yn(vMe);var Hl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},SR=VW;function xMe(e,t,r){t=="__proto__"&&SR?SR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var bMe=xMe,wMe=bMe,_Me=BW,SMe=Kf;function AMe(e,t){var r={};return t=SMe(t),_Me(e,function(n,a,i){wMe(r,a,t(n,a,i))}),r}var TMe=AMe;const EMe=yn(TMe);function kMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var NMe=kMe,CMe=BC;function PMe(e,t){var r=!0;return CMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var OMe=PMe,IMe=NMe,jMe=OMe,DMe=Kf,LMe=Cs,MMe=W5;function RMe(e,t,r){var n=LMe(e)?IMe:jMe;return r&&MMe(e,t,r)&&(t=void 0),n(e,DMe(t))}var FMe=RMe;const bG=yn(FMe);var $Me=["x","y"];function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){BMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BMe(e,t,r){return t=UMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UMe(e){var t=VMe(e,"string");return A1(t)=="symbol"?t:t+""}function VMe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zMe(e,t){if(e==null)return{};var r=qMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WMe(e,t){var r=e.x,n=e.y,a=zMe(e,$Me),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Xm(Xm(Xm(Xm(Xm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function TR(e){return Ie.createElement(NLe,$E({shapeType:"rectangle",propTransformer:WMe,activeClassName:"recharts-active-bar"},e))}var HMe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||oh(),r)}},GMe=["value","background"],wG;function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function KMe(e,t){if(e==null)return{};var r=YMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){af(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SG(n.key),n)}}function QMe(e,t,r){return t&&kR(e.prototype,t),r&&kR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JMe(e,t,r){return t=mw(t),ZMe(e,_G()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function ZMe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(e)}function eRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function tRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BE(e,t)}function af(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=rRe(e,"string");return Tp(t)=="symbol"?t:t+""}function rRe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=function(e){function t(){var r;XMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=JMe(this,t,[].concat(a)),af(r,"state",{isAnimationFinished:!1}),af(r,"id",iy("recharts-bar-")),af(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),af(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return tRe(t,e),QMe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Fr(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,m=Aa(Aa(Aa({},u),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ie.createElement(va,pw({className:"recharts-bar-rectangle"},Nb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ie.createElement(TR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ie.createElement(Jc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=nl(b.x,v.x),O=nl(b.y,v.y),C=nl(b.width,v.width),I=nl(b.height,v.height);return Aa(Aa({},v),{},{x:w(g),y:O(g),width:C(g),height:I(g)})}if(s==="horizontal"){var T=nl(0,v.height),S=T(g);return Aa(Aa({},v),{},{y:v.y+v.height-S,height:S})}var A=nl(0,v.width),j=A(g);return Aa(Aa({},v),{},{width:j})});return Ie.createElement(va,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!e_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Fr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=KMe(c,GMe);if(!f)return null;var p=Aa(Aa(Aa(Aa(Aa({},h),{},{fill:"#eee"},f),l),Nb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ie.createElement(TR,pw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Ao(u,fy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Qs(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(va,g,f.map(function(m){return Ie.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Kr("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,O=b||w,C=Mr(m)?this.id:m;return Ie.createElement(va,{className:y},b||w?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(C)},Ie.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,Ie.createElement(va,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(C,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,C),(!p||v)&&Sf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(U.PureComponent);wG=dy;af(dy,"displayName","Bar");af(dy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});af(dy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=IIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Aa(Aa({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,O=g==="horizontal"?s:i,C=c?O.scale.domain():null,I=BIe({numericAxis:O}),T=Ao(b,YW),S=f.map(function(A,j){var E,k,D,V,X,Y;c?E=jIe(c[u+j],C):(E=Qs(A,y),Array.isArray(E)||(E=[I,E]));var J=HMe(w,wG.defaultProps.minPointSize)(E[1],j);if(g==="horizontal"){var H,z=[s.scale(E[0]),s.scale(E[1])],ee=z[0],W=z[1];k=EM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:A,index:j}),D=(H=W??ee)!==null&&H!==void 0?H:void 0,V=p.size;var P=ee-W;if(X=Number.isNaN(P)?0:P,Y={x:k,y:s.y,width:V,height:s.height},Math.abs(J)>0&&Math.abs(X)<Math.abs(J)){var F=ll(X||J)*(Math.abs(J)-Math.abs(X));D-=F,X+=F}}else{var q=[i.scale(E[0]),i.scale(E[1])],K=q[0],Z=q[1];if(k=K,D=EM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:A,index:j}),V=Z-K,X=p.size,Y={x:i.x,y:D,width:i.width,height:X},Math.abs(J)>0&&Math.abs(V)<Math.abs(J)){var ce=ll(V||J)*(Math.abs(J)-Math.abs(V));V+=ce}}return Aa(Aa(Aa({},A),{},{x:k,y:D,width:V,height:X,value:c?E:E[1],payload:A,background:Y},T&&T[j]&&T[j].props),{},{tooltipPayload:[tG(r,A)],tooltipPosition:{x:k+V/2,y:D+X/2}})});return Aa({data:S,layout:g},h)});function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function nRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AG(n.key),n)}}function aRe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_(e,t,r){return t=AG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=iRe(e,"string");return T1(t)=="symbol"?t:t+""}function iRe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sRe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Bs(c,dy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,O=m.mirror,C=m.reversed,I="".concat(v).concat(O?"Mirror":""),T,S,A,j,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=y[1]-y[0],D=1/0,V=m.categoricalDomain.sort(dwe);if(V.forEach(function(q,K){K>0&&(D=Math.min((q||0)-(V[K-1]||0),D))}),Number.isFinite(D)){var X=D/k,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=X*Y/2),m.padding==="no-gap"){var J=ih(t.barCategoryGap,X*Y),H=X*Y/2;T=H-J-(H-J)/Y*J}}}a==="xAxis"?S=[n.left+(w.left||0)+(T||0),n.left+n.width-(w.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(T||0),n.top+n.height-(w.bottom||0)-(T||0)]:S=m.range,C&&(S=[S[1],S[0]]);var z=PIe(m,i,h),ee=z.scale,W=z.realScaleType;ee.domain(y).range(S),OIe(ee);var P=$Ie(ee,el(el({},m),{},{realScaleType:W}));a==="xAxis"?(E=v==="top"&&!O||v==="bottom"&&O,A=n.left,j=f[I]-E*m.height):a==="yAxis"&&(E=v==="left"&&!O||v==="right"&&O,A=f[I]-E*m.width,j=n.top);var F=el(el(el({},m),P),{},{realScaleType:W,x:A,y:j,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return F.bandSize=rw(F,P),!m.hide&&a==="xAxis"?f[I]+=(E?-1:1)*F.height:m.hide||(f[I]+=(E?-1:1)*F.width),el(el({},p),{},i_({},g,F))},{})},TG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},oRe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return TG({x:r,y:n},{x:a,y:i})},EG=function(){function e(t){nRe(this,e),this.scale=t}return aRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();i_(EG,"EPS",1e-4);var gP=function(t){var r=Object.keys(t).reduce(function(n,a){return el(el({},n),{},i_({},a,EG.create(t[a])))},{});return el(el({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return EMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return bG(a,function(i,s){return r[s].isInRange(i)})}})};function lRe(e){return(e%180+180)%180}var cRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=lRe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},uRe=Kf,fRe=sy,dRe=z5;function hRe(e){return function(t,r,n){var a=Object(t);if(!fRe(t)){var i=uRe(r);t=dRe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var pRe=hRe,mRe=gG;function gRe(e){var t=mRe(e),r=t%1;return t===t?r?t-r:t:0}var vRe=gRe,yRe=DW,xRe=Kf,bRe=vRe,wRe=Math.max;function _Re(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:bRe(r);return a<0&&(a=wRe(n+a,0)),yRe(e,xRe(t),a)}var SRe=_Re,ARe=pRe,TRe=SRe,ERe=ARe(TRe),kRe=ERe;const NRe=yn(kRe);var CRe=pbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vP=U.createContext(void 0),yP=U.createContext(void 0),kG=U.createContext(void 0),NG=U.createContext({}),CG=U.createContext(void 0),PG=U.createContext(0),OG=U.createContext(0),PR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=CRe(i);return Ie.createElement(vP.Provider,{value:n},Ie.createElement(yP.Provider,{value:a},Ie.createElement(NG.Provider,{value:i},Ie.createElement(kG.Provider,{value:u},Ie.createElement(CG.Provider,{value:s},Ie.createElement(PG.Provider,{value:c},Ie.createElement(OG.Provider,{value:l},o)))))))},PRe=function(){return U.useContext(CG)},IG=function(t){var r=U.useContext(vP);r==null&&oh();var n=r[t];return n==null&&oh(),n},ORe=function(){var t=U.useContext(vP);return Xu(t)},IRe=function(){var t=U.useContext(yP),r=NRe(t,function(n){return bG(n.domain,Number.isFinite)});return r||Xu(t)},jG=function(t){var r=U.useContext(yP);r==null&&oh();var n=r[t];return n==null&&oh(),n},jRe=function(){var t=U.useContext(kG);return t},DRe=function(){return U.useContext(NG)},xP=function(){return U.useContext(OG)},bP=function(){return U.useContext(PG)};function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function LRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function RRe(e,t,r){return t&&MRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FRe(e,t,r){return t=gw(t),$Re(e,DG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function $Re(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BRe(e)}function BRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function URe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UE(e,t)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wP(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=VRe(e,"string");return Ep(t)=="symbol"?t:t+""}function VRe(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zRe(e,t){return GRe(e)||HRe(e,t)||WRe(e,t)||qRe()}function qRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WRe(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function GRe(e){if(Array.isArray(e))return e}function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}var KRe=function(t,r){var n;return Ie.isValidElement(t)?n=Ie.cloneElement(t,r):Nr(t)?n=t(r):n=Ie.createElement("line",VE({},r,{className:"recharts-reference-line-line"})),n},YRe=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(Hl(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(Hl(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var O=c.segment,C=O.map(function(I){return t.apply(I,{position:s})});return Hl(c,"discard")&&yMe(C,function(I){return!t.isInRange(I)})?null:C}return null};function XRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=PRe(),u=IG(a),f=jG(i),h=jRe();if(!c||!h)return null;jc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=gP({x:u.scale,y:f.scale}),g=Ra(t),m=Ra(r),v=n&&n.length===2,y=YRe(p,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=zRe(y,2),w=b[0],O=w.x,C=w.y,I=b[1],T=I.x,S=I.y,A=Hl(e,"hidden")?"url(#".concat(c,")"):void 0,j=IR(IR({clipPath:A},Fr(e,!0)),{},{x1:O,y1:C,x2:T,y2:S});return Ie.createElement(va,{className:Kr("recharts-reference-line",o)},KRe(s,j),Li.renderCallByParent(e,oRe({x1:O,y1:C,x2:T,y2:S})))}var _P=function(e){function t(){return LRe(this,t),FRe(this,t,arguments)}return URe(t,e),RRe(t,[{key:"render",value:function(){return Ie.createElement(XRe,this.props)}}])}(Ie.Component);wP(_P,"displayName","ReferenceLine");wP(_P,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function ZRe(e,t,r){return t&&JRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e7e(e,t,r){return t=vw(t),t7e(e,MG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function t7e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7e(e)}function r7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function n7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function s_(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=a7e(e,"string");return kp(t)=="symbol"?t:t+""}function a7e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=gP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Hl(t,"discard")&&!s.isInRange(o)?null:o},o_=function(e){function t(){return QRe(this,t),e7e(this,t,arguments)}return n7e(t,e),ZRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ra(a),u=Ra(i);if(jc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=i7e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Hl(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=LR(LR({clipPath:y},Fr(this.props,!0)),{},{cx:h,cy:p});return Ie.createElement(va,{className:Kr("recharts-reference-dot",v)},t.renderDot(m,b),Li.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Ie.Component);s_(o_,"displayName","ReferenceDot");s_(o_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});s_(o_,"renderDot",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):Nr(e)?r=e(t):r=Ie.createElement(mP,zE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(this,arguments)}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$G(n.key),n)}}function l7e(e,t,r){return t&&o7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c7e(e,t,r){return t=yw(t),u7e(e,FG()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function u7e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f7e(e)}function f7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function d7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HE(e,t)}function l_(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=h7e(e,"string");return Np(t)=="symbol"?t:t+""}function h7e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=gP({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Hl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:TG(p,g)},c_=function(e){function t(){return s7e(this,t),c7e(this,t,arguments)}return d7e(t,e),l7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;jc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ra(a),h=Ra(i),p=Ra(s),g=Ra(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=p7e(f,h,p,g,this.props);if(!v&&!m)return null;var y=Hl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ie.createElement(va,{className:Kr("recharts-reference-area",l)},t.renderRect(m,RR(RR({clipPath:y},Fr(this.props,!0)),v)),Li.renderCallByParent(this.props,v))}}])}(Ie.Component);l_(c_,"displayName","ReferenceArea");l_(c_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});l_(c_,"renderRect",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):Nr(e)?r=e(t):r=Ie.createElement(pP,WE({},t,{className:"recharts-reference-area-rect"})),r});function BG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function m7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return cRe(n,r)}function g7e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function xw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function v7e(e,t){return BG(e,t+1)}function y7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:BG(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=l===0||xw(e,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){x7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x7e(e,t,r){return t=b7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7e(e){var t=w7e(e,"string");return E1(t)=="symbol"?t:t+""}function w7e(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Ci(Ci({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Ci(Ci({},p),{},{tickCoord:p.coordinate});var y=xw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Ci(Ci({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function S7e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Ci(Ci({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=xw(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Ci(Ci({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],O,C=function(){return O===void 0&&(O=r(w,b)),O};if(b===0){var I=e*(w.coordinate-e*C()/2-l);s[b]=w=Ci(Ci({},w),{},{tickCoord:I<0?w.coordinate-I*e:w.coordinate})}else s[b]=w=Ci(Ci({},w),{},{tickCoord:w.coordinate});var T=xw(e,w.tickCoord,C,l,c);T&&(l=w.tickCoord+e*(C()/2+a),s[b]=Ci(Ci({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function SP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Rt(l)||Dc.isSsr)return v7e(a,typeof l=="number"&&Rt(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Wg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,O){var C=Nr(c)?c(w.value,O):w.value;return p==="width"?m7e(Wg(C,{fontSize:t,letterSpacing:r}),g,f):Wg(C,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?ll(a[1].coordinate-a[0].coordinate):1,y=g7e(i,v,p);return l==="equidistantPreserveStart"?y7e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=S7e(v,y,m,a,s,l==="preserveStartEnd"):h=_7e(v,y,m,a,s),h.filter(function(b){return b.isShow}))}var A7e=["viewBox"],T7e=["viewBox"],E7e=["ticks"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){AP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mA(e,t){if(e==null)return{};var r=k7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function C7e(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P7e(e,t,r){return t=bw(t),O7e(e,UG()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function O7e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I7e(e)}function I7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function j7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function AP(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=D7e(e,"string");return Cp(t)=="symbol"?t:t+""}function D7e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fm=function(e){function t(r){var n;return N7e(this,t),n=P7e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return j7e(t,e),C7e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=mA(n,A7e),o=this.props,l=o.viewBox,c=mA(o,T7e);return!F0(i,l)||!F0(s,c)||!F0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,b,w=f?-1:1,O=n.tickSize||u,C=Rt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!f*l,m=v-w*O,b=m-w*h,y=C;break;case"left":m=v=n.coordinate,g=i+ +!f*o,p=g-w*O,y=p-w*h,b=C;break;case"right":m=v=n.coordinate,g=i+ +f*o,p=g+w*O,y=p+w*h,b=C;break;default:p=g=n.coordinate,v=s+ +f*l,m=v+w*O,b=m+w*h,y=C;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Xi(Xi(Xi({},Fr(this.props,!1)),Fr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Xi(Xi({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Xi(Xi({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Ie.createElement("line",A0({},f,{className:Kr("recharts-cartesian-axis-line",So(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=SP(Xi(Xi({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Fr(this.props,!1),y=Fr(u,!1),b=Xi(Xi({},v),{},{fill:"none"},Fr(l,!1)),w=p.map(function(O,C){var I=s.getTickLineCoord(O),T=I.line,S=I.tick,A=Xi(Xi(Xi(Xi({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),S),{},{index:C,payload:O,visibleTicksCount:p.length,tickFormatter:f});return Ie.createElement(va,A0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Nb(s.props,O,C)),l&&Ie.createElement("line",A0({},b,T,{className:Kr("recharts-cartesian-axis-tick-line",So(l,"className"))})),u&&t.renderTickItem(u,A,"".concat(Nr(f)?f(O.value,C):O.value).concat(h||"")))});return Ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=mA(f,E7e),g=h;return Nr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Ie.createElement(va,{className:Kr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Li.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ie.isValidElement(n)?s=Ie.cloneElement(n,a):Nr(n)?s=n(a):s=Ie.createElement(Vb,A0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(U.Component);AP(fm,"displayName","CartesianAxis");AP(fm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var L7e=["x1","y1","x2","y2","key"],M7e=["offset"];function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){R7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7e(e,t,r){return t=F7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7e(e){var t=$7e(e,"string");return lh(t)=="symbol"?t:t+""}function $7e(e,t){if(lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function VR(e,t){if(e==null)return{};var r=B7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U7e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ie.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zG(e,t){var r;if(Ie.isValidElement(e))r=Ie.cloneElement(e,t);else if(Nr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=VR(t,L7e),c=Fr(l,!1);c.offset;var u=VR(c,M7e);r=Ie.createElement("line",Md({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function V7e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Mi(Mi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return zG(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function z7e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Mi(Mi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return zG(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function q7e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return Ie.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function W7e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return Ie.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var H7e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return ZH(SP(Mi(Mi(Mi({},fm.defaultProps),n),{},{ticks:Ec(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},G7e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return ZH(SP(Mi(Mi(Mi({},fm.defaultProps),n),{},{ticks:Ec(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Yh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function U0(e){var t,r,n,a,i,s,o=xP(),l=bP(),c=DRe(),u=Mi(Mi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Yh.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Yh.verticalFill,x:Rt(e.x)?e.x:c.left,y:Rt(e.y)?e.y:c.top,width:Rt(e.width)?e.width:c.width,height:Rt(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=ORe(),w=IRe();if(!Rt(p)||p<=0||!Rt(g)||g<=0||!Rt(f)||f!==+f||!Rt(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||H7e,C=u.horizontalCoordinatesGenerator||G7e,I=u.horizontalPoints,T=u.verticalPoints;if((!I||!I.length)&&Nr(C)){var S=v&&v.length,A=C({yAxis:w?Mi(Mi({},w),{},{ticks:S?v:w.ticks}):void 0,width:o,height:l,offset:c},S?!0:m);jc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lh(A),"]")),Array.isArray(A)&&(I=A)}if((!T||!T.length)&&Nr(O)){var j=y&&y.length,E=O({xAxis:b?Mi(Mi({},b),{},{ticks:j?y:b.ticks}):void 0,width:o,height:l,offset:c},j?!0:m);jc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lh(E),"]")),Array.isArray(E)&&(T=E)}return Ie.createElement("g",{className:"recharts-cartesian-grid"},Ie.createElement(U7e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ie.createElement(V7e,Md({},u,{offset:c,horizontalPoints:I,xAxis:b,yAxis:w})),Ie.createElement(z7e,Md({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:w})),Ie.createElement(q7e,Md({},u,{horizontalPoints:I})),Ie.createElement(W7e,Md({},u,{verticalPoints:T})))}U0.displayName="CartesianGrid";var K7e=["type","layout","connectNulls","ref"],Y7e=["key"];function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function zR(e,t){if(e==null)return{};var r=X7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e){return eFe(e)||Z7e(e)||J7e(e)||Q7e()}function Q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7e(e,t){if(e){if(typeof e=="string")return KE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(e,t)}}function Z7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return KE(e)}function KE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function rFe(e,t,r){return t&&WR(e.prototype,t),r&&WR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nFe(e,t,r){return t=ww(t),aFe(e,qG()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function aFe(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iFe(e)}function iFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function sFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function tl(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=oFe(e,"string");return Pp(t)=="symbol"?t:t+""}function oFe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ui=function(e){function t(){var r;tFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=nFe(this,t,[].concat(a)),tl(r,"state",{isAnimationFinished:!0,totalLength:0}),tl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),tl(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(Xh(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Xh(t.repeat(l,u)),Xh(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),tl(r,"id",iy("recharts-line-")),tl(r,"pathRef",function(s){r.mainCurve=s}),tl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),tl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sFe(t,e),rFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Ao(u,fy);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Qs(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(va,p,f.map(function(g){return Ie.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Fr(this.props,!1),h=Fr(l,!0),p=c.map(function(m,v){var y=Rs(Rs(Rs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ie.createElement(va,Yg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=zR(o,K7e),h=Rs(Rs(Rs({},Fr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ie.createElement(EE,Yg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,b=y.prevPoints,w=y.totalLength;return Ie.createElement(Jc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var C=O.t;if(b){var I=b.length/o.length,T=o.map(function(k,D){var V=Math.floor(D*I);if(b[V]){var X=b[V],Y=nl(X.x,k.x),J=nl(X.y,k.y);return Rs(Rs({},k),{},{x:Y(C),y:J(C)})}if(g){var H=nl(m*2,k.x),z=nl(v/2,k.y);return Rs(Rs({},k),{},{x:H(C),y:z(C)})}return Rs(Rs({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(T,n,a)}var S=nl(0,w),A=S(C),j;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});j=i.getStrokeDasharray(A,w,E)}else j=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!e_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=Kr("recharts-line",l),O=c&&c.allowDataOverflow,C=u&&u.allowDataOverflow,I=O||C,T=Mr(v)?this.id:v,S=(n=Fr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,j=A===void 0?3:A,E=S.strokeWidth,k=E===void 0?2:E,D=wwe(s)?s:{},V=D.clipDot,X=V===void 0?!0:V,Y=j*2+k;return Ie.createElement(va,{className:w},O||C?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(T)},Ie.createElement("rect",{x:O?h:h-p/2,y:C?f:f-g/2,width:O?p:p*2,height:C?g:g*2})),!X&&Ie.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ie.createElement("rect",{x:h-Y/2,y:f-Y/2,width:p+Y,height:g+Y}))):null,!b&&this.renderCurve(I,T),this.renderErrorBar(I,T),(b||s)&&this.renderDots(I,X,T),(!m||y)&&Sf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Xh(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Xh(s),Xh(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ie.isValidElement(n))i=Ie.cloneElement(n,a);else if(Nr(n))i=n(a);else{var s=a.key,o=zR(a,Y7e),l=Kr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ie.createElement(mP,Yg({key:s},o,{className:l}))}return i}}])}(U.PureComponent);tl(ui,"displayName","Line");tl(ui,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});tl(ui,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var g=Qs(h,s);return u==="horizontal"?{x:TM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Mr(g)?null:n.scale(g),value:g,payload:h}:{x:Mr(g)?null:r.scale(g),y:TM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Rs({points:f,layout:u},c)});function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function lFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KG(n.key),n)}}function uFe(e,t,r){return t&&cFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fFe(e,t,r){return t=_w(t),dFe(e,HG()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function dFe(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hFe(e)}function hFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function pFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function GG(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=mFe(e,"string");return Op(t)=="symbol"?t:t+""}function mFe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QE.apply(this,arguments)}function gFe(e){var t=e.xAxisId,r=xP(),n=bP(),a=IG(t);return a==null?null:Ie.createElement(fm,QE({},a,{className:Kr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ec(s,!0)}}))}var Af=function(e){function t(){return lFe(this,t),fFe(this,t,arguments)}return pFe(t,e),uFe(t,[{key:"render",value:function(){return Ie.createElement(gFe,this.props)}}])}(Ie.Component);GG(Af,"displayName","XAxis");GG(Af,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function vFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QG(n.key),n)}}function xFe(e,t,r){return t&&yFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bFe(e,t,r){return t=Sw(t),wFe(e,YG()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function wFe(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Fe(e)}function _Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function SFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function XG(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=AFe(e,"string");return Ip(t)=="symbol"?t:t+""}function AFe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}var TFe=function(t){var r=t.yAxisId,n=xP(),a=bP(),i=jG(r);return i==null?null:Ie.createElement(fm,ZE({},i,{className:Kr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Ec(o,!0)}}))},Tf=function(e){function t(){return vFe(this,t),bFe(this,t,arguments)}return SFe(t,e),xFe(t,[{key:"render",value:function(){return Ie.createElement(TFe,this.props)}}])}(Ie.Component);XG(Tf,"displayName","YAxis");XG(Tf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HR(e){return CFe(e)||NFe(e)||kFe(e)||EFe()}function EFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kFe(e,t){if(e){if(typeof e=="string")return e3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,t)}}function NFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CFe(e){if(Array.isArray(e))return e3(e)}function e3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var t3=function(t,r,n,a,i){var s=Ao(t,_P),o=Ao(t,o_),l=[].concat(HR(s),HR(o)),c=Ao(t,c_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&Hl(v.props,"extendDomain")&&Rt(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&Hl(v.props,"extendDomain")&&Rt(v.props[p])&&Rt(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Rt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},JG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var O=v.length,C;for(w=0;w<O;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(JG);var PFe=JG.exports;const OFe=yn(PFe);var gA=new OFe,vA="recharts.syncMouseEvents";function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function IFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function DFe(e,t,r){return t&&jFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yA(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=LFe(e,"string");return k1(t)=="symbol"?t:t+""}function LFe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MFe=function(){function e(){IFe(this,e),yA(this,"activeIndex",0),yA(this,"coordinateList",[]),yA(this,"layout","horizontal")}return DFe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function RFe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Rt(n)&&Rt(a))return!0}return!1}function FFe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function eK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=di(t,r,n,a),o=di(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function $Fe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=di(o,l,c,f),p=di(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return eK(t);return[{x:n,y:a},{x:i,y:s}]}function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){BFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BFe(e,t,r){return t=UFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UFe(e){var t=VFe(e,"string");return N1(t)=="symbol"?t:t+""}function VFe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zFe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=EE;if(h==="ScatterChart")g=s,m=V8e;else if(h==="BarChart")g=FFe(f,s,l,u),m=pP;else if(f==="radial"){var v=eK(s),y=v.cx,b=v.cy,w=v.radius,O=v.startAngle,C=v.endAngle;g={cx:y,cy:b,startAngle:O,endAngle:C,innerRadius:w,outerRadius:w},m=aG}else g={points:$Fe(f,s,l)},m=EE;var I=jx(jx(jx(jx({stroke:"#ccc",pointerEvents:"none"},l),g),Fr(p,!1)),{},{payload:o,payloadIndex:c,className:Kr("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,I):U.createElement(m,I)}var qFe=["item"],WFe=["children","className","width","height","style","compact","title","desc"];function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function KR(e,t){return KFe(e)||GFe(e,t)||rK(e,t)||HFe()}function HFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function KFe(e){if(Array.isArray(e))return e}function YR(e,t){if(e==null)return{};var r=YFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function JFe(e,t,r){return t&&QFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZFe(e,t,r){return t=Aw(t),e$e(e,tK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function e$e(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t$e(e)}function t$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function r$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function Dp(e){return i$e(e)||a$e(e)||rK(e)||n$e()}function n$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function a$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i$e(e){if(Array.isArray(e))return n3(e)}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sr(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=s$e(e,"string");return jp(t)=="symbol"?t:t+""}function s$e(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o$e={xAxis:["bottom","top"],yAxis:["left","right"]},l$e={width:"100%",height:"100%"},aK={x:0,y:0};function Dx(e){return e}var c$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},u$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return st(st(st({},a),di(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return st(st(st({},a),di(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return aK},u_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dp(o),Dp(c)):o},[]);return s.length>0?s:t&&t.length&&Rt(a)&&Rt(i)?t.slice(a,i+1):[]};function iK(e){return e==="number"?[0,"auto"]:void 0}var a3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=u_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Eb(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Dp(l),[tG(c,h)]):l},[])},QR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=c$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=AIe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=a3(t,r,u,f),p=u$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},f$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=JH(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?st(st({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,O=y.allowDataOverflow,C=y.allowDuplicatedCategory,I=y.scale,T=y.ticks,S=y.includeHidden,A=y[s];if(g[A])return g;var j=u_(t.data,{graphicalItems:a.filter(function(P){var F,q=s in P.props?P.props[s]:(F=P.type.defaultProps)===null||F===void 0?void 0:F[s];return q===A}),dataStartIndex:l,dataEndIndex:c}),E=j.length,k,D,V;RFe(y.domain,O,b)&&(k=wE(y.domain,null,O),p&&(b==="number"||I!=="auto")&&(V=Gg(j,w,"category")));var X=iK(b);if(!k||k.length===0){var Y,J=(Y=y.domain)!==null&&Y!==void 0?Y:X;if(w){if(k=Gg(j,w,b),b==="category"&&p){var H=fwe(k);C&&H?(D=k,k=fw(0,E)):C||(k=CM(J,k,m).reduce(function(P,F){return P.indexOf(F)>=0?P:[].concat(Dp(P),[F])},[]))}else if(b==="category")C?k=k.filter(function(P){return P!==""&&!Mr(P)}):k=CM(J,k,m).reduce(function(P,F){return P.indexOf(F)>=0||F===""||Mr(F)?P:[].concat(Dp(P),[F])},[]);else if(b==="number"){var z=CIe(j,a.filter(function(P){var F,q,K=s in P.props?P.props[s]:(F=P.type.defaultProps)===null||F===void 0?void 0:F[s],Z="hide"in P.props?P.props.hide:(q=P.type.defaultProps)===null||q===void 0?void 0:q.hide;return K===A&&(S||!Z)}),w,i,u);z&&(k=z)}p&&(b==="number"||I!=="auto")&&(V=Gg(j,w,"category"))}else p?k=fw(0,E):o&&o[A]&&o[A].hasStack&&b==="number"?k=h==="expand"?[0,1]:eG(o[A].stackGroups,l,c):k=QH(j,a.filter(function(P){var F=s in P.props?P.props[s]:P.type.defaultProps[s],q="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return F===A&&(S||!q)}),b,u,!0);if(b==="number")k=t3(f,k,A,i,T),J&&(k=wE(J,k,O));else if(b==="category"&&J){var ee=J,W=k.every(function(P){return ee.indexOf(P)>=0});W&&(k=ee)}}return st(st({},g),{},sr({},A,st(st({},y),{},{axisType:i,domain:k,categoricalDomain:V,duplicateDomain:D,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:p,layout:u})))},{})},d$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=u_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=JH(u,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?st(st({},y.type.defaultProps),y.props):y.props,w=b[s],O=iK("number");if(!v[w]){m++;var C;return g?C=fw(0,p):o&&o[w]&&o[w].hasStack?(C=eG(o[w].stackGroups,l,c),C=t3(f,C,w,i)):(C=wE(O,QH(h,n.filter(function(I){var T,S,A=s in I.props?I.props[s]:(T=I.type.defaultProps)===null||T===void 0?void 0:T[s],j="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===w&&!j}),"number",u),a.defaultProps.allowDataOverflow),C=t3(f,C,w,i)),st(st({},v),{},sr({},w,st(st({axisType:i},a.defaultProps),{},{hide:!0,orientation:So(o$e,"".concat(i,".").concat(m%2),null),domain:C,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},h$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=Ao(u,i),p={};return h&&h.length?p=f$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=d$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},p$e=function(t){var r=Xu(t),n=Ec(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:UC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rw(r,n)}},JR=function(t){var r=t.children,n=t.defaultShowTooltip,a=Bs(r,Ap),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},m$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ic(r&&r.type);return n&&n.indexOf("Bar")>=0})},ZR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},g$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Bs(f,Ap),g=Bs(f,hl),m=Object.keys(l).reduce(function(C,I){var T=l[I],S=T.orientation;return!T.mirror&&!T.hide?st(st({},C),{},sr({},S,C[S]+T.width)):C},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(C,I){var T=s[I],S=T.orientation;return!T.mirror&&!T.hide?st(st({},C),{},sr({},S,So(C,"".concat(S))+T.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=st(st({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||Ap.defaultProps.height),g&&r&&(y=kIe(y,a,n,r));var w=c-y.left-y.right,O=u-y.top-y.bottom;return st(st({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(O,0)})},v$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},y$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,O=b.stackGroups,C=b.offset,I=b.updateId,T=b.dataStartIndex,S=b.dataEndIndex,A=y.barSize,j=y.layout,E=y.barGap,k=y.barCategoryGap,D=y.maxBarSize,V=ZR(j),X=V.numericAxisName,Y=V.cateAxisName,J=m$e(w),H=[];return w.forEach(function(z,ee){var W=u_(y.data,{graphicalItems:[z],dataStartIndex:T,dataEndIndex:S}),P=z.type.defaultProps!==void 0?st(st({},z.type.defaultProps),z.props):z.props,F=P.dataKey,q=P.maxBarSize,K=P["".concat(X,"Id")],Z=P["".concat(Y,"Id")],ce={},de=l.reduce(function(Le,Ye){var je=b["".concat(Ye.axisType,"Map")],Qe=P["".concat(Ye.axisType,"Id")];je&&je[Qe]||Ye.axisType==="zAxis"||oh();var pt=je[Qe];return st(st({},Le),{},sr(sr({},Ye.axisType,pt),"".concat(Ye.axisType,"Ticks"),Ec(pt)))},ce),ae=de[Y],he=de["".concat(Y,"Ticks")],Se=O&&O[K]&&O[K].hasStack&&UIe(z,O[K].stackGroups),B=Ic(z.type).indexOf("Bar")>=0,Ee=rw(ae,he),ve=[],xe=J&&TIe({barSize:A,stackGroups:O,totalSize:v$e(de,Y)});if(B){var te,Ne,Be=Mr(q)?D:q,Ue=(te=(Ne=rw(ae,he,!0))!==null&&Ne!==void 0?Ne:Be)!==null&&te!==void 0?te:0;ve=EIe({barGap:E,barCategoryGap:k,bandSize:Ue!==Ee?Ue:Ee,sizeList:xe[Z],maxBarSize:Be}),Ue!==Ee&&(ve=ve.map(function(Le){return st(st({},Le),{},{position:st(st({},Le.position),{},{offset:Le.position.offset-Ue/2})})}))}var Ze=z&&z.type&&z.type.getComposedData;Ze&&H.push({props:st(st({},Ze(st(st({},de),{},{displayedData:W,props:y,dataKey:F,item:z,bandSize:Ee,barPosition:ve,offset:C,stackedData:Se,layout:j,dataStartIndex:T,dataEndIndex:S}))),{},sr(sr(sr({key:z.key||"item-".concat(ee)},X,de[X]),Y,de[Y]),"animationId",I)),childIndex:Awe(z,y.children),item:z})}),H},p=function(y,b){var w=y.props,O=y.dataStartIndex,C=y.dataEndIndex,I=y.updateId;if(!_8({props:w}))return null;var T=w.children,S=w.layout,A=w.stackOffset,j=w.data,E=w.reverseStackOrder,k=ZR(S),D=k.numericAxisName,V=k.cateAxisName,X=Ao(T,n),Y=FIe(j,X,"".concat(D,"Id"),"".concat(V,"Id"),A,E),J=l.reduce(function(P,F){var q="".concat(F.axisType,"Map");return st(st({},P),{},sr({},q,h$e(w,st(st({},F),{},{graphicalItems:X,stackGroups:F.axisType===D&&Y,dataStartIndex:O,dataEndIndex:C}))))},{}),H=g$e(st(st({},J),{},{props:w,graphicalItems:X}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(P){J[P]=u(w,J[P],H,P.replace("Map",""),r)});var z=J["".concat(V,"Map")],ee=p$e(z),W=h(w,st(st({},J),{},{dataStartIndex:O,dataEndIndex:C,updateId:I,graphicalItems:X,stackGroups:Y,offset:H}));return st(st({formattedGraphicalItems:W,graphicalItems:X,offset:H,stackGroups:Y},ee),J)},g=function(v){function y(b){var w,O,C;return XFe(this,y),C=ZFe(this,y,[b]),sr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),sr(C,"accessibilityManager",new MFe),sr(C,"handleLegendBBoxUpdate",function(I){if(I){var T=C.state,S=T.dataStartIndex,A=T.dataEndIndex,j=T.updateId;C.setState(st({legendBBox:I},p({props:C.props,dataStartIndex:S,dataEndIndex:A,updateId:j},st(st({},C.state),{},{legendBBox:I}))))}}),sr(C,"handleReceiveSyncEvent",function(I,T,S){if(C.props.syncId===I){if(S===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(T)}}),sr(C,"handleBrushChange",function(I){var T=I.startIndex,S=I.endIndex;if(T!==C.state.dataStartIndex||S!==C.state.dataEndIndex){var A=C.state.updateId;C.setState(function(){return st({dataStartIndex:T,dataEndIndex:S},p({props:C.props,dataStartIndex:T,dataEndIndex:S,updateId:A},C.state))}),C.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),sr(C,"handleMouseEnter",function(I){var T=C.getMouseInfo(I);if(T){var S=st(st({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseEnter;Nr(A)&&A(S,I)}}),sr(C,"triggeredAfterMouseMove",function(I){var T=C.getMouseInfo(I),S=T?st(st({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseMove;Nr(A)&&A(S,I)}),sr(C,"handleItemMouseEnter",function(I){C.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),sr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),sr(C,"handleMouseMove",function(I){I.persist(),C.throttleTriggeredAfterMouseMove(I)}),sr(C,"handleMouseLeave",function(I){C.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var S=C.props.onMouseLeave;Nr(S)&&S(T,I)}),sr(C,"handleOuterEvent",function(I){var T=Swe(I),S=So(C.props,"".concat(T));if(T&&Nr(S)){var A,j;/.*touch.*/i.test(T)?j=C.getMouseInfo(I.changedTouches[0]):j=C.getMouseInfo(I),S((A=j)!==null&&A!==void 0?A:{},I)}}),sr(C,"handleClick",function(I){var T=C.getMouseInfo(I);if(T){var S=st(st({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onClick;Nr(A)&&A(S,I)}}),sr(C,"handleMouseDown",function(I){var T=C.props.onMouseDown;if(Nr(T)){var S=C.getMouseInfo(I);T(S,I)}}),sr(C,"handleMouseUp",function(I){var T=C.props.onMouseUp;if(Nr(T)){var S=C.getMouseInfo(I);T(S,I)}}),sr(C,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),sr(C,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&C.handleMouseDown(I.changedTouches[0])}),sr(C,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&C.handleMouseUp(I.changedTouches[0])}),sr(C,"handleDoubleClick",function(I){var T=C.props.onDoubleClick;if(Nr(T)){var S=C.getMouseInfo(I);T(S,I)}}),sr(C,"handleContextMenu",function(I){var T=C.props.onContextMenu;if(Nr(T)){var S=C.getMouseInfo(I);T(S,I)}}),sr(C,"triggerSyncEvent",function(I){C.props.syncId!==void 0&&gA.emit(vA,C.props.syncId,I,C.eventEmitterSymbol)}),sr(C,"applySyncEvent",function(I){var T=C.props,S=T.layout,A=T.syncMethod,j=C.state.updateId,E=I.dataStartIndex,k=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)C.setState(st({dataStartIndex:E,dataEndIndex:k},p({props:C.props,dataStartIndex:E,dataEndIndex:k,updateId:j},C.state)));else if(I.activeTooltipIndex!==void 0){var D=I.chartX,V=I.chartY,X=I.activeTooltipIndex,Y=C.state,J=Y.offset,H=Y.tooltipTicks;if(!J)return;if(typeof A=="function")X=A(H,I);else if(A==="value"){X=-1;for(var z=0;z<H.length;z++)if(H[z].value===I.activeLabel){X=z;break}}var ee=st(st({},J),{},{x:J.left,y:J.top}),W=Math.min(D,ee.x+ee.width),P=Math.min(V,ee.y+ee.height),F=H[X]&&H[X].value,q=a3(C.state,C.props.data,X),K=H[X]?{x:S==="horizontal"?H[X].coordinate:W,y:S==="horizontal"?P:H[X].coordinate}:aK;C.setState(st(st({},I),{},{activeLabel:F,activeCoordinate:K,activePayload:q,activeTooltipIndex:X}))}else C.setState(I)}),sr(C,"renderCursor",function(I){var T,S=C.state,A=S.isTooltipActive,j=S.activeCoordinate,E=S.activePayload,k=S.offset,D=S.activeTooltipIndex,V=S.tooltipAxisBandSize,X=C.getTooltipEventType(),Y=(T=I.props.active)!==null&&T!==void 0?T:A,J=C.props.layout,H=I.key||"_recharts-cursor";return Ie.createElement(zFe,{key:H,activeCoordinate:j,activePayload:E,activeTooltipIndex:D,chartName:r,element:I,isActive:Y,layout:J,offset:k,tooltipAxisBandSize:V,tooltipEventType:X})}),sr(C,"renderPolarAxis",function(I,T,S){var A=So(I,"type.axisType"),j=So(C.state,"".concat(A,"Map")),E=I.type.defaultProps,k=E!==void 0?st(st({},E),I.props):I.props,D=j&&j[k["".concat(A,"Id")]];return U.cloneElement(I,st(st({},D),{},{className:Kr(A,D.className),key:I.key||"".concat(T,"-").concat(S),ticks:Ec(D,!0)}))}),sr(C,"renderPolarGrid",function(I){var T=I.props,S=T.radialLines,A=T.polarAngles,j=T.polarRadius,E=C.state,k=E.radiusAxisMap,D=E.angleAxisMap,V=Xu(k),X=Xu(D),Y=X.cx,J=X.cy,H=X.innerRadius,z=X.outerRadius;return U.cloneElement(I,{polarAngles:Array.isArray(A)?A:Ec(X,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(j)?j:Ec(V,!0).map(function(ee){return ee.coordinate}),cx:Y,cy:J,innerRadius:H,outerRadius:z,key:I.key||"polar-grid",radialLines:S})}),sr(C,"renderLegend",function(){var I=C.state.formattedGraphicalItems,T=C.props,S=T.children,A=T.width,j=T.height,E=C.props.margin||{},k=A-(E.left||0)-(E.right||0),D=YH({children:S,formattedGraphicalItems:I,legendWidth:k,legendContent:c});if(!D)return null;var V=D.item,X=YR(D,qFe);return U.cloneElement(V,st(st({},X),{},{chartWidth:A,chartHeight:j,margin:E,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),sr(C,"renderTooltip",function(){var I,T=C.props,S=T.children,A=T.accessibilityLayer,j=Bs(S,xs);if(!j)return null;var E=C.state,k=E.isTooltipActive,D=E.activeCoordinate,V=E.activePayload,X=E.activeLabel,Y=E.offset,J=(I=j.props.active)!==null&&I!==void 0?I:k;return U.cloneElement(j,{viewBox:st(st({},Y),{},{x:Y.left,y:Y.top}),active:J,label:X,payload:J?V:[],coordinate:D,accessibilityLayer:A})}),sr(C,"renderBrush",function(I){var T=C.props,S=T.margin,A=T.data,j=C.state,E=j.offset,k=j.dataStartIndex,D=j.dataEndIndex,V=j.updateId;return U.cloneElement(I,{key:I.key||"_recharts-brush",onChange:Cx(C.handleBrushChange,I.props.onChange),data:A,x:Rt(I.props.x)?I.props.x:E.left,y:Rt(I.props.y)?I.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:Rt(I.props.width)?I.props.width:E.width,startIndex:k,endIndex:D,updateId:"brush-".concat(V)})}),sr(C,"renderReferenceElement",function(I,T,S){if(!I)return null;var A=C,j=A.clipPathId,E=C.state,k=E.xAxisMap,D=E.yAxisMap,V=E.offset,X=I.type.defaultProps||{},Y=I.props,J=Y.xAxisId,H=J===void 0?X.xAxisId:J,z=Y.yAxisId,ee=z===void 0?X.yAxisId:z;return U.cloneElement(I,{key:I.key||"".concat(T,"-").concat(S),xAxis:k[H],yAxis:D[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:j})}),sr(C,"renderActivePoints",function(I){var T=I.item,S=I.activePoint,A=I.basePoint,j=I.childIndex,E=I.isRange,k=[],D=T.props.key,V=T.item.type.defaultProps!==void 0?st(st({},T.item.type.defaultProps),T.item.props):T.item.props,X=V.activeDot,Y=V.dataKey,J=st(st({index:j,dataKey:Y,cx:S.x,cy:S.y,r:4,fill:hP(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Fr(X,!1)),kb(X));return k.push(y.renderActiveDot(X,J,"".concat(D,"-activePoint-").concat(j))),A?k.push(y.renderActiveDot(X,st(st({},J),{},{cx:A.x,cy:A.y}),"".concat(D,"-basePoint-").concat(j))):E&&k.push(null),k}),sr(C,"renderGraphicChild",function(I,T,S){var A=C.filterFormatItem(I,T,S);if(!A)return null;var j=C.getTooltipEventType(),E=C.state,k=E.isTooltipActive,D=E.tooltipAxis,V=E.activeTooltipIndex,X=E.activeLabel,Y=C.props.children,J=Bs(Y,xs),H=A.props,z=H.points,ee=H.isRange,W=H.baseLine,P=A.item.type.defaultProps!==void 0?st(st({},A.item.type.defaultProps),A.item.props):A.item.props,F=P.activeDot,q=P.hide,K=P.activeBar,Z=P.activeShape,ce=!!(!q&&k&&J&&(F||K||Z)),de={};j!=="axis"&&J&&J.props.trigger==="click"?de={onClick:Cx(C.handleItemMouseEnter,I.props.onClick)}:j!=="axis"&&(de={onMouseLeave:Cx(C.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:Cx(C.handleItemMouseEnter,I.props.onMouseEnter)});var ae=U.cloneElement(I,st(st({},A.props),de));function he(Ye){return typeof D.dataKey=="function"?D.dataKey(Ye.payload):null}if(ce)if(V>=0){var Se,B;if(D.dataKey&&!D.allowDuplicatedCategory){var Ee=typeof D.dataKey=="function"?he:"payload.".concat(D.dataKey.toString());Se=Eb(z,Ee,X),B=ee&&W&&Eb(W,Ee,X)}else Se=z==null?void 0:z[V],B=ee&&W&&W[V];if(Z||K){var ve=I.props.activeIndex!==void 0?I.props.activeIndex:V;return[U.cloneElement(I,st(st(st({},A.props),de),{},{activeIndex:ve})),null,null]}if(!Mr(Se))return[ae].concat(Dp(C.renderActivePoints({item:A,activePoint:Se,basePoint:B,childIndex:V,isRange:ee})))}else{var xe,te=(xe=C.getItemByXY(C.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:ae},Ne=te.graphicalItem,Be=Ne.item,Ue=Be===void 0?I:Be,Ze=Ne.childIndex,Le=st(st(st({},A.props),de),{},{activeIndex:Ze});return[U.cloneElement(Ue,Le),null,null]}return ee?[ae,null,null]:[ae,null]}),sr(C,"renderCustomized",function(I,T,S){return U.cloneElement(I,st(st({key:"recharts-customized-".concat(S)},C.props),C.state))}),sr(C,"renderMap",{CartesianGrid:{handler:Dx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Dx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Dx},YAxis:{handler:Dx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:iy("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=KW(C.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),C.state={},C}return r$e(y,v),JFe(y,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,C=w.data,I=w.height,T=w.layout,S=Bs(O,xs);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=a3(this.state,C,A,j),k=this.state.tooltipTicks[A].coordinate,D=(this.state.offset.top+I)/2,V=T==="horizontal",X=V?{x:k,y:D}:{y:k,x:D},Y=this.state.formattedGraphicalItems.find(function(H){var z=H.item;return z.type.name==="Scatter"});Y&&(X=st(st({},X),Y.props.points[A].tooltipPosition),E=Y.props.points[A].tooltipPayload);var J={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:j,activePayload:E,activeCoordinate:X};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var C,I;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(w){MT([Bs(w.children,xs)],[Bs(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Bs(this.props.children,xs);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,C=O.getBoundingClientRect(),I=XNe(C),T={chartX:Math.round(w.pageX-I.left),chartY:Math.round(w.pageY-I.top)},S=C.width/O.offsetWidth||1,A=this.inRange(T.chartX,T.chartY,S);if(!A)return null;var j=this.state,E=j.xAxisMap,k=j.yAxisMap,D=this.getTooltipEventType(),V=QR(this.state,this.props.data,this.props.layout,A);if(D!=="axis"&&E&&k){var X=Xu(E).scale,Y=Xu(k).scale,J=X&&X.invert?X.invert(T.chartX):null,H=Y&&Y.invert?Y.invert(T.chartY):null;return st(st({},T),{},{xValue:J,yValue:H},V)}return V?st(st({},T),V):null}},{key:"inRange",value:function(w,O){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,T=w/C,S=O/C;if(I==="horizontal"||I==="vertical"){var A=this.state.offset,j=T>=A.left&&T<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return j?{x:T,y:S}:null}var E=this.state,k=E.angleAxisMap,D=E.radiusAxisMap;if(k&&D){var V=Xu(k);return IM({x:T,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),C=Bs(w,xs),I={};C&&O==="axis"&&(C.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=kb(this.props,this.handleOuterEvent);return st(st({},T),I)}},{key:"addListener",value:function(){gA.on(vA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gA.removeListener(vA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,C){for(var I=this.state.formattedGraphicalItems,T=0,S=I.length;T<S;T++){var A=I[T];if(A.item===w||A.props.key===w.key||O===Ic(A.item.type)&&C===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,C=O.left,I=O.top,T=O.height,S=O.width;return Ie.createElement("defs",null,Ie.createElement("clipPath",{id:w},Ie.createElement("rect",{x:C,y:I,height:T,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,C){var I=KR(C,2),T=I[0],S=I[1];return st(st({},O),{},sr({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,C){var I=KR(C,2),T=I[0],S=I[1];return st(st({},O),{},sr({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,C=O.formattedGraphicalItems,I=O.activeItem;if(C&&C.length)for(var T=0,S=C.length;T<S;T++){var A=C[T],j=A.props,E=A.item,k=E.type.defaultProps!==void 0?st(st({},E.type.defaultProps),E.props):E.props,D=Ic(E.type);if(D==="Bar"){var V=(j.data||[]).find(function(H){return I8e(w,H)});if(V)return{graphicalItem:A,payload:V}}else if(D==="RadialBar"){var X=(j.data||[]).find(function(H){return IM(w,H)});if(X)return{graphicalItem:A,payload:X}}else if(n_(A,I)||a_(A,I)||_1(A,I)){var Y=LLe({graphicalItem:A,activeTooltipItem:I,itemData:k.data}),J=k.activeIndex===void 0?Y:k.activeIndex;return{graphicalItem:st(st({},A),{},{childIndex:J}),payload:_1(A,I)?k.data[Y]:A.props.data[Y]}}}return null}},{key:"render",value:function(){var w=this;if(!_8(this))return null;var O=this.props,C=O.children,I=O.className,T=O.width,S=O.height,A=O.style,j=O.compact,E=O.title,k=O.desc,D=YR(O,WFe),V=Fr(D,!1);if(j)return Ie.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement(FT,T0({},V,{width:T,height:S,title:E,desc:k}),this.renderClipPath(),A8(C,this.renderMap)));if(this.props.accessibilityLayer){var X,Y;V.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,V.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",V.onKeyDown=function(H){w.accessibilityManager.keyboardEvent(H)},V.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Ie.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement("div",T0({className:Kr("recharts-wrapper",I),style:st({position:"relative",cursor:"default",width:T,height:S},A)},J,{ref:function(z){w.container=z}}),Ie.createElement(FT,T0({},V,{width:T,height:S,title:E,desc:k,style:l$e}),this.renderClipPath(),A8(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);sr(g,"displayName",r),sr(g,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),sr(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,O=v.children,C=v.width,I=v.height,T=v.layout,S=v.stackOffset,A=v.margin,j=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var k=JR(v);return st(st(st({},k),{},{updateId:0},p(st(st({props:v},k),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:I,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(b!==y.prevDataKey||w!==y.prevData||C!==y.prevWidth||I!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!F0(A,y.prevMargin)){var D=JR(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=st(st({},QR(y,w,T)),{},{updateId:y.updateId+1}),Y=st(st(st({},D),V),X);return st(st(st({},Y),p(st({props:v},Y),y)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:I,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(!MT(O,y.prevChildren)){var J,H,z,ee,W=Bs(O,Ap),P=W&&(J=(H=W.props)===null||H===void 0?void 0:H.startIndex)!==null&&J!==void 0?J:j,F=W&&(z=(ee=W.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&z!==void 0?z:E,q=P!==j||F!==E,K=!Mr(w),Z=K&&!q?y.updateId:y.updateId+1;return st(st({updateId:Z},p(st(st({props:v},y),{},{updateId:Z,dataStartIndex:P,dataEndIndex:F}),y)),{},{prevChildren:O,dataStartIndex:P,dataEndIndex:F})}return null}),sr(g,"renderActiveDot",function(v,y,b){var w;return U.isValidElement(v)?w=U.cloneElement(v,y):Nr(v)?w=v(y):w=Ie.createElement(mP,y),Ie.createElement(va,{className:"recharts-active-dot",key:b},w)});var m=U.forwardRef(function(y,b){return Ie.createElement(g,T0({},y,{ref:b}))});return m.displayName=g.displayName,m},Xg=y$e({chartName:"LineChart",GraphicalChild:ui,axisComponents:[{axisType:"xAxis",AxisComp:Af},{axisType:"yAxis",AxisComp:Tf}],formatAxisMap:sRe});const x$e=()=>{const{isDarkMode:e}=en(),{showToast:t}=au(),{user:r}=Na(),[n,a]=U.useState(!1),[i,s]=U.useState([]),[o,l]=U.useState(!1),[c,u]=U.useState([]),[f,h]=U.useState([]),[p,g]=U.useState(null),[m,v]=U.useState(null),[y,b]=U.useState(null),[w,O]=U.useState(!1),[C,I]=U.useState(!1),[T,S]=U.useState(!1),[A,j]=U.useState(!1),[E,k]=U.useState(""),[D,V]=U.useState(!1),[X,Y]=U.useState(null),[J,H]=U.useState(null),[z,ee]=U.useState(0),[W,P]=U.useState(new Set),[F,q]=U.useState(!1),[K,Z]=U.useState(new Set),[ce,de]=U.useState(new Set),[ae,he]=U.useState(!1),[Se,B]=U.useState(""),[Ee,ve]=U.useState([]),[xe,te]=U.useState(!1),[Ne,Be]=U.useState("name"),[Ue,Ze]=U.useState(!1),[Le,Ye]=U.useState(null),[je,Qe]=U.useState(null),[pt,ot]=U.useState("all"),[St,jt]=U.useState([]),[bt,Tt]=U.useState(()=>{const ie=new Date;return ie.setHours(0,0,0,0),ie}),[it,Yt]=U.useState(""),[Pt,Ir]=U.useState(()=>{const ie=new Date,ye=new Date;return ye.setDate(ye.getDate()-6),ye.setHours(0,0,0,0),ie.setHours(23,59,59,999),{start:ye,end:ie}}),[_t,It]=U.useState({dailyStats:[],userStats:[]}),[Zt,Ut]=U.useState(!1),Tr=ie=>{const ye=new Date,$e=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate());return ie.createdAt<$e&&ie.status==="completed"},ke=ie=>{if(!Le&&!je)return!0;const ye=ie.createdAt;return Le&&je?ye>=Le&&ye<=je:Le?ye>=Le:je?ye<=je:!0},Je=()=>{const ie=new Set(i.map(ye=>ye.createdBy));return Array.from(ie).sort()},lt=ie=>pt==="all"?!0:ie.createdBy===pt,Ct=i.filter(ie=>C?Tr(ie)&&ke(ie)&&lt(ie):w?ie.status==="completed"&&!Tr(ie):T?ie.status==="picking":ie.status!=="completed"),mt=()=>{const ie=i.filter($e=>$e.status==="picking"),ye=St.filter($e=>$e.isActive);return{databaseJobs:ie,uiSessions:ye,totalCount:ie.length+ye.length}},Mt=U.useCallback(async ie=>{Ut(!0);try{const ye=new Date(ie);ye.setHours(0,0,0,0);const $e=new Date(ie);$e.setHours(23,59,59,999);const Et=i.filter(Lt=>{const Xt=Lt.createdAt;return Xt>=ye&&Xt<=$e}),nt=[];for(let Lt=6;Lt>=0;Lt--){const Xt=new Date(ie);Xt.setDate(Xt.getDate()-Lt);const ir=new Date(Xt);ir.setHours(0,0,0,0);const ur=new Date(Xt);ur.setHours(23,59,59,999);const sn=i.filter(Xr=>{const Jn=Xr.createdAt;return Jn>=ir&&Jn<=ur}),on=sn.reduce((Xr,Jn)=>Xr+Jn.items.reduce((fs,$n)=>fs+$n.quantity,0),0),qr=sn.filter(Xr=>Xr.status==="completed").length;nt.push({date:Xt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:on,jobsCompleted:qr})}const tt=[],vt=new Set(Et.map(Lt=>Lt.createdBy));for(const Lt of vt){const Xt=Et.filter(Xr=>Xr.createdBy===Lt),ir=Xt.filter(Xr=>Xr.status==="completed"),ur=Xt.reduce((Xr,Jn)=>Xr+Jn.items.reduce((fs,$n)=>fs+$n.quantity,0),0);let sn=0,on=0;ir.forEach(Xr=>{Xr.pickingTime&&Xr.pickingTime>0&&(sn+=Xr.pickingTime,on++)});const qr=on>0?sn/on:0;tt.push({name:Lt,jobsCreated:Xt.length,jobsCompleted:ir.length,itemsPicked:ur,avgTimePerJob:qr,totalTime:sn})}tt.sort((Lt,Xt)=>Xt.itemsPicked-Lt.itemsPicked),It({dailyStats:nt,userStats:tt})}catch(ye){console.error("Error generating reports:",ye),t("Failed to generate reports","error")}finally{Ut(!1)}},[i,t]),mr=async ie=>{if(r)try{await kr(kt(et,"activityLogs"),{user:r.name,role:r.role,detail:ie,time:new Date().toISOString()})}catch(ye){console.error("Failed to log activity:",ye)}},Er=ie=>{if(ie<60)return`${Math.round(ie)}s`;if(ie<3600){const ye=Math.floor(ie/60),$e=Math.round(ie%60);return`${ye}m ${$e}s`}else{const ye=Math.floor(ie/3600),$e=Math.floor(ie%3600/60),Et=Math.round(ie%60);return`${ye}h ${$e}m ${Et}s`}},an=U.useCallback(async()=>{a(!0),O(!1),I(!1),S(!1),j(!1),Ye(null),Qe(null),ot("all"),Z(new Set);try{const ie=er(kt(et,"jobs"),La("createdAt","desc")),$e=(await nr(ie)).docs.map(nt=>{const tt=nt.data();return{id:nt.id,jobId:tt.jobId||"",createdAt:tt.createdAt instanceof tr?tt.createdAt.toDate():new Date,createdBy:tt.createdBy||"Unknown",status:tt.status||"picking",picker:tt.picker??null,packer:tt.packer??null,items:Array.isArray(tt.items)?tt.items.map(vt=>({barcode:String(vt.barcode||""),name:vt.name??null,asin:vt.asin??null,quantity:Number(vt.quantity||1),verified:!!vt.verified,locationCode:vt.locationCode,shelfNumber:vt.shelfNumber,reason:vt.reason||"Unknown",storeName:vt.storeName||"Unknown"})):[],pickingTime:tt.pickingTime||0}}),Et=await Promise.all($e.map(async nt=>{const tt=await Promise.all(nt.items.map(async vt=>{if(vt.name)return vt;try{const Lt=er(kt(et,"inventory"),Jt("barcode","==",vt.barcode)),Xt=await nr(Lt);if(!Xt.empty){const ir=Xt.docs[0].data();return{...vt,name:ir.name||null}}}catch(Lt){console.error("Error fetching product name for barcode:",vt.barcode,Lt)}return vt}));return{...nt,items:tt}}));s(Et)}catch(ie){console.error(ie),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);U.useEffect(()=>{an()},[an]),U.useEffect(()=>()=>{Z(new Set),de(new Set)},[i]),U.useEffect(()=>{C&&!Le&&!je&&we()},[C,Le,je]),U.useEffect(()=>{if(!T)return;const ie=Sae(kt(et,"liveJobSessions"),ye=>{const $e=[];ye.forEach(Et=>{const nt=Et.data();nt.isActive&&$e.push({id:Et.id,createdBy:nt.createdBy||"Unknown",startTime:nt.startTime instanceof tr?nt.startTime.toDate():new Date(nt.startTime),items:nt.items||[],isActive:nt.isActive||!1})}),jt($e)},ye=>{console.error("Error listening to live job sessions:",ye)});return()=>ie()},[T]),U.useEffect(()=>{A&&(console.log("Generating reports for date:",bt.toISOString(),bt.toLocaleDateString("en-GB")),Mt(bt))},[A,bt,Mt]),U.useEffect(()=>{A&&(console.log("Date range changed:",Pt.start.toLocaleDateString("en-GB"),"to",Pt.end.toLocaleDateString("en-GB")),Tt(new Date(Pt.end)))},[Pt,A]),U.useEffect(()=>{if(A&&i.length>0){const ie=Array.from(new Set(i.map(ye=>ye.createdBy)));ie.length>0&&!it&&Yt(ie[0])}},[A,i,it]),U.useEffect(()=>{A&&console.log("Report date changed:",bt.toISOString(),bt.toLocaleDateString("en-GB"))},[bt,A]);const Za=ie=>{de(ye=>{const $e=new Set(ye);return $e.has(ie)?$e.delete(ie):$e.add(ie),$e})};U.useEffect(()=>{let ie;return J&&(ie=setInterval(()=>{const $e=Math.floor((new Date().getTime()-J.getTime())/1e3);ee($e)},1e3)),()=>{ie&&clearInterval(ie)}},[J]);const zt=()=>{k(""),u([]),h([]),H(new Date),ee(0),l(!0);const ie=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;kr(kt(et,"liveJobSessions"),{id:ie,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:bc(),items:[],isActive:!0,createdAt:bc()}).catch(ye=>{console.error("Error creating live job session:",ye)})},Ua=async ie=>{try{const ye=er(kt(et,"inventory"),Jt("barcode","==",ie));return!(await nr(ye)).empty}catch(ye){return console.error("Error checking barcode:",ye),!1}},Qn=async ie=>{ie.preventDefault();const ye=E.trim();if(!ye)return;if(!await Ua(ye)){t(`Product with barcode ${ye} does not exist`,"error");return}try{const Et=er(kt(et,"inventory"),Jt("barcode","==",ye)),nt=await nr(Et);if(!nt.empty){const tt=nt.docs[0].data(),vt={...tt,id:nt.docs[0].id,lastUpdated:tt.lastUpdated instanceof tr?tt.lastUpdated.toDate():new Date(tt.lastUpdated)};Y(vt),V(!0),l(!1)}}catch(Et){console.error("Error fetching stock item:",Et),t("Error fetching stock item details","error")}},Fn=async ie=>{if(!X)return;const ye=X.quantity-ie.quantity,$e=er(kt(et,"inventory"),Jt("barcode","==",X.barcode),Jt("locationCode","==",ie.locationCode),Jt("shelfNumber","==",ie.shelfNumber)),Et=await nr($e);if(Et.empty){t("Stock item not found for this location","error");return}const nt={...X,id:Et.docs[0].id,quantity:Et.docs[0].data().quantity||0};h(Lt=>[...Lt,{stockItem:nt,deductedQuantity:ye,reason:ie.reason,storeName:ie.storeName,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber}]),X.barcode&&u(Lt=>{const Xt=X.barcode,ir=Lt.findIndex(ur=>ur.barcode===Xt&&ur.locationCode===ie.locationCode&&ur.shelfNumber===ie.shelfNumber);if(ir>=0){const ur=[...Lt];return ur[ir]={...ur[ir],quantity:ur[ir].quantity+ye},ur}else return[...Lt,{barcode:Xt,name:X.name,quantity:ye,verified:!1,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,reason:ie.reason,storeName:ie.storeName}]}),t("Item added to job","success"),V(!1),Y(null),l(!0),k("");const tt=er(kt(et,"liveJobSessions"),Jt("createdBy","==",r==null?void 0:r.name),Jt("isActive","==",!0)),vt=await nr(tt);if(!vt.empty){const Lt=vt.docs[0],Xt=Lt.data().items||[],ir={barcode:X.barcode,name:X.name,quantity:ye,verified:!1,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,reason:ie.reason,storeName:ie.storeName};await na(Pr(et,"liveJobSessions",Lt.id),{items:[...Xt,ir]})}xn()},Pn=()=>{V(!1),Y(null),l(!0),xn()},xn=()=>{B(""),ve([]),Be("name"),Ze(!1)},se=()=>{C?we():(Ye(null),Qe(null))},we=()=>{const ie=new Date,ye=new Date(ie);ye.setDate(ie.getDate()-1);const $e=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate()),Et=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate(),23,59,59,999);Ye($e),Qe(Et)},me=()=>{C?we():(Ye(null),Qe(null)),ot("all")},ge=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(F){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}q(!0),a(!0);try{for(const nt of f){const tt=Pr(et,"inventory",nt.stockItem.id);await na(tt,{quantity:nt.stockItem.quantity-nt.deductedQuantity,lastUpdated:bc()}),await kr(kt(et,"activityLogs"),{detail:`${nt.deductedQuantity} units deducted from stock "${nt.stockItem.name}"  (Reason: ${nt.reason}, Store: ${nt.storeName}) by ${r==null?void 0:r.role} from location ${nt.locationCode} shelf ${nt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const nt of c)if(!f.some(vt=>vt.stockItem.barcode===nt.barcode&&vt.locationCode===nt.locationCode&&vt.shelfNumber===nt.shelfNumber)){const vt=er(kt(et,"inventory"),Jt("barcode","==",nt.barcode),Jt("locationCode","==",nt.locationCode),Jt("shelfNumber","==",nt.shelfNumber)),Lt=await nr(vt);if(!Lt.empty){const Xt=Lt.docs[0],ur=Xt.data().quantity||0;await na(Pr(et,"inventory",Xt.id),{quantity:ur-nt.quantity,lastUpdated:bc()})}}const ie=Date.now().toString(),ye=await kr(kt(et,"jobs"),{jobId:ie,createdAt:bc(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:z});await na(ye,{docId:ye.id}),await mr(`created new job ${ie} with ${c.length} items (${c.reduce((nt,tt)=>nt+tt.quantity,0)} total units)`),t(`Job ${ie} created and awaiting pack`,"success"),l(!1),u([]),h([]),k(""),H(null),ee(0);const $e=er(kt(et,"liveJobSessions"),Jt("createdBy","==",r==null?void 0:r.name),Jt("isActive","==",!0)),Et=await nr($e);Et.empty||await Cc(Pr(et,"liveJobSessions",Et.docs[0].id)),an()}catch(ie){console.error(ie),t("Failed to create job","error")}finally{a(!1),q(!1)}},_e=async ie=>{try{await na(Pr(et,"jobs",ie.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||ie.picker||null}),await mr(`completed picking for job ${ie.jobId} with ${ie.items.length} items (${ie.items.reduce((ye,$e)=>ye+$e.quantity,0)} total units)`),t(`Job ${ie.jobId} completed and awaiting pack`,"success"),an()}catch{t("Failed to update job","error")}},Ae=async(ie,ye,$e)=>{const Et=`${ie.id}-${ye}`;P(nt=>new Set(nt).add(Et));try{if(!ie.id||!ye){t("Invalid job or barcode","error");return}Z($e?nt=>new Set(nt).add(Et):nt=>{const tt=new Set(nt);return tt.delete(Et),tt})}catch(nt){console.error("Error verifying item:",nt),t("Failed to verify item","error")}finally{P(nt=>{const tt=new Set(nt);return tt.delete(Et),tt})}},Ve=async ie=>{try{const ye=Array.from(K).filter(nt=>nt.startsWith(ie.id)).map(nt=>nt.split("-")[1]),$e=ie.items.filter(nt=>nt.verified||ye.includes(nt.barcode)).length,Et=ie.items.map(nt=>({...nt,verified:ye.includes(nt.barcode)||nt.verified}));await na(Pr(et,"jobs",ie.id),{status:"completed",packer:(r==null?void 0:r.name)||ie.packer||null,items:Et}),await mr(`completed packing for job ${ie.jobId} with ${ie.items.length} items (${ie.items.reduce((nt,tt)=>nt+tt.quantity,0)} total units) - ${$e} items verified`),Z(nt=>{const tt=new Set(nt);return ye.forEach(vt=>{tt.delete(`${ie.id}-${vt}`)}),tt}),t(`Job ${ie.jobId} completed successfully with ${$e}/${ie.items.length} items verified`,"success"),an()}catch(ye){console.error("Error completing job:",ye),t("Failed to complete job","error")}},Xe=ie=>{b(ie)},ze=async()=>{if(y)try{await mr(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((ie,ye)=>ie+ye.quantity,0)} total units))`),await Cc(Pr(et,"jobs",y.id)),Z(ie=>{const ye=new Set(ie);return y.items.forEach($e=>{ye.delete(`${y.id}-${$e.barcode}`)}),ye}),t("Job deleted","success"),b(null),an()}catch{t("Failed to delete job","error")}},qe=async(ie,ye,$e,Et)=>{try{const nt=[...ie.items];nt[ye]={...nt[ye],barcode:$e,quantity:Et},await na(Pr(et,"jobs",ie.id),{items:nt}),await mr(`updated job item in job ${ie.jobId}: barcode ${ie.items[ye].barcode} → ${$e}, quantity ${ie.items[ye].quantity} → ${Et}`),t("Job item updated successfully","success"),v(null),an()}catch{t("Failed to update job item","error")}},Ge=async(ie,ye)=>{try{const $e=ie.items.filter((Et,nt)=>nt!==ye);await na(Pr(et,"jobs",ie.id),{items:$e}),await mr(`removed item ${ie.items[ye].barcode} (qty: ${ie.items[ye].quantity}) from job ${ie.jobId}`),t("Job item removed successfully","success"),an()}catch{t("Failed to remove job item","error")}},yt=async(ie,ye)=>{if(!ie.trim()){ve([]);return}te(!0);try{let $e;switch(ye){case"barcode":$e=er(kt(et,"inventory"),Jt("barcode","==",ie.trim()));break;case"asin":$e=er(kt(et,"inventory"),Jt("asin","==",ie.trim()));break;case"name":default:$e=er(kt(et,"inventory"),Jt("name",">=",ie.trim().toUpperCase()),Jt("name","<=",ie.trim().toUpperCase()+""));break}const nt=(await nr($e)).docs.map(tt=>{const vt=tt.data();return{id:tt.id,name:vt.name||"",quantity:vt.quantity||0,price:vt.price||0,unit:vt.unit||null,supplier:vt.supplier||null,lastUpdated:vt.lastUpdated instanceof tr?vt.lastUpdated.toDate():new Date,locationCode:vt.locationCode||"",shelfNumber:vt.shelfNumber||"",barcode:vt.barcode||null,asin:vt.asin||null,status:vt.status||"pending",damagedItems:vt.damagedItems||0,fulfillmentType:vt.fulfillmentType||"fba",storeName:vt.storeName||""}});ve(nt)}catch($e){console.error("Search error:",$e),t("Failed to search inventory","error"),ve([])}finally{te(!1)}},Dt=({job:ie})=>{const ye=ie.status==="awaiting_pack",$e=ie.status==="picking",Et=ie.status==="completed",nt=ce.has(ie.id);return d.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",ie.jobId]}),d.jsx("button",{onClick:()=>Za(ie.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:nt?d.jsxs(d.Fragment,{children:[d.jsx(t9,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",ie.items.length,")"]}):d.jsxs(d.Fragment,{children:[d.jsx(Nf,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",ie.items.length,")"]})})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ie.createdBy," • ",ie.createdAt.toLocaleString(),ie.pickingTime&&ie.pickingTime>0&&d.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Er(ie.pickingTime)]})]}),!nt&&ie.items.length>0&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ie.items.length," item",ie.items.length!==1?"s":""," • Total Qty: ",ie.items.reduce((tt,vt)=>tt+vt.quantity,0),ye&&d.jsxs("span",{className:"ml-2",children:["• Verified: ",ie.items.filter(tt=>tt.verified||K.has(`${ie.id}-${tt.barcode}`)).length,"/",ie.items.length]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Et?"bg-green-100 text-green-700":ye?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Et?"Completed":ye?"Awaiting Pack":"Picking"}),d.jsx(ct,{variant:"secondary",onClick:an,size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ji,{size:14})}),d.jsx(ct,{variant:"danger",onClick:()=>Xe(ie),size:"sm",className:"h-8 w-8 p-0",children:d.jsx(es,{size:14})})]})]})})}),nt&&d.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$e&&d.jsxs(ct,{onClick:()=>V(!0),className:"flex items-center gap-1",size:"sm",children:[d.jsx(oS,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),ye&&d.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",ie.items.filter(tt=>tt.verified||K.has(`${ie.id}-${tt.barcode}`)).length,"/",ie.items.length," items verified"]})]}),d.jsxs("div",{className:"space-y-3",children:[ie.items.map((tt,vt)=>d.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===ie.id&&(m==null?void 0:m.itemIndex)===vt?d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[d.jsx(Nt,{value:m.barcode,onChange:Lt=>v({...m,barcode:Lt.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),d.jsx(Nt,{type:"number",value:m.quantity.toString(),onChange:Lt=>v({...m,quantity:Number(Lt.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{size:"sm",onClick:()=>qe(ie,vt,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),d.jsx(ct,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:tt.name||tt.barcode}),tt.name&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",tt.barcode]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[ye&&d.jsx(ct,{variant:tt.verified||K.has(`${ie.id}-${tt.barcode}`)?"success":"primary",size:"sm",onClick:()=>Ae(ie,tt.barcode,!(tt.verified||K.has(`${ie.id}-${tt.barcode}`))),disabled:W.has(`${ie.id}-${tt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${tt.verified||K.has(`${ie.id}-${tt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:W.has(`${ie.id}-${tt.barcode}`)?d.jsx(ji,{size:12,className:"animate-spin"}):d.jsx("span",{className:"hidden sm:inline",children:tt.verified||K.has(`${ie.id}-${tt.barcode}`)?"Verified":"Verify"})}),ye&&!m&&d.jsx(d.Fragment,{children:d.jsx(ct,{variant:"danger",size:"sm",onClick:()=>Ge(ie,vt),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:d.jsx(es,{size:16})})})]})]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[d.jsxs("div",{children:["Qty: ",tt.quantity]}),tt.locationCode&&tt.shelfNumber&&d.jsxs("div",{children:["Location: ",tt.locationCode,"-",tt.shelfNumber]}),tt.reason&&d.jsxs("div",{children:["Reason: ",tt.reason]}),tt.storeName&&d.jsxs("div",{children:["Store: ",tt.storeName]})]})]})},`${tt.barcode}-${vt}-${ie.id}`)),ie.items.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[$e&&d.jsxs(ct,{onClick:()=>_e(ie),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Jx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),ye&&d.jsxs(ct,{onClick:()=>Ve(ie),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Jx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[C?"Archived":w?"Completed":T?"Live":A?"Reports":"Active"," Jobs"]}),T&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),A&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(ct,{variant:"secondary",onClick:an,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:d.jsx(ji,{size:16,className:n?"animate-spin":""})}),d.jsxs(ct,{onClick:zt,className:"flex items-center gap-1",size:"sm",children:[d.jsx(is,{size:16})," ",d.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),d.jsx(ct,{variant:!w&&!C&&!T&&!A?"primary":"secondary",onClick:()=>{O(!1),I(!1),S(!1),j(!1)},size:"sm",children:"Active Jobs"}),d.jsx(ct,{variant:w?"primary":"secondary",onClick:()=>{O(!0),I(!1),S(!1),j(!1)},size:"sm",children:"Completed Jobs"}),d.jsx(ct,{variant:C?"primary":"secondary",onClick:()=>{O(!1),I(!0),S(!1),j(!1),we()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(ct,{variant:T?"primary":"secondary",onClick:()=>{O(!1),I(!1),S(!0),j(!1)},size:"sm",children:"Live Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(ct,{variant:A?"primary":"secondary",onClick:()=>{O(!1),I(!1),S(!1),j(!0)},size:"sm",children:"Reports"})]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:C&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),d.jsxs("select",{value:pt,onChange:ie=>ot(ie.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[d.jsx("option",{value:"all",children:"All Users"}),Je().map(ie=>d.jsx("option",{value:ie,children:ie},ie))]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),d.jsx(vC,{startDate:Le,endDate:je,onStartDateChange:Ye,onEndDateChange:Qe,onClear:se,className:"w-full"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{variant:"secondary",onClick:me,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[C&&(Le||je||pt!=="all")&&d.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[pt!=="all"&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",pt]}),Le&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",Le.toLocaleDateString()]}),je&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",je.toLocaleDateString()]}),d.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[Ct.length," jobs found"]})]})]})}),Ct.map(ie=>d.jsx(Dt,{job:ie},ie.id)),T&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),d.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[mt().totalCount," active"]})]})}),mt().uiSessions.map(ie=>d.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ie.createdBy," • Started at ",ie.startTime.toLocaleString()]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ie.items.length," item",ie.items.length!==1?"s":""," scanned"]})]})]})})})})},ie.id))]}),A&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const ie=String(bt.getDate()).padStart(2,"0"),ye=String(bt.getMonth()+1).padStart(2,"0"),$e=bt.getFullYear();return`${ie}/${ye}/${$e}`})()})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"date",value:(()=>{const ie=bt.getFullYear(),ye=String(bt.getMonth()+1).padStart(2,"0"),$e=String(bt.getDate()).padStart(2,"0");return`${ie}-${ye}-${$e}`})(),onChange:ie=>{const ye=new Date(ie.target.value);Tt(ye),Mt(ye)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),d.jsx(ct,{variant:"secondary",onClick:()=>Mt(bt),className:"flex items-center gap-2",size:"sm",disabled:Zt,children:d.jsx(ji,{size:16,className:Zt?"animate-spin":""})})]})]}),Zt?d.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[d.jsx(ji,{size:24,className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"Generating reports..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:_t.userStats.reduce((ie,ye)=>ie+ye.itemsPicked,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:_t.userStats.reduce((ie,ye)=>ie+ye.jobsCompleted,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:_t.userStats.length})]})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",bt.toLocaleDateString()]}),_t.userStats.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),d.jsx("tbody",{children:_t.userStats.map((ie,ye)=>d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:ie.name}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ie.jobsCreated}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ie.jobsCompleted}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:ie.itemsPicked}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Er(ie.avgTimePerJob)}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Er(ie.totalTime)})]},ye))})]})}):d.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ie=[];for(let ye=6;ye>=0;ye--){const $e=new Date;$e.setDate($e.getDate()-ye);const Et=new Date($e);Et.setHours(0,0,0,0);const nt=new Date($e);nt.setHours(23,59,59,999);const tt=i.filter(ir=>{const ur=ir.createdAt;return ur>=Et&&ur<=nt}),vt=tt.reduce((ir,ur)=>ir+ur.items.reduce((sn,on)=>sn+on.quantity,0),0),Lt=tt.filter(ir=>ir.status==="completed").length,Xt=Qt($e,"MMM dd");ie.push({date:Xt,itemsPicked:vt,jobsCompleted:Lt})}return ie})().map((ie,ye)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:ie.date}),d.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ie.itemsPicked}),d.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[ie.jobsCompleted," jobs"]})]},ye))})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:(()=>{const ie=Pt.start.getFullYear(),ye=String(Pt.start.getMonth()+1).padStart(2,"0"),$e=String(Pt.start.getDate()).padStart(2,"0");return`${ie}-${ye}-${$e}`})(),onChange:ie=>{const ye=new Date(ie.target.value);ye.setHours(0,0,0,0),ye<=Pt.end&&Ir($e=>({...$e,start:ye}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:(()=>{const ie=Pt.end.getFullYear(),ye=String(Pt.end.getMonth()+1).padStart(2,"0"),$e=String(Pt.end.getDate()).padStart(2,"0");return`${ie}-${ye}-${$e}`})(),onChange:ie=>{const ye=new Date(ie.target.value);ye.setHours(23,59,59,999),ye>=Pt.start&&Ir($e=>({...$e,end:ye}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>{const ie=new Date,ye=new Date;ye.setDate(ye.getDate()-6),ye.setHours(0,0,0,0),ie.setHours(23,59,59,999),Ir({start:ye,end:ie})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ie=new Date,ye=new Date;return ye.setDate(ye.getDate()-6),ye.setHours(0,0,0,0),ie.setHours(23,59,59,999),Pt.start.getTime()===ye.getTime()&&Pt.end.getTime()===ie.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),d.jsx("button",{onClick:()=>{const ie=new Date,ye=new Date;ye.setDate(ye.getDate()-29),ye.setHours(0,0,0,0),ie.setHours(23,59,59,999),Ir({start:ye,end:ie})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ie=new Date,ye=new Date;return ye.setDate(ye.getDate()-29),ye.setHours(0,0,0,0),ie.setHours(23,59,59,999),Pt.start.getTime()===ye.getTime()&&Pt.end.getTime()===ie.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Pt.start.toLocaleDateString("en-GB")," to ",Pt.end.toLocaleDateString("en-GB"),")"]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(qg,{width:"100%",height:"100%",children:d.jsxs(Xg,{data:(()=>{const ie=[],ye=new Map,$e=new Date(Pt.start),Et=new Date(Pt.end),nt=Math.ceil((Et.getTime()-$e.getTime())/(1e3*60*60*24));for(let tt=0;tt<=nt;tt++){const vt=new Date($e);vt.setDate($e.getDate()+tt);const Lt=new Date(vt);Lt.setHours(0,0,0,0);const Xt=new Date(vt);Xt.setHours(23,59,59,999);const ir=i.filter(Xr=>{const Jn=Xr.createdAt;return Jn>=Lt&&Jn<=Xt}),ur=ir.reduce((Xr,Jn)=>Xr+Jn.items.reduce((fs,$n)=>fs+$n.quantity,0),0),sn=ir.filter(Xr=>Xr.status==="completed").length,on=ir.length,qr=Qt(vt,"MMM dd");ye.set(qr,{itemsPicked:ur,jobsCompleted:sn,jobsCreated:on})}return ye.forEach((tt,vt)=>{ie.push({date:vt,itemsPicked:tt.itemsPicked,jobsCompleted:tt.jobsCompleted,jobsCreated:tt.jobsCreated})}),ie.sort((tt,vt)=>{const Lt=new Date(tt.date),Xt=new Date(vt.date);return Lt.getTime()-Xt.getTime()})})(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Af,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Tf,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(xs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ie,ye)=>ye==="Items Picked"?[`${ie} items`,ye]:ye==="Jobs Completed"?[`${ie} jobs`,ye]:ye==="Jobs Created"?[`${ie} jobs`,ye]:[ie,ye],labelFormatter:ie=>`Date: ${ie}`}),d.jsx(hl,{}),d.jsx(ui,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Pt.start.toLocaleDateString("en-GB")," to ",Pt.end.toLocaleDateString("en-GB")]}),d.jsx("select",{value:it||(()=>{const ie=Array.from(new Set(i.map(ye=>ye.createdBy)));return ie.length>0?ie[0]:""})(),onChange:ie=>{Yt(ie.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(ye=>ye.createdBy))).map(ye=>d.jsx("option",{value:ye,children:ye},ye))})]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(qg,{width:"100%",height:"100%",children:d.jsxs(Xg,{data:(()=>{const ie=[],ye=new Map,$e=Array.from(new Set(i.map(Lt=>Lt.createdBy))),Et=it||($e.length>0?$e[0]:""),nt=new Date(Pt.start),tt=new Date(Pt.end),vt=Math.ceil((tt.getTime()-nt.getTime())/(1e3*60*60*24));for(let Lt=0;Lt<=vt;Lt++){const Xt=new Date(nt);Xt.setDate(nt.getDate()+Lt);const ir=new Date(Xt);ir.setHours(0,0,0,0);const ur=new Date(Xt);ur.setHours(23,59,59,999);const sn=i.filter($n=>{const jo=$n.createdAt;return jo>=ir&&jo<=ur&&$n.createdBy===Et}),on=sn.reduce(($n,jo)=>$n+jo.items.reduce((yi,bl)=>yi+bl.quantity,0),0),qr=sn.filter($n=>$n.status==="completed").length,Xr=sn.length;let Jn=0;sn.forEach($n=>{$n.pickingTime&&$n.pickingTime>0&&(Jn+=$n.pickingTime)});const fs=Qt(Xt,"MMM dd");ye.set(fs,{itemsPicked:on,jobsCompleted:qr,jobsCreated:Xr,totalPickingTime:Jn})}return ye.forEach((Lt,Xt)=>{ie.push({date:Xt,itemsPicked:Lt.itemsPicked,jobsCompleted:Lt.jobsCompleted,jobsCreated:Lt.jobsCreated,totalPickingTime:Lt.totalPickingTime})}),ie.sort((Lt,Xt)=>{const ir=new Date(Lt.date),ur=new Date(Xt.date);return ir.getTime()-ur.getTime()})})(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Af,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Tf,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(xs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ie,ye)=>ye==="Items Picked"?[`${ie} items`,ye]:ye==="Jobs Completed"?[`${ie} jobs`,ye]:ye==="Jobs Created"?[`${ie} jobs`,ye]:ye==="Total Picking Time"?[`${Er(ie)}`,ye]:[ie,ye],labelFormatter:ie=>`Date: ${ie}`}),d.jsx(hl,{}),d.jsx(ui,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),Ct.length===0&&mt().uiSessions.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:C?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{children:"No archived jobs found."}),(Le||je||pt!=="all")&&d.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):w?"No completed jobs found.":T?"No live jobs found.":A?"":"No active jobs found."})]}),d.jsx(Sn,{isOpen:o,onClose:()=>{l(!1),H(null),ee(0),Ze(!1);const ie=er(kt(et,"liveJobSessions"),Jt("createdBy","==",r==null?void 0:r.name),Jt("isActive","==",!0));nr(ie).then(ye=>{ye.empty||Cc(Pr(et,"liveJobSessions",ye.docs[0].id))}).catch(ye=>{console.error("Error deleting session:",ye)})},title:Ue?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:d.jsxs("div",{className:"space-y-4",children:[!Ue&&d.jsxs("div",{className:"flex justify-start gap-2",children:[d.jsxs("button",{onClick:()=>Ze(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[d.jsx(Uc,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),d.jsx(ct,{variant:"secondary",onClick:()=>he(!0),size:"sm",className:"px-3 py-2",children:"Calculator"})]}),Ue&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>Ze(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[d.jsx(lZ,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),d.jsx(ct,{variant:"secondary",onClick:()=>he(!0),size:"sm",className:"px-3 py-2",children:"Calculator"})]}),d.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(ie=>d.jsx("button",{onClick:()=>Be(ie),className:`px-3 py-1 text-xs rounded-md transition-colors ${Ne===ie?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:ie.charAt(0).toUpperCase()+ie.slice(1)},ie))}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(Nt,{value:Se,onChange:ie=>B(ie.target.value),placeholder:`Search by ${Ne}...`,className:"flex-1",onKeyPress:ie=>ie.key==="Enter"&&yt(Se,Ne)}),d.jsx(ct,{onClick:()=>yt(Se,Ne),disabled:xe||!Se.trim(),size:"sm",className:"px-4",children:xe?d.jsx(ji,{size:14,className:"animate-spin"}):"Search"})]}),Ee.length>0&&d.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[d.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Ee.length," product",Ee.length!==1?"s":"",":"]}),Ee.map(ie=>d.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[d.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:ie.name}),d.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[ie.barcode&&d.jsxs("span",{className:"mr-3",children:["Barcode: ",ie.barcode]}),ie.asin&&d.jsxs("span",{className:"mr-3",children:["ASIN: ",ie.asin]}),ie.locationCode&&ie.shelfNumber&&d.jsxs("span",{className:"mr-3",children:["Location: ",ie.locationCode,"-",ie.shelfNumber]}),d.jsxs("span",{className:"mr-3",children:["Qty: ",ie.quantity]}),d.jsxs("span",{children:["Store: ",ie.storeName]})]})]},ie.id))]}),Se&&Ee.length===0&&!xe&&d.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Se,'"']})]}),!Ue&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),d.jsxs("form",{onSubmit:Qn,className:"flex gap-2",children:[d.jsx(Nt,{name:"manualBarcode",type:"text",value:E,onChange:ie=>k(ie.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),d.jsxs(ct,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[d.jsx(is,{size:16})," Add"]})]})]}),d.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Ue&&c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),d.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((ie,ye)=>d.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===ye?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(Nt,{value:p.barcode,onChange:$e=>g({...p,barcode:$e.target.value}),className:"w-24 text-sm"}),d.jsx(Nt,{type:"number",value:p.quantity,onChange:$e=>g({...p,quantity:Number($e.target.value)||1}),className:"w-16 text-sm",min:"1"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ct,{size:"sm",onClick:()=>{const $e=c[ye].quantity,Et=Number(p.quantity),nt=Et-$e;u(vt=>{const Lt=[...vt];return Lt[ye]={...Lt[ye],barcode:p.barcode,quantity:Et,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Lt}),h(vt=>{const Lt=[...vt],Xt=Lt.findIndex(ir=>ir.stockItem.barcode===p.barcode&&ir.locationCode===c[ye].locationCode&&ir.shelfNumber===c[ye].shelfNumber);return Xt>=0&&(Lt[Xt]={...Lt[Xt],deductedQuantity:Lt[Xt].deductedQuantity+nt}),Lt});const tt=er(kt(et,"liveJobSessions"),Jt("createdBy","==",r==null?void 0:r.name),Jt("isActive","==",!0));nr(tt).then(vt=>{if(!vt.empty){const Lt=vt.docs[0],ir=(Lt.data().items||[]).map(ur=>ur.barcode===c[ye].barcode&&ur.locationCode===c[ye].locationCode&&ur.shelfNumber===c[ye].shelfNumber?{...ur,barcode:p.barcode,quantity:Et,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:ur);na(Pr(et,"liveJobSessions",Lt.id),{items:ir})}}).catch(vt=>{console.error("Error updating session items:",vt)}),g(null)},className:"h-6 px-2",children:"✓"}),d.jsx(ct,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"truncate block font-medium",children:ie.name||ie.barcode}),ie.name&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",ie.barcode]}),ie.locationCode&&ie.shelfNumber&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",ie.locationCode," - Shelf ",ie.shelfNumber]}),ie.reason&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",ie.reason]}),ie.storeName&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",ie.storeName]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",ie.quantity]}),d.jsx(ct,{variant:"secondary",size:"sm",onClick:()=>g({index:ye,barcode:ie.barcode,quantity:ie.quantity,reason:ie.reason,storeName:ie.storeName,name:ie.name}),className:"h-6 px-2",children:"Edit"}),d.jsx("button",{type:"button",onClick:()=>{u(nt=>nt.filter((tt,vt)=>vt!==ye));const $e=c[ye];h(nt=>nt.filter(tt=>!(tt.stockItem.barcode===$e.barcode&&tt.locationCode===$e.locationCode&&tt.shelfNumber===$e.shelfNumber)));const Et=er(kt(et,"liveJobSessions"),Jt("createdBy","==",r==null?void 0:r.name),Jt("isActive","==",!0));nr(Et).then(nt=>{if(!nt.empty){const tt=nt.docs[0],Lt=(tt.data().items||[]).filter(Xt=>!(Xt.barcode===$e.barcode&&Xt.locationCode===$e.locationCode&&Xt.shelfNumber===$e.shelfNumber));na(Pr(et,"liveJobSessions",tt.id),{items:Lt})}}).catch(nt=>{console.error("Error updating session items:",nt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${ie.barcode}-${ie.locationCode}-${ie.shelfNumber}-${ye}`))}),d.jsx("div",{className:"pt-2",children:d.jsxs(ct,{onClick:ge,disabled:c.length===0||F,isLoading:F,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[d.jsx(Jx,{size:16}),F?"Creating Job...":"Finish Picking"]})})]})]})}),d.jsx(Tb,{isOpen:!!y,onClose:()=>b(null),onConfirm:ze,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),d.jsx(Sn,{isOpen:D,onClose:()=>V(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:X&&d.jsx(Pye,{item:X,onSubmit:Fn,onCancel:Pn,isLoading:!1})}),d.jsx(Oye,{isOpen:ae,onClose:()=>he(!1)})]})},b$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return d.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},sK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return d.jsx(b$e,{variant:t(),children:r()})},w$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=en();return d.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),d.jsxs("div",{className:"flex items-center gap-2",children:[r,d.jsx(sK,{status:e.status})]})]}),d.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),d.jsx("div",{className:"space-y-1 mb-3",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),d.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),d.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[d.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:Qt(e.createdAt,"MMM d, yyyy")}),d.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},_$e=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),d.jsx(Sn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),d.jsx("div",{className:"mt-1",children:d.jsx(sK,{status:r.status})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),d.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),d.jsx("p",{className:"text-slate-800",children:r.createdAt?Qt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),d.jsx("p",{className:"text-slate-800",children:r.updatedAt?Qt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),d.jsx("p",{className:"text-slate-800",children:r.shippedTime?Qt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),d.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),d.jsx("tfoot",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),d.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),d.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),d.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,Tw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Sr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Sr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Sr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Sr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Sr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Sr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Sr(new Date,6),locationCode:"D2",shelfNumber:4}],S$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Sr(new Date,1),updatedAt:Sr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Sr(new Date,2),updatedAt:Sr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Sr(new Date,5),updatedAt:Sr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Sr(new Date,10),updatedAt:Sr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Sr(new Date,15),updatedAt:Sr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];S$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:Qt(Sr(new Date,29-t),"MMM dd"),amount:r}});Sr(new Date,1),Sr(new Date,1),Sr(new Date,3),Sr(new Date,4),Sr(new Date,5);const A$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],T$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],xA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},e7={street:"",city:"",state:"",zipCode:"",country:""};function E$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const k$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,t7=e=>k$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},N$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=U.useState(""),[s,o]=U.useState(""),[l,c]=U.useState("pending"),[u,f]=U.useState(""),[h,p]=U.useState([{...xA}]),[g,m]=U.useState({...e7}),[v,y]=U.useState({...e7}),[b,w]=U.useState("Credit Card"),[O,C]=U.useState(""),[I,T]=U.useState([]),[S,A]=U.useState(!1);U.useEffect(()=>{e&&(i(E$e()),f(Qt(new Date,"yyyy-MM-dd")),p([{...xA}]),c("pending"))},[e]),U.useEffect(()=>{e&&(async()=>{A(!0);try{const Y=er(kt(et,"inventory"),La("name")),H=(await nr(Y)).docs.map(z=>({id:z.id,...z.data()}));T(H.length>0?H:Tw)}catch{T(Tw)}finally{A(!1)}})()},[e]);const j=(X,Y,J)=>{p(H=>H.map((z,ee)=>{if(ee!==X)return z;if(Y==="productName"){const W=I.find(P=>P.name===J);return W?{...z,productId:W.id,productName:W.name,unitPrice:W.price,quantity:1,totalPrice:W.price*1}:z}if(Y==="quantity"){const W=Number(J);return{...z,quantity:W,totalPrice:z.unitPrice*W}}return{...z,[Y]:J}}))},E=()=>{p([...h,{...xA}])},k=X=>{p(Y=>Y.filter((J,H)=>H!==X))},D=(X,Y,J)=>{X==="shipping"?m(H=>({...t7(H),[Y]:J})):y(H=>({...t7(H),[Y]:J}))},V=X=>{if(X.preventDefault(),h.some(H=>!H.productId||!H.productName)){alert("Please select a product for each order item.");return}const Y=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):Y,updatedAt:Y,items:h.map((H,z)=>({...H,id:`item${z+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((H,z)=>H+(z.totalPrice||0),0)};O&&(J.notes=O),r(J),t()};return d.jsx(Sn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Customer Name",value:s,onChange:X=>o(X.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vr,{label:"Status",value:l,onChange:X=>c(X.target.value),options:A$e,required:!0,fullWidth:!0,disabled:!0}),d.jsx(Vr,{label:"Payment Method",value:b,onChange:X=>w(X.target.value),options:T$e,required:!0,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx(Nt,{label:"Order Date",type:"date",value:u,onChange:X=>f(X.target.value),required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((X,Y)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(Vr,{label:"Product Name",value:X.productName,onChange:J=>j(Y,"productName",J.target.value),options:[{value:"",label:"Select product..."},...I.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:S}),d.jsx(Nt,{label:"Quantity",type:"number",value:X.quantity,onChange:J=>j(Y,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!X.productName}),d.jsx(Nt,{label:"Unit Price",type:"number",value:X.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Nt,{label:"Total Price",type:"number",value:X.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(ct,{type:"button",variant:"danger",size:"sm",icon:d.jsx(es,{size:16}),onClick:()=>k(Y),children:"Remove"})]},Y)),d.jsx(ct,{type:"button",variant:"primary",icon:d.jsx(is,{size:16}),onClick:E,disabled:S,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Nt,{label:"Street",value:g.street,onChange:X=>D("shipping","street",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:g.city,onChange:X=>D("shipping","city",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:g.state,onChange:X=>D("shipping","state",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:g.zipCode,onChange:X=>D("shipping","zipCode",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:g.country,onChange:X=>D("shipping","country",X.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Nt,{label:"Street",value:v.street,onChange:X=>D("billing","street",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:v.city,onChange:X=>D("billing","city",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:v.state,onChange:X=>D("billing","state",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:v.zipCode,onChange:X=>D("billing","zipCode",X.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:v.country,onChange:X=>D("billing","country",X.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Nt,{label:"Notes (optional)",value:O,onChange:X=>C(X.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(ct,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},C$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],P$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],r7={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},n7={street:"",city:"",state:"",zipCode:"",country:""},O$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=U.useState(""),[o,l]=U.useState(""),[c,u]=U.useState("pending"),[f,h]=U.useState(""),[p,g]=U.useState(""),[m,v]=U.useState([{...r7}]),[y,b]=U.useState({...n7}),[w,O]=U.useState({...n7}),[C,I]=U.useState("Credit Card"),[T,S]=U.useState(""),[A,j]=U.useState([]),[E,k]=U.useState(!1);U.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(Qt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),b(a.shippingAddress),O(a.billingAddress),I(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?g(Qt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),U.useEffect(()=>{e&&(async()=>{k(!0);try{const W=er(kt(et,"inventory"),La("name")),F=(await nr(W)).docs.map(q=>({id:q.id,...q.data()}));j(F.length>0?F:Tw)}catch{j(Tw)}finally{k(!1)}})()},[e]);const D=(ee,W,P)=>{v(F=>F.map((q,K)=>{if(K!==ee)return q;if(W==="productName"){const Z=A.find(ce=>ce.name===P);return Z?{...q,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:q}if(W==="quantity"){const Z=Number(P);return{...q,quantity:Z,totalPrice:q.unitPrice*Z}}return{...q,[W]:P}}))},V=()=>{v([...m,{...r7}])},X=ee=>{v(W=>W.filter((P,F)=>F!==ee))},Y=(ee,W,P)=>{ee==="shipping"?b(F=>({...z(F),[W]:P})):O(F=>({...z(F),[W]:P}))},J=ee=>{if(ee.preventDefault(),m.some(F=>!F.productId||!F.productName)){alert("Please select a product for each order item.");return}const W={orderNumber:i,customerName:o,status:c,items:m.map((F,q)=>{let K;return typeof F.id=="string"&&F.id?K=F.id:K=`item${q+1}`,{...F,id:K}}),shippingAddress:y,billingAddress:w,paymentMethod:C,totalAmount:m.reduce((F,q)=>F+(q.totalPrice||0),0)};T&&(W.notes=T),c==="shipped"&&p?W.shippedTime=Gue(p):a!=null&&a.shippedTime&&c!=="shipped"&&(W.shippedTime=null);const P={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...W};r(P),t()},H=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,z=ee=>H(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return d.jsx(Sn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vr,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:C$e,required:!0,fullWidth:!0}),d.jsx(Vr,{label:"Payment Method",value:C,onChange:ee=>I(ee.target.value),options:P$e,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&d.jsx(Nt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,W)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(Vr,{label:"Product Name",value:ee.productName,onChange:P=>D(W,"productName",P.target.value),options:[{value:"",label:"Select product..."},...A.map(P=>({value:P.name,label:P.name}))],required:!0,fullWidth:!0,disabled:E}),d.jsx(Nt,{label:"Quantity",type:"number",value:ee.quantity,onChange:P=>D(W,"quantity",Number(P.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),d.jsx(Nt,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Nt,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(ct,{type:"button",variant:"danger",size:"sm",icon:d.jsx(es,{size:16}),onClick:()=>X(W),children:"Remove"})]},W)),d.jsx(ct,{type:"button",variant:"primary",icon:d.jsx(is,{size:16}),onClick:V,disabled:E,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Nt,{label:"Street",value:y.street,onChange:ee=>Y("shipping","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:y.city,onChange:ee=>Y("shipping","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:y.state,onChange:ee=>Y("shipping","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:y.zipCode,onChange:ee=>Y("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:y.country,onChange:ee=>Y("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Nt,{label:"Street",value:w.street,onChange:ee=>Y("billing","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:w.city,onChange:ee=>Y("billing","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:w.state,onChange:ee=>Y("billing","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:w.zipCode,onChange:ee=>Y("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:w.country,onChange:ee=>Y("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Nt,{label:"Notes (optional)",value:T,onChange:ee=>S(ee.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(ct,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},I$e=()=>{const[e,t]=U.useState(""),[r,n]=U.useState("all"),[a,i]=U.useState("date"),[s,o]=U.useState(null),[l,c]=U.useState("grid"),[u,f]=U.useState(!1),[h,p]=U.useState(!1),[g,m]=U.useState([]),[v,y]=U.useState(null),[b,w]=U.useState(!1),{showToast:O}=au(),{user:C}=Na(),{isDarkMode:I}=en(),T=async()=>{p(!0);try{const H=er(kt(et,"orders"),La("createdAt","desc")),ee=(await nr(H)).docs.map(W=>{const P=W.data();return{id:W.id,orderNumber:P.orderNumber||"",customerName:P.customerName||"",items:P.items||[],status:P.status||"pending",createdAt:P.createdAt instanceof tr?P.createdAt.toDate():new Date(P.createdAt),updatedAt:P.updatedAt instanceof tr?P.updatedAt.toDate():new Date(P.updatedAt),shippingAddress:P.shippingAddress||{},billingAddress:P.billingAddress||{},paymentMethod:P.paymentMethod||"",totalAmount:P.totalAmount||0,notes:P.notes||"",shippedTime:P.shippedTime instanceof tr?P.shippedTime.toDate():P.shippedTime?new Date(P.shippedTime):void 0}});m(ee)}catch(H){console.error("Error fetching orders:",H),O("Failed to fetch orders","error")}finally{p(!1)}};U.useEffect(()=>{T()},[]);const S=g.filter(H=>{const z=H.orderNumber.toLowerCase().includes(e.toLowerCase())||H.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||H.status===r;return z&&ee}).sort((H,z)=>a==="date"?new Date(z.createdAt).getTime()-new Date(H.createdAt).getTime():a==="amount"?z.totalAmount-H.totalAmount:0),A=H=>{o(H)},j=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],k=async H=>{p(!0);try{console.log("Adding new order with status:",H.status),await kr(kt(et,"orders"),{...H,createdAt:bc(),updatedAt:bc()}),await kr(kt(et,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`created new order #${H.orderNumber} for '${H.customerName}' with ${H.items.length} items (${H.items.map(z=>`${z.quantity} ${z.productName}`).join(", ")}) - Total: $${H.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),H.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await Lx(H.items,!0)),await T(),f(!1),O("Order added successfully!","success")}catch(z){console.error("Error in handleAddOrder:",z),alert("Error adding order: "+((z==null?void 0:z.message)||z))}finally{p(!1)}},D=async H=>{p(!0);try{const z=Pr(et,"orders",H.id),W=(await Pv(z)).data();console.log("Previous order status:",W==null?void 0:W.status),console.log("New order status:",H.status);const P={status:H.status,updatedAt:bc()},F=[];if((W==null?void 0:W.status)!==H.status&&F.push(`status from "${W==null?void 0:W.status}" to "${H.status}"`),(W==null?void 0:W.customerName)!==H.customerName&&F.push(`customer from "${W==null?void 0:W.customerName}" to "${H.customerName}"`),JSON.stringify(W==null?void 0:W.items)!==JSON.stringify(H.items)){const K=[];H.items.forEach(Z=>{const ce=W==null?void 0:W.items.find(de=>de.id===Z.id);ce?ce.quantity!==Z.quantity&&K.push(`changed ${Z.productName} quantity from ${ce.quantity} to ${Z.quantity}`):K.push(`added ${Z.quantity} ${Z.productName}`)}),W==null||W.items.forEach(Z=>{H.items.find(ce=>ce.id===Z.id)||K.push(`removed ${Z.quantity} ${Z.productName}`)}),K.length>0&&F.push(`items: ${K.join(", ")}`)}(W==null?void 0:W.totalAmount)!==H.totalAmount&&F.push(`total amount from $${W==null?void 0:W.totalAmount.toFixed(2)} to $${H.totalAmount.toFixed(2)}`),H.status==="shipped"&&(W==null?void 0:W.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await Lx(H.items,!0),H.shippedTime?P.shippedTime=tr.fromDate(H.shippedTime):P.shippedTime=bc()):(W==null?void 0:W.status)==="shipped"&&H.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await Lx(H.items,!1),P.shippedTime=jI()):(H.status==="cancelled"||H.status==="returned")&&(W==null?void 0:W.status)!=="cancelled"&&(W==null?void 0:W.status)!=="returned"?(console.log(`Status changed to ${H.status}, restoring inventory...`),await Lx(H.items,!1),P.shippedTime=jI()):W!=null&&W.shippedTime&&(P.shippedTime=tr.fromDate(W.shippedTime));const{...q}=H;Object.assign(P,q),await na(z,P),F.length>0&&await kr(kt(et,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`edited order #${H.orderNumber}: ${F.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),O("Order updated successfully!","success")}catch(z){console.error("Error updating order:",z),O("Failed to update order","error")}finally{p(!1)}},V=()=>{y(null)},X=async H=>{p(!0);try{const z=Pr(et,"orders",H),W=(await Pv(z)).data();W&&(await kr(kt(et,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`deleted order #${W.orderNumber} for '${W.customerName}' with ${W.items.length} items (${W.items.map(P=>`${P.quantity} ${P.productName}`).join(", ")}) - Total: $${W.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Cc(z),await T(),w(!1),o(null),O("Order deleted successfully!","success"))}catch(z){console.error("Error deleting order:",z),O("Failed to delete order","error")}finally{p(!1)}},Y=(H,z)=>{H.stopPropagation(),o(z),w(!0)},J=(H,z)=>{H.stopPropagation(),y(z)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${I?"text-white":"text-slate-800"}`,children:"Current Orders"}),d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),d.jsx(ct,{onClick:()=>f(!0),className:"flex items-center gap-2",children:d.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"md:flex-1",children:d.jsx(Nt,{placeholder:"Search by order number or customer...",value:e,onChange:H=>t(H.target.value),icon:d.jsx(Uc,{size:18}),fullWidth:!0})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Vr,{options:j,value:r,onChange:H=>n(H.target.value)}),d.jsx(Vr,{options:E,value:a,onChange:H=>i(H.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[d.jsx(vZ,{size:18,className:"inline mr-1"})," Grid"]}),d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[d.jsx(TZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(ws,{className:`w-8 h-8 ${I?"text-blue-400":"text-blue-500"} animate-spin`}),d.jsx("p",{className:`mt-2 ${I?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(H=>d.jsx("div",{className:"flex flex-col",children:d.jsx(w$e,{order:H,onClick:()=>A(H),editButton:d.jsx("button",{onClick:z=>J(z,H),className:`p-2 ${I?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:d.jsx(Ws,{className:`w-4 h-4 ${I?"text-blue-400":"text-blue-500"}`})})})},H.id))}):d.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${I?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[d.jsx("thead",{className:I?"bg-slate-900":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`${I?"divide-slate-700":"divide-slate-200"}`,children:S.map(H=>d.jsxs("tr",{className:`${I?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>A(H),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-blue-400":"text-blue-700"} font-medium`,children:H.orderNumber}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:H.customerName}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"} capitalize`,children:H.status}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:new Date(H.createdAt).toLocaleDateString()}),d.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${I?"text-slate-200":"text-slate-900"} text-right`,children:["$",H.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{onClick:z=>{z.stopPropagation(),y(H)},className:`p-1 ${I?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(Ws,{size:16})}),d.jsx("button",{onClick:z=>Y(z,H),className:`p-1 ${I?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(es,{size:16})})]})})]},H.id))})]})}):d.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&d.jsx(_$e,{isOpen:!!s,onClose:()=>o(null),order:s}),d.jsx(N$e,{isOpen:u,onClose:()=>f(!1),onAdd:k,isLoading:h}),d.jsx(O$e,{isOpen:!!v,onClose:V,onEdit:D,isLoading:h,order:v}),s&&d.jsx(Tb,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>X(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Lx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Eae(et),n=[];for(const a of e){const i=Pr(et,"inventory",a.productId),s=await Pv(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await kr(kt(et,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},j$e="modulepreload",D$e=function(e){return"/"+e},a7={},i3=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=D$e(l),l in a7)return;a7[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":j$e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Fi=Uint8Array,Gs=Uint16Array,TP=Int32Array,f_=new Fi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d_=new Fi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s3=new Fi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oK=function(e,t){for(var r=new Gs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new TP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},lK=oK(f_,2),cK=lK.b,o3=lK.r;cK[28]=258,o3[258]=28;var uK=oK(d_,0),L$e=uK.b,i7=uK.r,l3=new Gs(32768);for(var Mn=0;Mn<32768;++Mn){var Fu=(Mn&43690)>>1|(Mn&21845)<<1;Fu=(Fu&52428)>>2|(Fu&13107)<<2,Fu=(Fu&61680)>>4|(Fu&3855)<<4,l3[Mn]=((Fu&65280)>>8|(Fu&255)<<8)>>1}var Gl=function(e,t,r){for(var n=e.length,a=0,i=new Gs(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Gs(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Gs(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[l3[f]>>l]=c}else for(o=new Gs(n),a=0;a<n;++a)e[a]&&(o[a]=l3[s[e[a]-1]++]>>15-e[a]);return o},Ff=new Fi(288);for(var Mn=0;Mn<144;++Mn)Ff[Mn]=8;for(var Mn=144;Mn<256;++Mn)Ff[Mn]=9;for(var Mn=256;Mn<280;++Mn)Ff[Mn]=7;for(var Mn=280;Mn<288;++Mn)Ff[Mn]=8;var C1=new Fi(32);for(var Mn=0;Mn<32;++Mn)C1[Mn]=5;var M$e=Gl(Ff,9,0),R$e=Gl(Ff,9,1),F$e=Gl(C1,5,0),$$e=Gl(C1,5,1),bA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Go=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},wA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},EP=function(e){return(e+7)/8|0},fK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Fi(e.subarray(t,r))},B$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jo=function(e,t,r){var n=new Error(t||B$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Jo),!r)throw n;return n},U$e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Fi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Fi(a*3));var c=function(Se){var B=r.length;if(Se>B){var Ee=new Fi(Math.max(B*2,Se));Ee.set(r),r=Ee}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=Go(e,f,1);var b=Go(e,f+1,3);if(f+=3,b)if(b==1)p=R$e,g=$$e,m=9,v=5;else if(b==2){var I=Go(e,f,31)+257,T=Go(e,f+10,15)+4,S=I+Go(e,f+5,31)+1;f+=14;for(var A=new Fi(S),j=new Fi(19),E=0;E<T;++E)j[s3[E]]=Go(e,f+E*3,7);f+=T*3;for(var k=bA(j),D=(1<<k)-1,V=Gl(j,k,1),E=0;E<S;){var X=V[Go(e,f,D)];f+=X&15;var w=X>>4;if(w<16)A[E++]=w;else{var Y=0,J=0;for(w==16?(J=3+Go(e,f,3),f+=2,Y=A[E-1]):w==17?(J=3+Go(e,f,7),f+=3):w==18&&(J=11+Go(e,f,127),f+=7);J--;)A[E++]=Y}}var H=A.subarray(0,I),z=A.subarray(I);m=bA(H),v=bA(z),p=Gl(H,m,1),g=Gl(z,v,1)}else Jo(1);else{var w=EP(f)+4,O=e[w-4]|e[w-3]<<8,C=w+O;if(C>a){l&&Jo(0);break}o&&c(h+O),r.set(e.subarray(w,C),h),t.b=h+=O,t.p=f=C*8,t.f=u;continue}if(f>y){l&&Jo(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,W=(1<<v)-1,P=f;;P=f){var Y=p[wA(e,f)&ee],F=Y>>4;if(f+=Y&15,f>y){l&&Jo(0);break}if(Y||Jo(2),F<256)r[h++]=F;else if(F==256){P=f,p=null;break}else{var q=F-254;if(F>264){var E=F-257,K=f_[E];q=Go(e,f,(1<<K)-1)+cK[E],f+=K}var Z=g[wA(e,f)&W],ce=Z>>4;Z||Jo(3),f+=Z&15;var z=L$e[ce];if(ce>3){var K=d_[ce];z+=wA(e,f)&(1<<K)-1,f+=K}if(f>y){l&&Jo(0);break}o&&c(h+131072);var de=h+q;if(h<z){var ae=i-z,he=Math.min(z,de);for(ae+h<0&&Jo(3);h<he;++h)r[h]=n[ae+h]}for(;h<de;++h)r[h]=r[h-z]}}t.l=p,t.p=P,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?fK(r,0,h):r.subarray(0,h)},vc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Qm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},_A=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:hK,l:0};if(a==1){var s=new Fi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,I){return C.f-I.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Gs(h+1),g=c3(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(I,T){return p[T.s]-p[I.s]||I.f-T.f});n<a;++n){var b=i[n].s;if(p[b]>t)m+=y-(1<<g-p[b]),p[b]=t;else break}for(m>>=v;m>0;){var w=i[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var O=i[n].s;p[O]==t&&(--p[O],++m)}g=t}return{t:new Fi(p),l:g}},c3=function(e,t,r){return e.s==-1?Math.max(c3(e.l,t,r+1),c3(e.r,t,r+1)):t[e.s]=r},s7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Gs(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Jm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},dK=function(e,t,r){var n=r.length,a=EP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},o7=function(e,t,r,n,a,i,s,o,l,c,u){vc(t,u++,r),++a[256];for(var f=_A(a,15),h=f.t,p=f.l,g=_A(i,15),m=g.t,v=g.l,y=s7(h),b=y.c,w=y.n,O=s7(m),C=O.c,I=O.n,T=new Gs(19),S=0;S<b.length;++S)++T[b[S]&31];for(var S=0;S<C.length;++S)++T[C[S]&31];for(var A=_A(T,7),j=A.t,E=A.l,k=19;k>4&&!j[s3[k-1]];--k);var D=c+5<<3,V=Jm(a,Ff)+Jm(i,C1)+s,X=Jm(a,h)+Jm(i,m)+s+14+3*k+Jm(T,j)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&D<=V&&D<=X)return dK(t,u,e.subarray(l,l+c));var Y,J,H,z;if(vc(t,u,1+(X<V)),u+=2,X<V){Y=Gl(h,p,0),J=h,H=Gl(m,v,0),z=m;var ee=Gl(j,E,0);vc(t,u,w-257),vc(t,u+5,I-1),vc(t,u+10,k-4),u+=14;for(var S=0;S<k;++S)vc(t,u+3*S,j[s3[S]]);u+=3*k;for(var W=[b,C],P=0;P<2;++P)for(var F=W[P],S=0;S<F.length;++S){var q=F[S]&31;vc(t,u,ee[q]),u+=j[q],q>15&&(vc(t,u,F[S]>>5&127),u+=F[S]>>12)}}else Y=M$e,J=Ff,H=F$e,z=C1;for(var S=0;S<o;++S){var K=n[S];if(K>255){var q=K>>18&31;Qm(t,u,Y[q+257]),u+=J[q+257],q>7&&(vc(t,u,K>>23&31),u+=f_[q]);var Z=K&31;Qm(t,u,H[Z]),u+=z[Z],Z>3&&(Qm(t,u,K>>5&8191),u+=d_[Z])}else Qm(t,u,Y[K]),u+=J[K]}return Qm(t,u,Y[256]),u+J[256]},V$e=new TP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hK=new Fi(0),z$e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Fi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=V$e[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new Gs(32768),v=i.h||new Gs(g+1),y=Math.ceil(r/3),b=2*y,w=function(ve){return(e[ve]^e[ve+1]<<y^e[ve+2]<<b)&g},O=new TP(25e3),C=new Gs(288),I=new Gs(32),T=0,S=0,A=i.i||0,j=0,E=i.w||0,k=0;A+2<s;++A){var D=w(A),V=A&32767,X=v[D];if(m[V]=X,v[D]=V,E<=A){var Y=s-A;if((T>7e3||j>24576)&&(Y>423||!c)){u=o7(e,l,0,O,C,I,S,j,k,A-k,u),j=T=S=0,k=A;for(var J=0;J<286;++J)C[J]=0;for(var J=0;J<30;++J)I[J]=0}var H=2,z=0,ee=p,W=V-X&32767;if(Y>2&&D==w(A-W))for(var P=Math.min(h,Y)-1,F=Math.min(32767,A),q=Math.min(258,Y);W<=F&&--ee&&V!=X;){if(e[A+H]==e[A+H-W]){for(var K=0;K<q&&e[A+K]==e[A+K-W];++K);if(K>H){if(H=K,z=W,K>P)break;for(var Z=Math.min(W,K-2),ce=0,J=0;J<Z;++J){var de=A-W+J&32767,ae=m[de],he=de-ae&32767;he>ce&&(ce=he,X=de)}}}V=X,X=m[V],W+=V-X&32767}if(z){O[j++]=268435456|o3[H]<<18|i7[z];var Se=o3[H]&31,B=i7[z]&31;S+=f_[Se]+d_[B],++C[257+Se],++I[B],E=A+H,++T}else O[j++]=e[A],++C[e[A]]}}for(A=Math.max(A,E);A<s;++A)O[j++]=e[A],++C[e[A]];u=o7(e,l,c,O,C,I,S,j,k,A-k,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=A,i.w=E)}else{for(var A=i.w||0;A<s+c;A+=65535){var Ee=A+65535;Ee>=s&&(l[u/8|0]=c,Ee=s),u=dK(l,u+1,e.subarray(A,Ee))}i.i=s}return fK(o,0,n+EP(u)+a)},pK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},q$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Fi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return z$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},mK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},W$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=pK();a.p(t.dictionary),mK(e,2,a.d())}},H$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Jo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Jo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function u3(e,t){t||(t={});var r=pK();r.p(e);var n=q$e(e,t,t.dictionary?6:2,4);return W$e(n,t),mK(n,n.length-4,r.d()),n}function G$e(e,t){return U$e(e.subarray(H$e(e,t),-4),{i:2},t,t)}var K$e=typeof TextDecoder<"u"&&new TextDecoder,Y$e=0;try{K$e.decode(hK,{stream:!0}),Y$e=1}catch{}var lr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function SA(){lr.console&&typeof lr.console.log=="function"&&lr.console.log.apply(lr.console,arguments)}var _n={log:SA,warn:function(e){lr.console&&(typeof lr.console.warn=="function"?lr.console.warn.apply(lr.console,arguments):SA.call(null,arguments))},error:function(e){lr.console&&(typeof lr.console.error=="function"?lr.console.error.apply(lr.console,arguments):SA(e))}};function AA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){_n.error("could not download file")},n.send()}function l7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Mx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Qg,f3,Sd=lr.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==lr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=lr.URL||lr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?l7(a.href)?AA(e,t,r):Mx(a,a.target="_blank"):Mx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Mx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(l7(e))AA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Mx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Jr(i)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return AA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(lr.HTMLElement)||lr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=lr.URL||lr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function TA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ai(r,n,a,i,t[0],7,-680876936),i=Ai(i,r,n,a,t[1],12,-389564586),a=Ai(a,i,r,n,t[2],17,606105819),n=Ai(n,a,i,r,t[3],22,-1044525330),r=Ai(r,n,a,i,t[4],7,-176418897),i=Ai(i,r,n,a,t[5],12,1200080426),a=Ai(a,i,r,n,t[6],17,-1473231341),n=Ai(n,a,i,r,t[7],22,-45705983),r=Ai(r,n,a,i,t[8],7,1770035416),i=Ai(i,r,n,a,t[9],12,-1958414417),a=Ai(a,i,r,n,t[10],17,-42063),n=Ai(n,a,i,r,t[11],22,-1990404162),r=Ai(r,n,a,i,t[12],7,1804603682),i=Ai(i,r,n,a,t[13],12,-40341101),a=Ai(a,i,r,n,t[14],17,-1502002290),r=Ti(r,n=Ai(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Ti(i,r,n,a,t[6],9,-1069501632),a=Ti(a,i,r,n,t[11],14,643717713),n=Ti(n,a,i,r,t[0],20,-373897302),r=Ti(r,n,a,i,t[5],5,-701558691),i=Ti(i,r,n,a,t[10],9,38016083),a=Ti(a,i,r,n,t[15],14,-660478335),n=Ti(n,a,i,r,t[4],20,-405537848),r=Ti(r,n,a,i,t[9],5,568446438),i=Ti(i,r,n,a,t[14],9,-1019803690),a=Ti(a,i,r,n,t[3],14,-187363961),n=Ti(n,a,i,r,t[8],20,1163531501),r=Ti(r,n,a,i,t[13],5,-1444681467),i=Ti(i,r,n,a,t[2],9,-51403784),a=Ti(a,i,r,n,t[7],14,1735328473),r=Ei(r,n=Ti(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ei(i,r,n,a,t[8],11,-2022574463),a=Ei(a,i,r,n,t[11],16,1839030562),n=Ei(n,a,i,r,t[14],23,-35309556),r=Ei(r,n,a,i,t[1],4,-1530992060),i=Ei(i,r,n,a,t[4],11,1272893353),a=Ei(a,i,r,n,t[7],16,-155497632),n=Ei(n,a,i,r,t[10],23,-1094730640),r=Ei(r,n,a,i,t[13],4,681279174),i=Ei(i,r,n,a,t[0],11,-358537222),a=Ei(a,i,r,n,t[3],16,-722521979),n=Ei(n,a,i,r,t[6],23,76029189),r=Ei(r,n,a,i,t[9],4,-640364487),i=Ei(i,r,n,a,t[12],11,-421815835),a=Ei(a,i,r,n,t[15],16,530742520),r=ki(r,n=Ei(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ki(i,r,n,a,t[7],10,1126891415),a=ki(a,i,r,n,t[14],15,-1416354905),n=ki(n,a,i,r,t[5],21,-57434055),r=ki(r,n,a,i,t[12],6,1700485571),i=ki(i,r,n,a,t[3],10,-1894986606),a=ki(a,i,r,n,t[10],15,-1051523),n=ki(n,a,i,r,t[1],21,-2054922799),r=ki(r,n,a,i,t[8],6,1873313359),i=ki(i,r,n,a,t[15],10,-30611744),a=ki(a,i,r,n,t[6],15,-1560198380),n=ki(n,a,i,r,t[13],21,1309151649),r=ki(r,n,a,i,t[4],6,-145523070),i=ki(i,r,n,a,t[11],10,-1120210379),a=ki(a,i,r,n,t[2],15,718787259),n=ki(n,a,i,r,t[9],21,-343485551),e[0]=sf(r,e[0]),e[1]=sf(n,e[1]),e[2]=sf(a,e[2]),e[3]=sf(i,e[3])}function h_(e,t,r,n,a,i){return t=sf(sf(t,e),sf(n,i)),sf(t<<a|t>>>32-a,r)}function Ai(e,t,r,n,a,i,s){return h_(t&r|~t&n,e,t,a,i,s)}function Ti(e,t,r,n,a,i,s){return h_(t&n|r&~n,e,t,a,i,s)}function Ei(e,t,r,n,a,i,s){return h_(t^r^n,e,t,a,i,s)}function ki(e,t,r,n,a,i,s){return h_(r^(t|~n),e,t,a,i,s)}function vK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)TA(n,X$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(TA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,TA(n,a),n}function X$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Qg=lr.atob.bind(lr),f3=lr.btoa.bind(lr);var c7="0123456789abcdef".split("");function Q$e(e){for(var t="",r=0;r<4;r++)t+=c7[e>>8*r+4&15]+c7[e>>8*r&15];return t}function J$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function d3(e){return vK(e).map(J$e).join("")}var Z$e=function(e){for(var t=0;t<e.length;t++)e[t]=Q$e(e[t]);return e.join("")}(vK("hello"))!="5d41402abc4b2a76b9719d911017c592";function sf(e,t){if(Z$e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h3(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var u7={print:4,modify:8,copy:16,"annot-forms":32};function n0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(u7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=u7[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=d3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=h3(this.encryptionKey,this.padding)}function a0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function f7(e){if(Jr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){lr.console&&_n.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ew(e){if(!(this instanceof Ew))return new Ew(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function yK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Td(e,t,r,n,a){if(!(this instanceof Td))return new Td(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,yK.call(this,n,a)}function E0(e,t,r,n,a){if(!(this instanceof E0))return new E0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,yK.call(this,n,a)}function or(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Jr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=f7;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function O(){this.saveGraphicsState(),te(new zt(it,0,0,-it,0,xi()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),c="n",w=b.ADVANCED}function C(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var I=p.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};p.advancedAPI=function(L){var re=w===b.COMPAT;return re&&O.call(this),typeof L!="function"||(L(this),re&&C.call(this)),this},p.compatAPI=function(L){var re=w===b.ADVANCED;return re&&C.call(this),typeof L!="function"||(L(this),re&&O.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var T,S=function(L){if(w!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(L,re){var Te=t||re;if(isNaN(L)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Te).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var j=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},k=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?L*it:w===b.ADVANCED?L:void 0},D=function(L){return w===b.COMPAT?xi()-L:w===b.ADVANCED?L:void 0},V=function(L){return k(D(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var X,Y="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return Y},H=p.__private__.setFileId=function(L){return Y=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(On=new n0(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};p.setFileId=function(L){return H(L),this},p.getFileId=function(){return J()};var z=p.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Te=re<0?"+":"-",Ce=Math.floor(Math.abs(re/60)),Re=Math.abs(re%60),at=[Te,q(Ce),"'",q(Re),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),at].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Te=parseInt(L.substr(6,2),10)-1,Ce=parseInt(L.substr(8,2),10),Re=parseInt(L.substr(10,2),10),at=parseInt(L.substr(12,2),10),wt=parseInt(L.substr(14,2),10);return new Date(re,Te,Ce,Re,at,wt,0)},W=p.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=z(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return X=re},P=p.__private__.getCreationDate=function(L){var re=X;return L==="jsDate"&&(re=ee(X)),re};p.setCreationDate=function(L){return W(L),this},p.getCreationDate=function(L){return P(L)};var F,q=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,ce=[],de=[],ae=0,he=[],Se=[],B=!1,Ee=de,ve=function(){Z=0,ae=0,de=[],ce=[],he=[],me=xn(),ge=xn()};p.__private__.setCustomOutputDestination=function(L){B=!0,Ee=L};var xe=function(L){B||(Ee=L)};p.__private__.resetCustomOutputDestination=function(){B=!1,Ee=de};var te=p.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,Ee.push(L),Ee},Ne=p.__private__.write=function(L){return te(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Be=p.__private__.getArrayBuffer=function(L){for(var re=L.length,Te=new ArrayBuffer(re),Ce=new Uint8Array(Te);re--;)Ce[re]=L.charCodeAt(re);return Te},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ue};var Ze=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Ze=w===b.ADVANCED?L/it:L,this};var Le,Ye=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?Ze:Ze*it},je=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return je=L,this},p.__private__.getR2L=p.getR2L=function(){return je};var Qe,pt=p.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Le=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Le=L}else Le=parseInt(L,10)};p.__private__.getZoomMode=function(){return Le};var ot,St=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};p.__private__.getPageMode=function(){return Qe};var jt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');ot=L};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(L,re,Te){return pt(L),jt(re),St(Te),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(bt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[L]},p.__private__.getDocumentProperties=function(){return bt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var re in bt)bt.hasOwnProperty(re)&&L[re]&&(bt[re]=L[re]);return this},p.__private__.setDocumentProperty=function(L,re){if(Object.keys(bt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[L]=re};var Tt,it,Yt,Pt,Ir,_t={},It={},Zt=[],Ut={},Tr={},ke={},Je={},lt=null,Ct=0,mt=[],Mt=new f7(p),mr=e.hotfixes||[],Er={},an={},Za=[],zt=function L(re,Te,Ce,Re,at,wt){if(!(this instanceof L))return new L(re,Te,Ce,Re,at,wt);isNaN(re)&&(re=1),isNaN(Te)&&(Te=0),isNaN(Ce)&&(Ce=0),isNaN(Re)&&(Re=1),isNaN(at)&&(at=0),isNaN(wt)&&(wt=0),this._matrix=[re,Te,Ce,Re,at,wt]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},zt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Te=L.sx*this.shy+L.shy*this.sy,Ce=L.shx*this.sx+L.sy*this.shx,Re=L.shx*this.shy+L.sy*this.sy,at=L.tx*this.sx+L.ty*this.shx+this.tx,wt=L.tx*this.shy+L.ty*this.sy+this.ty;return new zt(re,Te,Ce,Re,at,wt)},zt.prototype.decompose=function(){var L=this.sx,re=this.shy,Te=this.shx,Ce=this.sy,Re=this.tx,at=this.ty,wt=Math.sqrt(L*L+re*re),$t=(L/=wt)*Te+(re/=wt)*Ce;Te-=L*$t,Ce-=re*$t;var _=Math.sqrt(Te*Te+Ce*Ce);return $t/=_,L*(Ce/=_)<re*(Te/=_)&&(L=-L,re=-re,$t=-$t,wt=-wt),{scale:new zt(wt,0,0,_,0,0),translate:new zt(1,0,0,1,Re,at),rotate:new zt(L,re,-re,L,0,0),skew:new zt(1,0,$t,1,0,0)}},zt.prototype.toString=function(L){return this.join(" ")},zt.prototype.inversed=function(){var L=this.sx,re=this.shy,Te=this.shx,Ce=this.sy,Re=this.tx,at=this.ty,wt=1/(L*Ce-re*Te),$t=Ce*wt,_=-re*wt,R=-Te*wt,Q=L*wt;return new zt($t,_,R,Q,-$t*Re-R*at,-_*Re-Q*at)},zt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Te=L.x*this.shy+L.y*this.sy+this.ty;return new oc(re,Te)},zt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Te=this.applyToPoint(new oc(L.x+L.w,L.y+L.h));return new bu(re.x,re.y,Te.x-re.x,Te.y-re.y)},zt.prototype.clone=function(){var L=this.sx,re=this.shy,Te=this.shx,Ce=this.sy,Re=this.tx,at=this.ty;return new zt(L,re,Te,Ce,Re,at)},p.Matrix=zt;var Ua=p.matrixMult=function(L,re){return re.multiply(L)},Qn=new zt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qn;var Fn=function(L,re){if(!Tr[L]){var Te=(re instanceof Td?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);re.id=Te,Tr[L]=Te,Ut[Te]=re,Mt.publish("addPattern",re)}};p.ShadingPattern=Td,p.TilingPattern=E0,p.addShadingPattern=function(L,re){return S("addShadingPattern()"),Fn(L,re),this},p.beginTilingPattern=function(L){S("beginTilingPattern()"),wu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,re){S("endTilingPattern()"),re.stream=Se[F].join(`
`),Fn(L,re),Mt.publish("endTilingPattern",re),Za.pop().restore()};var Pn=p.__private__.newObject=function(){var L=xn();return se(L,!0),L},xn=p.__private__.newObjectDeferred=function(){return Z++,ce[Z]=function(){return ae},Z},se=function(L,re){return re=typeof re=="boolean"&&re,ce[L]=ae,re&&te(L+" 0 obj"),L},we=p.__private__.newAdditionalObject=function(){var L={objId:xn(),content:""};return he.push(L),L},me=xn(),ge=xn(),_e=p.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Te=parseFloat(re[0]);re=[Te,Te,Te,"r"]}for(var Ce="#",Re=0;Re<3;Re++)Ce+=("0"+Math.floor(255*parseFloat(re[Re])).toString(16)).slice(-2);return Ce},Ae=p.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Te=L.ch1,Ce=L.ch2,Re=L.ch3,at=L.ch4,wt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var $t=new gK(Te);if($t.ok)Te=$t.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var _=parseInt(Te.substr(1),16);Te=_>>16&255,Ce=_>>8&255,Re=255&_}if(Ce===void 0||at===void 0&&Te===Ce&&Ce===Re)if(typeof Te=="string")re=Te+" "+wt[0];else switch(L.precision){case 2:re=j(Te/255)+" "+wt[0];break;case 3:default:re=E(Te/255)+" "+wt[0]}else if(at===void 0||Jr(at)==="object"){if(at&&!isNaN(at.a)&&at.a===0)return re=["1.","1.","1.",wt[1]].join(" ");if(typeof Te=="string")re=[Te,Ce,Re,wt[1]].join(" ");else switch(L.precision){case 2:re=[j(Te/255),j(Ce/255),j(Re/255),wt[1]].join(" ");break;default:case 3:re=[E(Te/255),E(Ce/255),E(Re/255),wt[1]].join(" ")}}else if(typeof Te=="string")re=[Te,Ce,Re,at,wt[2]].join(" ");else switch(L.precision){case 2:re=[j(Te),j(Ce),j(Re),j(at),wt[2]].join(" ");break;case 3:default:re=[E(Te),E(Ce),E(Re),E(at),wt[2]].join(" ")}return re},Ve=p.__private__.getFilters=function(){return s},Xe=p.__private__.putStream=function(L){var re=(L=L||{}).data||"",Te=L.filters||Ve(),Ce=L.alreadyAppliedFilters||[],Re=L.addLength1||!1,at=re.length,wt=L.objectId,$t=function(yr){return yr};if(u!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($t=On.encryptor(wt,0));var _={};Te===!0&&(Te=["FlateEncode"]);var R=L.additionalKeyValues||[],Q=(_=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(re,Te):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(_.data.length!==0&&(R.push({key:"Length",value:_.data.length}),Re===!0&&R.push({key:"Length1",value:at})),Q.length!=0)if(Q.split("/").length-1==1)R.push({key:"Filter",value:Q});else{R.push({key:"Filter",value:"["+Q+"]"});for(var ue=0;ue<R.length;ue+=1)if(R[ue].key==="DecodeParms"){for(var Me=[],Ke=0;Ke<_.reverseChain.split("/").length-1;Ke+=1)Me.push("null");Me.push(R[ue].value),R[ue].value="["+Me.join(" ")+"]"}}te("<<");for(var At=0;At<R.length;At++)te("/"+R[At].key+" "+R[At].value);te(">>"),_.data.length!==0&&(te("stream"),te($t(_.data)),te("endstream"))},ze=p.__private__.putPage=function(L){var re=L.number,Te=L.data,Ce=L.objId,Re=L.contentsObjId;se(Ce,!0),te("<</Type /Page"),te("/Parent "+L.rootDictionaryObjId+" 0 R"),te("/Resources "+L.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&te("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&te("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&te("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&te("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&te("/UserUnit "+L.userUnit),Mt.publish("putPage",{objId:Ce,pageContext:mt[re],pageNumber:re,page:Te}),te("/Contents "+Re+" 0 R"),te(">>"),te("endobj");var at=Te.join(`
`);return w===b.ADVANCED&&(at+=`
Q`),se(Re,!0),Xe({data:at,filters:Ve(),objectId:Re}),te("endobj"),Ce},qe=p.__private__.putPages=function(){var L,re,Te=[];for(L=1;L<=Ct;L++)mt[L].objId=xn(),mt[L].contentsObjId=xn();for(L=1;L<=Ct;L++)Te.push(ze({number:L,data:Se[L],objId:mt[L].objId,contentsObjId:mt[L].contentsObjId,mediaBox:mt[L].mediaBox,cropBox:mt[L].cropBox,bleedBox:mt[L].bleedBox,trimBox:mt[L].trimBox,artBox:mt[L].artBox,userUnit:mt[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));se(me,!0),te("<</Type /Pages");var Ce="/Kids [";for(re=0;re<Ct;re++)Ce+=Te[re]+" 0 R ";te(Ce+"]"),te("/Count "+Ct),te(">>"),te("endobj"),Mt.publish("postPutPages")},Ge=function(L){Mt.publish("putFont",{font:L,out:te,newObject:Pn,putStream:Xe}),L.isAlreadyPutted!==!0&&(L.objectNumber=Pn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+a0(L.postScriptName)),te("/Subtype /Type1"),typeof L.encoding=="string"&&te("/Encoding /"+L.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},yt=function(){for(var L in _t)_t.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Ge(_t[L])},Dt=function(L){L.objectNumber=Pn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Te=L.pages[1].join(`
`);Xe({data:Te,additionalKeyValues:re,objectId:L.objectNumber}),te("endobj")},ie=function(){for(var L in Er)Er.hasOwnProperty(L)&&Dt(Er[L])},ye=function(L,re){var Te,Ce=[],Re=1/(re-1);for(Te=0;Te<1;Te+=Re)Ce.push(Te);if(Ce.push(1),L[0].offset!=0){var at={offset:0,color:L[0].color};L.unshift(at)}if(L[L.length-1].offset!=1){var wt={offset:1,color:L[L.length-1].color};L.push(wt)}for(var $t="",_=0,R=0;R<Ce.length;R++){for(Te=Ce[R];Te>L[_+1].offset;)_++;var Q=L[_].offset,ue=(Te-Q)/(L[_+1].offset-Q),Me=L[_].color,Ke=L[_+1].color;$t+=K(Math.round((1-ue)*Me[0]+ue*Ke[0]).toString(16))+K(Math.round((1-ue)*Me[1]+ue*Ke[1]).toString(16))+K(Math.round((1-ue)*Me[2]+ue*Ke[2]).toString(16))}return $t.trim()},$e=function(L,re){re||(re=21);var Te=Pn(),Ce=ye(L.colors,re),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+re+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Ce,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),te("endobj"),L.objectNumber=Pn(),te("<< /ShadingType "+L.type),te("/ColorSpace /DeviceRGB");var at="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?at+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):at+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),te(at+="]"),L.matrix&&te("/Matrix ["+L.matrix.toString()+"]"),te("/Function "+Te+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Et=function(L,re){var Te=xn(),Ce=Pn();re.push({resourcesOid:Te,objectOid:Ce}),L.objectNumber=Ce;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Re.push({key:"XStep",value:T(L.xStep)}),Re.push({key:"YStep",value:T(L.yStep)}),Re.push({key:"Resources",value:Te+" 0 R"}),L.matrix&&Re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Xe({data:L.stream,additionalKeyValues:Re,objectId:L.objectNumber}),te("endobj")},nt=function(L){var re;for(re in Ut)Ut.hasOwnProperty(re)&&(Ut[re]instanceof Td?$e(Ut[re]):Ut[re]instanceof E0&&Et(Ut[re],L))},tt=function(L){for(var re in L.objectNumber=Pn(),te("<<"),L)switch(re){case"opacity":te("/ca "+j(L[re]));break;case"stroke-opacity":te("/CA "+j(L[re]))}te(">>"),te("endobj")},vt=function(){var L;for(L in ke)ke.hasOwnProperty(L)&&tt(ke[L])},Lt=function(){for(var L in te("/XObject <<"),Er)Er.hasOwnProperty(L)&&Er[L].objectNumber>=0&&te("/"+L+" "+Er[L].objectNumber+" 0 R");Mt.publish("putXobjectDict"),te(">>")},Xt=function(){On.oid=Pn(),te("<<"),te("/Filter /Standard"),te("/V "+On.v),te("/R "+On.r),te("/U <"+On.toHexString(On.U)+">"),te("/O <"+On.toHexString(On.O)+">"),te("/P "+On.P),te(">>"),te("endobj")},ir=function(){for(var L in te("/Font <<"),_t)_t.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&te("/"+L+" "+_t[L].objectNumber+" 0 R");te(">>")},ur=function(){if(Object.keys(Ut).length>0){for(var L in te("/Shading <<"),Ut)Ut.hasOwnProperty(L)&&Ut[L]instanceof Td&&Ut[L].objectNumber>=0&&te("/"+L+" "+Ut[L].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),te(">>")}},sn=function(L){if(Object.keys(Ut).length>0){for(var re in te("/Pattern <<"),Ut)Ut.hasOwnProperty(re)&&Ut[re]instanceof p.TilingPattern&&Ut[re].objectNumber>=0&&Ut[re].objectNumber<L&&te("/"+re+" "+Ut[re].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),te(">>")}},on=function(){if(Object.keys(ke).length>0){var L;for(L in te("/ExtGState <<"),ke)ke.hasOwnProperty(L)&&ke[L].objectNumber>=0&&te("/"+L+" "+ke[L].objectNumber+" 0 R");Mt.publish("putGStateDict"),te(">>")}},qr=function(L){se(L.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ir(),ur(),sn(L.objectOid),on(),Lt(),te(">>"),te("endobj")},Xr=function(){var L=[];yt(),vt(),ie(),nt(L),Mt.publish("putResources"),L.forEach(qr),qr({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},Jn=function(){Mt.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var re=he[L];se(re.objId,!0),te(re.content),te("endobj")}Mt.publish("postPutAdditionalObjects")},fs=function(L){It[L.fontName]=It[L.fontName]||{},It[L.fontName][L.fontStyle]=L.id},$n=function(L,re,Te,Ce,Re){var at={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Te,encoding:Ce,isStandardFont:Re||!1,metadata:{}};return Mt.publish("addFont",{font:at,instance:this}),_t[at.id]=at,fs(at),at.id},jo=function(L){for(var re=0,Te=Ue.length;re<Te;re++){var Ce=$n.call(this,L[re][0],L[re][1],L[re][2],Ue[re][3],!0);f===!1&&(h[Ce]=!0);var Re=L[re][0].split("-");fs({id:Ce,fontName:Re[0],fontStyle:Re[1]||""})}Mt.publish("addFonts",{fonts:_t,dictionary:It})},yi=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ce){var re=Ce.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Te="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!lr.console)throw new Error(Te);lr.console.error(Te,Ce),lr.alert&&alert(Te)}},L.foo.bar=L,L.foo},bl=function(L,re){var Te,Ce,Re,at,wt,$t,_,R,Q;if(Re=(re=re||{}).sourceEncoding||"Unicode",wt=re.outputEncoding,(re.autoencode||wt)&&_t[Tt].metadata&&_t[Tt].metadata[Re]&&_t[Tt].metadata[Re].encoding&&(at=_t[Tt].metadata[Re].encoding,!wt&&_t[Tt].encoding&&(wt=_t[Tt].encoding),!wt&&at.codePages&&(wt=at.codePages[0]),typeof wt=="string"&&(wt=at[wt]),wt)){for(_=!1,$t=[],Te=0,Ce=L.length;Te<Ce;Te++)(R=wt[L.charCodeAt(Te)])?$t.push(String.fromCharCode(R)):$t.push(L[Te]),$t[Te].charCodeAt(0)>>8&&(_=!0);L=$t.join("")}for(Te=L.length;_===void 0&&Te!==0;)L.charCodeAt(Te-1)>>8&&(_=!0),Te--;if(!_)return L;for($t=re.noBOM?[]:[254,255],Te=0,Ce=L.length;Te<Ce;Te++){if((Q=(R=L.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(Q),$t.push(R-(Q<<8))}return String.fromCharCode.apply(void 0,$t)},Zn=p.__private__.pdfEscape=p.pdfEscape=function(L,re){return bl(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hi=p.__private__.beginPage=function(L){Se[++Ct]=[],mt[Ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Jf(Ct),xe(Se[F])},rc=function(L,re){var Te,Ce,Re;switch(r=re||r,typeof L=="string"&&(Te=y(L.toLowerCase()),Array.isArray(Te)&&(Ce=Te[0],Re=Te[1])),Array.isArray(L)&&(Ce=L[0]*it,Re=L[1]*it),isNaN(Ce)&&(Ce=a[0],Re=a[1]),(Ce>14400||Re>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Re=Math.min(14400,Re)),a=[Ce,Re],r.substr(0,1)){case"l":Re>Ce&&(a=[Re,Ce]);break;case"p":Ce>Re&&(a=[Re,Ce])}Hi(a),nd(rd),te(ei),sd!==0&&te(sd+" J"),xu!==0&&te(xu+" j"),Mt.publish("addPage",{pageNumber:Ct})},cu=function(L){L>0&&L<=Ct&&(Se.splice(L,1),mt.splice(L,1),Ct--,F>Ct&&(F=Ct),this.setPage(F))},Jf=function(L){L>0&&L<=Ct&&(F=L)},ln=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},nc=function(L,re,Te){var Ce,Re=void 0;return Te=Te||{},L=L!==void 0?L:_t[Tt].fontName,re=re!==void 0?re:_t[Tt].fontStyle,Ce=L.toLowerCase(),It[Ce]!==void 0&&It[Ce][re]!==void 0?Re=It[Ce][re]:It[L]!==void 0&&It[L][re]!==void 0?Re=It[L][re]:Te.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Re||Te.noFallback||(Re=It.times[re])==null&&(Re=It.times.normal),Re},ac=p.__private__.putInfo=function(){var L=Pn(),re=function(Ce){return Ce};for(var Te in u!==null&&(re=On.encryptor(L,0)),te("<<"),te("/Producer ("+Zn(re("jsPDF "+or.version))+")"),bt)bt.hasOwnProperty(Te)&&bt[Te]&&te("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Zn(re(bt[Te]))+")");te("/CreationDate ("+Zn(re(X))+")"),te(">>"),te("endobj")},Do=p.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||me;switch(Pn(),te("<<"),te("/Type /Catalog"),te("/Pages "+re+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+Le;Te.substr(Te.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&te("/OpenAction [3 0 R /XYZ null null "+j(Le)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Qe&&te("/PageMode /"+Qe),Mt.publish("putCatalog"),te(">>"),te("endobj")},dm=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Z+1)),te("/Root "+Z+" 0 R"),te("/Info "+(Z-1)+" 0 R"),u!==null&&te("/Encrypt "+On.oid+" 0 R"),te("/ID [ <"+Y+"> <"+Y+"> ]"),te(">>")},Th=p.__private__.putHeader=function(){te("%PDF-"+g),te("%ºß¬à")},hm=p.__private__.putXRef=function(){var L="0000000000";te("xref"),te("0 "+(Z+1)),te("0000000000 65535 f ");for(var re=1;re<=Z;re++)typeof ce[re]=="function"?te((L+ce[re]()).slice(-10)+" 00000 n "):ce[re]!==void 0?te((L+ce[re]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Lo=p.__private__.buildDocument=function(){ve(),xe(de),Mt.publish("buildDocument"),Th(),qe(),Jn(),Xr(),u!==null&&Xt(),ac(),Do();var L=ae;return hm(),dm(),te("startxref"),te(""+L),te("%%EOF"),xe(Se[F]),de.join(`
`)},uu=p.__private__.getBlob=function(L){return new Blob([Be(L)],{type:"application/pdf"})},fu=p.output=p.__private__.output=yi(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Lo();case"save":p.save(re.filename);break;case"arraybuffer":return Be(Lo());case"blob":return uu(Lo());case"bloburi":case"bloburl":if(lr.URL!==void 0&&typeof lr.URL.createObjectURL=="function")return lr.URL&&lr.URL.createObjectURL(uu(Lo()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Ce=Lo();try{Te=f3(Ce)}catch{Te=f3(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+re.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",at=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Re=re.pdfObjectUrl,at="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+at+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",$t=lr.open();return $t!==null&&$t.document.write(wt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',R=lr.open();if(R!==null){R.document.write(_);var Q=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=re.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Me=lr.open();if(Me!==null&&(Me.document.write(ue),Me.document.title=re.filename),Me||typeof safari>"u")return Me;break;case"datauri":case"dataurl":return lr.document.location.href=this.output("datauristring",re);default:return null}}),wl=function(L){return Array.isArray(mr)===!0&&mr.indexOf(L)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=wl("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var On=null;W(),H();var Eh=function(L){return u!==null?On.encryptor(L,0):function(re){return re}},Zf=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[L].objId,pageNumber:L,pageContext:mt[L]}},fr=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in mt)if(mt[re].objId===L)break;return Zf(re)},_l=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:mt[F].objId,pageNumber:F,pageContext:mt[F]}};p.addPage=function(){return rc.apply(this,arguments),this},p.setPage=function(){return Jf.apply(this,arguments),xe.call(this,Se[F]),this},p.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},p.movePage=function(L,re){var Te,Ce;if(L>re){Te=Se[L],Ce=mt[L];for(var Re=L;Re>re;Re--)Se[Re]=Se[Re-1],mt[Re]=mt[Re-1];Se[re]=Te,mt[re]=Ce,this.setPage(re)}else if(L<re){Te=Se[L],Ce=mt[L];for(var at=L;at<re;at++)Se[at]=Se[at+1],mt[at]=mt[at+1];Se[re]=Te,mt[re]=Ce,this.setPage(re)}return this},p.deletePage=function(){return cu.apply(this,arguments),this},p.__private__.text=p.text=function(L,re,Te,Ce,Re){var at,wt,$t,_,R,Q,ue,Me,Ke,At=(Ce=Ce||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Te=="string"||Array.isArray(Te))){var yr=Te;Te=re,re=L,L=yr}if(arguments[3]instanceof zt?(S("The transform parameter of text() with a Matrix value"),Ke=Re):($t=arguments[4],_=arguments[5],Jr(ue=arguments[3])==="object"&&ue!==null||(typeof $t=="string"&&(_=$t,$t=null),typeof ue=="string"&&(_=ue,ue=null),typeof ue=="number"&&($t=ue,ue=null),Ce={flags:ue,angle:$t,align:_})),isNaN(re)||isNaN(Te)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return At;var jr="",xr=!1,rn=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:tn,bn=At.internal.scaleFactor;function Bo(Tn){return Tn=Tn.split("	").join(Array(Ce.TabLen||9).join(" ")),Zn(Tn,ue)}function ti(Tn){for(var En,ua=Tn.concat(),Pa=[],dc=ua.length;dc--;)typeof(En=ua.shift())=="string"?Pa.push(En):Array.isArray(Tn)&&(En.length===1||En[1]===void 0&&En[2]===void 0)?Pa.push(En[0]):Pa.push([En[0],En[1],En[2]]);return Pa}function El(Tn,En){var ua;if(typeof Tn=="string")ua=En(Tn)[0];else if(Array.isArray(Tn)){for(var Pa,dc,_m=Tn.concat(),$h=[],vy=_m.length;vy--;)typeof(Pa=_m.shift())=="string"?$h.push(En(Pa)[0]):Array.isArray(Pa)&&typeof Pa[0]=="string"&&(dc=En(Pa[0],Pa[1],Pa[2]),$h.push([dc[0],dc[1],dc[2]]));ua=$h}return ua}var kl=!1,mm=!0;if(typeof L=="string")kl=!0;else if(Array.isArray(L)){var gm=L.concat();wt=[];for(var Oh,ri=gm.length;ri--;)(typeof(Oh=gm.shift())!="string"||Array.isArray(Oh)&&typeof Oh[0]!="string")&&(mm=!1);kl=mm}if(kl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ih=Ze/At.internal.scaleFactor,jh=Ih*(rn-1);switch(Ce.baseline){case"bottom":Te-=jh;break;case"top":Te+=Ih-jh;break;case"hanging":Te+=Ih-2*jh;break;case"middle":Te+=Ih/2-jh}if((Q=Ce.maxWidth||0)>0&&(typeof L=="string"?L=At.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Tn,En){return Tn.concat(At.splitTextToSize(En,Q))},[]))),at={text:L,x:re,y:Te,options:Ce,mutex:{pdfEscape:Zn,activeFontKey:Tt,fonts:_t,activeFontSize:Ze}},Mt.publish("preProcessText",at),L=at.text,$t=(Ce=at.options).angle,!(Ke instanceof zt)&&$t&&typeof $t=="number"){$t*=Math.PI/180,Ce.rotationDirection===0&&($t=-$t),w===b.ADVANCED&&($t=-$t);var Dh=Math.cos($t),vm=Math.sin($t);Ke=new zt(Dh,vm,-vm,Dh,0,0)}else $t&&$t instanceof zt&&(Ke=$t);w!==b.ADVANCED||Ke||(Ke=Qn),(R=Ce.charSpace||sc)!==void 0&&(jr+=T(k(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Me=Ce.horizontalScale)!==void 0&&(jr+=T(100*Me)+` Tz
`),Ce.lang;var ds=-1,m_=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,ym=At.internal.getCurrentPageInfo().pageContext;switch(m_){case 0:case!1:case"fill":ds=0;break;case 1:case!0:case"stroke":ds=1;break;case 2:case"fillThenStroke":ds=2;break;case 3:case"invisible":ds=3;break;case 4:case"fillAndAddForClipping":ds=4;break;case 5:case"strokeAndAddPathForClipping":ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ds=6;break;case 7:case"addToPathForClipping":ds=7}var hy=ym.usedRenderingMode!==void 0?ym.usedRenderingMode:-1;ds!==-1?jr+=ds+` Tr
`:hy!==-1&&(jr+=`0 Tr
`),ds!==-1&&(ym.usedRenderingMode=ds),_=Ce.align||"left";var to,Lh=Ze*rn,py=At.internal.pageSize.getWidth(),my=_t[Tt];R=Ce.charSpace||sc,Q=Ce.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Au=[],od=function(Tn){return At.getStringUnitWidth(Tn,{font:my,charSpace:R,fontSize:Ze,doKerning:!1})*Ze/bn};if(Object.prototype.toString.call(L)==="[object Array]"){var hs;wt=ti(L),_!=="left"&&(to=wt.map(od));var Gi,Tu=0;if(_==="right"){re-=to[0],L=[],ri=wt.length;for(var cc=0;cc<ri;cc++)cc===0?(Gi=js(re),hs=Ca(Te)):(Gi=k(Tu-to[cc]),hs=-Lh),L.push([wt[cc],Gi,hs]),Tu=to[cc]}else if(_==="center"){re-=to[0]/2,L=[],ri=wt.length;for(var uc=0;uc<ri;uc++)uc===0?(Gi=js(re),hs=Ca(Te)):(Gi=k((Tu-to[uc])/2),hs=-Lh),L.push([wt[uc],Gi,hs]),Tu=to[uc]}else if(_==="left"){L=[],ri=wt.length;for(var Mh=0;Mh<ri;Mh++)L.push(wt[Mh])}else if(_==="justify"&&my.encoding==="Identity-H"){L=[],ri=wt.length,Q=Q!==0?Q:py;for(var fc=0,ca=0;ca<ri;ca++)if(hs=ca===0?Ca(Te):-Lh,Gi=ca===0?js(re):fc,ca<ri-1){var xm=k((Q-to[ca])/(wt[ca].split(" ").length-1)),Ki=wt[ca].split(" ");L.push([Ki[0]+" ",Gi,hs]),fc=0;for(var ro=1;ro<Ki.length;ro++){var Rh=(od(Ki[ro-1]+" "+Ki[ro])-od(Ki[ro]))*bn+xm;ro==Ki.length-1?L.push([Ki[ro],Rh,0]):L.push([Ki[ro]+" ",Rh,0]),fc-=Rh}}else L.push([wt[ca],Gi,hs]);L.push(["",fc,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ri=wt.length,Q=Q!==0?Q:py,ca=0;ca<ri;ca++)hs=ca===0?Ca(Te):-Lh,Gi=ca===0?js(re):0,ca<ri-1?Au.push(T(k((Q-to[ca])/(wt[ca].split(" ").length-1)))):Au.push(0),L.push([wt[ca],Gi,hs])}}var gy=typeof Ce.R2L=="boolean"?Ce.R2L:je;gy===!0&&(L=El(L,function(Tn,En,ua){return[Tn.split("").reverse().join(""),En,ua]})),at={text:L,x:re,y:Te,options:Ce,mutex:{pdfEscape:Zn,activeFontKey:Tt,fonts:_t,activeFontSize:Ze}},Mt.publish("postProcessText",at),L=at.text,xr=at.mutex.isHex||!1;var bm=_t[Tt].encoding;bm!=="WinAnsiEncoding"&&bm!=="StandardEncoding"||(L=El(L,function(Tn,En,ua){return[Bo(Tn),En,ua]})),wt=ti(L),L=[];for(var ld,cd,Eu,ud=0,Fh=1,fd=Array.isArray(wt[0])?Fh:ud,ku="",wm=function(Tn,En,ua){var Pa="";return ua instanceof zt?(ua=typeof Ce.angle=="number"?Ua(ua,new zt(1,0,0,1,Tn,En)):Ua(new zt(1,0,0,1,Tn,En),ua),w===b.ADVANCED&&(ua=Ua(new zt(1,0,0,-1,0,0),ua)),Pa=ua.join(" ")+` Tm
`):Pa=T(Tn)+" "+T(En)+` Td
`,Pa},no=0;no<wt.length;no++){switch(ku="",fd){case Fh:Eu=(xr?"<":"(")+wt[no][0]+(xr?">":")"),ld=parseFloat(wt[no][1]),cd=parseFloat(wt[no][2]);break;case ud:Eu=(xr?"<":"(")+wt[no]+(xr?">":")"),ld=js(re),cd=Ca(Te)}Au!==void 0&&Au[no]!==void 0&&(ku=Au[no]+` Tw
`),no===0?L.push(ku+wm(ld,cd,Ke)+Eu):fd===ud?L.push(ku+Eu):fd===Fh&&L.push(ku+wm(ld,cd,Ke)+Eu)}L=fd===ud?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var ao=`BT
/`;return ao+=Tt+" "+Ze+` Tf
`,ao+=T(Ze*rn)+` TL
`,ao+=Fo+`
`,ao+=jr,ao+=L,te(ao+="ET"),h[Tt]=!0,At};var pm=p.__private__.clip=p.clip=function(L){return te(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return pm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var eo=p.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return eo(L)&&(c=L),this};var kh=p.__private__.getStyle=p.getStyle=function(L){var re=c;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Os=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(L){return du("f",L),this},p.fillEvenOdd=function(L){return du("f*",L),this},p.fillStroke=function(L){return du("B",L),this},p.fillStrokeEvenOdd=function(L){return du("B*",L),this};var du=function(L,re){Jr(re)==="object"?pu(re,L):te(L)},ed=function(L){L===null||w===b.ADVANCED&&L===void 0||(L=kh(L),te(L))};function hu(L,re,Te,Ce,Re){var at=new E0(re||this.boundingBox,Te||this.xStep,Ce||this.yStep,this.gState,Re||this.matrix);at.stream=this.stream;var wt=L+"$$"+this.cloneIndex+++"$$";return Fn(wt,at),at}var pu=function(L,re){var Te=Tr[L.key],Ce=Ut[Te];if(Ce instanceof Td)te("q"),te(Nh(re)),Ce.gState&&p.setGState(Ce.gState),te(L.matrix.toString()+" cm"),te("/"+Te+" sh"),te("Q");else if(Ce instanceof E0){var Re=new zt(1,0,0,-1,0,xi());L.matrix&&(Re=Re.multiply(L.matrix||Qn),Te=hu.call(Ce,L.key,L.boundingBox,L.xStep,L.yStep,Re).id),te("q"),te("/Pattern cs"),te("/"+Te+" scn"),Ce.gState&&p.setGState(Ce.gState),te(re),te("Q")}},Nh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Mo=p.moveTo=function(L,re){return te(T(k(L))+" "+T(V(re))+" m"),this},Is=p.lineTo=function(L,re){return te(T(k(L))+" "+T(V(re))+" l"),this},Ro=p.curveTo=function(L,re,Te,Ce,Re,at){return te([T(k(L)),T(V(re)),T(k(Te)),T(V(Ce)),T(k(Re)),T(V(at)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,re,Te,Ce,Re){if(isNaN(L)||isNaN(re)||isNaN(Te)||isNaN(Ce)||!eo(Re))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Te-L,Ce-re]],L,re,[1,1],Re||"S"):this.lines([[Te-L,Ce-re]],L,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,re,Te,Ce,Re,at){var wt,$t,_,R,Q,ue,Me,Ke,At,yr,jr,xr;if(typeof L=="number"&&(xr=Te,Te=re,re=L,L=xr),Ce=Ce||[1,1],at=at||!1,isNaN(re)||isNaN(Te)||!Array.isArray(L)||!Array.isArray(Ce)||!eo(Re)||typeof at!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mo(re,Te),wt=Ce[0],$t=Ce[1],R=L.length,yr=re,jr=Te,_=0;_<R;_++)(Q=L[_]).length===2?(yr=Q[0]*wt+yr,jr=Q[1]*$t+jr,Is(yr,jr)):(ue=Q[0]*wt+yr,Me=Q[1]*$t+jr,Ke=Q[2]*wt+yr,At=Q[3]*$t+jr,yr=Q[4]*wt+yr,jr=Q[5]*$t+jr,Ro(ue,Me,Ke,At,yr,jr));return at&&Os(),ed(Re),this},p.path=function(L){for(var re=0;re<L.length;re++){var Te=L[re],Ce=Te.c;switch(Te.op){case"m":Mo(Ce[0],Ce[1]);break;case"l":Is(Ce[0],Ce[1]);break;case"c":Ro.apply(this,Ce);break;case"h":Os()}}return this},p.__private__.rect=p.rect=function(L,re,Te,Ce,Re){if(isNaN(L)||isNaN(re)||isNaN(Te)||isNaN(Ce)||!eo(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Ce=-Ce),te([T(k(L)),T(V(re)),T(k(Te)),T(k(Ce)),"re"].join(" ")),ed(Re),this},p.__private__.triangle=p.triangle=function(L,re,Te,Ce,Re,at,wt){if(isNaN(L)||isNaN(re)||isNaN(Te)||isNaN(Ce)||isNaN(Re)||isNaN(at)||!eo(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-L,Ce-re],[Re-Te,at-Ce],[L-Re,re-at]],L,re,[1,1],wt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,re,Te,Ce,Re,at,wt){if(isNaN(L)||isNaN(re)||isNaN(Te)||isNaN(Ce)||isNaN(Re)||isNaN(at)||!eo(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*Te),at=Math.min(at,.5*Ce),this.lines([[Te-2*Re,0],[Re*$t,0,Re,at-at*$t,Re,at],[0,Ce-2*at],[0,at*$t,-Re*$t,at,-Re,at],[2*Re-Te,0],[-Re*$t,0,-Re,-at*$t,-Re,-at],[0,2*at-Ce],[0,-at*$t,Re*$t,-at,Re,-at]],L+Re,re,[1,1],wt,!0),this},p.__private__.ellipse=p.ellipse=function(L,re,Te,Ce,Re){if(isNaN(L)||isNaN(re)||isNaN(Te)||isNaN(Ce)||!eo(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var at=4/3*(Math.SQRT2-1)*Te,wt=4/3*(Math.SQRT2-1)*Ce;return Mo(L+Te,re),Ro(L+Te,re-wt,L+at,re-Ce,L,re-Ce),Ro(L-at,re-Ce,L-Te,re-wt,L-Te,re),Ro(L-Te,re+wt,L-at,re+Ce,L,re+Ce),Ro(L+at,re+Ce,L+Te,re+wt,L+Te,re),ed(Re),this},p.__private__.circle=p.circle=function(L,re,Te,Ce){if(isNaN(L)||isNaN(re)||isNaN(Te)||!eo(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Te,Te,Ce)},p.setFont=function(L,re,Te){return Te&&(re=I(re,Te)),Tt=nc(L,re,{disableWarning:!1}),this};var td=p.__private__.getFont=p.getFont=function(){return _t[nc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,re,Te={};for(L in It)if(It.hasOwnProperty(L))for(re in Te[L]=[],It[L])It[L].hasOwnProperty(re)&&Te[L].push(re);return Te},p.addFont=function(L,re,Te,Ce,Re){var at=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&at.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&at.indexOf(arguments[3])==-1&&(Te=I(Te,Ce)),Re=Re||"Identity-H",$n.call(this,L,re,Te,Re)};var tn,rd=e.lineWidth||.200025,mu=p.__private__.getLineWidth=p.getLineWidth=function(){return rd},nd=p.__private__.setLineWidth=p.setLineWidth=function(L){return rd=L,te(T(k(L))+" w"),this};p.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Te){return T(k(Te))}).join(" "),re=T(k(re)),te("["+L+"] "+re+" d"),this};var ad=p.__private__.getLineHeight=p.getLineHeight=function(){return Ze*tn};p.__private__.getLineHeight=p.getLineHeight=function(){return Ze*tn};var id=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(tn=L),this},ic=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return tn};id(e.lineHeight);var js=p.__private__.getHorizontalCoordinate=function(L){return k(L)},Ca=p.__private__.getVerticalCoordinate=function(L){return w===b.ADVANCED?L:mt[F].mediaBox.topRightY-mt[F].mediaBox.bottomLeftY-k(L)},Ch=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(js(L))},Sl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Ca(L))},ei=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _e(ei)},p.__private__.setStrokeColor=p.setDrawColor=function(L,re,Te,Ce){return ei=Ae({ch1:L,ch2:re,ch3:Te,ch4:Ce,pdfColorType:"draw",precision:2}),te(ei),this};var gu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _e(gu)},p.__private__.setFillColor=p.setFillColor=function(L,re,Te,Ce){return gu=Ae({ch1:L,ch2:re,ch3:Te,ch4:Ce,pdfColorType:"fill",precision:2}),te(gu),this};var Fo=e.textColor||"0 g",vu=p.__private__.getTextColor=p.getTextColor=function(){return _e(Fo)};p.__private__.setTextColor=p.setTextColor=function(L,re,Te,Ce){return Fo=Ae({ch1:L,ch2:re,ch3:Te,ch4:Ce,pdfColorType:"text",precision:3}),this};var sc=e.charSpace,yu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(sc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sc=L,this};var sd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=re,te(re+" J"),this};var xu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xu=re,te(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(T(k(L))+" M"),this},p.GState=Ew,p.setGState=function(L){(L=typeof L=="string"?ke[Je[L]]:Al(null,L)).equals(lt)||(te("/"+L.id+" gs"),lt=L)};var Al=function(L,re){if(!L||!Je[L]){var Te=!1;for(var Ce in ke)if(ke.hasOwnProperty(Ce)&&ke[Ce].equals(re)){Te=!0;break}if(Te)re=ke[Ce];else{var Re="GS"+(Object.keys(ke).length+1).toString(10);ke[Re]=re,re.id=Re}return L&&(Je[L]=re.id),Mt.publish("addGState",re),re}};p.addGState=function(L,re){return Al(L,re),this},p.saveGraphicsState=function(){return te("q"),Zt.push({key:Tt,size:Ze,color:Fo}),this},p.restoreGraphicsState=function(){te("Q");var L=Zt.pop();return Tt=L.key,Ze=L.size,Fo=L.color,lt=null,this},p.setCurrentTransformationMatrix=function(L){return te(L.toString()+" cm"),this},p.comment=function(L){return te("#"+L),this};var oc=function(L,re){var Te=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(at){isNaN(at)||(Te=parseFloat(at))}});var Ce=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(at){isNaN(at)||(Ce=parseFloat(at))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(at){Re=at.toString()}}),this},bu=function(L,re,Te,Ce){oc.call(this,L,re),this.type="rect";var Re=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(wt){isNaN(wt)||(Re=parseFloat(wt))}});var at=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return at},set:function(wt){isNaN(wt)||(at=parseFloat(wt))}}),this},lc=function(){this.page=Ct,this.currentPage=F,this.pages=Se.slice(0),this.pagesContext=mt.slice(0),this.x=Yt,this.y=Pt,this.matrix=Ir,this.width=Tl(F),this.height=xi(F),this.outputDestination=Ee,this.id="",this.objectNumber=-1};lc.prototype.restore=function(){Ct=this.page,F=this.currentPage,mt=this.pagesContext,Se=this.pages,Yt=this.x,Pt=this.y,Ir=this.matrix,_u(F,this.width),Su(F,this.height),Ee=this.outputDestination};var wu=function(L,re,Te,Ce,Re){Za.push(new lc),Ct=F=0,Se=[],Yt=L,Pt=re,Ir=Re,Hi([Te,Ce])},Ph=function(L){if(an[L])Za.pop().restore();else{var re=new lc,Te="Xo"+(Object.keys(Er).length+1).toString(10);re.id=Te,an[L]=Te,Er[Te]=re,Mt.publish("addFormObject",re),Za.pop().restore()}};for(var $o in p.beginFormObject=function(L,re,Te,Ce,Re){return wu(L,re,Te,Ce,Re),this},p.endFormObject=function(L){return Ph(L),this},p.doFormObject=function(L,re){var Te=Er[an[L]];return te("q"),te(re.toString()+" cm"),te("/"+Te.id+" Do"),te("Q"),this},p.getFormObject=function(L){var re=Er[an[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Sd(uu(Lo()),L),typeof Sd.unload=="function"&&lr.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(Te,Ce){try{var Re=Sd(uu(Lo()),L);typeof Sd.unload=="function"&&lr.setTimeout&&setTimeout(Sd.unload,911),Te(Re)}catch(at){Ce(at.message)}})},or.API)or.API.hasOwnProperty($o)&&($o==="events"&&or.API.events.length?function(L,re){var Te,Ce,Re;for(Re=re.length-1;Re!==-1;Re--)Te=re[Re][0],Ce=re[Re][1],L.subscribe.apply(L,[Te].concat(typeof Ce=="function"?[Ce]:Ce))}(Mt,or.API.events):p[$o]=or.API[$o]);var Tl=p.getPageWidth=function(L){return(mt[L=L||F].mediaBox.topRightX-mt[L].mediaBox.bottomLeftX)/it},_u=p.setPageWidth=function(L,re){mt[L].mediaBox.topRightX=re*it+mt[L].mediaBox.bottomLeftX},xi=p.getPageHeight=function(L){return(mt[L=L||F].mediaBox.topRightY-mt[L].mediaBox.bottomLeftY)/it},Su=p.setPageHeight=function(L,re){mt[L].mediaBox.topRightY=re*it+mt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:Zn,getStyle:kh,getFont:td,getFontSize:Ye,getCharSpace:yu,getTextColor:vu,getLineHeight:ad,getLineHeightFactor:ic,getLineWidth:mu,write:Ne,getHorizontalCoordinate:js,getVerticalCoordinate:Ca,getCoordinateString:Ch,getVerticalCoordinateString:Sl,collections:{},newObject:Pn,newAdditionalObject:we,newObjectDeferred:xn,newObjectDeferredBegin:se,getFilters:Ve,putStream:Xe,events:Mt,scaleFactor:it,pageSize:{getWidth:function(){return Tl(F)},setWidth:function(L){_u(F,L)},getHeight:function(){return xi(F)},setHeight:function(L){Su(F,L)}},encryptionOptions:u,encryption:On,getEncryptor:Eh,output:fu,getNumberOfPages:ln,pages:Se,out:te,f2:j,f3:E,getPageInfo:Zf,getPageInfoByObjId:fr,getCurrentPageInfo:_l,getPDFVersion:m,Point:oc,Rectangle:bu,Matrix:zt,hasHotfix:wl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tl(F)},set:function(L){_u(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return xi(F)},set:function(L){Su(F,L)},enumerable:!0,configurable:!0}),jo.call(p,Ue),Tt="F1",rc(a,r),Mt.publish("initialized"),p}n0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},n0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},n0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},n0.prototype.processOwnerPassword=function(e,t){return h3(d3(t).substr(0,5),e)},n0.prototype.encryptor=function(e,t){var r=d3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return h3(r,n)}},Ew.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Jr(e)!==Jr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},or.API={events:[]},or.version="3.0.1";var ra=or.API,kP=1,Ah=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(e){return e.toFixed(2)},$u=function(e){return e.toFixed(5)};ra.__acroform__={};var Ps=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},d7=function(e){return e*kP},Il=function(e){var t=new bK,r=Kt.internal.getHeight(e)||0,n=Kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(br(n)),Number(br(r))],t},e9e=ra.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},t9e=ra.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},r9e=ra.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pa=ra.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return r9e(e,t-1)},ma=ra.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e9e(e,t-1)},ga=ra.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t9e(e,t-1)},n9e=ra.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(br(l.lowerLeft_X)),Number(br(l.lowerLeft_Y)),Number(br(l.upperRight_X)),Number(br(l.upperRight_Y))]},a9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=p3(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+br(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Il(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},p3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=Kt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Kt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,k,D){if(E+1<a.length){var V=k+" "+a[E+1][0];return Rx(V,e,D).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=Rx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var O=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;y+=a[w][v],O=!0,m=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(w),I=l(C,y,i),T=w>=a.length-1;if(I&&!T){y+=" ",v=0;continue}if(I||T){if(T)m=C;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=C}}for(var S="",A=g;A<=m;A++){var j=a[A];if(e.multiline){if(A===m){S+=j[v]+" ",v=(v+1)%j.length;continue}if(A===g){S+=j[j.length-1]+" ";continue}}S+=j[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=Rx(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=br(c)+" "+br(p)+` Td
`,t+="("+Ah(S)+`) Tj
`,t+=-br(c)+` 0 Td
`,p=-(i+2),u=0,g=O?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},Rx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},i9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},s9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},o9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Jr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},l9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(yl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(i9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new wK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&s9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=n9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Kt.createDefaultAppearanceStream(o),Jr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=a9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&o9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},xK=ra.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Jr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ah(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ah(n(e))+")"},Rl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rl.prototype.toString=function(){return this.objId+" 0 R"},Rl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Rl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:xK(a,this.objId,this.scope)}):a instanceof Rl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var bK=function(){Rl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ps(bK,Rl);var wK=function(){Rl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ah(r(e))+")"}},set:function(r){e=r}})};Ps(wK,Rl);var yl=function e(){Rl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(t,3)},set:function(y){y?this.F=ma(t,3):this.F=ga(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kw)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Ah(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/kP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof kw||this instanceof Wd))return EA(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ka?h:EA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ka?y:y.substr(0,1)==="("?Qh(y.substr(1,y.length-2)):Qh(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?Qh(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ka?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ka?p:EA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ka?y:y.substr(0,1)==="("?Qh(y.substr(1,y.length-2)):Qh(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?Qh(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ka?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(y){y?this.Ff=ma(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(y){y?this.Ff=ma(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(y){y?this.Ff=ma(this.Ff,3):this.Ff=ga(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Ps(yl,Rl);var V0=function(){yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(r){r?this.Ff=ma(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ma(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(r){r?(this.Ff=ma(this.Ff,20),t.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(r){r?this.Ff=ma(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(r){r?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(r){r?this.Ff=ma(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};Ps(V0,yl);var z0=function(){V0.call(this),this.fontName="helvetica",this.combo=!1};Ps(z0,V0);var q0=function(){z0.call(this),this.combo=!0};Ps(q0,z0);var u2=function(){q0.call(this),this.edit=!0};Ps(u2,q0);var Ka=function(){yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(r){r?this.Ff=ma(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(r){r?this.Ff=ma(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(r){r?this.Ff=ma(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(r){r?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ah(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Jr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ps(Ka,yl);var f2=function(){Ka.call(this),this.pushButton=!0};Ps(f2,Ka);var W0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ps(W0,Ka);var kw=function(){var e,t;yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ah(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Jr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ps(kw,yl),W0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},W0.prototype.createOption=function(e){var t=new kw;return t.Parent=this,t.optionName=e,this.Kids.push(t),c9e.call(this.scope,t),t};var d2=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};Ps(d2,Ka);var Wd=function(){yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(t){t?this.Ff=ma(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(t){t?this.Ff=ma(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(t){t?this.Ff=ma(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(t){t?this.Ff=ma(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(t){t?this.Ff=ma(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(t){t?this.Ff=ma(this.Ff,26):this.Ff=ga(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ps(Wd,yl);var h2=function(){Wd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(e){e?this.Ff=ma(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};Ps(h2,Wd);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=p3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+br(Kt.internal.getWidth(e))+" "+br(Kt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+br(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Kt.internal.getHeight(e),s=Kt.internal.getWidth(e),o=p3(e,e.caption);return a.push("1 g"),a.push("0 0 "+br(s)+" "+br(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+br(s-1)+" "+br(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+br(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Kt.internal.getWidth(e))+" "+br(Kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Circle.YesNormal,t.D[e]=Kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Kt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$u(Kt.internal.getWidth(e)/2)+" "+$u(Kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Kt.internal.Bezier_C).toFixed(5)),s=Number((n*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$u(Kt.internal.getWidth(e)/2)+" "+$u(Kt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$u(Kt.internal.getWidth(e)/2)+" "+$u(Kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$u(Kt.internal.getWidth(e)/2)+" "+$u(Kt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Cross.YesNormal,t.D[e]=Kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Il(e);t.scope=e.scope;var r=[],n=Kt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+br(Kt.internal.getWidth(e)-2)+" "+br(Kt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(br(n.x1.x)+" "+br(n.x1.y)+" m"),r.push(br(n.x2.x)+" "+br(n.x2.y)+" l"),r.push(br(n.x4.x)+" "+br(n.x4.y)+" m"),r.push(br(n.x3.x)+" "+br(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=Kt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+br(Kt.internal.getWidth(e))+" "+br(Kt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+br(Kt.internal.getWidth(e)-2)+" "+br(Kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(br(r.x1.x)+" "+br(r.x1.y)+" m"),n.push(br(r.x2.x)+" "+br(r.x2.y)+" l"),n.push(br(r.x4.x)+" "+br(r.x4.y)+" m"),n.push(br(r.x3.x)+" "+br(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Il(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Kt.internal.getWidth(e))+" "+br(Kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Kt.internal.getWidth(e),r=Kt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Kt.internal.getWidth=function(e){var t=0;return Jr(e)==="object"&&(t=d7(e.Rect[2])),t},Kt.internal.getHeight=function(e){var t=0;return Jr(e)==="object"&&(t=d7(e.Rect[3])),t};var c9e=ra.addField=function(e){if(l9e(this,e),!(e instanceof yl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ra.AcroFormChoiceField=V0,ra.AcroFormListBox=z0,ra.AcroFormComboBox=q0,ra.AcroFormEditBox=u2,ra.AcroFormButton=Ka,ra.AcroFormPushButton=f2,ra.AcroFormRadioButton=W0,ra.AcroFormCheckBox=d2,ra.AcroFormTextField=Wd,ra.AcroFormPasswordField=h2,ra.AcroFormAppearance=Kt,ra.AcroForm={ChoiceField:V0,ListBox:z0,ComboBox:q0,EditBox:u2,Button:Ka,PushButton:f2,RadioButton:W0,CheckBox:d2,TextField:Wd,PasswordField:h2,Appearance:Kt},or.AcroForm={ChoiceField:V0,ListBox:z0,ComboBox:q0,EditBox:u2,Button:Ka,PushButton:f2,RadioButton:W0,CheckBox:d2,TextField:Wd,PasswordField:h2,Appearance:Kt};function _K(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,k){var D,V,X,Y,J,H=t;if((k=k||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(I(E))for(J in r)for(X=r[J],D=0;D<X.length;D+=1){for(Y=!0,V=0;V<X[D].length;V+=1)if(X[D][V]!==void 0&&X[D][V]!==E[V]){Y=!1;break}if(Y===!0){H=J;break}}else for(J in r)for(X=r[J],D=0;D<X.length;D+=1){for(Y=!0,V=0;V<X[D].length;V+=1)if(X[D][V]!==void 0&&X[D][V]!==E.charCodeAt(V)){Y=!1;break}if(Y===!0){H=J;break}}return H===t&&k!==t&&(H=k),H},a=function E(k){for(var D=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:k.width}),Y.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var J="",H=0,z=k.transparency.length;H<z;H++)J+=k.transparency[H]+" "+k.transparency[H]+" ";Y.push({key:"Mask",value:"["+J+"]"})}k.sMask!==void 0&&Y.push({key:"SMask",value:k.objectId+1+" 0 R"});var ee=k.filter!==void 0?["/"+k.filter]:void 0;if(V({data:k.data,additionalKeyValues:Y,alreadyAppliedFilters:ee,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var W="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,P={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:W,data:k.sMask};"filter"in k&&(P.filter=k.filter),E.call(this,P)}if(k.colorSpace===v.INDEXED){var F=this.internal.newObject();V({data:S(new Uint8Array(k.palette)),objectId:F}),D("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var k in E)a.call(this,E[k])},s=function(){var E,k=this.internal.collections.addImage_images,D=this.internal.write;for(var V in k)D("/I"+(E=k[V]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return Jr(E)==="object"&&E.nodeType===1},h=function(E,k){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return Qg(unescape(D).split("base64,").pop());var V=e.loadFile(D,!0);if(V!==void 0)return V}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var X;switch(k){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return Qg(E.toDataURL(X,1).split("base64,").pop())}},p=function(E){var k=this.internal.collections.addImage_images;if(k){for(var D in k)if(E===k[D].alias)return k[D]}},g=function(E,k,D){return E||k||(E=-96,k=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),E===0&&(E=k*D.width/D.height),k===0&&(k=E*D.height/D.width),[E,k]},m=function(E,k,D,V,X,Y){var J=g.call(this,D,V,X),H=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,ee=l.call(this);if(D=J[0],V=J[1],ee[X.index]=X,Y){Y*=Math.PI/180;var W=Math.cos(Y),P=Math.sin(Y),F=function(K){return K.toFixed(4)},q=[F(W),F(P),F(-1*P),F(W),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,H(E),z(k+V),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([H(D),"0","0",H(V),"0","0","cm"].join(" "))):this.internal.write([H(D),"0","0",H(V),H(E),z(k+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(E){var k,D,V=0;if(typeof E=="string")for(D=E.length,k=0;k<D;k++)V=(V<<5)-V+E.charCodeAt(k),V|=0;else if(I(E))for(D=E.byteLength/2,k=0;k<D;k++)V=(V<<5)-V+E[k],V|=0;return V},w=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var k=!0;return E.length===0&&(k=!1),E.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(k=!1),k},O=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var k=E.indexOf(",");return k<0?null:E.substring(0,k).trim().endsWith("base64")?E.substring(k+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return C()&&E instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(E){return C()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var k=E.length,D=new Uint8Array(k),V=0;V<k;V++)D[V]=E.charCodeAt(V);return D},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var k="",D=I(E)?E:new Uint8Array(E),V=0;V<D.length;V+=8192)k+=String.fromCharCode.apply(null,D.subarray(V,V+8192));return k};e.addImage=function(){var E,k,D,V,X,Y,J,H,z;if(typeof arguments[1]=="number"?(k=t,D=arguments[1],V=arguments[2],X=arguments[3],Y=arguments[4],J=arguments[5],H=arguments[6],z=arguments[7]):(k=arguments[1],D=arguments[2],V=arguments[3],X=arguments[4],Y=arguments[5],J=arguments[6],H=arguments[7],z=arguments[8]),Jr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ee=E;E=ee.imageData,k=ee.format||k||t,D=ee.x||D||0,V=ee.y||V||0,X=ee.w||ee.width||X,Y=ee.h||ee.height||Y,J=ee.alias||J,H=ee.compression||H,z=ee.rotation||ee.angle||z}var W=this.internal.getFilters();if(H===void 0&&W.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(D)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=A.call(this,E,k,J,H);return m.call(this,D,V,X,Y,P,z),this};var A=function(E,k,D,V){var X,Y,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var H=j(E,!1);(H!==""||(H=e.loadFile(E,!0))!==void 0)&&(E=H)}if(f(E)&&(E=h(E,k)),k=n(E,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((J=D)==null||J.length===0)&&(D=function(z){return typeof z=="string"||I(z)?b(z):I(z.data)?b(z.data):null}(E)),(X=p.call(this,D))||(C()&&(E instanceof Uint8Array||k==="RGBA"||(Y=E,E=T(E))),X=this["process"+k.toUpperCase()](E,c.call(this),D,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in e.image_compression?z:y.NONE}(V),Y)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},j=e.__addimage__.convertBase64ToBinaryString=function(E,k){k=typeof k!="boolean"||k;var D,V="";if(typeof E=="string"){var X;D=(X=O(E))!==null&&X!==void 0?X:E;try{V=Qg(D)}catch(Y){if(k)throw w(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(E){var k,D,V="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((V=j(E,!1))===""&&(V=e.loadFile(E)||""),E=V),D=n(E),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!C()||E instanceof Uint8Array||(E=T(E)),!(k=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(or.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};or.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(or.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",w=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(w++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===m.length-1&&(y=r,b+=m.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=m.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,b=0,w="",O="",C="",I=(m=m||"").split("\\s+"),T=[];for(v=0;v<I.length;v+=1){for(T.push(""),y=0;y<I[v].length;y+=1)w=I[v][y],O=I[v][y-1],C=I[v][y+1],s(w)?(b=h(w,O,C),T[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):T[v]+=w;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([p(v[b][0]),v[b][1],v[b][2]]):y.push([p(v[b])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(or.API),or.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(or.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,O){return w.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],b=[],w=[],O={},C={},I=[],T=[],S=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,j=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=V,this.setFontSize(j),f==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&Jr(f[0])==="object")for(y=f.map(function(ee){return ee.name}),b=f.map(function(ee){return ee.prompt||ee.name||""}),w=f.map(function(ee){return ee.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,w=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(O[v=y[p]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=O[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)I.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,I)+k+k,I=[]}if(A){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=b[p],X[y[p]].align=w[p];var Y=o.call(this,X,C);T=y.map(function(ee){return new i(l,c,C[ee],Y,X[ee].text,void 0,X[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,W){return ee[W.name]=W.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var H=o.call(this,u[p],C);for(m=0;m<y.length;m+=1){var z=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:z},this),s.call(this,new i(l,c,C[y[m]],H,z,p+2,J[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(or.API);var SK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m3=_K(AK),TK=[100,200,300,400,500,600,700,800,900],u9e=_K(TK);function g3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return SK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof m3[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function h7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var f9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},p7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function m7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function d9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},f9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=g3(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+m7(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=m3[l],f=u<=m3.normal?-1:1,h=h7(c,AK,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=SK[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=u9e[l],f=h7(c,TK,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+m7(i)+"'.");return s}function g7(e){return e.trimLeft()}function h9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function p9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Fx,v7,y7,kA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=P;Object.defineProperty(this,"pdf",{get:function(){return F}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(xe){q=!!xe}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(xe){K=!!xe}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(xe){isNaN(xe)||(Z=xe)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(xe){isNaN(xe)||(ce=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var te;typeof xe=="number"?te=[xe,xe,xe,xe]:((te=new Array(4))[0]=xe[0],te[1]=xe.length>=2?xe[1]:te[0],te[2]=xe.length>=3?xe[2]:te[0],te[3]=xe.length>=4?xe[3]:te[1]),c.margin=te}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(xe){de=xe}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(xe){ae=xe}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(xe){he=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof u&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(xe){Se=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var te;te=h(xe),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var te=h(xe);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var B=null;function Ee(xe,te){if(B===null){var Ne=function(Be){var Ue=[];return Object.keys(Be).forEach(function(Ze){Be[Ze].forEach(function(Le){var Ye=null;switch(Le){case"bold":Ye={family:Ze,weight:"bold"};break;case"italic":Ye={family:Ze,style:"italic"};break;case"bolditalic":Ye={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Ze}}Ye!==null&&(Ye.ref={name:Ze,style:Le},Ue.push(Ye))})}),Ue}(xe.getFontList());B=function(Be){for(var Ue={},Ze=0;Ze<Be.length;++Ze){var Le=g3(Be[Ze]),Ye=Le.family,je=Le.stretch,Qe=Le.style,pt=Le.weight;Ue[Ye]=Ue[Ye]||{},Ue[Ye][je]=Ue[Ye][je]||{},Ue[Ye][je][Qe]=Ue[Ye][je][Qe]||{},Ue[Ye][je][Qe][pt]=Le}return Ue}(Ne.concat(te))}return B}var ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(xe){B=null,ve=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var te;if(this.ctx.font=xe,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var Ne=te[1];te[2];var Be=te[3],Ue=te[4];te[5];var Ze=te[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(Le==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Ye=function(bt){var Tt,it,Yt=[],Pt=bt.trim();if(Pt==="")return kA;if(Pt in p7)return[p7[Pt]];for(;Pt!=="";){switch(it=null,Tt=(Pt=g7(Pt)).charAt(0)){case'"':case"'":it=h9e(Pt.substring(1),Tt);break;default:it=p9e(Pt)}if(it===null||(Yt.push(it[0]),(Pt=g7(it[1]))!==""&&Pt.charAt(0)!==","))return kA;Pt=Pt.replace(/^,/,"")}return Yt}(Ze);if(this.fontFaces){var je=d9e(Ee(this.pdf,this.fontFaces),Ye.map(function(bt){return{family:bt,stretch:"normal",weight:Be,style:Ne}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var Qe="";(Be==="bold"||parseInt(Be,10)>=700||Ne==="bold")&&(Qe="bold"),Ne==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var pt="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Ye.length;St++){if(this.pdf.internal.getFont(Ye[St],Qe,{noFallback:!0,disableWarning:!0})!==void 0){pt=Ye[St];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Ye[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=Ye[St],Qe="bold";else if(this.pdf.internal.getFont(Ye[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=Ye[St],Qe="normal";break}}if(pt===""){for(var jt=0;jt<Ye.length;jt++)if(ot[Ye[jt]]){pt=ot[Ye[jt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,F){if(isNaN(P)||isNaN(F))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(P,F));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(P,F)},f.prototype.closePath=function(){var P=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Jr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){P=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},f.prototype.lineTo=function(P,F){if(isNaN(P)||isNaN(F))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(P,F));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,F,q,K){if(isNaN(q)||isNaN(K)||isNaN(P)||isNaN(F))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(q,K)),ce=this.ctx.transform.applyToPoint(new s(P,F));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.bezierCurveTo=function(P,F,q,K,Z,ce){if(isNaN(Z)||isNaN(ce)||isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(Z,ce)),ae=this.ctx.transform.applyToPoint(new s(P,F)),he=this.ctx.transform.applyToPoint(new s(q,K));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:he.x,y2:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},f.prototype.arc=function(P,F,q,K,Z,ce){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K)||isNaN(Z))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(P,F));P=de.x,F=de.y;var ae=this.ctx.transform.applyToPoint(new s(0,q)),he=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ae.x-he.x,2)+Math.pow(ae.y-he.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:P,y:F,radius:q,startAngle:K,endAngle:Z,counterclockwise:ce})},f.prototype.arcTo=function(P,F,q,K,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,F,q,K){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,F),this.lineTo(P+q,F),this.lineTo(P+q,F+K),this.lineTo(P,F+K),this.lineTo(P,F),this.lineTo(P+q,F),this.lineTo(P,F)},f.prototype.fillRect=function(P,F,q,K){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,F,q,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(P,F,q,K){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,F,q,K),this.stroke())},f.prototype.clearRect=function(P,F,q,K){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,F,q,K))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(F),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(P){var F,q,K,Z;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))F=0,q=0,K=0,Z=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ce!==null)F=parseInt(ce[1]),q=parseInt(ce[2]),K=parseInt(ce[3]),Z=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)F=parseInt(ce[1]),q=parseInt(ce[2]),K=parseInt(ce[3]),Z=parseFloat(ce[4]);else{if(Z=1,typeof P=="string"&&P.charAt(0)!=="#"){var de=new gK(P);P=de.ok?de.toHex():"#000000"}P.length===4?(F=P.substring(1,2),F+=F,q=P.substring(2,3),q+=q,K=P.substring(3,4),K+=K):(F=P.substring(1,3),q=P.substring(3,5),K=P.substring(5,7)),F=parseInt(F,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:F,g:q,b:K,a:Z,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,F,q,K){if(isNaN(F)||isNaN(q)||typeof P!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var Z=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:P,x:F,y:q,scale:ce,angle:Z,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(P,F,q,K){if(isNaN(F)||isNaN(q)||typeof P!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var Z=H(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;k.call(this,{text:P,x:F,y:q,scale:ce,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(P){if(typeof P!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,q=this.pdf.internal.scaleFactor,K=F.internal.getFontSize(),Z=F.getStringUnitWidth(P)*K/F.internal.scaleFactor,ce=function(de){var ae=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new ce({width:Z*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(P,F){if(isNaN(P)||isNaN(F))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(P,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(P){if(isNaN(P))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(P,F){if(isNaN(P)||isNaN(F))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,P,F);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(P,F,q,K,Z,ce){if(isNaN(P)||isNaN(F)||isNaN(q)||isNaN(K)||isNaN(Z)||isNaN(ce))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(P,F,q,K,Z,ce);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(P,F,q,K,Z,ce){P=isNaN(P)?1:P,F=isNaN(F)?0:F,q=isNaN(q)?0:q,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(P,F,q,K,Z,ce)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,F,q,K,Z,ce,de,ae,he){var Se=this.pdf.getImageProperties(P),B=1,Ee=1,ve=1,xe=1;K!==void 0&&ae!==void 0&&(ve=ae/K,xe=he/Z,B=Se.width/K*ae/K,Ee=Se.height/Z*he/Z),ce===void 0&&(ce=F,de=q,F=0,q=0),K!==void 0&&ae===void 0&&(ae=K,he=Z),K===void 0&&ae===void 0&&(ae=Se.width,he=Se.height);for(var te,Ne=this.ctx.transform.decompose(),Be=H(Ne.rotate.shx),Ue=new l,Ze=(Ue=(Ue=(Ue=Ue.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new o(ce-F*ve,de-q*xe,K*B,Z*Ee)),Le=v.call(this,Ze),Ye=[],je=0;je<Le.length;je+=1)Ye.indexOf(Le[je])===-1&&Ye.push(Le[je]);if(w(Ye),this.autoPaging)for(var Qe=Ye[0],pt=Ye[Ye.length-1],ot=Qe;ot<pt+1;ot++){this.pdf.setPage(ot);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=ot===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ot===1?0:bt+(ot-2)*Tt;if(this.ctx.clip_path.length!==0){var Yt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-it+jt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Yt}var Pt=JSON.parse(JSON.stringify(Ze));Pt=b([Pt],this.posX+this.margin[3],-it+jt+this.ctx.prevPageLastElemOffset)[0];var Ir=(ot>Qe||ot<pt)&&m.call(this);Ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Tt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Be),Ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,Be)};var v=function(P,F,q){var K=[];F=F||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":K.push(Math.floor((P.y+Z)/q)+1);break;case"arc":K.push(Math.floor((P.y+Z-P.radius)/q)+1),K.push(Math.floor((P.y+Z+P.radius)/q)+1);break;case"qct":var ce=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);K.push(Math.floor((ce.y+Z)/q)+1),K.push(Math.floor((ce.y+ce.h+Z)/q)+1);break;case"bct":var de=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);K.push(Math.floor((de.y+Z)/q)+1),K.push(Math.floor((de.y+de.h+Z)/q)+1);break;case"rect":K.push(Math.floor((P.y+Z)/q)+1),K.push(Math.floor((P.y+P.h+Z)/q)+1)}for(var ae=0;ae<K.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<K[ae];)y.call(this);return K},y=function(){var P=this.fillStyle,F=this.strokeStyle,q=this.font,K=this.lineCap,Z=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=F,this.font=q,this.lineCap=K,this.lineWidth=Z,this.lineJoin=ce},b=function(P,F,q){for(var K=0;K<P.length;K++)switch(P[K].type){case"bct":P[K].x2+=F,P[K].y2+=q;case"qct":P[K].x1+=F,P[K].y1+=q;case"mt":case"lt":case"arc":default:P[K].x+=F,P[K].y+=q}return P},w=function(P){return P.sort(function(F,q){return F-q})},O=function(P,F){for(var q,K,Z=this.fillStyle,ce=this.strokeStyle,de=this.lineCap,ae=this.lineWidth,he=Math.abs(ae*this.ctx.transform.scaleX),Se=this.lineJoin,B=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),ve=[],xe=0;xe<Ee.length;xe++)if(Ee[xe].x!==void 0)for(var te=v.call(this,Ee[xe]),Ne=0;Ne<te.length;Ne+=1)ve.indexOf(te[Ne])===-1&&ve.push(te[Ne]);for(var Be=0;Be<ve.length;Be++)for(;this.pdf.internal.getNumberOfPages()<ve[Be];)y.call(this);if(w(ve),this.autoPaging)for(var Ue=ve[0],Ze=ve[ve.length-1],Le=Ue;Le<Ze+1;Le++){this.pdf.setPage(Le),this.fillStyle=Z,this.strokeStyle=ce,this.lineCap=de,this.lineWidth=he,this.lineJoin=Se;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Le===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Le===1?0:Qe+(Le-2)*pt;if(this.ctx.clip_path.length!==0){var St=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(q,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),C.call(this,P,!0),this.path=St}if(K=JSON.parse(JSON.stringify(B)),this.path=b(K,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),F===!1||Le===0){var jt=(Le>Ue||Le<Ze)&&m.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,pt,null).clip().discardPath()),C.call(this,P,F),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=he,C.call(this,P,F),this.lineWidth=ae;this.path=B},C=function(P,F){if((P!=="stroke"||F||!g.call(this))&&(P==="stroke"||F||!p.call(this))){for(var q,K,Z=[],ce=this.path,de=0;de<ce.length;de++){var ae=ce[de];switch(ae.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ae,deltas:[],abs:[]});break;case"lt":var he=Z.length;if(ce[de-1]&&!isNaN(ce[de-1].x)&&(q=[ae.x-ce[de-1].x,ae.y-ce[de-1].y],he>0)){for(;he>=0;he--)if(Z[he-1].close!==!0&&Z[he-1].begin!==!0){Z[he-1].deltas.push(q),Z[he-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-ce[de-1].x,ae.y1-ce[de-1].y,ae.x2-ce[de-1].x,ae.y2-ce[de-1].y,ae.x-ce[de-1].x,ae.y-ce[de-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var Se=ce[de-1].x+2/3*(ae.x1-ce[de-1].x),B=ce[de-1].y+2/3*(ae.y1-ce[de-1].y),Ee=ae.x+2/3*(ae.x1-ae.x),ve=ae.y+2/3*(ae.y1-ae.y),xe=ae.x,te=ae.y;q=[Se-ce[de-1].x,B-ce[de-1].y,Ee-ce[de-1].x,ve-ce[de-1].y,xe-ce[de-1].x,te-ce[de-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ae)}}K=F?null:P==="stroke"?"stroke":"fill";for(var Ne=!1,Be=0;Be<Z.length;Be++)if(Z[Be].arc)for(var Ue=Z[Be].abs,Ze=0;Ze<Ue.length;Ze++){var Le=Ue[Ze];Le.type==="arc"?S.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,F,!Ne):D.call(this,Le.x,Le.y),Ne=!0}else if(Z[Be].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(Z[Be].begin!==!0){var Ye=Z[Be].start.x,je=Z[Be].start.y;V.call(this,Z[Be].deltas,Ye,je),Ne=!0}K&&A.call(this,K),F&&j.call(this)}},I=function(P){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+F-q;case"hanging":return P+F-2*q;case"middle":return P+F/2-q;case"ideographic":return P;case"alphabetic":default:return P}},T=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(F,q){this.colorStops.push([F,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(P,F,q,K,Z,ce,de,ae,he){for(var Se=Y.call(this,q,K,Z,ce),B=0;B<Se.length;B++){var Ee=Se[B];B===0&&(he?E.call(this,Ee.x1+P,Ee.y1+F):D.call(this,Ee.x1+P,Ee.y1+F)),X.call(this,P,F,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ae?j.call(this):A.call(this,de)},A=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,F){this.pdf.internal.out(r(P)+" "+n(F)+" m")},k=function(P){var F;switch(P.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var q=this.pdf.getTextDimensions(P.text),K=I.call(this,P.y),Z=T.call(this,K)-q.h,ce=this.ctx.transform.applyToPoint(new s(P.x,K)),de=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var he,Se,B,Ee=this.ctx.transform.applyToRectangle(new o(P.x,K,q.w,q.h)),ve=ae.applyToRectangle(new o(P.x,Z,q.w,q.h)),xe=v.call(this,ve),te=[],Ne=0;Ne<xe.length;Ne+=1)te.indexOf(xe[Ne])===-1&&te.push(xe[Ne]);if(w(te),this.autoPaging)for(var Be=te[0],Ue=te[te.length-1],Ze=Be;Ze<Ue+1;Ze++){this.pdf.setPage(Ze);var Le=Ze===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Qe=je-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],ot=pt-this.margin[3],St=Ze===1?0:Ye+(Ze-2)*Qe;if(this.ctx.clip_path.length!==0){var jt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-1*St+Le),C.call(this,"fill",!0),this.path=jt}var bt=b([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-St+Le+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),B=this.lineWidth,this.lineWidth=B*P.scale);var Tt=this.autoPaging!=="text";if(Tt||bt.y+bt.h<=je){if(Tt||bt.y>=Le&&bt.x<=pt){var it=Tt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||pt-bt.x)[0],Yt=b([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-St+Le+this.ctx.prevPageLastElemOffset)[0],Pt=Tt&&(Ze>Be||Ze<Ue)&&m.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Qe,null).clip().discardPath()),this.pdf.text(it,Yt.x,Yt.y,{angle:P.angle,align:F,renderingMode:P.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else bt.y<je&&(this.ctx.prevPageLastElemOffset+=je-bt.y);P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=B)}else P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),B=this.lineWidth,this.lineWidth=B*P.scale),this.pdf.text(P.text,ce.x+this.posX,ce.y+this.posY,{angle:P.angle,align:F,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=B)},D=function(P,F,q,K){q=q||0,K=K||0,this.pdf.internal.out(r(P+q)+" "+n(F+K)+" l")},V=function(P,F,q){return this.pdf.lines(P,F,q,null,null)},X=function(P,F,q,K,Z,ce,de,ae){this.pdf.internal.out([t(a(q+P)),t(i(K+F)),t(a(Z+P)),t(i(ce+F)),t(a(de+P)),t(i(ae+F)),"c"].join(" "))},Y=function(P,F,q,K){for(var Z=2*Math.PI,ce=Math.PI/2;F>q;)F-=Z;var de=Math.abs(q-F);de<Z&&K&&(de=Z-de);for(var ae=[],he=K?-1:1,Se=F;de>1e-5;){var B=Se+he*Math.min(de,ce);ae.push(J.call(this,P,Se,B)),de-=Math.abs(B-Se),Se=B}return ae},J=function(P,F,q){var K=(q-F)/2,Z=P*Math.cos(K),ce=P*Math.sin(K),de=Z,ae=-ce,he=de*de+ae*ae,Se=he+de*Z+ae*ce,B=4/3*(Math.sqrt(2*he*Se)-Se)/(de*ce-ae*Z),Ee=de-B*ae,ve=ae+B*de,xe=Ee,te=-ve,Ne=K+F,Be=Math.cos(Ne),Ue=Math.sin(Ne);return{x1:P*Math.cos(F),y1:P*Math.sin(F),x2:Ee*Be-ve*Ue,y2:Ee*Ue+ve*Be,x3:xe*Be-te*Ue,y3:xe*Ue+te*Be,x4:P*Math.cos(q),y4:P*Math.sin(q)}},H=function(P){return 180*P/Math.PI},z=function(P,F,q,K,Z,ce){var de=P+.5*(q-P),ae=F+.5*(K-F),he=Z+.5*(q-Z),Se=ce+.5*(K-ce),B=Math.min(P,Z,de,he),Ee=Math.max(P,Z,de,he),ve=Math.min(F,ce,ae,Se),xe=Math.max(F,ce,ae,Se);return new o(B,ve,Ee-B,xe-ve)},ee=function(P,F,q,K,Z,ce,de,ae){var he,Se,B,Ee,ve,xe,te,Ne,Be,Ue,Ze,Le,Ye,je,Qe=q-P,pt=K-F,ot=Z-q,St=ce-K,jt=de-Z,bt=ae-ce;for(Se=0;Se<41;Se++)Be=(te=(B=P+(he=Se/40)*Qe)+he*((ve=q+he*ot)-B))+he*(ve+he*(Z+he*jt-ve)-te),Ue=(Ne=(Ee=F+he*pt)+he*((xe=K+he*St)-Ee))+he*(xe+he*(ce+he*bt-xe)-Ne),Se==0?(Ze=Be,Le=Ue,Ye=Be,je=Ue):(Ze=Math.min(Ze,Be),Le=Math.min(Le,Ue),Ye=Math.max(Ye,Be),je=Math.max(je,Ue));return new o(Math.round(Ze),Math.round(Le),Math.round(Ye-Ze),Math.round(je-Le))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,F,q=(P=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:F}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(or.API),function(e){var t=function(i){var s,o,l,c,u,f,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,b){for(var w=b;w>0;w--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=u3(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(or.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(or.API),function(e){function t(){return(lr.html2canvas?Promise.resolve(lr.html2canvas):i3(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(lr.DOMPurify?Promise.resolve(lr.DOMPurify):i3(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Jr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,or.getPageSize=function(s,o,l){if(Jr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(g3):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(or.API),or.API.addJS=function(e){return y7=e,this.internal.events.subscribe("postPutResources",function(){Fx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+y7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fx!==void 0&&v7!==void 0&&this.internal.out("/Names <</JavaScript "+Fx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(or.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(or.API);var Jh,$x,x7,b7,w7,m9e=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,p,g,m,v,y,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var O,C;for(C=[],O=0;O<4;++O)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,v,y,b,w,O,C,I,T,S,A,j,E,k,D,V,X,Y,J,H,z,ee=Math.ceil((c.width-f)/p),W=Math.ceil((c.height-h)/g),P=c.width==ee&&c.height==W;for(k=s*ee,j=P?o:new Uint8Array(k*W),O=i.length,E=0,v=0;E<W&&l<O;){switch(i[l++]){case 0:for(b=X=0;X<k;b=X+=1)j[v++]=i[l++];break;case 1:for(b=Y=0;Y<k;b=Y+=1)m=i[l++],w=b<s?0:j[v-s],j[v++]=(m+w)%256;break;case 2:for(b=J=0;J<k;b=J+=1)m=i[l++],y=(b-b%s)/s,D=E&&j[(E-1)*k+y*s+b%s],j[v++]=(D+m)%256;break;case 3:for(b=H=0;H<k;b=H+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:j[v-s],D=E&&j[(E-1)*k+y*s+b%s],j[v++]=(m+Math.floor((w+D)/2))%256;break;case 4:for(b=z=0;z<k;b=z+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:j[v-s],E===0?D=V=0:(D=j[(E-1)*k+y*s+b%s],V=y&&j[(E-1)*k+(y-1)*s+b%s]),C=w+D-V,I=Math.abs(C-w),S=Math.abs(C-D),A=Math.abs(C-V),T=I<=S&&I<=A?w:S<=A?D:V,j[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!P){var F=((h+E*g)*c.width+f)*s,q=E*k;for(b=0;b<ee;b+=1){for(var K=0;K<s;K+=1)o[F++]=j[q++];F+=(p-1)*s}}E++}}return i=G$e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=f[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(lr)==="[object Window]"){try{t=lr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,p;if(this.animation){for(p=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function g9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,O=e[t++],C=O>>6&1,I=1<<(7&O)+1,T=o,S=l,A=!1;O>>7&&(A=!0,T=t,S=I,t+=3*I);var j=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:w,has_local_palette:A,palette_offset:T,palette_size:S,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!C,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,D){var V=this.frameInfo(k),X=V.width*V.height,Y=new Uint8Array(X);_7(e,V.data_offset,Y,X);var J=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var z=V.width,ee=r-z,W=z,P=4*(V.y*r+V.x),F=4*((V.y+V.height)*r+V.x),q=P,K=4*ee;V.interlaced===!0&&(K+=4*r*7);for(var Z=8,ce=0,de=Y.length;ce<de;++ce){var ae=Y[ce];if(W===0&&(W=z,(q+=K)>=F&&(K=4*ee+4*r*(Z-1),q=P+(z+ee)*(Z<<1),Z>>=1)),ae===H)q+=4;else{var he=e[J+3*ae],Se=e[J+3*ae+1],B=e[J+3*ae+2];D[q++]=B,D[q++]=Se,D[q++]=he,D[q++]=255}--W}},this.decodeAndBlitFrameRGBA=function(k,D){var V=this.frameInfo(k),X=V.width*V.height,Y=new Uint8Array(X);_7(e,V.data_offset,Y,X);var J=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var z=V.width,ee=r-z,W=z,P=4*(V.y*r+V.x),F=4*((V.y+V.height)*r+V.x),q=P,K=4*ee;V.interlaced===!0&&(K+=4*r*7);for(var Z=8,ce=0,de=Y.length;ce<de;++ce){var ae=Y[ce];if(W===0&&(W=z,(q+=K)>=F&&(K=4*ee+4*r*(Z-1),q=P+(z+ee)*(Z<<1),Z>>=1)),ae===H)q+=4;else{var he=e[J+3*ae],Se=e[J+3*ae+1],B=e[J+3*ae+2];D[q++]=he,D[q++]=Se,D[q++]=B,D[q++]=255}--W}}}function _7(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,b=0,w=y;w>i;)w=g[w]>>8,++b;var O=w;if(h+b+(y!==v?1:0)>n)return void _n.log("Warning, gif stream longer than expected.");r[h++]=O;var C=h+=b;for(y!==v&&(r[h++]=O),w=y;b--;)w=g[w],r[--C]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&_n.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function NA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),w=new Array(64),O=new Array(64),C=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(P,F){for(var q=0,K=0,Z=new Array,ce=1;ce<=16;ce++){for(var de=1;de<=P[ce];de++)Z[F[K]]=[],Z[F[K]][0]=q,Z[F[K]][1]=ce,K++,q++;q*=2}return Z}function J(P){for(var F=P[0],q=P[1]-1;q>=0;)F&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(H(255),H(0)):H(v),y=7,v=0)}function H(P){m.push(P)}function z(P){H(P>>8&255),H(255&P)}function ee(P,F,q,K,Z){for(var ce,de=Z[0],ae=Z[240],he=function(Ue,Ze){var Le,Ye,je,Qe,pt,ot,St,jt,bt,Tt,it=0;for(bt=0;bt<8;++bt){Le=Ue[it],Ye=Ue[it+1],je=Ue[it+2],Qe=Ue[it+3],pt=Ue[it+4],ot=Ue[it+5],St=Ue[it+6];var Yt=Le+(jt=Ue[it+7]),Pt=Le-jt,Ir=Ye+St,_t=Ye-St,It=je+ot,Zt=je-ot,Ut=Qe+pt,Tr=Qe-pt,ke=Yt+Ut,Je=Yt-Ut,lt=Ir+It,Ct=Ir-It;Ue[it]=ke+lt,Ue[it+4]=ke-lt;var mt=.707106781*(Ct+Je);Ue[it+2]=Je+mt,Ue[it+6]=Je-mt;var Mt=.382683433*((ke=Tr+Zt)-(Ct=_t+Pt)),mr=.5411961*ke+Mt,Er=1.306562965*Ct+Mt,an=.707106781*(lt=Zt+_t),Za=Pt+an,zt=Pt-an;Ue[it+5]=zt+mr,Ue[it+3]=zt-mr,Ue[it+1]=Za+Er,Ue[it+7]=Za-Er,it+=8}for(it=0,bt=0;bt<8;++bt){Le=Ue[it],Ye=Ue[it+8],je=Ue[it+16],Qe=Ue[it+24],pt=Ue[it+32],ot=Ue[it+40],St=Ue[it+48];var Ua=Le+(jt=Ue[it+56]),Qn=Le-jt,Fn=Ye+St,Pn=Ye-St,xn=je+ot,se=je-ot,we=Qe+pt,me=Qe-pt,ge=Ua+we,_e=Ua-we,Ae=Fn+xn,Ve=Fn-xn;Ue[it]=ge+Ae,Ue[it+32]=ge-Ae;var Xe=.707106781*(Ve+_e);Ue[it+16]=_e+Xe,Ue[it+48]=_e-Xe;var ze=.382683433*((ge=me+se)-(Ve=Pn+Qn)),qe=.5411961*ge+ze,Ge=1.306562965*Ve+ze,yt=.707106781*(Ae=se+Pn),Dt=Qn+yt,ie=Qn-yt;Ue[it+40]=ie+qe,Ue[it+24]=ie-qe,Ue[it+8]=Dt+Ge,Ue[it+56]=Dt-Ge,it++}for(bt=0;bt<64;++bt)Tt=Ue[bt]*Ze[bt],p[bt]=Tt>0?Tt+.5|0:Tt-.5|0;return p}(P,F),Se=0;Se<64;++Se)g[T[Se]]=he[Se];var B=g[0]-q;q=g[0],B==0?J(K[0]):(J(K[h[ce=32767+B]]),J(f[ce]));for(var Ee=63;Ee>0&&g[Ee]==0;)Ee--;if(Ee==0)return J(de),q;for(var ve,xe=1;xe<=Ee;){for(var te=xe;g[xe]==0&&xe<=Ee;)++xe;var Ne=xe-te;if(Ne>=16){ve=Ne>>4;for(var Be=1;Be<=ve;++Be)J(ae);Ne&=15}ce=32767+g[xe],J(Z[(Ne<<4)+h[ce]]),J(f[ce]),xe++}return Ee!=63&&J(de),q}function W(P){P=Math.min(Math.max(P,1),100),i!=P&&(function(F){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=s((q[K]*F+50)/100);Z=Math.min(Math.max(Z,1),255),o[T[K]]=Z}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=s((ce[de]*F+50)/100);ae=Math.min(Math.max(ae,1),255),l[T[de]]=ae}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,B=0;B<8;B++)for(var Ee=0;Ee<8;Ee++)c[Se]=1/(o[T[Se]]*he[B]*he[Ee]*8),u[Se]=1/(l[T[Se]]*he[B]*he[Ee]*8),Se++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,F){F&&W(F),m=new Array,v=0,y=7,z(65496),z(65504),z(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),z(1),z(1),H(0),H(0),function(){z(65499),z(132),H(0);for(var Ye=0;Ye<64;Ye++)H(o[Ye]);H(1);for(var je=0;je<64;je++)H(l[je])}(),function(Ye,je){z(65472),z(17),H(8),z(je),z(Ye),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(P.width,P.height),function(){z(65476),z(418),H(0);for(var Ye=0;Ye<16;Ye++)H(S[Ye+1]);for(var je=0;je<=11;je++)H(A[je]);H(16);for(var Qe=0;Qe<16;Qe++)H(j[Qe+1]);for(var pt=0;pt<=161;pt++)H(E[pt]);H(1);for(var ot=0;ot<16;ot++)H(k[ot+1]);for(var St=0;St<=11;St++)H(D[St]);H(17);for(var jt=0;jt<16;jt++)H(V[jt+1]);for(var bt=0;bt<=161;bt++)H(X[bt])}(),z(65498),z(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var q=0,K=0,Z=0;v=0,y=7,this.encode.displayName="_encode_";for(var ce,de,ae,he,Se,B,Ee,ve,xe,te=P.data,Ne=P.width,Be=P.height,Ue=4*Ne,Ze=0;Ze<Be;){for(ce=0;ce<Ue;){for(Se=Ue*Ze+ce,Ee=-1,ve=0,xe=0;xe<64;xe++)B=Se+(ve=xe>>3)*Ue+(Ee=4*(7&xe)),Ze+ve>=Be&&(B-=Ue*(Ze+1+ve-Be)),ce+Ee>=Ue&&(B-=ce+Ee-Ue+4),de=te[B++],ae=te[B++],he=te[B++],b[xe]=(I[de]+I[ae+256>>0]+I[he+512>>0]>>16)-128,w[xe]=(I[de+768>>0]+I[ae+1024>>0]+I[he+1280>>0]>>16)-128,O[xe]=(I[de+1280>>0]+I[ae+1536>>0]+I[he+1792>>0]>>16)-128;q=ee(b,c,q,t,n),K=ee(w,u,K,r,a),Z=ee(O,u,Z,r,a),ce+=32}Ze+=8}if(y>=0){var Le=[];Le[1]=y+1,Le[0]=(1<<y+1)-1,J(Le)}return z(65497),new Uint8Array(m)},e=e||50,function(){for(var P=String.fromCharCode,F=0;F<256;F++)C[F]=P(F)}(),t=Y(S,A),r=Y(k,D),n=Y(j,E),a=Y(V,X),function(){for(var P=1,F=2,q=1;q<=15;q++){for(var K=P;K<F;K++)h[32767+K]=q,f[32767+K]=[],f[32767+K][1]=q,f[32767+K][0]=K;for(var Z=-(F-1);Z<=-P;Z++)h[32767+Z]=q,f[32767+Z]=[],f[32767+Z][1]=q,f[32767+Z][0]=F-1+Z;P<<=1,F<<=1}}(),function(){for(var P=0;P<256;P++)I[P]=19595*P,I[P+256>>0]=38470*P,I[P+512>>0]=7471*P+32768,I[P+768>>0]=-11059*P,I[P+1024>>0]=-21709*P,I[P+1280>>0]=32768*P+8421375,I[P+1536>>0]=-27439*P,I[P+1792>>0]=-5329*P}(),W(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S7(e){function t(S){if(!S)throw Error("assert :P")}function r(S,A,j){for(var E=0;4>E;E++)if(S[A+E]!=j.charCodeAt(E))return!0;return!1}function n(S,A,j,E,k){for(var D=0;D<k;D++)S[A+D]=j[E+D]}function a(S,A,j,E){for(var k=0;k<E;k++)S[A+k]=j}function i(S){return new Int32Array(S)}function s(S,A){for(var j=[],E=0;E<S;E++)j.push(new A);return j}function o(S,A){var j=[];return function E(k,D,V){for(var X=V[D],Y=0;Y<X&&(k.push(V.length>D+1?[]:new A),!(V.length<D+1));Y++)E(k[Y],D+1,V)}(j,0,S),j}var l=function(){var S=this;function A(x,N){for(var M=1<<N-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function j(x,N,M,G,ne){t(!(G%M));do x[N+(G-=M)]=ne;while(0<G)}function E(x,N,M,G,ne){if(t(2328>=ne),512>=ne)var oe=i(512);else if((oe=i(ne))==null)return 0;return function(le,fe,pe,be,Pe,We){var He,Fe,ht=fe,rt=1<<pe,Oe=i(16),De=i(16);for(t(Pe!=0),t(be!=null),t(le!=null),t(0<pe),Fe=0;Fe<Pe;++Fe){if(15<be[Fe])return 0;++Oe[be[Fe]]}if(Oe[0]==Pe)return 0;for(De[1]=0,He=1;15>He;++He){if(Oe[He]>1<<He)return 0;De[He+1]=De[He]+Oe[He]}for(Fe=0;Fe<Pe;++Fe)He=be[Fe],0<be[Fe]&&(We[De[He]++]=Fe);if(De[15]==1)return(be=new k).g=0,be.value=We[0],j(le,ht,1,rt,be),rt;var ut,xt=-1,dt=rt-1,qt=0,Ft=1,ar=1,Bt=1<<pe;for(Fe=0,He=1,Pe=2;He<=pe;++He,Pe<<=1){if(Ft+=ar<<=1,0>(ar-=Oe[He]))return 0;for(;0<Oe[He];--Oe[He])(be=new k).g=He,be.value=We[Fe++],j(le,ht+qt,Pe,Bt,be),qt=A(qt,He)}for(He=pe+1,Pe=2;15>=He;++He,Pe<<=1){if(Ft+=ar<<=1,0>(ar-=Oe[He]))return 0;for(;0<Oe[He];--Oe[He]){if(be=new k,(qt&dt)!=xt){for(ht+=Bt,ut=1<<(xt=He)-pe;15>xt&&!(0>=(ut-=Oe[xt]));)++xt,ut<<=1;rt+=Bt=1<<(ut=xt-pe),le[fe+(xt=qt&dt)].g=ut+pe,le[fe+xt].value=ht-fe-xt}be.g=He-pe,be.value=We[Fe++],j(le,ht+(qt>>pe),Pe,Bt,be),qt=A(qt,He)}}return Ft!=2*De[15]-1?0:rt}(x,N,M,G,ne,oe)}function k(){this.value=this.g=0}function D(){this.value=this.g=0}function V(){this.G=s(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ri,D)}function X(x,N,M,G){t(x!=null),t(N!=null),t(2147483648>G),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=N,x.pa=M,x.Jd=N,x.Yc=M+G,x.Zc=4<=G?M+G-4+1:M,ce(x)}function Y(x,N){for(var M=0;0<N--;)M|=ae(x,128)<<N;return M}function J(x,N){var M=Y(x,N);return de(x)?-M:M}function H(x,N,M,G){var ne,oe=0;for(t(x!=null),t(N!=null),t(4294967288>G),x.Sb=G,x.Ra=0,x.u=0,x.h=0,4<G&&(G=4),ne=0;ne<G;++ne)oe+=N[M+ne]<<8*ne;x.Ra=oe,x.bb=G,x.oa=N,x.pa=M}function z(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Dh-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function ee(x,N){if(t(0<=N),!x.h&&N<=jh){var M=F(x)&Ih[N];return x.u+=N,z(x),M}return x.h=1,x.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(x){return x.Ra>>>(x.u&Dh-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Dh}function K(x,N){x.u=N,x.h=q(x)}function Z(x){x.u>=vm&&(t(x.u>=vm),z(x))}function ce(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function de(x){return Y(x,1)}function ae(x,N){var M=x.Ca;0>x.b&&ce(x);var G=x.b,ne=M*N>>>8,oe=(x.I>>>G>ne)+0;for(oe?(M-=ne,x.I-=ne+1<<G>>>0):M=ne+1,G=M,ne=0;256<=G;)ne+=8,G>>=8;return G=7^ne+ds[G],x.b-=G,x.Ca=(M<<G)-1,oe}function he(x,N,M){x[N+0]=M>>24&255,x[N+1]=M>>16&255,x[N+2]=M>>8&255,x[N+3]=M>>0&255}function Se(x,N){return x[N+0]<<0|x[N+1]<<8}function B(x,N){return Se(x,N)|x[N+2]<<16}function Ee(x,N){return Se(x,N)|Se(x,N+2)<<16}function ve(x,N){var M=1<<N;return t(x!=null),t(0<N),x.X=i(M),x.X==null?0:(x.Mb=32-N,x.Xa=N,1)}function xe(x,N){t(x!=null),t(N!=null),t(x.Xa==N.Xa),n(N.X,0,x.X,0,1<<N.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Ne(x,N,M,G){t(M!=null),t(G!=null);var ne=M[0],oe=G[0];return ne==0&&(ne=(x*oe+N/2)/N),oe==0&&(oe=(N*ne+x/2)/x),0>=ne||0>=oe?0:(M[0]=ne,G[0]=oe,1)}function Be(x,N){return x+(1<<N)-1>>>N}function Ue(x,N){return((4278255360&x)+(4278255360&N)>>>0&4278255360)+((16711935&x)+(16711935&N)>>>0&16711935)>>>0}function Ze(x,N){S[N]=function(M,G,ne,oe,le,fe,pe){var be;for(be=0;be<le;++be){var Pe=S[x](fe[pe+be-1],ne,oe+be);fe[pe+be]=Ue(M[G+be],Pe)}}}function Le(){this.ud=this.hd=this.jd=0}function Ye(x,N){return((4278124286&(x^N))>>>1)+(x&N)>>>0}function je(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Qe(x,N){return je(x+(x-N+.5>>1))}function pt(x,N,M){return Math.abs(N-M)-Math.abs(x-M)}function ot(x,N,M,G,ne,oe,le){for(G=oe[le-1],M=0;M<ne;++M)oe[le+M]=G=Ue(x[N+M],G)}function St(x,N,M,G,ne){var oe;for(oe=0;oe<M;++oe){var le=x[N+oe],fe=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((fe<<16)+fe));G[ne+oe]=(4278255360&le)+pe>>>0}}function jt(x,N){N.jd=x>>0&255,N.hd=x>>8&255,N.ud=x>>16&255}function bt(x,N,M,G,ne,oe){var le;for(le=0;le<G;++le){var fe=N[M+le],pe=fe>>>8,be=fe,Pe=255&(Pe=(Pe=fe>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be=be+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(Pe<<24>>24)>>>5)),ne[oe+le]=(4278255360&fe)+(Pe<<16)+be}}function Tt(x,N,M,G,ne){S[N]=function(oe,le,fe,pe,be,Pe,We,He,Fe){for(pe=We;pe<He;++pe)for(We=0;We<Fe;++We)be[Pe++]=ne(fe[G(oe[le++])])},S[x]=function(oe,le,fe,pe,be,Pe,We){var He=8>>oe.b,Fe=oe.Ea,ht=oe.K[0],rt=oe.w;if(8>He)for(oe=(1<<oe.b)-1,rt=(1<<He)-1;le<fe;++le){var Oe,De=0;for(Oe=0;Oe<Fe;++Oe)Oe&oe||(De=G(pe[be++])),Pe[We++]=ne(ht[De&rt]),De>>=He}else S["VP8LMapColor"+M](pe,be,ht,rt,Pe,We,le,fe,Fe)}}function it(x,N,M,G,ne){for(M=N+M;N<M;){var oe=x[N++];G[ne++]=oe>>16&255,G[ne++]=oe>>8&255,G[ne++]=oe>>0&255}}function Yt(x,N,M,G,ne){for(M=N+M;N<M;){var oe=x[N++];G[ne++]=oe>>16&255,G[ne++]=oe>>8&255,G[ne++]=oe>>0&255,G[ne++]=oe>>24&255}}function Pt(x,N,M,G,ne){for(M=N+M;N<M;){var oe=(le=x[N++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;G[ne++]=oe,G[ne++]=le}}function Ir(x,N,M,G,ne){for(M=N+M;N<M;){var oe=(le=x[N++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[ne++]=oe,G[ne++]=le}}function _t(x,N,M,G,ne){for(M=N+M;N<M;){var oe=x[N++];G[ne++]=oe>>0&255,G[ne++]=oe>>8&255,G[ne++]=oe>>16&255}}function It(x,N,M,G,ne,oe){if(oe==0)for(M=N+M;N<M;)he(G,((oe=x[N++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(G,ne,x,N,M)}function Zt(x,N){S[N][0]=S[x+"0"],S[N][1]=S[x+"1"],S[N][2]=S[x+"2"],S[N][3]=S[x+"3"],S[N][4]=S[x+"4"],S[N][5]=S[x+"5"],S[N][6]=S[x+"6"],S[N][7]=S[x+"7"],S[N][8]=S[x+"8"],S[N][9]=S[x+"9"],S[N][10]=S[x+"10"],S[N][11]=S[x+"11"],S[N][12]=S[x+"12"],S[N][13]=S[x+"13"],S[N][14]=S[x+"0"],S[N][15]=S[x+"0"]}function Ut(x){return x==y_||x==x_||x==Sy||x==b_}function Tr(){this.eb=[],this.size=this.A=this.fb=0}function ke(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Je(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tr,this.f.kb=new ke,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Mt(x,N){var M=x.T,G=N.ba.f.RGBA,ne=G.eb,oe=G.fb+x.ka*G.A,le=so[N.ba.S],fe=x.y,pe=x.O,be=x.f,Pe=x.N,We=x.ea,He=x.W,Fe=N.cc,ht=N.dc,rt=N.Mc,Oe=N.Nc,De=x.ka,ut=x.ka+x.T,xt=x.U,dt=xt+1>>1;for(De==0?le(fe,pe,null,null,be,Pe,We,He,be,Pe,We,He,ne,oe,null,null,xt):(le(N.ec,N.fc,fe,pe,Fe,ht,rt,Oe,be,Pe,We,He,ne,oe-G.A,ne,oe,xt),++M);De+2<ut;De+=2)Fe=be,ht=Pe,rt=We,Oe=He,Pe+=x.Rc,He+=x.Rc,oe+=2*G.A,le(fe,(pe+=2*x.fa)-x.fa,fe,pe,Fe,ht,rt,Oe,be,Pe,We,He,ne,oe-G.A,ne,oe,xt);return pe+=x.fa,x.j+ut<x.o?(n(N.ec,N.fc,fe,pe,xt),n(N.cc,N.dc,be,Pe,dt),n(N.Mc,N.Nc,We,He,dt),M--):1&ut||le(fe,pe,null,null,be,Pe,We,He,be,Pe,We,He,ne,oe+G.A,null,null,xt),M}function mr(x,N,M){var G=x.F,ne=[x.J];if(G!=null){var oe=x.U,le=N.ba.S,fe=le==_y||le==Sy;N=N.ba.f.RGBA;var pe=[0],be=x.ka;pe[0]=x.T,x.Kb&&(be==0?--pe[0]:(--be,ne[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-be));var Pe=N.eb;be=N.fb+be*N.A,x=En(G,ne[0],x.width,oe,pe,Pe,be+(fe?0:3),N.A),t(M==pe),x&&Ut(le)&&ao(Pe,be,fe,oe,pe,N.A)}return 0}function Er(x){var N=x.ma,M=N.ba.S,G=11>M,ne=M==by||M==wy||M==_y||M==v_||M==12||Ut(M);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!mm(N.Oa,x,ne?11:12))return 0;if(ne&&Ut(M)&&wt(),x.da)alert("todo:use_scaling");else{if(G){if(N.Ib=mt,x.Kb){if(M=x.U+1>>1,N.memory=i(x.U+2*M),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+x.U,N.Mc=N.cc,N.Nc=N.dc+M,N.Ib=Mt,wt()}}else alert("todo:EmitYUV");ne&&(N.Jb=mr,G&&Re())}if(G&&!FP){for(x=0;256>x;++x)oY[x]=89858*(x-128)+Ty>>Ay,uY[x]=-22014*(x-128)+Ty,cY[x]=-45773*(x-128),lY[x]=113618*(x-128)+Ty>>Ay;for(x=Am;x<S_;++x)N=76283*(x-16)+Ty>>Ay,fY[x-Am]=rn(N,255),dY[x-Am]=rn(N+8>>4,15);FP=1}return 1}function an(x){var N=x.ma,M=x.U,G=x.T;return t(!(1&x.ka)),0>=M||0>=G?0:(M=N.Ib(x,N),N.Jb!=null&&N.Jb(x,N,M),N.Dc+=M,1)}function Za(x){x.ma.memory=null}function zt(x,N,M,G){return ee(x,8)!=47?0:(N[0]=ee(x,14)+1,M[0]=ee(x,14)+1,G[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Ua(x,N){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(N,M)+1}function Qn(x,N){return 120<N?N-120:1<=(M=((M=GK[N-1])>>4)*x+(8-(15&M)))?M:1;var M}function Fn(x,N,M){var G=F(M),ne=x[N+=255&G].g-8;return 0<ne&&(K(M,M.u+8),G=F(M),N+=x[N].value,N+=G&(1<<ne)-1),K(M,M.u+x[N].g),x[N].value}function Pn(x,N,M){return M.g+=x.g,M.value+=x.value<<N>>>0,t(8>=M.g),x.g}function xn(x,N,M){var G=x.xc;return t((N=G==0?0:x.vc[x.md*(M>>G)+(N>>G)])<x.Wb),x.Ya[N]}function se(x,N,M,G){var ne=x.ab,oe=x.c*N,le=x.C;N=le+N;var fe=M,pe=G;for(G=x.Ta,M=x.Ua;0<ne--;){var be=x.gc[ne],Pe=le,We=N,He=fe,Fe=pe,ht=(pe=G,fe=M,be.Ea);switch(t(Pe<We),t(We<=be.nc),be.hc){case 2:hy(He,Fe,(We-Pe)*ht,pe,fe);break;case 0:var rt=Pe,Oe=We,De=pe,ut=fe,xt=(Bt=be).Ea;rt==0&&(m_(He,Fe,null,null,1,De,ut),ot(He,Fe+1,0,0,xt-1,De,ut+1),Fe+=xt,ut+=xt,++rt);for(var dt=1<<Bt.b,qt=dt-1,Ft=Be(xt,Bt.b),ar=Bt.K,Bt=Bt.w+(rt>>Bt.b)*Ft;rt<Oe;){var Qr=ar,cn=Bt,Wr=1;for(ym(He,Fe,De,ut-xt,1,De,ut);Wr<xt;){var Dr=(Wr&~qt)+dt;Dr>xt&&(Dr=xt),(0,Au[Qr[cn++]>>8&15])(He,Fe+ +Wr,De,ut+Wr-xt,Dr-Wr,De,ut+Wr),Wr=Dr}Fe+=xt,ut+=xt,++rt&qt||(Bt+=Ft)}We!=be.nc&&n(pe,fe-ht,pe,fe+(We-Pe-1)*ht,ht);break;case 1:for(ht=He,Oe=Fe,xt=(He=be.Ea)-(ut=He&~(De=(Fe=1<<be.b)-1)),rt=Be(He,be.b),dt=be.K,be=be.w+(Pe>>be.b)*rt;Pe<We;){for(qt=dt,Ft=be,ar=new Le,Bt=Oe+ut,Qr=Oe+He;Oe<Bt;)jt(qt[Ft++],ar),od(ar,ht,Oe,Fe,pe,fe),Oe+=Fe,fe+=Fe;Oe<Qr&&(jt(qt[Ft++],ar),od(ar,ht,Oe,xt,pe,fe),Oe+=xt,fe+=xt),++Pe&De||(be+=rt)}break;case 3:if(He==pe&&Fe==fe&&0<be.b){for(Oe=pe,He=ht=fe+(We-Pe)*ht-(ut=(We-Pe)*Be(be.Ea,be.b)),Fe=pe,De=fe,rt=[],ut=(xt=ut)-1;0<=ut;--ut)rt[ut]=Fe[De+ut];for(ut=xt-1;0<=ut;--ut)Oe[He+ut]=rt[ut];to(be,Pe,We,pe,ht,pe,fe)}else to(be,Pe,We,He,Fe,pe,fe)}fe=G,pe=M}pe!=M&&n(G,M,fe,pe,oe)}function we(x,N){var M=x.V,G=x.Ba+x.c*x.C,ne=N-x.C;if(t(N<=x.l.o),t(16>=ne),0<ne){var oe=x.l,le=x.Ta,fe=x.Ua,pe=oe.width;if(se(x,ne,M,G),ne=fe=[fe],t((M=x.C)<(G=N)),t(oe.v<oe.va),G>oe.o&&(G=oe.o),M<oe.j){var be=oe.j-M;M=oe.j,ne[0]+=be*pe}if(M>=G?M=0:(ne[0]+=4*oe.v,oe.ka=M-oe.j,oe.U=oe.va-oe.v,oe.T=G-M,M=1),M){if(fe=fe[0],11>(M=x.ca).S){var Pe=M.f.RGBA,We=(G=M.S,ne=oe.U,oe=oe.T,be=Pe.eb,Pe.A),He=oe;for(Pe=Pe.fb+x.Ma*Pe.A;0<He--;){var Fe=le,ht=fe,rt=ne,Oe=be,De=Pe;switch(G){case xy:hs(Fe,ht,rt,Oe,De);break;case by:Gi(Fe,ht,rt,Oe,De);break;case y_:Gi(Fe,ht,rt,Oe,De),ao(Oe,De,0,rt,1,0);break;case NP:uc(Fe,ht,rt,Oe,De);break;case wy:It(Fe,ht,rt,Oe,De,1);break;case x_:It(Fe,ht,rt,Oe,De,1),ao(Oe,De,0,rt,1,0);break;case _y:It(Fe,ht,rt,Oe,De,0);break;case Sy:It(Fe,ht,rt,Oe,De,0),ao(Oe,De,1,rt,1,0);break;case v_:Tu(Fe,ht,rt,Oe,De);break;case b_:Tu(Fe,ht,rt,Oe,De),Tn(Oe,De,rt,1,0);break;case CP:cc(Fe,ht,rt,Oe,De);break;default:t(0)}fe+=pe,Pe+=We}x.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=N,t(x.C<=x.i)}function me(x){var N;if(0<x.ua)return 0;for(N=0;N<x.Wb;++N){var M=x.Ya[N].G,G=x.Ya[N].H;if(0<M[1][G[1]+0].g||0<M[2][G[2]+0].g||0<M[3][G[3]+0].g)return 0}return 1}function ge(x,N,M,G,ne,oe){if(x.Z!=0){var le=x.qd,fe=x.rd;for(t(Cu[x.Z]!=null);N<M;++N)Cu[x.Z](le,fe,G,ne,G,ne,oe),le=G,fe=ne,ne+=oe;x.qd=le,x.rd=fe}}function _e(x,N){var M=x.l.ma,G=M.Z==0||M.Z==1?x.l.j:x.C;if(G=x.C<G?G:x.C,t(N<=x.l.o),N>G){var ne=x.l.width,oe=M.ca,le=M.tb+ne*G,fe=x.V,pe=x.Ba+x.c*G,be=x.gc;t(x.ab==1),t(be[0].hc==3),py(be[0],G,N,fe,pe,oe,le),ge(M,G,N,oe,le,ne)}x.C=x.Ma=N}function Ae(x,N,M,G,ne,oe,le){var fe=x.$/G,pe=x.$%G,be=x.m,Pe=x.s,We=M+x.$,He=We;ne=M+G*ne;var Fe=M+G*oe,ht=280+Pe.ua,rt=x.Pb?fe:16777216,Oe=0<Pe.ua?Pe.Wa:null,De=Pe.wc,ut=We<Fe?xn(Pe,pe,fe):null;t(x.C<oe),t(Fe<=ne);var xt=!1;e:for(;;){for(;xt||We<Fe;){var dt=0;if(fe>=rt){var qt=We-M;t((rt=x).Pb),rt.wd=rt.m,rt.xd=qt,0<rt.s.ua&&xe(rt.s.Wa,rt.s.vb),rt=fe+YK}if(pe&De||(ut=xn(Pe,pe,fe)),t(ut!=null),ut.Qb&&(N[We]=ut.qb,xt=!0),!xt)if(Z(be),ut.jc){dt=be,qt=N;var Ft=We,ar=ut.pd[F(dt)&ri-1];t(ut.jc),256>ar.g?(K(dt,dt.u+ar.g),qt[Ft]=ar.value,dt=0):(K(dt,dt.u+ar.g-256),t(256<=ar.value),dt=ar.value),dt==0&&(xt=!0)}else dt=Fn(ut.G[0],ut.H[0],be);if(be.h)break;if(xt||256>dt){if(!xt)if(ut.nd)N[We]=(ut.qb|dt<<8)>>>0;else{if(Z(be),xt=Fn(ut.G[1],ut.H[1],be),Z(be),qt=Fn(ut.G[2],ut.H[2],be),Ft=Fn(ut.G[3],ut.H[3],be),be.h)break;N[We]=(Ft<<24|xt<<16|dt<<8|qt)>>>0}if(xt=!1,++We,++pe>=G&&(pe=0,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(x,fe),Oe!=null))for(;He<We;)dt=N[He++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt}else if(280>dt){if(dt=Ua(dt-256,be),qt=Fn(ut.G[4],ut.H[4],be),Z(be),qt=Qn(G,qt=Ua(qt,be)),be.h)break;if(We-M<qt||ne-We<dt)break e;for(Ft=0;Ft<dt;++Ft)N[We+Ft]=N[We+Ft-qt];for(We+=dt,pe+=dt;pe>=G;)pe-=G,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(x,fe);if(t(We<=ne),pe&De&&(ut=xn(Pe,pe,fe)),Oe!=null)for(;He<We;)dt=N[He++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt}else{if(!(dt<ht))break e;for(xt=dt-280,t(Oe!=null);He<We;)dt=N[He++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt;dt=We,t(!(xt>>>(qt=Oe).Xa)),N[dt]=qt.X[xt],xt=!0}xt||t(be.h==q(be))}if(x.Pb&&be.h&&We<ne)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&xe(x.s.vb,x.s.Wa);else{if(be.h)break e;le!=null&&le(x,fe>oe?oe:fe),x.a=0,x.$=We-M}return 1}return x.a=3,0}function Ve(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var N=x.Wa;N!=null&&(N.X=null),x.vb=null,t(x!=null)}function Xe(){var x=new Ph;return x==null?null:(x.a=0,x.xb=IP,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),hy=St,od=bt,hs=it,Gi=Yt,Tu=Pt,cc=Ir,uc=_t,S.VP8LMapColor32b=Lh,S.VP8LMapColor8b=my,x)}function ze(x,N,M,G,ne){var oe=1,le=[x],fe=[N],pe=G.m,be=G.s,Pe=null,We=0;e:for(;;){if(M)for(;oe&&ee(pe,1);){var He=le,Fe=fe,ht=G,rt=1,Oe=ht.m,De=ht.gc[ht.ab],ut=ee(Oe,2);if(ht.Oc&1<<ut)oe=0;else{switch(ht.Oc|=1<<ut,De.hc=ut,De.Ea=He[0],De.nc=Fe[0],De.K=[null],++ht.ab,t(4>=ht.ab),ut){case 0:case 1:De.b=ee(Oe,3)+2,rt=ze(Be(De.Ea,De.b),Be(De.nc,De.b),0,ht,De.K),De.K=De.K[0];break;case 3:var xt,dt=ee(Oe,8)+1,qt=16<dt?0:4<dt?1:2<dt?2:3;if(He[0]=Be(De.Ea,qt),De.b=qt,xt=rt=ze(dt,1,0,ht,De.K)){var Ft,ar=dt,Bt=De,Qr=1<<(8>>Bt.b),cn=i(Qr);if(cn==null)xt=0;else{var Wr=Bt.K[0],Dr=Bt.w;for(cn[0]=Bt.K[0][0],Ft=1;Ft<1*ar;++Ft)cn[Ft]=Ue(Wr[Dr+Ft],cn[Ft-1]);for(;Ft<4*Qr;++Ft)cn[Ft]=0;Bt.K[0]=null,Bt.K[0]=cn,xt=1}}rt=xt;break;case 2:break;default:t(0)}oe=rt}}if(le=le[0],fe=fe[0],oe&&ee(pe,1)&&!(oe=1<=(We=ee(pe,4))&&11>=We)){G.a=3;break e}var wn;if(wn=oe)t:{var mn,_r,ya,ps=G,xa=le,ms=fe,un=We,Ls=M,Ms=ps.m,Va=ps.s,ni=[null],Yi=1,oo=0,Nl=KK[un];r:for(;;){if(Ls&&ee(Ms,1)){var za=ee(Ms,3)+2,pc=Be(xa,za),dd=Be(ms,za),Bh=pc*dd;if(!ze(pc,dd,0,ps,ni))break r;for(ni=ni[0],Va.xc=za,mn=0;mn<Bh;++mn){var Pu=ni[mn]>>8&65535;ni[mn]=Pu,Pu>=Yi&&(Yi=Pu+1)}}if(Ms.h)break r;for(_r=0;5>_r;++_r){var ea=PP[_r];!_r&&0<un&&(ea+=1<<un),oo<ea&&(oo=ea)}var A_=s(Yi*Nl,k),UP=Yi,VP=s(UP,V);if(VP==null)var ky=null;else t(65536>=UP),ky=VP;var Tm=i(oo);if(ky==null||Tm==null||A_==null){ps.a=1;break r}var Ny=A_;for(mn=ya=0;mn<Yi;++mn){var Vo=ky[mn],Uh=Vo.G,Vh=Vo.H,zP=0,Cy=1,qP=0;for(_r=0;5>_r;++_r){ea=PP[_r],Uh[_r]=Ny,Vh[_r]=ya,!_r&&0<un&&(ea+=1<<un);a:{var Py,T_=ea,Oy=ps,Em=Tm,mY=Ny,gY=ya,E_=0,Ou=Oy.m,vY=ee(Ou,1);if(a(Em,0,0,T_),vY){var yY=ee(Ou,1)+1,xY=ee(Ou,1),WP=ee(Ou,xY==0?1:8);Em[WP]=1,yY==2&&(Em[WP=ee(Ou,8)]=1);var Iy=1}else{var HP=i(19),GP=ee(Ou,4)+4;if(19<GP){Oy.a=3;var jy=0;break a}for(Py=0;Py<GP;++Py)HP[HK[Py]]=ee(Ou,3);var k_=void 0,km=void 0,KP=Oy,bY=HP,Dy=T_,YP=Em,N_=0,Iu=KP.m,XP=8,QP=s(128,k);n:for(;E(QP,0,7,bY,19);){if(ee(Iu,1)){var wY=2+2*ee(Iu,3);if((k_=2+ee(Iu,wY))>Dy)break n}else k_=Dy;for(km=0;km<Dy&&k_--;){Z(Iu);var JP=QP[0+(127&F(Iu))];K(Iu,Iu.u+JP.g);var zh=JP.value;if(16>zh)YP[km++]=zh,zh!=0&&(XP=zh);else{var _Y=zh==16,ZP=zh-16,SY=qK[ZP],e6=ee(Iu,zK[ZP])+SY;if(km+e6>Dy)break n;for(var AY=_Y?XP:0;0<e6--;)YP[km++]=AY}}N_=1;break n}N_||(KP.a=3),Iy=N_}(Iy=Iy&&!Ou.h)&&(E_=E(mY,gY,8,Em,T_)),Iy&&E_!=0?jy=E_:(Oy.a=3,jy=0)}if(jy==0)break r;if(Cy&&WK[_r]==1&&(Cy=Ny[ya].g==0),zP+=Ny[ya].g,ya+=jy,3>=_r){var Nm,C_=Tm[0];for(Nm=1;Nm<ea;++Nm)Tm[Nm]>C_&&(C_=Tm[Nm]);qP+=C_}}if(Vo.nd=Cy,Vo.Qb=0,Cy&&(Vo.qb=(Uh[3][Vh[3]+0].value<<24|Uh[1][Vh[1]+0].value<<16|Uh[2][Vh[2]+0].value)>>>0,zP==0&&256>Uh[0][Vh[0]+0].value&&(Vo.Qb=1,Vo.qb+=Uh[0][Vh[0]+0].value<<8)),Vo.jc=!Vo.Qb&&6>qP,Vo.jc){var Ly,mc=Vo;for(Ly=0;Ly<ri;++Ly){var ju=Ly,Du=mc.pd[ju],My=mc.G[0][mc.H[0]+ju];256<=My.value?(Du.g=My.g+256,Du.value=My.value):(Du.g=0,Du.value=0,ju>>=Pn(My,8,Du),ju>>=Pn(mc.G[1][mc.H[1]+ju],16,Du),ju>>=Pn(mc.G[2][mc.H[2]+ju],0,Du),Pn(mc.G[3][mc.H[3]+ju],24,Du))}}}Va.vc=ni,Va.Wb=Yi,Va.Ya=ky,Va.yc=A_,wn=1;break t}wn=0}if(!(oe=wn)){G.a=3;break e}if(0<We){if(be.ua=1<<We,!ve(be.Wa,We)){G.a=1,oe=0;break e}}else be.ua=0;var P_=G,t6=le,TY=fe,O_=P_.s,I_=O_.xc;if(P_.c=t6,P_.i=TY,O_.md=Be(t6,I_),O_.wc=I_==0?-1:(1<<I_)-1,M){G.xb=rY;break e}if((Pe=i(le*fe))==null){G.a=1,oe=0;break e}oe=(oe=Ae(G,Pe,0,le,fe,fe,null))&&!pe.h;break e}return oe?(ne!=null?ne[0]=Pe:(t(Pe==null),t(M)),G.$=0,M||Ve(be)):Ve(be),oe}function qe(x,N){var M=x.c*x.i,G=M+N+16*N;return t(x.c<=N),x.V=i(G),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+N,1)}function Ge(x,N){var M=x.C,G=N-M,ne=x.V,oe=x.Ba+x.c*M;for(t(N<=x.l.o);0<G;){var le=16<G?16:G,fe=x.l.ma,pe=x.l.width,be=pe*le,Pe=fe.ca,We=fe.tb+pe*M,He=x.Ta,Fe=x.Ua;se(x,le,ne,oe),ua(He,Fe,Pe,We,be),ge(fe,M,M+le,Pe,We,pe),G-=le,ne+=le*x.c,M+=le}t(M==N),x.C=x.Ma=N}function yt(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ye(){this.Yb=function(){var x=[];return function N(M,G,ne){for(var oe=ne[G],le=0;le<oe&&(M.push(ne.length>G+1?[]:0),!(ne.length<G+1));le++)N(M[le],G+1,ne)}(x,0,[3,11]),x}()}function $e(){this.jb=i(3),this.Wc=o([4,8],ye),this.Xc=o([4,17],ye)}function Et(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function nt(){this.ld=this.La=this.dd=this.tc=0}function tt(){this.Na=this.la=0}function vt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xt(){this.uc=this.M=this.Nb=0,this.wa=Array(new nt),this.Y=0,this.ya=Array(new Lt),this.aa=0,this.l=new sn}function ir(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ur(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new yt,this.Kc=new Dt,this.ed=new Et,this.Qa=new ie,this.Ic=this.$c=this.Aa=0,this.D=new Xt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,W),this.ia=0,this.pb=s(4,vt),this.Pa=new $e,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ir),this.Hd=0,this.rb=Array(new tt),this.sb=0,this.wa=Array(new nt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lt),this.L=this.aa=0,this.gd=o([4,2],nt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function on(){var x=new ur;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Sm||(Sm=fs)),x}function qr(x,N,M){return x.a==0&&(x.a=N,x.sc=M,x.cb=0),0}function Xr(x,N,M){return 3<=M&&x[N+0]==157&&x[N+1]==1&&x[N+2]==42}function Jn(x,N){if(x==null)return 0;if(x.a=0,x.sc="OK",N==null)return qr(x,2,"null VP8Io passed to VP8GetHeaders()");var M=N.data,G=N.w,ne=N.ha;if(4>ne)return qr(x,7,"Truncated header.");var oe=M[G+0]|M[G+1]<<8|M[G+2]<<16,le=x.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return qr(x,3,"Incorrect keyframe parameters.");if(!le.yd)return qr(x,4,"Frame not displayable.");G+=3,ne-=3;var fe=x.Kc;if(le.Rb){if(7>ne)return qr(x,7,"cannot parse picture header");if(!Xr(M,G,ne))return qr(x,3,"Bad code word");fe.c=16383&(M[G+4]<<8|M[G+3]),fe.Td=M[G+4]>>6,fe.i=16383&(M[G+6]<<8|M[G+5]),fe.Ud=M[G+6]>>6,G+=7,ne-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,N.width=fe.c,N.height=fe.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((oe=x.Pa).jb,0,255,oe.jb.length),t((oe=x.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(le.ub>ne)return qr(x,7,"bad partition length");X(oe=x.m,M,G,le.ub),G+=le.ub,ne-=le.ub,le.Rb&&(fe.Ld=de(oe),fe.Kd=de(oe)),fe=x.Qa;var pe,be=x.Pa;if(t(oe!=null),t(fe!=null),fe.Cb=de(oe),fe.Cb){if(fe.Bb=de(oe),de(oe)){for(fe.Fb=de(oe),pe=0;4>pe;++pe)fe.Zb[pe]=de(oe)?J(oe,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=de(oe)?J(oe,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=de(oe)?Y(oe,8):255}else fe.Bb=0;if(oe.Ka)return qr(x,3,"cannot parse segment header");if((fe=x.ed).zd=de(oe),fe.Tb=Y(oe,6),fe.wb=Y(oe,3),fe.Pc=de(oe),fe.Pc&&de(oe)){for(be=0;4>be;++be)de(oe)&&(fe.vd[be]=J(oe,6));for(be=0;4>be;++be)de(oe)&&(fe.od[be]=J(oe,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return qr(x,3,"cannot parse filter header");var Pe=ne;if(ne=pe=G,G=pe+Pe,fe=Pe,x.Xb=(1<<Y(x.m,2))-1,Pe<3*(be=x.Xb))M=7;else{for(pe+=3*be,fe-=3*be,Pe=0;Pe<be;++Pe){var We=M[ne+0]|M[ne+1]<<8|M[ne+2]<<16;We>fe&&(We=fe),X(x.Jc[+Pe],M,pe,We),pe+=We,fe-=We,ne+=3}X(x.Jc[+be],M,pe,fe),M=pe<G?0:5}if(M!=0)return qr(x,M,"cannot parse partitions");for(M=Y(pe=x.m,7),ne=de(pe)?J(pe,4):0,G=de(pe)?J(pe,4):0,fe=de(pe)?J(pe,4):0,be=de(pe)?J(pe,4):0,pe=de(pe)?J(pe,4):0,Pe=x.Qa,We=0;4>We;++We){if(Pe.Cb){var He=Pe.Zb[We];Pe.Fb||(He+=M)}else{if(0<We){x.pb[We]=x.pb[0];continue}He=M}var Fe=x.pb[We];Fe.Sc[0]=w_[rn(He+ne,127)],Fe.Sc[1]=__[rn(He+0,127)],Fe.Eb[0]=2*w_[rn(He+G,127)],Fe.Eb[1]=101581*__[rn(He+fe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=w_[rn(He+be,117)],Fe.Qc[1]=__[rn(He+pe,127)],Fe.lc=He+pe}if(!le.Rb)return qr(x,4,"Not a key frame.");for(de(oe),le=x.Pa,M=0;4>M;++M){for(ne=0;8>ne;++ne)for(G=0;3>G;++G)for(fe=0;11>fe;++fe)be=ae(oe,eY[M][ne][G][fe])?Y(oe,8):JK[M][ne][G][fe],le.Wc[M][ne].Yb[G][fe]=be;for(ne=0;17>ne;++ne)le.Xc[M][ne]=le.Wc[M][tY[ne]]}return x.kc=de(oe),x.kc&&(x.Bd=Y(oe,8)),x.cb=1}function fs(x,N,M,G,ne,oe,le){var fe=N[ne].Yb[M];for(M=0;16>ne;++ne){if(!ae(x,fe[M+0]))return ne;for(;!ae(x,fe[M+1]);)if(fe=N[++ne].Yb[0],M=0,ne==16)return 16;var pe=N[ne+1].Yb;if(ae(x,fe[M+2])){var be=x,Pe=0;if(ae(be,(He=fe)[(We=M)+3]))if(ae(be,He[We+6])){for(fe=0,We=2*(Pe=ae(be,He[We+8]))+(He=ae(be,He[We+9+Pe])),Pe=0,He=XK[We];He[fe];++fe)Pe+=Pe+ae(be,He[fe]);Pe+=3+(8<<We)}else ae(be,He[We+7])?(Pe=7+2*ae(be,165),Pe+=ae(be,145)):Pe=5+ae(be,159);else Pe=ae(be,He[We+4])?3+ae(be,He[We+5]):2;fe=pe[2]}else Pe=1,fe=pe[1];pe=le+QK[ne],0>(be=x).b&&ce(be);var We,He=be.b,Fe=(We=be.Ca>>1)-(be.I>>He)>>31;--be.b,be.Ca+=Fe,be.Ca|=1,be.I-=(We+1&Fe)<<He,oe[pe]=((Pe^Fe)-Fe)*G[(0<ne)+0]}return 16}function $n(x){var N=x.rb[x.sb-1];N.la=0,N.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function jo(x,N){if(x==null)return 0;if(N==null)return qr(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Jn(x,N))return 0;if(t(x.cb),N.ac==null||N.ac(N)){N.ob&&(x.L=0);var M=Ey[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=N.v-M>>4,x.zb=N.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=N.o+15+M>>4,x.Hb=N.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var G=x.ed;for(M=0;4>M;++M){var ne;if(x.Qa.Cb){var oe=x.Qa.Lb[M];x.Qa.Fb||(oe+=G.Tb)}else oe=G.Tb;for(ne=0;1>=ne;++ne){var le=x.gd[M][ne],fe=oe;if(G.Pc&&(fe+=G.vd[0],ne&&(fe+=G.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var pe=fe;0<G.wb&&(pe=4<G.wb?pe>>2:pe>>1)>9-G.wb&&(pe=9-G.wb),1>pe&&(pe=1),le.dd=pe,le.tc=2*fe+pe,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=ne}}}M=0}else qr(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=pY);e:{M=x.Ic,G=4*(pe=x.za);var be=32*pe,Pe=pe+1,We=0<x.L?pe*(0<x.Aa?2:1):0,He=(x.Aa==2?2:1)*pe;if((le=G+832+(ne=3*(16*M+Ey[x.L])/2*be)+(oe=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=qr(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,fe=x.Fc,x.Ac=le,x.Bc=fe,fe+=G,x.Gd=s(be,ir),x.Hd=0,x.rb=s(Pe+1,tt),x.sb=1,x.wa=We?s(We,nt):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=le,x.pc=fe,fe+=832,x.ya=s(He,Lt),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(be=Ey[x.L])*x.R,be=be/2*x.B,x.sa=le,x.ta=fe+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+be,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+be,x.$c=0,fe+=ne,x.mb=oe?le:null,x.nb=oe?fe:null,t(fe+oe<=x.Fc+x.Vb),$n(x),a(x.Ac,x.Bc,0,G),M=1}}if(M){if(N.ka=0,N.y=x.sa,N.O=x.ta,N.f=x.qa,N.N=x.ra,N.ea=x.Ha,N.Vd=x.Ia,N.fa=x.R,N.Rc=x.B,N.F=null,N.J=0,!vy){for(M=-255;255>=M;++M)Pa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)dc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)_m[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)$h[255+M]=0>M?0:255<M?255:M;vy=1}Mh=ac,fc=cu,xm=Jf,Ki=ln,ro=nc,ca=rc,Rh=gu,gy=Fo,bm=yu,ld=sd,cd=vu,Eu=sc,ud=xu,Fh=Al,fd=ic,ku=js,wm=Ca,no=Ch,Uo[0]=eo,Uo[1]=dm,Uo[2]=_l,Uo[3]=pm,Uo[4]=kh,Uo[5]=du,Uo[6]=Os,Uo[7]=ed,Uo[8]=pu,Uo[9]=hu,Nu[0]=wl,Nu[1]=hm,Nu[2]=Lo,Nu[3]=uu,Nu[4]=On,Nu[5]=Eh,Nu[6]=Zf,hc[0]=Ro,hc[1]=Th,hc[2]=Nh,hc[3]=Mo,hc[4]=tn,hc[5]=td,hc[6]=rd,M=1}else M=0}M&&(M=function(Fe,ht){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var rt,Oe=Fe.Jc[Fe.M&Fe.Xb],De=Fe.m,ut=Fe;for(rt=0;rt<ut.za;++rt){var xt=De,dt=ut,qt=dt.Ac,Ft=dt.Bc+4*rt,ar=dt.zc,Bt=dt.ya[dt.aa+rt];if(dt.Qa.Bb?Bt.$b=ae(xt,dt.Pa.jb[0])?2+ae(xt,dt.Pa.jb[2]):ae(xt,dt.Pa.jb[1]):Bt.$b=0,dt.kc&&(Bt.Ad=ae(xt,dt.Bd)),Bt.Za=!ae(xt,145)+0,Bt.Za){var Qr=Bt.Ob,cn=0;for(dt=0;4>dt;++dt){var Wr,Dr=ar[0+dt];for(Wr=0;4>Wr;++Wr){Dr=ZK[qt[Ft+Wr]][Dr];for(var wn=OP[ae(xt,Dr[0])];0<wn;)wn=OP[2*wn+ae(xt,Dr[wn])];Dr=-wn,qt[Ft+Wr]=Dr}n(Qr,cn,qt,Ft,4),cn+=4,ar[0+dt]=Dr}}else Dr=ae(xt,156)?ae(xt,128)?1:3:ae(xt,163)?2:0,Bt.Ob[0]=Dr,a(qt,Ft,Dr,4),a(ar,0,Dr,4);Bt.Dd=ae(xt,142)?ae(xt,114)?ae(xt,183)?1:3:2:0}if(ut.m.Ka)return qr(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(ut=Oe,xt=(De=Fe).rb[De.sb-1],qt=De.rb[De.sb+De.ja],rt=De.ya[De.aa+De.ja],Ft=De.kc?rt.Ad:0)xt.la=qt.la=0,rt.Za||(xt.Na=qt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var mn,_r;if(xt=qt,qt=ut,Ft=De.Pa.Xc,ar=De.ya[De.aa+De.ja],Bt=De.pb[ar.$b],dt=ar.ad,Qr=0,cn=De.rb[De.sb-1],Dr=Wr=0,a(dt,Qr,0,384),ar.Za)var ya=0,ps=Ft[3];else{wn=i(16);var xa=xt.Na+cn.Na;if(xa=Sm(qt,Ft[1],xa,Bt.Eb,0,wn,0),xt.Na=cn.Na=(0<xa)+0,1<xa)Mh(wn,0,dt,Qr);else{var ms=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)dt[Qr+wn]=ms}ya=1,ps=Ft[0]}var un=15&xt.la,Ls=15&cn.la;for(wn=0;4>wn;++wn){var Ms=1&Ls;for(ms=_r=0;4>ms;++ms)un=un>>1|(Ms=(xa=Sm(qt,ps,xa=Ms+(1&un),Bt.Sc,ya,dt,Qr))>ya)<<7,_r=_r<<2|(3<xa?3:1<xa?2:dt[Qr+0]!=0),Qr+=16;un>>=4,Ls=Ls>>1|Ms<<7,Wr=(Wr<<8|_r)>>>0}for(ps=un,ya=Ls>>4,mn=0;4>mn;mn+=2){for(_r=0,un=xt.la>>4+mn,Ls=cn.la>>4+mn,wn=0;2>wn;++wn){for(Ms=1&Ls,ms=0;2>ms;++ms)xa=Ms+(1&un),un=un>>1|(Ms=0<(xa=Sm(qt,Ft[2],xa,Bt.Qc,0,dt,Qr)))<<3,_r=_r<<2|(3<xa?3:1<xa?2:dt[Qr+0]!=0),Qr+=16;un>>=2,Ls=Ls>>1|Ms<<5}Dr|=_r<<4*mn,ps|=un<<4<<mn,ya|=(240&Ls)<<mn}xt.la=ps,cn.la=ya,ar.Hc=Wr,ar.Gc=Dr,ar.ia=43690&Dr?0:Bt.ia,Ft=!(Wr|Dr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[rt.$b][rt.Za],De.wa[De.Y+De.ja].La|=!Ft),ut.Ka)return qr(Fe,7,"Premature end-of-file encountered.")}if($n(Fe),De=ht,ut=1,rt=(Oe=Fe).D,xt=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)e:{if(rt.M=Oe.M,rt.uc=xt,El(Oe,rt),ut=1,rt=(_r=Oe.D).Nb,xt=(Dr=Ey[Oe.L])*Oe.R,qt=Dr/2*Oe.B,wn=16*rt*Oe.R,ms=8*rt*Oe.B,Ft=Oe.sa,ar=Oe.ta-xt+wn,Bt=Oe.qa,dt=Oe.ra-qt+ms,Qr=Oe.Ha,cn=Oe.Ia-qt+ms,Ls=(un=_r.M)==0,Wr=un>=Oe.Va-1,Oe.Aa==2&&El(Oe,_r),_r.uc)for(Ms=(xa=Oe).D.M,t(xa.D.uc),_r=xa.yb;_r<xa.Hb;++_r){ya=_r,ps=Ms;var Va=(ni=(ea=xa).D).Nb;mn=ea.R;var ni=ni.wa[ni.Y+ya],Yi=ea.sa,oo=ea.ta+16*Va*mn+16*ya,Nl=ni.dd,za=ni.tc;if(za!=0)if(t(3<=za),ea.L==1)0<ya&&ku(Yi,oo,mn,za+4),ni.La&&no(Yi,oo,mn,za),0<ps&&fd(Yi,oo,mn,za+4),ni.La&&wm(Yi,oo,mn,za);else{var pc=ea.B,dd=ea.qa,Bh=ea.ra+8*Va*pc+8*ya,Pu=ea.Ha,ea=ea.Ia+8*Va*pc+8*ya;Va=ni.ld,0<ya&&(gy(Yi,oo,mn,za+4,Nl,Va),ld(dd,Bh,Pu,ea,pc,za+4,Nl,Va)),ni.La&&(Eu(Yi,oo,mn,za,Nl,Va),Fh(dd,Bh,Pu,ea,pc,za,Nl,Va)),0<ps&&(Rh(Yi,oo,mn,za+4,Nl,Va),bm(dd,Bh,Pu,ea,pc,za+4,Nl,Va)),ni.La&&(cd(Yi,oo,mn,za,Nl,Va),ud(dd,Bh,Pu,ea,pc,za,Nl,Va))}}if(Oe.ia&&alert("todo:DitherRow"),De.put!=null){if(_r=16*un,un=16*(un+1),Ls?(De.y=Oe.sa,De.O=Oe.ta+wn,De.f=Oe.qa,De.N=Oe.ra+ms,De.ea=Oe.Ha,De.W=Oe.Ia+ms):(_r-=Dr,De.y=Ft,De.O=ar,De.f=Bt,De.N=dt,De.ea=Qr,De.W=cn),Wr||(un-=Dr),un>De.o&&(un=De.o),De.F=null,De.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&_r<un&&(De.J=Su(Oe,De,_r,un-_r),De.F=Oe.mb,De.F==null&&De.F.length==0)){ut=qr(Oe,3,"Could not decode alpha data.");break e}_r<De.j&&(Dr=De.j-_r,_r=De.j,t(!(1&Dr)),De.O+=Oe.R*Dr,De.N+=Oe.B*(Dr>>1),De.W+=Oe.B*(Dr>>1),De.F!=null&&(De.J+=De.width*Dr)),_r<un&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=_r-De.j,De.U=De.va-De.v,De.T=un-_r,ut=De.put(De))}rt+1!=Oe.Ic||Wr||(n(Oe.sa,Oe.ta-xt,Ft,ar+16*Oe.R,xt),n(Oe.qa,Oe.ra-qt,Bt,dt+8*Oe.B,qt),n(Oe.Ha,Oe.Ia-qt,Qr,cn+8*Oe.B,qt))}if(!ut)return qr(Fe,6,"Output aborted.")}return 1}(x,N)),N.bc!=null&&N.bc(N),M&=1}return M?(x.cb=0,M):0}function yi(x,N,M,G,ne){ne=x[N+M+32*G]+(ne>>3),x[N+M+32*G]=-256&ne?0>ne?0:255:ne}function bl(x,N,M,G,ne,oe){yi(x,N,0,M,G+ne),yi(x,N,1,M,G+oe),yi(x,N,2,M,G-oe),yi(x,N,3,M,G-ne)}function Zn(x){return(20091*x>>16)+x}function Hi(x,N,M,G){var ne,oe=0,le=i(16);for(ne=0;4>ne;++ne){var fe=x[N+0]+x[N+8],pe=x[N+0]-x[N+8],be=(35468*x[N+4]>>16)-Zn(x[N+12]),Pe=Zn(x[N+4])+(35468*x[N+12]>>16);le[oe+0]=fe+Pe,le[oe+1]=pe+be,le[oe+2]=pe-be,le[oe+3]=fe-Pe,oe+=4,N++}for(ne=oe=0;4>ne;++ne)fe=(x=le[oe+0]+4)+le[oe+8],pe=x-le[oe+8],be=(35468*le[oe+4]>>16)-Zn(le[oe+12]),yi(M,G,0,0,fe+(Pe=Zn(le[oe+4])+(35468*le[oe+12]>>16))),yi(M,G,1,0,pe+be),yi(M,G,2,0,pe-be),yi(M,G,3,0,fe-Pe),oe++,G+=32}function rc(x,N,M,G){var ne=x[N+0]+4,oe=35468*x[N+4]>>16,le=Zn(x[N+4]),fe=35468*x[N+1]>>16;bl(M,G,0,ne+le,x=Zn(x[N+1]),fe),bl(M,G,1,ne+oe,x,fe),bl(M,G,2,ne-oe,x,fe),bl(M,G,3,ne-le,x,fe)}function cu(x,N,M,G,ne){Hi(x,N,M,G),ne&&Hi(x,N+16,M,G+4)}function Jf(x,N,M,G){fc(x,N+0,M,G,1),fc(x,N+32,M,G+128,1)}function ln(x,N,M,G){var ne;for(x=x[N+0]+4,ne=0;4>ne;++ne)for(N=0;4>N;++N)yi(M,G,N,ne,x)}function nc(x,N,M,G){x[N+0]&&Ki(x,N+0,M,G),x[N+16]&&Ki(x,N+16,M,G+4),x[N+32]&&Ki(x,N+32,M,G+128),x[N+48]&&Ki(x,N+48,M,G+128+4)}function ac(x,N,M,G){var ne,oe=i(16);for(ne=0;4>ne;++ne){var le=x[N+0+ne]+x[N+12+ne],fe=x[N+4+ne]+x[N+8+ne],pe=x[N+4+ne]-x[N+8+ne],be=x[N+0+ne]-x[N+12+ne];oe[0+ne]=le+fe,oe[8+ne]=le-fe,oe[4+ne]=be+pe,oe[12+ne]=be-pe}for(ne=0;4>ne;++ne)le=(x=oe[0+4*ne]+3)+oe[3+4*ne],fe=oe[1+4*ne]+oe[2+4*ne],pe=oe[1+4*ne]-oe[2+4*ne],be=x-oe[3+4*ne],M[G+0]=le+fe>>3,M[G+16]=be+pe>>3,M[G+32]=le-fe>>3,M[G+48]=be-pe>>3,G+=64}function Do(x,N,M){var G,ne=N-32,oe=Ds,le=255-x[ne-1];for(G=0;G<M;++G){var fe,pe=oe,be=le+x[N-1];for(fe=0;fe<M;++fe)x[N+fe]=pe[be+x[ne+fe]];N+=32}}function dm(x,N){Do(x,N,4)}function Th(x,N){Do(x,N,8)}function hm(x,N){Do(x,N,16)}function Lo(x,N){var M;for(M=0;16>M;++M)n(x,N+32*M,x,N-32,16)}function uu(x,N){var M;for(M=16;0<M;--M)a(x,N,x[N-1],16),N+=32}function fu(x,N,M){var G;for(G=0;16>G;++G)a(N,M+32*G,x,16)}function wl(x,N){var M,G=16;for(M=0;16>M;++M)G+=x[N-1+32*M]+x[N+M-32];fu(G>>5,x,N)}function On(x,N){var M,G=8;for(M=0;16>M;++M)G+=x[N-1+32*M];fu(G>>4,x,N)}function Eh(x,N){var M,G=8;for(M=0;16>M;++M)G+=x[N+M-32];fu(G>>4,x,N)}function Zf(x,N){fu(128,x,N)}function fr(x,N,M){return x+2*N+M+2>>2}function _l(x,N){var M,G=N-32;for(G=new Uint8Array([fr(x[G-1],x[G+0],x[G+1]),fr(x[G+0],x[G+1],x[G+2]),fr(x[G+1],x[G+2],x[G+3]),fr(x[G+2],x[G+3],x[G+4])]),M=0;4>M;++M)n(x,N+32*M,G,0,G.length)}function pm(x,N){var M=x[N-1],G=x[N-1+32],ne=x[N-1+64],oe=x[N-1+96];he(x,N+0,16843009*fr(x[N-1-32],M,G)),he(x,N+32,16843009*fr(M,G,ne)),he(x,N+64,16843009*fr(G,ne,oe)),he(x,N+96,16843009*fr(ne,oe,oe))}function eo(x,N){var M,G=4;for(M=0;4>M;++M)G+=x[N+M-32]+x[N-1+32*M];for(G>>=3,M=0;4>M;++M)a(x,N+32*M,G,4)}function kh(x,N){var M=x[N-1+0],G=x[N-1+32],ne=x[N-1+64],oe=x[N-1-32],le=x[N+0-32],fe=x[N+1-32],pe=x[N+2-32],be=x[N+3-32];x[N+0+96]=fr(G,ne,x[N-1+96]),x[N+1+96]=x[N+0+64]=fr(M,G,ne),x[N+2+96]=x[N+1+64]=x[N+0+32]=fr(oe,M,G),x[N+3+96]=x[N+2+64]=x[N+1+32]=x[N+0+0]=fr(le,oe,M),x[N+3+64]=x[N+2+32]=x[N+1+0]=fr(fe,le,oe),x[N+3+32]=x[N+2+0]=fr(pe,fe,le),x[N+3+0]=fr(be,pe,fe)}function Os(x,N){var M=x[N+1-32],G=x[N+2-32],ne=x[N+3-32],oe=x[N+4-32],le=x[N+5-32],fe=x[N+6-32],pe=x[N+7-32];x[N+0+0]=fr(x[N+0-32],M,G),x[N+1+0]=x[N+0+32]=fr(M,G,ne),x[N+2+0]=x[N+1+32]=x[N+0+64]=fr(G,ne,oe),x[N+3+0]=x[N+2+32]=x[N+1+64]=x[N+0+96]=fr(ne,oe,le),x[N+3+32]=x[N+2+64]=x[N+1+96]=fr(oe,le,fe),x[N+3+64]=x[N+2+96]=fr(le,fe,pe),x[N+3+96]=fr(fe,pe,pe)}function du(x,N){var M=x[N-1+0],G=x[N-1+32],ne=x[N-1+64],oe=x[N-1-32],le=x[N+0-32],fe=x[N+1-32],pe=x[N+2-32],be=x[N+3-32];x[N+0+0]=x[N+1+64]=oe+le+1>>1,x[N+1+0]=x[N+2+64]=le+fe+1>>1,x[N+2+0]=x[N+3+64]=fe+pe+1>>1,x[N+3+0]=pe+be+1>>1,x[N+0+96]=fr(ne,G,M),x[N+0+64]=fr(G,M,oe),x[N+0+32]=x[N+1+96]=fr(M,oe,le),x[N+1+32]=x[N+2+96]=fr(oe,le,fe),x[N+2+32]=x[N+3+96]=fr(le,fe,pe),x[N+3+32]=fr(fe,pe,be)}function ed(x,N){var M=x[N+0-32],G=x[N+1-32],ne=x[N+2-32],oe=x[N+3-32],le=x[N+4-32],fe=x[N+5-32],pe=x[N+6-32],be=x[N+7-32];x[N+0+0]=M+G+1>>1,x[N+1+0]=x[N+0+64]=G+ne+1>>1,x[N+2+0]=x[N+1+64]=ne+oe+1>>1,x[N+3+0]=x[N+2+64]=oe+le+1>>1,x[N+0+32]=fr(M,G,ne),x[N+1+32]=x[N+0+96]=fr(G,ne,oe),x[N+2+32]=x[N+1+96]=fr(ne,oe,le),x[N+3+32]=x[N+2+96]=fr(oe,le,fe),x[N+3+64]=fr(le,fe,pe),x[N+3+96]=fr(fe,pe,be)}function hu(x,N){var M=x[N-1+0],G=x[N-1+32],ne=x[N-1+64],oe=x[N-1+96];x[N+0+0]=M+G+1>>1,x[N+2+0]=x[N+0+32]=G+ne+1>>1,x[N+2+32]=x[N+0+64]=ne+oe+1>>1,x[N+1+0]=fr(M,G,ne),x[N+3+0]=x[N+1+32]=fr(G,ne,oe),x[N+3+32]=x[N+1+64]=fr(ne,oe,oe),x[N+3+64]=x[N+2+64]=x[N+0+96]=x[N+1+96]=x[N+2+96]=x[N+3+96]=oe}function pu(x,N){var M=x[N-1+0],G=x[N-1+32],ne=x[N-1+64],oe=x[N-1+96],le=x[N-1-32],fe=x[N+0-32],pe=x[N+1-32],be=x[N+2-32];x[N+0+0]=x[N+2+32]=M+le+1>>1,x[N+0+32]=x[N+2+64]=G+M+1>>1,x[N+0+64]=x[N+2+96]=ne+G+1>>1,x[N+0+96]=oe+ne+1>>1,x[N+3+0]=fr(fe,pe,be),x[N+2+0]=fr(le,fe,pe),x[N+1+0]=x[N+3+32]=fr(M,le,fe),x[N+1+32]=x[N+3+64]=fr(G,M,le),x[N+1+64]=x[N+3+96]=fr(ne,G,M),x[N+1+96]=fr(oe,ne,G)}function Nh(x,N){var M;for(M=0;8>M;++M)n(x,N+32*M,x,N-32,8)}function Mo(x,N){var M;for(M=0;8>M;++M)a(x,N,x[N-1],8),N+=32}function Is(x,N,M){var G;for(G=0;8>G;++G)a(N,M+32*G,x,8)}function Ro(x,N){var M,G=8;for(M=0;8>M;++M)G+=x[N+M-32]+x[N-1+32*M];Is(G>>4,x,N)}function td(x,N){var M,G=4;for(M=0;8>M;++M)G+=x[N+M-32];Is(G>>3,x,N)}function tn(x,N){var M,G=4;for(M=0;8>M;++M)G+=x[N-1+32*M];Is(G>>3,x,N)}function rd(x,N){Is(128,x,N)}function mu(x,N,M){var G=x[N-M],ne=x[N+0],oe=3*(ne-G)+g_[1020+x[N-2*M]-x[N+M]],le=yy[112+(oe+4>>3)];x[N-M]=Ds[255+G+yy[112+(oe+3>>3)]],x[N+0]=Ds[255+ne-le]}function nd(x,N,M,G){var ne=x[N+0],oe=x[N+M];return io[255+x[N-2*M]-x[N-M]]>G||io[255+oe-ne]>G}function ad(x,N,M,G){return 4*io[255+x[N-M]-x[N+0]]+io[255+x[N-2*M]-x[N+M]]<=G}function id(x,N,M,G,ne){var oe=x[N-3*M],le=x[N-2*M],fe=x[N-M],pe=x[N+0],be=x[N+M],Pe=x[N+2*M],We=x[N+3*M];return 4*io[255+fe-pe]+io[255+le-be]>G?0:io[255+x[N-4*M]-oe]<=ne&&io[255+oe-le]<=ne&&io[255+le-fe]<=ne&&io[255+We-Pe]<=ne&&io[255+Pe-be]<=ne&&io[255+be-pe]<=ne}function ic(x,N,M,G){var ne=2*G+1;for(G=0;16>G;++G)ad(x,N+G,M,ne)&&mu(x,N+G,M)}function js(x,N,M,G){var ne=2*G+1;for(G=0;16>G;++G)ad(x,N+G*M,1,ne)&&mu(x,N+G*M,1)}function Ca(x,N,M,G){var ne;for(ne=3;0<ne;--ne)ic(x,N+=4*M,M,G)}function Ch(x,N,M,G){var ne;for(ne=3;0<ne;--ne)js(x,N+=4,M,G)}function Sl(x,N,M,G,ne,oe,le,fe){for(oe=2*oe+1;0<ne--;){if(id(x,N,M,oe,le))if(nd(x,N,M,fe))mu(x,N,M);else{var pe=x,be=N,Pe=M,We=pe[be-2*Pe],He=pe[be-Pe],Fe=pe[be+0],ht=pe[be+Pe],rt=pe[be+2*Pe],Oe=27*(ut=g_[1020+3*(Fe-He)+g_[1020+We-ht]])+63>>7,De=18*ut+63>>7,ut=9*ut+63>>7;pe[be-3*Pe]=Ds[255+pe[be-3*Pe]+ut],pe[be-2*Pe]=Ds[255+We+De],pe[be-Pe]=Ds[255+He+Oe],pe[be+0]=Ds[255+Fe-Oe],pe[be+Pe]=Ds[255+ht-De],pe[be+2*Pe]=Ds[255+rt-ut]}N+=G}}function ei(x,N,M,G,ne,oe,le,fe){for(oe=2*oe+1;0<ne--;){if(id(x,N,M,oe,le))if(nd(x,N,M,fe))mu(x,N,M);else{var pe=x,be=N,Pe=M,We=pe[be-Pe],He=pe[be+0],Fe=pe[be+Pe],ht=yy[112+((rt=3*(He-We))+4>>3)],rt=yy[112+(rt+3>>3)],Oe=ht+1>>1;pe[be-2*Pe]=Ds[255+pe[be-2*Pe]+Oe],pe[be-Pe]=Ds[255+We+rt],pe[be+0]=Ds[255+He-ht],pe[be+Pe]=Ds[255+Fe-Oe]}N+=G}}function gu(x,N,M,G,ne,oe){Sl(x,N,M,1,16,G,ne,oe)}function Fo(x,N,M,G,ne,oe){Sl(x,N,1,M,16,G,ne,oe)}function vu(x,N,M,G,ne,oe){var le;for(le=3;0<le;--le)ei(x,N+=4*M,M,1,16,G,ne,oe)}function sc(x,N,M,G,ne,oe){var le;for(le=3;0<le;--le)ei(x,N+=4,1,M,16,G,ne,oe)}function yu(x,N,M,G,ne,oe,le,fe){Sl(x,N,ne,1,8,oe,le,fe),Sl(M,G,ne,1,8,oe,le,fe)}function sd(x,N,M,G,ne,oe,le,fe){Sl(x,N,1,ne,8,oe,le,fe),Sl(M,G,1,ne,8,oe,le,fe)}function xu(x,N,M,G,ne,oe,le,fe){ei(x,N+4*ne,ne,1,8,oe,le,fe),ei(M,G+4*ne,ne,1,8,oe,le,fe)}function Al(x,N,M,G,ne,oe,le,fe){ei(x,N+4,1,ne,8,oe,le,fe),ei(M,G+4,1,ne,8,oe,le,fe)}function oc(){this.ba=new Je,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wu(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new k}function Ph(){this.xb=this.a=0,this.l=new sn,this.ca=new Je,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wu,this.ab=0,this.gc=s(4,lc),this.Oc=0}function $o(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tl(x,N,M,G,ne,oe,le){for(x=x==null?0:x[N+0],N=0;N<le;++N)ne[oe+N]=x+M[G+N]&255,x=ne[oe+N]}function _u(x,N,M,G,ne,oe,le){var fe;if(x==null)Tl(null,null,M,G,ne,oe,le);else for(fe=0;fe<le;++fe)ne[oe+fe]=x[N+fe]+M[G+fe]&255}function xi(x,N,M,G,ne,oe,le){if(x==null)Tl(null,null,M,G,ne,oe,le);else{var fe,pe=x[N+0],be=pe,Pe=pe;for(fe=0;fe<le;++fe)be=Pe+(pe=x[N+fe])-be,Pe=M[G+fe]+(-256&be?0>be?0:255:be)&255,be=pe,ne[oe+fe]=Pe}}function Su(x,N,M,G){var ne=N.width,oe=N.o;if(t(x!=null&&N!=null),0>M||0>=G||M+G>oe)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new $o,(le=x.ga==null)||(le=N.width*N.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var fe=x.Fa,pe=x.P,be=x.qc,Pe=x.mb,We=x.nb,He=pe+1,Fe=be-1,ht=le.l;if(t(fe!=null&&Pe!=null&&N!=null),Cu[0]=null,Cu[1]=Tl,Cu[2]=_u,Cu[3]=xi,le.ca=Pe,le.tb=We,le.c=N.width,le.i=N.height,t(0<le.c&&0<le.i),1>=be)N=0;else if(le.$a=fe[pe+0]>>0&3,le.Z=fe[pe+0]>>2&3,le.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)N=0;else if(ht.put=an,ht.ac=Er,ht.bc=Za,ht.ma=le,ht.width=N.width,ht.height=N.height,ht.Da=N.Da,ht.v=N.v,ht.va=N.va,ht.j=N.j,ht.o=N.o,le.$a)e:{t(le.$a==1),N=Xe();t:for(;;){if(N==null){N=0;break e}if(t(le!=null),le.mc=N,N.c=le.c,N.i=le.i,N.l=le.l,N.l.ma=le,N.l.width=le.c,N.l.height=le.i,N.a=0,H(N.m,fe,He,Fe),!ze(le.c,le.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&me(N.s)?(le.ic=1,fe=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(fe),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(le.ic=0,N=qe(N,le.c)),!N))break t;N=1;break e}le.mc=null,N=0}else N=Fe>=le.c*le.i;le=!N}if(le)return null;x.ga.Lc!=1?x.Ga=0:G=oe-M}t(x.ga!=null),t(M+G<=oe);e:{if(N=(fe=x.ga).c,oe=fe.l.o,fe.$a==0){if(He=x.rc,Fe=x.Vc,ht=x.Fa,pe=x.P+1+M*N,be=x.mb,Pe=x.nb+M*N,t(pe<=x.P+x.qc),fe.Z!=0)for(t(Cu[fe.Z]!=null),le=0;le<G;++le)Cu[fe.Z](He,Fe,ht,pe,be,Pe,N),He=be,Fe=Pe,Pe+=N,pe+=N;else for(le=0;le<G;++le)n(be,Pe,ht,pe,N),He=be,Fe=Pe,Pe+=N,pe+=N;x.rc=He,x.Vc=Fe}else{if(t(fe.mc!=null),N=M+G,t((le=fe.mc)!=null),t(N<=le.i),le.C>=N)N=1;else if(fe.ic||Re(),fe.ic){fe=le.V,He=le.Ba,Fe=le.c;var rt=le.i,Oe=(ht=1,pe=le.$/Fe,be=le.$%Fe,Pe=le.m,We=le.s,le.$),De=Fe*rt,ut=Fe*N,xt=We.wc,dt=Oe<ut?xn(We,be,pe):null;t(Oe<=De),t(N<=rt),t(me(We));t:for(;;){for(;!Pe.h&&Oe<ut;){if(be&xt||(dt=xn(We,be,pe)),t(dt!=null),Z(Pe),256>(rt=Fn(dt.G[0],dt.H[0],Pe)))fe[He+Oe]=rt,++Oe,++be>=Fe&&(be=0,++pe<=N&&!(pe%16)&&_e(le,pe));else{if(!(280>rt)){ht=0;break t}rt=Ua(rt-256,Pe);var qt,Ft=Fn(dt.G[4],dt.H[4],Pe);if(Z(Pe),!(Oe>=(Ft=Qn(Fe,Ft=Ua(Ft,Pe)))&&De-Oe>=rt)){ht=0;break t}for(qt=0;qt<rt;++qt)fe[He+Oe+qt]=fe[He+Oe+qt-Ft];for(Oe+=rt,be+=rt;be>=Fe;)be-=Fe,++pe<=N&&!(pe%16)&&_e(le,pe);Oe<ut&&be&xt&&(dt=xn(We,be,pe))}t(Pe.h==q(Pe))}_e(le,pe>N?N:pe);break t}!ht||Pe.h&&Oe<De?(ht=0,le.a=Pe.h?5:3):le.$=Oe,N=ht}else N=Ae(le,le.V,le.Ba,le.c,le.i,N,Ge);if(!N){G=0;break e}}M+G>=oe&&(x.Cc=1),G=1}if(!G)return null;if(x.Cc&&((G=x.ga)!=null&&(G.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ne}function L(x,N,M,G,ne,oe){for(;0<ne--;){var le,fe=x,pe=N+(M?1:0),be=x,Pe=N+(M?0:3);for(le=0;le<G;++le){var We=be[Pe+4*le];We!=255&&(We*=32897,fe[pe+4*le+0]=fe[pe+4*le+0]*We>>23,fe[pe+4*le+1]=fe[pe+4*le+1]*We>>23,fe[pe+4*le+2]=fe[pe+4*le+2]*We>>23)}N+=oe}}function re(x,N,M,G,ne){for(;0<G--;){var oe;for(oe=0;oe<M;++oe){var le=x[N+2*oe+0],fe=15&(be=x[N+2*oe+1]),pe=4369*fe,be=(240&be|be>>4)*pe>>16;x[N+2*oe+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,x[N+2*oe+1]=240&be|fe}N+=ne}}function Te(x,N,M,G,ne,oe,le,fe){var pe,be,Pe=255;for(be=0;be<ne;++be){for(pe=0;pe<G;++pe){var We=x[N+pe];oe[le+4*pe]=We,Pe&=We}N+=M,le+=fe}return Pe!=255}function Ce(x,N,M,G,ne){var oe;for(oe=0;oe<ne;++oe)M[G+oe]=x[N+oe]>>8}function Re(){ao=L,Tn=re,En=Te,ua=Ce}function at(x,N,M){S[x]=function(G,ne,oe,le,fe,pe,be,Pe,We,He,Fe,ht,rt,Oe,De,ut,xt){var dt,qt=xt-1>>1,Ft=fe[pe+0]|be[Pe+0]<<16,ar=We[He+0]|Fe[ht+0]<<16;t(G!=null);var Bt=3*Ft+ar+131074>>2;for(N(G[ne+0],255&Bt,Bt>>16,rt,Oe),oe!=null&&(Bt=3*ar+Ft+131074>>2,N(oe[le+0],255&Bt,Bt>>16,De,ut)),dt=1;dt<=qt;++dt){var Qr=fe[pe+dt]|be[Pe+dt]<<16,cn=We[He+dt]|Fe[ht+dt]<<16,Wr=Ft+Qr+ar+cn+524296,Dr=Wr+2*(Qr+ar)>>3;Bt=Dr+Ft>>1,Ft=(Wr=Wr+2*(Ft+cn)>>3)+Qr>>1,N(G[ne+2*dt-1],255&Bt,Bt>>16,rt,Oe+(2*dt-1)*M),N(G[ne+2*dt-0],255&Ft,Ft>>16,rt,Oe+(2*dt-0)*M),oe!=null&&(Bt=Wr+ar>>1,Ft=Dr+cn>>1,N(oe[le+2*dt-1],255&Bt,Bt>>16,De,ut+(2*dt-1)*M),N(oe[le+2*dt+0],255&Ft,Ft>>16,De,ut+(2*dt+0)*M)),Ft=Qr,ar=cn}1&xt||(Bt=3*Ft+ar+131074>>2,N(G[ne+xt-1],255&Bt,Bt>>16,rt,Oe+(xt-1)*M),oe!=null&&(Bt=3*ar+Ft+131074>>2,N(oe[le+xt-1],255&Bt,Bt>>16,De,ut+(xt-1)*M)))}}function wt(){so[xy]=nY,so[by]=jP,so[NP]=aY,so[wy]=DP,so[_y]=LP,so[v_]=MP,so[CP]=iY,so[y_]=jP,so[x_]=DP,so[Sy]=LP,so[b_]=MP}function $t(x){return x&~sY?0>x?0:255:x>>RP}function _(x,N){return $t((19077*x>>8)+(26149*N>>8)-14234)}function R(x,N,M){return $t((19077*x>>8)-(6419*N>>8)-(13320*M>>8)+8708)}function Q(x,N){return $t((19077*x>>8)+(33050*N>>8)-17685)}function ue(x,N,M,G,ne){G[ne+0]=_(x,M),G[ne+1]=R(x,N,M),G[ne+2]=Q(x,N)}function Me(x,N,M,G,ne){G[ne+0]=Q(x,N),G[ne+1]=R(x,N,M),G[ne+2]=_(x,M)}function Ke(x,N,M,G,ne){var oe=R(x,N,M);N=oe<<3&224|Q(x,N)>>3,G[ne+0]=248&_(x,M)|oe>>5,G[ne+1]=N}function At(x,N,M,G,ne){var oe=240&Q(x,N)|15;G[ne+0]=240&_(x,M)|R(x,N,M)>>4,G[ne+1]=oe}function yr(x,N,M,G,ne){G[ne+0]=255,ue(x,N,M,G,ne+1)}function jr(x,N,M,G,ne){Me(x,N,M,G,ne),G[ne+3]=255}function xr(x,N,M,G,ne){ue(x,N,M,G,ne),G[ne+3]=255}function rn(x,N){return 0>x?0:x>N?N:x}function bn(x,N,M){S[x]=function(G,ne,oe,le,fe,pe,be,Pe,We){for(var He=Pe+(-2&We)*M;Pe!=He;)N(G[ne+0],oe[le+0],fe[pe+0],be,Pe),N(G[ne+1],oe[le+0],fe[pe+0],be,Pe+M),ne+=2,++le,++pe,Pe+=2*M;1&We&&N(G[ne+0],oe[le+0],fe[pe+0],be,Pe)}}function Bo(x,N,M){return M==0?x==0?N==0?6:5:N==0?4:0:M}function ti(x,N,M,G,ne){switch(x>>>30){case 3:fc(N,M,G,ne,0);break;case 2:ca(N,M,G,ne);break;case 1:Ki(N,M,G,ne)}}function El(x,N){var M,G,ne=N.M,oe=N.Nb,le=x.oc,fe=x.pc+40,pe=x.oc,be=x.pc+584,Pe=x.oc,We=x.pc+600;for(M=0;16>M;++M)le[fe+32*M-1]=129;for(M=0;8>M;++M)pe[be+32*M-1]=129,Pe[We+32*M-1]=129;for(0<ne?le[fe-1-32]=pe[be-1-32]=Pe[We-1-32]=129:(a(le,fe-32-1,127,21),a(pe,be-32-1,127,9),a(Pe,We-32-1,127,9)),G=0;G<x.za;++G){var He=N.ya[N.aa+G];if(0<G){for(M=-1;16>M;++M)n(le,fe+32*M-4,le,fe+32*M+12,4);for(M=-1;8>M;++M)n(pe,be+32*M-4,pe,be+32*M+4,4),n(Pe,We+32*M-4,Pe,We+32*M+4,4)}var Fe=x.Gd,ht=x.Hd+G,rt=He.ad,Oe=He.Hc;if(0<ne&&(n(le,fe-32,Fe[ht].y,0,16),n(pe,be-32,Fe[ht].f,0,8),n(Pe,We-32,Fe[ht].ea,0,8)),He.Za){var De=le,ut=fe-32+16;for(0<ne&&(G>=x.za-1?a(De,ut,Fe[ht].y[15],4):n(De,ut,Fe[ht+1].y,0,4)),M=0;4>M;M++)De[ut+128+M]=De[ut+256+M]=De[ut+384+M]=De[ut+0+M];for(M=0;16>M;++M,Oe<<=2)De=le,ut=fe+$P[M],Uo[He.Ob[M]](De,ut),ti(Oe,rt,16*+M,De,ut)}else if(De=Bo(G,ne,He.Ob[0]),Nu[De](le,fe),Oe!=0)for(M=0;16>M;++M,Oe<<=2)ti(Oe,rt,16*+M,le,fe+$P[M]);for(M=He.Gc,De=Bo(G,ne,He.Dd),hc[De](pe,be),hc[De](Pe,We),Oe=rt,De=pe,ut=be,255&(He=M>>0)&&(170&He?xm(Oe,256,De,ut):ro(Oe,256,De,ut)),He=Pe,Oe=We,255&(M>>=8)&&(170&M?xm(rt,320,He,Oe):ro(rt,320,He,Oe)),ne<x.Ub-1&&(n(Fe[ht].y,0,le,fe+480,16),n(Fe[ht].f,0,pe,be+224,8),n(Fe[ht].ea,0,Pe,We+224,8)),M=8*oe*x.B,Fe=x.sa,ht=x.ta+16*G+16*oe*x.R,rt=x.qa,He=x.ra+8*G+M,Oe=x.Ha,De=x.Ia+8*G+M,M=0;16>M;++M)n(Fe,ht+M*x.R,le,fe+32*M,16);for(M=0;8>M;++M)n(rt,He+M*x.B,pe,be+32*M,8),n(Oe,De+M*x.B,Pe,We+32*M,8)}}function kl(x,N,M,G,ne,oe,le,fe,pe){var be=[0],Pe=[0],We=0,He=pe!=null?pe.kd:0,Fe=pe??new bu;if(x==null||12>M)return 7;Fe.data=x,Fe.w=N,Fe.ha=M,N=[N],M=[M],Fe.gb=[Fe.gb];e:{var ht=N,rt=M,Oe=Fe.gb;if(t(x!=null),t(rt!=null),t(Oe!=null),Oe[0]=0,12<=rt[0]&&!r(x,ht[0],"RIFF")){if(r(x,ht[0]+8,"WEBP")){Oe=3;break e}var De=Ee(x,ht[0]+4);if(12>De||4294967286<De){Oe=3;break e}if(He&&De>rt[0]-8){Oe=7;break e}Oe[0]=De,ht[0]+=12,rt[0]-=12}Oe=0}if(Oe!=0)return Oe;for(De=0<Fe.gb[0],M=M[0];;){e:{var ut=x;rt=N,Oe=M;var xt=be,dt=Pe,qt=ht=[0];if((Bt=We=[We])[0]=0,8>Oe[0])Oe=7;else{if(!r(ut,rt[0],"VP8X")){if(Ee(ut,rt[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var Ft=Ee(ut,rt[0]+8),ar=1+B(ut,rt[0]+12);if(2147483648<=ar*(ut=1+B(ut,rt[0]+15))){Oe=3;break e}qt!=null&&(qt[0]=Ft),xt!=null&&(xt[0]=ar),dt!=null&&(dt[0]=ut),rt[0]+=18,Oe[0]-=18,Bt[0]=1}Oe=0}}if(We=We[0],ht=ht[0],Oe!=0)return Oe;if(rt=!!(2&ht),!De&&We)return 3;if(oe!=null&&(oe[0]=!!(16&ht)),le!=null&&(le[0]=rt),fe!=null&&(fe[0]=0),le=be[0],ht=Pe[0],We&&rt&&pe==null){Oe=0;break}if(4>M){Oe=7;break}if(De&&We||!De&&!We&&!r(x,N[0],"ALPH")){M=[M],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Ft=x,Oe=N,De=M;var Bt=Fe.gb;xt=Fe.na,dt=Fe.P,qt=Fe.Sa,ar=22,t(Ft!=null),t(De!=null),ut=Oe[0];var Qr=De[0];for(t(xt!=null),t(qt!=null),xt[0]=null,dt[0]=null,qt[0]=0;;){if(Oe[0]=ut,De[0]=Qr,8>Qr){Oe=7;break e}var cn=Ee(Ft,ut+4);if(4294967286<cn){Oe=3;break e}var Wr=8+cn+1&-2;if(ar+=Wr,0<Bt&&ar>Bt){Oe=3;break e}if(!r(Ft,ut,"VP8 ")||!r(Ft,ut,"VP8L")){Oe=0;break e}if(Qr[0]<Wr){Oe=7;break e}r(Ft,ut,"ALPH")||(xt[0]=Ft,dt[0]=ut+8,qt[0]=cn),ut+=Wr,Qr-=Wr}}if(M=M[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Oe!=0)break}M=[M],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Bt=x,Oe=N,De=M,xt=Fe.gb[0],dt=Fe.Ja,qt=Fe.xa,Ft=Oe[0],ut=!r(Bt,Ft,"VP8 "),ar=!r(Bt,Ft,"VP8L"),t(Bt!=null),t(De!=null),t(dt!=null),t(qt!=null),8>De[0])Oe=7;else{if(ut||ar){if(Bt=Ee(Bt,Ft+4),12<=xt&&Bt>xt-12){Oe=3;break e}if(He&&Bt>De[0]-8){Oe=7;break e}dt[0]=Bt,Oe[0]+=8,De[0]-=8,qt[0]=ar}else qt[0]=5<=De[0]&&Bt[Ft+0]==47&&!(Bt[Ft+4]>>5),dt[0]=De[0];Oe=0}if(M=M[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],N=N[0],Oe!=0)break;if(4294967286<Fe.Ja)return 3;if(fe==null||rt||(fe[0]=Fe.xa?2:1),le=[le],ht=[ht],Fe.xa){if(5>M){Oe=7;break}fe=le,He=ht,rt=oe,x==null||5>M?x=0:5<=M&&x[N+0]==47&&!(x[N+4]>>5)?(De=[0],Bt=[0],xt=[0],H(dt=new P,x,N,M),zt(dt,De,Bt,xt)?(fe!=null&&(fe[0]=De[0]),He!=null&&(He[0]=Bt[0]),rt!=null&&(rt[0]=xt[0]),x=1):x=0):x=0}else{if(10>M){Oe=7;break}fe=ht,x==null||10>M||!Xr(x,N+3,M-3)?x=0:(He=x[N+0]|x[N+1]<<8|x[N+2]<<16,rt=16383&(x[N+7]<<8|x[N+6]),x=16383&(x[N+9]<<8|x[N+8]),1&He||3<(He>>1&7)||!(He>>4&1)||He>>5>=Fe.Ja||!rt||!x?x=0:(le&&(le[0]=rt),fe&&(fe[0]=x),x=1))}if(!x||(le=le[0],ht=ht[0],We&&(be[0]!=le||Pe[0]!=ht)))return 3;pe!=null&&(pe[0]=Fe,pe.offset=N-pe.w,t(4294967286>N-pe.w),t(pe.offset==pe.ha-M));break}return Oe==0||Oe==7&&We&&pe==null?(oe!=null&&(oe[0]|=Fe.na!=null&&0<Fe.na.length),G!=null&&(G[0]=le),ne!=null&&(ne[0]=ht),0):Oe}function mm(x,N,M){var G=N.width,ne=N.height,oe=0,le=0,fe=G,pe=ne;if(N.Da=x!=null&&0<x.Da,N.Da&&(fe=x.cd,pe=x.bd,oe=x.v,le=x.j,11>M||(oe&=-2,le&=-2),0>oe||0>le||0>=fe||0>=pe||oe+fe>G||le+pe>ne))return 0;if(N.v=oe,N.j=le,N.va=oe+fe,N.o=le+pe,N.U=fe,N.T=pe,N.da=x!=null&&0<x.da,N.da){if(!Ne(fe,pe,M=[x.ib],oe=[x.hb]))return 0;N.ib=M[0],N.hb=oe[0]}return N.ob=x!=null&&x.ob,N.Kb=x==null||!x.Sd,N.da&&(N.ob=N.ib<3*G/4&&N.hb<3*ne/4,N.Kb=0),1}function gm(x){if(x==null)return 2;if(11>x.S){var N=x.f.RGBA;N.fb+=(x.height-1)*N.A,N.A=-N.A}else N=x.f.kb,x=x.height,N.O+=(x-1)*N.fa,N.fa=-N.fa,N.N+=(x-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(x-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(x-1)*N.lb,N.lb=-N.lb);return 0}function Oh(x,N,M,G){if(G==null||0>=x||0>=N)return 2;if(M!=null){if(M.Da){var ne=M.cd,oe=M.bd,le=-2&M.v,fe=-2&M.j;if(0>le||0>fe||0>=ne||0>=oe||le+ne>x||fe+oe>N)return 2;x=ne,N=oe}if(M.da){if(!Ne(x,N,ne=[M.ib],oe=[M.hb]))return 2;x=ne[0],N=oe[0]}}G.width=x,G.height=N;e:{var pe=G.width,be=G.height;if(x=G.S,0>=pe||0>=be||!(x>=xy&&13>x))x=2;else{if(0>=G.Rd&&G.sd==null){le=oe=ne=N=0;var Pe=(fe=pe*BP[x])*be;if(11>x||(oe=(be+1)/2*(N=(pe+1)/2),x==12&&(le=(ne=pe)*be)),(be=i(Pe+2*oe+le))==null){x=1;break e}G.sd=be,11>x?((pe=G.f.RGBA).eb=be,pe.fb=0,pe.A=fe,pe.size=Pe):((pe=G.f.kb).y=be,pe.O=0,pe.fa=fe,pe.Fd=Pe,pe.f=be,pe.N=0+Pe,pe.Ab=N,pe.Cd=oe,pe.ea=be,pe.W=0+Pe+oe,pe.Db=N,pe.Ed=oe,x==12&&(pe.F=be,pe.J=0+Pe+2*oe),pe.Tc=le,pe.lb=ne)}if(N=1,ne=G.S,oe=G.width,le=G.height,ne>=xy&&13>ne)if(11>ne)x=G.f.RGBA,N&=(fe=Math.abs(x.A))*(le-1)+oe<=x.size,N&=fe>=oe*BP[ne],N&=x.eb!=null;else{x=G.f.kb,fe=(oe+1)/2,Pe=(le+1)/2,pe=Math.abs(x.fa),be=Math.abs(x.Ab);var We=Math.abs(x.Db),He=Math.abs(x.lb),Fe=He*(le-1)+oe;N&=pe*(le-1)+oe<=x.Fd,N&=be*(Pe-1)+fe<=x.Cd,N=(N&=We*(Pe-1)+fe<=x.Ed)&pe>=oe&be>=fe&We>=fe,N&=x.y!=null,N&=x.f!=null,N&=x.ea!=null,ne==12&&(N&=He>=oe,N&=Fe<=x.Tc,N&=x.F!=null)}else N=0;x=N?0:2}}return x!=0||M!=null&&M.fd&&(x=gm(G)),x}var ri=64,Ih=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jh=24,Dh=32,vm=8,ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,N,M){return N[M+0]},S.Predictor3=function(x,N,M){return N[M+1]},S.Predictor4=function(x,N,M){return N[M-1]},S.Predictor5=function(x,N,M){return Ye(Ye(x,N[M+1]),N[M+0])},S.Predictor6=function(x,N,M){return Ye(x,N[M-1])},S.Predictor7=function(x,N,M){return Ye(x,N[M+0])},S.Predictor8=function(x,N,M){return Ye(N[M-1],N[M+0])},S.Predictor9=function(x,N,M){return Ye(N[M+0],N[M+1])},S.Predictor10=function(x,N,M){return Ye(Ye(x,N[M-1]),Ye(N[M+0],N[M+1]))},S.Predictor11=function(x,N,M){var G=N[M+0];return 0>=pt(G>>24&255,x>>24&255,(N=N[M-1])>>24&255)+pt(G>>16&255,x>>16&255,N>>16&255)+pt(G>>8&255,x>>8&255,N>>8&255)+pt(255&G,255&x,255&N)?G:x},S.Predictor12=function(x,N,M){var G=N[M+0];return(je((x>>24&255)+(G>>24&255)-((N=N[M-1])>>24&255))<<24|je((x>>16&255)+(G>>16&255)-(N>>16&255))<<16|je((x>>8&255)+(G>>8&255)-(N>>8&255))<<8|je((255&x)+(255&G)-(255&N)))>>>0},S.Predictor13=function(x,N,M){var G=N[M-1];return(Qe((x=Ye(x,N[M+0]))>>24&255,G>>24&255)<<24|Qe(x>>16&255,G>>16&255)<<16|Qe(x>>8&255,G>>8&255)<<8|Qe(x>>0&255,G>>0&255))>>>0};var m_=S.PredictorAdd0;S.PredictorAdd1=ot,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var ym=S.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var hy,to=S.ColorIndexInverseTransform,Lh=S.MapARGB,py=S.VP8LColorIndexInverseTransformAlpha,my=S.MapAlpha,Au=S.VP8LPredictorsAdd=[];Au.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var od,hs,Gi,Tu,cc,uc,Mh,fc,ca,xm,Ki,ro,Rh,gy,bm,ld,cd,Eu,ud,Fh,fd,ku,wm,no,ao,Tn,En,ua,Pa=i(511),dc=i(2041),_m=i(225),$h=i(767),vy=0,g_=dc,yy=_m,Ds=$h,io=Pa,xy=0,by=1,NP=2,wy=3,_y=4,v_=5,CP=6,y_=7,x_=8,Sy=9,b_=10,zK=[2,3,7],qK=[3,3,11],PP=[280,256,256,256,40],WK=[0,1,1,1,0],HK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],GK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],KK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],YK=8,w_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],__=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sm=null,XK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],JK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ZK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Nu=[],Uo=[],hc=[],rY=1,IP=2,Cu=[],so=[];at("UpsampleRgbLinePair",ue,3),at("UpsampleBgrLinePair",Me,3),at("UpsampleRgbaLinePair",xr,4),at("UpsampleBgraLinePair",jr,4),at("UpsampleArgbLinePair",yr,4),at("UpsampleRgba4444LinePair",At,2),at("UpsampleRgb565LinePair",Ke,2);var nY=S.UpsampleRgbLinePair,aY=S.UpsampleBgrLinePair,jP=S.UpsampleRgbaLinePair,DP=S.UpsampleBgraLinePair,LP=S.UpsampleArgbLinePair,MP=S.UpsampleRgba4444LinePair,iY=S.UpsampleRgb565LinePair,Ay=16,Ty=1<<Ay-1,Am=-227,S_=482,RP=6,sY=(256<<RP)-1,FP=0,oY=i(256),lY=i(256),cY=i(256),uY=i(256),fY=i(S_-Am),dY=i(S_-Am);bn("YuvToRgbRow",ue,3),bn("YuvToBgrRow",Me,3),bn("YuvToRgbaRow",xr,4),bn("YuvToBgraRow",jr,4),bn("YuvToArgbRow",yr,4),bn("YuvToRgba4444Row",At,2),bn("YuvToRgb565Row",Ke,2);var $P=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ey=[0,2,8],hY=[8,7,6,4,4,2,2,2,1,1,1,1],pY=1;this.WebPDecodeRGBA=function(x,N,M,G,ne){var oe=by,le=new oc,fe=new Je;le.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,be=fe.height,Pe=new lt;if(Pe==null||x==null)var We=2;else t(Pe!=null),We=kl(x,N,M,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(We!=0?pe=0:(pe!=null&&(pe[0]=Pe.width[0]),be!=null&&(be[0]=Pe.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],G!=null&&(G[0]=fe.width),ne!=null&&(ne[0]=fe.height);e:{if(G=new sn,(ne=new bu).data=x,ne.w=N,ne.ha=M,ne.kd=1,N=[0],t(ne!=null),((x=kl(ne.data,ne.w,ne.ha,null,null,null,N,null,ne))==0||x==7)&&N[0]&&(x=4),(N=x)==0){if(t(le!=null),G.data=ne.data,G.w=ne.w+ne.offset,G.ha=ne.ha-ne.offset,G.put=an,G.ac=Er,G.bc=Za,G.ma=le,ne.xa){if((x=Xe())==null){le=1;break e}if(function(He,Fe){var ht=[0],rt=[0],Oe=[0];t:for(;;){if(He==null)return 0;if(Fe==null)return He.a=2,0;if(He.l=Fe,He.a=0,H(He.m,Fe.data,Fe.w,Fe.ha),!zt(He.m,ht,rt,Oe)){He.a=3;break t}if(He.xb=IP,Fe.width=ht[0],Fe.height=rt[0],!ze(ht[0],rt[0],1,He,null))break t;return 1}return t(He.a!=0),0}(x,G)){if(G=(N=Oh(G.width,G.height,le.Oa,le.ba))==0){t:{G=x;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((M=G.l)!=null),t((ne=M.ma)!=null),G.xb!=0){if(G.ca=ne.ba,G.tb=ne.tb,t(G.ca!=null),!mm(ne.Oa,M,wy)){G.a=2;break r}if(!qe(G,M.width)||M.da)break r;if((M.da||Ut(G.ca.S))&&Re(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Re()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!ve(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Ae(G,G.V,G.Ba,G.c,G.i,M.o,we))break r;ne.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(N=x.a)}else N=x.a}else{if((x=new on)==null){le=1;break e}if(x.Fa=ne.na,x.P=ne.P,x.qc=ne.Sa,Jn(x,G)){if((N=Oh(G.width,G.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((ne=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(be=Pe=0;4>be;++be)12>(We=ne.pb[be]).lc&&(We.ia=pe*hY[0>We.lc?0:We.lc]>>3),Pe|=We.ia;Pe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=M.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}jo(x,G)||(N=x.a)}}else N=x.a}N==0&&le.Oa!=null&&le.Oa.fd&&(N=gm(le.ba))}le=N}oe=le!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var BP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,A){for(var j="",E=0;E<4;E++)j+=String.fromCharCode(S[A++]);return j}function u(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16)>>>0}function f(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16|S[A+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(S,A){var j={},E=0,k=!1,D=0,V=0;if(j.frames=[],!function(F,q,K,Z){for(var ce=0;ce<Z;ce++)if(F[q+ce]!=K.charCodeAt(ce))return!0;return!1}(S,A,"RIFF",4)){for(f(S,A+=4),A+=8;A<S.length;){var X=c(S,A),Y=f(S,A+=4);A+=4;var J=Y+(1&Y);switch(X){case"VP8 ":case"VP8L":j.frames[E]===void 0&&(j.frames[E]={}),(ee=j.frames[E]).src_off=k?V:A-8,ee.src_size=D+Y+8,E++,k&&(k=!1,D=0,V=0);break;case"VP8X":(ee=j.header={}).feature_flags=S[A];var H=A+4;ee.canvas_width=1+u(S,H),H+=3,ee.canvas_height=1+u(S,H),H+=3;break;case"ALPH":k=!0,D=J+8,V=A-8;break;case"ANIM":(ee=j.header).bgcolor=f(S,A),H=A+4,ee.loop_count=(W=S)[(P=H)+0]<<0|W[P+1]<<8,H+=2;break;case"ANMF":var z,ee;(ee=j.frames[E]={}).offset_x=2*u(S,A),A+=3,ee.offset_y=2*u(S,A),A+=3,ee.width=1+u(S,A),A+=3,ee.height=1+u(S,A),A+=3,ee.duration=u(S,A),A+=3,z=S[A++],ee.dispose=1&z,ee.blend=z>>1&1}X!="ANMF"&&(A+=J)}var W,P;return j}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var O=0;O<w.length&&w[O].blend!=0;O++);}var C=w[0],I=m.WebPDecodeRGBA(v,C.src_off,C.src_size,p,h);C.rgba=I,C.imgwidth=p[0],C.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=I[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof u3=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var b=u3(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,m){for(var v,y,b,w=h.length/p,O=new Uint8Array(h.length+w),C=u(),I=0;I<w;I+=1){if(b=I*p,v=h.subarray(b,b+p),m)O.set(m(v,g,y),b+I);else{for(var T,S=C.length,A=[];T<S;T+=1)A[T]=C[T](v,g,y);var j=f(A.concat());O.set(A[j],b+I)}y=v}return O},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,v[b+1]=h[b]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],b=h.length;y[0]=3;for(var w=0;w<b;w+=1)m=h[w-p]||0,v=g&&g[w]||0,y[w+1]=h[w]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,b,w=[],O=h.length;w[0]=4;for(var C=0;C<O;C+=1)m=h[C-p]||0,v=g&&g[C]||0,y=g&&g[C-p]||0,b=c(m,v,y),w[C+1]=h[C]-b+256&255;return w},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,b,w,O,C,I,T,S,A,j,E,k,D,V,X=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new m9e(h)).imgData,y=b.bits,v=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){S=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,j=new Uint8Array(S*b.colors),A=new Uint8Array(S);var J,H=b.pixelBitlength-b.bits;for(D=0,V=0;D<S;D++){for(k=T[D],J=0;J<H;)j[V++]=k>>>J&255,J+=b.bits;A[D]=k>>>J&255}}if(b.bits===16){S=(T=new Uint32Array(b.decodePixels().buffer)).length,j=new Uint8Array(S*(32/b.pixelBitlength)*b.colors),A=new Uint8Array(S*(32/b.pixelBitlength)),E=b.colors>1,D=0,V=0;for(var z=0;D<S;)k=T[D++],j[V++]=k>>>0&255,E&&(j[V++]=k>>>16&255,k=T[D++],j[V++]=k>>>0&255),A[z++]=k>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(j,b.width*b.colors,b.colors,m),I=r(A,b.width,1,m)):(h=j,I=A,X=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,C=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,W=0;for(D=0,S=ee.length;D<S;++D)W+=ee[D];if((W/=255)===S-1&&ee.indexOf(0)!==-1)w=[ee.indexOf(0)];else if(W!==S){for(T=b.decodePixels(),A=new Uint8Array(T.length),D=0,S=T.length;D<S;D++)A[D]=ee[T[D]];I=r(A,b.width,1)}}var P=function(F){var q;switch(F){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(m);return X===this.decode.FLATE_DECODE&&(Y="/Predictor "+P+" "),Y+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:g,data:h,index:p,filter:X,decodeParameters:Y,transparency:w,palette:C,sMask:I,predictor:P,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(or.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new g9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new NA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(or.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){_n.log("bit decode error:"+r)}},Ko.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ko.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Ko.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Ko.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Ko.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ko(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new NA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(or.API),S7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new S7(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new NA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(or.API),or.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},or.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jh=or.API,$x=Jh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Jr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},x7=Jh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Jh.processArabic&&(e=Jh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:$x.apply(this,arguments).reduce(function(i,s){return i+s},0)},b7=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},w7=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=$x.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(C,I){return(I&&C.length?`
`:"")+C})):b.push(O[0])}),m=b,l=x7.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(g=(a=$x.apply(this,[n,r])).reduce(function(O,C){return O+C},0))>t||w){if(g>t){for(o=b7.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,C){return O+C},0)}else u=[n];f.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(O,C){return(C?y:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},Jh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(w7.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Jr(h)!=="object")throw new Error("Don't know what to do with value type "+Jr(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,b=v,w=[],O="",C="",I=f.length-1,T=1;T<I;T+=1)(m=f[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(O+=r[m],g=parseInt(O,16)*y,y=1,O=""):O+=m:r.hasOwnProperty(m)?(C+=r[m],b[g]=parseInt(C,16)*y,y=1,g=void 0,C=""):C+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(or.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Qg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(or),function(e){function t(){return(lr.canvg?Promise.resolve(lr.canvg):i3(()=>import("./index.es-B-wXink0.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}or.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),or.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},or.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Jr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(or.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+a0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+a0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+a0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+a0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+a0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,v="",y=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var O="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?O=h(v,m).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(O=r(v,g[m])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(or),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(or.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var O=function(E){var k=E.charCodeAt(),D=k>>8,V=m[D];return V!==void 0?f[256*V+(255&k)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},C=function(E){for(var k,D=0;D<E.length;D++){if((k=O(E.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},I=function(E,k,D,V){var X,Y,J,H,z=k[V];switch(z){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(z="AN");break;case"AL":b=!0,z="R";break;case"WS":z="N";break;case"CS":V<1||V+1>=k.length||(X=D[V-1])!=="EN"&&X!=="AN"||(Y=k[V+1])!=="EN"&&Y!=="AN"?z="N":b&&(Y="AN"),z=Y===X?Y:"N";break;case"ES":z=(X=V>0?D[V-1]:"B")==="EN"&&V+1<k.length&&k[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&D[V-1]==="EN"){z="EN";break}if(b){z="N";break}for(J=V+1,H=k.length;J<H&&k[J]==="ET";)J++;z=J<H&&k[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(H=k.length,J=V+1;J<H&&k[J]==="NSM";)J++;if(J<H){var ee=E[V],W=ee>=1425&&ee<=2303||ee===64286;if(X=k[J],W&&(X==="R"||X==="AL")){z="R";break}}}z=V<1||(X=k[V-1])==="B"?"N":D[V-1];break;case"B":b=!1,a=!0,z=w;break;case"S":i=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":z="N"}return z},T=function(E,k,D){var V=E.split("");return D&&S(V,D,{hiLevel:w}),V.reverse(),k&&k.reverse(),V.join("")},S=function(E,k,D){var V,X,Y,J,H,z=-1,ee=E.length,W=0,P=[],F=w?p:h,q=[];for(b=!1,a=!1,i=!1,X=0;X<ee;X++)q[X]=O(E[X]);for(Y=0;Y<ee;Y++){if(H=W,P[Y]=I(E,q,P,Y),V=240&(W=F[H][g[P[Y]]]),W&=15,k[Y]=J=F[W][5],V>0)if(V===16){for(X=z;X<Y;X++)k[X]=1;z=-1}else z=-1;if(F[W][6])z===-1&&(z=Y);else if(z>-1){for(X=z;X<Y;X++)k[X]=J;z=-1}q[Y]==="B"&&(k[Y]=0),D.hiLevel|=J}i&&function(K,Z,ce){for(var de=0;de<ce;de++)if(K[de]==="S"){Z[de]=w;for(var ae=de-1;ae>=0&&K[ae]==="WS";ae--)Z[ae]=w}}(q,k,ee)},A=function(E,k,D,V,X){if(!(X.hiLevel<E)){if(E===1&&w===1&&!a)return k.reverse(),void(D&&D.reverse());for(var Y,J,H,z,ee=k.length,W=0;W<ee;){if(V[W]>=E){for(H=W+1;H<ee&&V[H]>=E;)H++;for(z=W,J=H-1;z<J;z++,J--)Y=k[z],k[z]=k[J],k[J]=Y,D&&(Y=D[z],D[z]=D[J],D[J]=Y);W=H}W++}}},j=function(E,k,D){var V=E.split(""),X={hiLevel:w};return D||(D=[]),S(V,D,X),function(Y,J,H){if(H.hiLevel!==0&&u)for(var z,ee=0;ee<Y.length;ee++)J[ee]===1&&(z=v.indexOf(Y[ee]))>=0&&(Y[ee]=v[z+1])}(V,D,X),A(2,V,k,D,X),A(1,V,k,D,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,k,D){if(function(X,Y){if(Y)for(var J=0;J<X.length;J++)Y[J]=J;o===void 0&&(o=C(X)),c===void 0&&(c=C(X))}(E,k),s||!l||c)if(s&&l&&o^c)w=o?1:0,E=T(E,k,D);else if(!s&&l&&c)w=o?1:0,E=j(E,k,D),E=T(E,k);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,k),o?(w=0,E=j(E,k,D)):(w=1,E=j(E,k,D),E=T(E,k));else if(s&&o&&!l&&c)w=1,E=j(E,k,D),E=T(E,k);else if(!s&&!l&&o^c){var V=u;o?(w=1,E=j(E,k,D),w=0,u=!1,E=j(E,k,D),u=V):(w=0,E=j(E,k,D),E=T(E,k),w=1,u=!1,E=j(E,k,D),u=V,E=T(E,k))}}else w=0,E=j(E,k,D);else w=o?1:0,E=j(E,k,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(or),or.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $f(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new O9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new v9e(this.contents),this.head=new x9e(this),this.name=new A9e(this),this.cmap=new EK(this),this.toUnicode={},this.hhea=new b9e(this),this.maxp=new T9e(this),this.hmtx=new E9e(this),this.post=new _9e(this),this.os2=new w9e(this),this.loca=new P9e(this),this.glyf=new k9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var xl,$f=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),v9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new $f).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=kK.call(r);r.length%4;)r.push(0);for(i=new $f(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),y9e={}.hasOwnProperty,tc=function(e,t){for(var r in t)y9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};xl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var x9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new $f).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),A7=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),t.pos+=2,m=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),c=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),u=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,C;for(C=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)C.push(t.readUInt16());return C}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w,O,C,I,T,S,A,j,E,k,D,V,X,Y,J,H,z,ee,W,P,F,q,K,Z,ce,de,ae,he,Se,B;switch(V=new $f,s=Object.keys(t).sort(function(Ee,ve){return Ee-ve}),r){case"macroman":for(m=0,v=function(){var Ee=[];for(g=0;g<256;++g)Ee.push(0);return Ee}(),b={0:0},i={},X=0,z=s.length;X<z;X++)b[ae=t[a=s[X]]]==null&&(b[ae]=++m),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:i,subtable:V.data,maxGlyphID:m+1};case"unicode":for(k=[],f=[],w=0,b={},n={},y=c=null,Y=0,ee=s.length;Y<ee;Y++)b[C=t[a=s[Y]]]==null&&(b[C]=++w),n[a]={old:C,new:b[C]},o=b[C]-a,y!=null&&o===c||(y&&f.push(y),k.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),k.push(65535),j=2*(A=k.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*A-S,l=[],I=[],p=[],g=J=0,W=k.length;J<W;g=++J){if(E=k[g],u=f[g],E===65535){l.push(0),I.push(0);break}if(E-(D=n[E].new)>=32768)for(l.push(0),I.push(2*(p.length+A-g)),a=H=E;E<=u?H<=u:H>=u;a=E<=u?++H:--H)p.push(n[a].new);else l.push(D-E),I.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*A+2*p.length),V.writeUInt16(0),V.writeUInt16(j),V.writeUInt16(S),V.writeUInt16(h),V.writeUInt16(T),ce=0,P=f.length;ce<P;ce++)a=f[ce],V.writeUInt16(a);for(V.writeUInt16(0),de=0,F=k.length;de<F;de++)a=k[de],V.writeUInt16(a);for(he=0,q=l.length;he<q;he++)o=l[he],V.writeUInt16(o);for(Se=0,K=I.length;Se<K;Se++)O=I[Se],V.writeUInt16(O);for(B=0,Z=p.length;B<Z;B++)m=p[B],V.writeUInt16(m);return{charMap:n,subtable:V.data,maxGlyphID:w+1}}},e}(),EK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new A7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=A7.encode(r,n),(i=new $f).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),b9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),w9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),_9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),S9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},A9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new S9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),T9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),E9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),kK=[].slice,k9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new $f(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new C9e(l,u,h,c,f):new N9e(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),N9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),C9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $f(kK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),P9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return tc(t,xl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),O9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y;for(a in n=EK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(b){var w,O;for(w in O={},b)O[b[w]]=w;return O}(p),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,O;for(O=[],b=0,w=f.length;b<w;b++)o=f[b],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();or.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function NK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var T7={},H0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:T7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return T7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),v3=function(e,t){return v3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},v3(e,t)};function CK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");v3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var PK=function(e){CK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function I9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function j9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Nw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function OK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=IK(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function IK(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function p_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function jK(e,t){var r=p_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function D9e(e,t,r,n,a){var i={},s=1.3333333333333333,o=CA(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=CA(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=M9e(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=CA(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=L9e(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function L9e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function CA(e,t){var r=DK(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function DK(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:DK(e.parentElement,t):r}function M9e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=p_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function LK(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=R9e(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function R9e(e,t,r,n,a,i){for(var s=new PK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=D9e(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:F9e(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function F9e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function $9e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function kc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function MK(e,t){var r=new H0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();$9e(a,n,t);var i=kc({},a,n,t),s;typeof window<"u"&&(s=window);var o=B9e(a,n,t),l=U9e(a,n,t),c=V9e(r,i),u=q9e(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function B9e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=kc({},c,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=kc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function U9e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function V9e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g=p_(t.margin,40/e.scaleFactor()),m=(r=z9e(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),O=!!t.horizontalPageBreak,C=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function z9e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function q9e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=LK(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||W9e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function W9e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var y3=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),H9e=function(e){CK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(y3),G9e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new H9e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new y3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new y3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),RK=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof PK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),FK=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=p_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),K9e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function Y9e(e,t){X9e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=x3(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=x3(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),J9e(t),Z9e(t,e),Q9e(t)}function X9e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=jK(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Nw(c.text,c.styles,e)+f;var h=Nw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function x3(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=x3(h,t,r))}return t}function Q9e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function J9e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function Z9e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=E7(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=E7(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function E7(e,t,r,n,a){return e.map(function(i){return eBe(i,t,r,n,a)})}function eBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Nw(e,r,n))return e;for(;t<Nw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function $K(e,t){var r=new H0(e),n=tBe(t,r.scaleFactor()),a=new G9e(t,n);return Y9e(r,a),r.applyStyles(r.userStyles),a}function tBe(e,t){var r=e.content,n=nBe(r.columns);if(r.head.length===0){var a=k7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=k7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:PA("head",r.head,n,s,i,t),body:PA("body",r.body,n,s,i,t),foot:PA("foot",r.foot,n,s,i,t)}}function PA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var w=aBe(e,v,c,a,n,i,b),O=new FK(y,w,e);f[v.dataKey]=O,f[v.index]=O,p=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new RK(l,c,e,f)});return o}function k7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=rBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function rBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function nBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new K9e(a,t,r)})}function aBe(e,t,r,n,a,i,s){var o=j9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=kc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?kc({},o.alternateRow,a.alternateRowStyles):{},p=I9e(i),g=kc({},p,c,h,f);return kc(g,s)}function iBe(e,t,r){var n;r===void 0&&(r={});var a=jK(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function sBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=iBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function BK(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new H0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(VK(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=kc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?oBe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Zc(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Cw(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Zc(u,t,h,i,t.columns)})),OK(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function oBe(e,t,r,n){var a=sBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Jg(e,t,r,n,c.columns,!0):N7(e,t,n,c.columns),lBe(e,t,r,n,c.columns),OA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Jg(e,t,r,n,u,!0):N7(e,t,n,u),c=C7(e,t,s+1,n,u),OA(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Jg(e,t,r,n,h.columns,!0),C7(e,t,s+1,n,h.columns,f),OA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function N7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Zc(e,t,i,r,n)})}function lBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Cw(e,t,i,o,r,n,a)})}function C7(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=UK(e,t,u,n);l.canEntireRowFit(f,a)&&(Zc(e,t,l,n,a),o=r+c)}),o}function OA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Zc(e,t,i,r,n)})}function cBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function uBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new FK(c.raw,c.styles,c.section);u=kc(u,c),u.text=[];var f=cBe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new RK(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function fBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Cw(e,t,r,n,a,i,s){var o=UK(e,t,n,i);if(r.canEntireRowFit(o,s))Zc(e,t,r,i,s);else if(fBe(e,r,o,t)){var l=uBe(r,o,t,e);Zc(e,t,r,i,s),Jg(e,t,a,i,s),Cw(e,t,l,n,a,i,s)}else Jg(e,t,a,i,s),Cw(e,t,r,n,a,i,s)}function Zc(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}dBe(e,l,n);var u=l.getTextPos();NK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function dBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=IK(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),hBe(e,t,r,n.lineWidth))}function hBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function UK(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Jg(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Zc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;OK(e,t,r,n),VK(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Zc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function VK(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function pBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=MK(this,n),i=$K(this,a);return BK(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){NK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return H0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){H0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new H0(this),i=LK(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var IA;function mBe(e,t){var r=MK(e,t),n=$K(e,r);BK(e,n)}try{if(typeof window<"u"&&window){var P7=window,O7=P7.jsPDF||((IA=P7.jspdf)===null||IA===void 0?void 0:IA.jsPDF);O7&&pBe(O7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const gBe=()=>{const[e,t]=U.useState([]),[r,n]=U.useState(!0),[a,i]=U.useState(new Date),[s,o]=U.useState(new Date),[l,c]=U.useState("all"),[u,f]=U.useState("all"),[h,p]=U.useState(""),[g,m]=U.useState([]),{showToast:v}=au(),{isDarkMode:y}=en(),{user:b}=Na(),w=async()=>{try{const E=(await nr(kt(et,"users"))).docs.map(k=>({id:k.id,...k.data()}));m(E)}catch(j){console.error("Error fetching users:",j),v("Failed to fetch users","error")}},O=async()=>{n(!0);try{let j=er(kt(et,"activityLogs"),La("time","desc"));a&&s?j=er(kt(et,"activityLogs"),Jt("time",">=",fb(a).toISOString()),Jt("time","<=",$v(s).toISOString()),La("time","desc")):a?j=er(kt(et,"activityLogs"),Jt("time",">=",fb(a).toISOString()),La("time","desc")):s&&(j=er(kt(et,"activityLogs"),Jt("time","<=",$v(s).toISOString()),La("time","desc")));let k=(await nr(j)).docs.map(D=>({id:D.id,user:D.data().user,role:D.data().role,detail:D.data().detail,time:D.data().time}));if(b&&b.role==="staff"&&(k=k.filter(D=>D.role!=="admin")),l!=="all"&&(k=k.filter(D=>D.user===l)),u!=="all"&&(k=k.filter(D=>{const V=D.detail.toLowerCase();return u==="inbound"?V.includes("added new product")||V.includes("edited product")||V.includes("quantity from")||V.includes("quantity to"):u==="outbound"?V.includes("units deducted from stock")||V.includes("deducted from stock"):!0})),h.trim()){const D=h.toLowerCase();k=k.filter(V=>{const X=V.detail.toLowerCase(),Y=V.user.toLowerCase(),J=V.role.toLowerCase(),H=X.match(/"([^"]+)"/),z=H?H[1].toLowerCase():"";return X.includes(D)||Y.includes(D)||J.includes(D)||z.includes(D)})}t(k)}catch(j){console.error("Error fetching activity logs:",j),v("Failed to fetch activity logs","error")}finally{n(!1)}};U.useEffect(()=>{w()},[]),U.useEffect(()=>{O()},[a,s,l,u,h,b]);const C=()=>{let j=g;return b&&b.role==="staff"&&(j=g.filter(E=>E.role!=="admin")),[{value:"all",label:"All Users"},...j.map(E=>({value:E.name,label:E.name}))]},I=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],T=()=>{i(null),o(null)},S=()=>{try{const E=[["User","Role","Activity","Time"].join(","),...e.map(X=>[X.user,X.role,`"${X.detail.replace(/"/g,'""')}"`,Qt(new Date(X.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),k=new Blob([E],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),V=URL.createObjectURL(k);D.setAttribute("href",V),D.setAttribute("download",`activity_logs_${Qt(new Date,"yyyy-MM-dd")}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch(j){console.error("Error exporting to CSV:",j),v("Failed to export to CSV","error")}},A=()=>{var j,E;try{const k=new or;k.setFontSize(16),k.text("Activity Logs Report",14,15),k.setFontSize(10);const D=a&&s?`${Qt(a,"MMM d, yyyy")} - ${Qt(s,"MMM d, yyyy")}`:a?`From ${Qt(a,"MMM d, yyyy")}`:s?`To ${Qt(s,"MMM d, yyyy")}`:"All Time";k.text(`Date Range: ${D}`,14,25),k.text(`User Filter: ${(j=C().find(V=>V.value===l))==null?void 0:j.label}`,14,30),k.text(`Activity Filter: ${(E=I.find(V=>V.value===u))==null?void 0:E.label}`,14,35),mBe(k,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,Qt(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),k.save(`activity_logs_${Qt(new Date,"yyyy-MM-dd")}.pdf`)}catch(k){console.error("Error exporting to PDF:",k),v("Failed to export to PDF","error")}};return d.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:d.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),d.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:d.jsx(Nt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:j=>p(j.target.value),className:"w-full sm:w-96",icon:d.jsx(Uc,{size:16})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[d.jsx(Vr,{value:l,onChange:j=>c(j.target.value),options:C(),className:"w-full sm:w-40"}),d.jsx(Vr,{value:u,onChange:j=>f(j.target.value),options:I,className:"w-full sm:w-40"}),d.jsx(vC,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:T,className:"w-full sm:w-80"}),d.jsx(ct,{variant:"secondary",onClick:O,className:"flex items-center gap-2 w-full sm:w-auto",children:d.jsx(ji,{size:16})})]})]}),r?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:d.jsx(YU,{children:e.map(j=>d.jsxs(Wn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.user}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.role}),d.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.detail}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Qt(new Date(j.time),"MMM d, yyyy h:mm:ss a")})]},j.id))})})]})}),d.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(j=>d.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:j.user}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:j.role})]}),d.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[d.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),d.jsx("span",{className:"text-sm",children:j.detail})]}),d.jsx("div",{className:"text-xs mt-1",children:d.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",d.jsx("span",{className:"font-medium",children:Qt(new Date(j.time),"MMM d, yyyy h:mm:ss a")})]})})]},j.id))})]}):d.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},vBe=()=>{const[e,t]=U.useState("daily"),[r,n]=U.useState(Sr(new Date,7)),[a,i]=U.useState(new Date),[s,o]=U.useState([]),[l,c]=U.useState([]),[u,f]=U.useState([]),[h,p]=U.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=U.useState(!0),{isDarkMode:v}=en(),{user:y}=Na(),b=U.useCallback(async()=>{m(!0);try{const A=a||new Date,j=r||Sr(A,7),E=er(kt(et,"orders"),Jt("createdAt",">=",tr.fromDate(j)),Jt("createdAt","<=",tr.fromDate(A))),D=(await nr(E)).docs.map(je=>{var Qe,pt,ot;return{id:je.id,...je.data(),createdAt:(Qe=je.data().createdAt)==null?void 0:Qe.toDate(),updatedAt:(pt=je.data().updatedAt)==null?void 0:pt.toDate(),shippedTime:(ot=je.data().shippedTime)==null?void 0:ot.toDate()}}),V=er(kt(et,"inventory")),Y=(await nr(V)).docs.map(je=>({id:je.id,...je.data(),lastUpdated:je.data().lastUpdated instanceof tr?je.data().lastUpdated.toDate():new Date(je.data().lastUpdated)})),J=er(kt(et,"activityLogs"),Jt("time",">=",j.toISOString()),Jt("time","<=",A.toISOString()),La("time","desc")),z=(await nr(J)).docs.map(je=>({id:je.id,...je.data()}));f(z),o(Y),c(D);const ee=Y.reduce((je,Qe)=>je+(Qe.quantity||0),0),W=Y.reduce((je,Qe)=>je+(Qe.quantity||0)*(Qe.price||0),0),P=D.length,F=Sr(new Date,1),q=new Date,K=D.filter(je=>{const Qe=je.createdAt;return Qe>=F&&Qe<=q}),Z=K.length,ce=K.reduce((je,Qe)=>je+(Qe.totalAmount||0),0),de=a||new Date,ae=r||Sr(de,7),Se=z.filter(je=>{const Qe=new Date(je.time);return Qe>=ae&&Qe<=de}).filter(je=>{const Qe=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Qe){const[,jt]=Qe;return Y.some(bt=>bt.name===jt)}const pt=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(pt){const[,jt]=pt;return Y.some(bt=>bt.name===jt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(jt=>jt.test(je.detail)),!0}),B=de.getTime()-ae.getTime(),Ee=new Date(ae.getTime()-B),ve=new Date(ae.getTime()),te=z.filter(je=>{const Qe=new Date(je.time);return Qe>=Ee&&Qe<=ve}).filter(je=>{const Qe=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Qe){const[,jt]=Qe;return Y.some(bt=>bt.name===jt)}const pt=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(pt){const[,jt]=pt;return Y.some(bt=>bt.name===jt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(jt=>jt.test(je.detail)),!0}),Ne=Se.reduce((je,Qe)=>{const pt=Qe.detail.match(/(\d+) units deducted/);return je+(pt?parseInt(pt[1]):0)},0),Be=te.reduce((je,Qe)=>{const pt=Qe.detail.match(/(\d+) units deducted/);return je+(pt?parseInt(pt[1]):0)},0),Ue=Se.reduce((je,Qe)=>{const pt=Qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(pt){const[,St,jt]=pt;if(Y.find(Tt=>Tt.name===St))return je+parseInt(jt)}const ot=Qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,St,jt,bt]=ot;if(Y.find(it=>it.name===St)){const it=parseInt(bt)-parseInt(jt);if(it>0)return je+it}}return je},0),Ze=Se.reduce((je,Qe)=>{const pt=Qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(pt){const[,St,jt]=pt,bt=Y.find(Tt=>Tt.name===St);if(bt){const Tt=bt.price||0;return je+parseInt(jt)*Tt}}const ot=Qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,St,jt,bt]=ot,Tt=Y.find(it=>it.name===St);if(Tt){const it=parseInt(bt)-parseInt(jt);if(it>0){const Yt=Tt.price||0;return je+it*Yt}}}return je},0),Ye=Se.reduce((je,Qe)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(St=>St.test(Qe.detail))){let St=0;const jt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,bt=Qe.detail.match(jt);if(bt)St=parseInt(bt[1]);else{const Tt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const it of Tt){const Yt=Qe.detail.match(it);if(Yt){if(Yt.length===3){const Pt=parseInt(Yt[1]),Ir=parseInt(Yt[2]);St=Math.abs(Pt-Ir)}else St=parseInt(Yt[1]);break}}}return{incidents:je.incidents+1,units:je.units+(St>0?St:1)}}return je},{incidents:0,units:0}).incidents;p({totalOrders:P,totalStock:ee,totalInventoryValue:W,totalDamagedProducts:Ye,yesterdayOrders:Z,yesterdayStockChange:0,yesterdayRevenue:ce,totalDeductions:Ne,previousDeductions:Be,todayStockAdditions:Ue,todayInventoryValueAdditions:Ze})}catch(A){console.error("Error fetching data:",A)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(U.useEffect(()=>{b()},[b]),U.useEffect(()=>{},[e]),!y||y.role!=="admin")return d.jsx(k4,{to:"/",replace:!0});const O=()=>{const A=[],j=new Map,E=new Date;let k;switch(e){case"daily":k=Sr(E,7);break;case"weekly":k=Sr(E,30);break;case"monthly":k=Sr(E,90);break;default:k=Sr(E,7)}return u.filter(X=>{const Y=new Date(X.time);return Y>=k&&Y<=E}).filter(X=>{const Y=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Y){const[,H]=Y;return s.some(z=>z.name===H)}const J=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,H]=J;return s.some(z=>z.name===H)}return!0}).forEach(X=>{let Y=0,J=!1,H="";const z=X.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(z){const[,W,P]=z;s.find(q=>q.name===W)&&(Y=parseInt(P),H=W,J=!0)}const ee=X.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,W,P,F]=ee;if(s.find(K=>K.name===W)){const K=parseInt(F)-parseInt(P);K>0&&(Y=K,H=W,J=!0)}}if(J){const W=new Date(X.time);let P;switch(e){case"daily":P=Qt(W,"MMM dd");break;case"weekly":P=Qt(W,"'Week' w");break;case"monthly":P=Qt(W,"MMM yyyy");break}const F=j.get(P)||{activities:0,units:0,uniqueProducts:new Set};F.uniqueProducts.add(H),j.set(P,{activities:F.activities+1,units:F.units+Y,uniqueProducts:F.uniqueProducts})}}),j.forEach((X,Y)=>{A.push({date:Y,activities:X.activities,units:X.units,uniqueProducts:X.uniqueProducts.size})}),A.sort((X,Y)=>{const J=new Date(X.date),H=new Date(Y.date);return J.getTime()-H.getTime()})},C=()=>{const A=[],j=new Map,E=new Date;let k;switch(e){case"daily":k=Sr(E,7);break;case"weekly":k=Sr(E,30);break;case"monthly":k=Sr(E,90);break;default:k=Sr(E,7)}return u.filter(X=>{const Y=new Date(X.time);return Y>=k&&Y<=E}).filter(X=>(X.detail.match(/(\d+) units deducted from stock/),!0)).forEach(X=>{const Y=X.detail.match(/(\d+) units deducted from stock/);if(Y){const J=new Date(X.time);let H;switch(e){case"daily":H=Qt(J,"MMM dd");break;case"weekly":H=Qt(J,"'Week' w");break;case"monthly":H=Qt(J,"MMM yyyy");break}const z=j.get(H)||0;j.set(H,z+parseInt(Y[1]))}}),j.forEach((X,Y)=>{A.push({date:Y,products:X})}),A.sort((X,Y)=>{const J=new Date(X.date),H=new Date(Y.date);return J.getTime()-H.getTime()})},I=()=>{const A=[],j=new Map,E=[],k=a||new Date,D=r||Sr(k,7);u.filter(J=>{const H=new Date(J.time);return H>=D&&H<=k}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(z=>z.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(J.detail))){const ee=new Date(J.time);let W;switch(e){case"daily":W=Qt(ee,"MMM dd");break;case"weekly":W=Qt(ee,"'Week' w");break;case"monthly":W=Qt(ee,"MMM yyyy");break}let P=0;const F=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,q=J.detail.match(F);if(q)P=parseInt(q[1]);else{const de=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ae of de){const he=J.detail.match(ae);if(he){if(he.length===3){const Se=parseInt(he[1]),B=parseInt(he[2]);P=Math.abs(Se-B)}else P=parseInt(he[1]);break}}}let K="Unknown Product";const Z=J.detail.match(/"([^"]+)"/);Z&&(K=Z[1]),E.push({date:W,time:Qt(ee,"HH:mm"),user:J.user,productName:K,units:P>0?P:1,detail:J.detail}),j.has(W)||j.set(W,{incidents:0,units:0,productNames:new Set});const ce=j.get(W);ce.incidents+=1,ce.units+=P>0?P:1,ce.productNames.add(K)}}),j.forEach((J,H)=>{A.push({date:H,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const Y=A.sort((J,H)=>new Date(J.date).getTime()-new Date(H.date).getTime());return Y.detailedIncidents=E.sort((J,H)=>{const z=new Date(J.date+" "+J.time);return new Date(H.date+" "+H.time).getTime()-z.getTime()}),Y},T=()=>{try{const A=Qt(new Date,"yyyy-MM-dd-HH-mm"),j=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(ee=>[ee.name,ee.quantity,ee.price,`${ee.locationCode}-${ee.shelfNumber}`,ee.status,ee.damagedItems]),k=O(),D=C(),V=I(),X=Math.max(k.length,D.length,V.length,E.length),Y=[];Y.push(`Warehouse Analytics Report - ${j} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${Qt(new Date,"yyyy-MM-dd HH:mm:ss")}`),Y.push(""),Y.push("SUMMARY STATISTICS"),Y.push(`Total Stock Added (${j}),${h.todayStockAdditions},Total Units Deducted (${j}),${h.totalDeductions},Total Damaged Products (${j}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),Y.push(""),Y.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),Y.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ee=0;ee<X;ee++){const W=[];if(ee<k.length){const P=k[ee];W.push(P.date,P.activities,P.units,P.uniqueProducts)}else W.push("","","","");if(ee<D.length){const P=D[ee];W.push(P.date,P.products)}else W.push("","");if(ee<V.length){const P=V[ee];W.push(P.date,P.products,P.units)}else W.push("","","");if(ee<E.length){const P=E[ee];W.push(...P)}else W.push("","","","","","");Y.push(W.join(","))}Y.push(""),Y.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),Y.push("Date,Time,User,Product Name,Units Damaged,Details"),V.detailedIncidents&&V.detailedIncidents.length>0?V.detailedIncidents.forEach(ee=>{Y.push(`${ee.date},${ee.time},${ee.user},${ee.productName},${ee.units},"${ee.detail.replace(/"/g,'""')}"`)}):Y.push("No detailed incidents available,,,,,");const J=Y.join(`
`),H=new Blob([J],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a");z.href=URL.createObjectURL(H),z.download=`warehouse-report-${j}-${A}.csv`,z.click(),URL.revokeObjectURL(z.href)}catch(A){console.error("Error exporting CSV:",A),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const A=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",j=O(),E=C(),k=I(),D=k.detailedIncidents||[];console.log("Damaged Data:",k),console.log("Detailed Incidents:",D),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!D||D.length===0)&&console.log("No detailed incidents found, generating on the fly...");const V=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${A}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${A}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${Qt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${j.length}</p>
                <p><strong>Total Activities:</strong> ${j.reduce((Y,J)=>Y+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${j.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${j.reduce((Y,J)=>Y+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${j.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.activities}</td>
                      <td>${Y.units}</td>
                      <td>${Y.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${j.length>15?`<tr><td colspan="4"><em>... and ${j.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((Y,J)=>Y+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${k.length}</p>
                <p><strong>Total Incidents:</strong> ${k.reduce((Y,J)=>Y+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${k.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${D.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                      <td>${Y.units}</td>
                      <td>${Y.productNames?Y.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${k.length>15?`<tr><td colspan="4"><em>... and ${k.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.length>0?D.slice(0,50).map(Y=>`
                    <tr>
                      <td>${Y.date} ${Y.time}</td>
                      <td>${Y.user}</td>
                      <td>${Y.productName}</td>
                      <td>${Y.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${Y.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${D.length>50?`<tr><td colspan="5"><em>... and ${D.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(Y=>Y.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(Y=>Y.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((Y,J)=>Y+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(Y=>`
                    <tr>
                      <td>${Y.name}</td>
                      <td>${Y.quantity}</td>
                      <td>${Y.price&&!isNaN(Y.price)?`£${Y.price.toFixed(2)}`:"Not set"}</td>
                      <td>${Y.locationCode}-${Y.shelfNumber}</td>
                      <td>${Y.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,X=window.open("","_blank");X?(X.document.write(V),X.document.close(),X.focus(),setTimeout(()=>{X.print()},500)):alert("Please allow pop-ups to export PDF")}catch(A){console.error("Error exporting PDF:",A),alert("Failed to export PDF. Please try again.")}};return d.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[d.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),d.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[d.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),d.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(Vr,{value:e,onChange:A=>t(A.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(vC,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),d.jsx(ct,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:d.jsx(ji,{size:16,className:g?"animate-spin":""})})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?d.jsxs(d.Fragment,{children:[d.jsx(tf,{}),d.jsx(tf,{}),d.jsx(tf,{}),d.jsx(tf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(oi,{title:`Total Stock Added (${r&&a?`${Qt(r,"MMM d")} - ${Qt(a,"MMM d, yyyy")}`:r?`From ${Qt(r,"MMM d, yyyy")}`:a?`To ${Qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:d.jsx(tp,{size:24,className:"text-blue-600"})}),d.jsx(oi,{title:`Total Units Deducted (${r&&a?`${Qt(r,"MMM d")} - ${Qt(a,"MMM d, yyyy")}`:r?`From ${Qt(r,"MMM d, yyyy")}`:a?`To ${Qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:d.jsx(i9,{size:24,className:"text-blue-600"})}),d.jsx(oi,{title:`Total Damaged Products (${r&&a?`${Qt(r,"MMM d")} - ${Qt(a,"MMM d, yyyy")}`:r?`From ${Qt(r,"MMM d, yyyy")}`:a?`To ${Qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-blue-600"})}),d.jsx(oi,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(z2,{size:24,className:"text-blue-600"})})]})}),g?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(qg,{width:"100%",height:"100%",children:d.jsxs(Xg,{data:O(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Af,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Tf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(xs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,j)=>j==="Inbound Activities"?[`${A} activities`,j]:j==="Units Added"?[`${A} units`,j]:j==="Affected Products"?[`${A} products`,j]:[A,j],labelFormatter:A=>`Date: ${A}`}),d.jsx(hl,{}),d.jsx(ui,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(qg,{width:"100%",height:"100%",children:d.jsxs(Xg,{data:C(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Af,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Tf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(xs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),d.jsx(hl,{}),d.jsx(ui,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(qg,{width:"100%",height:"100%",children:d.jsxs(Xg,{data:I(),children:[d.jsx(U0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Af,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Tf,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(xs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,j)=>j==="Damaged Incidents"?[`${A} incidents`,j]:j==="Units Damaged"?[`${A} units`,j]:[A,j],labelFormatter:A=>`Date: ${A}`}),d.jsx(hl,{}),d.jsx(ui,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),d.jsx(ui,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},yBe=()=>{const{user:e,setUser:t}=Na(),{showToast:r}=au(),{isDarkMode:n,toggleDarkMode:a}=en(),[i,s]=U.useState(!1),[o,l]=U.useState({}),[c,u]=U.useState([]),[f,h]=U.useState(null),[p,g]=U.useState(!1),[m,v]=U.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=U.useState({}),[w,O]=U.useState({}),[C,I]=U.useState(!1),[T,S]=U.useState(null),[A,j]=U.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,k]=U.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),D=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const ce=(await nr(kt(et,"users"))).docs.map(de=>({id:de.id,...de.data()}));u(ce),console.log("Fetched users:",ce.map(de=>({id:de.id,username:de.username,name:de.name})))}catch(Z){console.error("Error fetching users:",Z),r("Error fetching users","error")}finally{s(!1)}}};U.useEffect(()=>{D()},[e==null?void 0:e.role,r]);const V=Z=>Z.split(" ").map(ce=>ce[0]).join("").toUpperCase().slice(0,2),X=Z=>{const{name:ce,value:de}=Z.target;j(ae=>({...ae,[ce]:de})),o[ce]&&l(ae=>{const he={...ae};return delete he[ce],he})},Y=()=>{const Z={};return A.username.trim()||(Z.username="Username is required"),A.email.trim()&&!/\S+@\S+\.\S+/.test(A.email)&&(Z.email="Invalid email format"),A.name.trim()||(Z.name="Name is required"),(A.currentPassword||A.newPassword||A.confirmPassword)&&(A.currentPassword?A.currentPassword!==(e==null?void 0:e.password)&&(Z.currentPassword="Current password is incorrect"):Z.currentPassword="Current password is required",A.newPassword?A.newPassword.length<6&&(Z.newPassword="Password must be at least 6 characters"):Z.newPassword="New password is required",A.newPassword!==A.confirmPassword&&(Z.confirmPassword="Passwords do not match")),l(Z),Object.keys(Z).length===0},J=async Z=>{if(Z.preventDefault(),!!e&&Y()){s(!0);try{const ce={username:A.username,email:A.email,name:A.name,password:A.currentPassword!=""&&A.confirmPassword!=""&&A.newPassword!=""?A.newPassword:e.password},de=[];e.username!==A.username&&de.push(`changed username from "${e.username}" to "${A.username}"`),e.email!==A.email&&de.push(`changed email from "${e.email}" to "${A.email}"`),e.name!==A.name&&de.push(`changed full name from "${e.name}" to "${A.name}"`),A.currentPassword&&A.newPassword&&de.push("changed their password");const ae=Pr(et,"users",e.id);await na(ae,ce),de.length>0&&await kr(kt(et,"activityLogs"),{user:e.name,role:e.role,detail:de.length===1?de[0]:`made multiple profile changes: ${de.join("; ")}`,time:new Date().toISOString()}),t({...e,username:A.username,email:A.email,name:A.name,password:A.newPassword||e.password}),j(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(ce){console.error("Error updating profile:",ce),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},H=Z=>{console.log("Editing user:",Z),h(Z),O({}),k({username:Z.username,email:Z.email,name:Z.name,newPassword:"",confirmPassword:""})},z=Z=>{const{name:ce,value:de}=Z.target;k(ae=>({...ae,[ce]:de})),w[ce]&&O(ae=>{const he={...ae};return delete he[ce],he})},ee=async()=>{if(f)try{if(s(!0),O({}),!E.username.trim()){O({username:"Username is required"});return}if(!E.name.trim()){O({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const Z=Pr(et,"users",f.id);console.log("User reference:",Z.path);const ce={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(ce.password=E.newPassword),console.log("Attempting to update document with data:",ce);try{await na(Z,ce),console.log("User updated successfully in Firestore")}catch(de){console.error("Failed to update by ID, trying to find by username:",de);const ae=er(kt(et,"users"),Jt("username","==",f.username)),he=await nr(ae);if(he.empty)throw new Error("User not found by username either");{const Se=he.docs[0];console.log("Found user by username, actual ID:",Se.id);const B=Pr(et,"users",Se.id);await na(B,ce),console.log("User updated successfully using fallback method"),u(Ee=>Ee.map(ve=>ve.username===f.username?{...ve,id:Se.id,...ce}:ve))}}await kr(kt(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(de=>de.map(ae=>ae.id===f.id?{...ae,...ce}:ae)),r("User updated successfully","success"),h(null)}catch(Z){console.error("Error updating user:",Z),console.error("Error details:",{editingUser:f,userEditForm:E,error:Z}),r("Failed to update user","error")}finally{s(!1)}},W=Z=>{const{name:ce,value:de}=Z.target;v(ae=>({...ae,[ce]:de})),y[ce]&&b(ae=>{const he={...ae};return delete he[ce],he})},P=()=>{const Z={};return m.username.trim()||(Z.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Z.email="Invalid email format"),m.name.trim()||(Z.name="Name is required"),m.password?m.password.length<6&&(Z.password="Password must be at least 6 characters"):Z.password="Password is required",m.password!==m.confirmPassword&&(Z.confirmPassword="Passwords do not match"),b(Z),Object.keys(Z).length===0},F=async Z=>{if(Z.preventDefault(),!!P()){s(!0);try{const de=(await nr(kt(et,"users"))).docs.map(he=>he.data());if(de.some(he=>he.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&de.some(he=>he.email===m.email)){b({email:"Email already exists"});return}const ae=await kr(kt(et,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await kr(kt(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:ae.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(ce){console.error("Error adding user:",ce),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(Z,ce)=>{S({username:ce,name:Z}),I(!0)},K=async()=>{if(T)try{s(!0);const Z=kt(et,"users"),ce=er(Z,Jt("username","==",T.username)),de=await nr(ce);if(de.empty){r("User not found.","error");return}const ae=de.docs[0],he=Pr(et,"users",ae.id);await Cc(he),await kr(kt(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(Se=>Se.filter(B=>B.username!==T.username)),r("User deleted successfully!","success")}catch(Z){console.error("Error deleting user:",Z),r("Failed to delete user. Please try again.","error")}finally{s(!1),I(!1),S(null)}};return d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),d.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&d.jsx(ct,{variant:"secondary",onClick:D,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:d.jsx(ji,{size:16,className:i?"animate-spin":""})}),d.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?d.jsx(a9,{size:20}):d.jsx(n9,{size:20})})]})]}),f&&d.jsxs(Sn,{isOpen:!!f,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:E.username,onChange:z,error:w.username}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:E.email,onChange:z,error:w.email}),d.jsx(Nt,{label:"Name",name:"name",value:E.name,onChange:z,error:w.name}),d.jsx(Uu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:z,error:w.newPassword}),d.jsx(Uu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:z,error:w.confirmPassword})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx(ct,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),d.jsx(ct,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),d.jsxs(Sn,{isOpen:C,onClose:()=>I(!1),title:"Confirm Deletion",size:"sm",children:[d.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(ct,{variant:"secondary",onClick:()=>I(!1),disabled:i,children:"Cancel"}),d.jsx(ct,{variant:"danger",onClick:K,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:d.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:V((e==null?void 0:e.name)||"")})})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:A.name}),d.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:A.username,onChange:X,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:A.email,onChange:X,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),d.jsx(Nt,{label:"Full Name",name:"name",value:A.name,onChange:X,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),d.jsx(Uu,{label:"Current Password",name:"currentPassword",value:A.currentPassword,onChange:X,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Uu,{label:"New Password",name:"newPassword",value:A.newPassword,onChange:X,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),d.jsx(Uu,{label:"Confirm Password",name:"confirmPassword",value:A.confirmPassword,onChange:X,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&d.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{type:"submit",isLoading:i,icon:d.jsx(I4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[d.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),d.jsxs(ct,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[d.jsx(I4,{size:16}),"Add New User"]})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[d.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>d.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.username}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.email||"-"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.role}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{variant:"ghost",size:"sm",onClick:()=>H(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Ws,{size:16})}),d.jsx(ct,{variant:"ghost",size:"sm",onClick:()=>q(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(es,{size:16})})]})})]},Z.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),d.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Z.username})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ct,{variant:"ghost",size:"sm",onClick:()=>H(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(Ws,{size:16})}),d.jsx(ct,{variant:"ghost",size:"sm",onClick:()=>q(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(es,{size:16})})]})]}),d.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Z.email||"-"}),d.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Z.role})]},Z.id))})]}),d.jsx(Sn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:d.jsxs("form",{onSubmit:F,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:m.username,onChange:W,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:m.email,onChange:W,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Full Name",name:"name",value:m.name,onChange:W,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),d.jsx(Vr,{label:"Role",name:"role",value:m.role,onChange:W,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),d.jsx(Uu,{label:"Password",name:"password",value:m.password,onChange:W,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),d.jsx(Uu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:W,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},jA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],xBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=U.useState(""),[i,s]=U.useState("stock sold"),[o,l]=U.useState(""),c=jA.includes(e.storeName)?jA:[e.storeName,...jA],u=[...c,"other"],[f,h]=U.useState(e.storeName||c[0]||""),[p,g]=U.useState(""),{isDarkMode:m}=en(),v=async w=>{w.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const C=i==="other"?o:i,I=f==="other"?p.trim():f.trim();await t({id:e.id,quantity:e.quantity-O,reason:C,storeName:I})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return d.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Nt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(Vr,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Nt,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(Vr,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"Other":w})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&d.jsx(Nt,{id:"otherStoreName",type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:b})]}):d.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsx("div",{className:"flex justify-end space-x-3",children:d.jsx(ct,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?d.jsxs(d.Fragment,{children:[d.jsx(ws,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},bBe=()=>{const[e,t]=U.useState(""),[r,n]=U.useState("name"),[a,i]=U.useState(!1),[s,o]=U.useState(!1),[l,c]=U.useState(null),[u,f]=U.useState([]),[h,p]=U.useState(!1),[g,m]=U.useState(new Set),[v,y]=U.useState(null),[b,w]=U.useState(!1),[O,C]=U.useState("all"),[I,T]=U.useState(!1),{showToast:S}=au(),{isDarkMode:A}=en(),{user:j}=Na(),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],k=async()=>{o(!0);try{const W=er(kt(et,"inventory"),La("name")),F=(await nr(W)).docs.map(q=>{const K=q.data();return{id:q.id,...K,lastUpdated:K.lastUpdated instanceof tr?K.lastUpdated.toDate():new Date(K.lastUpdated)}});f(F)}catch(W){console.error("Error fetching stock items:",W),S("Failed to fetch stock items","error")}finally{o(!1)}},D=async()=>{try{const W=Sr(new Date,90),P=er(kt(et,"activityLogs"),Jt("time",">=",W.toISOString()),La("time","desc")),q=(await nr(P)).docs.map(ae=>({id:ae.id,...ae.data()})),K=Sr(new Date,10),Z=new Set,ce=new Map;q.forEach(ae=>{if(ae.detail.includes("added new product")){const he=ae.detail.match(/added new product "([^"]+)"/);if(he){const Se=he[1],B=new Date(ae.time);(!ce.has(Se)||B<ce.get(Se))&&ce.set(Se,B)}}if(ae.detail.includes("units deducted from stock")){const he=ae.detail.match(/units deducted from stock "([^"]+)"/);if(he){const Se=he[1];new Date(ae.time)>=K&&Z.add(Se)}}});const de=new Set;u.forEach(ae=>{const he=ae.name,Se=ce.get(he);Se&&Se<K&&!Z.has(he)&&de.add(he)}),m(de)}catch(W){console.error("Error fetching activity logs:",W)}};U.useEffect(()=>{k()},[S]),U.useEffect(()=>{u.length>0&&D()},[u]),U.useEffect(()=>{const W=P=>{if(b||I){const F=P.target;!F.closest(".store-filter-dropdown")&&!F.closest(".status-filter-dropdown")&&(w(!1),T(!1))}};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[b,I]);const V=()=>{y(null),C("all"),w(!1),T(!1)},X=u.filter(W=>W.quantity>0).filter(W=>{const P=e.toLowerCase(),F=W.name.toLowerCase().includes(P),q=`${W.locationCode} - ${W.shelfNumber}`.toLowerCase().includes(P),K=W.asin?W.asin.split(",").some(ae=>ae.trim().toLowerCase().includes(P)):!1,Z=W.barcode?W.barcode.toLowerCase().includes(P):!1,ce=v?v.storeName==="other"?!E.includes(W.storeName)&&W.fulfillmentType===v.fulfillmentType:W.storeName===v.storeName&&W.fulfillmentType===v.fulfillmentType:!0,de=O==="all"||W.status===O;return(F||q||K||Z)&&ce&&de}).sort((W,P)=>r==="name"?W.name.localeCompare(P.name):r==="quantity"?P.quantity-W.quantity:r==="price"?P.price-W.price:r==="date"?new Date(P.lastUpdated).getTime()-new Date(W.lastUpdated).getTime():0),Y=async W=>{o(!0);try{const P=Pr(et,"inventory",W.id),F=await Pv(P);if(!F.exists())throw new Error("Stock item not found");const q=F.data();if(!j)throw new Error("User not authenticated");const K=W.reason==="damaged"?q.damagedItems+(q.quantity-W.quantity):q.damagedItems,Z=new Date;await na(P,{quantity:W.quantity,damagedItems:K,lastUpdated:tr.fromDate(Z)}),await kr(kt(et,"activityLogs"),{detail:`${q.quantity-W.quantity} units deducted from stock "${q.name}" (Reason: ${W.reason}, Store: ${W.storeName}) by ${j.role} from location ${q.locationCode} shelf ${q.shelfNumber}`,time:new Date().toISOString(),user:j.name,role:j.role});const ce=u.map(de=>de.id===W.id?{...de,quantity:W.quantity,damagedItems:K}:de);f(ce),c(null),i(!1),S("Stock quantity updated successfully","success")}catch(P){console.error("Error updating stock:",P),S("Failed to update stock quantity","error")}finally{o(!1)}},J=W=>{a||c(W)},H=(W,P)=>{W.stopPropagation(),c(P),i(!0)},z=()=>{p(!0)},ee=W=>{t(W),p(!1)};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${A?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),d.jsx("p",{className:`${A?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:W=>t(W.target.value),icon:d.jsx(Uc,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:z,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Bc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(Vr,{value:r,onChange:W=>n(W.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>T(!I),className:`flex items-center gap-2 ${O!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[O==="all"?"Status Filter":O==="active"?"Active":"Pending",d.jsx(Nf,{size:16})]}),I&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="all"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("all"),T(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="active"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("active"),T(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="pending"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{C("pending"),T(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{C("all"),T(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(ct,{variant:"secondary",onClick:()=>w(!b),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"Other":v.storeName} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(Nf,{size:16})]}),b&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(W=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W?A?"bg-slate-700":"bg-slate-100":""}`,children:W}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W&&(v==null?void 0:v.fulfillmentType)==="fba"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:W,fulfillmentType:"fba"}),w(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===W&&(v==null?void 0:v.fulfillmentType)==="mf"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:W,fulfillmentType:"mf"}),w(!1)},children:"MF"})]})]},W)),d.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),w(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(ct,{variant:"secondary",onClick:()=>{k(),V()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:d.jsx(ji,{size:16,className:s?"animate-spin":""})}),(v||O!=="all")&&d.jsx(ct,{variant:"secondary",onClick:V,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?d.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(ws,{className:`w-8 h-8 ${A?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:A?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):X.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:`${A?"bg-slate-800":"bg-slate-50"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(j==null?void 0:j.role)==="admin"&&d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${A?"divide-slate-700":"divide-slate-200"}`,children:X.map(W=>d.jsxs("tr",{className:`${A?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(W),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-blue-400":"text-blue-700"} font-medium`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[W.name,g.has(W.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(yv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:W.status==="active"?"Active":"Pending"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:[W.locationCode," - ",W.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:W.asin?W.asin.split(",").length>3?W.asin.split(",").slice(0,3).map(P=>P.trim()).join(", ")+"...":W.asin.split(",").map(P=>P.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[W.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),W.quantity>10&&W.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),d.jsx("span",{children:W.quantity})]})}),(j==null?void 0:j.role)==="admin"&&d.jsx("td",{className:`px-4 py-3 text-right text-sm ${A?"text-slate-200":"text-slate-900"}`,children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:Qt(new Date(W.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right text-sm",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:d.jsx(ct,{variant:"secondary",size:"sm",onClick:P=>H(P,W),className:`p-1 ${A?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:d.jsx(Ws,{size:16})})})})]},W.id))})]})})}),d.jsx("div",{className:"block md:hidden space-y-4",children:X.map(W=>d.jsxs("div",{className:`rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(W),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${A?"text-blue-400":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.has(W.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(yv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:W.status==="active"?"Active":"Pending"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[W.locationCode," - ",W.shelfNumber]})]}),d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:W.quantity})]}),W.asin&&d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:W.asin})]}),(j==null?void 0:j.role)==="admin"&&d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(W.price)>0?`£${Number(W.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:Qt(new Date(W.lastUpdated),"MMM d, yyyy")})]})]}),d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsxs(ct,{size:"sm",variant:"secondary",onClick:P=>{P.stopPropagation(),H(P,W)},children:[d.jsx(Ws,{size:14})," Edit"]})})]},W.id))})]}):d.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:A?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(Sn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&d.jsx(xBe,{item:l,onSubmit:Y,isLoading:s})}),l&&!a&&d.jsx(gC,{isOpen:!0,onClose:()=>c(null),item:l}),d.jsx(hh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},wBe=()=>{const[e,t]=U.useState(!0),[r,n]=U.useState([]),[a,i]=U.useState(new Set),[s,o]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState("locationCode"),[h,p]=U.useState({}),{showToast:g}=au(),{isDarkMode:m}=en(),[v,y]=U.useState(!1),[b,w]=U.useState(null),[O,C]=U.useState(1),[I,T]=U.useState("A1"),[S,A]=U.useState("0"),[j,E]=U.useState(!1),[k,D]=U.useState(!1),[V,X]=U.useState(""),[Y,J]=U.useState(wf("A1")),{user:H}=Na(),z=B=>{T(B);const Ee=wf(B);J(Ee),parseInt(S)>=Ee.length&&A("0")},ee=async()=>{t(!0);try{const B=er(kt(et,"inventory"),La("locationCode")),ve=(await nr(B)).docs.map(xe=>{const te=xe.data();return{id:xe.id,name:te.name||"",quantity:te.quantity||0,price:te.price||0,unit:te.unit||null,supplier:te.supplier??null,lastUpdated:te.lastUpdated instanceof tr?te.lastUpdated.toDate():new Date,locationCode:te.locationCode||"",shelfNumber:te.shelfNumber||"",barcode:te.barcode??null,asin:te.asin??null,status:te.status||"pending",damagedItems:te.damagedItems||0,fulfillmentType:te.fulfillmentType||"fba",storeName:te.storeName||""}});n(ve)}catch(B){console.error("Error fetching locations:",B),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},W=async()=>{try{const B=er(kt(et,"locations")),Ee=await nr(B),ve={};Ee.forEach(xe=>{ve[xe.id]=xe.data().isAvailable!==!1}),p(ve)}catch(B){console.error("Error fetching location availability:",B)}};U.useEffect(()=>{t(!0),Promise.all([ee(),W()]).finally(()=>t(!1))},[]);const P=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],F=P.reduce((B,Ee)=>{const xe=r.filter(te=>te.locationCode===Ee).reduce((te,Ne)=>{const Be=te.findIndex(Ue=>Ue.name===Ne.name&&he(Ue.asin)===he(Ne.asin)&&he(Ue.barcode)===he(Ne.barcode)&&Ue.locationCode===Ne.locationCode&&Ue.shelfNumber===Ne.shelfNumber);return Be>=0?te[Be]={...te[Be],quantity:te[Be].quantity+Ne.quantity,lastUpdated:te[Be].lastUpdated>Ne.lastUpdated?te[Be].lastUpdated:Ne.lastUpdated}:te.push(Ne),te},[]);return B[Ee]={locationCode:Ee,totalStock:xe.reduce((te,Ne)=>te+Ne.quantity,0),products:xe},B},{}),q=Object.values(F).filter(B=>{const Ee=s.toLowerCase(),ve=l.toLowerCase(),xe=ve===""||B.locationCode.toLowerCase().includes(ve),te=Ee===""||B.products.some(Ne=>Ne.name.toLowerCase().includes(Ee)||Ne.asin&&Ne.asin.split(",").some(Be=>Be.trim().toLowerCase().includes(Ee))||Ne.barcode&&Ne.barcode.toLowerCase().includes(Ee));return xe&&te}).sort((B,Ee)=>{if(u==="totalStock")return Ee.totalStock-B.totalStock;if(u==="locationCode")return B.locationCode==="Awaiting Location"?-1:Ee.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Ee.locationCode);if(u==="availability"){const ve=h[B.locationCode]!==!1,xe=h[Ee.locationCode]!==!1;return ve===xe?B.locationCode==="Awaiting Location"?-1:Ee.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Ee.locationCode):ve?-1:1}return 0});U.useEffect(()=>{if(s.trim()&&s!==V){const B=q.filter(Ee=>{const ve=s.toLowerCase();return Ee.products.some(xe=>xe.name.toLowerCase().includes(ve)||xe.asin&&xe.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||xe.barcode&&xe.barcode.toLowerCase().includes(ve))});if(B.length>0){const Ee=B.flatMap(xe=>xe.products.filter(te=>{const Ne=s.toLowerCase();return te.name.toLowerCase().includes(Ne)||te.asin&&te.asin.split(",").some(Be=>Be.trim().toLowerCase().includes(Ne))||te.barcode&&te.barcode.toLowerCase().includes(Ne)})),ve=[...new Set(Ee.map(xe=>`${xe.locationCode}-${xe.shelfNumber}`))];g(`Product found! Located at: ${ve.join(", ")}`,"success"),X(s)}else s.trim()&&s!==V&&(g("Product not found in any location","error"),X(s))}else!s.trim()&&V&&X("")},[q,s,g,V]);const K=B=>{i(Ee=>{const ve=new Set(Ee);return ve.has(B)?ve.delete(B):ve.add(B),ve})},Z=()=>{D(!0)},ce=B=>{o(B),D(!1)},de=async B=>{const Ee=!(h[B]??!0);p(ve=>({...ve,[B]:Ee}));try{await ix(Pr(et,"locations",B),{isAvailable:Ee},{merge:!0})}catch(ve){g("Failed to update availability","error"),p(xe=>({...xe,[B]:!Ee})),console.log(ve)}};function ae(B){const Ee={...B};return Object.keys(Ee).forEach(ve=>{Ee[ve]===void 0&&(Ee[ve]=null)}),Ee}function he(B){return B??""}const Se=async()=>{if(b&&!(O<1||O>b.quantity)){E(!0);try{const B=er(kt(et,"inventory")),Ee=await nr(B);let ve=null;if(Ee.forEach(xe=>{const te=xe.data();te.name===b.name&&te.locationCode===I&&te.shelfNumber===S&&he(te.asin)===he(b.asin)&&he(te.barcode)===he(b.barcode)&&(ve={...te,id:xe.id})}),O===b.quantity)await ix(Pr(et,"inventory",b.id),ae({...b,locationCode:I,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await ix(Pr(et,"inventory",b.id),ae({...b,quantity:b.quantity-O,lastUpdated:new Date}),{merge:!0}),ve)await ix(Pr(et,"inventory",ve.id),ae({...ve,quantity:ve.quantity+O,lastUpdated:new Date}),{merge:!0});else{const{id:xe,...te}=b;await kr(kt(et,"inventory"),ae({...te,quantity:O,locationCode:I,shelfNumber:S,lastUpdated:new Date}))}await kr(kt(et,"activityLogs"),{user:(H==null?void 0:H.name)||"Unknown",role:(H==null?void 0:H.role)||"Unknown",detail:`Moved ${O} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${I}-${S}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),w(null),ee()}catch(B){g("Failed to move stock","error"),console.log(B)}finally{E(!1)}}};return d.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),d.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:B=>o(B.target.value),icon:d.jsx(Uc,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:Z,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Bc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"flex-1",children:d.jsx(Nt,{type:"text",placeholder:"Search by location code...",value:l,onChange:B=>c(B.target.value),icon:d.jsx(Uc,{size:16})})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(Vr,{value:u,onChange:B=>f(B.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),d.jsx(ct,{variant:"secondary",onClick:ee,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ji,{size:16,className:e?"animate-spin":""})})]}),e?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):q.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[d.jsx(tp,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),d.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(q).map(B=>{const Ee=a.has(B.locationCode);return d.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Ee?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>K(B.locationCode),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:d.jsx(tp,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),d.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:B.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${B.locationCode}`})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h[B.locationCode]!==!1,onChange:ve=>{ve.stopPropagation(),de(B.locationCode)},className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[B.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),d.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[B.locationCode]!==!1?"translate-x-5":""}
                          `})]}),d.jsx("span",{className:`text-xs font-semibold ml-2 ${h[B.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[B.locationCode]!==!1?"Available":"Not Available"}),d.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:ve=>{ve.stopPropagation(),K(B.locationCode)},"aria-label":Ee?"Collapse":"Expand",children:Ee?d.jsx(t9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):d.jsx(Nf,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),d.jsxs("div",{className:"flex justify-between items-end mt-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),d.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[B.totalStock," units"]})]}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?B.products.filter(ve=>{const xe=s.toLowerCase();return ve.name.toLowerCase().includes(xe)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(xe))||ve.barcode&&ve.barcode.toLowerCase().includes(xe)}).length:B.products.length," product",(s.trim()?B.products.filter(ve=>{const xe=s.toLowerCase();return ve.name.toLowerCase().includes(xe)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(xe))||ve.barcode&&ve.barcode.toLowerCase().includes(xe)}).length:B.products.length)!==1?"s":""]})]})]}),Ee&&d.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[d.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?B.products.filter(ve=>{const xe=s.toLowerCase();return ve.name.toLowerCase().includes(xe)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(xe))||ve.barcode&&ve.barcode.toLowerCase().includes(xe)}).length===0:B.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),d.jsx("div",{className:"space-y-4",children:B.products.filter(ve=>{if(s.trim()){const xe=s.toLowerCase();return ve.name.toLowerCase().includes(xe)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(xe))||ve.barcode&&ve.barcode.toLowerCase().includes(xe)}return!0}).map(ve=>{const xe=B.totalStock===0?0:ve.quantity/B.totalStock*100,te=s.toLowerCase(),Ne=ve.name.toLowerCase().includes(te)||ve.asin&&ve.asin.split(",").some(Be=>Be.trim().toLowerCase().includes(te))||ve.barcode&&ve.barcode.toLowerCase().includes(te);return d.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Ne?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${Ne?"text-blue-600":m?"text-white":"text-slate-800"}`,children:ve.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",ve.shelfNumber]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[ve.quantity," units"]}),d.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async Be=>{Be.stopPropagation();const Ue=await Pv(Pr(et,"inventory",ve.id));if(Ue.exists()){const Ze=Ue.data();w({...Ze,id:ve.id}),C(1),T(ve.locationCode),A(ve.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),d.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${xe>75?"bg-green-500":xe>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${xe}%`},title:`${ve.quantity} out of ${B.totalStock} units (${xe.toFixed(1)}%)`})})]},ve.id)})})]})]},B.locationCode)})}),d.jsx(Sn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&d.jsxs("form",{onSubmit:B=>{B.preventDefault(),Se()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),d.jsx("input",{type:"number",min:1,max:b.quantity,value:O,onChange:B=>C(Number(B.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),d.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),d.jsx("select",{value:I,onChange:B=>z(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:P.map(B=>d.jsx("option",{value:B,children:B},B))})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),d.jsx("select",{value:S,onChange:B=>A(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:Y.map(B=>d.jsx("option",{value:B.value,children:B.label},B.value))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:j,children:j?"Moving...":"Move"})]})]})}),d.jsx(hh,{isOpen:k,onClose:()=>D(!1),onBarcodeScanned:ce})]})},Yo=({children:e,allowedRoles:t})=>{const{user:r}=Na();return r?t.includes(r.role)?d.jsx(d.Fragment,{children:e}):d.jsx(k4,{to:"/",replace:!0}):d.jsx(k4,{to:"/login",replace:!0})};function _Be(){return d.jsxs(qJ,{children:[d.jsx(gs,{path:"/login",element:d.jsx(Nce,{})}),d.jsxs(gs,{path:"/",element:d.jsx(Ece,{}),children:[d.jsx(gs,{index:!0,element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(pye,{})})}),d.jsx(gs,{path:"stock",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(Nye,{})})}),d.jsx(gs,{path:"jobs",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(x$e,{})})}),d.jsx(gs,{path:"inventory",element:d.jsx(Yo,{allowedRoles:["admin"],children:d.jsx(Cye,{})})}),d.jsx(gs,{path:"orders",element:d.jsx(Yo,{allowedRoles:[""],children:d.jsx(I$e,{})})}),d.jsx(gs,{path:"outbound-stock",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(bBe,{})})}),d.jsx(gs,{path:"warehouse-locations",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(wBe,{})})}),d.jsx(gs,{path:"warehouse-operations",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(gBe,{})})}),d.jsx(gs,{path:"reports-analytics",element:d.jsx(Yo,{allowedRoles:["admin"],children:d.jsx(vBe,{})})}),d.jsx(gs,{path:"settings",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(yBe,{})})}),d.jsx(gs,{path:"add",element:d.jsx(Yo,{allowedRoles:["admin","staff"],children:d.jsx(Iq,{})})})]})]})}q$(document.getElementById("root")).render(d.jsx(U.StrictMode,{children:d.jsx(JJ,{basename:"/",children:d.jsx(Pae,{children:d.jsx(Cae,{children:d.jsx(kce,{children:d.jsx(_Be,{})})})})})}));export{Jr as _,Zm as c,yn as g};
