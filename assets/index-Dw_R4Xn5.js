function fY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dF={exports:{}},vw={},pF={exports:{}},or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=Symbol.for("react.element"),hY=Symbol.for("react.portal"),dY=Symbol.for("react.fragment"),pY=Symbol.for("react.strict_mode"),mY=Symbol.for("react.profiler"),gY=Symbol.for("react.provider"),vY=Symbol.for("react.context"),yY=Symbol.for("react.forward_ref"),xY=Symbol.for("react.suspense"),bY=Symbol.for("react.memo"),wY=Symbol.for("react.lazy"),BN=Symbol.iterator;function _Y(e){return e===null||typeof e!="object"?null:(e=BN&&e[BN]||e["@@iterator"],typeof e=="function"?e:null)}var mF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gF=Object.assign,vF={};function kp(e,t,r){this.props=e,this.context=t,this.refs=vF,this.updater=r||mF}kp.prototype.isReactComponent={};kp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yF(){}yF.prototype=kp.prototype;function l3(e,t,r){this.props=e,this.context=t,this.refs=vF,this.updater=r||mF}var c3=l3.prototype=new yF;c3.constructor=l3;gF(c3,kp.prototype);c3.isPureReactComponent=!0;var VN=Array.isArray,xF=Object.prototype.hasOwnProperty,u3={current:null},bF={key:!0,ref:!0,__self:!0,__source:!0};function wF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)xF.call(t,n)&&!bF.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:yv,type:e,key:i,ref:s,props:a,_owner:u3.current}}function SY(e,t){return{$$typeof:yv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f3(e){return typeof e=="object"&&e!==null&&e.$$typeof===yv}function AY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var UN=/\/+/g;function b_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AY(""+e.key):t.toString(36)}function Px(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yv:case hY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+b_(s,0):n,VN(a)?(r="",e!=null&&(r=e.replace(UN,"$&/")+"/"),Px(a,t,r,"",function(c){return c})):a!=null&&(f3(a)&&(a=SY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(UN,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",VN(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+b_(i,o);s+=Px(i,t,r,l,a)}else if(l=_Y(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+b_(i,o++),s+=Px(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ty(e,t,r){if(e==null)return e;var n=[],a=0;return Px(e,n,"","",function(i){return t.call(r,i,a++)}),n}function TY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wi={current:null},Cx={transition:null},EY={ReactCurrentDispatcher:Wi,ReactCurrentBatchConfig:Cx,ReactCurrentOwner:u3};function _F(){throw Error("act(...) is not supported in production builds of React.")}or.Children={map:Ty,forEach:function(e,t,r){Ty(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ty(e,function(){t++}),t},toArray:function(e){return Ty(e,function(t){return t})||[]},only:function(e){if(!f3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};or.Component=kp;or.Fragment=dY;or.Profiler=mY;or.PureComponent=l3;or.StrictMode=pY;or.Suspense=xY;or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EY;or.act=_F;or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=gF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=u3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)xF.call(t,l)&&!bF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:yv,type:e.type,key:a,ref:i,props:n,_owner:s}};or.createContext=function(e){return e={$$typeof:vY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gY,_context:e},e.Consumer=e};or.createElement=wF;or.createFactory=function(e){var t=wF.bind(null,e);return t.type=e,t};or.createRef=function(){return{current:null}};or.forwardRef=function(e){return{$$typeof:yY,render:e}};or.isValidElement=f3;or.lazy=function(e){return{$$typeof:wY,_payload:{_status:-1,_result:e},_init:TY}};or.memo=function(e,t){return{$$typeof:bY,type:e,compare:t===void 0?null:t}};or.startTransition=function(e){var t=Cx.transition;Cx.transition={};try{e()}finally{Cx.transition=t}};or.unstable_act=_F;or.useCallback=function(e,t){return Wi.current.useCallback(e,t)};or.useContext=function(e){return Wi.current.useContext(e)};or.useDebugValue=function(){};or.useDeferredValue=function(e){return Wi.current.useDeferredValue(e)};or.useEffect=function(e,t){return Wi.current.useEffect(e,t)};or.useId=function(){return Wi.current.useId()};or.useImperativeHandle=function(e,t,r){return Wi.current.useImperativeHandle(e,t,r)};or.useInsertionEffect=function(e,t){return Wi.current.useInsertionEffect(e,t)};or.useLayoutEffect=function(e,t){return Wi.current.useLayoutEffect(e,t)};or.useMemo=function(e,t){return Wi.current.useMemo(e,t)};or.useReducer=function(e,t,r){return Wi.current.useReducer(e,t,r)};or.useRef=function(e){return Wi.current.useRef(e)};or.useState=function(e){return Wi.current.useState(e)};or.useSyncExternalStore=function(e,t,r){return Wi.current.useSyncExternalStore(e,t,r)};or.useTransition=function(){return Wi.current.useTransition()};or.version="18.3.1";pF.exports=or;var Z=pF.exports;const Ne=Zr(Z),kY=fY({__proto__:null,default:Ne},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PY=Z,CY=Symbol.for("react.element"),NY=Symbol.for("react.fragment"),OY=Object.prototype.hasOwnProperty,IY=PY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DY={key:!0,ref:!0,__self:!0,__source:!0};function SF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)OY.call(t,n)&&!DY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:CY,type:e,key:i,ref:s,props:a,_owner:IY.current}}vw.Fragment=NY;vw.jsx=SF;vw.jsxs=SF;dF.exports=vw;var g=dF.exports,AF={exports:{}},Fs={},TF={exports:{}},EF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,B){var ne=q.length;q.push(B);e:for(;0<ne;){var ce=ne-1>>>1,D=q[ce];if(0<a(D,B))q[ce]=B,q[ne]=D,ne=ce;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var B=q[0],ne=q.pop();if(ne!==B){q[0]=ne;e:for(var ce=0,D=q.length,F=D>>>1;ce<F;){var U=2*(ce+1)-1,G=q[U],W=U+1,Q=q[W];if(0>a(G,ne))W<D&&0>a(Q,G)?(q[ce]=Q,q[W]=ne,ce=W):(q[ce]=G,q[U]=ne,ce=U);else if(W<D&&0>a(Q,ne))q[ce]=Q,q[W]=ne,ce=W;else break e}}return B}function a(q,B){var ne=q.sortIndex-B.sortIndex;return ne!==0?ne:q.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=q)n(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(c)}}function O(q){if(p=!1,w(q),!m)if(r(l)!==null)m=!0,re(k);else{var B=r(c);B!==null&&J(O,B.startTime-q)}}function k(q,B){m=!1,p&&(p=!1,y(S),S=-1),d=!0;var ne=h;try{for(w(B),f=r(l);f!==null&&(!(f.expirationTime>B)||q&&!E());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var D=ce(f.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),w(B)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var U=r(c);U!==null&&J(O,U.startTime-B),F=!1}return F}finally{f=null,h=ne,d=!1}}var C=!1,T=null,S=-1,A=5,I=-1;function E(){return!(e.unstable_now()-I<A)}function N(){if(T!==null){var q=e.unstable_now();I=q;var B=!0;try{B=T(!0,q)}finally{B?j():(C=!1,T=null)}}else C=!1}var j;if(typeof _=="function")j=function(){_(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=N,j=function(){X.postMessage(null)}}else j=function(){v(N,0)};function re(q){T=q,C||(C=!0,j())}function J(q,B){S=v(function(){q(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,re(k))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ne=h;h=B;try{return q()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=h;h=q;try{return B()}finally{h=ne}},e.unstable_scheduleCallback=function(q,B,ne){var ce=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,q={id:u++,callback:B,priorityLevel:q,startTime:ne,expirationTime:D,sortIndex:-1},ne>ce?(q.sortIndex=ne,t(c,q),r(l)===null&&q===r(c)&&(p?(y(S),S=-1):p=!0,J(O,ne-ce))):(q.sortIndex=D,t(l,q),m||d||(m=!0,re(k))),q},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(q){var B=h;return function(){var ne=h;h=B;try{return q.apply(this,arguments)}finally{h=ne}}}})(EF);TF.exports=EF;var LY=TF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jY=Z,Ls=LY;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kF=new Set,Ug={};function Jh(e,t){B0(e,t),B0(e+"Capture",t)}function B0(e,t){for(Ug[e]=t,e=0;e<t.length;e++)kF.add(t[e])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_A=Object.prototype.hasOwnProperty,MY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zN={},qN={};function RY(e){return _A.call(qN,e)?!0:_A.call(zN,e)?!1:MY.test(e)?qN[e]=!0:(zN[e]=!0,!1)}function FY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $Y(e,t,r,n){if(t===null||typeof t>"u"||FY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Qa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qa[e]=new Hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qa[t]=new Hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qa[e]=new Hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qa[e]=new Hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qa[e]=new Hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qa[e]=new Hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qa[e]=new Hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qa[e]=new Hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qa[e]=new Hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var h3=/[\-:]([a-z])/g;function d3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(h3,d3);Qa[t]=new Hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(h3,d3);Qa[t]=new Hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(h3,d3);Qa[t]=new Hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qa[e]=new Hi(e,1,!1,e.toLowerCase(),null,!1,!1)});Qa.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qa[e]=new Hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function p3(e,t,r,n){var a=Qa.hasOwnProperty(t)?Qa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($Y(t,r,a,n)&&(r=null),n||a===null?RY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vc=jY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ey=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),m3=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),PF=Symbol.for("react.provider"),CF=Symbol.for("react.context"),g3=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),TA=Symbol.for("react.suspense_list"),v3=Symbol.for("react.memo"),Cu=Symbol.for("react.lazy"),NF=Symbol.for("react.offscreen"),WN=Symbol.iterator;function wm(e){return e===null||typeof e!="object"?null:(e=WN&&e[WN]||e["@@iterator"],typeof e=="function"?e:null)}var On=Object.assign,w_;function Hm(e){if(w_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w_=t&&t[1]||""}return`
`+w_+e}var __=!1;function S_(e,t){if(!e||__)return"";__=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{__=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hm(e):""}function BY(e){switch(e.tag){case 5:return Hm(e.type);case 16:return Hm("Lazy");case 13:return Hm("Suspense");case 19:return Hm("SuspenseList");case 0:case 2:case 15:return e=S_(e.type,!1),e;case 11:return e=S_(e.type.render,!1),e;case 1:return e=S_(e.type,!0),e;default:return""}}function EA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jd:return"Fragment";case Qd:return"Portal";case SA:return"Profiler";case m3:return"StrictMode";case AA:return"Suspense";case TA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CF:return(e.displayName||"Context")+".Consumer";case PF:return(e._context.displayName||"Context")+".Provider";case g3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v3:return t=e.displayName||null,t!==null?t:EA(e.type)||"Memo";case Cu:t=e._payload,e=e._init;try{return EA(e(t))}catch{}}return null}function VY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return EA(t);case 8:return t===m3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ff(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UY(e){var t=OF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ky(e){e._valueTracker||(e._valueTracker=UY(e))}function IF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=OF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function n2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kA(e,t){var r=t.checked;return On({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ff(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DF(e,t){t=t.checked,t!=null&&p3(e,"checked",t,!1)}function PA(e,t){DF(e,t);var r=ff(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?CA(e,t.type,r):t.hasOwnProperty("defaultValue")&&CA(e,t.type,ff(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function CA(e,t,r){(t!=="number"||n2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gm=Array.isArray;function x0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ff(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function NA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return On({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(mt(92));if(Gm(r)){if(1<r.length)throw Error(mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ff(r)}}function LF(e,t){var r=ff(t.value),n=ff(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Py,MF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Py=Py||document.createElement("div"),Py.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Py.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zY=["Webkit","ms","Moz","O"];Object.keys(sg).forEach(function(e){zY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sg[t]=sg[e]})});function RF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sg.hasOwnProperty(e)&&sg[e]?(""+t).trim():t+"px"}function FF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=RF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var qY=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IA(e,t){if(t){if(qY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function DA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LA=null;function y3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jA=null,b0=null,w0=null;function XN(e){if(e=wv(e)){if(typeof jA!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=_w(t),jA(e.stateNode,e.type,t))}}function $F(e){b0?w0?w0.push(e):w0=[e]:b0=e}function BF(){if(b0){var e=b0,t=w0;if(w0=b0=null,XN(e),t)for(e=0;e<t.length;e++)XN(t[e])}}function VF(e,t){return e(t)}function UF(){}var A_=!1;function zF(e,t,r){if(A_)return e(t,r);A_=!0;try{return VF(e,t,r)}finally{A_=!1,(b0!==null||w0!==null)&&(UF(),BF())}}function qg(e,t){var r=e.stateNode;if(r===null)return null;var n=_w(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(mt(231,t,typeof r));return r}var MA=!1;if(Tc)try{var _m={};Object.defineProperty(_m,"passive",{get:function(){MA=!0}}),window.addEventListener("test",_m,_m),window.removeEventListener("test",_m,_m)}catch{MA=!1}function WY(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var og=!1,a2=null,i2=!1,RA=null,HY={onError:function(e){og=!0,a2=e}};function GY(e,t,r,n,a,i,s,o,l){og=!1,a2=null,WY.apply(HY,arguments)}function KY(e,t,r,n,a,i,s,o,l){if(GY.apply(this,arguments),og){if(og){var c=a2;og=!1,a2=null}else throw Error(mt(198));i2||(i2=!0,RA=c)}}function Zh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QN(e){if(Zh(e)!==e)throw Error(mt(188))}function YY(e){var t=e.alternate;if(!t){if(t=Zh(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return QN(a),e;if(i===n)return QN(a),t;i=i.sibling}throw Error(mt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(mt(189))}}if(r.alternate!==n)throw Error(mt(190))}if(r.tag!==3)throw Error(mt(188));return r.stateNode.current===r?e:t}function WF(e){return e=YY(e),e!==null?HF(e):null}function HF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HF(e);if(t!==null)return t;e=e.sibling}return null}var GF=Ls.unstable_scheduleCallback,JN=Ls.unstable_cancelCallback,XY=Ls.unstable_shouldYield,QY=Ls.unstable_requestPaint,Yn=Ls.unstable_now,JY=Ls.unstable_getCurrentPriorityLevel,x3=Ls.unstable_ImmediatePriority,KF=Ls.unstable_UserBlockingPriority,s2=Ls.unstable_NormalPriority,ZY=Ls.unstable_LowPriority,YF=Ls.unstable_IdlePriority,yw=null,El=null;function eX(e){if(El&&typeof El.onCommitFiberRoot=="function")try{El.onCommitFiberRoot(yw,e,void 0,(e.current.flags&128)===128)}catch{}}var Qo=Math.clz32?Math.clz32:nX,tX=Math.log,rX=Math.LN2;function nX(e){return e>>>=0,e===0?32:31-(tX(e)/rX|0)|0}var Cy=64,Ny=4194304;function Km(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function o2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Km(o):(i&=s,i!==0&&(n=Km(i)))}else s=r&~a,s!==0?n=Km(s):i!==0&&(n=Km(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qo(t),a=1<<r,n|=e[r],t&=~a;return n}function aX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Qo(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=aX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function FA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XF(){var e=Cy;return Cy<<=1,!(Cy&4194240)&&(Cy=64),e}function T_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qo(t),e[t]=r}function sX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Qo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function b3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Hr=0;function QF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JF,w3,ZF,e7,t7,$A=!1,Oy=[],Ku=null,Yu=null,Xu=null,Wg=new Map,Hg=new Map,Iu=[],oX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZN(e,t){switch(e){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":Wg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hg.delete(t.pointerId)}}function Sm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=wv(t),t!==null&&w3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lX(e,t,r,n,a){switch(t){case"focusin":return Ku=Sm(Ku,e,t,r,n,a),!0;case"dragenter":return Yu=Sm(Yu,e,t,r,n,a),!0;case"mouseover":return Xu=Sm(Xu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Wg.set(i,Sm(Wg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Hg.set(i,Sm(Hg.get(i)||null,e,t,r,n,a)),!0}return!1}function r7(e){var t=gh(e.target);if(t!==null){var r=Zh(t);if(r!==null){if(t=r.tag,t===13){if(t=qF(r),t!==null){e.blockedOn=t,t7(e.priority,function(){ZF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=BA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);LA=n,r.target.dispatchEvent(n),LA=null}else return t=wv(r),t!==null&&w3(t),e.blockedOn=r,!1;t.shift()}return!0}function e6(e,t,r){Nx(e)&&r.delete(t)}function cX(){$A=!1,Ku!==null&&Nx(Ku)&&(Ku=null),Yu!==null&&Nx(Yu)&&(Yu=null),Xu!==null&&Nx(Xu)&&(Xu=null),Wg.forEach(e6),Hg.forEach(e6)}function Am(e,t){e.blockedOn===t&&(e.blockedOn=null,$A||($A=!0,Ls.unstable_scheduleCallback(Ls.unstable_NormalPriority,cX)))}function Gg(e){function t(a){return Am(a,e)}if(0<Oy.length){Am(Oy[0],e);for(var r=1;r<Oy.length;r++){var n=Oy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ku!==null&&Am(Ku,e),Yu!==null&&Am(Yu,e),Xu!==null&&Am(Xu,e),Wg.forEach(t),Hg.forEach(t),r=0;r<Iu.length;r++)n=Iu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Iu.length&&(r=Iu[0],r.blockedOn===null);)r7(r),r.blockedOn===null&&Iu.shift()}var _0=Vc.ReactCurrentBatchConfig,l2=!0;function uX(e,t,r,n){var a=Hr,i=_0.transition;_0.transition=null;try{Hr=1,_3(e,t,r,n)}finally{Hr=a,_0.transition=i}}function fX(e,t,r,n){var a=Hr,i=_0.transition;_0.transition=null;try{Hr=4,_3(e,t,r,n)}finally{Hr=a,_0.transition=i}}function _3(e,t,r,n){if(l2){var a=BA(e,t,r,n);if(a===null)j_(e,t,n,c2,r),ZN(e,n);else if(lX(a,e,t,r,n))n.stopPropagation();else if(ZN(e,n),t&4&&-1<oX.indexOf(e)){for(;a!==null;){var i=wv(a);if(i!==null&&JF(i),i=BA(e,t,r,n),i===null&&j_(e,t,n,c2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else j_(e,t,n,null,r)}}var c2=null;function BA(e,t,r,n){if(c2=null,e=y3(n),e=gh(e),e!==null)if(t=Zh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return c2=e,null}function n7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JY()){case x3:return 1;case KF:return 4;case s2:case ZY:return 16;case YF:return 536870912;default:return 16}default:return 16}}var Fu=null,S3=null,Ox=null;function a7(){if(Ox)return Ox;var e,t=S3,r=t.length,n,a="value"in Fu?Fu.value:Fu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Ox=a.slice(e,1<n?1-n:void 0)}function Ix(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iy(){return!0}function t6(){return!1}function $s(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Iy:t6,this.isPropagationStopped=t6,this}return On(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Iy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Iy)},persist:function(){},isPersistent:Iy}),t}var Pp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A3=$s(Pp),bv=On({},Pp,{view:0,detail:0}),hX=$s(bv),E_,k_,Tm,xw=On({},bv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tm&&(Tm&&e.type==="mousemove"?(E_=e.screenX-Tm.screenX,k_=e.screenY-Tm.screenY):k_=E_=0,Tm=e),E_)},movementY:function(e){return"movementY"in e?e.movementY:k_}}),r6=$s(xw),dX=On({},xw,{dataTransfer:0}),pX=$s(dX),mX=On({},bv,{relatedTarget:0}),P_=$s(mX),gX=On({},Pp,{animationName:0,elapsedTime:0,pseudoElement:0}),vX=$s(gX),yX=On({},Pp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xX=$s(yX),bX=On({},Pp,{data:0}),n6=$s(bX),wX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SX[e])?!!t[e]:!1}function T3(){return AX}var TX=On({},bv,{key:function(e){if(e.key){var t=wX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ix(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_X[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T3,charCode:function(e){return e.type==="keypress"?Ix(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ix(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EX=$s(TX),kX=On({},xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a6=$s(kX),PX=On({},bv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T3}),CX=$s(PX),NX=On({},Pp,{propertyName:0,elapsedTime:0,pseudoElement:0}),OX=$s(NX),IX=On({},xw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DX=$s(IX),LX=[9,13,27,32],E3=Tc&&"CompositionEvent"in window,lg=null;Tc&&"documentMode"in document&&(lg=document.documentMode);var jX=Tc&&"TextEvent"in window&&!lg,i7=Tc&&(!E3||lg&&8<lg&&11>=lg),i6=" ",s6=!1;function s7(e,t){switch(e){case"keyup":return LX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zd=!1;function MX(e,t){switch(e){case"compositionend":return o7(t);case"keypress":return t.which!==32?null:(s6=!0,i6);case"textInput":return e=t.data,e===i6&&s6?null:e;default:return null}}function RX(e,t){if(Zd)return e==="compositionend"||!E3&&s7(e,t)?(e=a7(),Ox=S3=Fu=null,Zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i7&&t.locale!=="ko"?null:t.data;default:return null}}var FX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FX[e.type]:t==="textarea"}function l7(e,t,r,n){$F(n),t=u2(t,"onChange"),0<t.length&&(r=new A3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cg=null,Kg=null;function $X(e){x7(e,0)}function bw(e){var t=r0(e);if(IF(t))return e}function BX(e,t){if(e==="change")return t}var c7=!1;if(Tc){var C_;if(Tc){var N_="oninput"in document;if(!N_){var l6=document.createElement("div");l6.setAttribute("oninput","return;"),N_=typeof l6.oninput=="function"}C_=N_}else C_=!1;c7=C_&&(!document.documentMode||9<document.documentMode)}function c6(){cg&&(cg.detachEvent("onpropertychange",u7),Kg=cg=null)}function u7(e){if(e.propertyName==="value"&&bw(Kg)){var t=[];l7(t,Kg,e,y3(e)),zF($X,t)}}function VX(e,t,r){e==="focusin"?(c6(),cg=t,Kg=r,cg.attachEvent("onpropertychange",u7)):e==="focusout"&&c6()}function UX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bw(Kg)}function zX(e,t){if(e==="click")return bw(t)}function qX(e,t){if(e==="input"||e==="change")return bw(t)}function WX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rl=typeof Object.is=="function"?Object.is:WX;function Yg(e,t){if(rl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!_A.call(t,a)||!rl(e[a],t[a]))return!1}return!0}function u6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f6(e,t){var r=u6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u6(r)}}function f7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h7(){for(var e=window,t=n2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=n2(e.document)}return t}function k3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HX(e){var t=h7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f7(r.ownerDocument.documentElement,r)){if(n!==null&&k3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=f6(r,i);var s=f6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GX=Tc&&"documentMode"in document&&11>=document.documentMode,e0=null,VA=null,ug=null,UA=!1;function h6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;UA||e0==null||e0!==n2(n)||(n=e0,"selectionStart"in n&&k3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ug&&Yg(ug,n)||(ug=n,n=u2(VA,"onSelect"),0<n.length&&(t=new A3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=e0)))}function Dy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var t0={animationend:Dy("Animation","AnimationEnd"),animationiteration:Dy("Animation","AnimationIteration"),animationstart:Dy("Animation","AnimationStart"),transitionend:Dy("Transition","TransitionEnd")},O_={},d7={};Tc&&(d7=document.createElement("div").style,"AnimationEvent"in window||(delete t0.animationend.animation,delete t0.animationiteration.animation,delete t0.animationstart.animation),"TransitionEvent"in window||delete t0.transitionend.transition);function ww(e){if(O_[e])return O_[e];if(!t0[e])return e;var t=t0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in d7)return O_[e]=t[r];return e}var p7=ww("animationend"),m7=ww("animationiteration"),g7=ww("animationstart"),v7=ww("transitionend"),y7=new Map,d6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tf(e,t){y7.set(e,t),Jh(t,[e])}for(var I_=0;I_<d6.length;I_++){var D_=d6[I_],KX=D_.toLowerCase(),YX=D_[0].toUpperCase()+D_.slice(1);Tf(KX,"on"+YX)}Tf(p7,"onAnimationEnd");Tf(m7,"onAnimationIteration");Tf(g7,"onAnimationStart");Tf("dblclick","onDoubleClick");Tf("focusin","onFocus");Tf("focusout","onBlur");Tf(v7,"onTransitionEnd");B0("onMouseEnter",["mouseout","mouseover"]);B0("onMouseLeave",["mouseout","mouseover"]);B0("onPointerEnter",["pointerout","pointerover"]);B0("onPointerLeave",["pointerout","pointerover"]);Jh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ym));function p6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,KY(n,t,void 0,e),e.currentTarget=null}function x7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;p6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;p6(a,o,c),i=l}}}if(i2)throw e=RA,i2=!1,RA=null,e}function pn(e,t){var r=t[GA];r===void 0&&(r=t[GA]=new Set);var n=e+"__bubble";r.has(n)||(b7(t,e,2,!1),r.add(n))}function L_(e,t,r){var n=0;t&&(n|=4),b7(r,e,n,t)}var Ly="_reactListening"+Math.random().toString(36).slice(2);function Xg(e){if(!e[Ly]){e[Ly]=!0,kF.forEach(function(r){r!=="selectionchange"&&(XX.has(r)||L_(r,!1,e),L_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ly]||(t[Ly]=!0,L_("selectionchange",!1,t))}}function b7(e,t,r,n){switch(n7(t)){case 1:var a=uX;break;case 4:a=fX;break;default:a=_3}r=a.bind(null,t,r,e),a=void 0,!MA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function j_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=gh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}zF(function(){var c=i,u=y3(r),f=[];e:{var h=y7.get(e);if(h!==void 0){var d=A3,m=e;switch(e){case"keypress":if(Ix(r)===0)break e;case"keydown":case"keyup":d=EX;break;case"focusin":m="focus",d=P_;break;case"focusout":m="blur",d=P_;break;case"beforeblur":case"afterblur":d=P_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=r6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=pX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=CX;break;case p7:case m7:case g7:d=vX;break;case v7:d=OX;break;case"scroll":d=hX;break;case"wheel":d=DX;break;case"copy":case"cut":case"paste":d=xX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=a6}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var _=c,w;_!==null;){w=_;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,y!==null&&(O=qg(_,y),O!=null&&p.push(Qg(_,O,w)))),v)break;_=_.return}0<p.length&&(h=new d(h,m,null,r,u),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==LA&&(m=r.relatedTarget||r.fromElement)&&(gh(m)||m[Ec]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=c,m=m?gh(m):null,m!==null&&(v=Zh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(p=r6,O="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(p=a6,O="onPointerLeave",y="onPointerEnter",_="pointer"),v=d==null?h:r0(d),w=m==null?h:r0(m),h=new p(O,_+"leave",d,r,u),h.target=v,h.relatedTarget=w,O=null,gh(u)===c&&(p=new p(y,_+"enter",m,r,u),p.target=w,p.relatedTarget=v,O=p),v=O,d&&m)t:{for(p=d,y=m,_=0,w=p;w;w=Md(w))_++;for(w=0,O=y;O;O=Md(O))w++;for(;0<_-w;)p=Md(p),_--;for(;0<w-_;)y=Md(y),w--;for(;_--;){if(p===y||y!==null&&p===y.alternate)break t;p=Md(p),y=Md(y)}p=null}else p=null;d!==null&&m6(f,h,d,p,!1),m!==null&&v!==null&&m6(f,v,m,p,!0)}}e:{if(h=c?r0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var k=BX;else if(o6(h))if(c7)k=qX;else{k=UX;var C=VX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=zX);if(k&&(k=k(e,c))){l7(f,k,r,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&CA(h,"number",h.value)}switch(C=c?r0(c):window,e){case"focusin":(o6(C)||C.contentEditable==="true")&&(e0=C,VA=c,ug=null);break;case"focusout":ug=VA=e0=null;break;case"mousedown":UA=!0;break;case"contextmenu":case"mouseup":case"dragend":UA=!1,h6(f,r,u);break;case"selectionchange":if(GX)break;case"keydown":case"keyup":h6(f,r,u)}var T;if(E3)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Zd?s7(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(i7&&r.locale!=="ko"&&(Zd||S!=="onCompositionStart"?S==="onCompositionEnd"&&Zd&&(T=a7()):(Fu=u,S3="value"in Fu?Fu.value:Fu.textContent,Zd=!0)),C=u2(c,S),0<C.length&&(S=new n6(S,e,null,r,u),f.push({event:S,listeners:C}),T?S.data=T:(T=o7(r),T!==null&&(S.data=T)))),(T=jX?MX(e,r):RX(e,r))&&(c=u2(c,"onBeforeInput"),0<c.length&&(u=new n6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}x7(f,t)})}function Qg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function u2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qg(e,r),i!=null&&n.unshift(Qg(e,i,a)),i=qg(e,t),i!=null&&n.push(Qg(e,i,a))),e=e.return}return n}function Md(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function m6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=qg(r,i),l!=null&&s.unshift(Qg(r,l,o))):a||(l=qg(r,i),l!=null&&s.push(Qg(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var QX=/\r\n?/g,JX=/\u0000|\uFFFD/g;function g6(e){return(typeof e=="string"?e:""+e).replace(QX,`
`).replace(JX,"")}function jy(e,t,r){if(t=g6(t),g6(e)!==t&&r)throw Error(mt(425))}function f2(){}var zA=null,qA=null;function WA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var HA=typeof setTimeout=="function"?setTimeout:void 0,ZX=typeof clearTimeout=="function"?clearTimeout:void 0,v6=typeof Promise=="function"?Promise:void 0,eQ=typeof queueMicrotask=="function"?queueMicrotask:typeof v6<"u"?function(e){return v6.resolve(null).then(e).catch(tQ)}:HA;function tQ(e){setTimeout(function(){throw e})}function M_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Gg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gg(t)}function Qu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function y6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),Sl="__reactFiber$"+Cp,Jg="__reactProps$"+Cp,Ec="__reactContainer$"+Cp,GA="__reactEvents$"+Cp,rQ="__reactListeners$"+Cp,nQ="__reactHandles$"+Cp;function gh(e){var t=e[Sl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ec]||r[Sl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=y6(e);e!==null;){if(r=e[Sl])return r;e=y6(e)}return t}e=r,r=e.parentNode}return null}function wv(e){return e=e[Sl]||e[Ec],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function r0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function _w(e){return e[Jg]||null}var KA=[],n0=-1;function Ef(e){return{current:e}}function xn(e){0>n0||(e.current=KA[n0],KA[n0]=null,n0--)}function un(e,t){n0++,KA[n0]=e.current,e.current=t}var hf={},_i=Ef(hf),ls=Ef(!1),Mh=hf;function V0(e,t){var r=e.type.contextTypes;if(!r)return hf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cs(e){return e=e.childContextTypes,e!=null}function h2(){xn(ls),xn(_i)}function x6(e,t,r){if(_i.current!==hf)throw Error(mt(168));un(_i,t),un(ls,r)}function w7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(mt(108,VY(e)||"Unknown",a));return On({},r,n)}function d2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hf,Mh=_i.current,un(_i,e),un(ls,ls.current),!0}function b6(e,t,r){var n=e.stateNode;if(!n)throw Error(mt(169));r?(e=w7(e,t,Mh),n.__reactInternalMemoizedMergedChildContext=e,xn(ls),xn(_i),un(_i,e)):xn(ls),un(ls,r)}var lc=null,Sw=!1,R_=!1;function _7(e){lc===null?lc=[e]:lc.push(e)}function aQ(e){Sw=!0,_7(e)}function kf(){if(!R_&&lc!==null){R_=!0;var e=0,t=Hr;try{var r=lc;for(Hr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lc=null,Sw=!1}catch(a){throw lc!==null&&(lc=lc.slice(e+1)),GF(x3,kf),a}finally{Hr=t,R_=!1}}return null}var a0=[],i0=0,p2=null,m2=0,ao=[],io=0,Rh=null,cc=1,uc="";function ih(e,t){a0[i0++]=m2,a0[i0++]=p2,p2=e,m2=t}function S7(e,t,r){ao[io++]=cc,ao[io++]=uc,ao[io++]=Rh,Rh=e;var n=cc;e=uc;var a=32-Qo(n)-1;n&=~(1<<a),r+=1;var i=32-Qo(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,cc=1<<32-Qo(t)+a|r<<a|n,uc=i+e}else cc=1<<i|r<<a|n,uc=e}function P3(e){e.return!==null&&(ih(e,1),S7(e,1,0))}function C3(e){for(;e===p2;)p2=a0[--i0],a0[i0]=null,m2=a0[--i0],a0[i0]=null;for(;e===Rh;)Rh=ao[--io],ao[io]=null,uc=ao[--io],ao[io]=null,cc=ao[--io],ao[io]=null}var Is=null,Cs=null,_n=!1,zo=null;function A7(e,t){var r=so(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function w6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Is=e,Cs=Qu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Is=e,Cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rh!==null?{id:cc,overflow:uc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=so(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Is=e,Cs=null,!0):!1;default:return!1}}function YA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XA(e){if(_n){var t=Cs;if(t){var r=t;if(!w6(e,t)){if(YA(e))throw Error(mt(418));t=Qu(r.nextSibling);var n=Is;t&&w6(e,t)?A7(n,r):(e.flags=e.flags&-4097|2,_n=!1,Is=e)}}else{if(YA(e))throw Error(mt(418));e.flags=e.flags&-4097|2,_n=!1,Is=e}}}function _6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Is=e}function My(e){if(e!==Is)return!1;if(!_n)return _6(e),_n=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!WA(e.type,e.memoizedProps)),t&&(t=Cs)){if(YA(e))throw T7(),Error(mt(418));for(;t;)A7(e,t),t=Qu(t.nextSibling)}if(_6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Cs=Qu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Cs=null}}else Cs=Is?Qu(e.stateNode.nextSibling):null;return!0}function T7(){for(var e=Cs;e;)e=Qu(e.nextSibling)}function U0(){Cs=Is=null,_n=!1}function N3(e){zo===null?zo=[e]:zo.push(e)}var iQ=Vc.ReactCurrentBatchConfig;function Em(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(mt(309));var n=r.stateNode}if(!n)throw Error(mt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(mt(284));if(!r._owner)throw Error(mt(290,e))}return e}function Ry(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S6(e){var t=e._init;return t(e._payload)}function E7(e){function t(y,_){if(e){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function r(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function a(y,_){return y=tf(y,_),y.index=0,y.sibling=null,y}function i(y,_,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,_,w,O){return _===null||_.tag!==6?(_=q_(w,y.mode,O),_.return=y,_):(_=a(_,w),_.return=y,_)}function l(y,_,w,O){var k=w.type;return k===Jd?u(y,_,w.props.children,O,w.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cu&&S6(k)===_.type)?(O=a(_,w.props),O.ref=Em(y,_,w),O.return=y,O):(O=$x(w.type,w.key,w.props,null,y.mode,O),O.ref=Em(y,_,w),O.return=y,O)}function c(y,_,w,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=W_(w,y.mode,O),_.return=y,_):(_=a(_,w.children||[]),_.return=y,_)}function u(y,_,w,O,k){return _===null||_.tag!==7?(_=Ph(w,y.mode,O,k),_.return=y,_):(_=a(_,w),_.return=y,_)}function f(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=q_(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ey:return w=$x(_.type,_.key,_.props,null,y.mode,w),w.ref=Em(y,null,_),w.return=y,w;case Qd:return _=W_(_,y.mode,w),_.return=y,_;case Cu:var O=_._init;return f(y,O(_._payload),w)}if(Gm(_)||wm(_))return _=Ph(_,y.mode,w,null),_.return=y,_;Ry(y,_)}return null}function h(y,_,w,O){var k=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(y,_,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ey:return w.key===k?l(y,_,w,O):null;case Qd:return w.key===k?c(y,_,w,O):null;case Cu:return k=w._init,h(y,_,k(w._payload),O)}if(Gm(w)||wm(w))return k!==null?null:u(y,_,w,O,null);Ry(y,w)}return null}function d(y,_,w,O,k){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(w)||null,o(_,y,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ey:return y=y.get(O.key===null?w:O.key)||null,l(_,y,O,k);case Qd:return y=y.get(O.key===null?w:O.key)||null,c(_,y,O,k);case Cu:var C=O._init;return d(y,_,w,C(O._payload),k)}if(Gm(O)||wm(O))return y=y.get(w)||null,u(_,y,O,k,null);Ry(_,O)}return null}function m(y,_,w,O){for(var k=null,C=null,T=_,S=_=0,A=null;T!==null&&S<w.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var I=h(y,T,w[S],O);if(I===null){T===null&&(T=A);break}e&&T&&I.alternate===null&&t(y,T),_=i(I,_,S),C===null?k=I:C.sibling=I,C=I,T=A}if(S===w.length)return r(y,T),_n&&ih(y,S),k;if(T===null){for(;S<w.length;S++)T=f(y,w[S],O),T!==null&&(_=i(T,_,S),C===null?k=T:C.sibling=T,C=T);return _n&&ih(y,S),k}for(T=n(y,T);S<w.length;S++)A=d(T,y,S,w[S],O),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?S:A.key),_=i(A,_,S),C===null?k=A:C.sibling=A,C=A);return e&&T.forEach(function(E){return t(y,E)}),_n&&ih(y,S),k}function p(y,_,w,O){var k=wm(w);if(typeof k!="function")throw Error(mt(150));if(w=k.call(w),w==null)throw Error(mt(151));for(var C=k=null,T=_,S=_=0,A=null,I=w.next();T!==null&&!I.done;S++,I=w.next()){T.index>S?(A=T,T=null):A=T.sibling;var E=h(y,T,I.value,O);if(E===null){T===null&&(T=A);break}e&&T&&E.alternate===null&&t(y,T),_=i(E,_,S),C===null?k=E:C.sibling=E,C=E,T=A}if(I.done)return r(y,T),_n&&ih(y,S),k;if(T===null){for(;!I.done;S++,I=w.next())I=f(y,I.value,O),I!==null&&(_=i(I,_,S),C===null?k=I:C.sibling=I,C=I);return _n&&ih(y,S),k}for(T=n(y,T);!I.done;S++,I=w.next())I=d(T,y,S,I.value,O),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?S:I.key),_=i(I,_,S),C===null?k=I:C.sibling=I,C=I);return e&&T.forEach(function(N){return t(y,N)}),_n&&ih(y,S),k}function v(y,_,w,O){if(typeof w=="object"&&w!==null&&w.type===Jd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ey:e:{for(var k=w.key,C=_;C!==null;){if(C.key===k){if(k=w.type,k===Jd){if(C.tag===7){r(y,C.sibling),_=a(C,w.props.children),_.return=y,y=_;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cu&&S6(k)===C.type){r(y,C.sibling),_=a(C,w.props),_.ref=Em(y,C,w),_.return=y,y=_;break e}r(y,C);break}else t(y,C);C=C.sibling}w.type===Jd?(_=Ph(w.props.children,y.mode,O,w.key),_.return=y,y=_):(O=$x(w.type,w.key,w.props,null,y.mode,O),O.ref=Em(y,_,w),O.return=y,y=O)}return s(y);case Qd:e:{for(C=w.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(y,_.sibling),_=a(_,w.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else t(y,_);_=_.sibling}_=W_(w,y.mode,O),_.return=y,y=_}return s(y);case Cu:return C=w._init,v(y,_,C(w._payload),O)}if(Gm(w))return m(y,_,w,O);if(wm(w))return p(y,_,w,O);Ry(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(y,_.sibling),_=a(_,w),_.return=y,y=_):(r(y,_),_=q_(w,y.mode,O),_.return=y,y=_),s(y)):r(y,_)}return v}var z0=E7(!0),k7=E7(!1),g2=Ef(null),v2=null,s0=null,O3=null;function I3(){O3=s0=v2=null}function D3(e){var t=g2.current;xn(g2),e._currentValue=t}function QA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function S0(e,t){v2=e,O3=s0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(is=!0),e.firstContext=null)}function ho(e){var t=e._currentValue;if(O3!==e)if(e={context:e,memoizedValue:t,next:null},s0===null){if(v2===null)throw Error(mt(308));s0=e,v2.dependencies={lanes:0,firstContext:e}}else s0=s0.next=e;return t}var vh=null;function L3(e){vh===null?vh=[e]:vh.push(e)}function P7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,L3(t)):(r.next=a.next,a.next=r),t.interleaved=r,kc(e,n)}function kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nu=!1;function j3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ju(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Tr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,kc(e,r)}return a=n.interleaved,a===null?(t.next=t,L3(n)):(t.next=a.next,a.next=t),n.interleaved=t,kc(e,r)}function Dx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b3(e,r)}}function A6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function y2(e,t,r,n){var a=e.updateQueue;Nu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,d=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=On({},f,h);break e;case 2:Nu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$h|=s,e.lanes=s,e.memoizedState=f}}function T6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(mt(191,a));a.call(n)}}}var _v={},kl=Ef(_v),Zg=Ef(_v),e1=Ef(_v);function yh(e){if(e===_v)throw Error(mt(174));return e}function M3(e,t){switch(un(e1,t),un(Zg,e),un(kl,_v),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:OA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=OA(t,e)}xn(kl),un(kl,t)}function q0(){xn(kl),xn(Zg),xn(e1)}function N7(e){yh(e1.current);var t=yh(kl.current),r=OA(t,e.type);t!==r&&(un(Zg,e),un(kl,r))}function R3(e){Zg.current===e&&(xn(kl),xn(Zg))}var Pn=Ef(0);function x2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var F_=[];function F3(){for(var e=0;e<F_.length;e++)F_[e]._workInProgressVersionPrimary=null;F_.length=0}var Lx=Vc.ReactCurrentDispatcher,$_=Vc.ReactCurrentBatchConfig,Fh=0,Cn=null,va=null,Na=null,b2=!1,fg=!1,t1=0,sQ=0;function ti(){throw Error(mt(321))}function $3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rl(e[r],t[r]))return!1;return!0}function B3(e,t,r,n,a,i){if(Fh=i,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lx.current=e===null||e.memoizedState===null?uQ:fQ,e=r(n,a),fg){i=0;do{if(fg=!1,t1=0,25<=i)throw Error(mt(301));i+=1,Na=va=null,t.updateQueue=null,Lx.current=hQ,e=r(n,a)}while(fg)}if(Lx.current=w2,t=va!==null&&va.next!==null,Fh=0,Na=va=Cn=null,b2=!1,t)throw Error(mt(300));return e}function V3(){var e=t1!==0;return t1=0,e}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Na===null?Cn.memoizedState=Na=e:Na=Na.next=e,Na}function po(){if(va===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=va.next;var t=Na===null?Cn.memoizedState:Na.next;if(t!==null)Na=t,va=e;else{if(e===null)throw Error(mt(310));va=e,e={memoizedState:va.memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},Na===null?Cn.memoizedState=Na=e:Na=Na.next=e}return Na}function r1(e,t){return typeof t=="function"?t(e):t}function B_(e){var t=po(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=va,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Fh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Cn.lanes|=u,$h|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,rl(n,t.memoizedState)||(is=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cn.lanes|=i,$h|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function V_(e){var t=po(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);rl(i,t.memoizedState)||(is=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function O7(){}function I7(e,t){var r=Cn,n=po(),a=t(),i=!rl(n.memoizedState,a);if(i&&(n.memoizedState=a,is=!0),n=n.queue,U3(j7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Na!==null&&Na.memoizedState.tag&1){if(r.flags|=2048,n1(9,L7.bind(null,r,n,a,t),void 0,null),Da===null)throw Error(mt(349));Fh&30||D7(r,t,a)}return a}function D7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function L7(e,t,r,n){t.value=r,t.getSnapshot=n,M7(t)&&R7(e)}function j7(e,t,r){return r(function(){M7(t)&&R7(e)})}function M7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rl(e,r)}catch{return!0}}function R7(e){var t=kc(e,1);t!==null&&Jo(t,e,1,-1)}function E6(e){var t=bl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:e},t.queue=e,e=e.dispatch=cQ.bind(null,Cn,e),[t.memoizedState,e]}function n1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function F7(){return po().memoizedState}function jx(e,t,r,n){var a=bl();Cn.flags|=e,a.memoizedState=n1(1|t,r,void 0,n===void 0?null:n)}function Aw(e,t,r,n){var a=po();n=n===void 0?null:n;var i=void 0;if(va!==null){var s=va.memoizedState;if(i=s.destroy,n!==null&&$3(n,s.deps)){a.memoizedState=n1(t,r,i,n);return}}Cn.flags|=e,a.memoizedState=n1(1|t,r,i,n)}function k6(e,t){return jx(8390656,8,e,t)}function U3(e,t){return Aw(2048,8,e,t)}function $7(e,t){return Aw(4,2,e,t)}function B7(e,t){return Aw(4,4,e,t)}function V7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U7(e,t,r){return r=r!=null?r.concat([e]):null,Aw(4,4,V7.bind(null,t,e),r)}function z3(){}function z7(e,t){var r=po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function q7(e,t){var r=po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function W7(e,t,r){return Fh&21?(rl(r,t)||(r=XF(),Cn.lanes|=r,$h|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,is=!0),e.memoizedState=r)}function oQ(e,t){var r=Hr;Hr=r!==0&&4>r?r:4,e(!0);var n=$_.transition;$_.transition={};try{e(!1),t()}finally{Hr=r,$_.transition=n}}function H7(){return po().memoizedState}function lQ(e,t,r){var n=ef(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},G7(e))K7(t,r);else if(r=P7(e,t,r,n),r!==null){var a=Bi();Jo(r,e,n,a),Y7(r,t,n)}}function cQ(e,t,r){var n=ef(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(G7(e))K7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,rl(o,s)){var l=t.interleaved;l===null?(a.next=a,L3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=P7(e,t,a,n),r!==null&&(a=Bi(),Jo(r,e,n,a),Y7(r,t,n))}}function G7(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function K7(e,t){fg=b2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Y7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,b3(e,r)}}var w2={readContext:ho,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},uQ={readContext:ho,useCallback:function(e,t){return bl().memoizedState=[e,t===void 0?null:t],e},useContext:ho,useEffect:k6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jx(4194308,4,V7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jx(4194308,4,e,t)},useInsertionEffect:function(e,t){return jx(4,2,e,t)},useMemo:function(e,t){var r=bl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lQ.bind(null,Cn,e),[n.memoizedState,e]},useRef:function(e){var t=bl();return e={current:e},t.memoizedState=e},useState:E6,useDebugValue:z3,useDeferredValue:function(e){return bl().memoizedState=e},useTransition:function(){var e=E6(!1),t=e[0];return e=oQ.bind(null,e[1]),bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cn,a=bl();if(_n){if(r===void 0)throw Error(mt(407));r=r()}else{if(r=t(),Da===null)throw Error(mt(349));Fh&30||D7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,k6(j7.bind(null,n,i,e),[e]),n.flags|=2048,n1(9,L7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=bl(),t=Da.identifierPrefix;if(_n){var r=uc,n=cc;r=(n&~(1<<32-Qo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=t1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fQ={readContext:ho,useCallback:z7,useContext:ho,useEffect:U3,useImperativeHandle:U7,useInsertionEffect:$7,useLayoutEffect:B7,useMemo:q7,useReducer:B_,useRef:F7,useState:function(){return B_(r1)},useDebugValue:z3,useDeferredValue:function(e){var t=po();return W7(t,va.memoizedState,e)},useTransition:function(){var e=B_(r1)[0],t=po().memoizedState;return[e,t]},useMutableSource:O7,useSyncExternalStore:I7,useId:H7,unstable_isNewReconciler:!1},hQ={readContext:ho,useCallback:z7,useContext:ho,useEffect:U3,useImperativeHandle:U7,useInsertionEffect:$7,useLayoutEffect:B7,useMemo:q7,useReducer:V_,useRef:F7,useState:function(){return V_(r1)},useDebugValue:z3,useDeferredValue:function(e){var t=po();return va===null?t.memoizedState=e:W7(t,va.memoizedState,e)},useTransition:function(){var e=V_(r1)[0],t=po().memoizedState;return[e,t]},useMutableSource:O7,useSyncExternalStore:I7,useId:H7,unstable_isNewReconciler:!1};function Fo(e,t){if(e&&e.defaultProps){t=On({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function JA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:On({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tw={isMounted:function(e){return(e=e._reactInternals)?Zh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Bi(),a=ef(e),i=gc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ju(e,i,a),t!==null&&(Jo(t,e,a,n),Dx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Bi(),a=ef(e),i=gc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ju(e,i,a),t!==null&&(Jo(t,e,a,n),Dx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Bi(),n=ef(e),a=gc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ju(e,a,n),t!==null&&(Jo(t,e,n,r),Dx(t,e,n))}};function P6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Yg(r,n)||!Yg(a,i):!0}function X7(e,t,r){var n=!1,a=hf,i=t.contextType;return typeof i=="object"&&i!==null?i=ho(i):(a=cs(t)?Mh:_i.current,n=t.contextTypes,i=(n=n!=null)?V0(e,a):hf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function C6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tw.enqueueReplaceState(t,t.state,null)}function ZA(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},j3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ho(i):(i=cs(t)?Mh:_i.current,a.context=V0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(JA(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Tw.enqueueReplaceState(a,a.state,null),y2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function W0(e,t){try{var r="",n=t;do r+=BY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function U_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function e4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dQ=typeof WeakMap=="function"?WeakMap:Map;function Q7(e,t,r){r=gc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){S2||(S2=!0,u4=n),e4(e,t)},r}function J7(e,t,r){r=gc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){e4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){e4(e,t),typeof n!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function N6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kQ.bind(null,e,t,r),t.then(e,e))}function O6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function I6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gc(-1,1),t.tag=2,Ju(r,t,1))),r.lanes|=1),e)}var pQ=Vc.ReactCurrentOwner,is=!1;function Li(e,t,r,n){t.child=e===null?k7(t,null,r,n):z0(t,e.child,r,n)}function D6(e,t,r,n,a){r=r.render;var i=t.ref;return S0(t,a),n=B3(e,t,r,n,i,a),r=V3(),e!==null&&!is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(_n&&r&&P3(t),t.flags|=1,Li(e,t,n,a),t.child)}function L6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Q3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Z7(e,t,i,n,a)):(e=$x(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yg,r(s,n)&&e.ref===t.ref)return Pc(e,t,a)}return t.flags|=1,e=tf(i,n),e.ref=t.ref,e.return=t,t.child=e}function Z7(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Yg(i,n)&&e.ref===t.ref)if(is=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(is=!0);else return t.lanes=e.lanes,Pc(e,t,a)}return t4(e,t,r,n,a)}function e9(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(l0,As),As|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(l0,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,un(l0,As),As|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,un(l0,As),As|=n;return Li(e,t,a,r),t.child}function t9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function t4(e,t,r,n,a){var i=cs(r)?Mh:_i.current;return i=V0(t,i),S0(t,a),r=B3(e,t,r,n,i,a),n=V3(),e!==null&&!is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(_n&&n&&P3(t),t.flags|=1,Li(e,t,r,a),t.child)}function j6(e,t,r,n,a){if(cs(r)){var i=!0;d2(t)}else i=!1;if(S0(t,a),t.stateNode===null)Mx(e,t),X7(t,r,n),ZA(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=ho(c):(c=cs(r)?Mh:_i.current,c=V0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&C6(t,s,n,c),Nu=!1;var h=t.memoizedState;s.state=h,y2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ls.current||Nu?(typeof u=="function"&&(JA(t,r,u,n),l=t.memoizedState),(o=Nu||P6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,C7(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Fo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ho(l):(l=cs(r)?Mh:_i.current,l=V0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&C6(t,s,n,l),Nu=!1,h=t.memoizedState,s.state=h,y2(t,n,s,a);var m=t.memoizedState;o!==f||h!==m||ls.current||Nu?(typeof d=="function"&&(JA(t,r,d,n),m=t.memoizedState),(c=Nu||P6(t,r,c,n,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return r4(e,t,r,n,i,a)}function r4(e,t,r,n,a,i){t9(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&b6(t,r,!1),Pc(e,t,i);n=t.stateNode,pQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=z0(t,e.child,null,i),t.child=z0(t,null,o,i)):Li(e,t,o,i),t.memoizedState=n.state,a&&b6(t,r,!0),t.child}function r9(e){var t=e.stateNode;t.pendingContext?x6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x6(e,t.context,!1),M3(e,t.containerInfo)}function M6(e,t,r,n,a){return U0(),N3(a),t.flags|=256,Li(e,t,r,n),t.child}var n4={dehydrated:null,treeContext:null,retryLane:0};function a4(e){return{baseLanes:e,cachePool:null,transitions:null}}function n9(e,t,r){var n=t.pendingProps,a=Pn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),un(Pn,a&1),e===null)return XA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Pw(s,n,0,null),e=Ph(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=a4(r),t.memoizedState=n4,e):q3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return mQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=tf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=tf(o,i):(i=Ph(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?a4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=n4,n}return i=e.child,e=i.sibling,n=tf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function q3(e,t){return t=Pw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fy(e,t,r,n){return n!==null&&N3(n),z0(t,e.child,null,r),e=q3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=U_(Error(mt(422))),Fy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Pw({mode:"visible",children:n.children},a,0,null),i=Ph(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&z0(t,e.child,null,s),t.child.memoizedState=a4(s),t.memoizedState=n4,i);if(!(t.mode&1))return Fy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(mt(419)),n=U_(i,n,void 0),Fy(e,t,s,n)}if(o=(s&e.childLanes)!==0,is||o){if(n=Da,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kc(e,a),Jo(n,e,a,-1))}return X3(),n=U_(Error(mt(421))),Fy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=PQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Cs=Qu(a.nextSibling),Is=t,_n=!0,zo=null,e!==null&&(ao[io++]=cc,ao[io++]=uc,ao[io++]=Rh,cc=e.id,uc=e.overflow,Rh=t),t=q3(t,n.children),t.flags|=4096,t)}function R6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),QA(e.return,t,r)}function z_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function a9(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Li(e,t,n.children,r),n=Pn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&R6(e,r,t);else if(e.tag===19)R6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(un(Pn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&x2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),z_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&x2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}z_(t,!0,r,null,i);break;case"together":z_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$h|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,r=tf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gQ(e,t,r){switch(t.tag){case 3:r9(t),U0();break;case 5:N7(t);break;case 1:cs(t.type)&&d2(t);break;case 4:M3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;un(g2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(un(Pn,Pn.current&1),t.flags|=128,null):r&t.child.childLanes?n9(e,t,r):(un(Pn,Pn.current&1),e=Pc(e,t,r),e!==null?e.sibling:null);un(Pn,Pn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return a9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),un(Pn,Pn.current),n)break;return null;case 22:case 23:return t.lanes=0,e9(e,t,r)}return Pc(e,t,r)}var i9,i4,s9,o9;i9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};i4=function(){};s9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yh(kl.current);var i=null;switch(r){case"input":a=kA(e,a),n=kA(e,n),i=[];break;case"select":a=On({},a,{value:void 0}),n=On({},n,{value:void 0}),i=[];break;case"textarea":a=NA(e,a),n=NA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=f2)}IA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ug.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ug.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};o9=function(e,t,r,n){r!==n&&(t.flags|=4)};function km(e,t){if(!_n)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vQ(e,t,r){var n=t.pendingProps;switch(C3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return cs(t.type)&&h2(),ri(t),null;case 3:return n=t.stateNode,q0(),xn(ls),xn(_i),F3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(My(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zo!==null&&(d4(zo),zo=null))),i4(e,t),ri(t),null;case 5:R3(t);var a=yh(e1.current);if(r=t.type,e!==null&&t.stateNode!=null)s9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(mt(166));return ri(t),null}if(e=yh(kl.current),My(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Sl]=t,n[Jg]=i,e=(t.mode&1)!==0,r){case"dialog":pn("cancel",n),pn("close",n);break;case"iframe":case"object":case"embed":pn("load",n);break;case"video":case"audio":for(a=0;a<Ym.length;a++)pn(Ym[a],n);break;case"source":pn("error",n);break;case"img":case"image":case"link":pn("error",n),pn("load",n);break;case"details":pn("toggle",n);break;case"input":HN(n,i),pn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pn("invalid",n);break;case"textarea":KN(n,i),pn("invalid",n)}IA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&jy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&jy(n.textContent,o,e),a=["children",""+o]):Ug.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&pn("scroll",n)}switch(r){case"input":ky(n),GN(n,i,!0);break;case"textarea":ky(n),YN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=f2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Sl]=t,e[Jg]=n,i9(e,t,!1,!1),t.stateNode=e;e:{switch(s=DA(r,n),r){case"dialog":pn("cancel",e),pn("close",e),a=n;break;case"iframe":case"object":case"embed":pn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ym.length;a++)pn(Ym[a],e);a=n;break;case"source":pn("error",e),a=n;break;case"img":case"image":case"link":pn("error",e),pn("load",e),a=n;break;case"details":pn("toggle",e),a=n;break;case"input":HN(e,n),a=kA(e,n),pn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=On({},n,{value:void 0}),pn("invalid",e);break;case"textarea":KN(e,n),a=NA(e,n),pn("invalid",e);break;default:a=n}IA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?FF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zg(e,l):typeof l=="number"&&zg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ug.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pn("scroll",e):l!=null&&p3(e,i,l,s))}switch(r){case"input":ky(e),GN(e,n,!1);break;case"textarea":ky(e),YN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ff(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?x0(e,!!n.multiple,i,!1):n.defaultValue!=null&&x0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=f2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)o9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(mt(166));if(r=yh(e1.current),yh(kl.current),My(t)){if(n=t.stateNode,r=t.memoizedProps,n[Sl]=t,(i=n.nodeValue!==r)&&(e=Is,e!==null))switch(e.tag){case 3:jy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sl]=t,t.stateNode=n}return ri(t),null;case 13:if(xn(Pn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_n&&Cs!==null&&t.mode&1&&!(t.flags&128))T7(),U0(),t.flags|=98560,i=!1;else if(i=My(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(mt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(mt(317));i[Sl]=t}else U0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),i=!1}else zo!==null&&(d4(zo),zo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pn.current&1?ya===0&&(ya=3):X3())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return q0(),i4(e,t),e===null&&Xg(t.stateNode.containerInfo),ri(t),null;case 10:return D3(t.type._context),ri(t),null;case 17:return cs(t.type)&&h2(),ri(t),null;case 19:if(xn(Pn),i=t.memoizedState,i===null)return ri(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)km(i,!1);else{if(ya!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=x2(e),s!==null){for(t.flags|=128,km(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return un(Pn,Pn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Yn()>H0&&(t.flags|=128,n=!0,km(i,!1),t.lanes=4194304)}else{if(!n)if(e=x2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),km(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!_n)return ri(t),null}else 2*Yn()-i.renderingStartTime>H0&&r!==1073741824&&(t.flags|=128,n=!0,km(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Yn(),t.sibling=null,r=Pn.current,un(Pn,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return Y3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?As&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function yQ(e,t){switch(C3(t),t.tag){case 1:return cs(t.type)&&h2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return q0(),xn(ls),xn(_i),F3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return R3(t),null;case 13:if(xn(Pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));U0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(Pn),null;case 4:return q0(),null;case 10:return D3(t.type._context),null;case 22:case 23:return Y3(),null;case 24:return null;default:return null}}var $y=!1,di=!1,xQ=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function o0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bn(e,t,n)}else r.current=null}function s4(e,t,r){try{r()}catch(n){Bn(e,t,n)}}var F6=!1;function bQ(e,t){if(zA=l2,e=h7(),k3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qA={focusedElem:e,selectionRange:r},l2=!1,Ot=t;Ot!==null;)if(t=Ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ot=e;else for(;Ot!==null;){t=Ot;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Fo(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(O){Bn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ot=e;break}Ot=t.return}return m=F6,F6=!1,m}function hg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&s4(t,r,i)}a=a.next}while(a!==n)}}function Ew(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function o4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function l9(e){var t=e.alternate;t!==null&&(e.alternate=null,l9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sl],delete t[Jg],delete t[GA],delete t[rQ],delete t[nQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c9(e){return e.tag===5||e.tag===3||e.tag===4}function $6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=f2));else if(n!==4&&(e=e.child,e!==null))for(l4(e,t,r),e=e.sibling;e!==null;)l4(e,t,r),e=e.sibling}function c4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(c4(e,t,r),e=e.sibling;e!==null;)c4(e,t,r),e=e.sibling}var Ua=null,Bo=!1;function _u(e,t,r){for(r=r.child;r!==null;)u9(e,t,r),r=r.sibling}function u9(e,t,r){if(El&&typeof El.onCommitFiberUnmount=="function")try{El.onCommitFiberUnmount(yw,r)}catch{}switch(r.tag){case 5:di||o0(r,t);case 6:var n=Ua,a=Bo;Ua=null,_u(e,t,r),Ua=n,Bo=a,Ua!==null&&(Bo?(e=Ua,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ua.removeChild(r.stateNode));break;case 18:Ua!==null&&(Bo?(e=Ua,r=r.stateNode,e.nodeType===8?M_(e.parentNode,r):e.nodeType===1&&M_(e,r),Gg(e)):M_(Ua,r.stateNode));break;case 4:n=Ua,a=Bo,Ua=r.stateNode.containerInfo,Bo=!0,_u(e,t,r),Ua=n,Bo=a;break;case 0:case 11:case 14:case 15:if(!di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&s4(r,t,s),a=a.next}while(a!==n)}_u(e,t,r);break;case 1:if(!di&&(o0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Bn(r,t,o)}_u(e,t,r);break;case 21:_u(e,t,r);break;case 22:r.mode&1?(di=(n=di)||r.memoizedState!==null,_u(e,t,r),di=n):_u(e,t,r);break;default:_u(e,t,r)}}function B6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xQ),t.forEach(function(n){var a=CQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Oo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ua=o.stateNode,Bo=!1;break e;case 3:Ua=o.stateNode.containerInfo,Bo=!0;break e;case 4:Ua=o.stateNode.containerInfo,Bo=!0;break e}o=o.return}if(Ua===null)throw Error(mt(160));u9(i,s,a),Ua=null,Bo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Bn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f9(t,e),t=t.sibling}function f9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oo(t,e),gl(e),n&4){try{hg(3,e,e.return),Ew(3,e)}catch(p){Bn(e,e.return,p)}try{hg(5,e,e.return)}catch(p){Bn(e,e.return,p)}}break;case 1:Oo(t,e),gl(e),n&512&&r!==null&&o0(r,r.return);break;case 5:if(Oo(t,e),gl(e),n&512&&r!==null&&o0(r,r.return),e.flags&32){var a=e.stateNode;try{zg(a,"")}catch(p){Bn(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&DF(a,i),DA(o,s);var c=DA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?FF(a,f):u==="dangerouslySetInnerHTML"?MF(a,f):u==="children"?zg(a,f):p3(a,u,f,c)}switch(o){case"input":PA(a,i);break;case"textarea":LF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?x0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?x0(a,!!i.multiple,i.defaultValue,!0):x0(a,!!i.multiple,i.multiple?[]:"",!1))}a[Jg]=i}catch(p){Bn(e,e.return,p)}}break;case 6:if(Oo(t,e),gl(e),n&4){if(e.stateNode===null)throw Error(mt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Bn(e,e.return,p)}}break;case 3:if(Oo(t,e),gl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gg(t.containerInfo)}catch(p){Bn(e,e.return,p)}break;case 4:Oo(t,e),gl(e);break;case 13:Oo(t,e),gl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(G3=Yn())),n&4&&B6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(di=(c=di)||u,Oo(t,e),di=c):Oo(t,e),gl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ot=e,u=e.child;u!==null;){for(f=Ot=u;Ot!==null;){switch(h=Ot,d=h.child,h.tag){case 0:case 11:case 14:case 15:hg(4,h,h.return);break;case 1:o0(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Bn(n,r,p)}}break;case 5:o0(h,h.return);break;case 22:if(h.memoizedState!==null){U6(f);continue}}d!==null?(d.return=h,Ot=d):U6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=RF("display",s))}catch(p){Bn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){Bn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oo(t,e),gl(e),n&4&&B6(e);break;case 21:break;default:Oo(t,e),gl(e)}}function gl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c9(r)){var n=r;break e}r=r.return}throw Error(mt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(zg(a,""),n.flags&=-33);var i=$6(e);c4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=$6(e);l4(e,o,s);break;default:throw Error(mt(161))}}catch(l){Bn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wQ(e,t,r){Ot=e,h9(e)}function h9(e,t,r){for(var n=(e.mode&1)!==0;Ot!==null;){var a=Ot,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||$y;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||di;o=$y;var c=di;if($y=s,(di=l)&&!c)for(Ot=a;Ot!==null;)s=Ot,l=s.child,s.tag===22&&s.memoizedState!==null?z6(a):l!==null?(l.return=s,Ot=l):z6(a);for(;i!==null;)Ot=i,h9(i),i=i.sibling;Ot=a,$y=o,di=c}V6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ot=i):V6(e)}}function V6(e){for(;Ot!==null;){var t=Ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:di||Ew(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!di)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Fo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&T6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}T6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Gg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}di||t.flags&512&&o4(t)}catch(h){Bn(t,t.return,h)}}if(t===e){Ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ot=r;break}Ot=t.return}}function U6(e){for(;Ot!==null;){var t=Ot;if(t===e){Ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ot=r;break}Ot=t.return}}function z6(e){for(;Ot!==null;){var t=Ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ew(4,t)}catch(l){Bn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Bn(t,a,l)}}var i=t.return;try{o4(t)}catch(l){Bn(t,i,l)}break;case 5:var s=t.return;try{o4(t)}catch(l){Bn(t,s,l)}}}catch(l){Bn(t,t.return,l)}if(t===e){Ot=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ot=o;break}Ot=t.return}}var _Q=Math.ceil,_2=Vc.ReactCurrentDispatcher,W3=Vc.ReactCurrentOwner,lo=Vc.ReactCurrentBatchConfig,Tr=0,Da=null,ca=null,Ka=0,As=0,l0=Ef(0),ya=0,a1=null,$h=0,kw=0,H3=0,dg=null,ns=null,G3=0,H0=1/0,oc=null,S2=!1,u4=null,Zu=null,By=!1,$u=null,A2=0,pg=0,f4=null,Rx=-1,Fx=0;function Bi(){return Tr&6?Yn():Rx!==-1?Rx:Rx=Yn()}function ef(e){return e.mode&1?Tr&2&&Ka!==0?Ka&-Ka:iQ.transition!==null?(Fx===0&&(Fx=XF()),Fx):(e=Hr,e!==0||(e=window.event,e=e===void 0?16:n7(e.type)),e):1}function Jo(e,t,r,n){if(50<pg)throw pg=0,f4=null,Error(mt(185));xv(e,r,n),(!(Tr&2)||e!==Da)&&(e===Da&&(!(Tr&2)&&(kw|=r),ya===4&&Du(e,Ka)),us(e,n),r===1&&Tr===0&&!(t.mode&1)&&(H0=Yn()+500,Sw&&kf()))}function us(e,t){var r=e.callbackNode;iX(e,t);var n=o2(e,e===Da?Ka:0);if(n===0)r!==null&&JN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&JN(r),t===1)e.tag===0?aQ(q6.bind(null,e)):_7(q6.bind(null,e)),eQ(function(){!(Tr&6)&&kf()}),r=null;else{switch(QF(n)){case 1:r=x3;break;case 4:r=KF;break;case 16:r=s2;break;case 536870912:r=YF;break;default:r=s2}r=b9(r,d9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function d9(e,t){if(Rx=-1,Fx=0,Tr&6)throw Error(mt(327));var r=e.callbackNode;if(A0()&&e.callbackNode!==r)return null;var n=o2(e,e===Da?Ka:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=T2(e,n);else{t=n;var a=Tr;Tr|=2;var i=m9();(Da!==e||Ka!==t)&&(oc=null,H0=Yn()+500,kh(e,t));do try{TQ();break}catch(o){p9(e,o)}while(!0);I3(),_2.current=i,Tr=a,ca!==null?t=0:(Da=null,Ka=0,t=ya)}if(t!==0){if(t===2&&(a=FA(e),a!==0&&(n=a,t=h4(e,a))),t===1)throw r=a1,kh(e,0),Du(e,n),us(e,Yn()),r;if(t===6)Du(e,n);else{if(a=e.current.alternate,!(n&30)&&!SQ(a)&&(t=T2(e,n),t===2&&(i=FA(e),i!==0&&(n=i,t=h4(e,i))),t===1))throw r=a1,kh(e,0),Du(e,n),us(e,Yn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(mt(345));case 2:sh(e,ns,oc);break;case 3:if(Du(e,n),(n&130023424)===n&&(t=G3+500-Yn(),10<t)){if(o2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Bi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=HA(sh.bind(null,e,ns,oc),t);break}sh(e,ns,oc);break;case 4:if(Du(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Qo(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_Q(n/1960))-n,10<n){e.timeoutHandle=HA(sh.bind(null,e,ns,oc),n);break}sh(e,ns,oc);break;case 5:sh(e,ns,oc);break;default:throw Error(mt(329))}}}return us(e,Yn()),e.callbackNode===r?d9.bind(null,e):null}function h4(e,t){var r=dg;return e.current.memoizedState.isDehydrated&&(kh(e,t).flags|=256),e=T2(e,t),e!==2&&(t=ns,ns=r,t!==null&&d4(t)),e}function d4(e){ns===null?ns=e:ns.push.apply(ns,e)}function SQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!rl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Du(e,t){for(t&=~H3,t&=~kw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qo(t),n=1<<r;e[r]=-1,t&=~n}}function q6(e){if(Tr&6)throw Error(mt(327));A0();var t=o2(e,0);if(!(t&1))return us(e,Yn()),null;var r=T2(e,t);if(e.tag!==0&&r===2){var n=FA(e);n!==0&&(t=n,r=h4(e,n))}if(r===1)throw r=a1,kh(e,0),Du(e,t),us(e,Yn()),r;if(r===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sh(e,ns,oc),us(e,Yn()),null}function K3(e,t){var r=Tr;Tr|=1;try{return e(t)}finally{Tr=r,Tr===0&&(H0=Yn()+500,Sw&&kf())}}function Bh(e){$u!==null&&$u.tag===0&&!(Tr&6)&&A0();var t=Tr;Tr|=1;var r=lo.transition,n=Hr;try{if(lo.transition=null,Hr=1,e)return e()}finally{Hr=n,lo.transition=r,Tr=t,!(Tr&6)&&kf()}}function Y3(){As=l0.current,xn(l0)}function kh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZX(r)),ca!==null)for(r=ca.return;r!==null;){var n=r;switch(C3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&h2();break;case 3:q0(),xn(ls),xn(_i),F3();break;case 5:R3(n);break;case 4:q0();break;case 13:xn(Pn);break;case 19:xn(Pn);break;case 10:D3(n.type._context);break;case 22:case 23:Y3()}r=r.return}if(Da=e,ca=e=tf(e.current,null),Ka=As=t,ya=0,a1=null,H3=kw=$h=0,ns=dg=null,vh!==null){for(t=0;t<vh.length;t++)if(r=vh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}vh=null}return e}function p9(e,t){do{var r=ca;try{if(I3(),Lx.current=w2,b2){for(var n=Cn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}b2=!1}if(Fh=0,Na=va=Cn=null,fg=!1,t1=0,W3.current=null,r===null||r.return===null){ya=1,a1=t,ca=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Ka,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=O6(s);if(d!==null){d.flags&=-257,I6(d,s,o,i,t),d.mode&1&&N6(i,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){N6(i,c,t),X3();break e}l=Error(mt(426))}}else if(_n&&o.mode&1){var v=O6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),I6(v,s,o,i,t),N3(W0(l,o));break e}}i=l=W0(l,o),ya!==4&&(ya=2),dg===null?dg=[i]:dg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Q7(i,l,t);A6(i,y);break e;case 1:o=l;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zu===null||!Zu.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=J7(i,o,t);A6(i,O);break e}}i=i.return}while(i!==null)}v9(r)}catch(k){t=k,ca===r&&r!==null&&(ca=r=r.return);continue}break}while(!0)}function m9(){var e=_2.current;return _2.current=w2,e===null?w2:e}function X3(){(ya===0||ya===3||ya===2)&&(ya=4),Da===null||!($h&268435455)&&!(kw&268435455)||Du(Da,Ka)}function T2(e,t){var r=Tr;Tr|=2;var n=m9();(Da!==e||Ka!==t)&&(oc=null,kh(e,t));do try{AQ();break}catch(a){p9(e,a)}while(!0);if(I3(),Tr=r,_2.current=n,ca!==null)throw Error(mt(261));return Da=null,Ka=0,ya}function AQ(){for(;ca!==null;)g9(ca)}function TQ(){for(;ca!==null&&!XY();)g9(ca)}function g9(e){var t=x9(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?v9(e):ca=t,W3.current=null}function v9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yQ(r,t),r!==null){r.flags&=32767,ca=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ya=6,ca=null;return}}else if(r=vQ(r,t,As),r!==null){ca=r;return}if(t=t.sibling,t!==null){ca=t;return}ca=t=e}while(t!==null);ya===0&&(ya=5)}function sh(e,t,r){var n=Hr,a=lo.transition;try{lo.transition=null,Hr=1,EQ(e,t,r,n)}finally{lo.transition=a,Hr=n}return null}function EQ(e,t,r,n){do A0();while($u!==null);if(Tr&6)throw Error(mt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sX(e,i),e===Da&&(ca=Da=null,Ka=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||By||(By=!0,b9(s2,function(){return A0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lo.transition,lo.transition=null;var s=Hr;Hr=1;var o=Tr;Tr|=4,W3.current=null,bQ(e,r),f9(r,e),HX(qA),l2=!!zA,qA=zA=null,e.current=r,wQ(r),QY(),Tr=o,Hr=s,lo.transition=i}else e.current=r;if(By&&(By=!1,$u=e,A2=a),i=e.pendingLanes,i===0&&(Zu=null),eX(r.stateNode),us(e,Yn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(S2)throw S2=!1,e=u4,u4=null,e;return A2&1&&e.tag!==0&&A0(),i=e.pendingLanes,i&1?e===f4?pg++:(pg=0,f4=e):pg=0,kf(),null}function A0(){if($u!==null){var e=QF(A2),t=lo.transition,r=Hr;try{if(lo.transition=null,Hr=16>e?16:e,$u===null)var n=!1;else{if(e=$u,$u=null,A2=0,Tr&6)throw Error(mt(331));var a=Tr;for(Tr|=4,Ot=e.current;Ot!==null;){var i=Ot,s=i.child;if(Ot.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ot=c;Ot!==null;){var u=Ot;switch(u.tag){case 0:case 11:case 15:hg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ot=f;else for(;Ot!==null;){u=Ot;var h=u.sibling,d=u.return;if(l9(u),u===c){Ot=null;break}if(h!==null){h.return=d,Ot=h;break}Ot=d}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ot=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ot=s;else e:for(;Ot!==null;){if(i=Ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ot=y;break e}Ot=i.return}}var _=e.current;for(Ot=_;Ot!==null;){s=Ot;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ot=w;else e:for(s=_;Ot!==null;){if(o=Ot,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ew(9,o)}}catch(k){Bn(o,o.return,k)}if(o===s){Ot=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Ot=O;break e}Ot=o.return}}if(Tr=a,kf(),El&&typeof El.onPostCommitFiberRoot=="function")try{El.onPostCommitFiberRoot(yw,e)}catch{}n=!0}return n}finally{Hr=r,lo.transition=t}}return!1}function W6(e,t,r){t=W0(r,t),t=Q7(e,t,1),e=Ju(e,t,1),t=Bi(),e!==null&&(xv(e,1,t),us(e,t))}function Bn(e,t,r){if(e.tag===3)W6(e,e,r);else for(;t!==null;){if(t.tag===3){W6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zu===null||!Zu.has(n))){e=W0(r,e),e=J7(t,e,1),t=Ju(t,e,1),e=Bi(),t!==null&&(xv(t,1,e),us(t,e));break}}t=t.return}}function kQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&r,Da===e&&(Ka&r)===r&&(ya===4||ya===3&&(Ka&130023424)===Ka&&500>Yn()-G3?kh(e,0):H3|=r),us(e,t)}function y9(e,t){t===0&&(e.mode&1?(t=Ny,Ny<<=1,!(Ny&130023424)&&(Ny=4194304)):t=1);var r=Bi();e=kc(e,t),e!==null&&(xv(e,t,r),us(e,r))}function PQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y9(e,r)}function CQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(mt(314))}n!==null&&n.delete(t),y9(e,r)}var x9;x9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ls.current)is=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return is=!1,gQ(e,t,r);is=!!(e.flags&131072)}else is=!1,_n&&t.flags&1048576&&S7(t,m2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mx(e,t),e=t.pendingProps;var a=V0(t,_i.current);S0(t,r),a=B3(null,t,n,e,a,r);var i=V3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(n)?(i=!0,d2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,j3(t),a.updater=Tw,t.stateNode=a,a._reactInternals=t,ZA(t,n,e,r),t=r4(null,t,n,!0,i,r)):(t.tag=0,_n&&i&&P3(t),Li(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=OQ(n),e=Fo(n,e),a){case 0:t=t4(null,t,n,e,r);break e;case 1:t=j6(null,t,n,e,r);break e;case 11:t=D6(null,t,n,e,r);break e;case 14:t=L6(null,t,n,Fo(n.type,e),r);break e}throw Error(mt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fo(n,a),t4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fo(n,a),j6(e,t,n,a,r);case 3:e:{if(r9(t),e===null)throw Error(mt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,C7(e,t),y2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=W0(Error(mt(423)),t),t=M6(e,t,n,r,a);break e}else if(n!==a){a=W0(Error(mt(424)),t),t=M6(e,t,n,r,a);break e}else for(Cs=Qu(t.stateNode.containerInfo.firstChild),Is=t,_n=!0,zo=null,r=k7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(U0(),n===a){t=Pc(e,t,r);break e}Li(e,t,n,r)}t=t.child}return t;case 5:return N7(t),e===null&&XA(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,WA(n,a)?s=null:i!==null&&WA(n,i)&&(t.flags|=32),t9(e,t),Li(e,t,s,r),t.child;case 6:return e===null&&XA(t),null;case 13:return n9(e,t,r);case 4:return M3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=z0(t,null,n,r):Li(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fo(n,a),D6(e,t,n,a,r);case 7:return Li(e,t,t.pendingProps,r),t.child;case 8:return Li(e,t,t.pendingProps.children,r),t.child;case 12:return Li(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,un(g2,n._currentValue),n._currentValue=s,i!==null)if(rl(i.value,s)){if(i.children===a.children&&!ls.current){t=Pc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=gc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),QA(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(mt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),QA(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Li(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,S0(t,r),a=ho(a),n=n(a),t.flags|=1,Li(e,t,n,r),t.child;case 14:return n=t.type,a=Fo(n,t.pendingProps),a=Fo(n.type,a),L6(e,t,n,a,r);case 15:return Z7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fo(n,a),Mx(e,t),t.tag=1,cs(n)?(e=!0,d2(t)):e=!1,S0(t,r),X7(t,n,a),ZA(t,n,a,r),r4(null,t,n,!0,e,r);case 19:return a9(e,t,r);case 22:return e9(e,t,r)}throw Error(mt(156,t.tag))};function b9(e,t){return GF(e,t)}function NQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(e,t,r,n){return new NQ(e,t,r,n)}function Q3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OQ(e){if(typeof e=="function")return Q3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===g3)return 11;if(e===v3)return 14}return 2}function tf(e,t){var r=e.alternate;return r===null?(r=so(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $x(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Q3(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jd:return Ph(r.children,a,i,t);case m3:s=8,a|=8;break;case SA:return e=so(12,r,t,a|2),e.elementType=SA,e.lanes=i,e;case AA:return e=so(13,r,t,a),e.elementType=AA,e.lanes=i,e;case TA:return e=so(19,r,t,a),e.elementType=TA,e.lanes=i,e;case NF:return Pw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PF:s=10;break e;case CF:s=9;break e;case g3:s=11;break e;case v3:s=14;break e;case Cu:s=16,n=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=so(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ph(e,t,r,n){return e=so(7,e,n,t),e.lanes=r,e}function Pw(e,t,r,n){return e=so(22,e,n,t),e.elementType=NF,e.lanes=r,e.stateNode={isHidden:!1},e}function q_(e,t,r){return e=so(6,e,null,t),e.lanes=r,e}function W_(e,t,r){return t=so(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T_(0),this.expirationTimes=T_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function J3(e,t,r,n,a,i,s,o,l){return e=new IQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=so(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j3(i),e}function DQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function w9(e){if(!e)return hf;e=e._reactInternals;e:{if(Zh(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var r=e.type;if(cs(r))return w7(e,r,t)}return t}function _9(e,t,r,n,a,i,s,o,l){return e=J3(r,n,!0,e,a,i,s,o,l),e.context=w9(null),r=e.current,n=Bi(),a=ef(r),i=gc(n,a),i.callback=t??null,Ju(r,i,a),e.current.lanes=a,xv(e,a,n),us(e,n),e}function Cw(e,t,r,n){var a=t.current,i=Bi(),s=ef(a);return r=w9(r),t.context===null?t.context=r:t.pendingContext=r,t=gc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ju(a,t,s),e!==null&&(Jo(e,a,s,i),Dx(e,a,s)),s}function E2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Z3(e,t){H6(e,t),(e=e.alternate)&&H6(e,t)}function LQ(){return null}var S9=typeof reportError=="function"?reportError:function(e){console.error(e)};function ek(e){this._internalRoot=e}Nw.prototype.render=ek.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));Cw(e,t,null,null)};Nw.prototype.unmount=ek.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bh(function(){Cw(null,e,null,null)}),t[Ec]=null}};function Nw(e){this._internalRoot=e}Nw.prototype.unstable_scheduleHydration=function(e){if(e){var t=e7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Iu.length&&t!==0&&t<Iu[r].priority;r++);Iu.splice(r,0,e),r===0&&r7(e)}};function tk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ow(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G6(){}function jQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=E2(s);i.call(c)}}var s=_9(t,n,e,0,null,!1,!1,"",G6);return e._reactRootContainer=s,e[Ec]=s.current,Xg(e.nodeType===8?e.parentNode:e),Bh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=E2(l);o.call(c)}}var l=J3(e,0,!1,null,null,!1,!1,"",G6);return e._reactRootContainer=l,e[Ec]=l.current,Xg(e.nodeType===8?e.parentNode:e),Bh(function(){Cw(t,l,r,n)}),l}function Iw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=E2(s);o.call(l)}}Cw(t,s,e,a)}else s=jQ(r,t,e,a,n);return E2(s)}JF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Km(t.pendingLanes);r!==0&&(b3(t,r|1),us(t,Yn()),!(Tr&6)&&(H0=Yn()+500,kf()))}break;case 13:Bh(function(){var n=kc(e,1);if(n!==null){var a=Bi();Jo(n,e,1,a)}}),Z3(e,1)}};w3=function(e){if(e.tag===13){var t=kc(e,134217728);if(t!==null){var r=Bi();Jo(t,e,134217728,r)}Z3(e,134217728)}};ZF=function(e){if(e.tag===13){var t=ef(e),r=kc(e,t);if(r!==null){var n=Bi();Jo(r,e,t,n)}Z3(e,t)}};e7=function(){return Hr};t7=function(e,t){var r=Hr;try{return Hr=e,t()}finally{Hr=r}};jA=function(e,t,r){switch(t){case"input":if(PA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=_w(n);if(!a)throw Error(mt(90));IF(n),PA(n,a)}}}break;case"textarea":LF(e,r);break;case"select":t=r.value,t!=null&&x0(e,!!r.multiple,t,!1)}};VF=K3;UF=Bh;var MQ={usingClientEntryPoint:!1,Events:[wv,r0,_w,$F,BF,K3]},Pm={findFiberByHostInstance:gh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RQ={bundleType:Pm.bundleType,version:Pm.version,rendererPackageName:Pm.rendererPackageName,rendererConfig:Pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WF(e),e===null?null:e.stateNode},findFiberByHostInstance:Pm.findFiberByHostInstance||LQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vy.isDisabled&&Vy.supportsFiber)try{yw=Vy.inject(RQ),El=Vy}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MQ;Fs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tk(t))throw Error(mt(200));return DQ(e,t,null,r)};Fs.createRoot=function(e,t){if(!tk(e))throw Error(mt(299));var r=!1,n="",a=S9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=J3(e,1,!1,null,null,r,!1,n,a),e[Ec]=t.current,Xg(e.nodeType===8?e.parentNode:e),new ek(t)};Fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=WF(t),e=e===null?null:e.stateNode,e};Fs.flushSync=function(e){return Bh(e)};Fs.hydrate=function(e,t,r){if(!Ow(t))throw Error(mt(200));return Iw(null,e,t,!0,r)};Fs.hydrateRoot=function(e,t,r){if(!tk(e))throw Error(mt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=S9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=_9(t,null,e,1,r??null,a,!1,i,s),e[Ec]=t.current,Xg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Nw(t)};Fs.render=function(e,t,r){if(!Ow(t))throw Error(mt(200));return Iw(null,e,t,!1,r)};Fs.unmountComponentAtNode=function(e){if(!Ow(e))throw Error(mt(40));return e._reactRootContainer?(Bh(function(){Iw(null,null,e,!1,function(){e._reactRootContainer=null,e[Ec]=null})}),!0):!1};Fs.unstable_batchedUpdates=K3;Fs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ow(r))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return Iw(e,t,r,!1,n)};Fs.version="18.3.1-next-f1338f8080-20240426";function A9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A9)}catch(e){console.error(e)}}A9(),AF.exports=Fs;var FQ=AF.exports,T9,K6=FQ;T9=K6.createRoot,K6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}var Bu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bu||(Bu={}));const Y6="popstate";function $Q(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return p4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:k2(a)}return VQ(t,r,null,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BQ(){return Math.random().toString(36).substr(2,8)}function X6(e,t){return{usr:e.state,key:e.key,idx:t}}function p4(e,t,r,n){return r===void 0&&(r=null),i1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Np(t):t,{state:r,key:t&&t.key||n||BQ()})}function k2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Np(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function VQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Bu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(i1({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Bu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:p.location,delta:y})}function h(v,y){o=Bu.Push;let _=p4(p.location,v,y);c=u()+1;let w=X6(_,c),O=p.createHref(_);try{s.pushState(w,"",O)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(O)}i&&l&&l({action:o,location:p.location,delta:1})}function d(v,y){o=Bu.Replace;let _=p4(p.location,v,y);c=u();let w=X6(_,c),O=p.createHref(_);s.replaceState(w,"",O),i&&l&&l({action:o,location:p.location,delta:0})}function m(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof v=="string"?v:k2(v);return _=_.replace(/ $/,"%20"),Nn(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let p={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Y6,f),l=v,()=>{a.removeEventListener(Y6,f),l=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return s.go(v)}};return p}var Q6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q6||(Q6={}));function UQ(e,t,r){return r===void 0&&(r="/"),zQ(e,t,r,!1)}function zQ(e,t,r,n){let a=typeof t=="string"?Np(t):t,i=G0(a.pathname||"/",r);if(i==null)return null;let s=k9(e);qQ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=tJ(i);o=ZQ(s[l],c,n)}return o}function k9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=rf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),k9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:QQ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of P9(i.path))a(i,s,l)}),t}function P9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=P9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function qQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:JQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const WQ=/^:[\w-]+$/,HQ=3,GQ=2,KQ=1,YQ=10,XQ=-2,J6=e=>e==="*";function QQ(e,t){let r=e.split("/"),n=r.length;return r.some(J6)&&(n+=XQ),t&&(n+=GQ),r.filter(a=>!J6(a)).reduce((a,i)=>a+(WQ.test(i)?HQ:i===""?KQ:YQ),n)}function JQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ZQ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=P2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=P2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:rf([i,f.pathname]),pathnameBase:iJ(rf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=rf([i,f.pathnameBase]))}return s}function P2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let p=o[f]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return d&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function eJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),E9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function tJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return E9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function G0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Np(e):e;return{pathname:r?r.startsWith("/")?r:nJ(r,t):t,search:sJ(n),hash:oJ(a)}}function nJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function H_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rk(e,t){let r=aJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Np(e):(a=i1({},e),Nn(!a.pathname||!a.pathname.includes("?"),H_("?","pathname","search",a)),Nn(!a.pathname||!a.pathname.includes("#"),H_("#","pathname","hash",a)),Nn(!a.search||!a.search.includes("#"),H_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=rJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const rf=e=>e.join("/").replace(/\/\/+/g,"/"),iJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C9=["post","put","patch","delete"];new Set(C9);const cJ=["get",...C9];new Set(cJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}const Dw=Z.createContext(null),N9=Z.createContext(null),Uc=Z.createContext(null),Lw=Z.createContext(null),zc=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),O9=Z.createContext(null);function uJ(e,t){let{relative:r}=t===void 0?{}:t;Op()||Nn(!1);let{basename:n,navigator:a}=Z.useContext(Uc),{hash:i,pathname:s,search:o}=jw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:rf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Op(){return Z.useContext(Lw)!=null}function Ip(){return Op()||Nn(!1),Z.useContext(Lw).location}function I9(e){Z.useContext(Uc).static||Z.useLayoutEffect(e)}function Sv(){let{isDataRoute:e}=Z.useContext(zc);return e?TJ():fJ()}function fJ(){Op()||Nn(!1);let e=Z.useContext(Dw),{basename:t,future:r,navigator:n}=Z.useContext(Uc),{matches:a}=Z.useContext(zc),{pathname:i}=Ip(),s=JSON.stringify(rk(a,r.v7_relativeSplatPath)),o=Z.useRef(!1);return I9(()=>{o.current=!0}),Z.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=nk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:rf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const hJ=Z.createContext(null);function dJ(e){let t=Z.useContext(zc).outlet;return t&&Z.createElement(hJ.Provider,{value:e},t)}function jw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Z.useContext(Uc),{matches:a}=Z.useContext(zc),{pathname:i}=Ip(),s=JSON.stringify(rk(a,n.v7_relativeSplatPath));return Z.useMemo(()=>nk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function pJ(e,t){return mJ(e,t)}function mJ(e,t,r,n){Op()||Nn(!1);let{navigator:a,static:i}=Z.useContext(Uc),{matches:s}=Z.useContext(zc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ip(),f;if(t){var h;let y=typeof t=="string"?Np(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Nn(!1),f=y}else f=u;let d=f.pathname||"/",m=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=!i&&r&&r.matches&&r.matches.length>0?r.matches:UQ(e,{pathname:m}),v=bJ(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:rf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:rf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?Z.createElement(Lw.Provider,{value:{location:s1({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bu.Pop}},v):v}function gJ(){let e=AJ(),t=lJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),r?Z.createElement("pre",{style:a},r):null,null)}const vJ=Z.createElement(gJ,null);class yJ extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Z.createElement(zc.Provider,{value:this.props.routeContext},Z.createElement(O9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xJ(e){let{routeContext:t,match:r,children:n}=e,a=Z.useContext(Dw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),Z.createElement(zc.Provider,{value:t},n)}function bJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Nn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,m=!1,p=null,v=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||vJ,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),_=()=>{let w;return d?w=p:m?w=v:f.route.Component?w=Z.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,Z.createElement(xJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Z.createElement(yJ,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var D9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D9||{}),C2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C2||{});function wJ(e){let t=Z.useContext(Dw);return t||Nn(!1),t}function _J(e){let t=Z.useContext(N9);return t||Nn(!1),t}function SJ(e){let t=Z.useContext(zc);return t||Nn(!1),t}function L9(e){let t=SJ(),r=t.matches[t.matches.length-1];return r.route.id||Nn(!1),r.route.id}function AJ(){var e;let t=Z.useContext(O9),r=_J(C2.UseRouteError),n=L9(C2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TJ(){let{router:e}=wJ(D9.UseNavigateStable),t=L9(C2.UseNavigateStable),r=Z.useRef(!1);return I9(()=>{r.current=!0}),Z.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,s1({fromRouteId:t},i)))},[e,t])}function EJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function m4(e){let{to:t,replace:r,state:n,relative:a}=e;Op()||Nn(!1);let{future:i,static:s}=Z.useContext(Uc),{matches:o}=Z.useContext(zc),{pathname:l}=Ip(),c=Sv(),u=nk(t,rk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return Z.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function kJ(e){return dJ(e.context)}function Zs(e){Nn(!1)}function PJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Bu.Pop,navigator:i,static:s=!1,future:o}=e;Op()&&Nn(!1);let l=t.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:i,static:s,future:s1({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Np(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:m="default"}=n,p=Z.useMemo(()=>{let v=G0(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:d,key:m},navigationType:a}},[l,u,f,h,d,m,a]);return p==null?null:Z.createElement(Uc.Provider,{value:c},Z.createElement(Lw.Provider,{children:r,value:p}))}function CJ(e){let{children:t,location:r}=e;return pJ(g4(t),r)}new Promise(()=>{});function g4(e,t){t===void 0&&(t=[]);let r=[];return Z.Children.forEach(e,(n,a)=>{if(!Z.isValidElement(n))return;let i=[...t,a];if(n.type===Z.Fragment){r.push.apply(r,g4(n.props.children,i));return}n.type!==Zs&&Nn(!1),!n.props.index||!n.props.children||Nn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=g4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(this,arguments)}function j9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function NJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OJ(e,t){return e.button===0&&(!t||t==="_self")&&!NJ(e)}const IJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],LJ="6";try{window.__reactRouterVersion=LJ}catch{}const jJ=Z.createContext({isTransitioning:!1}),MJ="startTransition",Z6=kY[MJ];function RJ(e){let{basename:t,children:r,future:n,window:a}=e,i=Z.useRef();i.current==null&&(i.current=$Q({window:a,v5Compat:!0}));let s=i.current,[o,l]=Z.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Z.useCallback(f=>{c&&Z6?Z6(()=>l(f)):l(f)},[l,c]);return Z.useLayoutEffect(()=>s.listen(u),[s,u]),Z.useEffect(()=>EJ(n),[n]),Z.createElement(PJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const FJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$J=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BJ=Z.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=j9(t,IJ),{basename:d}=Z.useContext(Uc),m,p=!1;if(typeof c=="string"&&$J.test(c)&&(m=c,FJ))try{let w=new URL(window.location.href),O=c.startsWith("//")?new URL(w.protocol+c):new URL(c),k=G0(O.pathname,d);O.origin===w.origin&&k!=null?c=k+O.search+O.hash:p=!0}catch{}let v=uJ(c,{relative:a}),y=UJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function _(w){n&&n(w),w.defaultPrevented||y(w)}return Z.createElement("a",N2({},h,{href:m||v,onClick:p||i?n:_,ref:r,target:l}))}),G_=Z.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=j9(t,DJ),h=jw(l,{relative:f.relative}),d=Ip(),m=Z.useContext(N9),{navigator:p,basename:v}=Z.useContext(Uc),y=m!=null&&zJ(h)&&c===!0,_=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=d.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(w=w.toLowerCase(),O=O?O.toLowerCase():null,_=_.toLowerCase()),O&&v&&(O=G0(O,v)||O);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=w===_||!s&&w.startsWith(_)&&w.charAt(k)==="/",T=O!=null&&(O===_||!s&&O.startsWith(_)&&O.charAt(_.length)==="/"),S={isActive:C,isPending:T,isTransitioning:y},A=C?n:void 0,I;typeof i=="function"?I=i(S):I=[i,C?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return Z.createElement(BJ,N2({},f,{"aria-current":A,className:I,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var v4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v4||(v4={}));var eO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eO||(eO={}));function VJ(e){let t=Z.useContext(Dw);return t||Nn(!1),t}function UJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Sv(),c=Ip(),u=jw(e,{relative:s});return Z.useCallback(f=>{if(OJ(f,r)){f.preventDefault();let h=n!==void 0?n:k2(c)===k2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function zJ(e,t){t===void 0&&(t={});let r=Z.useContext(jJ);r==null&&Nn(!1);let{basename:n}=VJ(v4.useViewTransitionState),a=jw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=G0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=G0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return P2(a.pathname,s)!=null||P2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nr=(e,t)=>{const r=Z.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Z.createElement("svg",{ref:u,...qJ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${WJ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>Z.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=nr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=nr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=nr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=nr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=nr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=nr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=nr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=nr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=nr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=nr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=nr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=nr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=nr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=nr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=nr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=nr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=nr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=nr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=nr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=nr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=nr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=nr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=nr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=nr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=nr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=nr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=nr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=nr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=nr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=nr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=nr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=nr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=nr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=nr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=nr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=nr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=nr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=nr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=nr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=nr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hZ=()=>{};var nO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},dZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},U9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new pZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mZ=function(e){const t=V9(e);return U9.encodeByteArray(t,!0)},D2=function(e){return mZ(e).replace(/\./g,"")},gZ=function(e){try{return U9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=()=>vZ().__FIREBASE_DEFAULTS__,xZ=()=>{if(typeof process>"u"||typeof nO>"u")return;const e=nO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},bZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gZ(e[1]);return t&&JSON.parse(t)},ik=()=>{try{return hZ()||yZ()||xZ()||bZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wZ=e=>{var t,r;return(r=(t=ik())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},_Z=e=>{const t=wZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},z9=()=>{var e;return(e=ik())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){return e.endsWith(".cloudworkstations.dev")}async function AZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D2(JSON.stringify(r)),D2(JSON.stringify(s)),""].join(".")}const mg={};function EZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(mg))mg[t]?e.emulator.push(t):e.prod.push(t);return e}function kZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let aO=!1;function q9(e,t){if(typeof window>"u"||typeof document>"u"||!sk(window.location.host)||mg[e]===t||mg[e]||aO)return;mg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=EZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{aO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=kZ(n),d=r("text"),m=document.getElementById(d)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,p);const O=c();l(_,y),w.append(_,m,v,O),document.body.appendChild(w)}i?(m.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CZ(){var e;const t=(e=ik())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NZ(){return!CZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OZ(){try{return typeof indexedDB=="object"}catch{return!1}}function IZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ="FirebaseError";class Dp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=DZ,Object.setPrototypeOf(this,Dp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W9.prototype.create)}}class W9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?LZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Dp(a,o,n)}}function LZ(e,t){return e.replace(jZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const jZ=/\{\$([^}]+)}/g;function L2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(iO(i)&&iO(s)){if(!L2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function iO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){return e&&e._delegate?e._delegate:e}class o1{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new SZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FZ(t))try{this.getOrInitializeService({instanceIdentifier:oh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=oh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oh){return this.instances.has(t)}getOptions(t=oh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:RZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=oh){return this.component?this.component.multipleInstances?t:oh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RZ(e){return e===oh?void 0:e}function FZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new MZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(br||(br={}));const BZ={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},VZ=br.INFO,UZ={[br.DEBUG]:"log",[br.VERBOSE]:"log",[br.INFO]:"info",[br.WARN]:"warn",[br.ERROR]:"error"},zZ=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=UZ[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class H9{constructor(t){this.name=t,this._logLevel=VZ,this._logHandler=zZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in br))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,br.DEBUG,...t),this._logHandler(this,br.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,br.VERBOSE,...t),this._logHandler(this,br.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,br.INFO,...t),this._logHandler(this,br.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,br.WARN,...t),this._logHandler(this,br.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,br.ERROR,...t),this._logHandler(this,br.ERROR,...t)}}const qZ=(e,t)=>t.some(r=>e instanceof r);let sO,oO;function WZ(){return sO||(sO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HZ(){return oO||(oO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G9=new WeakMap,b4=new WeakMap,K9=new WeakMap,K_=new WeakMap,ok=new WeakMap;function GZ(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(nf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&G9.set(r,e)}).catch(()=>{}),ok.set(t,e),t}function KZ(e){if(b4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});b4.set(e,t)}let w4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return b4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||K9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YZ(e){w4=e(w4)}function XZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Y_(this),t,...r);return K9.set(n,t.sort?t.sort():[t]),nf(n)}:HZ().includes(e)?function(...t){return e.apply(Y_(this),t),nf(G9.get(this))}:function(...t){return nf(e.apply(Y_(this),t))}}function QZ(e){return typeof e=="function"?XZ(e):(e instanceof IDBTransaction&&KZ(e),qZ(e,WZ())?new Proxy(e,w4):e)}function nf(e){if(e instanceof IDBRequest)return GZ(e);if(K_.has(e))return K_.get(e);const t=QZ(e);return t!==e&&(K_.set(e,t),ok.set(t,e)),t}const Y_=e=>ok.get(e);function JZ(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=nf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(nf(s.result),l.oldVersion,l.newVersion,nf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const ZZ=["get","getKey","getAll","getAllKeys","count"],eee=["put","add","delete","clear"],X_=new Map;function lO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(X_.get(t))return X_.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=eee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||ZZ.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return X_.set(t,i),i}YZ(e=>({...e,get:(t,r,n)=>lO(t,r)||e.get(t,r,n),has:(t,r)=>!!lO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ree(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function ree(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _4="@firebase/app",cO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new H9("@firebase/app"),nee="@firebase/app-compat",aee="@firebase/analytics-compat",iee="@firebase/analytics",see="@firebase/app-check-compat",oee="@firebase/app-check",lee="@firebase/auth",cee="@firebase/auth-compat",uee="@firebase/database",fee="@firebase/data-connect",hee="@firebase/database-compat",dee="@firebase/functions",pee="@firebase/functions-compat",mee="@firebase/installations",gee="@firebase/installations-compat",vee="@firebase/messaging",yee="@firebase/messaging-compat",xee="@firebase/performance",bee="@firebase/performance-compat",wee="@firebase/remote-config",_ee="@firebase/remote-config-compat",See="@firebase/storage",Aee="@firebase/storage-compat",Tee="@firebase/firestore",Eee="@firebase/vertexai",kee="@firebase/firestore-compat",Pee="firebase",Cee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="[DEFAULT]",Nee={[_4]:"fire-core",[nee]:"fire-core-compat",[iee]:"fire-analytics",[aee]:"fire-analytics-compat",[oee]:"fire-app-check",[see]:"fire-app-check-compat",[lee]:"fire-auth",[cee]:"fire-auth-compat",[uee]:"fire-rtdb",[fee]:"fire-data-connect",[hee]:"fire-rtdb-compat",[dee]:"fire-fn",[pee]:"fire-fn-compat",[mee]:"fire-iid",[gee]:"fire-iid-compat",[vee]:"fire-fcm",[yee]:"fire-fcm-compat",[xee]:"fire-perf",[bee]:"fire-perf-compat",[wee]:"fire-rc",[_ee]:"fire-rc-compat",[See]:"fire-gcs",[Aee]:"fire-gcs-compat",[Tee]:"fire-fst",[kee]:"fire-fst-compat",[Eee]:"fire-vertex","fire-js":"fire-js",[Pee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Map,Oee=new Map,A4=new Map;function uO(e,t){try{e.container.addComponent(t)}catch(r){Cc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function M2(e){const t=e.name;if(A4.has(t))return Cc.debug(`There were multiple attempts to register component ${t}.`),!1;A4.set(t,e);for(const r of j2.values())uO(r,e);for(const r of Oee.values())uO(r,e);return!0}function Iee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Dee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},af=new W9("app","Firebase",Lee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw af.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=Cee;function Y9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:S4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw af.create("bad-app-name",{appName:String(a)});if(r||(r=z9()),!r)throw af.create("no-options");const i=j2.get(a);if(i){if(L2(r,i.options)&&L2(n,i.config))return i;throw af.create("duplicate-app",{appName:a})}const s=new $Z(a);for(const l of A4.values())s.addComponent(l);const o=new jee(r,n,s);return j2.set(a,o),o}function Ree(e=S4){const t=j2.get(e);if(!t&&e===S4&&z9())return Y9();if(!t)throw af.create("no-app",{appName:e});return t}function T0(e,t,r){var n;let a=(n=Nee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cc.warn(o.join(" "));return}M2(new o1(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee="firebase-heartbeat-database",$ee=1,l1="firebase-heartbeat-store";let Q_=null;function X9(){return Q_||(Q_=JZ(Fee,$ee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(l1)}catch(r){console.warn(r)}}}}).catch(e=>{throw af.create("idb-open",{originalErrorMessage:e.message})})),Q_}async function Bee(e){try{const r=(await X9()).transaction(l1),n=await r.objectStore(l1).get(Q9(e));return await r.done,n}catch(t){if(t instanceof Dp)Cc.warn(t.message);else{const r=af.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Cc.warn(r.message)}}}async function fO(e,t){try{const n=(await X9()).transaction(l1,"readwrite");await n.objectStore(l1).put(t,Q9(e)),await n.done}catch(r){if(r instanceof Dp)Cc.warn(r.message);else{const n=af.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Cc.warn(n.message)}}}function Q9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee=1024,Uee=30;class zee{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Wee(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Uee){const s=Hee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Cc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hO(),{heartbeatsToSend:n,unsentEntries:a}=qee(this._heartbeatsCache.heartbeats),i=D2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Cc.warn(r),""}}}function hO(){return new Date().toISOString().substring(0,10)}function qee(e,t=Vee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),dO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),dO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Wee{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OZ()?IZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Bee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return fO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return fO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function dO(e){return D2(JSON.stringify({version:2,heartbeats:e})).length}function Hee(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(e){M2(new o1("platform-logger",t=>new tee(t),"PRIVATE")),M2(new o1("heartbeat",t=>new zee(t),"PRIVATE")),T0(_4,cO,e),T0(_4,cO,"esm2017"),T0("fire-js","")}Gee("");var Kee="firebase",Yee="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */T0(Kee,Yee,"app");var pO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sf,J9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function A(){}A.prototype=S.prototype,T.D=S.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(I,E,N){for(var j=Array(arguments.length-2),H=2;H<arguments.length;H++)j[H-2]=arguments[H];return S.prototype[E].apply(I,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,A){A||(A=0);var I=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)I[E]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(E=0;16>E;++E)I[E]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=T.g[0],A=T.g[1],E=T.g[2];var N=T.g[3],j=S+(N^A&(E^N))+I[0]+3614090360&4294967295;S=A+(j<<7&4294967295|j>>>25),j=N+(E^S&(A^E))+I[1]+3905402710&4294967295,N=S+(j<<12&4294967295|j>>>20),j=E+(A^N&(S^A))+I[2]+606105819&4294967295,E=N+(j<<17&4294967295|j>>>15),j=A+(S^E&(N^S))+I[3]+3250441966&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(N^A&(E^N))+I[4]+4118548399&4294967295,S=A+(j<<7&4294967295|j>>>25),j=N+(E^S&(A^E))+I[5]+1200080426&4294967295,N=S+(j<<12&4294967295|j>>>20),j=E+(A^N&(S^A))+I[6]+2821735955&4294967295,E=N+(j<<17&4294967295|j>>>15),j=A+(S^E&(N^S))+I[7]+4249261313&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(N^A&(E^N))+I[8]+1770035416&4294967295,S=A+(j<<7&4294967295|j>>>25),j=N+(E^S&(A^E))+I[9]+2336552879&4294967295,N=S+(j<<12&4294967295|j>>>20),j=E+(A^N&(S^A))+I[10]+4294925233&4294967295,E=N+(j<<17&4294967295|j>>>15),j=A+(S^E&(N^S))+I[11]+2304563134&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(N^A&(E^N))+I[12]+1804603682&4294967295,S=A+(j<<7&4294967295|j>>>25),j=N+(E^S&(A^E))+I[13]+4254626195&4294967295,N=S+(j<<12&4294967295|j>>>20),j=E+(A^N&(S^A))+I[14]+2792965006&4294967295,E=N+(j<<17&4294967295|j>>>15),j=A+(S^E&(N^S))+I[15]+1236535329&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(E^N&(A^E))+I[1]+4129170786&4294967295,S=A+(j<<5&4294967295|j>>>27),j=N+(A^E&(S^A))+I[6]+3225465664&4294967295,N=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(N^S))+I[11]+643717713&4294967295,E=N+(j<<14&4294967295|j>>>18),j=A+(N^S&(E^N))+I[0]+3921069994&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^N&(A^E))+I[5]+3593408605&4294967295,S=A+(j<<5&4294967295|j>>>27),j=N+(A^E&(S^A))+I[10]+38016083&4294967295,N=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(N^S))+I[15]+3634488961&4294967295,E=N+(j<<14&4294967295|j>>>18),j=A+(N^S&(E^N))+I[4]+3889429448&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^N&(A^E))+I[9]+568446438&4294967295,S=A+(j<<5&4294967295|j>>>27),j=N+(A^E&(S^A))+I[14]+3275163606&4294967295,N=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(N^S))+I[3]+4107603335&4294967295,E=N+(j<<14&4294967295|j>>>18),j=A+(N^S&(E^N))+I[8]+1163531501&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^N&(A^E))+I[13]+2850285829&4294967295,S=A+(j<<5&4294967295|j>>>27),j=N+(A^E&(S^A))+I[2]+4243563512&4294967295,N=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(N^S))+I[7]+1735328473&4294967295,E=N+(j<<14&4294967295|j>>>18),j=A+(N^S&(E^N))+I[12]+2368359562&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(A^E^N)+I[5]+4294588738&4294967295,S=A+(j<<4&4294967295|j>>>28),j=N+(S^A^E)+I[8]+2272392833&4294967295,N=S+(j<<11&4294967295|j>>>21),j=E+(N^S^A)+I[11]+1839030562&4294967295,E=N+(j<<16&4294967295|j>>>16),j=A+(E^N^S)+I[14]+4259657740&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^N)+I[1]+2763975236&4294967295,S=A+(j<<4&4294967295|j>>>28),j=N+(S^A^E)+I[4]+1272893353&4294967295,N=S+(j<<11&4294967295|j>>>21),j=E+(N^S^A)+I[7]+4139469664&4294967295,E=N+(j<<16&4294967295|j>>>16),j=A+(E^N^S)+I[10]+3200236656&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^N)+I[13]+681279174&4294967295,S=A+(j<<4&4294967295|j>>>28),j=N+(S^A^E)+I[0]+3936430074&4294967295,N=S+(j<<11&4294967295|j>>>21),j=E+(N^S^A)+I[3]+3572445317&4294967295,E=N+(j<<16&4294967295|j>>>16),j=A+(E^N^S)+I[6]+76029189&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^N)+I[9]+3654602809&4294967295,S=A+(j<<4&4294967295|j>>>28),j=N+(S^A^E)+I[12]+3873151461&4294967295,N=S+(j<<11&4294967295|j>>>21),j=E+(N^S^A)+I[15]+530742520&4294967295,E=N+(j<<16&4294967295|j>>>16),j=A+(E^N^S)+I[2]+3299628645&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(E^(A|~N))+I[0]+4096336452&4294967295,S=A+(j<<6&4294967295|j>>>26),j=N+(A^(S|~E))+I[7]+1126891415&4294967295,N=S+(j<<10&4294967295|j>>>22),j=E+(S^(N|~A))+I[14]+2878612391&4294967295,E=N+(j<<15&4294967295|j>>>17),j=A+(N^(E|~S))+I[5]+4237533241&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~N))+I[12]+1700485571&4294967295,S=A+(j<<6&4294967295|j>>>26),j=N+(A^(S|~E))+I[3]+2399980690&4294967295,N=S+(j<<10&4294967295|j>>>22),j=E+(S^(N|~A))+I[10]+4293915773&4294967295,E=N+(j<<15&4294967295|j>>>17),j=A+(N^(E|~S))+I[1]+2240044497&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~N))+I[8]+1873313359&4294967295,S=A+(j<<6&4294967295|j>>>26),j=N+(A^(S|~E))+I[15]+4264355552&4294967295,N=S+(j<<10&4294967295|j>>>22),j=E+(S^(N|~A))+I[6]+2734768916&4294967295,E=N+(j<<15&4294967295|j>>>17),j=A+(N^(E|~S))+I[13]+1309151649&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~N))+I[4]+4149444226&4294967295,S=A+(j<<6&4294967295|j>>>26),j=N+(A^(S|~E))+I[11]+3174756917&4294967295,N=S+(j<<10&4294967295|j>>>22),j=E+(S^(N|~A))+I[2]+718787259&4294967295,E=N+(j<<15&4294967295|j>>>17),j=A+(N^(E|~S))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(E+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var A=S-this.blockSize,I=this.B,E=this.h,N=0;N<S;){if(E==0)for(;N<=A;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<S;)if(I[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,I),E=0;break}}else for(;N<S;)if(I[E++]=T[N++],E==this.blockSize){a(this,I),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var A=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.u(T),T=Array(16),S=A=0;4>S;++S)for(var I=0;32>I;I+=8)T[A++]=this.g[S]>>>I&255;return T};function i(T,S){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=S(T)}function s(T,S){this.h=S;for(var A=[],I=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;I&&N==S||(A[E]=N,I=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var S=[],A=1,I=0;T>=A;I++)S[I]=T/A|0,A*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),I=f,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),j=parseInt(T.substring(E,E+N),S);8>N?(N=c(Math.pow(S,N)),I=I.j(N).add(c(j))):(I=I.j(A),I=I.add(c(j)))}return I}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(p(this))return-v(this).m();for(var T=0,S=1,A=0;A<this.g.length;A++){var I=this.i(A);T+=(0<=I?I:4294967296+I)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(p(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),A=this,I="";;){var E=O(A,S).g;A=y(A,E.j(S));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=E,m(A))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function p(T){return T.h==-1}e.l=function(T){return T=y(this,T),p(T)?-1:m(T)?0:1};function v(T){for(var S=T.g.length,A=[],I=0;I<S;I++)A[I]=~T.g[I];return new s(A,~T.h).add(h)}e.abs=function(){return p(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],I=0,E=0;E<=S;E++){var N=I+(this.i(E)&65535)+(T.i(E)&65535),j=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);I=j>>>16,N&=65535,j&=65535,A[E]=j<<16|N}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(m(this)||m(T))return f;if(p(this))return p(T)?v(this).j(v(T)):v(v(this).j(T));if(p(T))return v(this.j(v(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,A=[],I=0;I<2*S;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<T.g.length;E++){var N=this.i(I)>>>16,j=this.i(I)&65535,H=T.i(E)>>>16,X=T.i(E)&65535;A[2*I+2*E]+=j*X,_(A,2*I+2*E),A[2*I+2*E+1]+=N*X,_(A,2*I+2*E+1),A[2*I+2*E+1]+=j*H,_(A,2*I+2*E+1),A[2*I+2*E+2]+=N*H,_(A,2*I+2*E+2)}for(I=0;I<S;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=S;I<2*S;I++)A[I]=0;return new s(A,0)};function _(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function w(T,S){this.g=T,this.h=S}function O(T,S){if(m(S))throw Error("division by zero");if(m(T))return new w(f,f);if(p(T))return S=O(v(T),S),new w(v(S.g),v(S.h));if(p(S))return S=O(T,v(S)),new w(v(S.g),S.h);if(30<T.g.length){if(p(T)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,I=S;0>=I.l(T);)A=k(A),I=k(I);var E=C(A,1),N=C(I,1);for(I=C(I,2),A=C(A,2);!m(I);){var j=N.add(I);0>=j.l(T)&&(E=E.add(A),N=j),I=C(I,1),A=C(A,1)}return S=y(T,E.j(S)),new w(E,S)}for(E=f;0<=T.l(S);){for(A=Math.max(1,Math.floor(T.m()/S.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(A),j=N.j(S);p(j)||0<j.l(T);)A-=I,N=c(A),j=N.j(S);m(N)&&(N=h),E=E.add(N),T=y(T,j)}return new w(E,T)}e.A=function(T){return O(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)&T.i(I);return new s(A,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)|T.i(I);return new s(A,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],I=0;I<S;I++)A[I]=this.i(I)^T.i(I);return new s(A,this.h^T.h)};function k(T){for(var S=T.g.length+1,A=[],I=0;I<S;I++)A[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(A,T.h)}function C(T,S){var A=S>>5;S%=32;for(var I=T.g.length-A,E=[],N=0;N<I;N++)E[N]=0<S?T.i(N+A)>>>S|T.i(N+A+1)<<32-S:T.i(N+A);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,J9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,sf=s}).apply(typeof pO<"u"?pO:typeof self<"u"?self:typeof window<"u"?window:{});var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z9,Xm,e$,Bx,T4,t$,r$,n$;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,R,z){return b==Array.prototype||b==Object.prototype||(b[R]=z.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uy=="object"&&Uy];for(var R=0;R<b.length;++R){var z=b[R];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function a(b,R){if(R)e:{var z=n;b=b.split(".");for(var fe=0;fe<b.length-1;fe++){var Le=b[fe];if(!(Le in z))break e;z=z[Le]}b=b[b.length-1],fe=z[b],R=R(fe),R!=fe&&R!=null&&t(z,b,{configurable:!0,writable:!0,value:R})}}function i(b,R){b instanceof String&&(b+="");var z=0,fe=!1,Le={next:function(){if(!fe&&z<b.length){var qe=z++;return{value:R(qe,b[qe]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Le[Symbol.iterator]=function(){return Le},Le}a("Array.prototype.values",function(b){return b||function(){return i(this,function(R,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(b){var R=typeof b;return R=R!="object"?R:b?Array.isArray(b)?"array":R:"null",R=="array"||R=="object"&&typeof b.length=="number"}function c(b){var R=typeof b;return R=="object"&&b!=null||R=="function"}function u(b,R,z){return b.call.apply(b.bind,arguments)}function f(b,R,z){if(!b)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,fe),b.apply(R,Le)}}return function(){return b.apply(R,arguments)}}function h(b,R,z){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(b,R){var z=Array.prototype.slice.call(arguments,1);return function(){var fe=z.slice();return fe.push.apply(fe,arguments),b.apply(this,fe)}}function m(b,R){function z(){}z.prototype=R.prototype,b.aa=R.prototype,b.prototype=new z,b.prototype.constructor=b,b.Qb=function(fe,Le,qe){for(var ut=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)ut[Qt-2]=arguments[Qt];return R.prototype[Le].apply(fe,ut)}}function p(b){const R=b.length;if(0<R){const z=Array(R);for(let fe=0;fe<R;fe++)z[fe]=b[fe];return z}return[]}function v(b,R){for(let z=1;z<arguments.length;z++){const fe=arguments[z];if(l(fe)){const Le=b.length||0,qe=fe.length||0;b.length=Le+qe;for(let ut=0;ut<qe;ut++)b[Le+ut]=fe[ut]}else b.push(fe)}}class y{constructor(R,z){this.i=R,this.j=z,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function _(b){return/^[\s\xa0]*$/.test(b)}function w(){var b=o.navigator;return b&&(b=b.userAgent)?b:""}function O(b){return O[" "](b),b}O[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(b,R,z){for(const fe in b)R.call(z,b[fe],fe,b)}function T(b,R){for(const z in b)R.call(void 0,b[z],z,b)}function S(b){const R={};for(const z in b)R[z]=b[z];return R}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(b,R){let z,fe;for(let Le=1;Le<arguments.length;Le++){fe=arguments[Le];for(z in fe)b[z]=fe[z];for(let qe=0;qe<A.length;qe++)z=A[qe],Object.prototype.hasOwnProperty.call(fe,z)&&(b[z]=fe[z])}}function E(b){var R=1;b=b.split(":");const z=[];for(;0<R&&b.length;)z.push(b.shift()),R--;return b.length&&z.push(b.join(":")),z}function N(b){o.setTimeout(()=>{throw b},0)}function j(){var b=B;let R=null;return b.g&&(R=b.g,b.g=b.g.next,b.g||(b.h=null),R.next=null),R}class H{constructor(){this.h=this.g=null}add(R,z){const fe=X.get();fe.set(R,z),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var X=new y(()=>new re,b=>b.reset());class re{constructor(){this.next=this.g=this.h=null}set(R,z){this.h=R,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let J,q=!1,B=new H,ne=()=>{const b=o.Promise.resolve(void 0);J=()=>{b.then(ce)}};var ce=()=>{for(var b;b=j();){try{b.h.call(b.g)}catch(z){N(z)}var R=X;R.j(b),100>R.h&&(R.h++,b.next=R.g,R.g=b)}q=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(b,R){this.type=b,this.g=this.target=R,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,R=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const z=()=>{};o.addEventListener("test",z,R),o.removeEventListener("test",z,R)}catch{}return b}();function G(b,R){if(F.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var z=this.type=b.type,fe=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=R,R=b.relatedTarget){if(k){e:{try{O(R.nodeName);var Le=!0;break e}catch{}Le=!1}Le||(R=null)}}else z=="mouseover"?R=b.fromElement:z=="mouseout"&&(R=b.toElement);this.relatedTarget=R,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:W[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&G.aa.h.call(this)}}m(G,F);var W={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),oe=0;function Y(b,R,z,fe,Le){this.listener=b,this.proxy=null,this.src=R,this.type=z,this.capture=!!fe,this.ha=Le,this.key=++oe,this.da=this.fa=!1}function ue(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function pe(b){this.src=b,this.g={},this.h=0}pe.prototype.add=function(b,R,z,fe,Le){var qe=b.toString();b=this.g[qe],b||(b=this.g[qe]=[],this.h++);var ut=je(b,R,fe,Le);return-1<ut?(R=b[ut],z||(R.fa=!1)):(R=new Y(R,this.src,qe,!!fe,Le),R.fa=z,b.push(R)),R};function K(b,R){var z=R.type;if(z in b.g){var fe=b.g[z],Le=Array.prototype.indexOf.call(fe,R,void 0),qe;(qe=0<=Le)&&Array.prototype.splice.call(fe,Le,1),qe&&(ue(R),b.g[z].length==0&&(delete b.g[z],b.h--))}}function je(b,R,z,fe){for(var Le=0;Le<b.length;++Le){var qe=b[Le];if(!qe.da&&qe.listener==R&&qe.capture==!!z&&qe.ha==fe)return Le}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Se={};function ae(b,R,z,fe,Le){if(Array.isArray(R)){for(var qe=0;qe<R.length;qe++)ae(b,R[qe],z,fe,Le);return null}return z=we(z),b&&b[Q]?b.K(R,z,c(fe)?!!fe.capture:!!fe,Le):Ce(b,R,z,!1,fe,Le)}function Ce(b,R,z,fe,Le,qe){if(!R)throw Error("Invalid event type");var ut=c(Le)?!!Le.capture:!!Le,Qt=Ye(b);if(Qt||(b[Oe]=Qt=new pe(b)),z=Qt.add(R,z,fe,ut,qe),z.proxy)return z;if(fe=Ae(),z.proxy=fe,fe.src=b,fe.listener=z,b.addEventListener)U||(Le=ut),Le===void 0&&(Le=!1),b.addEventListener(R.toString(),fe,Le);else if(b.attachEvent)b.attachEvent(Fe(R.toString()),fe);else if(b.addListener&&b.removeListener)b.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Ae(){function b(z){return R.call(b.src,b.listener,z)}const R=Ge;return b}function ke(b,R,z,fe,Le){if(Array.isArray(R))for(var qe=0;qe<R.length;qe++)ke(b,R[qe],z,fe,Le);else fe=c(fe)?!!fe.capture:!!fe,z=we(z),b&&b[Q]?(b=b.i,R=String(R).toString(),R in b.g&&(qe=b.g[R],z=je(qe,z,fe,Le),-1<z&&(ue(qe[z]),Array.prototype.splice.call(qe,z,1),qe.length==0&&(delete b.g[R],b.h--)))):b&&(b=Ye(b))&&(R=b.g[R.toString()],b=-1,R&&(b=je(R,z,fe,Le)),(z=-1<b?R[b]:null)&&He(z))}function He(b){if(typeof b!="number"&&b&&!b.da){var R=b.src;if(R&&R[Q])K(R.i,b);else{var z=b.type,fe=b.proxy;R.removeEventListener?R.removeEventListener(z,fe,b.capture):R.detachEvent?R.detachEvent(Fe(z),fe):R.addListener&&R.removeListener&&R.removeListener(fe),(z=Ye(R))?(K(z,b),z.h==0&&(z.src=null,R[Oe]=null)):ue(b)}}}function Fe(b){return b in Se?Se[b]:Se[b]="on"+b}function Ge(b,R){if(b.da)b=!0;else{R=new G(R,this);var z=b.listener,fe=b.ha||b.src;b.fa&&He(b),b=z.call(fe,R)}return b}function Ye(b){return b=b[Oe],b instanceof pe?b:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(b){return typeof b=="function"?b:(b[et]||(b[et]=function(R){return b.handleEvent(R)}),b[et])}function Ie(){D.call(this),this.i=new pe(this),this.M=this,this.F=null}m(Ie,D),Ie.prototype[Q]=!0,Ie.prototype.removeEventListener=function(b,R,z,fe){ke(this,b,R,z,fe)};function Ke(b,R){var z,fe=b.F;if(fe)for(z=[];fe;fe=fe.F)z.push(fe);if(b=b.M,fe=R.type||R,typeof R=="string")R=new F(R,b);else if(R instanceof F)R.target=R.target||b;else{var Le=R;R=new F(fe,b),I(R,Le)}if(Le=!0,z)for(var qe=z.length-1;0<=qe;qe--){var ut=R.g=z[qe];Le=ft(ut,fe,!0,R)&&Le}if(ut=R.g=b,Le=ft(ut,fe,!0,R)&&Le,Le=ft(ut,fe,!1,R)&&Le,z)for(qe=0;qe<z.length;qe++)ut=R.g=z[qe],Le=ft(ut,fe,!1,R)&&Le}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var b=this.i,R;for(R in b.g){for(var z=b.g[R],fe=0;fe<z.length;fe++)ue(z[fe]);delete b.g[R],b.h--}}this.F=null},Ie.prototype.K=function(b,R,z,fe){return this.i.add(String(b),R,!1,z,fe)},Ie.prototype.L=function(b,R,z,fe){return this.i.add(String(b),R,!0,z,fe)};function ft(b,R,z,fe){if(R=b.i.g[String(R)],!R)return!0;R=R.concat();for(var Le=!0,qe=0;qe<R.length;++qe){var ut=R[qe];if(ut&&!ut.da&&ut.capture==z){var Qt=ut.listener,lr=ut.ha||ut.src;ut.fa&&K(b.i,ut),Le=Qt.call(lr,fe)!==!1&&Le}}return Le&&!fe.defaultPrevented}function ht(b,R,z){if(typeof b=="function")z&&(b=h(b,z));else if(b&&typeof b.handleEvent=="function")b=h(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(b,R||0)}function dt(b){b.g=ht(()=>{b.g=null,b.i&&(b.i=!1,dt(b))},b.l);const R=b.h;b.h=null,b.m.apply(null,R)}class tt extends D{constructor(R,z){super(),this.m=R,this.l=z,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(b){D.call(this),this.h=b,this.g={}}m(jt,D);var Lt=[];function en(b){C(b.g,function(R,z){this.g.hasOwnProperty(z)&&He(R)},b),b.g={}}jt.prototype.N=function(){jt.aa.N.call(this),en(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=o.JSON.stringify,Kr=o.JSON.parse,Gi=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function sr(){}sr.prototype.h=null;function ds(b){return b.h||(b.h=b.i())}function Yr(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){F.call(this,"d")}m(Ei,F);function Ir(){F.call(this,"c")}m(Ir,F);var Mt={},hr=null;function Ki(){return hr=hr||new Ie}Mt.La="serverreachability";function Dn(b){F.call(this,Mt.La,b)}m(Dn,F);function Aa(b){const R=Ki();Ke(R,new Dn(R))}Mt.STAT_EVENT="statevent";function ki(b,R){F.call(this,Mt.STAT_EVENT,b),this.stat=R}m(ki,F);function kt(b){const R=Ki();Ke(R,new ki(R,b))}Mt.Ma="timingevent";function Za(b,R){F.call(this,Mt.Ma,b),this.size=R}m(Za,F);function ta(b,R){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},R)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function En(b,R,z,fe,Le,qe){b.info(function(){if(b.g)if(qe)for(var ut="",Qt=qe.split("&"),lr=0;lr<Qt.length;lr++){var Jt=Qt[lr].split("=");if(1<Jt.length){var Fr=Jt[0];Jt=Jt[1];var tn=Fr.split("_");ut=2<=tn.length&&tn[1]=="type"?ut+(Fr+"="+Jt+"&"):ut+(Fr+"=redacted&")}}else ut=null;else ut=qe;return"XMLHTTP REQ ("+fe+") [attempt "+Le+"]: "+R+`
`+z+`
`+ut})}function bn(b,R,z,fe,Le,qe,ut){b.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Le+"]: "+R+`
`+z+`
`+qe+" "+ut})}function ie(b,R,z,fe){b.info(function(){return"XMLHTTP TEXT ("+R+"): "+me(b,z)+(fe?" "+fe:"")})}function xe(b,R){b.info(function(){return"TIMEOUT: "+R})}Ln.prototype.info=function(){};function me(b,R){if(!b.g)return R;if(!R)return null;try{var z=JSON.parse(R);if(z){for(b=0;b<z.length;b++)if(Array.isArray(z[b])){var fe=z[b];if(!(2>fe.length)){var Le=fe[1];if(Array.isArray(Le)&&!(1>Le.length)){var qe=Le[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var ut=1;ut<Le.length;ut++)Le[ut]=""}}}}return mr(z)}catch{return R}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function $e(){}m($e,sr),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},be=new $e;function Xe(b,R,z,fe){this.j=b,this.i=R,this.l=z,this.R=fe||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Ve={},We={};function lt(b,R,z){b.L=1,b.v=Wl(Ci(R)),b.m=z,b.P=!0,gt(b,null)}function gt(b,R){b.F=Date.now(),xt(b),b.A=Ci(b.v);var z=b.A,fe=b.R;Array.isArray(fe)||(fe=[String(fe)]),Wt(z.i,"t",fe),b.C=0,z=b.j.J,b.h=new Be,b.g=ee(b.j,z?R:null,!b.m),0<b.O&&(b.M=new tt(h(b.Y,b,b.g),b.O)),R=b.U,z=b.g,fe=b.ca;var Le="readystatechange";Array.isArray(Le)||(Le&&(Lt[0]=Le.toString()),Le=Lt);for(var qe=0;qe<Le.length;qe++){var ut=ae(z,Le[qe],fe||R.handleEvent,!1,R.h||R);if(!ut)break;R.g[ut.key]=ut}R=b.H?S(b.H):{},b.m?(b.u||(b.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,R)):(b.u="GET",b.g.ea(b.A,b.u,null,R)),Aa(),En(b.i,b.u,b.A,b.l,b.R,b.m)}Xe.prototype.ca=function(b){b=b.target;const R=this.M;R&&da(b)==3?R.j():this.Y(b)},Xe.prototype.Y=function(b){try{if(b==this.g)e:{const tn=da(this.g);var R=this.g.Ba();const Po=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||wd(this.g)))){this.J||tn!=4||R==7||(R==8||0>=Po?Aa(3):Aa(2)),gr(this);var z=this.g.Z();this.X=z;t:if(St(this)){var fe=wd(this.g);b="";var Le=fe.length,qe=da(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),vr(this);var ut="";break t}this.h.i=new o.TextDecoder}for(R=0;R<Le;R++)this.h.h=!0,b+=this.h.i.decode(fe[R],{stream:!(qe&&R==Le-1)});fe.length=0,this.h.g+=b,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=z==200,bn(this.i,this.u,this.A,this.l,this.R,tn,z),this.o){if(this.T&&!this.K){t:{if(this.g){var Qt,lr=this.g;if((Qt=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Qt)){var Jt=Qt;break t}}Jt=null}if(z=Jt)ie(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pi(this,z);else{this.o=!1,this.s=3,kt(12),Xr(this),vr(this);break e}}if(this.P){z=!0;let Fa;for(;!this.J&&this.C<ut.length;)if(Fa=pt(this,ut),Fa==We){tn==4&&(this.s=4,kt(14),z=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Fa==Ve){this.s=4,kt(15),ie(this.i,this.l,ut,"[Invalid Chunk]"),z=!1;break}else ie(this.i,this.l,Fa,null),Pi(this,Fa);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ut.length!=0||this.h.h||(this.s=1,kt(16),z=!1),this.o=this.o&&z,!z)ie(this.i,this.l,ut,"[Invalid Chunked Response]"),Xr(this),vr(this);else if(0<ut.length&&!this.W){this.W=!0;var Fr=this.j;Fr.g==this&&Fr.ba&&!Fr.M&&(Fr.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),lu(Fr),Fr.M=!0,kt(11))}}else ie(this.i,this.l,ut,null),Pi(this,ut);tn==4&&Xr(this),this.o&&!this.J&&(tn==4?hl(this.j,this):(this.o=!1,xt(this)))}else ul(this.g),z==400&&0<ut.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Xr(this),vr(this)}}}catch{}finally{}};function St(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function pt(b,R){var z=b.C,fe=R.indexOf(`
`,z);return fe==-1?We:(z=Number(R.substring(z,fe)),isNaN(z)?Ve:(fe+=1,fe+z>R.length?We:(R=R.slice(fe,fe+z),b.C=fe+z,R)))}Xe.prototype.cancel=function(){this.J=!0,Xr(this)};function xt(b){b.S=Date.now()+b.I,Bt(b,b.I)}function Bt(b,R){if(b.B!=null)throw Error("WatchDog timer not null");b.B=ta(h(b.ba,b),R)}function gr(b){b.B&&(o.clearTimeout(b.B),b.B=null)}Xe.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(xe(this.i,this.A),this.L!=2&&(Aa(),kt(17)),Xr(this),this.s=2,vr(this)):Bt(this,this.S-b)};function vr(b){b.j.G==0||b.J||hl(b.j,b)}function Xr(b){gr(b);var R=b.M;R&&typeof R.ma=="function"&&R.ma(),b.M=null,en(b.U),b.g&&(R=b.g,b.g=null,R.abort(),R.ma())}function Pi(b,R){try{var z=b.j;if(z.G!=0&&(z.g==b||Ma(z.h,b))){if(!b.K&&Ma(z.h,b)&&z.G==3){try{var fe=z.Da.g.parse(R)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Le=fe;if(Le[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<b.F)ko(z),au(z);else break e;Xl(z),kt(18)}}else z.za=Le[1],0<z.za-z.T&&37500>Le[2]&&z.F&&z.v==0&&!z.C&&(z.C=ta(h(z.Za,z),6e3));if(1>=ms(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else ei(z,11)}else if((b.K||z.g==b)&&ko(z),!_(R))for(Le=z.Da.g.parse(R),R=0;R<Le.length;R++){let Jt=Le[R];if(z.T=Jt[0],Jt=Jt[1],z.G==2)if(Jt[0]=="c"){z.K=Jt[1],z.ia=Jt[2];const Fr=Jt[3];Fr!=null&&(z.la=Fr,z.j.info("VER="+z.la));const tn=Jt[4];tn!=null&&(z.Aa=tn,z.j.info("SVER="+z.Aa));const Po=Jt[5];Po!=null&&typeof Po=="number"&&0<Po&&(fe=1.5*Po,z.L=fe,z.j.info("backChannelRequestTimeoutMs_="+fe)),fe=z;const Fa=b.g;if(Fa){const dl=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dl){var qe=fe.h;qe.g||dl.indexOf("spdy")==-1&&dl.indexOf("quic")==-1&&dl.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(hn(qe,qe.h),qe.h=null))}if(fe.D){const pl=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(fe.ya=pl,Ur(fe.I,fe.D,pl))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-b.F,z.j.info("Handshake RTT: "+z.R+"ms")),fe=z;var ut=b;if(fe.qa=L(fe,fe.J?fe.ia:null,fe.W),ut.K){$f(fe.h,ut);var Qt=ut,lr=fe.L;lr&&(Qt.I=lr),Qt.B&&(gr(Qt),xt(Qt)),fe.g=ut}else ou(fe);0<z.i.length&&iu(z)}else Jt[0]!="stop"&&Jt[0]!="close"||ei(z,7);else z.G==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ei(z,7):Eo(z):Jt[0]!="noop"&&z.l&&z.l.ta(Jt),z.v=0)}}Aa(4)}catch{}}var wo=class{constructor(b,R){this.g=b,this.map=R}};function ps(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yi(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ms(b){return b.h?1:b.g?b.g.size:0}function Ma(b,R){return b.h?b.h==R:b.g?b.g.has(R):!1}function hn(b,R){b.g?b.g.add(R):b.h=R}function $f(b,R){b.h&&b.h==R?b.h=null:b.g&&b.g.has(R)&&b.g.delete(R)}ps.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Bf(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let R=b.i;for(const z of b.g.values())R=R.concat(z.D);return R}return p(b.i)}function md(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(l(b)){for(var R=[],z=b.length,fe=0;fe<z;fe++)R.push(b[fe]);return R}R=[],z=0;for(fe in b)R[z++]=b[fe];return R}function Vf(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(l(b)||typeof b=="string"){var R=[];b=b.length;for(var z=0;z<b;z++)R.push(z);return R}R=[],z=0;for(const fe in b)R[z++]=fe;return R}}}function gd(b,R){if(b.forEach&&typeof b.forEach=="function")b.forEach(R,void 0);else if(l(b)||typeof b=="string")Array.prototype.forEach.call(b,R,void 0);else for(var z=Vf(b),fe=md(b),Le=fe.length,qe=0;qe<Le;qe++)R.call(void 0,fe[qe],z&&z[qe],b)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(b,R){if(b){b=b.split("&");for(var z=0;z<b.length;z++){var fe=b[z].indexOf("="),Le=null;if(0<=fe){var qe=b[z].substring(0,fe);Le=b[z].substring(fe+1)}else qe=b[z];R(qe,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function jn(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof jn){this.h=b.h,ql(this,b.j),this.o=b.o,this.g=b.g,Xc(this,b.s),this.l=b.l;var R=b.i,z=new ll;z.i=R.i,R.g&&(z.g=new Map(R.g),z.h=R.h),Uf(this,z),this.m=b.m}else b&&(R=String(b).match(Xi))?(this.h=!1,ql(this,R[1]||"",!0),this.o=Hl(R[2]||""),this.g=Hl(R[3]||"",!0),Xc(this,R[4]),this.l=Hl(R[5]||"",!0),Uf(this,R[6]||"",!0),this.m=Hl(R[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}jn.prototype.toString=function(){var b=[],R=this.j;R&&b.push(_o(R,vd,!0),":");var z=this.g;return(z||R=="file")&&(b.push("//"),(R=this.o)&&b.push(_o(R,vd,!0),"@"),b.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&b.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&b.push("/"),b.push(_o(z,z.charAt(0)=="/"?So:im,!0))),(z=this.i.toString())&&b.push("?",z),(z=this.m)&&b.push("#",_o(z,Jc)),b.join("")};function Ci(b){return new jn(b)}function ql(b,R,z){b.j=z?Hl(R,!0):R,b.j&&(b.j=b.j.replace(/:$/,""))}function Xc(b,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);b.s=R}else b.s=null}function Uf(b,R,z){R instanceof ll?(b.i=R,sm(b.i,b.h)):(z||(R=_o(R,Qc)),b.i=new ll(R,b.h))}function Ur(b,R,z){b.i.set(R,z)}function Wl(b){return Ur(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function Hl(b,R){return b?R?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function _o(b,R,z){return typeof b=="string"?(b=encodeURI(b).replace(R,am),z&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function am(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var vd=/[#\/\?@]/g,im=/[#\?:]/g,So=/[#\?]/g,Qc=/[#\?@]/g,Jc=/#/g;function ll(b,R){this.h=this.g=null,this.i=b||null,this.j=!!R}function dn(b){b.g||(b.g=new Map,b.h=0,b.i&&Yc(b.i,function(R,z){b.add(decodeURIComponent(R.replace(/\+/g," ")),z)}))}e=ll.prototype,e.add=function(b,R){dn(this),this.i=null,b=cl(this,b);var z=this.g.get(b);return z||this.g.set(b,z=[]),z.push(R),this.h+=1,this};function yd(b,R){dn(b),R=cl(b,R),b.g.has(R)&&(b.i=null,b.h-=b.g.get(R).length,b.g.delete(R))}function zf(b,R){return dn(b),R=cl(b,R),b.g.has(R)}e.forEach=function(b,R){dn(this),this.g.forEach(function(z,fe){z.forEach(function(Le){b.call(R,Le,fe,this)},this)},this)},e.na=function(){dn(this);const b=Array.from(this.g.values()),R=Array.from(this.g.keys()),z=[];for(let fe=0;fe<R.length;fe++){const Le=b[fe];for(let qe=0;qe<Le.length;qe++)z.push(R[fe])}return z},e.V=function(b){dn(this);let R=[];if(typeof b=="string")zf(this,b)&&(R=R.concat(this.g.get(cl(this,b))));else{b=Array.from(this.g.values());for(let z=0;z<b.length;z++)R=R.concat(b[z])}return R},e.set=function(b,R){return dn(this),this.i=null,b=cl(this,b),zf(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[R]),this.h+=1,this},e.get=function(b,R){return b?(b=this.V(b),0<b.length?String(b[0]):R):R};function Wt(b,R,z){yd(b,R),0<z.length&&(b.i=null,b.g.set(cl(b,R),p(z)),b.h+=z.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],R=Array.from(this.g.keys());for(var z=0;z<R.length;z++){var fe=R[z];const qe=encodeURIComponent(String(fe)),ut=this.V(fe);for(fe=0;fe<ut.length;fe++){var Le=qe;ut[fe]!==""&&(Le+="="+encodeURIComponent(String(ut[fe]))),b.push(Le)}}return this.i=b.join("&")};function cl(b,R){return R=String(R),b.j&&(R=R.toLowerCase()),R}function sm(b,R){R&&!b.j&&(dn(b),b.i=null,b.g.forEach(function(z,fe){var Le=fe.toLowerCase();fe!=Le&&(yd(this,fe),Wt(this,Le,z))},b)),b.j=R}function Bs(b,R){const z=new Ln;if(o.Image){const fe=new Image;fe.onload=d(gs,z,"TestLoadImage: loaded",!0,R,fe),fe.onerror=d(gs,z,"TestLoadImage: error",!1,R,fe),fe.onabort=d(gs,z,"TestLoadImage: abort",!1,R,fe),fe.ontimeout=d(gs,z,"TestLoadImage: timeout",!1,R,fe),o.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=b}else R(!1)}function xd(b,R){const z=new Ln,fe=new AbortController,Le=setTimeout(()=>{fe.abort(),gs(z,"TestPingServer: timeout",!1,R)},1e4);fetch(b,{signal:fe.signal}).then(qe=>{clearTimeout(Le),qe.ok?gs(z,"TestPingServer: ok",!0,R):gs(z,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Le),gs(z,"TestPingServer: error",!1,R)})}function gs(b,R,z,fe,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),fe(z)}catch{}}function Zc(){this.g=new Gi}function qf(b,R,z){const fe=z||"";try{gd(b,function(Le,qe){let ut=Le;c(Le)&&(ut=mr(Le)),R.push(fe+qe+"="+encodeURIComponent(ut))})}catch(Le){throw R.push(fe+"type="+encodeURIComponent("_badmap")),Le}}function eu(b){this.l=b.Ub||null,this.j=b.eb||!1}m(eu,sr),eu.prototype.g=function(){return new tu(this.l,this.j)},eu.prototype.i=function(b){return function(){return b}}({});function tu(b,R){Ie.call(this),this.D=b,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(tu,Ie),e=tu.prototype,e.open=function(b,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=R,this.readyState=1,vs(this)},e.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(R.body=b),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},e.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bd(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function bd(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}e.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var R=b.value?b.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!b.done}))&&(this.response=this.responseText+=R)}b.done?Ao(this):vs(this),this.readyState==3&&bd(this)}},e.Ra=function(b){this.g&&(this.response=this.responseText=b,Ao(this))},e.Qa=function(b){this.g&&(this.response=b,Ao(this))},e.ga=function(){this.g&&Ao(this)};function Ao(b){b.readyState=4,b.l=null,b.j=null,b.v=null,vs(b)}e.setRequestHeader=function(b,R){this.u.append(b,R)},e.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],R=this.h.entries();for(var z=R.next();!z.done;)z=z.value,b.push(z[0]+": "+z[1]),z=R.next();return b.join(`\r
`)};function vs(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function To(b){let R="";return C(b,function(z,fe){R+=fe,R+=":",R+=z,R+=`\r
`}),R}function Wf(b,R,z){e:{for(fe in z){var fe=!1;break e}fe=!0}fe||(z=To(z),typeof b=="string"?z!=null&&encodeURIComponent(String(z)):Ur(b,R,z))}function Rr(b){Ie.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Rr,Ie);var Hf=/^https?$/i,ru=["POST","PUT"];e=Rr.prototype,e.Ha=function(b){this.J=b},e.ea=function(b,R,z,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);R=R?R.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?ds(this.o):ds(be),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(b),!0),this.B=!1}catch(qe){Gf(this,qe);return}if(b=z||"",z=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Le in fe)z.set(Le,fe[Le]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const qe of fe.keys())z.set(qe,fe.get(qe));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(z.keys()).find(qe=>qe.toLowerCase()=="content-type"),Le=o.FormData&&b instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ru,R,void 0))||fe||Le||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,ut]of z)this.g.setRequestHeader(qe,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(b),this.u=!1}catch(qe){Gf(this,qe)}};function Gf(b,R){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=R,b.m=5,Kf(b),Gl(b)}function Kf(b){b.A||(b.A=!0,Ke(b,"complete"),Ke(b,"error"))}e.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,Ke(this,"complete"),Ke(this,"abort"),Gl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),Rr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Yf(this):this.bb())},e.bb=function(){Yf(this)};function Yf(b){if(b.h&&typeof s<"u"&&(!b.v[1]||da(b)!=4||b.Z()!=2)){if(b.u&&da(b)==4)ht(b.Ea,0,b);else if(Ke(b,"readystatechange"),da(b)==4){b.h=!1;try{const ut=b.Z();e:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var z;if(!(z=R)){var fe;if(fe=ut===0){var Le=String(b.D).match(Xi)[1]||null;!Le&&o.self&&o.self.location&&(Le=o.self.location.protocol.slice(0,-1)),fe=!Hf.test(Le?Le.toLowerCase():"")}z=fe}if(z)Ke(b,"complete"),Ke(b,"success");else{b.m=6;try{var qe=2<da(b)?b.g.statusText:""}catch{qe=""}b.l=qe+" ["+b.Z()+"]",Kf(b)}}finally{Gl(b)}}}}function Gl(b,R){if(b.g){ys(b);const z=b.g,fe=b.v[0]?()=>{}:null;b.g=null,b.v=null,R||Ke(b,"ready");try{z.onreadystatechange=fe}catch{}}}function ys(b){b.I&&(o.clearTimeout(b.I),b.I=null)}e.isActive=function(){return!!this.g};function da(b){return b.g?b.g.readyState:0}e.Z=function(){try{return 2<da(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(b){if(this.g){var R=this.g.responseText;return b&&R.indexOf(b)==0&&(R=R.substring(b.length)),Kr(R)}};function wd(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(b){const R={};b=(b.g&&2<=da(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<b.length;fe++){if(_(b[fe]))continue;var z=E(b[fe]);const Le=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const qe=R[Le]||[];R[Le]=qe,qe.push(z)}T(R,function(fe){return fe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(b,R,z){return z&&z.internalChannelParams&&z.internalChannelParams[b]||R}function nu(b){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,b),this.cb=Ra("retryDelaySeedMs",1e4,b),this.Wa=Ra("forwardChannelMaxRetries",2,b),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(b&&b.concurrentRequestLimit),this.Da=new Zc,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=nu.prototype,e.la=8,e.G=1,e.connect=function(b,R,z,fe){kt(0),this.W=b,this.H=R||{},z&&fe!==void 0&&(this.H.OSID=z,this.H.OAID=fe),this.F=this.X,this.I=L(this,null,this.W),iu(this)};function Eo(b){if(Kl(b),b.G==3){var R=b.U++,z=Ci(b.I);if(Ur(z,"SID",b.K),Ur(z,"RID",R),Ur(z,"TYPE","terminate"),fl(b,z),R=new Xe(b,b.j,R),R.L=2,R.v=Wl(Ci(z)),z=!1,o.navigator&&o.navigator.sendBeacon)try{z=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!z&&o.Image&&(new Image().src=R.v,z=!0),z||(R.g=ee(R.j,null),R.g.ea(R.v)),R.F=Date.now(),xt(R)}uu(b)}function au(b){b.g&&(lu(b),b.g.cancel(),b.g=null)}function Kl(b){au(b),b.u&&(o.clearTimeout(b.u),b.u=null),ko(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&o.clearTimeout(b.s),b.s=null)}function iu(b){if(!Yi(b.h)&&!b.s){b.s=!0;var R=b.Ga;J||ne(),q||(J(),q=!0),B.add(R,b),b.B=0}}function Xf(b,R){return ms(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=R.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=ta(h(b.Ga,b,R),cu(b,b.B)),b.B++,!0)}e.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Le=new Xe(this,this.j,b);let qe=this.o;if(this.S&&(qe?(qe=S(qe),I(qe,this.S)):qe=this.S),this.m!==null||this.O||(Le.H=qe,qe=null),this.P)e:{for(var R=0,z=0;z<this.i.length;z++){t:{var fe=this.i[z];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(R+=fe,4096<R){R=z;break e}if(R===4096||z===this.i.length-1){R=z+1;break e}}R=1e3}else R=1e3;R=Yl(this,Le,R),z=Ci(this.I),Ur(z,"RID",b),Ur(z,"CVER",22),this.D&&Ur(z,"X-HTTP-Session-Id",this.D),fl(this,z),qe&&(this.O?R="headers="+encodeURIComponent(String(To(qe)))+"&"+R:this.m&&Wf(z,this.m,qe)),hn(this.h,Le),this.Ua&&Ur(z,"TYPE","init"),this.P?(Ur(z,"$req",R),Ur(z,"SID","null"),Le.T=!0,lt(Le,z,null)):lt(Le,z,R),this.G=2}}else this.G==3&&(b?su(this,b):this.i.length==0||Yi(this.h)||su(this))};function su(b,R){var z;R?z=R.l:z=b.U++;const fe=Ci(b.I);Ur(fe,"SID",b.K),Ur(fe,"RID",z),Ur(fe,"AID",b.T),fl(b,fe),b.m&&b.o&&Wf(fe,b.m,b.o),z=new Xe(b,b.j,z,b.B+1),b.m===null&&(z.H=b.o),R&&(b.i=R.D.concat(b.i)),R=Yl(b,z,1e3),z.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),hn(b.h,z),lt(z,fe,R)}function fl(b,R){b.H&&C(b.H,function(z,fe){Ur(R,fe,z)}),b.l&&gd({},function(z,fe){Ur(R,fe,z)})}function Yl(b,R,z){z=Math.min(b.i.length,z);var fe=b.l?h(b.l.Na,b.l,b):null;e:{var Le=b.i;let qe=-1;for(;;){const ut=["count="+z];qe==-1?0<z?(qe=Le[0].g,ut.push("ofs="+qe)):qe=0:ut.push("ofs="+qe);let Qt=!0;for(let lr=0;lr<z;lr++){let Jt=Le[lr].g;const Fr=Le[lr].map;if(Jt-=qe,0>Jt)qe=Math.max(0,Le[lr].g-100),Qt=!1;else try{qf(Fr,ut,"req"+Jt+"_")}catch{fe&&fe(Fr)}}if(Qt){fe=ut.join("&");break e}}}return b=b.i.splice(0,z),R.D=b,fe}function ou(b){if(!b.g&&!b.u){b.Y=1;var R=b.Fa;J||ne(),q||(J(),q=!0),B.add(R,b),b.v=0}}function Xl(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=ta(h(b.Fa,b),cu(b,b.v)),b.v++,!0)}e.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=ta(h(this.ab,this),b)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),au(this),_d(this))};function lu(b){b.A!=null&&(o.clearTimeout(b.A),b.A=null)}function _d(b){b.g=new Xe(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var R=Ci(b.qa);Ur(R,"RID","rpc"),Ur(R,"SID",b.K),Ur(R,"AID",b.T),Ur(R,"CI",b.F?"0":"1"),!b.F&&b.ja&&Ur(R,"TO",b.ja),Ur(R,"TYPE","xmlhttp"),fl(b,R),b.m&&b.o&&Wf(R,b.m,b.o),b.L&&(b.g.I=b.L);var z=b.g;b=b.ia,z.L=1,z.v=Wl(Ci(R)),z.m=null,z.P=!0,gt(z,b)}e.Za=function(){this.C!=null&&(this.C=null,au(this),Xl(this),kt(19))};function ko(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function hl(b,R){var z=null;if(b.g==R){ko(b),lu(b),b.g=null;var fe=2}else if(Ma(b.h,R))z=R.D,$f(b.h,R),fe=1;else return;if(b.G!=0){if(R.o)if(fe==1){z=R.m?R.m.length:0,R=Date.now()-R.F;var Le=b.B;fe=Ki(),Ke(fe,new Za(fe,z)),iu(b)}else ou(b);else if(Le=R.s,Le==3||Le==0&&0<R.X||!(fe==1&&Xf(b,R)||fe==2&&Xl(b)))switch(z&&0<z.length&&(R=b.h,R.i=R.i.concat(z)),Le){case 1:ei(b,5);break;case 4:ei(b,10);break;case 3:ei(b,6);break;default:ei(b,2)}}}function cu(b,R){let z=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(z*=2),z*R}function ei(b,R){if(b.j.info("Error code "+R),R==2){var z=h(b.fb,b),fe=b.Xa;const Le=!fe;fe=new jn(fe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ql(fe,"https"),Wl(fe),Le?Bs(fe.toString(),z):xd(fe.toString(),z)}else kt(2);b.G=0,b.l&&b.l.sa(R),uu(b),Kl(b)}e.fb=function(b){b?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function uu(b){if(b.G=0,b.ka=[],b.l){const R=Bf(b.h);(R.length!=0||b.i.length!=0)&&(v(b.ka,R),v(b.ka,b.i),b.h.i.length=0,p(b.i),b.i.length=0),b.l.ra()}}function L(b,R,z){var fe=z instanceof jn?Ci(z):new jn(z);if(fe.g!="")R&&(fe.g=R+"."+fe.g),Xc(fe,fe.s);else{var Le=o.location;fe=Le.protocol,R=R?R+"."+Le.hostname:Le.hostname,Le=+Le.port;var qe=new jn(null);fe&&ql(qe,fe),R&&(qe.g=R),Le&&Xc(qe,Le),z&&(qe.l=z),fe=qe}return z=b.D,R=b.ya,z&&R&&Ur(fe,z,R),Ur(fe,"VER",b.la),fl(b,fe),fe}function ee(b,R,z){if(R&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=b.Ca&&!b.pa?new Rr(new eu({eb:z})):new Rr(b.pa),R.Ha(b.J),R}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function _e(){}e=_e.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Te(){}Te.prototype.g=function(b,R){return new Me(b,R)};function Me(b,R){Ie.call(this),this.g=new nu(R),this.l=b,this.h=R&&R.messageUrlParams||null,b=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(b?b["X-WebChannel-Content-Type"]=R.messageContentType:b={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(b?b["X-WebChannel-Client-Profile"]=R.va:b={"X-WebChannel-Client-Profile":R.va}),this.g.S=b,(b=R&&R.Sb)&&!_(b)&&(this.g.m=b),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!_(R)&&(this.g.D=R,b=this.h,b!==null&&R in b&&(b=this.h,R in b&&delete b[R])),this.j=new _t(this)}m(Me,Ie),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){Eo(this.g)},Me.prototype.o=function(b){var R=this.g;if(typeof b=="string"){var z={};z.__data__=b,b=z}else this.u&&(z={},z.__data__=mr(b),b=z);R.i.push(new wo(R.Ya++,b)),R.G==3&&iu(R)},Me.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Me.aa.N.call(this)};function Je(b){Ei.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var R=b.__sm__;if(R){e:{for(const z in R){b=z;break e}b=void 0}(this.i=b)&&(b=this.i,R=R!==null&&b in R?R[b]:void 0),this.data=R}else this.data=b}m(Je,Ei);function ct(){Ir.call(this),this.status=1}m(ct,Ir);function _t(b){this.g=b}m(_t,_e),_t.prototype.ua=function(){Ke(this.g,"a")},_t.prototype.ta=function(b){Ke(this.g,new Je(b))},_t.prototype.sa=function(b){Ke(this.g,new ct)},_t.prototype.ra=function(){Ke(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,n$=function(){return new Te},r$=function(){return Ki()},t$=Mt,T4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Bx=ge,ye.COMPLETE="complete",e$=ye,Yr.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Xm=Yr,Rr.prototype.listenOnce=Rr.prototype.L,Rr.prototype.getLastError=Rr.prototype.Ka,Rr.prototype.getLastErrorCode=Rr.prototype.Ba,Rr.prototype.getStatus=Rr.prototype.Z,Rr.prototype.getResponseJson=Rr.prototype.Oa,Rr.prototype.getResponseText=Rr.prototype.oa,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Ha,Z9=Rr}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});const mO="@firebase/firestore",gO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new H9("@firebase/firestore");function Wd(){return Vh.logLevel}function Pt(e,...t){if(Vh.logLevel<=br.DEBUG){const r=t.map(lk);Vh.debug(`Firestore (${Lp}): ${e}`,...r)}}function Nc(e,...t){if(Vh.logLevel<=br.ERROR){const r=t.map(lk);Vh.error(`Firestore (${Lp}): ${e}`,...r)}}function K0(e,...t){if(Vh.logLevel<=br.WARN){const r=t.map(lk);Vh.warn(`Firestore (${Lp}): ${e}`,...r)}}function lk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,a$(e,n,r)}function a$(e,t,r){let n=`FIRESTORE (${Lp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Nc(n),new Error(n)}function Mr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||a$(t,a,n)}function Yt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Dp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(fi.UNAUTHENTICATED))}shutdown(){}}class Qee{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Jee{constructor(t){this.t=t,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Mr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mr(typeof n.accessToken=="string",31837,{l:n}),new i$(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mr(t===null||typeof t=="string",2055,{h:t}),new fi(t)}}class Zee{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ete{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Zee(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Mr(this.o===void 0,3512);const n=i=>{i.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Pt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Mr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new vO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=rte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function ir(e,t){return e<t?-1:e>t?1:0}function E4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return ir(n,a);{const i=s$(),s=nte(i.encode(yO(e,r)),i.encode(yO(t,r)));return s!==0?s:ir(n,a)}}r+=n>65535?2:1}return ir(e.length,t.length)}function yO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function nte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return ir(e[r],t[r]);return ir(e.length,t.length)}function Y0(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=-62135596800,bO=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*bO);return new Kt(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Tt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Tt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<xO)throw new Tt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bO}_compareTo(t){return this.seconds===t.seconds?ir(this.nanoseconds,t.nanoseconds):ir(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-xO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{static fromTimestamp(t){return new Xt(t)}static min(){return new Xt(new Kt(0,0))}static max(){return new Xt(new Kt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="__name__";class wl{constructor(t,r,n){r===void 0?r=0:r>t.length&&qt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&qt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return wl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof wl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=wl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return ir(t.length,r.length)}static compareSegments(t,r){const n=wl.isNumericId(t),a=wl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?wl.extractNumericId(t).compare(wl.extractNumericId(r)):E4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sf.fromString(t.substring(4,t.length-2))}}class vn extends wl{construct(t,r,n){return new vn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Tt(nt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new vn(r)}static emptyPath(){return new vn([])}}const ate=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ha extends wl{construct(t,r,n){return new Ha(t,r,n)}static isValidIdentifier(t){return ate.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ha.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wO}static keyField(){return new Ha([wO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Tt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Tt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Tt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Tt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ha(r)}static emptyPath(){return new Ha([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.path=t}static fromPath(t){return new Ft(vn.fromString(t))}static fromName(t){return new Ft(vn.fromString(t).popFirst(5))}static empty(){return new Ft(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&vn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return vn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ft(new vn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=-1;function ite(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Xt.fromTimestamp(n===1e9?new Kt(r+1,0):new Kt(r,n));return new pf(a,Ft.empty(),t)}function ste(e){return new pf(e.readTime,e.key,c1)}class pf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new pf(Xt.min(),Ft.empty(),c1)}static max(){return new pf(Xt.max(),Ft.empty(),c1)}}function ote(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Ft.comparator(e.documentKey,t.documentKey),r!==0?r:ir(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==lte)throw e;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,n)=>{r(t)})}static reject(t){return new st((r,n)=>{n(t)})}static waitFor(t){return new st((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=st.resolve(!1);for(const n of t)r=r.next(a=>a?st.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new st((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new st((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function ute(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Mp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Fw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=-1;function $w(e){return e==null}function R2(e){return e===0&&1/e==-1/0}function fte(e){return typeof e=="number"&&Number.isInteger(e)&&!R2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="";function hte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=_O(t)),t=dte(e.get(r),t);return _O(t)}function dte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case l$:r+="";break;default:r+=i}}return r}function _O(e){return e+l$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Cf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function pte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function c$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,r){this.comparator=t,this.root=r||qa.EMPTY}insert(t,r){return new In(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,qa.BLACK,null,null))}remove(t){return new In(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zy(this.root,t,this.comparator,!1)}getReverseIterator(){return new zy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zy(this.root,t,this.comparator,!0)}}class zy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??qa.RED,this.left=a??qa.EMPTY,this.right=i??qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new qa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return qa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}qa.EMPTY=null,qa.RED=!0,qa.BLACK=!1;qa.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new qa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t){this.comparator=t,this.data=new In(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new AO(this.data.getIterator())}getIteratorFrom(t){return new AO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof wa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new wa(this.comparator);return r.data=t,r}}class AO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.fields=t,t.sort(Ha.comparator)}static empty(){return new Ns([])}unionWith(t){let r=new wa(Ha.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ns(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Y0(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new u$("Invalid base64 string: "+i):i}}(t);return new Ja(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Ja(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ir(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ja.EMPTY_BYTE_STRING=new Ja("");const mte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(e){if(Mr(!!e,39018),typeof e=="string"){let t=0;const r=mte.exec(e);if(Mr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Kn(e.seconds),nanos:Kn(e.nanos)}}function Kn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gf(e){return typeof e=="string"?Ja.fromBase64String(e):Ja.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="server_timestamp",h$="__type__",d$="__previous_value__",p$="__local_write_time__";function uk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[h$])===null||r===void 0?void 0:r.stringValue)===f$}function Bw(e){const t=e.mapValue.fields[d$];return uk(t)?Bw(t):t}function u1(e){const t=mf(e.mapValue.fields[p$].timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const F2="(default)";class f1{constructor(t,r){this.projectId=t,this.database=r||F2}static empty(){return new f1("","")}get isDefaultDatabase(){return this.database===F2}isEqual(t){return t instanceof f1&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="__type__",g$="__max__",qy={mapValue:{fields:{__type__:{stringValue:g$}}}},v$="__vector__",$2="value";function vf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uk(e)?4:yte(e)?9007199254740991:vte(e)?10:11:qt(28295,{value:e})}function Rl(e,t){if(e===t)return!0;const r=vf(e);if(r!==vf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return u1(e).isEqual(u1(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=mf(a.timestampValue),o=mf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return gf(a.bytesValue).isEqual(gf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Kn(a.geoPointValue.latitude)===Kn(i.geoPointValue.latitude)&&Kn(a.geoPointValue.longitude)===Kn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Kn(a.integerValue)===Kn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Kn(a.doubleValue),o=Kn(i.doubleValue);return s===o?R2(s)===R2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Y0(e.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(SO(s)!==SO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Rl(s[l],o[l])))return!1;return!0}(e,t);default:return qt(52216,{left:e})}}function h1(e,t){return(e.values||[]).find(r=>Rl(r,t))!==void 0}function X0(e,t){if(e===t)return 0;const r=vf(e),n=vf(t);if(r!==n)return ir(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ir(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Kn(i.integerValue||i.doubleValue),l=Kn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return TO(e.timestampValue,t.timestampValue);case 4:return TO(u1(e),u1(t));case 5:return E4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=gf(i),l=gf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ir(o[c],l[c]);if(u!==0)return u}return ir(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=ir(Kn(i.latitude),Kn(s.latitude));return o!==0?o:ir(Kn(i.longitude),Kn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return EO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[$2])===null||o===void 0?void 0:o.arrayValue,m=(l=h[$2])===null||l===void 0?void 0:l.arrayValue,p=ir(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:EO(d,m)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===qy.mapValue&&s===qy.mapValue)return 0;if(i===qy.mapValue)return 1;if(s===qy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=E4(l[f],u[f]);if(h!==0)return h;const d=X0(o[l[f]],c[u[f]]);if(d!==0)return d}return ir(l.length,u.length)}(e.mapValue,t.mapValue);default:throw qt(23264,{Pe:r})}}function TO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ir(e,t);const r=mf(e),n=mf(t),a=ir(r.seconds,n.seconds);return a!==0?a:ir(r.nanos,n.nanos)}function EO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=X0(r[a],n[a]);if(i)return i}return ir(r.length,n.length)}function Q0(e){return k4(e)}function k4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=mf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return gf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Ft.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=k4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${k4(r.fields[s])}`;return a+"}"}(e.mapValue):qt(61005,{value:e})}function Vx(e){switch(vf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bw(e);return t?16+Vx(t):16;case 5:return 2*e.stringValue.length;case 6:return gf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Vx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Cf(n.fields,(i,s)=>{a+=i.length+Vx(s)}),a}(e.mapValue);default:throw qt(13486,{value:e})}}function kO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function P4(e){return!!e&&"integerValue"in e}function fk(e){return!!e&&"arrayValue"in e}function PO(e){return!!e&&"nullValue"in e}function CO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ux(e){return!!e&&"mapValue"in e}function vte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[m$])===null||r===void 0?void 0:r.stringValue)===v$}function gg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=gg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=gg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function yte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===g$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this.value=t}static empty(){return new as({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Ux(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=gg(r)}setAll(t){let r=Ha.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=gg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Ux(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Rl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Ux(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Cf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new as(gg(this.value))}}function y$(e){const t=[];return Cf(e.fields,(r,n)=>{const a=new Ha([r]);if(Ux(n)){const i=y$(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ns(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new pi(t,0,Xt.min(),Xt.min(),Xt.min(),as.empty(),0)}static newFoundDocument(t,r,n,a){return new pi(t,1,r,Xt.min(),n,a,0)}static newNoDocument(t,r){return new pi(t,2,r,Xt.min(),Xt.min(),as.empty(),0)}static newUnknownDocument(t,r){return new pi(t,3,r,Xt.min(),Xt.min(),as.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,r){this.position=t,this.inclusive=r}}function NO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Ft.comparator(Ft.fromName(s.referenceValue),r.key):n=X0(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function OO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Rl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,r="asc"){this.field=t,this.dir=r}}function xte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${}class ua extends x${constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new wte(t,r,n):r==="array-contains"?new Ate(t,n):r==="in"?new Tte(t,n):r==="not-in"?new Ete(t,n):r==="array-contains-any"?new kte(t,n):new ua(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new _te(t,n):new Ste(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(X0(r,this.value)):r!==null&&vf(this.value)===vf(r)&&this.matchesComparison(X0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class al extends x${constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new al(t,r)}matches(t){return b$(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function b$(e){return e.op==="and"}function w$(e){return bte(e)&&b$(e)}function bte(e){for(const t of e.filters)if(t instanceof al)return!1;return!0}function C4(e){if(e instanceof ua)return e.field.canonicalString()+e.op.toString()+Q0(e.value);if(w$(e))return e.filters.map(t=>C4(t)).join(",");{const t=e.filters.map(r=>C4(r)).join(",");return`${e.op}(${t})`}}function _$(e,t){return e instanceof ua?function(n,a){return a instanceof ua&&n.op===a.op&&n.field.isEqual(a.field)&&Rl(n.value,a.value)}(e,t):e instanceof al?function(n,a){return a instanceof al&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&_$(s,a.filters[o]),!0):!1}(e,t):void qt(19439)}function S$(e){return e instanceof ua?function(r){return`${r.field.canonicalString()} ${r.op} ${Q0(r.value)}`}(e):e instanceof al?function(r){return r.op.toString()+" {"+r.getFilters().map(S$).join(" ,")+"}"}(e):"Filter"}class wte extends ua{constructor(t,r,n){super(t,r,n),this.key=Ft.fromName(n.referenceValue)}matches(t){const r=Ft.comparator(t.key,this.key);return this.matchesComparison(r)}}class _te extends ua{constructor(t,r){super(t,"in",r),this.keys=A$("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Ste extends ua{constructor(t,r){super(t,"not-in",r),this.keys=A$("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function A$(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ft.fromName(n.referenceValue))}class Ate extends ua{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return fk(r)&&h1(r.arrayValue,this.value)}}class Tte extends ua{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&h1(this.value.arrayValue,r)}}class Ete extends ua{constructor(t,r){super(t,"not-in",r)}matches(t){if(h1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!h1(this.value.arrayValue,r)}}class kte extends ua{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!fk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>h1(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function IO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Pte(e,t,r,n,a,i,s)}function hk(e){const t=Yt(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>C4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),$w(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Q0(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Q0(n)).join(",")),t.Ie=r}return t.Ie}function dk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!xte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!_$(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!OO(e.startAt,t.startAt)&&OO(e.endAt,t.endAt)}function N4(e){return Ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Cte(e,t,r,n,a,i,s,o){return new Rp(e,t,r,n,a,i,s,o)}function pk(e){return new Rp(e)}function DO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function T$(e){return e.collectionGroup!==null}function vg(e){const t=Yt(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new wa(Ha.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new d1(i,n))}),r.has(Ha.keyField().canonicalString())||t.Ee.push(new d1(Ha.keyField(),n))}return t.Ee}function Cl(e){const t=Yt(e);return t.de||(t.de=E$(t,vg(e))),t.de}function Nte(e){const t=Yt(e);return t.Ae||(t.Ae=E$(t,e.explicitOrderBy)),t.Ae}function E$(e,t){if(e.limitType==="F")return IO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new d1(a.field,i)});const r=e.endAt?new B2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new B2(e.startAt.position,e.startAt.inclusive):null;return IO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function O4(e,t){const r=e.filters.concat([t]);return new Rp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function V2(e,t,r){return new Rp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Vw(e,t){return dk(Cl(e),Cl(t))&&e.limitType===t.limitType}function k$(e){return`${hk(Cl(e))}|lt:${e.limitType}`}function Hd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>S$(a)).join(", ")}]`),$w(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Q0(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Q0(a)).join(",")),`Target(${n})`}(Cl(e))}; limitType=${e.limitType})`}function Uw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ft.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of vg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=NO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,vg(n),a)||n.endAt&&!function(s,o,l){const c=NO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,vg(n),a))}(e,t)}function Ote(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function P$(e){return(t,r)=>{let n=!1;for(const a of vg(e)){const i=Ite(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Ite(e,t,r){const n=e.field.isKeyField()?Ft.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?X0(l,c):qt(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return qt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Cf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return c$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=new In(Ft.comparator);function Oc(){return Dte}const C$=new In(Ft.comparator);function Qm(...e){let t=C$;for(const r of e)t=t.insert(r.key,r);return t}function N$(e){let t=C$;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function xh(){return yg()}function O$(){return yg()}function yg(){return new ed(e=>e.toString(),(e,t)=>e.isEqual(t))}const Lte=new In(Ft.comparator),jte=new wa(Ft.comparator);function ur(...e){let t=jte;for(const r of e)t=t.add(r);return t}const Mte=new wa(ir);function Rte(){return Mte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:R2(t)?"-0":t}}function I$(e){return{integerValue:""+e}}function Fte(e,t){return fte(t)?I$(t):mk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this._=void 0}}function $te(e,t,r){return e instanceof p1?function(a,i){const s={fields:{[h$]:{stringValue:f$},[p$]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&uk(i)&&(i=Bw(i)),i&&(s.fields[d$]=i),{mapValue:s}}(r,t):e instanceof m1?L$(e,t):e instanceof g1?j$(e,t):function(a,i){const s=D$(a,i),o=LO(s)+LO(a.Re);return P4(s)&&P4(a.Re)?I$(o):mk(a.serializer,o)}(e,t)}function Bte(e,t,r){return e instanceof m1?L$(e,t):e instanceof g1?j$(e,t):r}function D$(e,t){return e instanceof U2?function(n){return P4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class p1 extends zw{}class m1 extends zw{constructor(t){super(),this.elements=t}}function L$(e,t){const r=M$(t);for(const n of e.elements)r.some(a=>Rl(a,n))||r.push(n);return{arrayValue:{values:r}}}class g1 extends zw{constructor(t){super(),this.elements=t}}function j$(e,t){let r=M$(t);for(const n of e.elements)r=r.filter(a=>!Rl(a,n));return{arrayValue:{values:r}}}class U2 extends zw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function LO(e){return Kn(e.integerValue||e.doubleValue)}function M$(e){return fk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(t,r){this.field=t,this.transform=r}}function Ute(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof m1&&a instanceof m1||n instanceof g1&&a instanceof g1?Y0(n.elements,a.elements,Rl):n instanceof U2&&a instanceof U2?Rl(n.Re,a.Re):n instanceof p1&&a instanceof p1}(e.transform,t.transform)}class zte{constructor(t,r){this.version=t,this.transformResults=r}}class Vi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qw{}function R$(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ww(e.key,Vi.none()):new Av(e.key,e.data,Vi.none());{const r=e.data,n=as.empty();let a=new wa(Ha.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Nf(e.key,n,new Ns(a.toArray()),Vi.none())}}function qte(e,t,r){e instanceof Av?function(a,i,s){const o=a.value.clone(),l=MO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Nf?function(a,i,s){if(!zx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=MO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(F$(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function xg(e,t,r,n){return e instanceof Av?function(i,s,o,l){if(!zx(i.precondition,s))return o;const c=i.value.clone(),u=RO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Nf?function(i,s,o,l){if(!zx(i.precondition,s))return o;const c=RO(i.fieldTransforms,l,s),u=s.data;return u.setAll(F$(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return zx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Wte(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=D$(n.transform,a||null);i!=null&&(r===null&&(r=as.empty()),r.set(n.field,i))}return r||null}function jO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Y0(n,a,(i,s)=>Ute(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Av extends qw{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Nf extends qw{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function F$(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function MO(e,t,r){const n=new Map;Mr(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Bte(s,o,r[a]))}return n}function RO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,$te(i,s,t))}return n}class Ww extends qw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hte extends qw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&qte(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=O$();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=R$(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Xt.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),ur())}isEqual(t){return this.batchId===t.batchId&&Y0(this.mutations,t.mutations,(r,n)=>jO(r,n))&&Y0(this.baseMutations,t.baseMutations,(r,n)=>jO(r,n))}}class gk{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Mr(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Lte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new gk(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia,yr;function Qte(e){switch(e){case nt.OK:return qt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return qt(15467,{code:e})}}function $$(e){if(e===void 0)return Nc("GRPC error has no .code"),nt.UNKNOWN;switch(e){case ia.OK:return nt.OK;case ia.CANCELLED:return nt.CANCELLED;case ia.UNKNOWN:return nt.UNKNOWN;case ia.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ia.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ia.INTERNAL:return nt.INTERNAL;case ia.UNAVAILABLE:return nt.UNAVAILABLE;case ia.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ia.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ia.NOT_FOUND:return nt.NOT_FOUND;case ia.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ia.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ia.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ia.ABORTED:return nt.ABORTED;case ia.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ia.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ia.DATA_LOSS:return nt.DATA_LOSS;default:return qt(39323,{code:e})}}(yr=ia||(ia={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte=new sf([4294967295,4294967295],0);function FO(e){const t=s$().encode(e),r=new J9;return r.update(t),new Uint8Array(r.digest())}function $O(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new sf([r,n],0),new sf([a,i],0)]}class vk{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Jm(`Invalid padding: ${r}`);if(n<0)throw new Jm(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Jm(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Jm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=sf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(sf.fromNumber(n)));return a.compare(Jte)===1&&(a=new sf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=FO(t),[n,a]=$O(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new vk(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=FO(t),[n,a]=$O(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Jm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Tv.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Hw(Xt.min(),a,new In(ir),Oc(),ur())}}class Tv{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Tv(n,r,ur(),ur(),ur())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class B${constructor(t,r){this.targetId=t,this.Ce=r}}class V${constructor(t,r,n=Ja.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class BO{constructor(){this.Fe=0,this.Me=VO(),this.xe=Ja.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ur(),r=ur(),n=ur();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:qt(38017,{changeType:i})}}),new Tv(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=VO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Zte{constructor(t){this.ze=t,this.je=new Map,this.He=Oc(),this.Je=Wy(),this.Ye=Wy(),this.Ze=new In(ir)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:qt(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(N4(i))if(n===0){const s=new Ft(i.path);this.tt(r,s,pi.newNoDocument(s,Xt.min()))}else Mr(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=gf(n).toUint8Array()}catch(l){if(l instanceof u$)return K0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new vk(s,a,i)}catch(l){return K0(l instanceof Jm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&N4(o.target)){const l=new Ft(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,pi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=ur();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new Hw(t,r,this.Ze,this.He,n);return this.He=Oc(),this.Je=Wy(),this.Ye=Wy(),this.Ze=new In(ir),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new BO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new wa(ir),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new wa(ir),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Pt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new BO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Wy(){return new In(Ft.comparator)}function VO(){return new In(Ft.comparator)}const ere={asc:"ASCENDING",desc:"DESCENDING"},tre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rre={and:"AND",or:"OR"};class nre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function I4(e,t){return e.useProto3Json||$w(t)?t:{value:t}}function z2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function are(e,t){return z2(e,t.toTimestamp())}function Nl(e){return Mr(!!e,49232),Xt.fromTimestamp(function(r){const n=mf(r);return new Kt(n.seconds,n.nanos)}(e))}function yk(e,t){return D4(e,t).canonicalString()}function D4(e,t){const r=function(a){return new vn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function z$(e){const t=vn.fromString(e);return Mr(Y$(t),10190,{key:t.toString()}),t}function L4(e,t){return yk(e.databaseId,t.path)}function J_(e,t){const r=z$(t);if(r.get(1)!==e.databaseId.projectId)throw new Tt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Tt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Ft(W$(r))}function q$(e,t){return yk(e.databaseId,t)}function ire(e){const t=z$(e);return t.length===4?vn.emptyPath():W$(t)}function j4(e){return new vn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function W$(e){return Mr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function UO(e,t,r){return{name:L4(e,t),fields:r.value.mapValue.fields}}function sre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Mr(u===void 0||typeof u=="string",58123),Ja.fromBase64String(u||"")):(Mr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ja.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?nt.UNKNOWN:$$(c.code);return new Tt(u,c.message||"")}(s);r=new V$(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=J_(e,n.document.name),i=Nl(n.document.updateTime),s=n.document.createTime?Nl(n.document.createTime):Xt.min(),o=new as({mapValue:{fields:n.document.fields}}),l=pi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new qx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=J_(e,n.document),i=n.readTime?Nl(n.readTime):Xt.min(),s=pi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new qx([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=J_(e,n.document),i=n.removedTargetIds||[];r=new qx([],i,a,null)}else{if(!("filter"in t))return qt(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Xte(a,i),o=n.targetId;r=new B$(o,s)}}return r}function ore(e,t){let r;if(t instanceof Av)r={update:UO(e,t.key,t.value)};else if(t instanceof Ww)r={delete:L4(e,t.key)};else if(t instanceof Nf)r={update:UO(e,t.key,t.data),updateMask:gre(t.fieldMask)};else{if(!(t instanceof Hte))return qt(16599,{ft:t.type});r={verify:L4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof p1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof m1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof g1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof U2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw qt(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:are(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:qt(27497)}(e,t.precondition)),r}function lre(e,t){return e&&e.length>0?(Mr(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Nl(a.updateTime):Nl(i);return s.isEqual(Xt.min())&&(s=Nl(i)),new zte(s,a.transformResults||[])}(r,t))):[]}function cre(e,t){return{documents:[q$(e,t.path)]}}function H$(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=q$(e,a);const i=function(c){if(c.length!==0)return K$(al.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Lu(h.field),direction:dre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=I4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function ure(e,t,r,n){const{gt:a,parent:i}=H$(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Lu(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Lu(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function fre(e){let t=ire(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Mr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=G$(f);return h instanceof al&&w$(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(m){return new d1(Gd(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,$w(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new B2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new B2(d,h)}(r.endAt)),Cte(t,a,s,i,o,"F",l,c)}function hre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function G$(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gd(r.unaryFilter.field);return ua.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Gd(r.unaryFilter.field);return ua.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gd(r.unaryFilter.field);return ua.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gd(r.unaryFilter.field);return ua.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}}(e):e.fieldFilter!==void 0?function(r){return ua.create(Gd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return al.create(r.compositeFilter.filters.map(n=>G$(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qt(1026)}}(r.compositeFilter.op))}(e):qt(30097,{filter:e})}function dre(e){return ere[e]}function pre(e){return tre[e]}function mre(e){return rre[e]}function Lu(e){return{fieldPath:e.canonicalString()}}function Gd(e){return Ha.fromServerFormat(e.fieldPath)}function K$(e){return e instanceof ua?function(r){if(r.op==="=="){if(CO(r.value))return{unaryFilter:{field:Lu(r.field),op:"IS_NAN"}};if(PO(r.value))return{unaryFilter:{field:Lu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(CO(r.value))return{unaryFilter:{field:Lu(r.field),op:"IS_NOT_NAN"}};if(PO(r.value))return{unaryFilter:{field:Lu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(r.field),op:pre(r.op),value:r.value}}}(e):e instanceof al?function(r){const n=r.getFilters().map(a=>K$(a));return n.length===1?n[0]:{compositeFilter:{op:mre(r.op),filters:n}}}(e):qt(54877,{filter:e})}function gre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Y$(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,r,n,a,i=Xt.min(),s=Xt.min(),o=Ja.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Vu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(t){this.wt=t}}function yre(e){const t=fre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?V2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(){this.yn=new bre}addToCollectionParentIndex(t,r){return this.yn.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(pf.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(pf.min())}updateCollectionGroup(t,r,n){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class bre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new wa(vn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new wa(vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X$=41943040;class rs{static withCacheSize(t){return new rs(t,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(X$,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new J0(0)}static ir(){return new J0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="LruGarbageCollector",wre=1048576;function WO([e,t],[r,n]){const a=ir(e,r);return a===0?ir(t,n):a}class _re{constructor(t){this.cr=t,this.buffer=new wa(WO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();WO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Sre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Pt(qO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Mp(r)?Pt(qO,"Ignoring IndexedDB error during garbage collection: ",r):await jp(r)}await this.Ir(3e5)})}}class Are{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return st.resolve(Fw.le);const n=new _re(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(zO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Wd()<=br.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Tre(e,t){return new Are(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(){this.changes=new ed(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,pi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?st.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&xg(n.mutation,a,Ns.empty(),Kt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,ur()).next(()=>n))}getLocalViewOfDocuments(t,r,n=ur()){const a=xh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=Qm();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=xh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,ur()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Oc();const s=yg(),o=function(){return yg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Nf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),xg(u.mutation,c,u.mutation.getFieldMask(),Kt.now())):s.set(c.key,Ns.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new kre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=yg();let a=new In((s,o)=>s-o),i=ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ns.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||ur()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=O$();u.forEach(h=>{if(!i.has(h)){const d=R$(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return st.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):T$(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):st.resolve(xh());let o=c1,l=i;return s.next(c=>st.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?st.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,ur())).next(u=>({batchId:o,changes:N$(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ft(r)).next(n=>{let a=Qm();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=Qm();return this.indexManager.getCollectionParents(t,i).next(o=>st.forEach(o,l=>{const c=function(f,h){return new Rp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,pi.newInvalidDocument(u)))});let o=Qm();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&xg(u.mutation,c,Ns.empty(),Kt.now()),Uw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Nl(a.createTime)}}(r)),st.resolve()}getNamedQuery(t,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:yre(a.bundledQuery),readTime:Nl(a.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(){this.overlays=new In(Ft.comparator),this.Or=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const n=xh();return st.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),st.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),st.resolve()}getOverlaysForCollection(t,r,n){const a=xh(),i=r.length+1,s=new Ft(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return st.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new In((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=xh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=xh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return st.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Kte(r,n));let i=this.Or.get(r);i===void 0&&(i=ur(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.sessionToken=Ja.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.Nr=new wa(ka.Br),this.Lr=new wa(ka.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new ka(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new ka(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Ft(new vn([])),n=new ka(r,t),a=new ka(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Ft(new vn([])),n=new ka(r,t),a=new ka(r,t+1);let i=ur();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new ka(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ka{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Ft.comparator(t.key,r.key)||ir(t.Gr,r.Gr)}static kr(t,r){return ir(t.Gr,r.Gr)||Ft.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new wa(ka.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Gte(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new ka(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return st.resolve(s)}lookupMutationBatch(t,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return st.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?ck:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ka(r,0),a=new ka(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),st.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new wa(ir);return r.forEach(a=>{const i=new ka(a,0),s=new ka(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),st.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Ft.isDocumentKey(i)||(i=i.child(""));const s=new ka(new Ft(i),0);let o=new wa(ir);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),st.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Mr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return st.forEach(r.mutations,a=>{const i=new ka(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new ka(r,0),a=this.zr.firstAfterOrEqual(n);return st.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(t){this.Zr=t,this.docs=function(){return new In(Ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return st.resolve(n?n.document.mutableCopy():pi.newInvalidDocument(r))}getEntries(t,r){let n=Oc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():pi.newInvalidDocument(a))}),st.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Oc();const s=r.path,o=new Ft(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ote(ste(u),n)<=0||(a.has(u.key)||Uw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return st.resolve(i)}getAllFromCollectionGroup(t,r,n,a){qt(9500)}Xr(t,r){return st.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Lre(this)}getSize(t){return st.resolve(this.size)}}class Lre extends Ere{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),st.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(t){this.persistence=t,this.ei=new ed(r=>hk(r),dk),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.ti=0,this.ni=new xk,this.targetCount=0,this.ri=J0.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),st.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new J0(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.ar(r),st.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),st.waitFor(i).next(()=>a)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return st.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),st.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),st.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return st.resolve(n)}containsKey(t,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(t,r){this.ii={},this.overlays={},this.si=new Fw(0),this.oi=!1,this.oi=!0,this._i=new Ore,this.referenceDelegate=t(this),this.ai=new jre(this),this.indexManager=new xre,this.remoteDocumentCache=function(a){return new Dre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new vre(r),this.ci=new Cre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Nre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Ire(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Pt("MemoryPersistence","Starting transaction:",t);const a=new Mre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return st.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class Mre extends cte{constructor(t){super(),this.currentSequenceNumber=t}}class bk{constructor(t){this.persistence=t,this.Ti=new xk,this.Ii=null}static Ei(t){return new bk(t)}get di(){if(this.Ii)return this.Ii;throw qt(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),st.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),st.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,n=>{const a=Ft.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Xt.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class q2{constructor(t,r){this.persistence=t,this.Ri=new ed(n=>hte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Tre(this,r)}static Ei(t,r){return new q2(t,r)}li(){}hi(t){return st.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return st.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?st.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Xt.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Vx(t.data.value)),r}gr(t,r,n){return st.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return st.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=ur(),a=ur();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new wk(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return NZ()?8:ute(PZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Rre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Wd()<=br.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Hd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Wd()<=br.DEBUG&&Pt("QueryEngine","Query:",Hd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Wd()<=br.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Hd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Cl(r))):st.resolve())}Rs(t,r){if(DO(r))return st.resolve(null);let n=Cl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=V2(r,null,"F"),n=Cl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=ur(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,V2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return DO(r)||a.isEqual(Xt.min())?st.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?st.resolve(null):(Wd()<=br.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hd(r)),this.ws(t,s,r,ite(a,c1)).next(o=>o))})}ps(t,r){let n=new wa(P$(t));return r.forEach((a,i)=>{Uw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Wd()<=br.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Hd(r)),this.As.getDocumentsMatchingQuery(t,r,pf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="LocalStore",$re=3e8;class Bre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new In(ir),this.Ds=new ed(i=>hk(i),dk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Vre(e,t,r,n){return new Bre(e,t,r,n)}async function J$(e,t){const r=Yt(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=ur();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Ure(e,t){const r=Yt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=st.resolve();return h.forEach(m=>{d=d.next(()=>u.getEntry(l,m)).next(p=>{const v=c.docVersions.get(m);Mr(v!==null,48541),p.version.compareTo(v)<0&&(f.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=ur();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function Z$(e){const t=Yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function zre(e,t){const r=Yt(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(Ja.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=$re?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=Oc(),c=ur();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(qre(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Xt.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return st.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function qre(e,t,r){let n=ur(),a=ur();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Oc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Xt.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Pt(_k,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Wre(e,t){const r=Yt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=ck),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Hre(e,t){const r=Yt(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,st.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Vu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function M4(e,t,r){const n=Yt(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Mp(s))throw s;Pt(_k,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function HO(e,t,r){const n=Yt(e);let a=Xt.min(),i=ur();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Yt(l),h=f.Ds.get(u);return h!==void 0?st.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Cl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Xt.min(),r?i:ur())).next(o=>(Gre(n,Ote(t),o),{documents:o,Ns:i})))}function Gre(e,t,r){let n=e.vs.get(t)||Xt.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class GO{constructor(){this.activeTargetIds=Rte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Kre{constructor(){this.So=new GO,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new GO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="ConnectivityMonitor";class YO{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Pt(KO,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Pt(KO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy=null;function R4(){return Hy===null?Hy=function(){return 268435456+Math.round(2147483648*Math.random())}():Hy++,"0x"+Hy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="RestConnection",Xre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qre{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===F2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=R4(),o=this.$o(t,r.toUriEncodedString());Pt(Z_,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=sk(c);return this.Ko(t,o,l,n,u).then(f=>(Pt(Z_,`Received RPC '${t}' ${s}: `,f),f),f=>{throw K0(Z_,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=Xre[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="WebChannelConnection";class Zre extends Qre{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=R4();return new Promise((o,l)=>{const c=new Z9;c.setWithCredentials(!0),c.listenOnce(e$.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bx.NO_ERROR:const f=c.getResponseJson();Pt(ni,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Bx.TIMEOUT:Pt(ni,`RPC '${t}' ${s} timed out`),l(new Tt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Bx.HTTP_ERROR:const h=c.getStatus();if(Pt(ni,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const p=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(_)>=0?_:nt.UNKNOWN}(m.status);l(new Tt(p,m.message))}else l(new Tt(nt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Tt(nt.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Pt(ni,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Pt(ni,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=R4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=n$(),o=r$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Pt(ni,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const m=new Jre({Go:v=>{d?Pt(ni,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Pt(ni,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Pt(ni,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),p=(v,y,_)=>{v.listen(y,w=>{try{_(w)}catch(O){setTimeout(()=>{throw O},0)}})};return p(f,Xm.EventType.OPEN,()=>{d||(Pt(ni,`RPC '${t}' stream ${a} transport opened.`),m.t_())}),p(f,Xm.EventType.CLOSE,()=>{d||(d=!0,Pt(ni,`RPC '${t}' stream ${a} transport closed`),m.r_())}),p(f,Xm.EventType.ERROR,v=>{d||(d=!0,K0(ni,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new Tt(nt.UNAVAILABLE,"The operation could not be completed")))}),p(f,Xm.EventType.MESSAGE,v=>{var y;if(!d){const _=v.data[0];Mr(!!_,16349);const w=_,O=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(O){Pt(ni,`RPC '${t}' stream ${a} received error:`,O);const k=O.status;let C=function(A){const I=ia[A];if(I!==void 0)return $$(I)}(k),T=O.message;C===void 0&&(C=nt.INTERNAL,T="Unknown error status: "+k+" with message "+O.message),d=!0,m.r_(new Tt(C,T)),f.close()}else Pt(ni,`RPC '${t}' stream ${a} received:`,_),m.i_(_)}}),p(o,t$.STAT_EVENT,v=>{v.stat===T4.PROXY?Pt(ni,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===T4.NOPROXY&&Pt(ni,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function eS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(e){return new nre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="PersistentStream";class tB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new eB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(Nc(r.toString()),Nc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Tt(nt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Pt(XO,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Pt(XO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ene extends tB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=sre(this.serializer,t),n=function(i){if(!("targetChange"in i))return Xt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Xt.min():s.readTime?Nl(s.readTime):Xt.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=j4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=N4(l)?{documents:cre(i,l)}:{query:H$(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=U$(i,s.resumeToken);const c=I4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Xt.min())>0){o.readTime=z2(i,s.snapshotVersion.toTimestamp());const c=I4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=hre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=j4(this.serializer),r.removeTarget=t,this.F_(r)}}class tne extends tB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Mr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Mr(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Mr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=lre(t.writeResults,t.commitTime),n=Nl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=j4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>ore(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{}class nne extends rne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Tt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,D4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Tt(nt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,D4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(nt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class ane{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Nc(r),this.ea=!1):Pt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="RemoteStore";class ine{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{td(this)&&(Pt(Uh,"Restarting streams for network reachability change."),await async function(l){const c=Yt(l);c.aa.add(4),await Ev(c),c.la.set("Unknown"),c.aa.delete(4),await Kw(c)}(this))})}),this.la=new ane(n,a)}}async function Kw(e){if(td(e))for(const t of e.ua)await t(!0)}async function Ev(e){for(const t of e.ua)await t(!1)}function rB(e,t){const r=Yt(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Ek(r)?Tk(r):Fp(r).b_()&&Ak(r,t))}function Sk(e,t){const r=Yt(e),n=Fp(r);r._a.delete(t),n.b_()&&nB(r,t),r._a.size===0&&(n.b_()?n.v_():td(r)&&r.la.set("Unknown"))}function Ak(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Fp(e).U_(t)}function nB(e,t){e.ha.Ke(t),Fp(e).K_(t)}function Tk(e){e.ha=new Zte({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Fp(e).start(),e.la.ta()}function Ek(e){return td(e)&&!Fp(e).w_()&&e._a.size>0}function td(e){return Yt(e).aa.size===0}function aB(e){e.ha=void 0}async function sne(e){e.la.set("Online")}async function one(e){e._a.forEach((t,r)=>{Ak(e,t)})}async function lne(e,t){aB(e),Ek(e)?(e.la.ia(t),Tk(e)):e.la.set("Unknown")}async function cne(e,t,r){if(e.la.set("Online"),t instanceof V$&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Pt(Uh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await W2(e,n)}else if(t instanceof qx?e.ha.Xe(t):t instanceof B$?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Xt.min()))try{const n=await Z$(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Ja.EMPTY_BYTE_STRING,u.snapshotVersion)),nB(i,l);const f=new Vu(u.target,l,c,u.sequenceNumber);Ak(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Pt(Uh,"Failed to raise snapshot:",n),await W2(e,n)}}async function W2(e,t,r){if(!Mp(t))throw t;e.aa.add(1),await Ev(e),e.la.set("Offline"),r||(r=()=>Z$(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Pt(Uh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await Kw(e)})}function iB(e,t){return t().catch(r=>W2(e,r,t))}async function Yw(e){const t=Yt(e),r=yf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:ck;for(;une(t);)try{const a=await Wre(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,fne(t,a)}catch(a){await W2(t,a)}sB(t)&&oB(t)}function une(e){return td(e)&&e.oa.length<10}function fne(e,t){e.oa.push(t);const r=yf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function sB(e){return td(e)&&!yf(e).w_()&&e.oa.length>0}function oB(e){yf(e).start()}async function hne(e){yf(e).H_()}async function dne(e){const t=yf(e);for(const r of e.oa)t.G_(r.mutations)}async function pne(e,t,r){const n=e.oa.shift(),a=gk.from(n,t,r);await iB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Yw(e)}async function mne(e,t){t&&yf(e).W_&&await async function(n,a){if(function(s){return Qte(s)&&s!==nt.ABORTED}(a.code)){const i=n.oa.shift();yf(n).D_(),await iB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Yw(n)}}(e,t),sB(e)&&oB(e)}async function QO(e,t){const r=Yt(e);r.asyncQueue.verifyOperationInProgress(),Pt(Uh,"RemoteStore received new credentials");const n=td(r);r.aa.add(3),await Ev(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await Kw(r)}async function gne(e,t){const r=Yt(e);t?(r.aa.delete(2),await Kw(r)):t||(r.aa.add(2),await Ev(r),r.la.set("Unknown"))}function Fp(e){return e.Pa||(e.Pa=function(r,n,a){const i=Yt(r);return i.Y_(),new ene(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:sne.bind(null,e),Jo:one.bind(null,e),Zo:lne.bind(null,e),Q_:cne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Ek(e)?Tk(e):e.la.set("Unknown")):(await e.Pa.stop(),aB(e))})),e.Pa}function yf(e){return e.Ta||(e.Ta=function(r,n,a){const i=Yt(r);return i.Y_(),new tne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:hne.bind(null,e),Zo:mne.bind(null,e),z_:dne.bind(null,e),j_:pne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await Yw(e)):(await e.Ta.stop(),e.oa.length>0&&(Pt(Uh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new kk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pk(e,t){if(Nc("AsyncQueue",`${t}: ${e}`),Mp(e))return new Tt(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static emptySet(t){return new E0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Ft.comparator(r.key,n.key):(r,n)=>Ft.comparator(r.key,n.key),this.keyedMap=Qm(),this.sortedSet=new In(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof E0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new E0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Ia=new In(Ft.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):qt(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class Z0{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Z0(t,r,E0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class yne{constructor(){this.queries=ZO(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Yt(r),i=a.queries;a.queries=ZO(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Tt(nt.ABORTED,"Firestore shutting down"))}}function ZO(){return new ed(e=>k$(e),Vw)}async function lB(e,t){const r=Yt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new vne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Pk(s,`Initialization of query '${Hd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Ck(r)}async function cB(e,t){const r=Yt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function xne(e,t){const r=Yt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Ck(r)}function bne(e,t,r){const n=Yt(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Ck(e){e.fa.forEach(t=>{t.next()})}var F4,eI;(eI=F4||(F4={})).ya="default",eI.Cache="cache";class uB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new Z0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=Z0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==F4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t){this.key=t}}class hB{constructor(t){this.key=t}}class wne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ur(),this.mutatedKeys=ur(),this.Ua=P$(t),this.Ka=new E0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new JO,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=Uw(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;h&&d?h.data.isEqual(d.data)?m!==p&&(n.track({type:3,doc:d}),v=!0):this.ja(h,d)||(n.track({type:2,doc:d}),v=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),v=!0):h&&!d&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(d?(s=s.add(d),i=p?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Vt:v})}};return p(d)-p(m)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new Z0(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new JO,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=ur(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new hB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new fB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=ur();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return Z0.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Nk="SyncEngine";class _ne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Sne{constructor(t){this.key=t,this.tu=!1}}class Ane{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new ed(o=>k$(o),Vw),this.iu=new Map,this.su=new Set,this.ou=new In(Ft.comparator),this._u=new Map,this.au=new xk,this.uu={},this.cu=new Map,this.lu=J0.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Tne(e,t,r=!0){const n=yB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await dB(n,t,r,!0),a}async function Ene(e,t){const r=yB(e);await dB(r,t,!0,!1)}async function dB(e,t,r,n){const a=await Hre(e.localStore,Cl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await kne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&rB(e.remoteStore,a),o}async function kne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(p,v,y,_){let w=v.view.Ga(y);w.ys&&(w=await HO(p.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,w)));const O=_&&_.targetChanges.get(v.targetId),k=_&&_.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,p.isPrimaryClient,O,k);return rI(p,v.targetId,C.Ya),C.snapshot}(e,f,h,d);const i=await HO(e.localStore,t,!0),s=new wne(t,i.Ns),o=s.Ga(i.documents),l=Tv.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);rI(e,r,c.Ya);const u=new _ne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Pne(e,t,r){const n=Yt(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Vw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await M4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Sk(n.remoteStore,a.targetId),$4(n,a.targetId)}).catch(jp)):($4(n,a.targetId),await M4(n.localStore,a.targetId,!0))}async function Cne(e,t){const r=Yt(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Sk(r.remoteStore,n.targetId))}async function Nne(e,t,r){const n=Rne(e);try{const a=await function(s,o){const l=Yt(s),c=Kt.now(),u=o.reduce((d,m)=>d.add(m.key),ur());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Oc(),p=ur();return l.Cs.getEntries(d,u).next(v=>{m=v,m.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,m)).next(v=>{f=v;const y=[];for(const _ of o){const w=Wte(_,f.get(_.key).overlayedDocument);w!=null&&y.push(new Nf(_.key,w,y$(w.value.mapValue),Vi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,p);return l.documentOverlayCache.saveOverlays(d,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:N$(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new In(ir)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await kv(n,a.changes),await Yw(n.remoteStore)}catch(a){const i=Pk(a,"Failed to persist write");r.reject(i)}}async function pB(e,t){const r=Yt(e);try{const n=await zre(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Mr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Mr(s.tu,14607):a.removedDocuments.size>0&&(Mr(s.tu,42227),s.tu=!1))}),await kv(r,n,t)}catch(n){await jp(n)}}function tI(e,t,r){const n=Yt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Yt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Ck(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function One(e,t,r){const n=Yt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new In(Ft.comparator);s=s.insert(i,pi.newNoDocument(i,Xt.min()));const o=ur().add(i),l=new Hw(Xt.min(),new Map,new In(ir),s,o);await pB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Ok(n)}else await M4(n.localStore,t,!1).then(()=>$4(n,t,r)).catch(jp)}async function Ine(e,t){const r=Yt(e),n=t.batch.batchId;try{const a=await Ure(r.localStore,t);gB(r,n,null),mB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await kv(r,a)}catch(a){await jp(a)}}async function Dne(e,t,r){const n=Yt(e);try{const a=await function(s,o){const l=Yt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Mr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);gB(n,t,r),mB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await kv(n,a)}catch(a){await jp(a)}}function mB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function gB(e,t,r){const n=Yt(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function $4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||vB(e,n)})}function vB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Sk(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Ok(e))}function rI(e,t,r){for(const n of r)n instanceof fB?(e.au.addReference(n.key,t),Lne(e,n)):n instanceof hB?(Pt(Nk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||vB(e,n.key)):qt(19791,{Iu:n})}function Lne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Pt(Nk,"New document in limbo: "+r),e.su.add(n),Ok(e))}function Ok(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Ft(vn.fromString(t)),n=e.lu.next();e._u.set(n,new Sne(r)),e.ou=e.ou.insert(r,n),rB(e.remoteStore,new Vu(Cl(pk(r.path)),n,"TargetPurposeLimboResolution",Fw.le))}}async function kv(e,t,r){const n=Yt(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=wk.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Yt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>st.forEach(c,h=>st.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>st.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!Mp(f))throw f;Pt(_k,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),m=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(h,p)}}}(n.localStore,i))}async function jne(e,t){const r=Yt(e);if(!r.currentUser.isEqual(t)){Pt(Nk,"User change. New user:",t.toKey());const n=await J$(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Tt(nt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await kv(r,n.Ms)}}function Mne(e,t){const r=Yt(e),n=r._u.get(t);if(n&&n.tu)return ur().add(n.key);{let a=ur();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function yB(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=One.bind(null,t),t.nu.Q_=xne.bind(null,t.eventManager),t.nu.Tu=bne.bind(null,t.eventManager),t}function Rne(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ine.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dne.bind(null,t),t}class H2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gw(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Vre(this.persistence,new Fre,t.initialUser,this.serializer)}Ru(t){return new Q$(bk.Ei,this.serializer)}Au(t){return new Kre}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}H2.provider={build:()=>new H2};class Fne extends H2{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Mr(this.persistence.referenceDelegate instanceof q2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Sre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new Q$(n=>q2.Ei(n,r),this.serializer)}}class B4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=jne.bind(null,this.syncEngine),await gne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yne}()}createDatastore(t){const r=Gw(t.databaseInfo.databaseId),n=function(i){return new Zre(i)}(t.databaseInfo);return function(i,s,o,l){return new nne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new ine(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>tI(this.syncEngine,r,0),function(){return YO.C()?new YO:new Yre}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Ane(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Yt(a);Pt(Uh,"RemoteStore shutting down."),i.aa.add(5),await Ev(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}B4.provider={build:()=>new B4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Nc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="FirestoreClient";class $ne{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=fi.UNAUTHENTICATED,this.clientId=o$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Pt(xf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Pt(xf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Pk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function tS(e,t){e.asyncQueue.verifyOperationInProgress(),Pt(xf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await J$(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function nI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Bne(e);Pt(xf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>QO(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>QO(t.remoteStore,a)),e._onlineComponents=t}async function Bne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pt(xf,"Using user provided OfflineComponentProvider");try{await tS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;K0("Error using user provided cache. Falling back to memory cache: "+r),await tS(e,new H2)}}else Pt(xf,"Using default OfflineComponentProvider"),await tS(e,new Fne(void 0));return e._offlineComponents}async function Ik(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pt(xf,"Using user provided OnlineComponentProvider"),await nI(e,e._uninitializedComponentsProvider._online)):(Pt(xf,"Using default OnlineComponentProvider"),await nI(e,new B4))),e._onlineComponents}function Vne(e){return Ik(e).then(t=>t.syncEngine)}function Une(e){return Ik(e).then(t=>t.datastore)}async function bB(e){const t=await Ik(e),r=t.eventManager;return r.onListen=Tne.bind(null,t.syncEngine),r.onUnlisten=Pne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Ene.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Cne.bind(null,t.syncEngine),r}function zne(e,t,r={}){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new xB({next:h=>{u.yu(),s.enqueueAndForget(()=>cB(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new Tt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new Tt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new uB(pk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return lB(i,f)}(await bB(e),e.asyncQueue,t,r,n)),n.promise}function qne(e,t,r={}){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new xB({next:h=>{u.yu(),s.enqueueAndForget(()=>cB(i,f)),h.fromCache&&l.source==="server"?c.reject(new Tt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new uB(o,u,{includeMetadataChanges:!0,Fa:!0});return lB(i,f)}(await bB(e),e.asyncQueue,t,r,n)),n.promise}function Wne(e,t,r){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Une(e);n.resolve(async function(s,o,l){var c;const u=Yt(s),{request:f,yt:h,parent:d}=ure(u.serializer,Nte(o),l);u.connection.Bo||delete f.parent;const m=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(v=>!!v.result);Mr(m.length===1,64727);const p=(c=m[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(p).reduce((v,y)=>(v[h[y]]=p[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(e,t,r){if(!r)throw new Tt(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Hne(e,t,r,n){if(t===!0&&n===!0)throw new Tt(nt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function iI(e){if(!Ft.isDocumentKey(e))throw new Tt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sI(e){if(Ft.isDocumentKey(e))throw new Tt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qt(12329,{type:typeof e})}function js(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xw(e);throw new Tt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Gne(e,t){if(t<=0)throw new Tt(nt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="firestore.googleapis.com",oI=!0;class lI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SB,this.ssl=oI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:oI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X$;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wre)throw new Tt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hne("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Tt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Tt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Tt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qw{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Xee;switch(n.type){case"firstParty":return new ete(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Tt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,q9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=aI.get(r);n&&(Pt("ComponentProvider","Removing Datastore"),aI.delete(r),n.terminate())}(this),Promise.resolve()}}function Kne(e,t,r,n={}){var a;e=js(e,Qw);const i=sk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==SB&&s.host!==l&&K0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!L2(c,o)&&(e._setSettings(c),i&&(AZ(`https://${l}`),q9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=fi.MOCK_USER;else{u=TZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Tt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new fi(h)}e._authCredentials=new Qee(new i$(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Of(this.firestore,t,this._query)}}class Ui{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new of(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ui(this.firestore,t,this._key)}}class of extends Of{constructor(t,r,n){super(t,r,pk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ui(this.firestore,null,new Ft(t))}withConverter(t){return new of(this.firestore,t,this._path)}}function Nt(e,t,...r){if(e=nl(e),_B("collection","path",t),e instanceof Qw){const n=vn.fromString(t,...r);return sI(n),new of(e,null,n)}{if(!(e instanceof Ui||e instanceof of))throw new Tt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vn.fromString(t,...r));return sI(n),new of(e.firestore,null,n)}}function Zn(e,t,...r){if(e=nl(e),arguments.length===1&&(t=o$.newId()),_B("doc","path",t),e instanceof Qw){const n=vn.fromString(t,...r);return iI(n),new Ui(e,null,new Ft(n))}{if(!(e instanceof Ui||e instanceof of))throw new Tt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vn.fromString(t,...r));return iI(n),new Ui(e.firestore,e instanceof of?e.converter:null,new Ft(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="AsyncQueue";class uI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new eB(this,"async_queue_retry"),this.ju=()=>{const n=eS();n&&Pt(cI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=eS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=eS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Pl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Mp(t))throw t;Pt(cI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Nc("INTERNAL UNHANDLED ERROR: ",fI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=kk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&qt(47125,{ec:fI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function fI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class qc extends Qw{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new uI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uI(t),this._firestoreClient=void 0,await t}}}function Yne(e,t){const r=typeof e=="object"?e:Ree(),n=typeof e=="string"?e:F2,a=Iee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=_Z("firestore");i&&Kne(a,...i)}return a}function Pv(e){if(e._terminated)throw new Tt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Xne(e),e._firestoreClient}function Xne(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new gte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new $ne(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Jne{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ep(Ja.fromBase64String(t))}catch(r){throw new Tt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ep(Ja.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Tt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ha(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Tt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Tt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ir(this._lat,t._lat)||ir(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=/^__.*__$/;class eae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Nf(t,this.data,this.fieldMask,r,this.fieldTransforms):new Av(t,this.data,r,this.fieldTransforms)}}class AB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Nf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function TB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{oc:e})}}class jk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new jk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return G2(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(TB(this.oc)&&Zne.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class tae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Gw(t)}dc(t,r,n,a=!1){return new jk({oc:t,methodName:r,Ec:n,path:Ha.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(e){const t=e._freezeSettings(),r=Gw(e._databaseId);return new tae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Mk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);Fk("Data must be an object, but it was:",s,n);const o=PB(n,s);let l,c;if(i.merge)l=new Ns(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=V4(t,f,r);if(!s.contains(h))throw new Tt(nt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NB(u,h)||u.push(h)}l=new Ns(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new eae(new as(o),l,c)}class Ov extends Jw{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ov}}class Rk extends Jw{_toFieldTransform(t){return new Vte(t.path,new p1)}isEqual(t){return t instanceof Rk}}function EB(e,t,r,n){const a=e.dc(1,t,r);Fk("Data must be an object, but it was:",a,n);const i=[],s=as.empty();Cf(n,(l,c)=>{const u=$k(t,l,r);c=nl(c);const f=a.hc(u);if(c instanceof Ov)i.push(u);else{const h=Iv(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ns(i);return new AB(s,o,a.fieldTransforms)}function kB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[V4(t,n,r)],l=[a];if(i.length%2!=0)throw new Tt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(V4(t,i[h])),l.push(i[h+1]);const c=[],u=as.empty();for(let h=o.length-1;h>=0;--h)if(!NB(c,o[h])){const d=o[h];let m=l[h];m=nl(m);const p=s.hc(d);if(m instanceof Ov)c.push(d);else{const v=Iv(m,p);v!=null&&(c.push(d),u.set(d,v))}}const f=new Ns(c);return new AB(u,f,s.fieldTransforms)}function rae(e,t,r,n=!1){return Iv(r,e.dc(n?4:3,t))}function Iv(e,t){if(CB(e=nl(e)))return Fk("Unsupported field value:",t,e),PB(e,t);if(e instanceof Jw)return function(n,a){if(!TB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Iv(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=nl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Fte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Kt.fromDate(n);return{timestampValue:z2(a.serializer,i)}}if(n instanceof Kt){const i=new Kt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:z2(a.serializer,i)}}if(n instanceof Dk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ep)return{bytesValue:U$(a.serializer,n._byteString)};if(n instanceof Ui){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Lk)return function(s,o){return{mapValue:{fields:{[m$]:{stringValue:v$},[$2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return mk(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${Xw(n)}`)}(e,t)}function PB(e,t){const r={};return c$(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cf(e,(n,a)=>{const i=Iv(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function CB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Kt||e instanceof Dk||e instanceof ep||e instanceof Ui||e instanceof Jw||e instanceof Lk)}function Fk(e,t,r){if(!CB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=Xw(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function V4(e,t,r){if((t=nl(t))instanceof Cv)return t._internalPath;if(typeof t=="string")return $k(e,t);throw G2("Field path arguments must be of type string or ",e,!1,void 0,r)}const nae=new RegExp("[~\\*/\\[\\]]");function $k(e,t,r){if(t.search(nae)>=0)throw G2(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Cv(...t.split("."))._internalPath}catch{throw G2(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function G2(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Tt(nt.INVALID_ARGUMENT,o+e+l)}function NB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Zw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class aae extends OB{data(){return super.data()}}function Zw(e,t){return typeof t=="string"?$k(e,t):t instanceof Cv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Tt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bk{}class Vk extends Bk{}function Ar(e,t,...r){let n=[];t instanceof Bk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Uk).length,o=i.filter(l=>l instanceof e5).length;if(s>1||s>0&&o>0)throw new Tt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class e5 extends Vk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new e5(t,r,n)}_apply(t){const r=this._parse(t);return IB(t._query,r),new Of(t.firestore,t.converter,O4(t._query,r))}_parse(t){const r=Nv(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Tt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dI(f,u);const m=[];for(const p of f)m.push(hI(l,i,p));h={arrayValue:{values:m}}}else h=hI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dI(f,u),h=rae(o,s,f,u==="in"||u==="not-in");return ua.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Br(e,t,r){const n=t,a=Zw("where",e);return e5._create(a,n,r)}class Uk extends Bk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Uk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:al.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)IB(s,l),s=O4(s,l)}(t._query,r),new Of(t.firestore,t.converter,O4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zk extends Vk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new zk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Tt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Tt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new d1(i,s)}(t._query,this._field,this._direction);return new Of(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Rp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function vi(e,t="asc"){const r=t,n=Zw("orderBy",e);return zk._create(n,r)}class qk extends Vk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new qk(t,r,n)}_apply(t){return new Of(t.firestore,t.converter,V2(t._query,this._limit,this._limitType))}}function Wx(e){return Gne("limit",e),qk._create("limit",e,"F")}function hI(e,t,r){if(typeof(r=nl(r))=="string"){if(r==="")throw new Tt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T$(t)&&r.indexOf("/")!==-1)throw new Tt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(vn.fromString(r));if(!Ft.isDocumentKey(n))throw new Tt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return kO(e,new Ft(n))}if(r instanceof Ui)return kO(e,r._key);throw new Tt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xw(r)}.`)}function dI(e,t){if(!Array.isArray(e)||e.length===0)throw new Tt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Tt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Tt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class sae{convertValue(t,r="none"){switch(vf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(gf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Cf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[$2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Kn(s.doubleValue));return new Lk(i)}convertGeoPoint(t){return new Dk(Kn(t.latitude),Kn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Bw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(u1(t));default:return null}}convertTimestamp(t){const r=mf(t);return new Kt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=vn.fromString(t);Mr(Y$(n),9688,{name:t});const a=new f1(n.get(1),n.get(3)),i=new Ft(n.popFirst(5));return a.isEqual(r)||Nc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function oae(){return new Qne("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DB extends OB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Hx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Zw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Hx extends DB{data(t={}){return super.data(t)}}class lae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Zm(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Hx(this._firestore,this._userDataWriter,n.key,n,new Zm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Tt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new Hx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Zm(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Hx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Zm(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:cae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function cae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e){e=js(e,Ui);const t=js(e.firestore,qc);return zne(Pv(t),e._key).then(r=>uae(t,e,r))}class Hk extends sae{constructor(t){super(),this.firestore=t}convertBytes(t){return new ep(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ui(this.firestore,null,r)}}function kr(e){e=js(e,Of);const t=js(e.firestore,qc),r=Pv(t),n=new Hk(t);return iae(e._query),qne(r,e._query).then(a=>new lae(t,n,e,a))}function Gy(e,t,r){e=js(e,Ui);const n=js(e.firestore,qc),a=Wk(e.converter,t,r);return Dv(n,[Mk(Nv(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Vi.none())])}function vc(e,t,r,...n){e=js(e,Ui);const a=js(e.firestore,qc),i=Nv(a);let s;return s=typeof(t=nl(t))=="string"||t instanceof Cv?kB(i,"updateDoc",e._key,t,r,n):EB(i,"updateDoc",e._key,t),Dv(a,[s.toMutation(e._key,Vi.exists(!0))])}function y1(e){return Dv(js(e.firestore,qc),[new Ww(e._key,Vi.none())])}function Vr(e,t){const r=js(e.firestore,qc),n=Zn(e),a=Wk(e.converter,t);return Dv(r,[Mk(Nv(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Vi.exists(!1))]).then(()=>n)}function Dv(e,t){return function(n,a){const i=new Pl;return n.asyncQueue.enqueueAndForget(async()=>Nne(await Vne(n),a,i)),i.promise}(Pv(e),t)}function uae(e,t,r){const n=r.docs.get(t._key),a=new Hk(e);return new DB(e,a,t._key,n,new Zm(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fae(e){return hae(e,{count:oae()})}function hae(e,t){const r=js(e.firestore,qc),n=Pv(r),a=pte(t,(i,s)=>new Yte(s,i.aggregateType,i._internalFieldPath));return Wne(n,e._query,a).then(i=>function(o,l,c){const u=new Hk(o);return new Jne(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Nv(t)}set(t,r,n){this._verifyNotCommitted();const a=rS(t,this._firestore),i=Wk(a.converter,r,n),s=Mk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Vi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=rS(t,this._firestore);let s;return s=typeof(r=nl(r))=="string"||r instanceof Cv?kB(this._dataReader,"WriteBatch.update",i._key,r,n,a):EB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=rS(t,this._firestore);return this._mutations=this._mutations.concat(new Ww(r._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rS(e,t){if((e=nl(e)).firestore!==t)throw new Tt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new Ov("deleteField")}function Ky(){return new Rk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(e){return Pv(e=js(e,qc)),new dae(e,t=>Dv(e,t))}(function(t,r=!0){(function(a){Lp=a})(Mee),M2(new o1("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new qc(new Jee(n.getProvider("auth-internal")),new tte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Tt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f1(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),T0(mO,gO,t),T0(mO,gO,"esm2017")})();const mae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},gae=Y9(mae),vt=Yne(gae),LB=Z.createContext(void 0),Ai=()=>{const e=Z.useContext(LB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vae=({children:e})=>{const[t,r]=Z.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=Z.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await kr(Nt(vt,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await Vr(Nt(vt,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(m){console.error("Error logging activity:",m)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),Vr(Nt(vt,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return g.jsx(LB.Provider,{value:o,children:e})},jB=Z.createContext(void 0),yae=({children:e})=>{const[t,r]=Z.useState(!0),n=()=>{r(!t)};return g.jsx(jB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},sn=()=>{const e=Z.useContext(jB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Gk=Z.createContext({});function Lv(e){const t=Z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kk=typeof window<"u",Yk=Kk?Z.useLayoutEffect:Z.useEffect,t5=Z.createContext(null);function Xk(e,t){e.indexOf(t)===-1&&e.push(t)}function r5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ic=(e,t,r)=>r>t?t:r<e?e:r;let K2=()=>{};const Dc={},MB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function RB(e){return typeof e=="object"&&e!==null}const FB=e=>/^0[^.\s]+$/u.test(e);function Qk(e){let t;return()=>(t===void 0&&(t=e()),t)}const co=e=>e,xae=(e,t)=>r=>t(e(r)),jv=(...e)=>e.reduce(xae),tp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Jk{constructor(){this.subscriptions=[]}add(t){return Xk(this.subscriptions,t),()=>r5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const el=e=>e*1e3,Ol=e=>e/1e3;function $B(e,t){return t?e*(1e3/t):0}const bae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},BB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,wae=1e-7,_ae=12;function Sae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=BB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>wae&&++o<_ae);return s}function Mv(e,t,r,n){if(e===t&&r===n)return co;const a=i=>Sae(i,0,1,e,r);return i=>i===0||i===1?i:BB(a(i),t,n)}const VB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UB=e=>t=>1-e(1-t),zB=Mv(.33,1.53,.69,.99),Zk=UB(zB),qB=VB(Zk),WB=e=>(e*=2)<1?.5*Zk(e):.5*(2-Math.pow(2,-10*(e-1))),eP=e=>1-Math.sin(Math.acos(e)),HB=UB(eP),GB=VB(eP),Aae=Mv(.42,0,1,1),Tae=Mv(0,0,.58,1),KB=Mv(.42,0,.58,1),YB=e=>Array.isArray(e)&&typeof e[0]!="number";function XB(e,t){return YB(e)?e[bae(0,e.length,t)]:e}const QB=e=>Array.isArray(e)&&typeof e[0]=="number",mI={linear:co,easeIn:Aae,easeInOut:KB,easeOut:Tae,circIn:eP,circInOut:GB,circOut:HB,backIn:Zk,backInOut:qB,backOut:zB,anticipate:WB},Eae=e=>typeof e=="string",gI=e=>{if(QB(e)){K2(e.length===4);const[t,r,n,a]=e;return Mv(t,r,n,a)}else if(Eae(e))return K2(mI[e]!==void 0),mI[e];return e},Yy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],vI={value:null,addProjectionMetrics:null};function kae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const p=d&&a?r:n;return h&&s.add(f),p.has(f)||p.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&vI.value&&vI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Pae=40;function JB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=Yy.reduce((w,O)=>(w[O]=kae(i,t?O:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:m}=s,p=()=>{const w=Dc.useManualTiming?a.timestamp:performance.now();r=!1,Dc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Pae),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Yy.reduce((w,O)=>{const k=s[O];return w[O]=(C,T=!1,S=!1)=>(r||v(),k.schedule(C,T,S)),w},{}),cancel:w=>{for(let O=0;O<Yy.length;O++)s[Yy[O]].cancel(w)},state:a,steps:s}}const{schedule:Tn,cancel:Lc,state:za,steps:nS}=JB(typeof requestAnimationFrame<"u"?requestAnimationFrame:co,!0);let Gx;function Cae(){Gx=void 0}const ss={now:()=>(Gx===void 0&&ss.set(za.isProcessing||Dc.useManualTiming?za.timestamp:performance.now()),Gx),set:e=>{Gx=e,queueMicrotask(Cae)}},ZB=e=>t=>typeof t=="string"&&t.startsWith(e),tP=ZB("--"),Nae=ZB("var(--"),rP=e=>Nae(e)?Oae.test(e.split("/*")[0].trim()):!1,Oae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$p={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},x1={...$p,transform:e=>Ic(0,1,e)},Xy={...$p,default:1},bg=e=>Math.round(e*1e5)/1e5,nP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Iae(e){return e==null}const Dae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aP=(e,t)=>r=>!!(typeof r=="string"&&Dae.test(r)&&r.startsWith(e)||t&&!Iae(r)&&Object.prototype.hasOwnProperty.call(r,t)),eV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(nP);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Lae=e=>Ic(0,255,e),aS={...$p,transform:e=>Math.round(Lae(e))},bh={test:aP("rgb","red"),parse:eV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+aS.transform(e)+", "+aS.transform(t)+", "+aS.transform(r)+", "+bg(x1.transform(n))+")"};function jae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const U4={test:aP("#"),parse:jae,transform:bh.transform},Rv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ku=Rv("deg"),Il=Rv("%"),Ht=Rv("px"),Mae=Rv("vh"),Rae=Rv("vw"),yI={...Il,parse:e=>Il.parse(e)/100,transform:e=>Il.transform(e*100)},c0={test:aP("hsl","hue"),parse:eV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Il.transform(bg(t))+", "+Il.transform(bg(r))+", "+bg(x1.transform(n))+")"},ci={test:e=>bh.test(e)||U4.test(e)||c0.test(e),parse:e=>bh.test(e)?bh.parse(e):c0.test(e)?c0.parse(e):U4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bh.transform(e):c0.transform(e)},Fae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $ae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nP))==null?void 0:t.length)||0)+(((r=e.match(Fae))==null?void 0:r.length)||0)>0}const tV="number",rV="color",Bae="var",Vae="var(",xI="${}",Uae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function b1(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Uae,l=>(ci.test(l)?(n.color.push(i),a.push(rV),r.push(ci.parse(l))):l.startsWith(Vae)?(n.var.push(i),a.push(Bae),r.push(l)):(n.number.push(i),a.push(tV),r.push(parseFloat(l))),++i,xI)).split(xI);return{values:r,split:o,indexes:n,types:a}}function nV(e){return b1(e).values}function aV(e){const{split:t,types:r}=b1(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===tV?i+=bg(a[s]):o===rV?i+=ci.transform(a[s]):i+=a[s]}return i}}const zae=e=>typeof e=="number"?0:e;function qae(e){const t=nV(e);return aV(e)(t.map(zae))}const bf={test:$ae,parse:nV,createTransformer:aV,getAnimatableNone:qae};function iS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Wae({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=iS(l,o,e+1/3),i=iS(l,o,e),s=iS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function Y2(e,t){return r=>r>0?t:e}const Sn=(e,t,r)=>e+(t-e)*r,sS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Hae=[U4,bh,c0],Gae=e=>Hae.find(t=>t.test(e));function bI(e){const t=Gae(e);if(!t)return!1;let r=t.parse(e);return t===c0&&(r=Wae(r)),r}const wI=(e,t)=>{const r=bI(e),n=bI(t);if(!r||!n)return Y2(e,t);const a={...r};return i=>(a.red=sS(r.red,n.red,i),a.green=sS(r.green,n.green,i),a.blue=sS(r.blue,n.blue,i),a.alpha=Sn(r.alpha,n.alpha,i),bh.transform(a))},z4=new Set(["none","hidden"]);function Kae(e,t){return z4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Yae(e,t){return r=>Sn(e,t,r)}function iP(e){return typeof e=="number"?Yae:typeof e=="string"?rP(e)?Y2:ci.test(e)?wI:Jae:Array.isArray(e)?iV:typeof e=="object"?ci.test(e)?wI:Xae:Y2}function iV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>iP(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function Xae(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=iP(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Qae(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Jae=(e,t)=>{const r=bf.createTransformer(t),n=b1(e),a=b1(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?z4.has(e)&&!a.values.length||z4.has(t)&&!n.values.length?Kae(e,t):jv(iV(Qae(n,a),a.values),r):Y2(e,t)};function sV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Sn(e,t,r):iP(e)(e,t)}const Zae=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Tn.update(t,r),stop:()=>Lc(t),now:()=>za.isProcessing?za.timestamp:ss.now()}},oV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},X2=2e4;function sP(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<X2;)t+=r,n=e.next(t);return t>=X2?1/0:t}function lV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(sP(n),X2);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ol(a)}}const eie=5;function cV(e,t,r){const n=Math.max(t-eie,0);return $B(r-e(n),t-n)}const $n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oS=.001;function tie({duration:e=$n.duration,bounce:t=$n.bounce,velocity:r=$n.velocity,mass:n=$n.mass}){let a,i,s=1-t;s=Ic($n.minDamping,$n.maxDamping,s),e=Ic($n.minDuration,$n.maxDuration,Ol(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=q4(c,s),m=Math.exp(-f);return oS-h/d*m},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,m=Math.exp(-f),p=q4(Math.pow(c,2),s);return(-a(c)+oS>0?-1:1)*((h-d)*m)/p}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-oS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=nie(a,i,o);if(e=el(e),isNaN(l))return{stiffness:$n.stiffness,damping:$n.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const rie=12;function nie(e,t,r){let n=r;for(let a=1;a<rie;a++)n=n-e(n)/t(n);return n}function q4(e,t){return e*Math.sqrt(1-t*t)}const aie=["duration","bounce"],iie=["stiffness","damping","mass"];function _I(e,t){return t.some(r=>e[r]!==void 0)}function sie(e){let t={velocity:$n.velocity,stiffness:$n.stiffness,damping:$n.damping,mass:$n.mass,isResolvedFromDuration:!1,...e};if(!_I(e,iie)&&_I(e,aie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ic(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:$n.mass,stiffness:a,damping:i}}else{const r=tie(e);t={...t,...r,mass:$n.mass},t.isResolvedFromDuration=!0}return t}function w1(e=$n.visualDuration,t=$n.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=sie({...r,velocity:-Ol(r.velocity||0)}),m=h||0,p=c/(2*Math.sqrt(l*u)),v=s-i,y=Ol(Math.sqrt(l/u)),_=Math.abs(v)<5;n||(n=_?$n.restSpeed.granular:$n.restSpeed.default),a||(a=_?$n.restDelta.granular:$n.restDelta.default);let w;if(p<1){const k=q4(y,p);w=C=>{const T=Math.exp(-p*y*C);return s-T*((m+p*y*v)/k*Math.sin(k*C)+v*Math.cos(k*C))}}else if(p===1)w=k=>s-Math.exp(-y*k)*(v+(m+y*v)*k);else{const k=y*Math.sqrt(p*p-1);w=C=>{const T=Math.exp(-p*y*C),S=Math.min(k*C,300);return s-T*((m+p*y*v)*Math.sinh(S)+k*v*Math.cosh(S))/k}}const O={calculatedDuration:d&&f||null,next:k=>{const C=w(k);if(d)o.done=k>=f;else{let T=k===0?m:0;p<1&&(T=k===0?el(m):cV(w,k,C));const S=Math.abs(T)<=n,A=Math.abs(s-C)<=a;o.done=S&&A}return o.value=o.done?s:C,o},toString:()=>{const k=Math.min(sP(O),X2),C=oV(T=>O.next(k*T).value,k,30);return k+"ms "+C},toTransition:()=>{}};return O}w1.applyToOptions=e=>{const t=lV(e,100,w1);return e.ease=t.ease,e.duration=el(t.duration),e.type="keyframes",e};function W4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=S=>o!==void 0&&S<o||l!==void 0&&S>l,m=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let p=r*t;const v=f+p,y=s===void 0?v:s(v);y!==v&&(p=y-f);const _=S=>-p*Math.exp(-S/n),w=S=>y+_(S),O=S=>{const A=_(S),I=w(S);h.done=Math.abs(A)<=c,h.value=h.done?y:I};let k,C;const T=S=>{d(h.value)&&(k=S,C=w1({keyframes:[h.value,m(h.value)],velocity:cV(w,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let A=!1;return!C&&k===void 0&&(A=!0,O(S),T(S)),k!==void 0&&S>=k?C.next(S-k):(!A&&O(S),h)}}}function oie(e,t,r){const n=[],a=r||Dc.mix||sV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||co:t;o=jv(l,o)}n.push(o)}return n}function uV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(K2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=oie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=tp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Ic(e[0],e[i-1],u)):c}function fV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=tp(0,t,n);e.push(Sn(r,1,a))}}function hV(e){const t=[0];return fV(t,e.length-1),t}function lie(e,t){return e.map(r=>r*t)}function cie(e,t){return e.map(()=>t||KB).splice(0,e.length-1)}function wg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=YB(n)?n.map(gI):gI(n),i={done:!1,value:t[0]},s=lie(r&&r.length===t.length?r:hV(t),e),o=uV(s,t,{ease:Array.isArray(a)?a:cie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const uie=e=>e!==null;function oP(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(uie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const fie={decay:W4,inertia:W4,tween:wg,keyframes:wg,spring:w1};function dV(e){typeof e.type=="string"&&(e.type=fie[e.type])}class lP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const hie=e=>e/100;class cP extends lP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==ss.now()&&this.tick(ss.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;dV(t);const{type:r=wg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||wg;l!==wg&&typeof o[0]!="number"&&(this.mixKeyframes=jv(hie,sV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=sP(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:m,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,O=n;if(f){const S=Math.min(this.currentTime,a)/o;let A=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(I=1-I,d&&(I-=d/o)):h==="mirror"&&(O=s)),w=Ic(0,1,I)*o}const k=_?{done:!1,value:u[0]}:O.next(w);i&&(k.value=i(k.value));let{done:C}=k;!_&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&m!==W4&&(k.value=oP(u,this.options,v,this.speed)),p&&p(k.value),T&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return Ol(this.calculatedDuration)}get time(){return Ol(this.currentTime)}set time(t){var r;t=el(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ss.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ol(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Zae,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ss.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function die(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wh=e=>e*180/Math.PI,H4=e=>{const t=wh(Math.atan2(e[1],e[0]));return G4(t)},pie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:H4,rotateZ:H4,skewX:e=>wh(Math.atan(e[1])),skewY:e=>wh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},G4=e=>(e=e%360,e<0&&(e+=360),e),SI=H4,AI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),TI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AI,scaleY:TI,scale:e=>(AI(e)+TI(e))/2,rotateX:e=>G4(wh(Math.atan2(e[6],e[5]))),rotateY:e=>G4(wh(Math.atan2(-e[2],e[0]))),rotateZ:SI,rotate:SI,skewX:e=>wh(Math.atan(e[4])),skewY:e=>wh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function K4(e){return e.includes("scale")?1:0}function Y4(e,t){if(!e||e==="none")return K4(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=mie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=pie,a=o}if(!a)return K4(t);const i=n[t],s=a[1].split(",").map(vie);return typeof i=="function"?i(s):s[i]}const gie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Y4(r,t)};function vie(e){return parseFloat(e.trim())}const Bp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vp=new Set(Bp),EI=e=>e===$p||e===Ht,yie=new Set(["x","y","z"]),xie=Bp.filter(e=>!yie.has(e));function bie(e){const t=[];return xie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ch={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Y4(t,"x"),y:(e,{transform:t})=>Y4(t,"y")};Ch.translateX=Ch.x;Ch.translateY=Ch.y;const Nh=new Set;let X4=!1,Q4=!1,J4=!1;function pV(){if(Q4){const e=Array.from(Nh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=bie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Q4=!1,X4=!1,Nh.forEach(e=>e.complete(J4)),Nh.clear()}function mV(){Nh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Q4=!0)})}function wie(){J4=!0,mV(),pV(),J4=!1}class uP{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Nh.add(this),X4||(X4=!0,Tn.read(mV),Tn.resolveKeyframes(pV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}die(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nh.delete(this)}cancel(){this.state==="scheduled"&&(Nh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _ie=e=>e.startsWith("--");function Sie(e,t,r){_ie(t)?e.style.setProperty(t,r):e.style[t]=r}const Aie=Qk(()=>window.ScrollTimeline!==void 0),Tie={};function Eie(e,t){const r=Qk(e);return()=>Tie[t]??r()}const gV=Eie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,kI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eg([0,.65,.55,1]),circOut:eg([.55,0,1,.45]),backIn:eg([.31,.01,.66,-.59]),backOut:eg([.33,1.53,.69,.99])};function vV(e,t){if(e)return typeof e=="function"?gV()?oV(e,t):"ease-out":QB(e)?eg(e):Array.isArray(e)?e.map(r=>vV(r,t)||kI.easeOut):kI[e]}function kie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=vV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function fP(e){return typeof e=="function"&&"applyToOptions"in e}function Pie({type:e,...t}){return fP(e)&&gV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Cie extends lP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,K2(typeof t.type!="string");const c=Pie(t);this.animation=kie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=oP(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Sie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ol(Number(t))}get time(){return Ol(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=el(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Aie()?(this.animation.timeline=t,co):r(this)}}const yV={anticipate:WB,backInOut:qB,circInOut:GB};function Nie(e){return e in yV}function Oie(e){typeof e.ease=="string"&&Nie(e.ease)&&(e.ease=yV[e.ease])}const PI=10;class Iie extends Cie{constructor(t){Oie(t),dV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new cP({...s,autoplay:!1}),l=el(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-PI).value,o.sample(l).value,PI),o.stop()}}const CI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bf.test(e)||e==="0")&&!e.startsWith("url("));function Die(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Lie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=CI(a,t),o=CI(i,t);return!s||!o?!1:Die(e)||(r==="spring"||fP(r))&&n}function hP(e){return RB(e)&&"offsetHeight"in e}const jie=new Set(["opacity","clipPath","filter","transform"]),Mie=Qk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!hP((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Mie()&&r&&jie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Fie=40;class $ie extends lP{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ss.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||uP;this.keyframeResolver=new d(o,(p,v,y)=>this.onKeyframesResolved(p,v,h,!y),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=ss.now(),Lie(t,i,s,o)||((Dc.instantAnimations||!l)&&(u==null||u(oP(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Fie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&Rie(h)?new Iie({...h,element:h.motionValue.owner.current}):new cP(h);d.finished.then(()=>this.notifyFinished()).catch(co),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Bie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Vie extends Bie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Uie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zie(e){const t=Uie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function xV(e,t,r=1){const[n,a]=zie(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return MB(s)?parseFloat(s):s}return rP(a)?xV(a,t,r+1):a}function dP(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const bV=new Set(["width","height","top","left","right","bottom",...Bp]),qie={test:e=>e==="auto",parse:e=>e},wV=e=>t=>t.test(e),_V=[$p,Ht,Il,ku,Rae,Mae,qie],NI=e=>_V.find(wV(e));function Wie(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FB(e):!0}const Hie=new Set(["brightness","contrast","saturate","opacity"]);function Gie(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(nP)||[];if(!n)return e;const a=r.replace(n,"");let i=Hie.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Kie=/\b([a-z-]*)\(.*?\)/gu,Z4={...bf,getAnimatableNone:e=>{const t=e.match(Kie);return t?t.map(Gie).join(" "):e}},OI={...$p,transform:Math.round},Yie={rotate:ku,rotateX:ku,rotateY:ku,rotateZ:ku,scale:Xy,scaleX:Xy,scaleY:Xy,scaleZ:Xy,skew:ku,skewX:ku,skewY:ku,distance:Ht,translateX:Ht,translateY:Ht,translateZ:Ht,x:Ht,y:Ht,z:Ht,perspective:Ht,transformPerspective:Ht,opacity:x1,originX:yI,originY:yI,originZ:Ht},pP={borderWidth:Ht,borderTopWidth:Ht,borderRightWidth:Ht,borderBottomWidth:Ht,borderLeftWidth:Ht,borderRadius:Ht,radius:Ht,borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomRightRadius:Ht,borderBottomLeftRadius:Ht,width:Ht,maxWidth:Ht,height:Ht,maxHeight:Ht,top:Ht,right:Ht,bottom:Ht,left:Ht,padding:Ht,paddingTop:Ht,paddingRight:Ht,paddingBottom:Ht,paddingLeft:Ht,margin:Ht,marginTop:Ht,marginRight:Ht,marginBottom:Ht,marginLeft:Ht,backgroundPositionX:Ht,backgroundPositionY:Ht,...Yie,zIndex:OI,fillOpacity:x1,strokeOpacity:x1,numOctaves:OI},Xie={...pP,color:ci,backgroundColor:ci,outlineColor:ci,fill:ci,stroke:ci,borderColor:ci,borderTopColor:ci,borderRightColor:ci,borderBottomColor:ci,borderLeftColor:ci,filter:Z4,WebkitFilter:Z4},SV=e=>Xie[e];function AV(e,t){let r=SV(e);return r!==Z4&&(r=bf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Qie=new Set(["auto","none","0"]);function Jie(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Qie.has(i)&&b1(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=AV(r,a)}class Zie extends uP{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),rP(c))){const u=xV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!bV.has(n)||t.length!==2)return;const[a,i]=t,s=NI(a),o=NI(i);if(s!==o)if(EI(s)&&EI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Wie(t[a]))&&n.push(a);n.length&&Jie(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ch[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Ch[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function TV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const II=30,ese=e=>!isNaN(parseFloat(e)),_g={current:void 0};class tse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=ss.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ss.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ese(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Jk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Tn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return _g.current&&_g.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ss.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>II)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,II);return $B(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zh(e,t){return new tse(e,t)}const EV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:mP,cancel:uBe}=JB(queueMicrotask,!1),Ro={x:!1,y:!1};function kV(){return Ro.x||Ro.y}function rse(e){return e==="x"||e==="y"?Ro[e]?null:(Ro[e]=!0,()=>{Ro[e]=!1}):Ro.x||Ro.y?null:(Ro.x=Ro.y=!0,()=>{Ro.x=Ro.y=!1})}function PV(e,t){const r=TV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function DI(e){return!(e.pointerType==="touch"||kV())}function nse(e,t,r={}){const[n,a,i]=PV(e,r),s=o=>{if(!DI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{DI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const CV=(e,t)=>t?e===t?!0:CV(e,t.parentElement):!1,gP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ase=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ise(e){return ase.has(e.tagName)||e.tabIndex!==-1}const Kx=new WeakSet;function LI(e){return t=>{t.key==="Enter"&&e(t)}}function lS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=LI(()=>{if(Kx.has(r))return;lS(r,"down");const a=LI(()=>{lS(r,"up")}),i=()=>lS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function jI(e){return gP(e)&&!kV()}function ose(e,t,r={}){const[n,a,i]=PV(e,r),s=o=>{const l=o.currentTarget;if(!jI(o))return;Kx.add(l);const c=t(l,o),u=(d,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Kx.has(l)&&Kx.delete(l),jI(d)&&typeof c=="function"&&c(d,{success:m})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||CV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),hP(o)&&(o.addEventListener("focus",c=>sse(c,a)),!ise(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function vP(e){return RB(e)&&"ownerSVGElement"in e}function NV(e){return vP(e)&&e.tagName==="svg"}function lse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=uV(a,i,s);return t?o(n):o}const Ia=e=>!!(e&&e.getVelocity),cse=[..._V,ci,bf],use=e=>cse.find(wV(e)),n5=Z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class fse extends Z.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=hP(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hse({children:e,isPresent:t,anchorX:r}){const n=Z.useId(),a=Z.useRef(null),i=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=Z.useContext(n5);return Z.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),g.jsx(fse,{isPresent:t,childRef:a,sizeRef:i,children:Z.cloneElement(e,{ref:a})})}const dse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=Lv(pse),c=Z.useId();let u=!0,f=Z.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),Z.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),Z.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=g.jsx(hse,{isPresent:r,anchorX:o,children:e})),g.jsx(t5.Provider,{value:f,children:e})};function pse(){return new Map}function OV(e=!0){const t=Z.useContext(t5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=Z.useId();Z.useEffect(()=>{if(e)return a(i)},[e]);const s=Z.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const Qy=e=>e.key||"";function MI(e){const t=[];return Z.Children.forEach(e,r=>{Z.isValidElement(r)&&t.push(r)}),t}const IV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=OV(s),u=Z.useMemo(()=>MI(e),[e]),f=s&&!l?[]:u.map(Qy),h=Z.useRef(!0),d=Z.useRef(u),m=Lv(()=>new Map),[p,v]=Z.useState(u),[y,_]=Z.useState(u);Yk(()=>{h.current=!1,d.current=u;for(let k=0;k<y.length;k++){const C=Qy(y[k]);f.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[y,f.length,f.join("-")]);const w=[];if(u!==p){let k=[...u];for(let C=0;C<y.length;C++){const T=y[C],S=Qy(T);f.includes(S)||(k.splice(C,0,T),w.push(T))}return i==="wait"&&w.length&&(k=w),_(MI(k)),v(u),null}const{forceRender:O}=Z.useContext(Gk);return g.jsx(g.Fragment,{children:y.map(k=>{const C=Qy(k),T=s&&!l?!1:u===y||f.includes(C),S=()=>{if(m.has(C))m.set(C,!0);else return;let A=!0;m.forEach(I=>{I||(A=!1)}),A&&(O==null||O(),_(d.current),s&&(c==null||c()),n&&n())};return g.jsx(dse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:k},C)})})},DV=Z.createContext({strict:!1}),RI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const e in RI)rp[e]={isEnabled:t=>RI[e].some(r=>!!t[r])};function mse(e){for(const t in e)rp[t]={...rp[t],...e[t]}}const gse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Q2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gse.has(e)}let LV=e=>!Q2(e);function vse(e){e&&(LV=t=>t.startsWith("on")?!Q2(t):e(t))}try{vse(require("@emotion/is-prop-valid").default)}catch{}function yse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(LV(a)||r===!0&&Q2(a)||!t&&!Q2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function xse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const a5=Z.createContext({});function i5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _1(e){return typeof e=="string"||Array.isArray(e)}const yP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xP=["initial",...yP];function s5(e){return i5(e.animate)||xP.some(t=>_1(e[t]))}function jV(e){return!!(s5(e)||e.variants)}function bse(e,t){if(s5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_1(r)?r:void 0,animate:_1(n)?n:void 0}}return e.inherit!==!1?t:{}}function wse(e){const{initial:t,animate:r}=bse(e,Z.useContext(a5));return Z.useMemo(()=>({initial:t,animate:r}),[FI(t),FI(r)])}function FI(e){return Array.isArray(e)?e.join(" "):e}const _se=Symbol.for("motionComponentSymbol");function u0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Sse(e,t,r){return Z.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):u0(r)&&(r.current=n))},[t])}const bP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ase="framerAppearId",MV="data-"+bP(Ase),RV=Z.createContext({});function Tse(e,t,r,n,a){var p,v;const{visualElement:i}=Z.useContext(a5),s=Z.useContext(DV),o=Z.useContext(t5),l=Z.useContext(n5).reducedMotion,c=Z.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=Z.useContext(RV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Ese(c.current,r,a,f);const h=Z.useRef(!1);Z.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[MV],m=Z.useRef(!!d&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return Yk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),mP.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),Z.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,d)}),m.current=!1))}),u}function Ese(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:FV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&u0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function FV(e){if(e)return e.options.allowProjection!==!1?e.projection:FV(e.parent)}function kse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&mse(e);function i(o,l){let c;const u={...Z.useContext(n5),...o,layoutId:Pse(o)},{isStatic:f}=u,h=wse(o),d=n(o,f);if(!f&&Kk){Cse();const m=Nse(u);c=m.MeasureLayout,h.visualElement=Tse(a,d,u,t,m.ProjectionNode)}return g.jsxs(a5.Provider,{value:h,children:[c&&h.visualElement?g.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Sse(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=Z.forwardRef(i);return s[_se]=a,s}function Pse({layoutId:e}){const t=Z.useContext(Gk).id;return t&&e!==void 0?t+"-"+e:e}function Cse(e,t){Z.useContext(DV).strict}function Nse(e){const{drag:t,layout:r}=rp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const S1={};function Ose(e){for(const t in e)S1[t]=e[t],tP(t)&&(S1[t].isCSSVariable=!0)}function $V(e,{layout:t,layoutId:r}){return Vp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!S1[e]||e==="opacity")}const Ise={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dse=Bp.length;function Lse(e,t,r){let n="",a=!0;for(let i=0;i<Dse;i++){const s=Bp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=EV(o,pP[s]);if(!l){a=!1;const u=Ise[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function wP(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Vp.has(l)){s=!0;continue}else if(tP(l)){a[l]=c;continue}else{const u=EV(c,pP[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Lse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const _P=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BV(e,t,r){for(const n in t)!Ia(t[n])&&!$V(n,r)&&(e[n]=t[n])}function jse({transformTemplate:e},t){return Z.useMemo(()=>{const r=_P();return wP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Mse(e,t){const r=e.style||{},n={};return BV(n,r,e),Object.assign(n,jse(e,t)),n}function Rse(e,t){const r={},n=Mse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Fse={offset:"stroke-dashoffset",array:"stroke-dasharray"},$se={offset:"strokeDashoffset",array:"strokeDasharray"};function Bse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Fse:$se;e[i.offset]=Ht.transform(-n);const s=Ht.transform(t),o=Ht.transform(r);e[i.array]=`${s} ${o}`}function VV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(wP(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Bse(f,a,i,s,!1)}const UV=()=>({..._P(),attrs:{}}),zV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Vse(e,t,r,n){const a=Z.useMemo(()=>{const i=UV();return VV(i,t,zV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};BV(i,e.style,e),a.style={...i,...a.style}}return a}const Use=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SP(e){return typeof e!="string"||e.includes("-")?!1:!!(Use.indexOf(e)>-1||/[A-Z]/u.test(e))}function zse(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(SP(r)?Vse:Rse)(n,i,s,r),c=yse(n,typeof r=="string",e),u=r!==Z.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=Z.useMemo(()=>Ia(f)?f.get():f,[f]);return Z.createElement(r,{...u,children:h})}}function $I(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function AP(e,t,r,n){if(typeof t=="function"){const[a,i]=$I(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=$I(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Yx(e){return Ia(e)?e.get():e}function qse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Wse(r,n,a,e),renderState:t()}}const qV=e=>(t,r)=>{const n=Z.useContext(a5),a=Z.useContext(t5),i=()=>qse(e,t,n,a);return r?i():Lv(i)};function Wse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Yx(i[h]);let{initial:s,animate:o}=e;const l=s5(e),c=jV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!i5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const m=AP(e,h[d]);if(m){const{transitionEnd:p,transition:v,...y}=m;for(const _ in y){let w=y[_];if(Array.isArray(w)){const O=u?w.length-1:0;w=w[O]}w!==null&&(a[_]=w)}for(const _ in p)a[_]=p[_]}}}return a}function TP(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ia(n[s])||t.style&&Ia(t.style[s])||$V(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Hse={useVisualState:qV({scrapeMotionValuesFromProps:TP,createRenderState:_P})};function WV(e,t,r){const n=TP(e,t,r);for(const a in e)if(Ia(e[a])||Ia(t[a])){const i=Bp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Gse={useVisualState:qV({scrapeMotionValuesFromProps:WV,createRenderState:UV})};function Kse(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...SP(n)?Gse:Hse,preloadedFeatures:e,useRender:zse(a),createVisualElement:t,Component:n};return kse(s)}}function A1(e,t,r){const n=e.getProps();return AP(n,t,r!==void 0?r:n.custom,e)}const eT=e=>Array.isArray(e);function Yse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zh(r))}function Xse(e){return eT(e)?e[e.length-1]||0:e}function Qse(e,t){const r=A1(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Xse(i[s]);Yse(e,s,o)}}function Jse(e){return!!(Ia(e)&&e.add)}function tT(e,t){const r=e.getValue("willChange");if(Jse(r))return r.add(t);if(!r&&Dc.WillChange){const n=new Dc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function HV(e){return e.props[MV]}const Zse=e=>e!==null;function eoe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Zse),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const toe={type:"spring",stiffness:500,damping:25,restSpeed:10},roe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),noe={type:"keyframes",duration:.8},aoe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ioe=(e,{keyframes:t})=>t.length>2?noe:Vp.has(e)?e.startsWith("scale")?roe(t[1]):toe:aoe;function soe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const EP=(e,t,r,n={},a,i)=>s=>{const o=dP(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-el(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};soe(o)||Object.assign(u,ioe(e,u)),u.duration&&(u.duration=el(u.duration)),u.repeatDelay&&(u.repeatDelay=el(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Dc.instantAnimations||Dc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=eoe(u.keyframes,o);if(h!==void 0){Tn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new cP(u):new $ie(u)};function ooe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function kP(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&ooe(c,u))continue;const d={delay:r,...dP(i||{},u)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!d.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=HV(e);if(y){const _=window.MotionHandoffAnimation(y,u,Tn);_!==null&&(d.startTime=_,p=!0)}}tT(e,u),f.start(EP(u,f,h,e.shouldReduceMotion&&bV.has(u)?{type:!1}:d,e,p));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Tn.update(()=>{s&&Qse(e,s)})}),l}function rT(e,t,r={}){var l;const n=A1(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(kP(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return loe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function loe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(coe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(rT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function coe(e,t){return e.sortNodePosition(t)}function uoe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>rT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=rT(e,t,r);else{const a=typeof t=="function"?A1(e,t,r.custom):t;n=Promise.all(kP(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function GV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const foe=xP.length;function KV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?KV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<foe;r++){const n=xP[r],a=e.props[n];(_1(a)||a===!1)&&(t[n]=a)}return t}const hoe=[...yP].reverse(),doe=yP.length;function poe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>uoe(e,r,n)))}function moe(e){let t=poe(e),r=BI(),n=!0;const a=l=>(c,u)=>{var h;const f=A1(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:m,...p}=f;c={...c,...p,...m}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=KV(e.parent)||{},f=[],h=new Set;let d={},m=1/0;for(let v=0;v<doe;v++){const y=hoe[v],_=r[y],w=c[y]!==void 0?c[y]:u[y],O=_1(w),k=y===l?_.isActive:null;k===!1&&(m=v);let C=w===u[y]&&w!==c[y]&&O;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...d},!_.isActive&&k===null||!w&&!_.prevProp||i5(w)||typeof w=="boolean")continue;const T=goe(_.prevProp,w);let S=T||y===l&&_.isActive&&!C&&O||v>m&&O,A=!1;const I=Array.isArray(w)?w:[w];let E=I.reduce(a(y),{});k===!1&&(E={});const{prevResolvedValues:N={}}=_,j={...N,...E},H=J=>{S=!0,h.has(J)&&(A=!0,h.delete(J)),_.needsAnimating[J]=!0;const q=e.getValue(J);q&&(q.liveStyle=!1)};for(const J in j){const q=E[J],B=N[J];if(d.hasOwnProperty(J))continue;let ne=!1;eT(q)&&eT(B)?ne=!GV(q,B):ne=q!==B,ne?q!=null?H(J):h.add(J):q!==void 0&&h.has(J)?H(J):_.protectedKeys[J]=!0}_.prevProp=w,_.prevResolvedValues=E,_.isActive&&(d={...d,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(C&&T)||A)&&f.push(...I.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=A1(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const _=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=_??null}),f.push({animation:v})}let p=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=BI(),n=!0}}}function goe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GV(t,e):!1}function nh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BI(){return{animate:nh(!0),whileInView:nh(),whileHover:nh(),whileTap:nh(),whileDrag:nh(),whileFocus:nh(),exit:nh()}}class If{constructor(t){this.isMounted=!1,this.node=t}update(){}}class voe extends If{constructor(t){super(t),t.animationState||(t.animationState=moe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();i5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yoe=0;class xoe extends If{constructor(){super(...arguments),this.id=yoe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const boe={animation:{Feature:voe},exit:{Feature:xoe}};function T1(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Fv(e){return{point:{x:e.pageX,y:e.pageY}}}const woe=e=>t=>gP(t)&&e(t,Fv(t));function Sg(e,t,r,n){return T1(e,t,woe(r),n)}function YV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function _oe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Soe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const XV=1e-4,Aoe=1-XV,Toe=1+XV,QV=.01,Eoe=0-QV,koe=0+QV;function Ri(e){return e.max-e.min}function Poe(e,t,r){return Math.abs(e-t)<=r}function VI(e,t,r,n=.5){e.origin=n,e.originPoint=Sn(t.min,t.max,e.origin),e.scale=Ri(r)/Ri(t),e.translate=Sn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Aoe&&e.scale<=Toe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Eoe&&e.translate<=koe||isNaN(e.translate))&&(e.translate=0)}function Ag(e,t,r,n){VI(e.x,t.x,r.x,n?n.originX:void 0),VI(e.y,t.y,r.y,n?n.originY:void 0)}function UI(e,t,r){e.min=r.min+t.min,e.max=e.min+Ri(t)}function Coe(e,t,r){UI(e.x,t.x,r.x),UI(e.y,t.y,r.y)}function zI(e,t,r){e.min=t.min-r.min,e.max=e.min+Ri(t)}function Tg(e,t,r){zI(e.x,t.x,r.x),zI(e.y,t.y,r.y)}const qI=()=>({translate:0,scale:1,origin:0,originPoint:0}),f0=()=>({x:qI(),y:qI()}),WI=()=>({min:0,max:0}),Rn=()=>({x:WI(),y:WI()});function to(e){return[e("x"),e("y")]}function cS(e){return e===void 0||e===1}function nT({scale:e,scaleX:t,scaleY:r}){return!cS(e)||!cS(t)||!cS(r)}function lh(e){return nT(e)||JV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JV(e){return HI(e.x)||HI(e.y)}function HI(e){return e&&e!=="0%"}function J2(e,t,r){const n=e-r,a=t*n;return r+a}function GI(e,t,r,n,a){return a!==void 0&&(e=J2(e,a,n)),J2(e,r,n)+t}function aT(e,t=0,r=1,n,a){e.min=GI(e.min,t,r,n,a),e.max=GI(e.max,t,r,n,a)}function ZV(e,{x:t,y:r}){aT(e.x,t.translate,t.scale,t.originPoint),aT(e.y,r.translate,r.scale,r.originPoint)}const KI=.999999999999,YI=1.0000000000001;function Noe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&d0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ZV(e,s)),n&&lh(i.latestValues)&&d0(e,i.latestValues))}t.x<YI&&t.x>KI&&(t.x=1),t.y<YI&&t.y>KI&&(t.y=1)}function h0(e,t){e.min=e.min+t,e.max=e.max+t}function XI(e,t,r,n,a=.5){const i=Sn(e.min,e.max,a);aT(e,t,r,i,n)}function d0(e,t){XI(e.x,t.x,t.scaleX,t.scale,t.originX),XI(e.y,t.y,t.scaleY,t.scale,t.originY)}function eU(e,t){return YV(Soe(e.getBoundingClientRect(),t))}function Ooe(e,t,r){const n=eU(e,r),{scroll:a}=t;return a&&(h0(n.x,a.offset.x),h0(n.y,a.offset.y)),n}const tU=({current:e})=>e?e.ownerDocument.defaultView:null,QI=(e,t)=>Math.abs(e-t);function Ioe(e,t){const r=QI(e.x,t.x),n=QI(e.y,t.y);return Math.sqrt(r**2+n**2)}class rU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=Ioe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:m}=f,{timestamp:p}=za;this.history.push({...m,timestamp:p});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uS(h,this.transformPagePoint),Tn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fS(f.type==="pointercancel"?this.lastMoveEventInfo:uS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,v),m&&m(f,v)},!gP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=Fv(t),o=uS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=za;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,fS(o,this.history)),this.removeListeners=jv(Sg(this.contextWindow,"pointermove",this.handlePointerMove),Sg(this.contextWindow,"pointerup",this.handlePointerUp),Sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lc(this.updatePoint)}}function uS(e,t){return t?{point:t(e.point)}:e}function JI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fS({point:e},t){return{point:e,delta:JI(e,nU(t)),offset:JI(e,Doe(t)),velocity:Loe(t,.1)}}function Doe(e){return e[0]}function nU(e){return e[e.length-1]}function Loe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=nU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>el(t)));)r--;if(!n)return{x:0,y:0};const i=Ol(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function joe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Sn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Sn(r,e,n.max):Math.min(e,r)),e}function ZI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Moe(e,{top:t,left:r,bottom:n,right:a}){return{x:ZI(e.x,r,a),y:ZI(e.y,t,n)}}function e8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Roe(e,t){return{x:e8(e.x,t.x),y:e8(e.y,t.y)}}function Foe(e,t){let r=.5;const n=Ri(e),a=Ri(t);return a>n?r=tp(t.min,t.max-n,e.min):n>a&&(r=tp(e.min,e.max-a,t.min)),Ic(0,1,r)}function $oe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const iT=.35;function Boe(e=iT){return e===!1?e=0:e===!0&&(e=iT),{x:t8(e,"left","right"),y:t8(e,"top","bottom")}}function t8(e,t,r){return{min:r8(e,t),max:r8(e,r)}}function r8(e,t){return typeof e=="number"?e:e[t]||0}const Voe=new WeakMap;class Uoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Fv(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:m}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),to(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Il.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[v];w&&(y=Ri(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&Tn.postRender(()=>m(u,f)),tT(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:m,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(d&&this.currentDirection===null){this.currentDirection=zoe(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),p&&p(u,f)},o=(u,f)=>this.stop(u,f),l=()=>to(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new rU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:tU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Tn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Jy(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=joe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&u0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Moe(n.layoutBox,t):this.constraints=!1,this.elastic=Boe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&to(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=$oe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!u0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ooe(n,a.root,this.visualElement.getTransformPagePoint());let s=Roe(a.layout.layoutBox,i);if(r){const o=r(_oe(s));this.hasMutatedConstraints=!!o,o&&(s=YV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=to(u=>{if(!Jy(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return tT(this.visualElement,t),n.start(EP(t,n,0,r,this.visualElement,!1))}stopAnimation(){to(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){to(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){to(r=>{const{drag:n}=this.getProps();if(!Jy(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Sn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!u0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};to(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Foe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),to(s=>{if(!Jy(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Sn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Voe.set(this.visualElement,this);const t=this.visualElement.current,r=Sg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();u0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Tn.read(n);const s=T1(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(to(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=iT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Jy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function zoe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class qoe extends If{constructor(t){super(t),this.removeGroupControls=co,this.removeListeners=co,this.controls=new Uoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||co}unmount(){this.removeGroupControls(),this.removeListeners()}}const n8=e=>(t,r)=>{e&&Tn.postRender(()=>e(t,r))};class Woe extends If{constructor(){super(...arguments),this.removePointerDownListener=co}onPointerDown(t){this.session=new rU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:n8(t),onStart:n8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Tn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Sg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ht.test(e))e=parseFloat(e);else return e;const r=a8(e,t.target.x),n=a8(e,t.target.y);return`${r}% ${n}%`}},Hoe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=bf.parse(e);if(a.length>5)return n;const i=bf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Sn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class Goe extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Ose(Koe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Tn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aU(e){const[t,r]=OV(),n=Z.useContext(Gk);return g.jsx(Goe,{...e,layoutGroup:n,switchLayoutGroup:Z.useContext(RV),isPresent:t,safeToRemove:r})}const Koe={borderRadius:{...Cm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cm,borderTopRightRadius:Cm,borderBottomLeftRadius:Cm,borderBottomRightRadius:Cm,boxShadow:Hoe};function iU(e,t,r){const n=Ia(e)?e:zh(e);return n.start(EP("",n,t,r)),n.animation}const Yoe=(e,t)=>e.depth-t.depth;class Xoe{constructor(){this.children=[],this.isDirty=!1}add(t){Xk(this.children,t),this.isDirty=!0}remove(t){r5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yoe),this.isDirty=!1,this.children.forEach(t)}}function Qoe(e,t){const r=ss.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Lc(n),e(i-t))};return Tn.setup(n,!0),()=>Lc(n)}const sU=["TopLeft","TopRight","BottomLeft","BottomRight"],Joe=sU.length,i8=e=>typeof e=="string"?parseFloat(e):e,s8=e=>typeof e=="number"||Ht.test(e);function Zoe(e,t,r,n,a,i){a?(e.opacity=Sn(0,r.opacity??1,ele(n)),e.opacityExit=Sn(t.opacity??1,0,tle(n))):i&&(e.opacity=Sn(t.opacity??1,r.opacity??1,n));for(let s=0;s<Joe;s++){const o=`border${sU[s]}Radius`;let l=o8(t,o),c=o8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||s8(l)===s8(c)?(e[o]=Math.max(Sn(i8(l),i8(c),n),0),(Il.test(c)||Il.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Sn(t.rotate||0,r.rotate||0,n))}function o8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ele=oU(0,.5,HB),tle=oU(.5,.95,co);function oU(e,t,r){return n=>n<e?0:n>t?1:r(tp(e,t,n))}function l8(e,t){e.min=t.min,e.max=t.max}function Ks(e,t){l8(e.x,t.x),l8(e.y,t.y)}function c8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u8(e,t,r,n,a){return e-=t,e=J2(e,1/r,n),a!==void 0&&(e=J2(e,1/a,n)),e}function rle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Il.test(t)&&(t=parseFloat(t),t=Sn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Sn(i.min,i.max,n);e===i&&(o-=t),e.min=u8(e.min,t,r,o,a),e.max=u8(e.max,t,r,o,a)}function f8(e,t,[r,n,a],i,s){rle(e,t[r],t[n],t[a],t.scale,i,s)}const nle=["x","scaleX","originX"],ale=["y","scaleY","originY"];function h8(e,t,r,n){f8(e.x,t,nle,r?r.x:void 0,n?n.x:void 0),f8(e.y,t,ale,r?r.y:void 0,n?n.y:void 0)}function d8(e){return e.translate===0&&e.scale===1}function lU(e){return d8(e.x)&&d8(e.y)}function p8(e,t){return e.min===t.min&&e.max===t.max}function ile(e,t){return p8(e.x,t.x)&&p8(e.y,t.y)}function m8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cU(e,t){return m8(e.x,t.x)&&m8(e.y,t.y)}function g8(e){return Ri(e.x)/Ri(e.y)}function v8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sle{constructor(){this.members=[]}add(t){Xk(this.members,t),t.scheduleRender()}remove(t){if(r5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ole(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const hS=["","X","Y","Z"],lle={visibility:"hidden"},cle=1e3;let ule=0;function dS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function uU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=HV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Tn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&uU(n)}function fU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=ule++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dle),this.nodes.forEach(yle),this.nodes.forEach(xle),this.nodes.forEach(ple)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xoe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Jk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=vP(s)&&!NV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Qoe(f,250),Xx.hasAnimatedSinceResize&&(Xx.hasAnimatedSinceResize=!1,this.nodes.forEach(x8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||Ale,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!cU(this.targetLayout,d),_=!f&&h;if(this.options.layoutRoot||this.resumeFrom||_||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,_);const w={...dP(m,"layout"),onPlay:p,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||x8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ble),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y8);return}this.isUpdating||this.nodes.forEach(gle),this.isUpdating=!1,this.nodes.forEach(vle),this.nodes.forEach(fle),this.nodes.forEach(hle),this.clearAllSnapshots();const o=ss.now();za.delta=Ic(0,1e3/60,o-za.timestamp),za.timestamp=o,za.isProcessing=!0,nS.update.process(za),nS.preRender.process(za),nS.render.process(za),za.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mle),this.sharedNodes.forEach(wle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ri(this.snapshot.measuredBox.x)&&!Ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!lU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||lh(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Tle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Rn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ele))){const{scroll:u}=this.root;u&&(h0(o.x,u.offset.x),h0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Rn();if(Ks(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ks(o,s),h0(o.x,f.offset.x),h0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Rn();Ks(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&d0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),lh(u.latestValues)&&d0(l,u.latestValues)}return lh(this.latestValues)&&d0(l,this.latestValues),l}removeTransform(s){const o=Rn();Ks(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!lh(c.latestValues))continue;nT(c.latestValues)&&c.updateSnapshot();const u=Rn(),f=c.measurePageBox();Ks(u,f),h8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return lh(this.latestValues)&&h8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==za.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=za.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Tg(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rn(),this.targetWithTransforms=Rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Coe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ks(this.target,this.layout.layoutBox),ZV(this.target,this.targetDelta)):Ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Tg(this.relativeTargetOrigin,this.target,d.target),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nT(this.parent.latestValues)||JV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===za.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ks(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Noe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Rn());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c8(this.prevProjectionDelta.x,this.projectionDelta.x),c8(this.prevProjectionDelta.y,this.projectionDelta.y)),Ag(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!v8(this.projectionDelta.x,this.prevProjectionDelta.x)||!v8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=f0(),this.projectionDelta=f0(),this.projectionDeltaWithTransform=f0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=f0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Rn(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=d!==m,v=this.getStack(),y=!v||v.members.length<=1,_=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Sle));this.animationProgress=0;let w;this.mixTargetDelta=O=>{const k=O/1e3;b8(f.x,s.x,k),b8(f.y,s.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_le(this.relativeTarget,this.relativeTargetOrigin,h,k),w&&ile(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Rn()),Ks(w,this.relativeTarget)),p&&(this.animationValues=u,Zoe(u,c,this.latestValues,k,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tn.update(()=>{Xx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zh(0)),this.currentAnimation=iU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&hU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Rn();const f=Ri(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ri(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Ks(o,l),d0(o,u),Ag(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new sle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&dS("z",s,c,this.animationValues);for(let u=0;u<hS.length;u++)dS(`rotate${hS[u]}`,s,c,this.animationValues),dS(`skew${hS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return lle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Yx(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Yx(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!lh(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=ole(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in S1){if(u[d]===void 0)continue;const{correct:m,applyTo:p,isCSSVariable:v}=S1[d],y=o.transform==="none"?u[d]:m(u[d],c);if(p){const _=p.length;for(let w=0;w<_;w++)o[p[w]]=y}else v?this.options.visualElement.renderState.vars[d]=y:o[d]=y}return this.options.layoutId&&(o.pointerEvents=c===this?Yx(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(y8),this.root.sharedNodes.clear()}}}function fle(e){e.updateLayout()}function hle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?to(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Ri(h);h.min=n[f].min,h.max=h.min+d}):hU(i,t.layoutBox,n)&&to(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Ri(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=f0();Ag(o,n,t.layoutBox);const l=f0();s?Ag(l,e.applyTransform(a,!0),t.measuredBox):Ag(l,n,t.layoutBox);const c=!lU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=Rn();Tg(m,t.layoutBox,h.layoutBox);const p=Rn();Tg(p,n,d.layoutBox),cU(m,p)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ple(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mle(e){e.clearSnapshot()}function y8(e){e.clearMeasurements()}function gle(e){e.isLayoutDirty=!1}function vle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yle(e){e.resolveTargetDelta()}function xle(e){e.calcProjection()}function ble(e){e.resetSkewAndRotation()}function wle(e){e.removeLeadSnapshot()}function b8(e,t,r){e.translate=Sn(t.translate,0,r),e.scale=Sn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function w8(e,t,r,n){e.min=Sn(t.min,r.min,n),e.max=Sn(t.max,r.max,n)}function _le(e,t,r,n){w8(e.x,t.x,r.x,n),w8(e.y,t.y,r.y,n)}function Sle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ale={duration:.45,ease:[.4,0,.1,1]},_8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S8=_8("applewebkit/")&&!_8("chrome/")?Math.round:co;function A8(e){e.min=S8(e.min),e.max=S8(e.max)}function Tle(e){A8(e.x),A8(e.y)}function hU(e,t,r){return e==="position"||e==="preserve-aspect"&&!Poe(g8(t),g8(r),.2)}function Ele(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kle=fU({attachResizeListener:(e,t)=>T1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pS={current:void 0},dU=fU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pS.current){const e=new kle({});e.mount(window),e.setOptions({layoutScroll:!0}),pS.current=e}return pS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ple={pan:{Feature:Woe},drag:{Feature:qoe,ProjectionNode:dU,MeasureLayout:aU}};function T8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Tn.postRender(()=>i(t,Fv(t)))}class Cle extends If{mount(){const{current:t}=this.node;t&&(this.unmount=nse(t,(r,n)=>(T8(this.node,n,"Start"),a=>T8(this.node,a,"End"))))}unmount(){}}class Nle extends If{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jv(T1(this.node.current,"focus",()=>this.onFocus()),T1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Tn.postRender(()=>i(t,Fv(t)))}class Ole extends If{mount(){const{current:t}=this.node;t&&(this.unmount=ose(t,(r,n)=>(E8(this.node,n,"Start"),(a,{success:i})=>E8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sT=new WeakMap,mS=new WeakMap,Ile=e=>{const t=sT.get(e.target);t&&t(e)},Dle=e=>{e.forEach(Ile)};function Lle({root:e,...t}){const r=e||document;mS.has(r)||mS.set(r,{});const n=mS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Dle,{root:e,...t})),n[a]}function jle(e,t,r){const n=Lle(t);return sT.set(e,r),n.observe(e),()=>{sT.delete(e),n.unobserve(e)}}const Mle={some:0,all:1};class Rle extends If{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Mle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return jle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Fle(t,r))&&this.startObserver()}unmount(){}}function Fle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const $le={inView:{Feature:Rle},tap:{Feature:Ole},focus:{Feature:Nle},hover:{Feature:Cle}},Ble={layout:{ProjectionNode:dU,MeasureLayout:aU}},oT={current:null},pU={current:!1};function Vle(){if(pU.current=!0,!!Kk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oT.current=e.matches;e.addListener(t),t()}else oT.current=!1}const E1=new WeakMap;function Ule(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ia(a))e.addValue(n,a);else if(Ia(i))e.addValue(n,zh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,zh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const k8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ss.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Tn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=s5(r),this.isVariantNode=jV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Ia(d)&&d.set(l[h],!1)}}mount(t){this.current=t,E1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),pU.current||Vle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lc(this.notifyUpdate),Lc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Vp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Tn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rp){const r=rp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<k8.length;n++){const a=k8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Ule(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(MB(n)||FB(n))?n=parseFloat(n):!use(n)&&bf.test(r)&&(n=AV(t,r)),this.setBaseTarget(t,Ia(n)?n.get():n)),Ia(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=AP(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ia(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Jk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class gU extends mU{constructor(){super(...arguments),this.KeyframeResolver=Zie}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ia(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function zle(e){return window.getComputedStyle(e)}class yU extends gU{constructor(){super(...arguments),this.type="html",this.renderInstance=vU}readValueFromInstance(t,r){var n;if(Vp.has(r))return(n=this.projection)!=null&&n.isProjecting?K4(r):gie(t,r);{const a=zle(t),i=(tP(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return eU(t,r)}build(t,r,n){wP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return TP(t,r,n)}}const xU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qle(e,t,r,n){vU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(xU.has(a)?a:bP(a),t.attrs[a])}class bU extends gU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vp.has(r)){const n=SV(r);return n&&n.default||0}return r=xU.has(r)?r:bP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return WV(t,r,n)}build(t,r,n){VV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){qle(t,r,n,a)}mount(t){this.isSVGTag=zV(t.tagName),super.mount(t)}}const Wle=(e,t)=>SP(e)?new bU(t):new yU(t,{allowProjection:e!==Z.Fragment}),Hle=Kse({...boe,...$le,...Ple,...Ble},Wle),kn=xse(Hle);function lT(e){const t=Lv(()=>zh(e)),{isStatic:r}=Z.useContext(n5);if(r){const[,n]=Z.useState(e);Z.useEffect(()=>t.on("change",n),[])}return t}function wU(e,t){const r=lT(t()),n=()=>r.set(t());return n(),Yk(()=>{const a=()=>Tn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Lc(n)}}),r}function Gle(e){_g.current=[],e();const t=wU(_g.current,e);return _g.current=void 0,t}function P8(e,t,r,n){if(typeof e=="function")return Gle(e);const a=typeof t=="function"?t:lse(t,r,n);return Array.isArray(e)?C8(e,a):C8([e],([i])=>a(i))}function C8(e,t){const r=Lv(()=>[]);return wU(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function PP(e){return typeof e=="object"&&!Array.isArray(e)}function _U(e,t,r,n){return typeof e=="string"&&PP(t)?TV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Kle(e,t,r){return e*(t+1)}function N8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Yle(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(r5(e,a),n--)}}function Xle(e,t,r,n,a,i){Yle(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Sn(a,i,n[s]),easing:XB(r,s)})}function Qle(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Jle(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Zle="easeInOut";function ece(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const m=e[d];if(typeof m=="string"){c.set(m,f);continue}else if(!Array.isArray(m)){c.set(m.name,N8(f,m.at,u,c));continue}let[p,v,y={}]=m;y.at!==void 0&&(f=N8(f,y.at,u,c));let _=0;const w=(O,k,C,T=0,S=0)=>{const A=tce(O),{delay:I=0,times:E=hV(A),type:N="keyframes",repeat:j,repeatType:H,repeatDelay:X=0,...re}=k;let{ease:J=t.ease||"easeOut",duration:q}=k;const B=typeof I=="function"?I(T,S):I,ne=A.length,ce=fP(N)?N:a==null?void 0:a[N];if(ne<=2&&ce){let G=100;if(ne===2&&ace(A)){const oe=A[1]-A[0];G=Math.abs(oe)}const W={...re};q!==void 0&&(W.duration=el(q));const Q=lV(W,G,ce);J=Q.ease,q=Q.duration}q??(q=i);const D=f+B;E.length===1&&E[0]===0&&(E[1]=1);const F=E.length-A.length;if(F>0&&fV(E,F),A.length===1&&A.unshift(null),j){q=Kle(q,j);const G=[...A],W=[...E];J=Array.isArray(J)?[...J]:[J];const Q=[...J];for(let oe=0;oe<j;oe++){A.push(...G);for(let Y=0;Y<G.length;Y++)E.push(W[Y]+(oe+1)),J.push(Y===0?"linear":XB(Q,Y-1))}Qle(E,j)}const U=D+q;Xle(C,A,J,E,D,U),_=Math.max(B+q,_),h=Math.max(U,h)};if(Ia(p)){const O=O8(p,o);w(v,y,I8("default",O))}else{const O=_U(p,v,n,l),k=O.length;for(let C=0;C<k;C++){v=v,y=y;const T=O[C],S=O8(T,o);for(const A in v)w(v[A],rce(y,A),I8(A,S),C,k)}}u=f,f+=_}return o.forEach((d,m)=>{for(const p in d){const v=d[p];v.sort(Jle);const y=[],_=[],w=[];for(let k=0;k<v.length;k++){const{at:C,value:T,easing:S}=v[k];y.push(T),_.push(tp(0,h,C)),w.push(S||"easeOut")}_[0]!==0&&(_.unshift(0),y.unshift(y[0]),w.unshift(Zle)),_[_.length-1]!==1&&(_.push(1),y.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const O=s.get(m);O.keyframes[p]=y,O.transition[p]={...t,duration:h,ease:w,times:_,...r}}}),s}function O8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function I8(e,t){return t[e]||(t[e]=[]),t[e]}function tce(e){return Array.isArray(e)?e:[e]}function rce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const nce=e=>typeof e=="number",ace=e=>e.every(nce);function ice(e,t){return e in t}class sce extends mU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(ice(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Rn()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function oce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=vP(e)&&!NV(e)?new bU(t):new yU(t);r.mount(e),E1.set(e,r)}function lce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new sce(t);r.mount(e),E1.set(e,r)}function cce(e,t){return Ia(e)||typeof e=="number"||typeof e=="string"&&!PP(t)}function SU(e,t,r,n){const a=[];if(cce(e,t))a.push(iU(e,PP(t)&&t.default||t,r&&(r.default||r)));else{const i=_U(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?oce:lce;E1.has(l)||c(l);const u=E1.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...kP(u,{...t,transition:f},{}))}}return a}function uce(e,t,r){const n=[];return ece(e,t,r,{spring:w1}).forEach(({keyframes:i,transition:s},o)=>{n.push(...SU(o,i,s))}),n}function fce(e){return Array.isArray(e)&&e.some(Array.isArray)}function hce(e){function t(r,n,a){let i=[];return fce(r)?i=uce(r,n,e):i=SU(r,n,a,e),new Vie(i)}return t}const D8=hce(),dce=()=>{const{user:e,logout:t}=Ai(),r=Sv(),{isDarkMode:n}=sn(),[a,i]=Z.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:g.jsx(tZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:g.jsx(Ds,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:g.jsx(oZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:g.jsx(iZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/warehouse-locations",icon:g.jsx(nZ,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:g.jsx(cZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:g.jsx(GJ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:g.jsx(HJ,{size:20}),label:"Logs",roles:["admin"]},{to:"/settings",icon:g.jsx(lZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return g.jsxs(kn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[g.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx(kn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:g.jsx(G_,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:g.jsx(kn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),g.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>g.jsx(kn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:g.jsx("div",{className:"group relative",children:g.jsx(G_,{to:h.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:m})=>g.jsxs(g.Fragment,{children:[g.jsx(kn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),g.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),g.jsxs("div",{className:"flex items-center gap-4",children:[e&&g.jsxs(kn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),g.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),g.jsx(kn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),g.jsx(kn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx(tO,{size:20})})]}),g.jsx(kn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?g.jsx(B9,{size:24}):g.jsx(aZ,{size:24})})]})]})}),g.jsx(IV,{children:a&&g.jsx(kn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:g.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>g.jsx(kn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:g.jsx(G_,{to:h.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:g.jsxs(kn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,g.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),g.jsx(kn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&g.jsxs("div",{className:"flex items-center justify-between py-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(kn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),g.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),g.jsxs(kn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[g.jsx(tO,{size:18}),g.jsx("span",{children:"Logout"})]})]})})]})})})]})},pce=()=>{const{isAuthenticated:e}=Ai(),t=Sv(),{isDarkMode:r}=sn();return Ne.useEffect(()=>{e||t("/login")},[e,t]),e?g.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[g.jsx(dce,{}),g.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:g.jsx(kJ,{})})]}):null},AU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=Z.useState(!1),[s,o]=Z.useState(!1);Z.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:g.jsx(KJ,{className:"text-green-500",size:20}),error:g.jsx(rO,{className:"text-red-500",size:20}),warning:g.jsx(Mw,{className:"text-yellow-500",size:20}),info:g.jsx(eZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return g.jsx("div",{className:"fixed top-4 right-4 z-50",children:g.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],g.jsx("p",{className:"text-sm font-medium",children:e}),g.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:g.jsx(rO,{size:18})})]})})},TU=Z.createContext(void 0),rd=()=>{const e=Z.useContext(TU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},mce=({children:e})=>{const[t,r]=Z.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return g.jsxs(TU.Provider,{value:{showToast:n},children:[e,t&&g.jsx(AU,{message:t.message,type:t.type,onClose:a})]})},yt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=sn(),l=i??o;return g.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&g.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),g.jsxs("div",{className:"relative",children:[r&&g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ne.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),g.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Pu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=Z.useState(!1),{isDarkMode:l}=sn(),c=a??l,u=()=>{o(!s)};return g.jsxs("div",{className:"relative",children:[g.jsx(yt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),g.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?g.jsx(JJ,{size:18}):g.jsx(ZJ,{size:18})})]})},Ct=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return g.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},gce=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState(""),[a,i]=Z.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=Ai(),{showToast:u}=rd(),{isDarkMode:f,toggleDarkMode:h}=sn(),d=Sv();Z.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const m=async p=>{if(p.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return g.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[g.jsx(kn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:g.jsxs("div",{className:"max-w-md p-8 text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),g.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),g.jsx(kn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[g.jsx(sZ,{size:48,className:"mx-auto text-blue-600"}),g.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),g.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),g.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),g.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?g.jsx(F9,{size:20}):g.jsx(M9,{size:20})})]}),a&&g.jsx(kn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),g.jsxs("form",{onSubmit:m,className:"space-y-6",children:[g.jsx(yt,{label:"Username",type:"text",id:"username",value:e,onChange:p=>t(p.target.value),icon:g.jsx(x4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),g.jsx(Pu,{label:"Password",name:"password",value:r,onChange:p=>n(p.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),g.jsx(Ct,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Uu=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=sn(),i=lT(0),s=lT(0),o=P8(i,Math.round),l=P8(s,Math.round);return Ne.useEffect(()=>{if(typeof t=="number"){const c=D8(i,t,{duration:1});if(n){const u=D8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),g.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),g.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?g.jsx(kn.span,{children:o}):t}),n&&g.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||g.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"":""}),g.jsx(kn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&g.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),g.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},zu=()=>{const{isDarkMode:e}=sn();return g.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),g.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),g.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:g.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),g.jsx("div",{className:"mt-4",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),g.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},gS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=sn();return g.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&g.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:g.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),g.jsx("div",{className:"p-6",children:t})]})};function Lr(e){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(e)}function mo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Or(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function jr(e){Or(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Lr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function vce(e,t){Or(2,arguments);var r=jr(e),n=mo(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function yce(e,t){Or(2,arguments);var r=jr(e).getTime(),n=mo(t);return new Date(r+n)}var xce={};function nd(){return xce}function bce(e,t){var r,n,a,i,s,o;Or(1,arguments);var l=nd(),c=mo((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=jr(e),f=u.getDay(),h=(f<c?7:0)+f-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function cT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Z2(e){Or(1,arguments);var t=jr(e);return t.setHours(0,0,0,0),t}function Qx(e,t){Or(2,arguments);var r=jr(e),n=jr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var EU=6e4,kU=36e5;function wce(e){return Or(1,arguments),e instanceof Date||Lr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _ce(e){if(Or(1,arguments),!wce(e)&&typeof e!="number")return!1;var t=jr(e);return!isNaN(Number(t))}function Sce(e,t){Or(2,arguments);var r=jr(e),n=jr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Ace(e,t){return Or(2,arguments),jr(e).getTime()-jr(t).getTime()}var L8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Tce="trunc";function Ece(e){return e?L8[e]:L8[Tce]}function k1(e){Or(1,arguments);var t=jr(e);return t.setHours(23,59,59,999),t}function PU(e){Or(1,arguments);var t=jr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function kce(e){Or(1,arguments);var t=jr(e);return k1(t).getTime()===PU(t).getTime()}function Pce(e,t){Or(2,arguments);var r=jr(e),n=jr(t),a=Qx(r,n),i=Math.abs(Sce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Qx(r,n)===-a;kce(jr(e))&&i===1&&Qx(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Cce(e,t,r){Or(2,arguments);var n=Ace(e,t)/1e3;return Ece(void 0)(n)}function Nce(e){Or(1,arguments);var t=jr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Oce(e,t){var r,n,a,i,s,o;Or(1,arguments);var l=nd(),c=mo((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=jr(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function Ice(e,t){Or(2,arguments);var r=mo(t);return yce(e,-r)}var Dce=864e5;function Lce(e){Or(1,arguments);var t=jr(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Dce)+1}function eb(e){Or(1,arguments);var t=1,r=jr(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function CU(e){Or(1,arguments);var t=jr(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=eb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=eb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function jce(e){Or(1,arguments);var t=CU(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=eb(r);return n}var Mce=6048e5;function Rce(e){Or(1,arguments);var t=jr(e),r=eb(t).getTime()-jce(t).getTime();return Math.round(r/Mce)+1}function tb(e,t){var r,n,a,i,s,o,l,c;Or(1,arguments);var u=nd(),f=mo((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=jr(e),d=h.getUTCDay(),m=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function NU(e,t){var r,n,a,i,s,o,l,c;Or(1,arguments);var u=jr(e),f=u.getUTCFullYear(),h=nd(),d=mo((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,d),m.setUTCHours(0,0,0,0);var p=tb(m,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var y=tb(v,t);return u.getTime()>=p.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Fce(e,t){var r,n,a,i,s,o,l,c;Or(1,arguments);var u=nd(),f=mo((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=NU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var m=tb(d,t);return m}var $ce=6048e5;function Bce(e,t){Or(1,arguments);var r=jr(e),n=tb(r,t).getTime()-Fce(r,t).getTime();return Math.round(n/$ce)+1}function Wr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Su={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Wr(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Wr(n+1,2)},d:function(t,r){return Wr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Wr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Wr(t.getUTCHours(),r.length)},m:function(t,r){return Wr(t.getUTCMinutes(),r.length)},s:function(t,r){return Wr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Wr(i,r.length)}},Rd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Su.y(t,r)},Y:function(t,r,n,a){var i=NU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Wr(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Wr(s,r.length)},R:function(t,r){var n=CU(t);return Wr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Wr(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Wr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Wr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Su.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Wr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Bce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Wr(i,r.length)},I:function(t,r,n){var a=Rce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Wr(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Su.d(t,r)},D:function(t,r,n){var a=Lce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Wr(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Wr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Wr(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Wr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Rd.noon:a===0?i=Rd.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Rd.evening:a>=12?i=Rd.afternoon:a>=4?i=Rd.morning:i=Rd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Su.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Su.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Wr(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Wr(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Su.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Su.s(t,r)},S:function(t,r){return Su.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return M8(s);case"XXXX":case"XX":return ch(s);case"XXXXX":case"XXX":default:return ch(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return M8(s);case"xxxx":case"xx":return ch(s);case"xxxxx":case"xxx":default:return ch(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+j8(s,":");case"OOOO":default:return"GMT"+ch(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+j8(s,":");case"zzzz":default:return"GMT"+ch(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Wr(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Wr(s,r.length)}};function j8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Wr(i,2)}function M8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Wr(Math.abs(e)/60,2)}return ch(e,t)}function ch(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Wr(Math.floor(a/60),2),s=Wr(a%60,2);return n+i+r+s}var R8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},OU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Uce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return R8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",R8(a,r)).replace("{{time}}",OU(i,r))},zce={p:OU,P:Uce},qce=["D","DD"],Wce=["YY","YYYY"];function Hce(e){return qce.indexOf(e)!==-1}function Gce(e){return Wce.indexOf(e)!==-1}function F8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yce=function(t,r,n){var a,i=Kce[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function vS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Xce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zce={date:vS({formats:Xce,defaultWidth:"full"}),time:vS({formats:Qce,defaultWidth:"full"}),dateTime:vS({formats:Jce,defaultWidth:"full"})},eue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tue=function(t,r,n,a){return eue[t]};function Nm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var rue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cue={ordinalNumber:lue,era:Nm({values:rue,defaultWidth:"wide"}),quarter:Nm({values:nue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Nm({values:aue,defaultWidth:"wide"}),day:Nm({values:iue,defaultWidth:"wide"}),dayPeriod:Nm({values:sue,defaultWidth:"wide",formattingValues:oue,defaultFormattingWidth:"wide"})};function Om(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?fue(o,function(f){return f.test(s)}):uue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function uue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function fue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function hue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var due=/^(\d+)(th|st|nd|rd)?/i,pue=/\d+/i,mue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gue={any:[/^b/i,/^(a|c)/i]},vue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yue={any:[/1/i,/2/i,/3/i,/4/i]},xue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Aue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tue={ordinalNumber:hue({matchPattern:due,parsePattern:pue,valueCallback:function(t){return parseInt(t,10)}}),era:Om({matchPatterns:mue,defaultMatchWidth:"wide",parsePatterns:gue,defaultParseWidth:"any"}),quarter:Om({matchPatterns:vue,defaultMatchWidth:"wide",parsePatterns:yue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Om({matchPatterns:xue,defaultMatchWidth:"wide",parsePatterns:bue,defaultParseWidth:"any"}),day:Om({matchPatterns:wue,defaultMatchWidth:"wide",parsePatterns:_ue,defaultParseWidth:"any"}),dayPeriod:Om({matchPatterns:Sue,defaultMatchWidth:"any",parsePatterns:Aue,defaultParseWidth:"any"})},IU={code:"en-US",formatDistance:Yce,formatLong:Zce,formatRelative:tue,localize:cue,match:Tue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Eue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pue=/^'([^]*?)'?$/,Cue=/''/g,Nue=/[a-zA-Z]/;function xr(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v;Or(2,arguments);var y=String(t),_=nd(),w=(n=(a=void 0)!==null&&a!==void 0?a:_.locale)!==null&&n!==void 0?n:IU,O=mo((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&s!==void 0?s:(c=_.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=mo((f=(h=(d=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&d!==void 0?d:_.weekStartsOn)!==null&&h!==void 0?h:(p=_.locale)===null||p===void 0||(v=p.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var C=jr(e);if(!_ce(C))throw new RangeError("Invalid time value");var T=cT(C),S=Ice(C,T),A={firstWeekContainsDate:O,weekStartsOn:k,locale:w,_originalDate:C},I=y.match(kue).map(function(E){var N=E[0];if(N==="p"||N==="P"){var j=zce[N];return j(E,w.formatLong)}return E}).join("").match(Eue).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return Oue(E);var j=Vce[N];if(j)return Gce(E)&&F8(E,t,String(e)),Hce(E)&&F8(E,t,String(e)),j(S,E,w.localize,A);if(N.match(Nue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return I}function Oue(e){var t=e.match(Pue);return t?t[1].replace(Cue,"'"):e}function DU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Iue(e){return DU({},e)}var $8=1440,Due=2520,yS=43200,Lue=86400;function jue(e,t,r){var n,a;Or(2,arguments);var i=nd(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:IU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Qx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=DU(Iue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=jr(t),u=jr(e)):(c=jr(e),u=jr(t));var f=Cce(u,c),h=(cT(u)-cT(c))/1e3,d=Math.round((f-h)/60),m;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<$8){var p=Math.round(d/60);return s.formatDistance("aboutXHours",p,l)}else{if(d<Due)return s.formatDistance("xDays",1,l);if(d<yS){var v=Math.round(d/$8);return s.formatDistance("xDays",v,l)}else if(d<Lue)return m=Math.round(d/yS),s.formatDistance("aboutXMonths",m,l)}if(m=Pce(u,c),m<12){var y=Math.round(d/yS);return s.formatDistance("xMonths",y,l)}else{var _=m%12,w=Math.floor(m/12);return _<3?s.formatDistance("aboutXYears",w,l):_<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Mue(e,t){return Or(1,arguments),jue(e,Date.now(),t)}function Rt(e,t){Or(2,arguments);var r=mo(t);return vce(e,-r)}function Rue(e,t){var r;Or(1,arguments);var n=mo((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Vue(e),i;if(a.date){var s=Uue(a.date,n);i=zue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=que(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Wue(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var Zy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$ue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vue(e){var t={},r=e.split(Zy.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Zy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Uue(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function zue(e,t){if(t===null)return new Date(NaN);var r=e.match(Fue);if(!r)return new Date(NaN);var n=!!r[4],a=Im(r[1]),i=Im(r[2])-1,s=Im(r[3]),o=Im(r[4]),l=Im(r[5])-1;if(n)return Xue(t,o,l)?Hue(t,o,l):new Date(NaN);var c=new Date(0);return!Kue(t,i,s)||!Yue(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Im(e){return e?parseInt(e):1}function que(e){var t=e.match($ue);if(!t)return NaN;var r=xS(t[1]),n=xS(t[2]),a=xS(t[3]);return Que(r,n,a)?r*kU+n*EU+a*1e3:NaN}function xS(e){return e&&parseFloat(e.replace(",","."))||0}function Wue(e){if(e==="Z")return 0;var t=e.match(Bue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Jue(n,a)?r*(n*kU+a*EU):NaN}function Hue(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Gue=[31,null,31,30,31,30,31,31,30,31,30,31];function LU(e){return e%400===0||e%4===0&&e%100!==0}function Kue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gue[t]||(LU(e)?29:28))}function Yue(e,t){return t>=1&&t<=(LU(e)?366:365)}function Xue(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Que(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jue(e,t){return t>=0&&t<=59}const Zue=()=>{const[e,t]=Z.useState(!0),[r,n]=Z.useState([]),[a,i]=Z.useState([]),[s,o]=Z.useState([]),[l,c]=Z.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=sn(),f=async()=>{t(!0);try{const p=new Date,v=Rt(p,30),y=Rt(p,1),_=p,w=Ar(Nt(vt,"orders"),Br("createdAt",">=",Kt.fromDate(v)),Br("createdAt","<=",Kt.fromDate(p))),O=Ar(Nt(vt,"orders"),Br("createdAt",">=",Kt.fromDate(y)),Br("createdAt","<=",Kt.fromDate(_))),k=Ar(Nt(vt,"inventory")),C=Ar(Nt(vt,"inventory"),Br("lastUpdated",">=",Kt.fromDate(y)),Br("lastUpdated","<=",Kt.fromDate(_))),[T,S,A,I]=await Promise.all([kr(w),kr(O),kr(k),kr(C)]),E=T.docs.map(Fe=>({id:Fe.id,...Fe.data()})),N=S.docs.map(Fe=>({id:Fe.id,...Fe.data()})),j=S.docs.length,H=A.docs.reduce((Fe,Ge)=>{const Ye=Ge.data();return Fe+(Ye.quantity||0)},0),X=I.docs.reduce((Fe,Ge)=>{const Ye=Ge.data();return Fe+(Ye.quantityChange||0)},0),re=A.docs.reduce((Fe,Ge)=>{const Ye=Ge.data();return Fe+(Ye.quantity||0)*(Ye.price||0)},0),J=E.length,q=N.reduce((Fe,Ge)=>Fe+(Ge.totalAmount||0),0),B=Ar(Nt(vt,"inventory")),ce=(await kr(B)).docs.map(Fe=>({id:Fe.id,...Fe.data()})),D=ce.filter(Fe=>Fe.quantity<=10),F=ce.filter(Fe=>Fe.quantity>10&&Fe.quantity<=25);console.log("All stock items:",ce),console.log("Critical items:",D),console.log("Low stock items:",F),i(D),o(F);const U=new Date,G=Z2(U),W=k1(U),Q=Z2(Rt(U,1)),oe=k1(Rt(U,1)),Y=Ar(Nt(vt,"activityLogs"),Br("time",">=",G.toISOString()),Br("time","<=",W.toISOString())),ue=Ar(Nt(vt,"activityLogs"),Br("time",">=",Q.toISOString()),Br("time","<=",oe.toISOString())),[pe,K]=await Promise.all([kr(Y),kr(ue)]),je=pe.docs.map(Fe=>Fe.data()),Oe=K.docs.map(Fe=>Fe.data()),Se=je.reduce((Fe,Ge)=>{const Ye=Ge.detail.match(/(\d+) units deducted/);return Fe+(Ye?parseInt(Ye[1]):0)},0),ae=Oe.reduce((Fe,Ge)=>{const Ye=Ge.detail.match(/(\d+) units deducted/);return Fe+(Ye?parseInt(Ye[1]):0)},0),Ce=je.reduce((Fe,Ge)=>{const Ye=Ge.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Fe+(Ye?parseInt(Ye[1]):0)},0),Ae=je.reduce((Fe,Ge)=>{const Ye=Ge.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ye){const[,et,we]=Ye,Ie=A.docs.find(Ke=>Ke.data().name===et);if(Ie){const Ke=Ie.data().price||0;return Fe+parseInt(we)*Ke}}return Fe},0),ke=je.reduce((Fe,Ge)=>{const Ye=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ye)||/damaged/i.test(Ye)||/damageditems/i.test(Ye)||/damaged items/i.test(Ye)){const et=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const we of et){const Ie=Ye.match(we);if(Ie)if(Ie.length===3){const Ke=parseInt(Ie[1]),ft=parseInt(Ie[2]);return Fe+Math.abs(Ke-ft)}else return Fe+parseInt(Ie[1])}return Fe+1}return Fe},0),He=Oe.reduce((Fe,Ge)=>{const Ye=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ye)||/damaged/i.test(Ye)||/damageditems/i.test(Ye)||/damaged items/i.test(Ye)){const et=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const we of et){const Ie=Ye.match(we);if(Ie)if(Ie.length===3){const Ke=parseInt(Ie[1]),ft=parseInt(Ie[2]);return Fe+Math.abs(Ke-ft)}else return Fe+parseInt(Ie[1])}return Fe+1}return Fe},0);c({totalOrders:J,totalStock:H,totalInventoryValue:re,todayDamagedProducts:ke,yesterdayDamagedProducts:He,yesterdayOrders:j,yesterdayStockChange:X,yesterdayRevenue:q,totalDeductions:Se,yesterdayDeductions:ae,todayStockAdditions:Ce,todayInventoryValueAdditions:Ae})}catch(p){console.error("Error fetching stats:",p)}finally{t(!1)}},h=async()=>{try{const p=Ar(Nt(vt,"activityLogs"),vi("time","desc"),Wx(5)),y=(await kr(p)).docs.map(_=>({id:_.id,..._.data()}));n(y)}catch(p){console.error("Error fetching recent activities:",p)}},d=async()=>{await Promise.all([f(),h()])};Z.useEffect(()=>{d()},[]);const m=()=>{const{isDarkMode:p}=sn();return g.jsxs("div",{className:"animate-pulse",children:[g.jsx("div",{className:`h-10 ${p?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>g.jsx("div",{className:`h-16 ${p?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return g.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),g.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),g.jsx(Ct,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:g.jsx(Pf,{size:16,className:e?"animate-spin":""})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?g.jsxs(g.Fragment,{children:[g.jsx(zu,{}),g.jsx(zu,{}),g.jsx(zu,{}),g.jsx(zu,{})]}):g.jsxs(g.Fragment,{children:[g.jsx(Uu,{title:"Total Stock",value:l.totalStock,icon:g.jsx(I2,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:g.jsx(Ds,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),g.jsx(Uu,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:g.jsx($9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),g.jsx(Uu,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:g.jsx(Mw,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),g.jsx(Uu,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:g.jsx(R9,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:p=>`${p.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:g.jsx(Ds,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":" added today"}})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx(gS,{title:"Recent Activity",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):r.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.user}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.role}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.detail}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Mue(new Date(p.time),{addSuffix:!0})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),g.jsx(gS,{title:"Low Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):s.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.name}),g.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[p.locationCode,"-",p.shelfNumber]}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.quantity}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.jsx(gS,{title:"Critical Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):a.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.name}),g.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[p.locationCode,"-",p.shelfNumber]}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.quantity}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},zn=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const{isDarkMode:i}=sn(),s=Z.useRef(null);if(Z.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return e&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[e,t]),Z.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&t()};return e&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t]),!e)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:g.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),g.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${o[a]} w-full ${i?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:`text-lg font-medium ${i?"text-white":"text-slate-900"}`,children:r}),g.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${i?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:g.jsx(B9,{size:20})})]}),g.jsx("div",{className:`${i?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},Up=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=Z.useState(!1);return Z.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),g.jsx(zn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:g.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:g.jsx(df,{size:32,className:"text-blue-500"})}),g.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&g.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jU=1252,efe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},NP=function(e){efe.indexOf(e)!=-1&&(jU=CP[0]=e)};function tfe(){NP(1252)}var Ko=function(e){NP(e)};function MU(){Ko(1200),tfe()}function B8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function rfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function RU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var tg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?rfe(e.slice(2)):t==254&&r==255?RU(e.slice(2)):t==65279?e.slice(1):e},ex=function(t){return String.fromCharCode(t)},V8=function(t){return String.fromCharCode(t)},ju,qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function U8(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=qu.charAt(i)+qu.charAt(s)+qu.charAt(o)+qu.charAt(l);return t}function Ms(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=qu.indexOf(e.charAt(c++)),s=qu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=qu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=qu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var dr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ad=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wf(e){return dr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function z8(e){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ho=function(t){return dr?ad(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function id(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function OP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return OP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Mu=dr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ad(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function nfe(e){for(var t=[],r=0,n=e.length+250,a=wf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=wf(65535),n=65530)}return t.push(a.slice(0,r)),Mu(t)}var zi=/\u0000/g,rg=/[\u0001-\u0006]/g;function k0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Yo(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}function IP(e,t){var r=""+e;return r.length>=t?r:Vn(" ",t-r.length)+r}function rb(e,t){var r=""+e;return r.length>=t?r:r+Vn(" ",t-r.length)}function afe(e,t){var r=""+Math.round(e);return r.length>=t?r:Vn("0",t-r.length)+r}function ife(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}var q8=Math.pow(2,32);function Fd(e,t){if(e>q8||e<-q8)return afe(e,t);var r=Math.round(e);return ife(r,t)}function nb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var W8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var rr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},H8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ofe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ab(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function _h(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=dfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var FU=new Date(1899,11,31,0,0,0),lfe=FU.getTime(),cfe=new Date(1900,2,1,0,0,0);function $U(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=cfe&&(r+=24*60*60*1e3),(r-(lfe+(e.getTimezoneOffset()-FU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function DP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ufe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ffe(e){var t=e<0?12:11,r=DP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function hfe(e){var t=DP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function P1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ffe(e):t===10?r=e.toFixed(10).substr(0,12):r=hfe(e),DP(ufe(r.toUpperCase()))}function qh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):P1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return go(14,$U(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function pfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return bS[r.m-1][1];case 5:return bS[r.m-1][0];default:return bS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return W8[r.q][0];default:return W8[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Yo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Yo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Yo(l,c):"";return u}function Wu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var BU=/%/g;function mfe(e,t,r){var n=t.replace(BU,""),a=t.length-n.length;return yc(e,n,r*Math.pow(10,2*a))+Vn("%",a)}function gfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return yc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var UU=/# (\?+)( ?)\/( ?)(\d+)/;function vfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Vn(" ",e[1].length+1+e[4].length):IP(s,e[1].length)+e[2]+"/"+e[3]+Yo(o,e[4].length))}function yfe(e,t,r){return r+(t===0?"":""+t)+Vn(" ",e[1].length+2+e[4].length)}var zU=/^#*0*\.([0#]+)/,qU=/\).*[0#]/,WU=/\(###\) ###\\?-####/;function ji(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function G8(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function K8(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function bfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function eo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eo("n",n,r):"("+eo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gfe(e,t,r);if(t.indexOf("%")!==-1)return mfe(e,t,r);if(t.indexOf("E")!==-1)return VU(t,r);if(t.charCodeAt(0)===36)return"$"+eo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fd(l,t.length);if(t.match(/^[#?]+$/))return a=Fd(r,0),a==="0"&&(a=""),a.length>t.length?a:ji(t.substr(0,t.length-a.length))+a;if(i=t.match(UU))return vfe(i,l,c);if(t.match(/^#+0+$/))return c+Fd(l,t.length-t.indexOf("0"));if(i=t.match(zU))return a=G8(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ji(i[1])).replace(/\.$/,"."+ji(i[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+Vn("0",ji(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+G8(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Wu(Fd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eo(e,t,-r):Wu(""+(Math.floor(r)+xfe(r,i[1].length)))+"."+Yo(K8(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return eo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=k0(eo(e,t.replace(/[\\-]/g,""),r)),s=0,k0(k0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(WU))return a=eo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ab(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=rb(o[2],s),u.length<i[4].length&&(u=ji(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ab(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?IP(o[1],s)+i[2]+"/"+i[3]+rb(o[2],s):Vn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Fd(r,0),t.length<=a.length?a:ji(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ji(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=K8(r,i[1].length),r<0?"-"+eo(e,t,-r):Wu(bfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Yo(0,3-m.length):"")+m})+"."+Yo(s,i[1].length);switch(t){case"###,##0.00":return eo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Wu(Fd(l,0));return d!=="0"?c+d:"";case"###,###.00":return eo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return eo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function wfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return yc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _fe(e,t,r){var n=t.replace(BU,""),a=t.length-n.length;return yc(e,n,r*Math.pow(10,2*a))+Vn("%",a)}function HU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function yl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yl("n",n,r):"("+yl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return wfe(e,t,r);if(t.indexOf("%")!==-1)return _fe(e,t,r);if(t.indexOf("E")!==-1)return HU(t,r);if(t.charCodeAt(0)===36)return"$"+yl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Yo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ji(t.substr(0,t.length-a.length))+a;if(i=t.match(UU))return yfe(i,l,c);if(t.match(/^#+0+$/))return c+Yo(l,t.length-t.indexOf("0"));if(i=t.match(zU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ji(i[1])).replace(/\.$/,"."+ji(i[1])),a=a.replace(/\.(\d*)$/,function(m,p){return"."+p+Vn("0",ji(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Wu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yl(e,t,-r):Wu(""+r)+"."+Vn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return yl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=k0(yl(e,t.replace(/[\\-]/g,""),r)),s=0,k0(k0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(WU))return a=yl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=ab(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=rb(o[2],s),u.length<i[4].length&&(u=ji(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=ab(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?IP(o[1],s)+i[2]+"/"+i[3]+rb(o[2],s):Vn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ji(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ji(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+yl(e,t,-r):Wu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Yo(0,3-m.length):"")+m})+"."+Yo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Wu(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return yl(e,t.slice(0,t.lastIndexOf(".")),r)+ji(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function yc(e,t,r){return(r|0)===r?yl(e,t,r):eo(e,t,r)}function Sfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function zp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":nb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(GU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Afe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!nb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),m=d==="("||d===")"?d:"t";a[a.length]={t:m,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=_h(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=_h(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(c==null&&(c=_h(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(p.v=c.H>=12?"":""),p.t="T",s+=5,h="h"):(p.t="t",++s),c==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(GU)){if(c==null&&(c=_h(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",zp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,_;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(_=a[s].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=pfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;w+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=qh(t,r);break}var k="",C,T;if(w.length>0){w.charCodeAt(0)==40?(C=t<0&&w.charCodeAt(0)===45?-t:t,T=yc("n",w,C)):(C=t<0&&n>1?-t:t,T=yc("n",w,C),C<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),O=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var A=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=T.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=T.substr(0,O+1),O=-1),a[s].t="t",A=s);O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(O=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,k=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(k=T.charAt(O--)+k);a[s].v=k,a[s].t="t",A=s}for(O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v),O=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,k=a[s].v.substr(0,u);u<a[s].v.length;++u)O<T.length&&(k+=T.charAt(O++));a[s].v=k,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(C=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=yc(a[s].t,a[s].v,C),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var Y8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function X8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Tfe(e,t){var r=Sfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(Y8),o=r[1].match(Y8);return X8(t,s)?[n,r[0]]:X8(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function go(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rr)[e],n==null&&(n=r.table&&r.table[H8[e]]||rr[H8[e]]),n==null&&(n=ofe[e]||"General");break}if(nb(n,0))return qh(t,r);t instanceof Date&&(t=$U(t,r.date1904));var a=Tfe(n,t);if(nb(a[1]))return qh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Afe(a[1],t,r,a[0])}function Oh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(rr[r]==null){t<0&&(t=r);continue}if(rr[r]==e){t=r;break}}t<0&&(t=391)}return rr[t]=e,t}function KU(){rr=sfe()}var Efe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},YU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kfe(e){var t=typeof e=="number"?rr[e]:e;return t=t.replace(YU,"(\\d+)"),new RegExp("^"+t+"$")}function Pfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(YU)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Cfe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[A]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,A=0,I=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)E[I]=T[I];for(I=0;I!=256;++I)for(A=T[I],S=256+I;S<4096;S+=256)A=E[S]=A>>>8^T[A&255];var N=[];for(I=1;I!=16;++I)N[I-1]=typeof Int32Array<"u"?E.subarray(I*256,I*256+256):E.slice(I*256,I*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],m=a[9],p=a[10],v=a[11],y=a[12],_=a[13],w=a[14];function O(T,S){for(var A=S^-1,I=0,E=T.length;I<E;)A=A>>>8^r[(A^T.charCodeAt(I++))&255];return~A}function k(T,S){for(var A=S^-1,I=T.length-15,E=0;E<I;)A=w[T[E++]^A&255]^_[T[E++]^A>>8&255]^y[T[E++]^A>>16&255]^v[T[E++]^A>>>24]^p[T[E++]]^m[T[E++]]^d[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(I+=15;E<I;)A=A>>>8^r[(A^T[E++])&255];return~A}function C(T,S){for(var A=S^-1,I=0,E=T.length,N=0,j=0;I<E;)N=T.charCodeAt(I++),N<128?A=A>>>8^r[(A^N)&255]:N<2048?(A=A>>>8^r[(A^(192|N>>6&31))&255],A=A>>>8^r[(A^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,j=T.charCodeAt(I++)&1023,A=A>>>8^r[(A^(240|N>>8&7))&255],A=A>>>8^r[(A^(128|N>>2&63))&255],A=A>>>8^r[(A^(128|j>>6&15|(N&3)<<4))&255],A=A>>>8^r[(A^(128|j&63))&255]):(A=A>>>8^r[(A^(224|N>>12&15))&255],A=A>>>8^r[(A^(128|N>>6&63))&255],A=A>>>8^r[(A^(128|N&63))&255]);return~A}return e.table=r,e.bstr=O,e.buf=k,e.str=C,e}(),wr=function(){var t={};t.version="1.2.1";function r(ie,xe){for(var me=ie.split("/"),ge=xe.split("/"),ye=0,be=0,$e=Math.min(me.length,ge.length);ye<$e;++ye){if(be=me[ye].length-ge[ye].length)return be;if(me[ye]!=ge[ye])return me[ye]<ge[ye]?-1:1}return me.length-ge.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var xe=ie.lastIndexOf("/");return xe===-1?ie:ie.slice(0,xe+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var xe=ie.lastIndexOf("/");return xe===-1?ie:ie.slice(xe+1)}function i(ie,xe){typeof xe=="string"&&(xe=new Date(xe));var me=xe.getHours();me=me<<6|xe.getMinutes(),me=me<<5|xe.getSeconds()>>>1,ie.write_shift(2,me);var ge=xe.getFullYear()-1980;ge=ge<<4|xe.getMonth()+1,ge=ge<<5|xe.getDate(),ie.write_shift(2,ge)}function s(ie){var xe=ie.read_shift(2)&65535,me=ie.read_shift(2)&65535,ge=new Date,ye=me&31;me>>>=5;var be=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(be-1),ge.setDate(ye);var $e=xe&31;xe>>>=5;var Xe=xe&63;return xe>>>=6,ge.setHours(xe),ge.setMinutes(Xe),ge.setSeconds($e<<1),ge}function o(ie){Wa(ie,0);for(var xe={},me=0;ie.l<=ie.length-4;){var ge=ie.read_shift(2),ye=ie.read_shift(2),be=ie.l+ye,$e={};switch(ge){case 21589:me=ie.read_shift(1),me&1&&($e.mtime=ie.read_shift(4)),ye>5&&(me&2&&($e.atime=ie.read_shift(4)),me&4&&($e.ctime=ie.read_shift(4))),$e.mtime&&($e.mt=new Date($e.mtime*1e3));break}ie.l=be,xe[ge]=$e}return xe}var l;function c(){return l||(l={})}function u(ie,xe){if(ie[0]==80&&ie[1]==75)return Yr(ie,xe);if((ie[0]|32)==109&&(ie[1]|32)==105)return ki(ie,xe);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var me=3,ge=512,ye=0,be=0,$e=0,Xe=0,Be=0,Ve=[],We=ie.slice(0,512);Wa(We,0);var lt=f(We);switch(me=lt[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(lt[1]==0)return Yr(ie,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(We=ie.slice(0,ge),Wa(We,28));var gt=ie.slice(0,ge);h(We,me);var St=We.read_shift(4,"i");if(me===3&&St!==0)throw new Error("# Directory Sectors: Expected 0 saw "+St);We.l+=4,$e=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),Xe=We.read_shift(4,"i"),ye=We.read_shift(4,"i"),Be=We.read_shift(4,"i"),be=We.read_shift(4,"i");for(var pt=-1,xt=0;xt<109&&(pt=We.read_shift(4,"i"),!(pt<0));++xt)Ve[xt]=pt;var Bt=d(ie,ge);v(Be,be,Bt,ge,Ve);var gr=_(Bt,$e,Ve,ge);gr[$e].name="!Directory",ye>0&&Xe!==j&&(gr[Xe].name="!MiniFAT"),gr[Ve[0]].name="!FAT",gr.fat_addrs=Ve,gr.ssz=ge;var vr={},Xr=[],Pi=[],wo=[];w($e,gr,Bt,Xr,ye,vr,Pi,Xe),m(Pi,wo,Xr),Xr.shift();var ps={FileIndex:Pi,FullPaths:wo};return xe&&xe.raw&&(ps.raw={header:gt,sectors:Bt}),ps}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(H,"Header Signature: "),ie.l+=16;var xe=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),xe]}function h(ie,xe){var me=9;switch(ie.l+=2,me=ie.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function d(ie,xe){for(var me=Math.ceil(ie.length/xe)-1,ge=[],ye=1;ye<me;++ye)ge[ye-1]=ie.slice(ye*xe,(ye+1)*xe);return ge[me-1]=ie.slice(me*xe),ge}function m(ie,xe,me){for(var ge=0,ye=0,be=0,$e=0,Xe=0,Be=me.length,Ve=[],We=[];ge<Be;++ge)Ve[ge]=We[ge]=ge,xe[ge]=me[ge];for(;Xe<We.length;++Xe)ge=We[Xe],ye=ie[ge].L,be=ie[ge].R,$e=ie[ge].C,Ve[ge]===ge&&(ye!==-1&&Ve[ye]!==ye&&(Ve[ge]=Ve[ye]),be!==-1&&Ve[be]!==be&&(Ve[ge]=Ve[be])),$e!==-1&&(Ve[$e]=ge),ye!==-1&&ge!=Ve[ge]&&(Ve[ye]=Ve[ge],We.lastIndexOf(ye)<Xe&&We.push(ye)),be!==-1&&ge!=Ve[ge]&&(Ve[be]=Ve[ge],We.lastIndexOf(be)<Xe&&We.push(be));for(ge=1;ge<Be;++ge)Ve[ge]===ge&&(be!==-1&&Ve[be]!==be?Ve[ge]=Ve[be]:ye!==-1&&Ve[ye]!==ye&&(Ve[ge]=Ve[ye]));for(ge=1;ge<Be;++ge)if(ie[ge].type!==0){if(Xe=ge,Xe!=Ve[Xe])do Xe=Ve[Xe],xe[ge]=xe[Xe]+"/"+xe[ge];while(Xe!==0&&Ve[Xe]!==-1&&Xe!=Ve[Xe]);Ve[ge]=-1}for(xe[0]+="/",ge=1;ge<Be;++ge)ie[ge].type!==2&&(xe[ge]+="/")}function p(ie,xe,me){for(var ge=ie.start,ye=ie.size,be=[],$e=ge;me&&ye>0&&$e>=0;)be.push(xe.slice($e*N,$e*N+N)),ye-=N,$e=ph(me,$e*4);return be.length===0?ga(0):Mu(be).slice(0,ie.size)}function v(ie,xe,me,ge,ye){var be=j;if(ie===j){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var $e=me[ie],Xe=(ge>>>2)-1;if(!$e)return;for(var Be=0;Be<Xe&&(be=ph($e,Be*4))!==j;++Be)ye.push(be);v(ph($e,ge-4),xe-1,me,ge,ye)}}function y(ie,xe,me,ge,ye){var be=[],$e=[];ye||(ye=[]);var Xe=ge-1,Be=0,Ve=0;for(Be=xe;Be>=0;){ye[Be]=!0,be[be.length]=Be,$e.push(ie[Be]);var We=me[Math.floor(Be*4/ge)];if(Ve=Be*4&Xe,ge<4+Ve)throw new Error("FAT boundary crossed: "+Be+" 4 "+ge);if(!ie[We])break;Be=ph(ie[We],Ve)}return{nodes:be,data:sD([$e])}}function _(ie,xe,me,ge){var ye=ie.length,be=[],$e=[],Xe=[],Be=[],Ve=ge-1,We=0,lt=0,gt=0,St=0;for(We=0;We<ye;++We)if(Xe=[],gt=We+xe,gt>=ye&&(gt-=ye),!$e[gt]){Be=[];var pt=[];for(lt=gt;lt>=0;){pt[lt]=!0,$e[lt]=!0,Xe[Xe.length]=lt,Be.push(ie[lt]);var xt=me[Math.floor(lt*4/ge)];if(St=lt*4&Ve,ge<4+St)throw new Error("FAT boundary crossed: "+lt+" 4 "+ge);if(!ie[xt]||(lt=ph(ie[xt],St),pt[lt]))break}be[gt]={nodes:Xe,data:sD([Be])}}return be}function w(ie,xe,me,ge,ye,be,$e,Xe){for(var Be=0,Ve=ge.length?2:0,We=xe[ie].data,lt=0,gt=0,St;lt<We.length;lt+=128){var pt=We.slice(lt,lt+128);Wa(pt,64),gt=pt.read_shift(2),St=FP(pt,0,gt-Ve),ge.push(St);var xt={name:St,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Bt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Bt!==0&&(xt.ct=O(pt,pt.l-8));var gr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);gr!==0&&(xt.mt=O(pt,pt.l-8)),xt.start=pt.read_shift(4,"i"),xt.size=pt.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=j,xt.name=""),xt.type===5?(Be=xt.start,ye>0&&Be!==j&&(xe[Be].name="!StreamData")):xt.size>=4096?(xt.storage="fat",xe[xt.start]===void 0&&(xe[xt.start]=y(me,xt.start,xe.fat_addrs,xe.ssz)),xe[xt.start].name=xt.name,xt.content=xe[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:Be!==j&&xt.start!==j&&xe[Be]&&(xt.content=p(xt,xe[Be].data,(xe[Xe]||{}).data))),xt.content&&Wa(xt.content,0),be[St]=xt,$e.push(xt)}}function O(ie,xe){return new Date((Es(ie,xe+4)/1e7*Math.pow(2,32)+Es(ie,xe)/1e7-11644473600)*1e3)}function k(ie,xe){return c(),u(l.readFileSync(ie),xe)}function C(ie,xe){var me=xe&&xe.type;switch(me||dr&&Buffer.isBuffer(ie)&&(me="buffer"),me||"base64"){case"file":return k(ie,xe);case"base64":return u(Ho(Ms(ie)),xe);case"binary":return u(Ho(ie),xe)}return u(ie,xe)}function T(ie,xe){var me=xe||{},ge=me.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ge+"/",ie.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ie.FileIndex[0].clsid=me.CLSID),S(ie)}function S(ie){var xe="Sh33tJ5";if(!wr.find(ie,"/"+xe)){var me=ga(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ie.FileIndex.push({name:xe,type:2,content:me,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+xe),A(ie)}}function A(ie,xe){T(ie);for(var me=!1,ge=!1,ye=ie.FullPaths.length-1;ye>=0;--ye){var be=ie.FileIndex[ye];switch(be.type){case 0:ge?me=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(be.R*be.L*be.C)&&(me=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!xe)){var $e=new Date(1987,1,19),Xe=0,Be=Object.create?Object.create(null):{},Ve=[];for(ye=0;ye<ie.FullPaths.length;++ye)Be[ie.FullPaths[ye]]=!0,ie.FileIndex[ye].type!==0&&Ve.push([ie.FullPaths[ye],ie.FileIndex[ye]]);for(ye=0;ye<Ve.length;++ye){var We=n(Ve[ye][0]);ge=Be[We],ge||(Ve.push([We,{name:a(We).replace("/",""),type:1,clsid:re,ct:$e,mt:$e,content:null}]),Be[We]=!0)}for(Ve.sort(function(St,pt){return r(St[0],pt[0])}),ie.FullPaths=[],ie.FileIndex=[],ye=0;ye<Ve.length;++ye)ie.FullPaths[ye]=Ve[ye][0],ie.FileIndex[ye]=Ve[ye][1];for(ye=0;ye<Ve.length;++ye){var lt=ie.FileIndex[ye],gt=ie.FullPaths[ye];if(lt.name=a(gt).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||re,ye===0)lt.C=Ve.length>1?1:-1,lt.size=0,lt.type=5;else if(gt.slice(-1)=="/"){for(Xe=ye+1;Xe<Ve.length&&n(ie.FullPaths[Xe])!=gt;++Xe);for(lt.C=Xe>=Ve.length?-1:Xe,Xe=ye+1;Xe<Ve.length&&n(ie.FullPaths[Xe])!=n(gt);++Xe);lt.R=Xe>=Ve.length?-1:Xe,lt.type=1}else n(ie.FullPaths[ye+1]||"")==n(gt)&&(lt.R=ye+1),lt.type=2}}}function I(ie,xe){var me=xe||{};if(me.fileType=="mad")return kt(ie,me);switch(A(ie),me.fileType){case"zip":return Ei(ie,me)}var ge=function(St){for(var pt=0,xt=0,Bt=0;Bt<St.FileIndex.length;++Bt){var gr=St.FileIndex[Bt];if(gr.content){var vr=gr.content.length;vr>0&&(vr<4096?pt+=vr+63>>6:xt+=vr+511>>9)}}for(var Xr=St.FullPaths.length+3>>2,Pi=pt+7>>3,wo=pt+127>>7,ps=Pi+xt+Xr+wo,Yi=ps+127>>7,ms=Yi<=109?0:Math.ceil((Yi-109)/127);ps+Yi+ms+127>>7>Yi;)ms=++Yi<=109?0:Math.ceil((Yi-109)/127);var Ma=[1,ms,Yi,wo,Xr,xt,pt,0];return St.FileIndex[0].size=pt<<6,Ma[7]=(St.FileIndex[0].start=Ma[0]+Ma[1]+Ma[2]+Ma[3]+Ma[4]+Ma[5])+(Ma[6]+7>>3),Ma}(ie),ye=ga(ge[7]<<9),be=0,$e=0;{for(be=0;be<8;++be)ye.write_shift(1,X[be]);for(be=0;be<8;++be)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),be=0;be<3;++be)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,ge[2]),ye.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:j),ye.write_shift(4,ge[3]),ye.write_shift(-4,ge[1]?ge[0]-1:j),ye.write_shift(4,ge[1]),be=0;be<109;++be)ye.write_shift(-4,be<ge[2]?ge[1]+be:-1)}if(ge[1])for($e=0;$e<ge[1];++$e){for(;be<236+$e*127;++be)ye.write_shift(-4,be<ge[2]?ge[1]+be:-1);ye.write_shift(-4,$e===ge[1]-1?j:$e+1)}var Xe=function(St){for($e+=St;be<$e-1;++be)ye.write_shift(-4,be+1);St&&(++be,ye.write_shift(-4,j))};for($e=be=0,$e+=ge[1];be<$e;++be)ye.write_shift(-4,J.DIFSECT);for($e+=ge[2];be<$e;++be)ye.write_shift(-4,J.FATSECT);Xe(ge[3]),Xe(ge[4]);for(var Be=0,Ve=0,We=ie.FileIndex[0];Be<ie.FileIndex.length;++Be)We=ie.FileIndex[Be],We.content&&(Ve=We.content.length,!(Ve<4096)&&(We.start=$e,Xe(Ve+511>>9)));for(Xe(ge[6]+7>>3);ye.l&511;)ye.write_shift(-4,J.ENDOFCHAIN);for($e=be=0,Be=0;Be<ie.FileIndex.length;++Be)We=ie.FileIndex[Be],We.content&&(Ve=We.content.length,!(!Ve||Ve>=4096)&&(We.start=$e,Xe(Ve+63>>6)));for(;ye.l&511;)ye.write_shift(-4,J.ENDOFCHAIN);for(be=0;be<ge[4]<<2;++be){var lt=ie.FullPaths[be];if(!lt||lt.length===0){for(Be=0;Be<17;++Be)ye.write_shift(4,0);for(Be=0;Be<3;++Be)ye.write_shift(4,-1);for(Be=0;Be<12;++Be)ye.write_shift(4,0);continue}We=ie.FileIndex[be],be===0&&(We.start=We.size?We.start-1:j);var gt=be===0&&me.root||We.name;if(Ve=2*(gt.length+1),ye.write_shift(64,gt,"utf16le"),ye.write_shift(2,Ve),ye.write_shift(1,We.type),ye.write_shift(1,We.color),ye.write_shift(-4,We.L),ye.write_shift(-4,We.R),ye.write_shift(-4,We.C),We.clsid)ye.write_shift(16,We.clsid,"hex");else for(Be=0;Be<4;++Be)ye.write_shift(4,0);ye.write_shift(4,We.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,We.start),ye.write_shift(4,We.size),ye.write_shift(4,0)}for(be=1;be<ie.FileIndex.length;++be)if(We=ie.FileIndex[be],We.size>=4096)if(ye.l=We.start+1<<9,dr&&Buffer.isBuffer(We.content))We.content.copy(ye,ye.l,0,We.size),ye.l+=We.size+511&-512;else{for(Be=0;Be<We.size;++Be)ye.write_shift(1,We.content[Be]);for(;Be&511;++Be)ye.write_shift(1,0)}for(be=1;be<ie.FileIndex.length;++be)if(We=ie.FileIndex[be],We.size>0&&We.size<4096)if(dr&&Buffer.isBuffer(We.content))We.content.copy(ye,ye.l,0,We.size),ye.l+=We.size+63&-64;else{for(Be=0;Be<We.size;++Be)ye.write_shift(1,We.content[Be]);for(;Be&63;++Be)ye.write_shift(1,0)}if(dr)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function E(ie,xe){var me=ie.FullPaths.map(function(Be){return Be.toUpperCase()}),ge=me.map(function(Be){var Ve=Be.split("/");return Ve[Ve.length-(Be.slice(-1)=="/"?2:1)]}),ye=!1;xe.charCodeAt(0)===47?(ye=!0,xe=me[0].slice(0,-1)+xe):ye=xe.indexOf("/")!==-1;var be=xe.toUpperCase(),$e=ye===!0?me.indexOf(be):ge.indexOf(be);if($e!==-1)return ie.FileIndex[$e];var Xe=!be.match(rg);for(be=be.replace(zi,""),Xe&&(be=be.replace(rg,"!")),$e=0;$e<me.length;++$e)if((Xe?me[$e].replace(rg,"!"):me[$e]).replace(zi,"")==be||(Xe?ge[$e].replace(rg,"!"):ge[$e]).replace(zi,"")==be)return ie.FileIndex[$e];return null}var N=64,j=-2,H="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(ie,xe,me){c();var ge=I(ie,me);l.writeFileSync(xe,ge)}function B(ie){for(var xe=new Array(ie.length),me=0;me<ie.length;++me)xe[me]=String.fromCharCode(ie[me]);return xe.join("")}function ne(ie,xe){var me=I(ie,xe);switch(xe&&xe.type||"buffer"){case"file":return c(),l.writeFileSync(xe.filename,me),me;case"binary":return typeof me=="string"?me:B(me);case"base64":return U8(typeof me=="string"?me:B(me));case"buffer":if(dr)return Buffer.isBuffer(me)?me:ad(me);case"array":return typeof me=="string"?Ho(me):me}return me}var ce;function D(ie){try{var xe=ie.InflateRaw,me=new xe;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ce=ie;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function F(ie,xe){if(!ce)return sr(ie,xe);var me=ce.InflateRaw,ge=new me,ye=ge._processChunk(ie.slice(ie.l),ge._finishFlushFlag);return ie.l+=ge.bytesRead,ye}function U(ie){return ce?ce.deflateRawSync(ie):dt(ie)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(ie){var xe=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var Y=typeof Uint8Array<"u",ue=Y?new Uint8Array(256):[],pe=0;pe<256;++pe)ue[pe]=oe(pe);function K(ie,xe){var me=ue[ie&255];return xe<=8?me>>>8-xe:(me=me<<8|ue[ie>>8&255],xe<=16?me>>>16-xe:(me=me<<8|ue[ie>>16&255],me>>>24-xe))}function je(ie,xe){var me=xe&7,ge=xe>>>3;return(ie[ge]|(me<=6?0:ie[ge+1]<<8))>>>me&3}function Oe(ie,xe){var me=xe&7,ge=xe>>>3;return(ie[ge]|(me<=5?0:ie[ge+1]<<8))>>>me&7}function Se(ie,xe){var me=xe&7,ge=xe>>>3;return(ie[ge]|(me<=4?0:ie[ge+1]<<8))>>>me&15}function ae(ie,xe){var me=xe&7,ge=xe>>>3;return(ie[ge]|(me<=3?0:ie[ge+1]<<8))>>>me&31}function Ce(ie,xe){var me=xe&7,ge=xe>>>3;return(ie[ge]|(me<=1?0:ie[ge+1]<<8))>>>me&127}function Ae(ie,xe,me){var ge=xe&7,ye=xe>>>3,be=(1<<me)-1,$e=ie[ye]>>>ge;return me<8-ge||($e|=ie[ye+1]<<8-ge,me<16-ge)||($e|=ie[ye+2]<<16-ge,me<24-ge)||($e|=ie[ye+3]<<24-ge),$e&be}function ke(ie,xe,me){var ge=xe&7,ye=xe>>>3;return ge<=5?ie[ye]|=(me&7)<<ge:(ie[ye]|=me<<ge&255,ie[ye+1]=(me&7)>>8-ge),xe+3}function He(ie,xe,me){var ge=xe&7,ye=xe>>>3;return me=(me&1)<<ge,ie[ye]|=me,xe+1}function Fe(ie,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,ie[ye]|=me&255,me>>>=8,ie[ye+1]=me,xe+8}function Ge(ie,xe,me){var ge=xe&7,ye=xe>>>3;return me<<=ge,ie[ye]|=me&255,me>>>=8,ie[ye+1]=me&255,ie[ye+2]=me>>>8,xe+16}function Ye(ie,xe){var me=ie.length,ge=2*me>xe?2*me:xe+5,ye=0;if(me>=xe)return ie;if(dr){var be=z8(ge);if(ie.copy)ie.copy(be);else for(;ye<ie.length;++ye)be[ye]=ie[ye];return be}else if(Y){var $e=new Uint8Array(ge);if($e.set)$e.set(ie);else for(;ye<me;++ye)$e[ye]=ie[ye];return $e}return ie.length=ge,ie}function et(ie){for(var xe=new Array(ie),me=0;me<ie;++me)xe[me]=0;return xe}function we(ie,xe,me){var ge=1,ye=0,be=0,$e=0,Xe=0,Be=ie.length,Ve=Y?new Uint16Array(32):et(32);for(be=0;be<32;++be)Ve[be]=0;for(be=Be;be<me;++be)ie[be]=0;Be=ie.length;var We=Y?new Uint16Array(Be):et(Be);for(be=0;be<Be;++be)Ve[ye=ie[be]]++,ge<ye&&(ge=ye),We[be]=0;for(Ve[0]=0,be=1;be<=ge;++be)Ve[be+16]=Xe=Xe+Ve[be-1]<<1;for(be=0;be<Be;++be)Xe=ie[be],Xe!=0&&(We[be]=Ve[Xe+16]++);var lt=0;for(be=0;be<Be;++be)if(lt=ie[be],lt!=0)for(Xe=K(We[be],ge)>>ge-lt,$e=(1<<ge+4-lt)-1;$e>=0;--$e)xe[Xe|$e<<lt]=lt&15|be<<4;return ge}var Ie=Y?new Uint16Array(512):et(512),Ke=Y?new Uint16Array(32):et(32);if(!Y){for(var ft=0;ft<512;++ft)Ie[ft]=0;for(ft=0;ft<32;++ft)Ke[ft]=0}(function(){for(var ie=[],xe=0;xe<32;xe++)ie.push(5);we(ie,Ke,32);var me=[];for(xe=0;xe<=143;xe++)me.push(8);for(;xe<=255;xe++)me.push(9);for(;xe<=279;xe++)me.push(7);for(;xe<=287;xe++)me.push(8);we(me,Ie,288)})();var ht=function(){for(var xe=Y?new Uint8Array(32768):[],me=0,ge=0;me<Q.length-1;++me)for(;ge<Q[me+1];++ge)xe[ge]=me;for(;ge<32768;++ge)xe[ge]=29;var ye=Y?new Uint8Array(259):[];for(me=0,ge=0;me<W.length-1;++me)for(;ge<W[me+1];++ge)ye[ge]=me;function be(Xe,Be){for(var Ve=0;Ve<Xe.length;){var We=Math.min(65535,Xe.length-Ve),lt=Ve+We==Xe.length;for(Be.write_shift(1,+lt),Be.write_shift(2,We),Be.write_shift(2,~We&65535);We-- >0;)Be[Be.l++]=Xe[Ve++]}return Be.l}function $e(Xe,Be){for(var Ve=0,We=0,lt=Y?new Uint16Array(32768):[];We<Xe.length;){var gt=Math.min(65535,Xe.length-We);if(gt<10){for(Ve=ke(Be,Ve,+(We+gt==Xe.length)),Ve&7&&(Ve+=8-(Ve&7)),Be.l=Ve/8|0,Be.write_shift(2,gt),Be.write_shift(2,~gt&65535);gt-- >0;)Be[Be.l++]=Xe[We++];Ve=Be.l*8;continue}Ve=ke(Be,Ve,+(We+gt==Xe.length)+2);for(var St=0;gt-- >0;){var pt=Xe[We];St=(St<<5^pt)&32767;var xt=-1,Bt=0;if((xt=lt[St])&&(xt|=We&-32768,xt>We&&(xt-=32768),xt<We))for(;Xe[xt+Bt]==Xe[We+Bt]&&Bt<250;)++Bt;if(Bt>2){pt=ye[Bt],pt<=22?Ve=Fe(Be,Ve,ue[pt+1]>>1)-1:(Fe(Be,Ve,3),Ve+=5,Fe(Be,Ve,ue[pt-23]>>5),Ve+=3);var gr=pt<8?0:pt-4>>2;gr>0&&(Ge(Be,Ve,Bt-W[pt]),Ve+=gr),pt=xe[We-xt],Ve=Fe(Be,Ve,ue[pt]>>3),Ve-=3;var vr=pt<4?0:pt-2>>1;vr>0&&(Ge(Be,Ve,We-xt-Q[pt]),Ve+=vr);for(var Xr=0;Xr<Bt;++Xr)lt[St]=We&32767,St=(St<<5^Xe[We])&32767,++We;gt-=Bt-1}else pt<=143?pt=pt+48:Ve=He(Be,Ve,1),Ve=Fe(Be,Ve,ue[pt]),lt[St]=We&32767,++We}Ve=Fe(Be,Ve,0)-1}return Be.l=(Ve+7)/8|0,Be.l}return function(Be,Ve){return Be.length<8?be(Be,Ve):$e(Be,Ve)}}();function dt(ie){var xe=ga(50+Math.floor(ie.length*1.1)),me=ht(ie,xe);return xe.slice(0,me)}var tt=Y?new Uint16Array(32768):et(32768),jt=Y?new Uint16Array(32768):et(32768),Lt=Y?new Uint16Array(128):et(128),en=1,mr=1;function Kr(ie,xe){var me=ae(ie,xe)+257;xe+=5;var ge=ae(ie,xe)+1;xe+=5;var ye=Se(ie,xe)+4;xe+=4;for(var be=0,$e=Y?new Uint8Array(19):et(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ve=Y?new Uint8Array(8):et(8),We=Y?new Uint8Array(8):et(8),lt=$e.length,gt=0;gt<ye;++gt)$e[G[gt]]=be=Oe(ie,xe),Be<be&&(Be=be),Ve[be]++,xe+=3;var St=0;for(Ve[0]=0,gt=1;gt<=Be;++gt)We[gt]=St=St+Ve[gt-1]<<1;for(gt=0;gt<lt;++gt)(St=$e[gt])!=0&&(Xe[gt]=We[St]++);var pt=0;for(gt=0;gt<lt;++gt)if(pt=$e[gt],pt!=0){St=ue[Xe[gt]]>>8-pt;for(var xt=(1<<7-pt)-1;xt>=0;--xt)Lt[St|xt<<pt]=pt&7|gt<<3}var Bt=[];for(Be=1;Bt.length<me+ge;)switch(St=Lt[Ce(ie,xe)],xe+=St&7,St>>>=3){case 16:for(be=3+je(ie,xe),xe+=2,St=Bt[Bt.length-1];be-- >0;)Bt.push(St);break;case 17:for(be=3+Oe(ie,xe),xe+=3;be-- >0;)Bt.push(0);break;case 18:for(be=11+Ce(ie,xe),xe+=7;be-- >0;)Bt.push(0);break;default:Bt.push(St),Be<St&&(Be=St);break}var gr=Bt.slice(0,me),vr=Bt.slice(me);for(gt=me;gt<286;++gt)gr[gt]=0;for(gt=ge;gt<30;++gt)vr[gt]=0;return en=we(gr,tt,286),mr=we(vr,jt,30),xe}function Gi(ie,xe){if(ie[0]==3&&!(ie[1]&3))return[wf(xe),2];for(var me=0,ge=0,ye=z8(xe||1<<18),be=0,$e=ye.length>>>0,Xe=0,Be=0;!(ge&1);){if(ge=Oe(ie,me),me+=3,ge>>>1)ge>>1==1?(Xe=9,Be=5):(me=Kr(ie,me),Xe=en,Be=mr);else{me&7&&(me+=8-(me&7));var Ve=ie[me>>>3]|ie[(me>>>3)+1]<<8;if(me+=32,Ve>0)for(!xe&&$e<be+Ve&&(ye=Ye(ye,be+Ve),$e=ye.length);Ve-- >0;)ye[be++]=ie[me>>>3],me+=8;continue}for(;;){!xe&&$e<be+32767&&(ye=Ye(ye,be+32767),$e=ye.length);var We=Ae(ie,me,Xe),lt=ge>>>1==1?Ie[We]:tt[We];if(me+=lt&15,lt>>>=4,!(lt>>>8&255))ye[be++]=lt;else{if(lt==256)break;lt-=257;var gt=lt<8?0:lt-4>>2;gt>5&&(gt=0);var St=be+W[lt];gt>0&&(St+=Ae(ie,me,gt),me+=gt),We=Ae(ie,me,Be),lt=ge>>>1==1?Ke[We]:jt[We],me+=lt&15,lt>>>=4;var pt=lt<4?0:lt-2>>1,xt=Q[lt];for(pt>0&&(xt+=Ae(ie,me,pt),me+=pt),!xe&&$e<St&&(ye=Ye(ye,St+100),$e=ye.length);be<St;)ye[be]=ye[be-xt],++be}}}return xe?[ye,me+7>>>3]:[ye.slice(0,be),me+7>>>3]}function sr(ie,xe){var me=ie.slice(ie.l||0),ge=Gi(me,xe);return ie.l+=ge[1],ge[0]}function ds(ie,xe){if(ie)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function Yr(ie,xe){var me=ie;Wa(me,0);var ge=[],ye=[],be={FileIndex:ge,FullPaths:ye};T(be,{root:xe.root});for(var $e=me.length-4;(me[$e]!=80||me[$e+1]!=75||me[$e+2]!=5||me[$e+3]!=6)&&$e>=0;)--$e;me.l=$e+4,me.l+=4;var Xe=me.read_shift(2);me.l+=6;var Be=me.read_shift(4);for(me.l=Be,$e=0;$e<Xe;++$e){me.l+=20;var Ve=me.read_shift(4),We=me.read_shift(4),lt=me.read_shift(2),gt=me.read_shift(2),St=me.read_shift(2);me.l+=8;var pt=me.read_shift(4),xt=o(me.slice(me.l+lt,me.l+lt+gt));me.l+=lt+gt+St;var Bt=me.l;me.l=pt+4,ha(me,Ve,We,be,xt),me.l=Bt}return be}function ha(ie,xe,me,ge,ye){ie.l+=2;var be=ie.read_shift(2),$e=ie.read_shift(2),Xe=s(ie);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Be=ie.read_shift(4),Ve=ie.read_shift(4),We=ie.read_shift(4),lt=ie.read_shift(2),gt=ie.read_shift(2),St="",pt=0;pt<lt;++pt)St+=String.fromCharCode(ie[ie.l++]);if(gt){var xt=o(ie.slice(ie.l,ie.l+gt));(xt[21589]||{}).mt&&(Xe=xt[21589].mt),((ye||{})[21589]||{}).mt&&(Xe=ye[21589].mt)}ie.l+=gt;var Bt=ie.slice(ie.l,ie.l+Ve);switch($e){case 8:Bt=F(ie,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$e)}var gr=!1;be&8&&(Be=ie.read_shift(4),Be==134695760&&(Be=ie.read_shift(4),gr=!0),Ve=ie.read_shift(4),We=ie.read_shift(4)),Ve!=xe&&ds(gr,"Bad compressed size: "+xe+" != "+Ve),We!=me&&ds(gr,"Bad uncompressed size: "+me+" != "+We),ta(ge,St,Bt,{unsafe:!0,mt:Xe})}function Ei(ie,xe){var me=xe||{},ge=[],ye=[],be=ga(1),$e=me.compression?8:0,Xe=0,Be=0,Ve=0,We=0,lt=0,gt=ie.FullPaths[0],St=gt,pt=ie.FileIndex[0],xt=[],Bt=0;for(Be=1;Be<ie.FullPaths.length;++Be)if(St=ie.FullPaths[Be].slice(gt.length),pt=ie.FileIndex[Be],!(!pt.size||!pt.content||St=="Sh33tJ5")){var gr=We,vr=ga(St.length);for(Ve=0;Ve<St.length;++Ve)vr.write_shift(1,St.charCodeAt(Ve)&127);vr=vr.slice(0,vr.l),xt[lt]=Cfe.buf(pt.content,0);var Xr=pt.content;$e==8&&(Xr=U(Xr)),be=ga(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,Xe),be.write_shift(2,$e),pt.mt?i(be,pt.mt):be.write_shift(4,0),be.write_shift(-4,xt[lt]),be.write_shift(4,Xr.length),be.write_shift(4,pt.content.length),be.write_shift(2,vr.length),be.write_shift(2,0),We+=be.length,ge.push(be),We+=vr.length,ge.push(vr),We+=Xr.length,ge.push(Xr),be=ga(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,Xe),be.write_shift(2,$e),be.write_shift(4,0),be.write_shift(-4,xt[lt]),be.write_shift(4,Xr.length),be.write_shift(4,pt.content.length),be.write_shift(2,vr.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,gr),Bt+=be.l,ye.push(be),Bt+=vr.length,ye.push(vr),++lt}return be=ga(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,lt),be.write_shift(2,lt),be.write_shift(4,Bt),be.write_shift(4,We),be.write_shift(2,0),Mu([Mu(ge),Mu(ye),be])}var Ir={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mt(ie,xe){if(ie.ctype)return ie.ctype;var me=ie.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Ir[ge[1]]||xe&&(ge=(me=xe).match(/[\.\\]([^\.\\])+$/),ge&&Ir[ge[1]])?Ir[ge[1]]:"application/octet-stream"}function hr(ie){for(var xe=U8(ie),me=[],ge=0;ge<xe.length;ge+=76)me.push(xe.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function Ki(ie){var xe=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var We=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=xe.split(`\r
`),ye=0;ye<ge.length;++ye){var be=ge[ye];if(be.length==0){me.push("");continue}for(var $e=0;$e<be.length;){var Xe=76,Be=be.slice($e,$e+Xe);Be.charAt(Xe-1)=="="?Xe--:Be.charAt(Xe-2)=="="?Xe-=2:Be.charAt(Xe-3)=="="&&(Xe-=3),Be=be.slice($e,$e+Xe),$e+=Xe,$e<be.length&&(Be+="="),me.push(Be)}}return me.join(`\r
`)}function Dn(ie){for(var xe=[],me=0;me<ie.length;++me){for(var ge=ie[me];me<=ie.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ie[++me];xe.push(ge)}for(var ye=0;ye<xe.length;++ye)xe[ye]=xe[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Ho(xe.join(`\r
`))}function Aa(ie,xe,me){for(var ge="",ye="",be="",$e,Xe=0;Xe<10;++Xe){var Be=xe[Xe];if(!Be||Be.match(/^\s*$/))break;var Ve=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ge=Ve[2].trim();break;case"content-type":be=Ve[2].trim();break;case"content-transfer-encoding":ye=Ve[2].trim();break}}switch(++Xe,ye.toLowerCase()){case"base64":$e=Ho(Ms(xe.slice(Xe).join("")));break;case"quoted-printable":$e=Dn(xe.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var We=ta(ie,ge.slice(me.length),$e,{unsafe:!0});be&&(We.ctype=be)}function ki(ie,xe){if(B(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=xe&&xe.root||"",ge=(dr&&Buffer.isBuffer(ie)?ie.toString("binary"):B(ie)).split(`\r
`),ye=0,be="";for(ye=0;ye<ge.length;++ye)if(be=ge[ye],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),me||(me=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),be.slice(0,me.length)!=me););var $e=(ge[1]||"").match(/boundary="(.*?)"/);if(!$e)throw new Error("MAD cannot find boundary");var Xe="--"+($e[1]||""),Be=[],Ve=[],We={FileIndex:Be,FullPaths:Ve};T(We);var lt,gt=0;for(ye=0;ye<ge.length;++ye){var St=ge[ye];St!==Xe&&St!==Xe+"--"||(gt++&&Aa(We,ge.slice(lt,ye),me),lt=ye)}return We}function kt(ie,xe){var me=xe||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],be=ie.FullPaths[0],$e=be,Xe=ie.FileIndex[0],Be=1;Be<ie.FullPaths.length;++Be)if($e=ie.FullPaths[Be].slice(be.length),Xe=ie.FileIndex[Be],!(!Xe.size||!Xe.content||$e=="Sh33tJ5")){$e=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var Ve=Xe.content,We=dr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):B(Ve),lt=0,gt=Math.min(1024,We.length),St=0,pt=0;pt<=gt;++pt)(St=We.charCodeAt(pt))>=32&&St<128&&++lt;var xt=lt>=gt*4/5;ye.push(ge),ye.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+$e),ye.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),ye.push("Content-Type: "+Mt(Xe,$e)),ye.push(""),ye.push(xt?Ki(We):hr(We))}return ye.push(ge+`--\r
`),ye.join(`\r
`)}function Za(ie){var xe={};return T(xe,ie),xe}function ta(ie,xe,me,ge){var ye=ge&&ge.unsafe;ye||T(ie);var be=!ye&&wr.find(ie,xe);if(!be){var $e=ie.FullPaths[0];xe.slice(0,$e.length)==$e?$e=xe:($e.slice(-1)!="/"&&($e+="/"),$e=($e+xe).replace("//","/")),be={name:a(xe),type:2},ie.FileIndex.push(be),ie.FullPaths.push($e),ye||wr.utils.cfb_gc(ie)}return be.content=me,be.size=me?me.length:0,ge&&(ge.CLSID&&(be.clsid=ge.CLSID),ge.mt&&(be.mt=ge.mt),ge.ct&&(be.ct=ge.ct)),be}function Ln(ie,xe){T(ie);var me=wr.find(ie,xe);if(me){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==me)return ie.FileIndex.splice(ge,1),ie.FullPaths.splice(ge,1),!0}return!1}function En(ie,xe,me){T(ie);var ge=wr.find(ie,xe);if(ge){for(var ye=0;ye<ie.FileIndex.length;++ye)if(ie.FileIndex[ye]==ge)return ie.FileIndex[ye].name=a(me),ie.FullPaths[ye]=me,!0}return!1}function bn(ie){A(ie,!0)}return t.find=E,t.read=C,t.parse=u,t.write=ne,t.writeFile=q,t.utils={cfb_new:Za,cfb_add:ta,cfb_del:Ln,cfb_mov:En,cfb_gc:bn,ReadShift:Eg,CheckField:vz,prep_blob:Wa,bconcat:Mu,use_zlib:D,_deflateRaw:dt,_inflateRaw:sr,consts:J},t}();function Nfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function LP(e){for(var t=[],r=Fl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var ib=new Date(1899,11,30,0,0,0);function qi(e,t){var r=e.getTime(),n=ib.getTime()+(e.getTimezoneOffset()-ib.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var XU=new Date,Ofe=ib.getTime()+(XU.getTimezoneOffset()-ib.getTimezoneOffset())*6e4,Q8=XU.getTimezoneOffset();function o5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Ofe),t.getTimezoneOffset()!==Q8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Q8)*6e4),t}function Ife(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var J8=new Date("2017-02-19T19:06:09.000Z"),QU=isNaN(J8.getFullYear())?new Date("2/19/17"):J8,Dfe=QU.getFullYear()==2017;function La(e,t){var r=new Date(e);if(Dfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(QU.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Wh(e,t){if(dr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ag(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ag(RU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ag(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ag(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ya(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ya(e[r]));return t}function Vn(e,t){for(var r="";r.length<t;)r+=e;return r}function tl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Lfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function np(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Lfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var jfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function JU(e){return e?e.content&&e.type?Wh(e.content,!0):e.data?tg(e.data):e.asNodeBuffer&&dr?tg(e.asNodeBuffer().toString("binary")):e.asBinary?tg(e.asBinary()):e._data&&e._data.getContent?tg(Wh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ZU(e){if(!e)return null;if(e.data)return B8(e.data);if(e.asNodeBuffer&&dr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?B8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Mfe(e){return e&&e.name.slice(-4)===".bin"?ZU(e):JU(e)}function ro(e,t){for(var r=e.FullPaths||Fl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function jP(e,t){var r=ro(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function sa(e,t,r){if(!r)return Mfe(jP(e,t));if(!t)return null;try{return sa(e,t)}catch{return null}}function ks(e,t,r){if(!r)return JU(jP(e,t));if(!t)return null;try{return ks(e,t)}catch{return null}}function Rfe(e,t,r){return ZU(jP(e,t))}function Z8(e){for(var t=e.FullPaths||Fl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Ffe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return dr?n=ad(r):n=nfe(r),wr.utils.cfb_add(e,t,n)}wr.utils.cfb_add(e,t,r)}else e.file(t,r)}function ez(e,t){switch(t.type){case"base64":return wr.read(e,{type:"base64"});case"binary":return wr.read(e,{type:"binary"});case"buffer":case"array":return wr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ng(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var tz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,$fe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,eD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Bfe=/<[^>]*>/g,Ti=tz.match(eD)?eD:Bfe,Vfe=/<\w*:/,Ufe=/<(\/?)\w+:/;function Gt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match($fe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Bl(e){return e.replace(Ufe,"<$1")}var rz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zfe=LP(rz),Er=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return rz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),qfe=/[&<>'"]/g,Wfe=/[\u0000-\u001f]/g;function MP(e){var t=e+"";return t.replace(qfe,function(r){return zfe[r]}).replace(/\n/g,"<br/>").replace(Wfe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var tD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function wn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function wS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function rD(e){var t=wf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function nD(e){return ad(e,"binary").toString("utf8")}var tx="foo bar baz",fn=dr&&(nD(tx)==wS(tx)&&nD||rD(tx)==wS(tx)&&rD)||wS,ag=dr?function(e){return ad(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},C1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),nz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Hfe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Gfe=/<\/?(?:vt:)?variant>/g,Kfe=/<(?:vt:)([^>]*)>([\s\S]*)</;function aD(e,t){var r=Gt(e),n=e.match(Hfe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Gfe,"").match(Kfe);s&&a.push({v:fn(s[2]),t:s[1]})}),a}var Yfe=/(^\s|\s$|\n)/;function Xfe(e){return Fl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Qfe(e,t,r){return"<"+e+(r!=null?Xfe(r):"")+(t!=null?(t.match(Yfe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function RP(e){if(dr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return fn(id(OP(e)));throw new Error("Bad input format: expected Buffer or string")}var N1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Jfe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zfe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ehe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function the(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var iD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},sD=dr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ad(t)})):iD(e)}:iD,oD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(fc(e,a)));return n.join("").replace(zi,"")},FP=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(zi,""):oD(e,t,r)}:oD,lD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},az=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):lD(e,t,r)}:lD,cD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Kd(e,a)));return n.join("")},$v=dr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):cD(t,r,n)}:cD,iz=function(e,t){var r=Es(e,t);return r>0?$v(e,t+4,t+4+r-1):""},sz=iz,oz=function(e,t){var r=Es(e,t);return r>0?$v(e,t+4,t+4+r-1):""},lz=oz,cz=function(e,t){var r=2*Es(e,t);return r>0?$v(e,t+4,t+4+r-1):""},uz=cz,fz=function(t,r){var n=Es(t,r);return n>0?FP(t,r+4,r+4+n):""},hz=fz,dz=function(e,t){var r=Es(e,t);return r>0?$v(e,t+4,t+4+r):""},pz=dz,mz=function(e,t){return ehe(e,t)},sb=mz,gz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};dr&&(sz=function(t,r){if(!Buffer.isBuffer(t))return iz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},lz=function(t,r){if(!Buffer.isBuffer(t))return oz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},uz=function(t,r){if(!Buffer.isBuffer(t))return cz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},hz=function(t,r){if(!Buffer.isBuffer(t))return fz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},pz=function(t,r){if(!Buffer.isBuffer(t))return dz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},sb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):mz(t,r)},gz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Kd=function(e,t){return e[t]},fc=function(e,t){return e[t+1]*256+e[t]},rhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Es=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ph=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},nhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Eg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(fc(this,c)),c+=2;e*=2;break;case"utf8":r=$v(this,this.l,this.l+e);break;case"utf16le":e*=2,r=FP(this,this.l,this.l+e);break;case"wstr":return Eg.call(this,e,"dbcs");case"lpstr-ansi":r=sz(this,this.l),e=4+Es(this,this.l);break;case"lpstr-cp":r=lz(this,this.l),e=4+Es(this,this.l);break;case"lpwstr":r=uz(this,this.l),e=4+2*Es(this,this.l);break;case"lpp4":e=4+Es(this,this.l),r=hz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Es(this,this.l),r=pz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Kd(this,this.l+e++))!==0;)i.push(ex(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=fc(this,this.l+e))!==0;)i.push(ex(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Eg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ex(fc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Eg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ex(Kd(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Kd(this,this.l),this.l++,n;case 2:return n=(t==="i"?rhe:fc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ph:nhe)(this,this.l),this.l+=4,n):(a=Es(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=sb(this,this.l):a=sb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=az(this,this.l,e);break}}return this.l+=e,r}var ahe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ihe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},she=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ohe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)she(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ahe(this,t,this.l);break;case 8:if(n=8,r==="f"){the(this,t,this.l);break}case 16:break;case-4:n=4,ihe(this,t,this.l);break}return this.l+=n,this}function vz(e,t){var r=az(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Wa(e,t){e.l=t,e.read_shift=Eg,e.chk=vz,e.write_shift=ohe}function Si(e,t){e.l+=t}function ga(e){var t=wf(e);return Wa(t,0),t}function Wc(e,t,r){if(e){var n,a,i;Wa(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=hb[o]||hb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function uT(){var e=[],t=dr?256:2048,r=function(c){var u=ga(c);return Wa(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Mu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function kg(e,t,r){var n=Ya(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function uD(e,t,r){var n=Ya(e);return n.s=kg(n.s,t.s,r),n.e=kg(n.e,t.s,r),n}function Pg(e,t){if(e.cRel&&e.c<0)for(e=Ya(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ya(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=er(e);return!e.cRel&&e.cRel!=null&&(r=uhe(r)),!e.rRel&&e.rRel!=null&&(r=lhe(r)),r}function _S(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+xa(e.s.c)+":"+(e.e.cRel?"":"$")+xa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xa(e.s.r)+":"+(e.e.rRel?"":"$")+Xa(e.e.r):Pg(e.s,t.biff)+":"+Pg(e.e,t.biff)}function $P(e){return parseInt(che(e),10)-1}function Xa(e){return""+(e+1)}function lhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function che(e){return e.replace(/\$(\d+)$/,"$1")}function BP(e){for(var t=fhe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function xa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function uhe(e){return e.replace(/^([A-Z])/,"$$$1")}function fhe(e){return e.replace(/^\$([A-Z])/,"$1")}function hhe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Fi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function er(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qp(e){var t=e.indexOf(":");return t==-1?{s:Fi(e),e:Fi(e)}:{s:Fi(e.slice(0,t)),e:Fi(e.slice(t+1))}}function _r(e,t){return typeof t>"u"||typeof t=="number"?_r(e.s,e.e):(typeof e!="string"&&(e=er(e)),typeof t!="string"&&(t=er(t)),e==t?e:e+":"+t)}function qn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function fD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=go(e.z,r?qi(t):t)}catch{}try{return e.w=go((e.XF||{}).numFmtId||(r?14:0),r?qi(t):t)}catch{return""+t}}function jc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ld[e.v]||e.v:t==null?fD(e,e.v):fD(e,t))}function Df(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function yz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Fi(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=qn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},m=s+f,p=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>p&&(c.s.c=p),c.e.r<m&&(c.e.r=m),c.e.c<p&&(c.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||rr[14],n.cellDates?(d.t="d",d.w=go(d.z,qi(d.v))):(d.t="n",d.v=qi(d.v),d.w=go(d.z,d.v))):d.t="s";if(a)i[m]||(i[m]=[]),i[m][p]&&i[m][p].z&&(d.z=i[m][p].z),i[m][p]=d;else{var v=er({c:p,r:m});i[v]&&i[v].z&&(d.z=i[v].z),i[v]=d}}}return c.s.c<1e7&&(i["!ref"]=_r(c)),i}function Wp(e,t){return yz(null,e,t)}function dhe(e){return e.read_shift(4,"i")}function wi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function phe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function VP(e,t){var r=e.l,n=e.read_shift(1),a=wi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(phe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var mhe=VP;function yo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var ghe=wi;function UP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var vhe=wi,fT=UP;function zP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?sb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ph(t,0)>>2;return r?a/100:a}function xz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var od=xz;function yi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function yhe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Ih[a];c&&(t.rgb=I1(c));break;case 2:t.rgb=I1([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function xhe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function bz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function bhe(e){return bz(e,1)}function whe(e){return bz(e,2)}var qP=2,ts=3,rx=11,hD=12,ob=19,nx=64,_he=65,She=71,Ahe=4108,The=4126,Pa=80,wz=81,Ehe=[Pa,wz],khe={1:{n:"CodePage",t:qP},2:{n:"Category",t:Pa},3:{n:"PresentationFormat",t:Pa},4:{n:"ByteCount",t:ts},5:{n:"LineCount",t:ts},6:{n:"ParagraphCount",t:ts},7:{n:"SlideCount",t:ts},8:{n:"NoteCount",t:ts},9:{n:"HiddenCount",t:ts},10:{n:"MultimediaClipCount",t:ts},11:{n:"ScaleCrop",t:rx},12:{n:"HeadingPairs",t:Ahe},13:{n:"TitlesOfParts",t:The},14:{n:"Manager",t:Pa},15:{n:"Company",t:Pa},16:{n:"LinksUpToDate",t:rx},17:{n:"CharacterCount",t:ts},19:{n:"SharedDoc",t:rx},22:{n:"HyperlinksChanged",t:rx},23:{n:"AppVersion",t:ts,p:"version"},24:{n:"DigSig",t:_he},26:{n:"ContentType",t:Pa},27:{n:"ContentStatus",t:Pa},28:{n:"Language",t:Pa},29:{n:"Version",t:Pa},255:{},2147483648:{n:"Locale",t:ob},2147483651:{n:"Behavior",t:ob},1919054434:{}},Phe={1:{n:"CodePage",t:qP},2:{n:"Title",t:Pa},3:{n:"Subject",t:Pa},4:{n:"Author",t:Pa},5:{n:"Keywords",t:Pa},6:{n:"Comments",t:Pa},7:{n:"Template",t:Pa},8:{n:"LastAuthor",t:Pa},9:{n:"RevNumber",t:Pa},10:{n:"EditTime",t:nx},11:{n:"LastPrinted",t:nx},12:{n:"CreatedDate",t:nx},13:{n:"ModifiedDate",t:nx},14:{n:"PageCount",t:ts},15:{n:"WordCount",t:ts},16:{n:"CharCount",t:ts},17:{n:"Thumbnail",t:She},18:{n:"Application",t:Pa},19:{n:"DocSecurity",t:ts},255:{},2147483648:{n:"Locale",t:ob},2147483651:{n:"Behavior",t:ob},1919054434:{}},dD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Che=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Nhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ohe=Nhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ih=Ya(Ohe),ld={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_z={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},pD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Ihe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Dhe(e){var t=Ihe();if(!e||!e.match)return t;var r={};if((e.match(Ti)||[]).forEach(function(n){var a=Gt(n);switch(a[0].replace(Vfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[pD[a.ContentType]]!==void 0&&t[pD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Jfe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var p0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ti)||[]).forEach(function(a){var i=Gt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ng(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Lhe="application/vnd.oasis.opendocument.spreadsheet";function jhe(e,t){for(var r=RP(e),n,a;n=N1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Gt(n[0],!1),a.path=="/"&&a.type!==Lhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ng=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Mhe=function(){for(var e=new Array(Ng.length),t=0;t<Ng.length;++t){var r=Ng[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Sz(e){var t={};e=fn(e);for(var r=0;r<Ng.length;++r){var n=Ng[r],a=e.match(Mhe[r]);a!=null&&a.length>0&&(t[n[1]]=Er(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=La(t[n[1]]))}return t}var Rhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Az(e,t,r,n){var a=[];if(typeof e=="string")a=aD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?aD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Fhe(e,t,r){var n={};return t||(t={}),e=fn(e),Rhe.forEach(function(a){var i=(e.match(C1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Er(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Az(n.HeadingPairs,n.TitlesOfParts,t,r),t}var $he=/<[^>]+>[^<]*/g;function Bhe(e,t){var r={},n="",a=e.match($he);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Gt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Er(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Er(u);break;case"bool":r[n]=wn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=La(u);break;case"cy":case"error":r[n]=Er(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Vhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},SS;function Uhe(e,t,r){SS||(SS=LP(Vhe)),t=SS[t]||t,e[t]=r}function WP(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Tz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Ez(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function kz(e,t,r){return t===31?Ez(e):Tz(e,t,r)}function dT(e,t,r){return kz(e,t,r===!1?0:4)}function zhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return kz(e,t,0)}function qhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(zi,""),e.l-a&2&&(e.l+=2)}return r}function Whe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(zi,"");return r}function Hhe(e){var t=e.l,r=lb(e,wz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=lb(e,ts);return[r,n]}function Ghe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Hhe(e));return r}function mD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(zi,"").replace(rg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Pz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Khe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function lb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==hD&&n!==t&&Ehe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===hD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Tz(e,n,4).replace(zi,"");case 31:return Ez(e);case 64:return WP(e);case 65:return Pz(e);case 71:return Khe(e);case 80:return dT(e,n,!i.raw).replace(zi,"");case 81:return zhe(e,n).replace(zi,"");case 4108:return Ghe(e);case 4126:case 4127:return n==4127?qhe(e):Whe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function gD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(_,w){return _[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=lb(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ko(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(o=h.CodePage=lb(e,qP),Ko(o),l!==-1){var p=e.l;e.l=i[l][1],c=mD(e,o),e.l=p}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=mD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Pz(e);break;case 30:e.l+=4,y=dT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=dT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Gn(e,4);break;case 64:e.l+=4,y=La(WP(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function vD(e,t,r){var n=e.content;if(!n)return{};Wa(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==wr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=gD(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=gD(n,null)}catch{}for(d in m)h[d]=m[d];return h.FMTID=[i,s],h}function Au(e,t){return e.read_shift(t),null}function Yhe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Gn(e,t){return e.read_shift(t)===1}function oa(e){return e.read_shift(2,"u")}function Cz(e,t){return Yhe(e,t,oa)}function Xhe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Bv(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Qhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Hh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Vv(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Hh(e,n,r)}function cd(e,t,r){if(r.biff>5)return Vv(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Jhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Zhe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(zi,"");return n&&(e.l+=24),a}function ede(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(zi,"");return r+s}function tde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Zhe(e);case"0303000000000000c000000000000046":return ede(e);default:throw new Error("Unsupported Moniker "+r)}}function ax(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(zi,""):"";return r}function rde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=ax(e,r-e.l)),a&128&&(s=ax(e,r-e.l)),(a&257)===257&&(o=ax(e,r-e.l)),(a&257)===1&&(l=tde(e,r-e.l)),a&8&&(c=ax(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=WP(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Nz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Oz(e,t){var r=Nz(e);return r[3]=0,r}function Vl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function nde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function ade(e,t,r){return t===0?"":cd(e,t,r)}function ide(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Iz(e){var t=e.read_shift(2),r=zP(e);return[t,r]}function sde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Bv(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function l5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Dz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ode=Dz;function Lz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function lde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function cde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ai(e){e.l+=2,e.l+=e.read_shift(2)}var ude={0:ai,4:ai,5:ai,6:ai,7:cde,8:ai,9:ai,10:ai,11:ai,12:ai,13:lde,14:ai,15:ai,16:ai,17:ai,18:ai,19:ai,20:ai,21:Lz};function fde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(ude[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ix(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function hde(e,t){return t===0||e.read_shift(2),1200}function dde(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=cd(e,0,r);return e.read_shift(t+n-e.l),a}function pde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function mde(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Bv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function gde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Qhe(e));return i.Count=n,i.Unique=a,i}function vde(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function yde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function xde(e){var t=nde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function bde(e){return e.read_shift(2),e.read_shift(4)}function yD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function wde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function _de(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Sde(){}function Ade(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Bv(e,0,r),n}function Tde(e){var t=Vl(e);return t.isst=e.read_shift(4),t}function Ede(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Vl(e);r.biff==2&&e.l++;var i=Vv(e,n-e.l,r);return a.val=i,a}function kde(e,t,r){var n=e.read_shift(2),a=cd(e,0,r);return[n,a]}var Pde=cd;function xD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Cde(e){var t=e.read_shift(2),r=e.read_shift(2),n=Iz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Nde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Iz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Ode(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Ide(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Che[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Dde(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Ide(e,t,n.fStyle,r),n}function Lde(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function bD(e,t,r){var n=Vl(e);(r.biff==2||t==9)&&++e.l;var a=Xhe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function jde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vl(e),a=yi(e);return n.val=a,n}var wD=ade;function Mde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Hh(e,i),o=[];n>e.l;)o.push(Vv(e));return[i,a,s,o]}function _D(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=sde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Rde=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function SD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Hh(e,s,r);a&32&&(c=Rde[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:yge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function jz(e,t,r){if(r.biff<8)return Fde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ide(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Fde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Bv(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function $de(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Hh(e,n,r),s=Hh(e,a,r);return[i,s]}function Bde(e,t,r){var n=Dz(e);e.l++;var a=e.read_shift(1);return t-=8,[xge(e,t,r),a,n]}function AD(e,t,r){var n=ode(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,gge(e,t,r)]}function Vde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Ude(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=cd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function zde(e,t,r){return Ude(e,t,r)}function qde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(l5(e));return r}function Wde(e,t,r){if(r&&r.biff<8)return Gde(e,t,r);var n=Lz(e),a=fde(e,t-22,n[1]);return{cmo:n,ft:a}}var Hde={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Gde(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Hde[n]||Si)(e,t,r)),{cmo:[a,n,i],ft:s}}function Kde(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Jhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Hh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Yde(e,t){var r=l5(e);e.l+=16;var n=rde(e,t-24);return[r,n]}function Xde(e,t){e.read_shift(2);var r=l5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(zi,""),[r,n]}function Qde(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=dD[r]||r,r=e.read_shift(2),t[1]=dD[r]||r,t}function Jde(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oz(e));return r}function Zde(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oz(e));return r}function e0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Mz(e,t,r){if(!r.cellStyles)return Si(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function t0e(e,t){var r={};return t<32||(e.l+=16,r.header=yi(e),r.footer=yi(e),e.l+=2),r}function r0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var n0e=Vl,a0e=Cz,i0e=Vv;function s0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function o0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vl(e);++e.l;var a=cd(e,t-7,r);return n.t="str",n.val=a,n}function l0e(e){var t=Vl(e);++e.l;var r=yi(e);return t.t="n",t.val=r,t}function c0e(e){var t=Vl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function u0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function f0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function h0e(e,t,r){var n=e.l+t,a=Vl(e),i=e.read_shift(2),s=Hh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var d0e=[2,3,48,49,131,139,140,245],TD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=LP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=wf(1);switch(l.type){case"base64":u=Ho(Ms(o));break;case"binary":u=Ho(o);break;case"buffer":case"array":u=o;break}Wa(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),_=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(_=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var w=[],O={},k=Math.min(u.length,f==2?521:v-10-(d?264:0)),C=m?32:11;u.l<k&&u[u.l]!=13;)switch(O={},O.name=ju.utils.decode(_,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,O.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),f==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&w.push(O),f!=2&&(u.l+=m?13:14),O.type){case"B":(!d||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=w.length;++S)c[0][S]=w[S].name;for(;p-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=w.length;++S){var A=u.slice(u.l,u.l+w[S].len);u.l+=w[S].len,Wa(A,0);var I=ju.utils.decode(_,A);switch(w[S].type){case"C":I.trim().length&&(c[T][S]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[T][S]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[T][S]=I;break;case"F":c[T][S]=parseFloat(I.trim());break;case"+":case"I":c[T][S]=m?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][S]="##MEMO##"+(m?parseInt(I.trim(),10):A.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[T][S]=+I||0);break;case"@":c[T][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[T][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-A.read_shift(-8,"f");break;case"B":if(d&&w[S].len==8){c[T][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Wp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Df(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Ko(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=uT(),f=bT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),m=o["!cols"]||[],p=0,v=0,y=0,_=1;for(p=0;p<h.length;++p){if(((m[p]||{}).DBF||{}).name){h[p]=m[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var w=qn(o["!ref"]),O=[],k=[],C=[];for(p=0;p<=w.e.c-w.s.c;++p){var T="",S="",A=0,I=[];for(v=0;v<d.length;++v)d[v][p]!=null&&I.push(d[v][p]);if(I.length==0||h[p]==null){O[p]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=I[v]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(I[v]).length),T=T&&T!=S?"C":S}A>250&&(A=250),S=((m[p]||{}).DBF||{}).type,S=="C"&&m[p].DBF.len>A&&(A=m[p].DBF.len),T=="B"&&S=="N"&&(T="N",C[p]=m[p].DBF.dec,A=m[p].DBF.len),k[p]=T=="C"||S=="N"?A:i[T]||0,_+=k[p],O[p]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,d.length),E.write_shift(2,296+32*y),E.write_shift(2,_),p=0;p<4;++p)E.write_shift(4,0);for(E.write_shift(4,0|(+t[jU]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var N=u.next(32),j=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,j,"sbcs"),N.write_shift(1,O[p]=="?"?"C":O[p],"sbcs"),N.write_shift(4,v),N.write_shift(1,k[p]||i[O[p]]||0),N.write_shift(1,C[p]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=k[p]||i[O[p]]||0}var H=u.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<d.length;++p){var X=u.next(_);for(X.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":X.write_shift(1,d[p][v]==null?63:d[p][v]?84:70);break;case"B":X.write_shift(8,d[p][v]||0,"f");break;case"N":var re="0";for(typeof d[p][v]=="number"&&(re=d[p][v].toFixed(C[v]||0)),y=0;y<k[v]-re.length;++y)X.write_shift(1,32);X.write_shift(1,re,"sbcs");break;case"D":d[p][v]?(X.write_shift(4,("0000"+d[p][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(d[p][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+d[p][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var J=String(d[p][v]!=null?d[p][v]:"").slice(0,k[v]);for(X.write_shift(1,J,"sbcs"),y=0;y<k[v]-J.length;++y)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),p0e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var m=e[d];return typeof m=="number"?V8(m):m},n=function(h,d,m){var p=d.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return p==59?h:V8(p)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i(Ms(h),d);case"binary":return i(h,d);case"buffer":return i(dr&&Buffer.isBuffer(h)?h.toString("binary"):id(h),d);case"array":return i(Wh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var m=h.split(/[\n\r]+/),p=-1,v=-1,y=0,_=0,w=[],O=[],k=null,C={},T=[],S=[],A=[],I=0,E;for(+d.codepage>=0&&Ko(+d.codepage);y!==m.length;++y){I=0;var N=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=N.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),H=j[0],X;if(N.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&O.push(N.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,J=!1,q=!1,B=!1,ne=-1,ce=-1;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"A":break;case"X":v=parseInt(j[_].slice(1))-1,J=!0;break;case"Y":for(p=parseInt(j[_].slice(1))-1,J||(v=0),E=w.length;E<=p;++E)w[E]=[];break;case"K":X=j[_].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(tl(X))?isNaN(np(X).getDate())||(X=La(X)):(X=tl(X),k!==null&&zp(k)&&(X=o5(X))),re=!0;break;case"E":B=!0;var D=P0(j[_].slice(1),{r:p,c:v});w[p][v]=[w[p][v],D];break;case"S":q=!0,w[p][v]=[w[p][v],"S5S"];break;case"G":break;case"R":ne=parseInt(j[_].slice(1))-1;break;case"C":ce=parseInt(j[_].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}if(re&&(w[p][v]&&w[p][v].length==2?w[p][v][0]=X:w[p][v]=X,k=null),q){if(B)throw new Error("SYLK shared formula cannot have own formula");var F=ne>-1&&w[ne][ce];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");w[p][v][1]=Hz(F[1],{r:p-ne,c:v-ce})}break;case"F":var U=0;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"X":v=parseInt(j[_].slice(1))-1,++U;break;case"Y":for(p=parseInt(j[_].slice(1))-1,E=w.length;E<=p;++E)w[E]=[];break;case"M":I=parseInt(j[_].slice(1))/20;break;case"F":break;case"G":break;case"P":k=O[parseInt(j[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=j[_].slice(1).split(" "),E=parseInt(A[0],10);E<=parseInt(A[1],10);++E)I=parseInt(A[2],10),S[E-1]=I===0?{hidden:!0}:{wch:I},ap(S[E-1]);break;case"C":v=parseInt(j[_].slice(1))-1,S[v]||(S[v]={});break;case"R":p=parseInt(j[_].slice(1))-1,T[p]||(T[p]={}),I>0?(T[p].hpt=I,T[p].hpx=D1(I)):I===0&&(T[p].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}U<1&&(k=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(C["!rows"]=T),S.length>0&&(C["!cols"]=S),d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),[w,C]}function s(h,d){var m=a(h,d),p=m[0],v=m[1],y=Wp(p,d);return Fl(v).forEach(function(_){y[_]=v[_]}),y}function o(h,d){return Df(s(h,d),d)}function l(h,d,m,p){var v="C;Y"+(m+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+eme(h.f,{r:m,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,d){d.forEach(function(m,p){var v="F;W"+(p+1)+" "+(p+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=ub(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=fb(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,d){d.forEach(function(m,p){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*zz(m.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,d){var m=["ID;PWXL;N;E"],p=[],v=qn(h["!ref"]),y,_=Array.isArray(h),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var k=v.s.c;k<=v.e.c;++k){var C=er({r:O,c:k});y=_?(h[O]||[])[k]:h[C],!(!y||y.v==null&&(!y.f||y.F))&&p.push(l(y,h,O,k))}return m.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),m0e=function(){function e(i,s){switch(s.type){case"base64":return t(Ms(i),s);case"binary":return t(i,s);case"buffer":return t(dr&&Buffer.isBuffer(i)?i.toString("binary"):id(i),s);case"array":return t(Wh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],m=h[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+d){case-1:if(p==="BOT"){f[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][c]=!0:p==="FALSE"?f[l][c]=!1:isNaN(tl(m))?isNaN(np(m).getDate())?f[l][c]=m:f[l][c]=La(m):f[l][c]=tl(m),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Wp(e(i,s),s)}function n(i,s){return Df(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=qn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var p=er({r:d,c:m});if(f=h?(l[d]||[])[m]:l[p],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=go(f.z||rr[14],qi(La(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,_=c.join(y);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),g0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),m=-1,p=-1,v=0,y=[];v!==d.length;++v){var _=d[v].trim().split(":");if(_[0]==="cell"){var w=Fi(_[1]);if(y.length<=w.r)for(m=y.length;m<=w.r;++m)y[m]||(y[m]=[]);switch(m=w.r,p=w.c,_[2]){case"t":y[m][p]=e(_[3]);break;case"v":y[m][p]=+_[3];break;case"vtf":var O=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[m][p]=!!+_[4];break;default:y[m][p]=+_[4];break}_[2]=="vtf"&&(y[m][p]=[y[m][p],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Wp(r(f,h),h)}function a(f,h){return Df(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],m,p="",v=qp(f["!ref"]),y=Array.isArray(f),_=v.s.r;_<=v.e.r;++_)for(var w=v.s.c;w<=v.e.c;++w)if(p=er({r:_,c:w}),m=y?(f[_]||[])[w]:f[p],!(!m||m.v==null||m.t==="z")){switch(d=["cell",p,"t"],m.t){case"s":case"str":d.push(t(m.v));break;case"n":m.f?(d[2]="vtf",d[3]="n",d[4]=m.v,d[5]=t(m.f)):(d[2]="v",d[3]=m.v);break;case"b":d[2]="vt"+(m.f?"f":"c"),d[3]="nl",d[4]=m.v?"1":"0",d[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var O=qi(La(m.v));d[2]="vtc",d[3]="nd",d[4]=""+O,d[5]=m.w||go(m.z||rr[14],O);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),O1=function(){function e(u,f,h,d,m){m.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(tl(u))?isNaN(np(u).getDate())?f[h][d]=u:f[h][d]=La(u):f[h][d]=tl(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var m=u.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var v=10,y=0,_=0;_<=p;++_)y=m[_].indexOf(" "),y==-1?y=m[_].length:y++,v=Math.max(v,y);for(_=0;_<=p;++_){d[_]=[];var w=0;for(e(m[_].slice(0,v).trim(),d,_,w,h),w=1;w<=(m[_].length-v)/10+1;++w)e(m[_].slice(v+(w-1)*10,v+w*10).trim(),d,_,w,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,m=0;d<u.length;++d)(m=u.charCodeAt(d))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&m.push([f[d],d]);if(!m.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&m.push([f[d],d])}return m.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[m.pop()[1]]||44}function i(u,f){var h=f||{},d="",m=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var v=0,y=0,_=0,w=0,O=0,k=d.charCodeAt(0),C=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?kfe(h.dateNF):null;function I(){var E=u.slice(w,O),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):rme(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(_=tl(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=_;else if(!isNaN(np(E).getDate())||A&&E.match(A)){N.z=h.dateNF||rr[14];var j=0;A&&E.match(A)&&(E=Pfe(E,h.dateNF,E.match(A)||[]),j=1),h.cellDates?(N.t="d",N.v=La(E,j)):(N.t="n",N.v=qi(La(E,j))),h.cellText!==!1&&(N.w=go(N.z,N.v instanceof Date?qi(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(m[v]||(m[v]=[]),m[v][y]=N):m[er({c:y,r:v})]=N),w=O+1,S=u.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),T==k)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(T=u.charCodeAt(O)){case 34:S===34&&(C=!C);break;case k:case 10:case 13:if(!C&&I())break e;break}return O-w>0&&I(),m["!ref"]=_r(p),m}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Wp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:ZP(u,f);switch(f.type){case"base64":h=Ms(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof ju<"u"?h=ju.utils.decode(f.codepage,u):h=dr&&Buffer.isBuffer(u)?u.toString("binary"):id(u);break;case"array":h=Wh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=fn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=fn(h):f.type=="binary"&&typeof ju<"u"&&f.codepage&&(h=ju.utils.decode(f.codepage,ju.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?g0e.to_sheet(f.type=="string"?h:fn(h),f):s(h,f)}function l(u,f){return Df(o(u,f),f)}function c(u){for(var f=[],h=qn(u["!ref"]),d,m=Array.isArray(u),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var _=er({r:p,c:y});if(d=m?(u[p]||[])[y]:u[_],!d||d.v==null){v.push("          ");continue}for(var w=(d.w||(jc(d),d.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function v0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=p0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return O1.to_workbook(e,t)}}var Og=function(){function e(D,F,U){if(D){Wa(D,D.l||0);for(var G=U.Enum||ne;D.l<D.length;){var W=D.read_shift(2),Q=G[W]||G[65535],oe=D.read_shift(2),Y=D.l+oe,ue=Q.f&&Q.f(D,oe,U);if(D.l=Y,F(ue,Q,W))return}}}function t(D,F){switch(F.type){case"base64":return r(Ho(Ms(D)),F);case"binary":return r(Ho(D),F);case"buffer":case"array":return r(D,F)}throw"Unsupported type "+F.type}function r(D,F){if(!D)return D;var U=F||{},G=U.dense?[]:{},W="Sheet1",Q="",oe=0,Y={},ue=[],pe=[],K={s:{r:0,c:0},e:{r:0,c:0}},je=U.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)U.Enum=ne,e(D,function(Ce,Ae,ke){switch(ke){case 0:U.vers=Ce,Ce>=4096&&(U.qpro=!0);break;case 6:K=Ce;break;case 204:Ce&&(Q=Ce);break;case 222:Q=Ce;break;case 15:case 51:U.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:ke==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=U.dateNF||rr[14],U.cellDates&&(Ce[1].t="d",Ce[1].v=o5(Ce[1].v))),U.qpro&&Ce[3]>oe&&(G["!ref"]=_r(K),Y[W]=G,ue.push(W),G=U.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},oe=Ce[3],W=Q||"Sheet"+(oe+1),Q="");var He=U.dense?(G[Ce[0].r]||[])[Ce[0].c]:G[er(Ce[0])];if(He){He.t=Ce[1].t,He.v=Ce[1].v,Ce[1].z!=null&&(He.z=Ce[1].z),Ce[1].f!=null&&(He.f=Ce[1].f);break}U.dense?(G[Ce[0].r]||(G[Ce[0].r]=[]),G[Ce[0].r][Ce[0].c]=Ce[1]):G[er(Ce[0])]=Ce[1];break}},U);else if(D[2]==26||D[2]==14)U.Enum=ce,D[2]==14&&(U.qpro=!0,D.l=0),e(D,function(Ce,Ae,ke){switch(ke){case 204:W=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>oe&&(G["!ref"]=_r(K),Y[W]=G,ue.push(W),G=U.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},oe=Ce[3],W="Sheet"+(oe+1)),je>0&&Ce[0].r>=je)break;U.dense?(G[Ce[0].r]||(G[Ce[0].r]=[]),G[Ce[0].r][Ce[0].c]=Ce[1]):G[er(Ce[0])]=Ce[1],K.e.c<Ce[0].c&&(K.e.c=Ce[0].c),K.e.r<Ce[0].r&&(K.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(pe[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:pe[Ce[0]]=Ce[1],Ce[0]==oe&&(W=Ce[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(G["!ref"]=_r(K),Y[Q||W]=G,ue.push(Q||W),!pe.length)return{SheetNames:ue,Sheets:Y};for(var Oe={},Se=[],ae=0;ae<pe.length;++ae)Y[ue[ae]]?(Se.push(pe[ae]||ue[ae]),Oe[pe[ae]]=Y[pe[ae]]||Y[ue[ae]]):(Se.push(pe[ae]),Oe[pe[ae]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Oe}}function n(D,F){var U=F||{};if(+U.codepage>=0&&Ko(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var G=uT(),W=qn(D["!ref"]),Q=Array.isArray(D),oe=[];Do(G,0,i(1030)),Do(G,6,l(W));for(var Y=Math.min(W.e.r,8191),ue=W.s.r;ue<=Y;++ue)for(var pe=Xa(ue),K=W.s.c;K<=W.e.c;++K){ue===W.s.r&&(oe[K]=xa(K));var je=oe[K]+pe,Oe=Q?(D[ue]||[])[K]:D[je];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?Do(G,13,d(ue,K,Oe.v)):Do(G,14,p(ue,K,Oe.v));else{var Se=jc(Oe);Do(G,15,f(ue,K,Se.slice(0,239)))}}return Do(G,1),G.end()}function a(D,F){var U=F||{};if(+U.codepage>=0&&Ko(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var G=uT();Do(G,0,s(D));for(var W=0,Q=0;W<D.SheetNames.length;++W)(D.Sheets[D.SheetNames[W]]||{})["!ref"]&&Do(G,27,B(D.SheetNames[W],Q++));var oe=0;for(W=0;W<D.SheetNames.length;++W){var Y=D.Sheets[D.SheetNames[W]];if(!(!Y||!Y["!ref"])){for(var ue=qn(Y["!ref"]),pe=Array.isArray(Y),K=[],je=Math.min(ue.e.r,8191),Oe=ue.s.r;Oe<=je;++Oe)for(var Se=Xa(Oe),ae=ue.s.c;ae<=ue.e.c;++ae){Oe===ue.s.r&&(K[ae]=xa(ae));var Ce=K[ae]+Se,Ae=pe?(Y[Oe]||[])[ae]:Y[Ce];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")Do(G,23,I(Oe,ae,oe,Ae.v));else{var ke=jc(Ae);Do(G,22,T(Oe,ae,oe,ke.slice(0,239)))}}++oe}}return Do(G,1),G.end()}function i(D){var F=ga(2);return F.write_shift(2,D),F}function s(D){var F=ga(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var U=0,G=0,W=0,Q=0;Q<D.SheetNames.length;++Q){var oe=D.SheetNames[Q],Y=D.Sheets[oe];if(!(!Y||!Y["!ref"])){++W;var ue=qp(Y["!ref"]);U<ue.e.r&&(U=ue.e.r),G<ue.e.c&&(G=ue.e.c)}}return U>8191&&(U=8191),F.write_shift(2,U),F.write_shift(1,W),F.write_shift(1,G),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(D,F,U){var G={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&U.qpro?(G.s.c=D.read_shift(1),D.l++,G.s.r=D.read_shift(2),G.e.c=D.read_shift(1),D.l++,G.e.r=D.read_shift(2),G):(G.s.c=D.read_shift(2),G.s.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),G.e.c=D.read_shift(2),G.e.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(D){var F=ga(8);return F.write_shift(2,D.s.c),F.write_shift(2,D.s.r),F.write_shift(2,D.e.c),F.write_shift(2,D.e.r),F}function c(D,F,U){var G=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(G[0].c=D.read_shift(1),G[3]=D.read_shift(1),G[0].r=D.read_shift(2),D.l+=2):(G[2]=D.read_shift(1),G[0].c=D.read_shift(2),G[0].r=D.read_shift(2)),G}function u(D,F,U){var G=D.l+F,W=c(D,F,U);if(W[1].t="s",U.vers==20768){D.l++;var Q=D.read_shift(1);return W[1].v=D.read_shift(Q,"utf8"),W}return U.qpro&&D.l++,W[1].v=D.read_shift(G-D.l,"cstr"),W}function f(D,F,U){var G=ga(7+U.length);G.write_shift(1,255),G.write_shift(2,F),G.write_shift(2,D),G.write_shift(1,39);for(var W=0;W<G.length;++W){var Q=U.charCodeAt(W);G.write_shift(1,Q>=128?95:Q)}return G.write_shift(1,0),G}function h(D,F,U){var G=c(D,F,U);return G[1].v=D.read_shift(2,"i"),G}function d(D,F,U){var G=ga(7);return G.write_shift(1,255),G.write_shift(2,F),G.write_shift(2,D),G.write_shift(2,U,"i"),G}function m(D,F,U){var G=c(D,F,U);return G[1].v=D.read_shift(8,"f"),G}function p(D,F,U){var G=ga(13);return G.write_shift(1,255),G.write_shift(2,F),G.write_shift(2,D),G.write_shift(8,U,"f"),G}function v(D,F,U){var G=D.l+F,W=c(D,F,U);if(W[1].v=D.read_shift(8,"f"),U.qpro)D.l=G;else{var Q=D.read_shift(2);O(D.slice(D.l,D.l+Q),W),D.l+=Q}return W}function y(D,F,U){var G=F&32768;return F&=-32769,F=(G?D:0)+(F>=8192?F-16384:F),(G?"":"$")+(U?xa(F):Xa(F))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(D,F){Wa(D,0);for(var U=[],G=0,W="",Q="",oe="",Y="";D.l<D.length;){var ue=D[D.l++];switch(ue){case 0:U.push(D.read_shift(8,"f"));break;case 1:Q=y(F[0].c,D.read_shift(2),!0),W=y(F[0].r,D.read_shift(2),!1),U.push(Q+W);break;case 2:{var pe=y(F[0].c,D.read_shift(2),!0),K=y(F[0].r,D.read_shift(2),!1);Q=y(F[0].c,D.read_shift(2),!0),W=y(F[0].r,D.read_shift(2),!1),U.push(pe+K+":"+Q+W)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(D.read_shift(2));break;case 6:{for(var je="";ue=D[D.l++];)je+=String.fromCharCode(ue);U.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:Y=U.pop(),oe=U.pop(),U.push(["AND","OR"][ue-20]+"("+oe+","+Y+")");break;default:if(ue<32&&w[ue])Y=U.pop(),oe=U.pop(),U.push(oe+w[ue]+Y);else if(_[ue]){if(G=_[ue][1],G==69&&(G=D[D.l++]),G>U.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+U.join("|")+"|");return}var Oe=U.slice(-G);U.length-=G,U.push(_[ue][0]+"("+Oe.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}U.length==1?F[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function k(D){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=D.read_shift(2),F[3]=D[D.l++],F[0].c=D[D.l++],F}function C(D,F){var U=k(D);return U[1].t="s",U[1].v=D.read_shift(F-4,"cstr"),U}function T(D,F,U,G){var W=ga(6+G.length);W.write_shift(2,D),W.write_shift(1,U),W.write_shift(1,F),W.write_shift(1,39);for(var Q=0;Q<G.length;++Q){var oe=G.charCodeAt(Q);W.write_shift(1,oe>=128?95:oe)}return W.write_shift(1,0),W}function S(D,F){var U=k(D);U[1].v=D.read_shift(2);var G=U[1].v>>1;if(U[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return U[1].v=G,U}function A(D,F){var U=k(D),G=D.read_shift(4),W=D.read_shift(4),Q=D.read_shift(2);if(Q==65535)return G===0&&W===3221225472?(U[1].t="e",U[1].v=15):G===0&&W===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var oe=Q&32768;return Q=(Q&32767)-16446,U[1].v=(1-oe*2)*(W*Math.pow(2,Q+32)+G*Math.pow(2,Q)),U}function I(D,F,U,G){var W=ga(14);if(W.write_shift(2,D),W.write_shift(1,U),W.write_shift(1,F),G==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var Q=0,oe=0,Y=0,ue=0;return G<0&&(Q=1,G=-G),oe=Math.log2(G)|0,G/=Math.pow(2,oe-31),ue=G>>>0,ue&2147483648||(G/=2,++oe,ue=G>>>0),G-=ue,ue|=2147483648,ue>>>=0,G*=Math.pow(2,32),Y=G>>>0,W.write_shift(4,Y),W.write_shift(4,ue),oe+=16383+(Q?32768:0),W.write_shift(2,oe),W}function E(D,F){var U=A(D);return D.l+=F-14,U}function N(D,F){var U=k(D),G=D.read_shift(4);return U[1].v=G>>6,U}function j(D,F){var U=k(D),G=D.read_shift(8,"f");return U[1].v=G,U}function H(D,F){var U=j(D);return D.l+=F-10,U}function X(D,F){return D[D.l+F-1]==0?D.read_shift(F,"cstr"):""}function re(D,F){var U=D[D.l++];U>F-1&&(U=F-1);for(var G="";G.length<U;)G+=String.fromCharCode(D[D.l++]);return G}function J(D,F,U){if(!(!U.qpro||F<21)){var G=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var W=D.read_shift(F-21,"cstr");return[G,W]}}function q(D,F){for(var U={},G=D.l+F;D.l<G;){var W=D.read_shift(2);if(W==14e3){for(U[W]=[0,""],U[W][0]=D.read_shift(2);D[D.l];)U[W][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return U}function B(D,F){var U=ga(5+D.length);U.write_shift(2,14e3),U.write_shift(2,F);for(var G=0;G<D.length;++G){var W=D.charCodeAt(G);U[U.l++]=W>127?95:W}return U[U.l++]=0,U}var ne={0:{n:"BOF",f:oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function y0e(e){var t={},r=e.match(Ti),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Gt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=CP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var x0e=function(){var e=C1("t"),t=C1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Er(s[1])},l=i.match(t);return l&&(o.s=y0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),b0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),w0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_0e=/<(?:\w+:)?r>/,S0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function HP(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Er(fn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=fn(e),r&&(n.h=MP(n.t))):e.match(_0e)&&(n.r=fn(e),n.t=Er(fn((e.replace(S0e,"").match(w0e)||[]).join("").replace(Ti,""))),r&&(n.h=b0e(x0e(n.r)))),n):{t:""}}var A0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,T0e=/<(?:\w+:)?(?:si|sstItem)>/g,E0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function k0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(A0e);if(a){n=a[2].replace(T0e,"").split(E0e);for(var i=0;i!=n.length;++i){var s=HP(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Gt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function P0e(e){return[e.read_shift(4),e.read_shift(4)]}function C0e(e,t){var r=[],n=!1;return Wc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Rz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function xc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function N0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=xc(e,4),t.U=xc(e,4),t.W=xc(e,4),t}function O0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function I0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(O0e(e));return t}function D0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function L0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=xc(e,4),t.U=xc(e,4),t.W=xc(e,4),t}function j0e(e){var t=L0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Fz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function $z(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function M0e(e){var t=xc(e);switch(t.Minor){case 2:return[t.Minor,R0e(e)];case 3:return[t.Minor,F0e()];case 4:return[t.Minor,$0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function R0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Fz(e,r),a=$z(e,e.length-e.l);return{t:"Std",h:n,v:a}}function F0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ti,function(i){var s=Gt(i);switch(Bl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function B0e(e,t){var r={},n=r.EncryptionVersionInfo=xc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Fz(e,a),t-=a,r.EncryptionVerifier=$z(e,t),r}function V0e(e){var t={},r=t.EncryptionVersionInfo=xc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function U0e(e){var t=0,r,n=Rz(e),a=n.length+1,i,s,o,l,c;for(r=wf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Bz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Rz(s),l=i(o),c=o.length,u=wf(16),f=0;f!=16;++f)u[f]=0;var h,d,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),z0e=function(e,t,r,n,a){a||(a=t),n||(n=Bz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},q0e=function(e){var t=0,r=Bz(e);return function(n){var a=z0e("",n,t,r);return t=a[1],a[0]}};function W0e(e,t,r,n){var a={key:oa(e),verificationBytes:oa(e)};return r.password&&(a.verifier=U0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=q0e(r.password)),a}function H0e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=V0e(e):n.Data=B0e(e,t),n}function G0e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?H0e(e,t-2,n):W0e(e,r.biff>=8?t:t-2,r,n),n}var K0e=function(){function e(a,i){switch(i.type){case"base64":return t(Ms(a),i);case"binary":return t(a,i);case"buffer":return t(dr&&Buffer.isBuffer(a)?a.toString("binary"):id(a),i);case"array":return t(Wh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,m,p=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var v=u.slice(d,h.lastIndex-m[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][p]=y:o[er({r:f,c:p})]=y}break}d=h.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=_r(c),o}function r(a,i){return Df(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=qn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=er({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(jc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Y0e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function I1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function X0e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Q0e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function cb(e,t){if(t===0)return e;var r=X0e(Y0e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),I1(Q0e(r))}var Vz=6,J0e=15,Z0e=1,Mi=Vz;function ub(e){return Math.floor((e+Math.round(128/Mi)/256)*Mi)}function fb(e){return Math.floor((e-5)/Mi*100+.5)/100}function pT(e){return Math.round((e*Mi+5)/Mi*256)/256}function AS(e){return pT(fb(ub(e)))}function GP(e){var t=Math.abs(e-AS(e)),r=Mi;if(t>.005)for(Mi=Z0e;Mi<J0e;++Mi)Math.abs(e-AS(e))<=t&&(t=Math.abs(e-AS(e)),r=Mi);Mi=r}function ap(e){e.width?(e.wpx=ub(e.width),e.wch=fb(e.wpx),e.MDW=Mi):e.wpx?(e.wch=fb(e.wpx),e.width=pT(e.wch),e.MDW=Mi):typeof e.wch=="number"&&(e.width=pT(e.wch),e.wpx=ub(e.width),e.MDW=Mi),e.customWidth&&delete e.customWidth}var epe=96,Uz=epe;function zz(e){return e*96/Uz}function D1(e){return e*Uz/96}var tpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function rpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(s){var o=Gt(s);switch(Bl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=wn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=wn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function npe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(s){var o=Gt(s);switch(Bl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function ape(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(s){var o=Gt(s);switch(Bl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=fn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?wn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?wn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?wn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?wn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?wn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?wn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?wn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=CP[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=wn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Ih[a.color.index];a.color.index==81&&(l=Ih[1]),l||(l=Ih[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=cb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function ipe(e,t,r){t.NumberFmt=[];for(var n=Fl(rr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=rr[n[a]];var i=e[0].match(Ti);if(i)for(a=0;a<i.length;++a){var s=Gt(i[a]);switch(Bl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Er(fn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Oh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var sx=["numFmtId","fillId","fontId","borderId","xfId"],ox=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function spe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ti)||[]).forEach(function(i){var s=Gt(i),o=0;switch(Bl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<sx.length;++o)n[sx[o]]&&(n[sx[o]]=parseInt(n[sx[o]],10));for(o=0;o<ox.length;++o)n[ox[o]]&&(n[ox[o]]=wn(n[ox[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=wn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var ope=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&ipe(f,u,c),(f=o.match(a))&&ape(f,u,l,c),(f=o.match(n))&&npe(f,u,l,c),(f=o.match(i))&&rpe(f,u,l,c),(f=o.match(r))&&spe(f,u,c),u}}();function lpe(e,t){var r=e.read_shift(2),n=wi(e);return[r,n]}function cpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=xhe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=yhe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=wi(e),n}var upe=Si;function fpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var hpe=Si;function dpe(e,t,r){var n={};n.NumberFmt=[];for(var a in rr)n.NumberFmt[a]=rr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Wc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Oh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=cb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var ppe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function mpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ti)||[]).forEach(function(a){var i=Gt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[ppe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function gpe(){}function vpe(){}var ype=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,bpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function wpe(e,t,r){t.themeElements={};var n;[["clrScheme",ype,mpe],["fontScheme",xpe,gpe],["fmtScheme",bpe,vpe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var _pe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function qz(e,t){(!e||e.length===0)&&(e=Spe());var r,n={};if(!(r=e.match(_pe)))throw new Error("themeElements not found in theme");return wpe(r[0],n,t),n.raw=e,n}function Spe(e,t){var r=[tz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ape(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=ez(i,{type:"array"})}catch{return}var o=ks(s,"theme/theme/theme1.xml",!0);if(o)return qz(o,r)}}function Tpe(e){return e.read_shift(4)}function Epe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=kpe(e,4);break;case 2:t.xclrValue=Nz(e);break;case 3:t.xclrValue=Tpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function kpe(e,t){return Si(e,t)}function Ppe(e,t){return Si(e,t)}function Cpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Epe(e);break;case 6:n[1]=Ppe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Npe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Cpe(e,r-e.l));return{ixfe:n,ext:i}}function Ope(e,t){t.forEach(function(r){switch(r[0]){}})}function Ipe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:wi(e)}}function Dpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Lpe(e){return e.l+=4,e.read_shift(4)!=0}function jpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Wc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Mpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ti,function(o){var l=Gt(o);switch(Bl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Rpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ti)||[]).forEach(function(n){var a=Gt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Fpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=er(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function $pe(e,t,r){var n=[];return Wc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Bpe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Wc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Vpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function ED(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Fi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=qn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=_r(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Upe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Gt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Fi(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&HP(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function zpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ti,function(o,l){var c=Gt(o);switch(Bl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function qpe(e,t){var r=[],n=!1;return e.replace(Ti,function(i){var s=Gt(i);switch(Bl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Wpe(e){var t={};t.iauthor=e.read_shift(4);var r=od(e);return t.rfx=r.s,t.ref=er(r.s),e.l+=16,t}var Hpe=wi;function Gpe(e,t){var r=[],n=[],a={},i=!1;return Wc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Kpe="application/vnd.ms-office.vbaProject";function Ype(e){var t=wr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");wr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),wr.write(t)}function Xpe(){return{"!type":"dialog"}}function Qpe(){return{"!type":"dialog"}}function Jpe(){return{"!type":"macro"}}function Zpe(){return{"!type":"macro"}}var P0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+xa(u)+(l?"":"$")+Xa(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Wz=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,eme=function(){return function(t,r){return t.replace(Wz,function(n,a,i,s,o,l){var c=BP(s)-(i?0:r.c),u=$P(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Hz(e,t){return e.replace(Wz,function(r,n,a,i,s,o){return n+(a=="$"?a+i:xa(BP(i)+t.c))+(s=="$"?s+o:Xa($P(o)+t.r))})}function tme(e,t,r){var n=qp(t),a=n.s,i=Fi(r),s={r:i.r-a.r,c:i.c-a.c};return Hz(e,s)}function rme(e){return e.length!=1}function kD(e){return e.replace(/_xlfn\./g,"")}function aa(e){e.l+=1}function _f(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Gz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Kz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=_f(e),o=_f(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Kz(e){var t=_f(e),r=_f(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function nme(e,t,r){if(r.biff<8)return Kz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=_f(e),s=_f(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Yz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ame(e);var n=e.read_shift(r&&r.biff==12?4:2),a=_f(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ame(e){var t=_f(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ime(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function sme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ome(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function ome(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function lme(e,t,r){var n=(e[e.l++]&96)>>5,a=Gz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function cme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Gz(e,i,r);return[n,a,s]}function ume(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function hme(e,t,r){var n=(e[e.l++]&96)>>5,a=nme(e,t-1,r);return[n,a]}function dme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function PD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function pme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function mme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function gme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Xz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xme(e){return e.read_shift(2),Xz(e)}function bme(e){return e.read_shift(2),Xz(e)}function wme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Yz(e,0,r);return[n,a]}function _me(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sme(e,0,r);return[n,a]}function Sme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Yz(e,0,r);return[n,a,i]}function Ame(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Tge[a],Zz[a],n]}function Tme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Eme(e);return[a,(i[0]===0?Zz:Age)[i[1]]]}function Eme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kme(e,t,r){e.l+=r&&r.biff==2?3:4}function Pme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Cme(e){return e.l++,ld[e.read_shift(1)]}function Nme(e){return e.l++,e.read_shift(2)}function Ome(e){return e.l++,e.read_shift(1)!==0}function Ime(e){return e.l++,yi(e)}function Dme(e,t,r){return e.l++,Bv(e,t-1,r)}function Lme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Gn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ld[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yi(e);break;case 2:r[1]=cd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function jme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?od:l5)(e));return a}function Mme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Lme(e,r.biff);return s}function Rme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Fme(e,t,r){if(r.biff==5)return $me(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function $me(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Bme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ume(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var qme=Si,Wme=Si,Hme=Si;function Uv(e,t,r){return e.l+=2,[ime(e)]}function KP(e){return e.l+=6,[]}var Gme=Uv,Kme=KP,Yme=KP,Xme=Uv;function Qz(e){return e.l+=2,[oa(e),e.read_shift(2)&1]}var Qme=Uv,Jme=Qz,Zme=KP,ege=Uv,tge=Uv,rge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function nge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=rge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function age(e){return e.l+=2,[e.read_shift(4)]}function ige(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function sge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function oge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cge(e){return e.l+=4,[0,0]}var CD={1:{n:"PtgExp",f:Pme},2:{n:"PtgTbl",f:Hme},3:{n:"PtgAdd",f:aa},4:{n:"PtgSub",f:aa},5:{n:"PtgMul",f:aa},6:{n:"PtgDiv",f:aa},7:{n:"PtgPower",f:aa},8:{n:"PtgConcat",f:aa},9:{n:"PtgLt",f:aa},10:{n:"PtgLe",f:aa},11:{n:"PtgEq",f:aa},12:{n:"PtgGe",f:aa},13:{n:"PtgGt",f:aa},14:{n:"PtgNe",f:aa},15:{n:"PtgIsect",f:aa},16:{n:"PtgUnion",f:aa},17:{n:"PtgRange",f:aa},18:{n:"PtgUplus",f:aa},19:{n:"PtgUminus",f:aa},20:{n:"PtgPercent",f:aa},21:{n:"PtgParen",f:aa},22:{n:"PtgMissArg",f:aa},23:{n:"PtgStr",f:Dme},26:{n:"PtgSheet",f:ige},27:{n:"PtgEndSheet",f:sge},28:{n:"PtgErr",f:Cme},29:{n:"PtgBool",f:Ome},30:{n:"PtgInt",f:Nme},31:{n:"PtgNum",f:Ime},32:{n:"PtgArray",f:dme},33:{n:"PtgFunc",f:Ame},34:{n:"PtgFuncVar",f:Tme},35:{n:"PtgName",f:Rme},36:{n:"PtgRef",f:wme},37:{n:"PtgArea",f:lme},38:{n:"PtgMemArea",f:Bme},39:{n:"PtgMemErr",f:qme},40:{n:"PtgMemNoMem",f:Wme},41:{n:"PtgMemFunc",f:Vme},42:{n:"PtgRefErr",f:Ume},43:{n:"PtgAreaErr",f:ume},44:{n:"PtgRefN",f:_me},45:{n:"PtgAreaN",f:hme},46:{n:"PtgMemAreaN",f:oge},47:{n:"PtgMemNoMemN",f:lge},57:{n:"PtgNameX",f:Fme},58:{n:"PtgRef3d",f:Sme},59:{n:"PtgArea3d",f:cme},60:{n:"PtgRefErr3d",f:zme},61:{n:"PtgAreaErr3d",f:fme},255:{}},uge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fge={1:{n:"PtgElfLel",f:Qz},2:{n:"PtgElfRw",f:ege},3:{n:"PtgElfCol",f:Gme},6:{n:"PtgElfRwV",f:tge},7:{n:"PtgElfColV",f:Xme},10:{n:"PtgElfRadical",f:Qme},11:{n:"PtgElfRadicalS",f:Zme},13:{n:"PtgElfColS",f:Kme},15:{n:"PtgElfColSV",f:Yme},16:{n:"PtgElfRadicalLel",f:Jme},25:{n:"PtgList",f:nge},29:{n:"PtgSxName",f:age},255:{}},hge={0:{n:"PtgAttrNoop",f:cge},1:{n:"PtgAttrSemi",f:yme},2:{n:"PtgAttrIf",f:gme},4:{n:"PtgAttrChoose",f:pme},8:{n:"PtgAttrGoto",f:mme},16:{n:"PtgAttrSum",f:kme},32:{n:"PtgAttrBaxcel",f:PD},33:{n:"PtgAttrBaxcel",f:PD},64:{n:"PtgAttrSpace",f:xme},65:{n:"PtgAttrSpaceSemi",f:bme},128:{n:"PtgAttrIfError",f:vme},255:{}};function zv(e,t,r,n){if(n.biff<8)return Si(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Mme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=jme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Si(e,t)),i}function qv(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=CD[i]||CD[uge[i]],(i===24||i===25)&&(a=(i===24?fge:hge)[e[e.l+1]]),!a||!a.f?Si(e,t):s.push([a.n,a.f(e,t,r)]);return s}function dge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var pge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Jz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function ND(e,t,r){var n=Jz(e,t,r);return n=="#REF"?n:mge(n,r)}function hi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,m="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,_=e[0].length;y<_;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Vn(" ",e[0][p][1][1]);break;case 1:v=Vn("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}c=c+v,p=-1}o.push(c+pge[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=kg(w[1][1],s,a),o.push(Pg(u,i));break;case"PtgRefN":u=r?kg(w[1][1],r,a):w[1][1],o.push(Pg(u,i));break;case"PtgRef3d":f=w[1][1],u=kg(w[1][2],s,a),m=ND(n,f,a),o.push(m+"!"+Pg(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=w[1][0],k=w[1][1];O||(O=0),O&=127;var C=O==0?[]:o.slice(-O);o.length-=O,k==="User"&&(k=C.shift()),o.push(k+"("+C.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":d=uD(w[1][1],r?{s:r}:s,a),o.push(_S(d,a));break;case"PtgArea":d=uD(w[1][1],s,a),o.push(_S(d,a));break;case"PtgArea3d":f=w[1][1],d=w[1][2],m=ND(n,f,a),o.push(m+"!"+_S(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var I;if(a.biff<=5)A<0&&(A=-A),n[A]&&(I=n[A][h]);else{var E="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(E=n.SheetNames[n[A][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])E+=n[A][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(Jz(n,A,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var j="(",H=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:j=Vn(" ",e[0][p][1][1])+j;break;case 3:j=Vn("\r",e[0][p][1][1])+j;break;case 4:H=Vn(" ",e[0][p][1][1])+H;break;case 5:H=Vn("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(j+o.pop()+H);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[er(u)]){var re=n.sharedf[er(u)];o.push(hi(re,s,X,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(hi(c[1],s,X,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+dge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&q.indexOf(e[0][y][0])==-1){w=e[0][p];var B=!0;switch(w[1][0]){case 4:B=!1;case 0:v=Vn(" ",w[1][1]);break;case 5:B=!1;case 1:v=Vn("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((B?v:"")+o.pop()+(B?"":v)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function gge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Si(e,t-2)];var o=qv(e,s,r);return t!==s+a&&(i=zv(e,t-s-a,o,r)),e.l=n,[o,i]}function vge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Si(e,t-2)];var o=qv(e,s,r);return t!==s+a&&(i=zv(e,t-s-a,o,r)),e.l=n,[o,i]}function yge(e,t,r,n){var a=e.l+t,i=qv(e,n,r),s;return a!==e.l&&(s=zv(e,a-e.l,i,r)),[i,s]}function xge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=qv(e,i,r);return i==65535?[[],Si(e,t-2)]:(t!==i+2&&(a=zv(e,n-i-2,s,r)),[s,a])}function bge(e){var t;if(fc(e,e.l+6)!==65535)return[yi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function TS(e,t,r){var n=e.l+t,a=Vl(e);r.biff==2&&++e.l;var i=bge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=vge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function c5(e,t,r){var n=e.read_shift(4),a=qv(e,n,r),i=e.read_shift(4),s=i>0?zv(e,i,a,r):null;return[a,s]}var wge=c5,u5=c5,_ge=c5,Sge=c5,Age={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Zz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Tge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function OD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function ES(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Ig={},C0={};function Dg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function eq(e,t,r,n,a,i){try{n.cellNF&&(e.z=rr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=La(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(rr[t]==null&&Oh(Efe[t]||"General",t),e.t==="e")e.w=e.w||ld[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=P1(e.v);else if(e.t==="d"){var s=qi(e.v);(s|0)===s?e.w=s.toString(10):e.w=P1(s)}else{if(e.v===void 0)return"";e.w=qh(e.v,C0)}else e.t==="d"?e.w=go(t,qi(e.v),C0):e.w=go(t,e.v,C0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=cb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=cb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Ege(e,t){var r=qn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_r(r))}var kge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Pge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Cge=/<(?:\w:)?hyperlink [^>]*>/mg,Nge=/"(\w*:\w*)"/,Oge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ige=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Dge=/<(?:\w:)?pageMargins[^>]*\/>/g,tq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Lge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,jge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Mge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Pge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(tq);h?YP(h[0],o,a,r):(h=c.match(Lge))&&Rge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var m=c.slice(d,d+50).match(Nge);m&&Ege(o,m[1])}var p=c.match(jge);p&&p[1]&&zge(p[1],a);var v=[];if(t.cellStyles){var y=c.match(Oge);y&&Bge(v,y)}f&&qge(f[1],o,t,l,i,s);var _=u.match(Ige);_&&(o["!autofilter"]=Vge(_[0]));var w=[],O=u.match(kge);if(O)for(d=0;d!=O.length;++d)w[d]=qn(O[d].slice(O[d].indexOf('"')+1));var k=u.match(Cge);k&&Fge(o,k,n);var C=u.match(Dge);if(C&&(o["!margins"]=$ge(Gt(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=_r(l)),t.sheetRows>0&&o["!ref"]){var T=qn(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_r(T))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function YP(e,t,r,n){var a=Gt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Er(fn(a.codeName)))}function Rge(e,t,r,n,a){YP(e.slice(0,e.indexOf(">")),r,n,a)}function Fge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Gt(fn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Er(i.location))):(i.Target="#"+Er(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=qn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=er({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function $ge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Bge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Gt(t[n],!0);a.hidden&&(a.hidden=wn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,GP(a.width)),ap(a);i<=s;)e[i++]=Ya(a)}}function Vge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Uge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zge(e,t){t.Views||(t.Views=[{}]),(e.match(Uge)||[]).forEach(function(r,n){var a=Gt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),wn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var qge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=C1("v"),s=C1("f");return function(l,c,u,f,h,d){for(var m=0,p="",v=[],y=[],_=0,w=0,O=0,k="",C,T,S=0,A=0,I,E,N=0,j=0,H=Array.isArray(d.CellXf),X,re=[],J=[],q=Array.isArray(c),B=[],ne={},ce=!1,D=!!u.sheetStubs,F=l.split(t),U=0,G=F.length;U!=G;++U){p=F[U].trim();var W=p.length;if(W!==0){var Q=0;e:for(m=0;m<W;++m)switch(p[m]){case">":if(p[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(T=Gt(p.slice(Q,m),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,u.sheetRows&&u.sheetRows<S)continue;ne={},ce=!1,T.ht&&(ce=!0,ne.hpt=parseFloat(T.ht),ne.hpx=D1(ne.hpt)),T.hidden=="1"&&(ce=!0,ne.hidden=!0),T.outlineLevel!=null&&(ce=!0,ne.level=+T.outlineLevel),ce&&(B[S-1]=ne)}break;case"<":Q=m;break}if(Q>=m)break;if(T=Gt(p.slice(Q,m),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(ne={},ce=!1,T.ht&&(ce=!0,ne.hpt=parseFloat(T.ht),ne.hpx=D1(ne.hpt)),T.hidden=="1"&&(ce=!0,ne.hidden=!0),T.outlineLevel!=null&&(ce=!0,ne.level=+T.outlineLevel),ce&&(B[S-1]=ne)),v=p.slice(m).split(e);for(var oe=0;oe!=v.length&&v[oe].trim().charAt(0)=="<";++oe);for(v=v.slice(oe),m=0;m!=v.length;++m)if(p=v[m].trim(),p.length!==0){if(y=p.match(r),_=m,w=0,O=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(_=0,k=y[1],w=0;w!=k.length&&!((O=k.charCodeAt(w)-64)<1||O>26);++w)_=26*_+O;--_,A=_}else++A;for(w=0;w!=p.length&&p.charCodeAt(w)!==62;++w);if(++w,T=Gt(p.slice(0,w),!0),T.r||(T.r=er({r:S-1,c:A})),k=p.slice(w),C={t:""},(y=k.match(i))!=null&&y[1]!==""&&(C.v=Er(y[1])),u.cellFormula){if((y=k.match(s))!=null&&y[1]!==""){if(C.f=Er(fn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(C.f=kD(C.f)),y[0].indexOf('t="array"')>-1)C.F=(k.match(a)||[])[1],C.F.indexOf(":")>-1&&re.push([qn(C.F),C.F]);else if(y[0].indexOf('t="shared"')>-1){E=Gt(y[0]);var Y=Er(fn(y[1]));u.xlfn||(Y=kD(Y)),J[parseInt(E.si,10)]=[E,Y,T.r]}}else(y=k.match(/<f[^>]*\/>/))&&(E=Gt(y[0]),J[E.si]&&(C.f=tme(J[E.si][1],J[E.si][2],T.r)));var ue=Fi(T.r);for(w=0;w<re.length;++w)ue.r>=re[w][0].s.r&&ue.r<=re[w][0].e.r&&ue.c>=re[w][0].s.c&&ue.c<=re[w][0].e.c&&(C.F=re[w][1])}if(T.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(D)C.t="z";else continue;else C.t=T.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),C.t){case"n":if(C.v==""||C.v==null){if(!D)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!D)continue;C.t="z"}else I=Ig[parseInt(C.v,10)],C.v=I.t,C.r=I.r,u.cellHTML&&(C.h=I.h);break;case"str":C.t="s",C.v=C.v!=null?fn(C.v):"",u.cellHTML&&(C.h=MP(C.v));break;case"inlineStr":y=k.match(n),C.t="s",y!=null&&(I=HP(y[1]))?(C.v=I.t,u.cellHTML&&(C.h=I.h)):C.v="";break;case"b":C.v=wn(C.v);break;case"d":u.cellDates?C.v=La(C.v,1):(C.v=qi(La(C.v,1)),C.t="n");break;case"e":(!u||u.cellText!==!1)&&(C.w=C.v),C.v=_z[C.v];break}if(N=j=0,X=null,H&&T.s!==void 0&&(X=d.CellXf[T.s],X!=null&&(X.numFmtId!=null&&(N=X.numFmtId),u.cellStyles&&X.fillId!=null&&(j=X.fillId))),eq(C,N,j,u,h,d),u.cellDates&&H&&C.t=="n"&&zp(rr[N])&&(C.t="d",C.v=o5(C.v)),T.cm&&u.xlmeta){var pe=(u.xlmeta.Cell||[])[+T.cm-1];pe&&pe.type=="XLDAPR"&&(C.D=!0)}if(q){var K=Fi(T.r);c[K.r]||(c[K.r]=[]),c[K.r][K.c]=C}else c[T.r]=C}}}}B.length>0&&(c["!rows"]=B)}}();function Wge(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Hge=od;function Gge(){}function Kge(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ghe(e),r}function Yge(e){var t=yo(e);return[t]}function Xge(e){var t=sd(e);return[t]}function Qge(e){var t=yo(e),r=e.read_shift(1);return[t,r,"b"]}function Jge(e){var t=sd(e),r=e.read_shift(1);return[t,r,"b"]}function Zge(e){var t=yo(e),r=e.read_shift(1);return[t,r,"e"]}function e1e(e){var t=sd(e),r=e.read_shift(1);return[t,r,"e"]}function t1e(e){var t=yo(e),r=e.read_shift(4);return[t,r,"s"]}function r1e(e){var t=sd(e),r=e.read_shift(4);return[t,r,"s"]}function n1e(e){var t=yo(e),r=yi(e);return[t,r,"n"]}function rq(e){var t=sd(e),r=yi(e);return[t,r,"n"]}function a1e(e){var t=yo(e),r=zP(e);return[t,r,"n"]}function i1e(e){var t=sd(e),r=zP(e);return[t,r,"n"]}function s1e(e){var t=yo(e),r=VP(e);return[t,r,"is"]}function o1e(e){var t=yo(e),r=wi(e);return[t,r,"str"]}function l1e(e){var t=sd(e),r=wi(e);return[t,r,"str"]}function c1e(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=u5(e,n-e.l,r);s[3]=hi(o,null,a,r.supbooks,r)}else e.l=n;return s}function u1e(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=u5(e,n-e.l,r);s[3]=hi(o,null,a,r.supbooks,r)}else e.l=n;return s}function f1e(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var i=yi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=u5(e,n-e.l,r);s[3]=hi(o,null,a,r.supbooks,r)}else e.l=n;return s}function h1e(e,t,r){var n=e.l+t,a=yo(e);a.r=r["!row"];var i=wi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=u5(e,n-e.l,r);s[3]=hi(o,null,a,r.supbooks,r)}else e.l=n;return s}var d1e=od;function p1e(e,t){var r=e.l+t,n=od(e),a=UP(e),i=wi(e),s=wi(e),o=wi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function m1e(){}function g1e(e,t,r){var n=e.l+t,a=xz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=wge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function v1e(e,t,r){var n=e.l+t,a=od(e),i=[a];if(r.cellFormula){var s=Sge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var y1e=["left","right","top","bottom","header","footer"];function x1e(e){var t={};return y1e.forEach(function(r){t[r]=yi(e)}),t}function b1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function w1e(){}function _1e(){}function S1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,m,p,v,y,_,w,O,k,C=[];o.biff=12,o["!row"]=0;var T=0,S=!1,A=[],I={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=I,E.arrayf=A,E.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var j=[],H=[],X=!1;hb[16]={n:"BrtShortReal",f:rq};var re;if(Wc(e,function(B,ne,ce){if(!h)switch(ce){case 148:c=B;break;case 0:d=B,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),O=Xa(v=d.r),o["!row"]=d.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=D1(B.hpt)),H[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:B[2]},B[2]){case"n":m.v=B[1];break;case"s":w=Ig[B[1]],m.v=w.t,m.r=w.r;break;case"b":m.v=!!B[1];break;case"e":m.v=B[1],o.cellText!==!1&&(m.w=ld[m.v]);break;case"str":m.t="s",m.v=B[1];break;case"is":m.t="s",m.v=B[1].t;break}if((p=s.CellXf[B[0].iStyleRef])&&eq(m,p.numFmtId,null,o,i,s),y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[xa(y)+O]=m,o.cellFormula){for(S=!1,T=0;T<A.length;++T){var D=A[T];d.r>=D[0].s.r&&d.r<=D[0].e.r&&y>=D[0].s.c&&y<=D[0].e.c&&(m.F=_r(D[0]),S=!0)}!S&&B.length>3&&(m.f=B[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&p&&m.t=="n"&&zp(rr[p.numFmtId])){var F=_h(m.v);F&&(m.t="d",m.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}re&&(re.type=="XLDAPR"&&(m.D=!0),re=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[xa(y)+O]=m,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),re&&(re.type=="XLDAPR"&&(m.D=!0),re=void 0);break;case 176:C.push(B);break;case 49:re=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var U=n["!id"][B.relId];for(U?(B.Target=U.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=U):B.relId==""&&(B.Target="#"+B.loc),v=B.rfx.s.r;v<=B.rfx.e.r;++v)for(y=B.rfx.s.c;y<=B.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=B):(_=er({c:y,r:v}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=B);break;case 426:if(!o.cellFormula)break;A.push(B),k=o.dense?l[v][y]:l[xa(y)+O],k.f=hi(B[1],u,{r:d.r,c:y},E,o),k.F=_r(B[0]);break;case 427:if(!o.cellFormula)break;I[er(B[0].s)]=B[1],k=o.dense?l[v][y]:l[xa(y)+O],k.f=hi(B[1],u,{r:d.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)j[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},X||(X=!0,GP(B.w/256)),ap(j[B.e+1]);break;case 161:l["!autofilter"]={ref:_r(B)};break;case 476:l["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(l["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ne.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=_r(c||u)),o.sheetRows&&l["!ref"]){var J=qn(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=_r(J))}return C.length>0&&(l["!merges"]=C),j.length>0&&(l["!cols"]=j),H.length>0&&(l["!rows"]=H),l}function A1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Er((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function T1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=A1e(f);u.s.r=u.s.c=0,u.e.c=o,c=xa(o),h[0].forEach(function(d,m){s[c+Xa(m)]={t:"n",v:d,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=_r(u)),s}function E1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(tq);return o&&YP(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function k1e(e,t){e.l+=10;var r=wi(e);return{name:r}}function P1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Wc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var nq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],C1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N1e=[],O1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ID(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=wn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function DD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=wn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function aq(e){DD(e.WBProps,nq),DD(e.CalcPr,O1e),ID(e.WBView,C1e),ID(e.Sheets,N1e),C0.date1904=wn(e.WBProps.date1904)}var I1e="][*?/\\".split("");function D1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return I1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var L1e=/<\w+:workbook/;function j1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ti,function(l,c){var u=Gt(l);switch(Bl(u[0])){case"<?xml":break;case"<workbook":l.match(L1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":nq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=wn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=fn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Er(fn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=fn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),wn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Er(fn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Zfe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return aq(r),r}function M1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=fT(e),r.name=wi(e),r}function R1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?wi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function F1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function $1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=vhe(e),s=_ge(e,0,r),o=UP(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function B1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],hb[16]={n:"BrtFRTArchID$",f:F1e},Wc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=hi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),aq(r),r.Names=i,r.supbooks=s,r}function V1e(e,t,r){return t.slice(-4)===".bin"?B1e(e,r):j1e(e,r)}function U1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?S1e(e,n,r,a,i,s,o):Mge(e,n,r,a,i,s,o)}function z1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?P1e(e,n,r,a,i):E1e(e,n,r,a,i)}function q1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Jpe():Zpe()}function W1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Xpe():Qpe()}function H1e(e,t,r,n){return t.slice(-4)===".bin"?dpe(e,r,n):ope(e,r,n)}function G1e(e,t,r){return qz(e,r)}function K1e(e,t,r){return t.slice(-4)===".bin"?C0e(e,r):k0e(e,r)}function Y1e(e,t,r){return t.slice(-4)===".bin"?Gpe(e,r):Upe(e,r)}function X1e(e,t,r){return t.slice(-4)===".bin"?$pe(e):Rpe(e)}function Q1e(e,t,r,n){return r.slice(-4)===".bin"?Bpe(e,t,r,n):void 0}function J1e(e,t,r){return t.slice(-4)===".bin"?jpe(e,t,r):Mpe(e,t,r)}var iq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,sq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Io(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(iq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(sq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Z1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(iq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(sq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Lg;function eve(e,t){var r=Lg[e]||Er(e);return r==="General"?qh(t):go(r,t)}function tve(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=wn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=La(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Er(t)]=a}function rve(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ld[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=P1(e.v):e.w=qh(e.v):e.w=eve(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Lg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&zp(n)){var a=_h(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function nve(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=tpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function ave(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=wn(e);break;case"String":n.t="s",n.r=tD(Er(e)),n.v=e.indexOf("<")>-1?Er(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(La(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Er(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=_z[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=tD(t||e));break}if(rve(n,u,c),c.cellFormula!==!1)if(n.Formula){var p=Er(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=P0(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=P0("RC:RC",a):n.ArrayRange&&(n.F=P0(n.ArrayRange,a),l.push([qn(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(d.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function ive(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function kS(e,t){var r=t||{};KU();var n=tg(RP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=fn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ya(r);return s.type="string",O1.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ae){a.indexOf("<"+Ae)>=0&&(i=!0)}),i)return pve(n,r);Lg={"General Number":"General","General Date":rr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":rr[15],"Short Date":rr[14],"Long Time":rr[19],"Medium Time":rr[18],"Short Time":rr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:rr[2],Standard:rr[4],Percent:rr[10],Scientific:rr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",m={},p={},v=Io('<Data ss:Type="String">'),y=0,_=0,w=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},C={},T="",S=0,A=[],I={},E={},N=0,j=[],H=[],X={},re=[],J,q=!1,B=[],ne=[],ce={},D=0,F=0,U={Sheets:[],WBProps:{date1904:!1}},G={};N1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var W="";o=N1.exec(n);)switch(o[3]=(W=o[3]).toLowerCase()){case"data":if(W=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?ave(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?X:m,{c:_,r:w},k,re[_],p,B,r):(T="",v=Io(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(H.length>0&&(m.c=H),(!r.sheetRows||r.sheetRows>w)&&m.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][_]=m):h[xa(_)+Xa(w)]=m),m.HRef&&(m.l={Target:Er(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(D=_+(parseInt(m.MergeAcross,10)|0),F=w+(parseInt(m.MergeDown,10)|0),A.push({s:{c:_,r:w},e:{c:D,r:F}})),!r.sheetStubs)m.MergeAcross?_=D+1:++_;else if(m.MergeAcross||m.MergeDown){for(var Q=_;Q<=D;++Q)for(var oe=w;oe<=F;++oe)(Q>_||oe>w)&&(r.dense?(h[oe]||(h[oe]=[]),h[oe][Q]={t:"z"}):h[xa(Q)+Xa(oe)]={t:"z"});_=D+1}else++_;else m=Z1e(o[0]),m.Index&&(_=+m.Index-1),_<O.s.c&&(O.s.c=_),_>O.e.c&&(O.e.c=_),o[0].slice(-2)==="/>"&&++_,H=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<O.s.r&&(O.s.r=w),w>O.e.r&&(O.e.r=w),o[0].slice(-2)==="/>"&&(p=Io(o[0]),p.Index&&(w=+p.Index-1)),_=0,++w):(p=Io(o[0]),p.Index&&(w=+p.Index-1),ce={},(p.AutoFitHeight=="0"||p.Height)&&(ce.hpx=parseInt(p.Height,10),ce.hpt=zz(ce.hpx),ne[w]=ce),p.Hidden=="1"&&(ce.hidden=!0,ne[w]=ce));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=_r(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=_r(O))),A.length&&(h["!merges"]=A),re.length>0&&(h["!cols"]=re),ne.length>0&&(h["!rows"]=ne),u[d]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,l.push([o[3],!1]),c=Io(o[0]),d=Er(c.Name),h=r.dense?[]:{},A=[],B=[],ne=[],G={name:d,Hidden:0},U.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),re=[],q=!1}break;case"style":o[1]==="/"?nve(k,C,r):C=Io(o[0]);break;case"numberformat":C.nf=Er(Io(o[0]).Format||"General"),Lg[C.nf]&&(C.nf=Lg[C.nf]);for(var Y=0;Y!=392&&rr[Y]!=C.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(rr[Y]==null){Oh(C.nf,Y);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Io(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!q&&J.wpx>10){q=!0,Mi=Vz;for(var ue=0;ue<re.length;++ue)re[ue]&&ap(re[ue])}q&&ap(J),re[J.Index-1||re.length]=J;for(var pe=0;pe<+J.Span;++pe)re[re.length]=Ya(J);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var K=Gt(o[0]),je={Name:K.Name,Ref:P0(K.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(je.Sheet=U.Sheets.length-1),U.Names.push(je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=Io(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Uhe(I,W,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));ive(X),H.push(X)}else l.push([o[3],!1]),c=Io(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Oe=Io(o[0]);h["!autofilter"]={ref:P0(Oe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return $D(n,r);var Se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+Gt(o[0]).Margin)||(h["!margins"].header=+Gt(o[0]).Margin);break;case"footer":h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+Gt(o[0]).Margin)||(h["!margins"].footer=+Gt(o[0]).Margin);break;case"pagemargins":var ae=Gt(o[0]);h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+ae.Top)||(h["!margins"].top=+ae.Top),isNaN(+ae.Left)||(h["!margins"].left=+ae.Left),isNaN(+ae.Right)||(h["!margins"].right=+ae.Right),isNaN(+ae.Bottom)||(h["!margins"].bottom=+ae.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?tve(E,W,j,n.slice(N,o.index)):(j=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ce={};return!r.bookSheets&&!r.bookProps&&(Ce.Sheets=u),Ce.SheetNames=f,Ce.Workbook=U,Ce.SSF=Ya(rr),Ce.Props=I,Ce.Custprops=E,Ce}function mT(e,t){switch(JP(t=t||{}),t.type||"base64"){case"base64":return kS(Ms(e),t);case"binary":case"buffer":case"file":return kS(e,t);case"array":return kS(id(e),t)}}function sve(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=bhe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=whe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var ove=[60,1084,2066,2165,2175];function lve(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=fc(r,r.l),c=gT[l],u=0;c!=null&&ove.indexOf(l)>-1;)i=fc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=gT[l=fc(r,r.l)];var f=Mu(s);Wa(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function vl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=rr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ld[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=P1(e.v):e.w=qh(e.v):e.w=go(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&zp(rr[n]||String(n))){var a=_h(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function lx(e,t,r){return{v:e,ixfe:t,t:r}}function cve(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,m,p,v,y={},_=[],w,O,k=[],C=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=function(dt){return dt<8?Ih[dt]:dt<64&&C[dt-8]||Ih[dt]},I=function(dt,tt,jt){var Lt=tt.XF.data;if(!(!Lt||!Lt.patternType||!jt||!jt.cellStyles)){tt.s={},tt.s.patternType=Lt.patternType;var en;(en=I1(A(Lt.icvFore)))&&(tt.s.fgColor={rgb:en}),(en=I1(A(Lt.icvBack)))&&(tt.s.bgColor={rgb:en})}},E=function(dt,tt,jt){if(!(ce>1)&&!(jt.sheetRows&&dt.r>=jt.sheetRows)){if(jt.cellStyles&&tt.XF&&tt.XF.data&&I(dt,tt,jt),delete tt.ixfe,delete tt.XF,f=dt,h=er(dt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<s.s.r&&(s.s.r=dt.r),dt.c<s.s.c&&(s.s.c=dt.c),dt.r+1>s.e.r&&(s.e.r=dt.r+1),dt.c+1>s.e.c&&(s.e.c=dt.c+1),jt.cellFormula&&tt.f){for(var Lt=0;Lt<_.length;++Lt)if(!(_[Lt][0].s.c>dt.c||_[Lt][0].s.r>dt.r)&&!(_[Lt][0].e.c<dt.c||_[Lt][0].e.r<dt.r)){tt.F=_r(_[Lt][0]),(_[Lt][0].s.c!=dt.c||_[Lt][0].s.r!=dt.r)&&delete tt.f,tt.f&&(tt.f=""+hi(_[Lt][1],s,dt,B,N));break}}jt.dense?(a[dt.r]||(a[dt.r]=[]),a[dt.r][dt.c]=tt):a[h]=tt}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var j,H=[],X=[],re=[],J=[],q=!1,B=[];B.SheetNames=N.snames,B.sharedf=N.sharedf,B.arrayf=N.arrayf,B.names=[],B.XTI=[];var ne=0,ce=0,D=0,F=[],U=[],G;N.codepage=1200,Ko(1200);for(var W=!1;e.l<e.length-1;){var Q=e.l,oe=e.read_shift(2);if(oe===0&&ne===10)break;var Y=e.l===e.length?0:e.read_shift(2),ue=gT[oe];if(ue&&ue.f){if(t.bookSheets&&ne===133&&oe!==133)break;if(ne=oe,ue.r===2||ue.r==12){var pe=e.read_shift(2);if(Y-=2,!N.enc&&pe!==oe&&((pe&255)<<8|pe>>8)!==oe)throw new Error("rt mismatch: "+pe+"!="+oe);ue.r==12&&(e.l+=10,Y-=10)}var K={};if(oe===10?K=ue.f(e,Y,N):K=lve(oe,ue,e,Y,N),ce==0&&[9,521,1033,2057].indexOf(ne)===-1)continue;switch(oe){case 34:r.opts.Date1904=T.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=K;break;case 66:var je=Number(K);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}Ko(N.codepage=je),W=!0;break;case 317:N.rrtabid=K;break;case 25:N.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:N.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(a["!type"]="dialog"),K.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),K.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(K);break;case 430:B.push([K]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(K);break;case 24:case 536:G={Name:K.Name,Ref:hi(K.rgce,s,null,B,N)},K.itab>0&&(G.Sheet=K.itab-1),B.names.push(G),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(U[K.itab-1]={ref:_r(K.rgce[0][0][1][2])});break;case 22:N.ExternCount=K;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(K),B.XTI=B.XTI.concat(K);break;case 2196:if(N.biff<8)break;G!=null&&(G.Comment=K[1]);break;case 18:a["!protect"]=K;break;case 19:K!==0&&N.WTF&&console.error("Password verifier: "+K);break;case 133:i[K.pos]=K,N.snames.push(K.name);break;case 10:{if(--ce)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=_r(s),t.sheetRows&&t.sheetRows<=s.e.r){var Oe=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=_r(s),s.e.r=Oe}s.e.r++,s.e.c++}H.length>0&&(a["!merges"]=H),X.length>0&&(a["!objects"]=X),re.length>0&&(a["!cols"]=re),J.length>0&&(a["!rows"]=J),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),N.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(N.biff=5,W=!0,Ko(N.codepage=28591)),N.biff==8&&K.BIFFVer==0&&K.dt==16&&(N.biff=2),ce++)break;if(a=t.dense?[]:{},N.biff<8&&!W&&(W=!0,Ko(N.codepage=t.codepage||1252)),N.biff<5||K.BIFFVer==0&&K.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-Y,name:c};i[Se.pos]=Se,N.snames.push(c)}else c=(i[Q]||{name:""}).name;K.dt==32&&(a["!type"]="chart"),K.dt==64&&(a["!type"]="macro"),H=[],X=[],N.arrayf=_=[],re=[],J=[],q=!1,S={Hidden:(i[Q]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[K.r]||[])[K.c]:a[er({c:K.c,r:K.r})])&&++K.c,w={ixfe:K.ixfe,XF:k[K.ixfe]||{},v:K.val,t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t);break;case 5:case 517:w={ixfe:K.ixfe,XF:k[K.ixfe],v:K.val,t:K.t},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t);break;case 638:w={ixfe:K.ixfe,XF:k[K.ixfe],v:K.rknum,t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t);break;case 189:for(var ae=K.c;ae<=K.C;++ae){var Ce=K.rkrec[ae-K.c][0];w={ixfe:Ce,XF:k[Ce],v:K.rkrec[ae-K.c][1],t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:ae,r:K.r},w,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){o=K;break}if(w=lx(K.val,K.cell.ixfe,K.tt),w.XF=k[w.ixfe],t.cellFormula){var Ae=K.formula;if(Ae&&Ae[0]&&Ae[0][0]&&Ae[0][0][0]=="PtgExp"){var ke=Ae[0][0][1][0],He=Ae[0][0][1][1],Fe=er({r:ke,c:He});y[Fe]?w.f=""+hi(K.formula,s,K.cell,B,N):w.F=((t.dense?(a[ke]||[])[He]:a[Fe])||{}).F}else w.f=""+hi(K.formula,s,K.cell,B,N)}D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E(K.cell,w,t),o=K}break;case 7:case 519:if(o)o.val=K,w=lx(K,o.cell.ixfe,"s"),w.XF=k[w.ixfe],t.cellFormula&&(w.f=""+hi(o.formula,s,o.cell,B,N)),D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(K);var Ge=er(K[0].s);if(d=t.dense?(a[K[0].s.r]||[])[K[0].s.c]:a[Ge],t.cellFormula&&d){if(!o||!Ge||!d)break;d.f=""+hi(K[1],s,K[0],B,N),d.F=_r(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[er(o.cell)]=K[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[er(o.cell)],(d||{}).f=""+hi(K[0],s,f,B,N)}}break;case 253:w=lx(l[K.isst].t,K.ixfe,"s"),l[K.isst].h&&(w.h=l[K.isst].h),w.XF=k[w.ixfe],D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:K.ixfe,XF:k[K.ixfe],t:"z"},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t));break;case 190:if(t.sheetStubs)for(var Ye=K.c;Ye<=K.C;++Ye){var et=K.ixfe[Ye-K.c];w={ixfe:et,XF:k[et],t:"z"},D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:Ye,r:K.r},w,t)}break;case 214:case 516:case 4:w=lx(K.val,K.ixfe,"s"),w.XF=k[w.ixfe],D>0&&(w.z=F[w.ixfe>>8&63]),vl(w,t,r.opts.Date1904),E({c:K.c,r:K.r},w,t);break;case 0:case 512:ce===1&&(s=K);break;case 252:l=K;break;case 1054:if(N.biff==4){F[D++]=K[1];for(var we=0;we<D+163&&rr[we]!=K[1];++we);we>=163&&Oh(K[1],D+163)}else Oh(K[1],K[0]);break;case 30:{F[D++]=K;for(var Ie=0;Ie<D+163&&rr[Ie]!=K;++Ie);Ie>=163&&Oh(K,D+163)}break;case 229:H=H.concat(K);break;case 93:X[K.cmo[0]]=N.lastobj=K;break;case 438:N.lastobj.TxO=K;break;case 127:N.lastobj.ImData=K;break;case 440:for(v=K[0].s.r;v<=K[0].e.r;++v)for(p=K[0].s.c;p<=K[0].e.c;++p)d=t.dense?(a[v]||[])[p]:a[er({c:p,r:v})],d&&(d.l=K[1]);break;case 2048:for(v=K[0].s.r;v<=K[0].e.r;++v)for(p=K[0].s.c;p<=K[0].e.c;++p)d=t.dense?(a[v]||[])[p]:a[er({c:p,r:v})],d&&d.l&&(d.l.Tooltip=K[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;d=t.dense?(a[K[0].r]||[])[K[0].c]:a[er(K[0])];var Ke=X[K[2]];d||(t.dense?(a[K[0].r]||(a[K[0].r]=[]),d=a[K[0].r][K[0].c]={t:"z"}):d=a[er(K[0])]={t:"z"},s.e.r=Math.max(s.e.r,K[0].r),s.s.r=Math.min(s.s.r,K[0].r),s.e.c=Math.max(s.e.c,K[0].c),s.s.c=Math.min(s.s.c,K[0].c)),d.c||(d.c=[]),m={a:K[1],t:Ke.TxO.t},d.c.push(m)}break;case 2173:Ope(k[K.ixfe],K.ext);break;case 125:{if(!N.cellStyles)break;for(;K.e>=K.s;)re[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},q||(q=!0,GP(K.w/256)),ap(re[K.e+1])}break;case 520:{var ft={};K.level!=null&&(J[K.r]=ft,ft.level=K.level),K.hidden&&(J[K.r]=ft,ft.hidden=!0),K.hpt&&(J[K.r]=ft,ft.hpt=K.hpt,ft.hpx=D1(K.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Dg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=K;break;case 161:a["!margins"]||Dg(a["!margins"]={}),a["!margins"].header=K.header,a["!margins"].footer=K.footer;break;case 574:K.RTL&&(T.Views[0].RTL=!0);break;case 146:C=K;break;case 2198:j=K;break;case 140:O=K;break;case 442:c?S.CodeName=K||S.name:T.WBProps.CodeName=K||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=Y}return r.SheetNames=Fl(i).sort(function(ht,dt){return Number(ht)-Number(dt)}).map(function(ht){return i[ht].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&U.forEach(function(ht,dt){r.Sheets[r.SheetNames[dt]]["!autofilter"]=ht}),r.Strings=l,r.SSF=Ya(rr),N.enc&&(r.Encryption=N.enc),j&&(r.Themes=j),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),B.names.length>0&&(T.Names=B.names),r.Workbook=T,r}var LD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function uve(e,t,r){var n=wr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=vD(n,khe,LD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=wr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=vD(s,Phe,LD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Az(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function oq(e,t){t||(t={}),JP(t),MU(),t.codepage&&NP(t.codepage);var r,n;if(e.FullPaths){if(wr.find(e,"/encryption"))throw new Error("File is password-protected");r=wr.find(e,"!CompObj"),n=wr.find(e,"/Workbook")||wr.find(e,"/Book")}else{switch(t.type){case"base64":e=Ho(Ms(e));break;case"binary":e=Ho(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Wa(e,0),n={content:e}}var a,i;if(r&&sve(r),t.bookProps&&!t.bookSheets)a={};else{var s=dr?"buffer":"array";if(n&&n.content)a=cve(n.content,t);else if((i=wr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Og.to_workbook(i.content,(t.type=s,t));else if((i=wr.find(e,"NativeContent_MAIN"))&&i.content)a=Og.to_workbook(i.content,(t.type=s,t));else throw(i=wr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&wr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Ype(e))}var o={};return e.FullPaths&&uve(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var hb={0:{f:Wge},1:{f:Yge},2:{f:a1e},3:{f:Zge},4:{f:Qge},5:{f:n1e},6:{f:o1e},7:{f:t1e},8:{f:h1e},9:{f:f1e},10:{f:c1e},11:{f:u1e},12:{f:Xge},13:{f:i1e},14:{f:e1e},15:{f:Jge},16:{f:rq},17:{f:l1e},18:{f:r1e},19:{f:VP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$1e},40:{},42:{},43:{f:cpe},44:{f:lpe},45:{f:upe},46:{f:hpe},47:{f:fpe},48:{},49:{f:dhe},50:{},51:{f:Dpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Mz},62:{f:s1e},63:{f:Fpe},64:{f:w1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Si,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Kge},148:{f:Hge,p:16},151:{f:m1e},152:{},153:{f:R1e},154:{},155:{},156:{f:M1e},157:{},158:{},159:{T:1,f:P0e},160:{T:-1},161:{T:1,f:od},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:d1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ipe},336:{T:-1},337:{f:Lpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:g1e},427:{f:v1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:x1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Gge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:p1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hpe},633:{T:1},634:{T:-1},635:{T:1,f:Wpe},636:{T:-1},637:{f:mhe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:k1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gT={6:{f:TS},10:{f:Au},12:{f:oa},13:{f:oa},14:{f:Gn},15:{f:Gn},16:{f:yi},17:{f:Gn},18:{f:Gn},19:{f:oa},20:{f:wD},21:{f:wD},23:{f:jz},24:{f:SD},25:{f:Gn},26:{},27:{},28:{f:zde},29:{},34:{f:Gn},35:{f:_D},38:{f:yi},39:{f:yi},40:{f:yi},41:{f:yi},42:{f:Gn},43:{f:Gn},47:{f:G0e},49:{f:Ade},51:{f:oa},60:{},61:{f:wde},64:{f:Gn},65:{f:Sde},66:{f:oa},77:{},80:{},81:{},82:{},85:{f:oa},89:{},90:{},91:{},92:{f:dde},93:{f:Wde},94:{},95:{f:Gn},96:{},97:{},99:{f:Gn},125:{f:Mz},128:{f:Lde},129:{f:pde},130:{f:oa},131:{f:Gn},132:{f:Gn},133:{f:mde},134:{},140:{f:Qde},141:{f:oa},144:{},146:{f:Zde},151:{},152:{},153:{},154:{},155:{},156:{f:oa},157:{},158:{},160:{f:a0e},161:{f:t0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Nde},190:{f:Ode},193:{f:Au},197:{},198:{},199:{},200:{},201:{},202:{f:Gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:oa},220:{},221:{f:Gn},222:{},224:{f:Dde},225:{f:hde},226:{f:Au},227:{},229:{f:qde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:gde},253:{f:Tde},255:{f:vde},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Cz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Gn},353:{f:Au},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Mde},431:{f:Gn},432:{},433:{},434:{},437:{},438:{f:Kde},439:{f:Gn},440:{f:Yde},441:{},442:{f:Vv},443:{},444:{f:oa},445:{},446:{},448:{f:Au},449:{f:bde,r:2},450:{f:Au},512:{f:xD},513:{f:n0e},515:{f:jde},516:{f:Ede},517:{f:bD},519:{f:i0e},520:{f:yde},523:{},545:{f:AD},549:{f:yD},566:{},574:{f:_de},638:{f:Cde},659:{},1048:{},1054:{f:kde},1084:{},1212:{f:Bde},2048:{f:Xde},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ix},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Au},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:e0e,r:12},2173:{f:Npe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:$de,r:12},2197:{},2198:{f:Ape,r:12},2199:{},2200:{},2201:{},2202:{f:Vde,r:12},2203:{f:Au},2204:{},2205:{},2206:{},2207:{},2211:{f:xde},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:r0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Jde},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xD},1:{},2:{f:c0e},3:{f:l0e},4:{f:o0e},5:{f:bD},7:{f:u0e},8:{},9:{f:ix},11:{},22:{f:oa},30:{f:Pde},31:{},32:{},33:{f:AD},36:{},37:{f:yD},50:{f:f0e},62:{},52:{},67:{},68:{f:oa},69:{},86:{},126:{},127:{f:s0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:h0e},223:{},234:{},354:{},421:{},518:{f:TS},521:{f:ix},536:{f:SD},547:{f:_D},561:{},579:{},1030:{f:TS},1033:{f:ix},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Do(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&gz(r)&&e.push(r)}}function jD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=jfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var p=l[s].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var _=y[o].trim();if(_.match(/<t[dh]/i)){for(var w=_,O=0;w.charAt(0)=="<"&&(O=w.indexOf(">"))>-1;)w=w.slice(O+1);for(var k=0;k<m.length;++k){var C=m[k];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,k=-1)}var T=Gt(_.slice(0,_.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!w.length){u+=h;continue}if(w=nz(w),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!w.length){u+=h;continue}var A={t:"s",v:w};r.raw||!w.trim().length||S=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(tl(w))?isNaN(np(w).getDate())||(A={t:"d",v:La(w)},r.cellDates||(A={t:"n",v:qi(A.v)}),A.z=r.dateNF||rr[14]):A={t:"n",v:tl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[er({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=_r(d),m.length&&(n["!merges"]=m),n}function fve(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=er({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||MP(f.w||(jc(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(Qfe("td",h,d))}}var m="<tr>";return m+i.join("")+"</tr>"}var hve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dve="</body></html>";function pve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Df(jD(r[0],t),t);var n=eC();return r.forEach(function(a,i){tC(n,jD(a,t),"Sheet"+(i+1))}),n}function mve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function gve(e,t){var r=t||{},n=r.header!=null?r.header:hve,a=r.footer!=null?r.footer:dve,i=[n],s=qp(e["!ref"]);r.dense=Array.isArray(e),i.push(mve(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(fve(e,s,o,r));return i.push("</table>"+a),i.join("")}function lq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Fi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=qp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),m=0,p=0,v=0,y=0,_=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&p<l;++m){var O=o[m];if(MD(O)){if(n.display)continue;d[p]={hidden:!0}}var k=O.children;for(v=y=0;v<k.length;++v){var C=k[v];if(!(n.display&&MD(C))){var T=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):nz(C.innerHTML),S=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<p+a&&p+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}w=+C.getAttribute("colspan")||1,((_=+C.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:y+i},e:{r:p+a+(_||1)-1,c:y+i+(w||1)-1}});var I={t:"s",v:T},E=C.getAttribute("data-t")||C.getAttribute("t")||"";T!=null&&(T.length==0?I.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?I={t:"b",v:!0}:T==="FALSE"?I={t:"b",v:!1}:isNaN(tl(T))?isNaN(np(T).getDate())||(I={t:"d",v:La(T)},n.cellDates||(I={t:"n",v:qi(I.v)}),I.z=n.dateNF||rr[14]):I={t:"n",v:tl(T)})),I.z===void 0&&S!=null&&(I.z=S);var N="",j=C.getElementsByTagName("A");if(j&&j.length)for(var H=0;H<j.length&&!(j[H].hasAttribute("href")&&(N=j[H].getAttribute("href"),N.charAt(0)!="#"));++H);N&&N.charAt(0)!="#"&&(I.l={Target:N}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+i]=I):e[er({c:y+i,r:p+a})]=I,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,p-1+a),e["!ref"]=_r(c),p>=l&&(e["!fullref"]=_r((c.e.r=o.length-m+p-1+a,c))),e}function cq(e,t){var r=t||{},n=r.dense?[]:{};return lq(n,e,t)}function vve(e,t){return Df(cq(e,t),t)}function MD(e){var t="",r=yve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function yve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Er(t.replace(/<[^>]*>/g,""));return[r]}var RD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uq(e,t){var r=t||{},n=RP(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],m=r.dense?[]:{},p,v,y={value:""},_="",w=0,O=[],k=-1,C=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,A={},I=[],E={},N=0,j=0,H=[],X=1,re=1,J=[],q={Names:[]},B={},ne=["",""],ce=[],D={},F="",U=0,G=!1,W=!1,Q=0;for(N1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=N1.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?m["!ref"]=_r(T):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=r.sheetRows-1,m["!ref"]=_r(T)),I.length&&(m["!merges"]=I),H.length&&(m["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=m,W=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=Gt(p[0],!1),k=C=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,m=r.dense?[]:{},I=[],H=[],W=!0);break;case"table-row-group":p[1]==="/"?--S:++S;break;case"table-row":case"":if(p[1]==="/"){k+=X,X=1;break}if(f=Gt(p[0],!1),f.?k=f.-1:k==-1&&(k=0),X=+f["number-rows-repeated"]||1,X<10)for(Q=0;Q<X;++Q)S>0&&(H[k+Q]={level:S});C=-1;break;case"covered-table-cell":p[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(m[k]||(m[k]=[]),m[k][C]={t:"z"}):m[er({r:k,c:C})]={t:"z"}),_="",O=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++C,y=Gt(p[0],!1),re=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=OD(Er(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=Er(y["string-value"]||""),r.dense?(m[k]||(m[k]=[]),m[k][C]=v):m[er({r:k,c:C})]=v),C+=re-1;else if(p[1]!=="/"){++C,_="",w=0,O=[],re=1;var oe=X?k+X-1:k;if(C>T.e.c&&(T.e.c=C),C<T.s.c&&(T.s.c=C),k<T.s.r&&(T.s.r=k),oe>T.e.r&&(T.e.r=oe),y=Gt(p[0],!1),ce=[],D={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Er(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,j=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:k,c:C},e:{r:k+N-1,c:C+j-1}},v.F=_r(E),J.push([E,v.F])),y.formula)v.f=OD(y.formula);else for(Q=0;Q<J.length;++Q)k>=J[Q][0].s.r&&k<=J[Q][0].e.r&&C>=J[Q][0].s.c&&C<=J[Q][0].e.c&&(v.F=J[Q][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,j=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:k,c:C},e:{r:k+N-1,c:C+j-1}},I.push(E)),y["number-columns-repeated"]&&(re=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=wn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=La(y["date-value"]),r.cellDates||(v.t="n",v.v=qi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Ife(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=o5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(_=Er(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=_||"",O.length&&(v.R=O),G=w==0),B.Target&&(v.l=B),ce.length>0&&(v.c=ce,ce=[]),_&&r.cellText!==!1&&(v.w=_),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var Y=0;Y<X;++Y){if(re=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(m[k+Y]||(m[k+Y]=[]),m[k+Y][C]=Y==0?v:Ya(v);--re>0;)m[k+Y][C+re]=Ya(v);else for(m[er({r:k+Y,c:C})]=v;--re>0;)m[er({r:k+Y,c:C+re})]=Ya(v);T.e.c<=C&&(T.e.c=C)}re=parseInt(y["number-columns-repeated"]||"1",10),C+=re-1,re=0,v={},_="",O=[]}B={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i;D.t=_,O.length&&(D.R=O),D.a=F,ce.push(D)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);F="",U=0,_="",w=0,O=[];break;case"creator":p[1]==="/"?F=n.slice(U,p.index):U=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);_="",w=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=Gt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Gt(p[0],!1),l+=RD[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Gt(p[0],!1),l+=RD[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,p.index);break}else c=p.index+p[0].length;break;case"named-range":s=Gt(p[0],!1),ne=ES(s["cell-range-address"]);var ue={Name:s.name,Ref:ne[0]+"!"+ne[1]};W&&(ue.Sheet=d.length),q.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var pe=xve(n.slice(w,p.index));_=(_.length>0?_+`
`:"")+pe[0]}else Gt(p[0],!1),w=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ne=ES(Gt(p[0])["target-range-address"]),h[ne[0]]["!autofilter"]={ref:ne[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(B=Gt(p[0],!1),!B.href)break;B.Target=Er(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(ne=ES(B.Target.slice(1)),B.Target="#"+ne[0]+"!"+ne[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var K={Sheets:h,SheetNames:d,Workbook:q};return r.bookSheets&&delete K.Sheets,K}function FD(e,t){t=t||{},ro(e,"META-INF/manifest.xml")&&jhe(sa(e,"META-INF/manifest.xml"),t);var r=ks(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=uq(fn(r),t);return ro(e,"meta.xml")&&(n.Props=Sz(sa(e,"meta.xml"))),n}function $D(e,t){return uq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function XP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function vT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):fn(id(e))}function yT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function BD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function bve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function L1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function _a(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function bi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=L1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=L1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function QP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function wve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=L1(e,n),i=bi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:_a(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=bi(o.data),c=_a(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=_a(i[3][0].data)>>>0>0),r.push(s)}return r}function _ve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=L1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[yT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=yT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Sve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_ve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return yT(t)}function Ave(e,t,r,n){var a=XP(e),i=a.getUint32(4,!0),s=(n>1?12:8)+BD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=BD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Tve(e,t,r){var n=XP(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=bve(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Eve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Ave(e,t,r,e[0]);case 5:return Tve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function lf(e){var t=bi(e);return L1(t[1][0].data)}function VD(e,t){var r=bi(t.data),n=_a(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=bi(s.data),l=_a(o[1][0].data)>>>0;switch(n){case 1:i[l]=vT(o[3][0].data);break;case 8:{var c=e[lf(o[9][0].data)][0],u=bi(c.data),f=e[lf(u[1][0].data)][0],h=_a(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=bi(f.data);i[l]=d[3].map(function(m){return vT(m.data)}).join("")}break}}),i}function kve(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,m,p,v=bi(e),y=_a(v[1][0].data)>>>0,_=_a(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&_a(v[8][0].data)>0||!1,O,k;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,k=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)O=(d=(h=v[4])==null?void 0:h[0])==null?void 0:d.data,k=(p=(m=v[3])==null?void 0:m[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=w?4:1,T=XP(O),S=[],A=0;A<O.length/2;++A){var I=T.getUint16(A*2,!0);I<65535&&S.push([A,I])}if(S.length!=_)throw"Expected ".concat(_," cells, found ").concat(S.length);var E=[];for(A=0;A<S.length-1;++A)E[S[A][0]]=k.subarray(S[A][1]*C,S[A+1][1]*C);return S.length>=1&&(E[S[S.length-1][0]]=k.subarray(S[S.length-1][1]*C)),{R:y,cells:E}}function Pve(e,t){var r,n=bi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?_a(n[7][0].data)>>>0>0?1:0:-1,i=QP(n[5],function(s){return kve(s,a)});return{nrows:_a(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Cve(e,t,r){var n,a=bi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(_a(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(_a(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=_r(i);var s=bi(a[4][0].data),o=VD(e,e[lf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?VD(e,e[lf(s[17][0].data)][0]):[],c=bi(s[3][0].data),u=0;c[1].forEach(function(f){var h=bi(f.data),d=e[lf(h[2][0].data)][0],m=_a(d.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var p=Pve(e,d);p.data.forEach(function(v,y){v.forEach(function(_,w){var O=er({r:u+y,c:w}),k=Eve(_,o,l);k&&(r[O]=k)})}),u+=p.nrows})}function Nve(e,t){var r=bi(t.data),n={"!ref":"A1"},a=e[lf(r[2][0].data)],i=_a(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Cve(e,a[0],n),n}function Ove(e,t){var r,n=bi(t.data),a={name:(r=n[1])!=null&&r[0]?vT(n[1][0].data):"",sheets:[]},i=QP(n[2],lf);return i.forEach(function(s){e[s].forEach(function(o){var l=_a(o.meta[1][0].data);l==6e3&&a.sheets.push(Nve(e,o))})}),a}function Ive(e,t){var r=eC(),n=bi(t.data),a=QP(n[1],lf);if(a.forEach(function(i){e[i].forEach(function(s){var o=_a(s.meta[1][0].data);if(o==2){var l=Ove(e,s);l.sheets.forEach(function(c,u){tC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function PS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Sve(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=wve(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&_a(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=_a(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Ive(i,o)}function Dve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function JP(e){Dve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Lve(e){return p0.WS.indexOf(e)>-1?"sheet":e==p0.CS?"chart":e==p0.DS?"dialog":e==p0.MS?"macro":e&&e.length?e:"sheet"}function jve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Lve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Mve(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Cg(ks(e,r,!0),t);var h=sa(e,t),d;switch(o){case"sheet":d=U1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=z1e(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var m=ng(d["!drawel"].Target,t),p=hT(m),v=Vpe(ks(e,m,!0),Cg(ks(e,p,!0),m)),y=ng(v,m),_=hT(y);d=T1e(ks(e,y,!0),y,l,Cg(ks(e,_,!0),y),c,d);break;case"macro":d=q1e(h,t,a,l,i[n],c,u,f);break;case"dialog":d=W1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var w=[];i&&i[n]&&Fl(i[n]).forEach(function(O){var k="";if(i[n][O].Type==p0.CMNT){k=ng(i[n][O].Target,t);var C=Y1e(sa(e,k,!0),k,l);if(!C||!C.length)return;ED(d,C,!1)}i[n][O].Type==p0.TCMNT&&(k=ng(i[n][O].Target,t),w=w.concat(zpe(sa(e,k,!0),l)))}),w&&w.length&&ED(d,w,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function Ys(e){return e.charAt(0)=="/"?e.slice(1):e}function Rve(e,t){if(KU(),t=t||{},JP(t),ro(e,"META-INF/manifest.xml")||ro(e,"objectdata.xml"))return FD(e,t);if(ro(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PS<"u"){if(e.FileIndex)return PS(e);var r=wr.utils.cfb_new();return Z8(e).forEach(function(H){Ffe(r,H,Rfe(e,H))}),PS(r)}throw new Error("Unsupported NUMBERS file")}if(!ro(e,"[Content_Types].xml"))throw ro(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ro(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Z8(e),a=Dhe(ks(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",sa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!sa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Ig=[],a.sst)try{Ig=K1e(sa(e,Ys(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(l=G1e(ks(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=H1e(sa(e,Ys(a.style)),a.style,l,t))}a.links.map(function(H){try{var X=Cg(ks(e,hT(Ys(H))),H);return Q1e(sa(e,Ys(H)),X,H,t)}catch{}});var u=V1e(sa(e,Ys(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=sa(e,Ys(a.coreprops[0]),!0),h&&(f=Sz(h)),a.extprops.length!==0&&(h=sa(e,Ys(a.extprops[0]),!0),h&&Fhe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ks(e,Ys(a.custprops[0]),!0),h&&(d=Bhe(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=d),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var p={};t.bookDeps&&a.calcchain&&(p=X1e(sa(e,Ys(a.calcchain)),a.calcchain));var v=0,y={},_,w;{var O=u.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var k=0;k!=O.length;++k)f.SheetNames[k]=O[k].name}var C=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");ro(e,S)||(S="xl/_rels/workbook."+C+".rels");var A=Cg(ks(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=J1e(sa(e,Ys(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=qpe(sa(e,Ys(a.people[0])),t)),A&&(A=jve(A,u.Sheets));var I=sa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(A&&A[v]?(_="xl/"+A[v][1].replace(/[\/]?xl\//,""),ro(e,_)||(_=A[v][1]),ro(e,_)||(_=S.replace(/_rels\/.*$/,"")+A[v][1]),E=A[v][2]):(_="xl/worksheets/sheet"+(v+1-I)+"."+C,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==v&&(N=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}Mve(e,_,w,f.SheetNames[v],v,y,s,E,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:Ig,Styles:c,Themes:l,SSF:Ya(rr)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(H,X){H=H.replace(/^Root Entry[\/]/,""),m.keys.push(H),m.files[H]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=sa(e,Ys(a.vba[0]),!0):a.defaults&&a.defaults.bin===Kpe&&(m.vbaraw=sa(e,"xl/vbaProject.bin",!0))),m}function Fve(e,t){var r=t||{},n="Workbook",a=wr.find(e,n);try{if(n="/!DataSpaces/Version",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(N0e(a.content),n="/!DataSpaces/DataSpaceMap",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=I0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=D0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);j0e(a.content)}catch{}if(n="/EncryptionInfo",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=M0e(a.content);if(n="/EncryptedPackage",a=wr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function ZP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ms(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function $ve(e,t){return wr.find(e,"EncryptedPackage")?Fve(e,t):oq(e,t)}function Bve(e,t){var r,n=e,a=t||{};return a.type||(a.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r=ez(n,a),Rve(r,a)}function fq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return mT(e.slice(r),t);default:break e}return O1.to_workbook(e,t)}function Vve(e,t){var r="",n=ZP(e,t);switch(t.type){case"base64":r=Ms(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Wh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=fn(r)),t.type="binary",fq(r,t)}function Uve(e,t){var r=e;return t.type=="base64"&&(r=Ms(r)),r=ju.utils.decode(1200,r.slice(2),"str"),t.type="binary",fq(r,t)}function zve(e){return e.match(/[^\x00-\x7F]/)?ag(e):e}function CS(e,t,r,n){return n?(r.type="string",O1.to_workbook(e,r)):O1.to_workbook(t,r)}function xT(e,t){MU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return xT(new Uint8Array(e),(r=Ya(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),C0={},r.dateNF&&(C0.dateNF=r.dateNF),r.type||(r.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=dr?"buffer":"binary",n=Nfe(e),typeof Uint8Array<"u"&&!dr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=zve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ya(r),r.type="array",xT(OP(n),r)}switch((a=ZP(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return $ve(wr.read(n,r),r);break;case 9:if(a[1]<=8)return oq(n,r);break;case 60:return mT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return v0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return m0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Bve(n,r):CS(e,n,r,i);case 239:return a[3]===60?mT(n,r):CS(e,n,r,i);case 255:if(a[1]===254)return Uve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Og.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Og.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return TD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return K0e.to_workbook(n,r);break;case 10:case 13:case 32:return Vve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return d0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?TD.to_workbook(n,r):CS(e,n,r,i)}function qve(e,t,r,n,a,i,s,o){var l=Xa(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var m=s?e[r][d]:e[n[d]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[d]!=null){if(p==null)if(m.t=="e"&&p===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&p===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?p:jc(m,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function bT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=qn(u);break;case"number":l=qn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=Xa(l.s.r),h=[],d=[],m=0,p=0,v=Array.isArray(e),y=l.s.r,_=0,w={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],k=c.skipHidden&&e["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(O[_]||{}).hidden)switch(h[_]=xa(_),r=v?e[y][_]:e[h[_]+f],n){case 1:i[_]=_-l.s.c;break;case 2:i[_]=h[_];break;case 3:i[_]=c.header[_-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=jc(r,null,c),p=w[s]||0,!p)w[s]=1;else{do o=s+"_"+p++;while(w[o]);w[s]=p,w[o]=1}i[_]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(k[y]||{}).hidden){var C=qve(e,l,y,h,n,i,v,c);(C.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[m++]=C.row)}return d.length=m,d}var UD=/"/g;function Wve(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=Xa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:jc(d,null,o));for(var m=0,p=0;m!==u.length;++m)if((p=u.charCodeAt(m))===a||p===i||p===34||o.forceQuotes){u='"'+u.replace(UD,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(UD,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function hq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=qn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=xa(m));for(var p=0,v=a.s.r;v<=a.e.r;++v)(d[v]||{}).hidden||(u=Wve(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function Hve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=hq(e,t);return r}function Gve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=qn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=xa(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Xa(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function dq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Fi(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=qn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(p,v){Fl(p).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var _=p[y],w="z",O="",k=er({c:o+d,r:s+v+a});c=j1(i,k),_&&typeof _=="object"&&!(_ instanceof Date)?i[k]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=qi(_)),O=n.dateNF||rr[14]):_===null&&n.nullError&&(w="e",_=0),c?(c.t=w,c.v=_,delete c.w,delete c.R,O&&(c.z=O)):i[k]=c={t:w,v:_},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=Xa(s);if(a)for(d=0;d<h.length;++d)i[xa(d+o)+m]={t:"s",v:h[d]};return i["!ref"]=_r(u),i}function Kve(e,t){return dq(null,e,t)}function j1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Fi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?j1(e,er(t)):j1(e,er({r:t,c:r||0}))}function Yve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function eC(){return{SheetNames:[],Sheets:{}}}function tC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(D1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Xve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Yve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Qve(e,t){return e.z=t,e}function pq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Jve(e,t,r){return pq(e,"#"+t,r)}function Zve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function eye(e,t,r,n){for(var a=typeof t!="string"?t:qn(t),i=typeof t=="string"?t:_r(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=j1(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var tye={encode_col:xa,encode_row:Xa,encode_cell:er,encode_range:_r,decode_col:BP,decode_row:$P,split_cell:hhe,decode_cell:Fi,decode_range:qp,format_cell:jc,sheet_add_aoa:yz,sheet_add_json:dq,sheet_add_dom:lq,aoa_to_sheet:Wp,json_to_sheet:Kve,table_to_sheet:cq,table_to_book:vve,sheet_to_csv:hq,sheet_to_txt:Hve,sheet_to_json:bT,sheet_to_html:gve,sheet_to_formulae:Gve,sheet_to_row_object_array:bT,sheet_get_cell:j1,book_new:eC,book_append_sheet:tC,book_set_sheet_visibility:Xve,cell_set_number_format:Qve,cell_set_hyperlink:pq,cell_set_internal_link:Jve,cell_add_comment:Zve,sheet_set_array_formula:eye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},mq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Wm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var I=k(A);I.chunkSize=parseInt(I.chunkSize),A.step||A.chunk||(I.chunkSize=null),this._handle=new p(I),(this._handle.streamer=this)._config=I}).call(this,S),this.parseChunk=function(A,I){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let j=this._config.newline;j||(N=this._config.quoteChar||'"',j=this._handle.guessLineEndings(A,N)),A=[...A.split(j).slice(E)].join(j)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(A))!==void 0&&(A=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+A,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(A-this._baseIndex),this._baseIndex=A),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(A){T(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:A,finished:!1})}}function f(S){var A;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=C(this._chunkLoaded,this),A.onerror=C(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,E=this._config.downloadRequestHeaders;for(I in E)A.setRequestHeader(I,E[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+N));try{A.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(I){I=A.statusText||I,this._sendError(new Error(I))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var A,I,E=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,E?((A=new FileReader).onload=C(this._chunkLoaded,this),A.onerror=C(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,j)),A.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(A.error)}}function d(S){var A;u.call(this,S=S||{}),this.stream=function(I){return A=I,this._nextChunk()},this._nextChunk=function(){var I,E;if(!this._finished)return I=this._config.chunkSize,A=I?(E=A.substring(0,I),A.substring(I)):(E=A,""),this._finished=!A,this.parseChunk(E)}}function m(S){u.call(this,S=S||{});var A=[],I=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):I=!0},this._streamData=C(function(N){try{A.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(j){this._streamError(j)}},this),this._streamError=C(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=C(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(S){var A,I,E,N,j=Math.pow(2,53),H=-j,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,q=0,B=0,ne=!1,ce=!1,D=[],F={data:[],errors:[],meta:{}};function U(oe){return S.skipEmptyLines==="greedy"?oe.join("").trim()==="":oe.length===1&&oe[0].length===0}function G(){if(F&&E&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),S.skipEmptyLines&&(F.data=F.data.filter(function(pe){return!U(pe)})),W()){let pe=function(K,je){T(S.transformHeader)&&(K=S.transformHeader(K,je)),D.push(K)};if(F)if(Array.isArray(F.data[0])){for(var oe=0;W()&&oe<F.data.length;oe++)F.data[oe].forEach(pe);F.data.splice(0,1)}else F.data.forEach(pe)}function Y(pe,K){for(var je=S.header?{}:[],Oe=0;Oe<pe.length;Oe++){var Se=Oe,ae=pe[Oe],ae=((Ce,Ae)=>(ke=>(S.dynamicTypingFunction&&S.dynamicTyping[ke]===void 0&&(S.dynamicTyping[ke]=S.dynamicTypingFunction(ke)),(S.dynamicTyping[ke]||S.dynamicTyping)===!0))(Ce)?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&((ke=>{if(X.test(ke)&&(ke=parseFloat(ke),H<ke&&ke<j))return 1})(Ae)?parseFloat(Ae):re.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae)(Se=S.header?Oe>=D.length?"__parsed_extra":D[Oe]:Se,ae=S.transform?S.transform(ae,Se):ae);Se==="__parsed_extra"?(je[Se]=je[Se]||[],je[Se].push(ae)):je[Se]=ae}return S.header&&(Oe>D.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+Oe,B+K):Oe<D.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+Oe,B+K)),je}var ue;F&&(S.header||S.dynamicTyping||S.transform)&&(ue=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(Y),ue=F.data.length):F.data=Y(F.data,0),S.header&&F.meta&&(F.meta.fields=D),B+=ue)}function W(){return S.header&&D.length===0}function Q(oe,Y,ue,pe){oe={type:oe,code:Y,message:ue},pe!==void 0&&(oe.row=pe),F.errors.push(oe)}T(S.step)&&(N=S.step,S.step=function(oe){F=oe,W()?G():(G(),F.data.length!==0&&(q+=oe.data.length,S.preview&&q>S.preview?I.abort():(F.data=F.data[0],N(F,J))))}),this.parse=function(oe,Y,ue){var pe=S.quoteChar||'"',pe=(S.newline||(S.newline=this.guessLineEndings(oe,pe)),E=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(oe),F.meta.delimiter=S.delimiter):((pe=((K,je,Oe,Se,ae)=>{var Ce,Ae,ke,He;ae=ae||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Fe=0;Fe<ae.length;Fe++){for(var Ge,Ye=ae[Fe],et=0,we=0,Ie=0,Ke=(ke=void 0,new y({comments:Se,delimiter:Ye,newline:je,preview:10}).parse(K)),ft=0;ft<Ke.data.length;ft++)Oe&&U(Ke.data[ft])?Ie++:(Ge=Ke.data[ft].length,we+=Ge,ke===void 0?ke=Ge:0<Ge&&(et+=Math.abs(Ge-ke),ke=Ge));0<Ke.data.length&&(we/=Ke.data.length-Ie),(Ae===void 0||et<=Ae)&&(He===void 0||He<we)&&1.99<we&&(Ae=et,Ce=Ye,He=we)}return{successful:!!(S.delimiter=Ce),bestDelimiter:Ce}})(oe,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=pe.bestDelimiter:(E=!0,S.delimiter=c.DefaultDelimiter),F.meta.delimiter=S.delimiter),k(S));return S.preview&&S.header&&pe.preview++,A=oe,I=new y(pe),F=I.parse(A,Y,ue),G(),ne?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ne},this.pause=function(){ne=!0,I.abort(),A=T(S.chunk)?"":A.substring(I.getCharIndex())},this.resume=function(){J.streamer._halted?(ne=!1,J.streamer.parseChunk(A,!0)):setTimeout(J.resume,3)},this.aborted=function(){return ce},this.abort=function(){ce=!0,I.abort(),F.meta.aborted=!0,T(S.complete)&&S.complete(F),A=""},this.guessLineEndings=function(K,pe){K=K.substring(0,1048576);var pe=new RegExp(v(pe)+"([^]*?)"+v(pe),"gm"),ue=(K=K.replace(pe,"")).split("\r"),pe=K.split(`
`),K=1<pe.length&&pe[0].length<ue[0].length;if(ue.length===1||K)return`
`;for(var je=0,Oe=0;Oe<ue.length;Oe++)ue[Oe][0]===`
`&&je++;return je>=ue.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var A=(S=S||{}).delimiter,I=S.newline,E=S.comments,N=S.step,j=S.preview,H=S.fastMode,X=null,re=!1,J=S.quoteChar==null?'"':S.quoteChar,q=J;if(S.escapeChar!==void 0&&(q=S.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),E===A)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var B=0,ne=!1;this.parse=function(ce,D,F){if(typeof ce!="string")throw new Error("Input must be a string");var U=ce.length,G=A.length,W=I.length,Q=E.length,oe=T(N),Y=[],ue=[],pe=[],K=B=0;if(!ce)return et();if(H||H!==!1&&ce.indexOf(J)===-1){for(var je=ce.split(I),Oe=0;Oe<je.length;Oe++){if(pe=je[Oe],B+=pe.length,Oe!==je.length-1)B+=I.length;else if(F)return et();if(!E||pe.substring(0,Q)!==E){if(oe){if(Y=[],He(pe.split(A)),we(),ne)return et()}else He(pe.split(A));if(j&&j<=Oe)return Y=Y.slice(0,j),et(!0)}}return et()}for(var Se=ce.indexOf(A,B),ae=ce.indexOf(I,B),Ce=new RegExp(v(q)+v(J),"g"),Ae=ce.indexOf(J,B);;)if(ce[B]===J)for(Ae=B,B++;;){if((Ae=ce.indexOf(J,Ae+1))===-1)return F||ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Y.length,index:B}),Ge();if(Ae===U-1)return Ge(ce.substring(B,Ae).replace(Ce,J));if(J===q&&ce[Ae+1]===q)Ae++;else if(J===q||Ae===0||ce[Ae-1]!==q){Se!==-1&&Se<Ae+1&&(Se=ce.indexOf(A,Ae+1));var ke=Fe((ae=ae!==-1&&ae<Ae+1?ce.indexOf(I,Ae+1):ae)===-1?Se:Math.min(Se,ae));if(ce.substr(Ae+1+ke,G)===A){pe.push(ce.substring(B,Ae).replace(Ce,J)),ce[B=Ae+1+ke+G]!==J&&(Ae=ce.indexOf(J,B)),Se=ce.indexOf(A,B),ae=ce.indexOf(I,B);break}if(ke=Fe(ae),ce.substring(Ae+1+ke,Ae+1+ke+W)===I){if(pe.push(ce.substring(B,Ae).replace(Ce,J)),Ye(Ae+1+ke+W),Se=ce.indexOf(A,B),Ae=ce.indexOf(J,B),oe&&(we(),ne))return et();if(j&&Y.length>=j)return et(!0);break}ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Y.length,index:B}),Ae++}}else if(E&&pe.length===0&&ce.substring(B,B+Q)===E){if(ae===-1)return et();B=ae+W,ae=ce.indexOf(I,B),Se=ce.indexOf(A,B)}else if(Se!==-1&&(Se<ae||ae===-1))pe.push(ce.substring(B,Se)),B=Se+G,Se=ce.indexOf(A,B);else{if(ae===-1)break;if(pe.push(ce.substring(B,ae)),Ye(ae+W),oe&&(we(),ne))return et();if(j&&Y.length>=j)return et(!0)}return Ge();function He(Ie){Y.push(Ie),K=B}function Fe(Ie){var Ke=0;return Ke=Ie!==-1&&(Ie=ce.substring(Ae+1,Ie))&&Ie.trim()===""?Ie.length:Ke}function Ge(Ie){return F||(Ie===void 0&&(Ie=ce.substring(B)),pe.push(Ie),B=U,He(pe),oe&&we()),et()}function Ye(Ie){B=Ie,He(pe),pe=[],ae=ce.indexOf(I,B)}function et(Ie){if(S.header&&!D&&Y.length&&!re){var Ke=Y[0],ft=Object.create(null),ht=new Set(Ke);let dt=!1;for(let tt=0;tt<Ke.length;tt++){let jt=Ke[tt];if(ft[jt=T(S.transformHeader)?S.transformHeader(jt,tt):jt]){let Lt,en=ft[jt];for(;Lt=jt+"_"+en,en++,ht.has(Lt););ht.add(Lt),Ke[tt]=Lt,ft[jt]++,dt=!0,(X=X===null?{}:X)[Lt]=jt}else ft[jt]=1,Ke[tt]=jt;ht.add(jt)}dt&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:Y,errors:ue,meta:{delimiter:A,linebreak:I,aborted:ne,truncated:!!Ie,cursor:K+(D||0),renamedHeaders:X}}}function we(){N(et()),Y=[],ue=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return B}}function _(S){var A=S.data,I=o[A.workerId],E=!1;if(A.error)I.userError(A.error,A.file);else if(A.results&&A.results.data){var N={abort:function(){E=!0,w(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(T(I.userStep)){for(var j=0;j<A.results.data.length&&(I.userStep({data:A.results.data[j],errors:A.results.errors,meta:A.results.meta},N),!E);j++);delete A.results}else T(I.userChunk)&&(I.userChunk(A.results,N,A.file),delete A.results)}A.finished&&!E&&w(A.workerId,A.results)}function w(S,A){var I=o[S];T(I.userComplete)&&I.userComplete(A),I.terminate(),delete o[S]}function O(){throw new Error("Not implemented.")}function k(S){if(typeof S!="object"||S===null)return S;var A,I=Array.isArray(S)?[]:{};for(A in S)I[A]=k(S[A]);return I}function C(S,A){return function(){S.apply(A,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,A){var I=(A=A||{}).dynamicTyping||!1;if(T(I)&&(A.dynamicTypingFunction=I,I={}),A.dynamicTyping=I,A.transform=!!T(A.transform)&&A.transform,!A.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(S),I=new(A.download?f:d)(A)):S.readable===!0&&T(S.read)&&T(S.on)?I=new m(A):(n.File&&S instanceof File||S instanceof Object)&&(I=new h(A)),I.stream(S);(I=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,j=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=_,E.id=l++,o[E.id]=E)})()).userStep=A.step,I.userChunk=A.chunk,I.userComplete=A.complete,I.userError=A.error,A.step=T(A.step),A.chunk=T(A.chunk),A.complete=T(A.complete),A.error=T(A.error),delete A.worker,I.postMessage({input:S,config:A,workerId:I.id})},c.unparse=function(S,A){var I=!1,E=!0,N=",",j=`\r
`,H='"',X=H+H,re=!1,J=null,q=!1,B=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||c.BAD_DELIMITERS.filter(function(D){return A.delimiter.indexOf(D)!==-1}).length||(N=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(I=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(re=A.skipEmptyLines),typeof A.newline=="string"&&(j=A.newline),typeof A.quoteChar=="string"&&(H=A.quoteChar),typeof A.header=="boolean"&&(E=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");J=A.columns}A.escapeChar!==void 0&&(X=A.escapeChar+H),A.escapeFormulae instanceof RegExp?q=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(H),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ne(null,S,re);if(typeof S[0]=="object")return ne(J||Object.keys(S[0]),S,re)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||J),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),ne(S.fields||[],S.data||[],re);throw new Error("Unable to serialize unrecognized input");function ne(D,F,U){var G="",W=(typeof D=="string"&&(D=JSON.parse(D)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(D)&&0<D.length),Q=!Array.isArray(F[0]);if(W&&E){for(var oe=0;oe<D.length;oe++)0<oe&&(G+=N),G+=ce(D[oe],oe);0<F.length&&(G+=j)}for(var Y=0;Y<F.length;Y++){var ue=(W?D:F[Y]).length,pe=!1,K=W?Object.keys(F[Y]).length===0:F[Y].length===0;if(U&&!W&&(pe=U==="greedy"?F[Y].join("").trim()==="":F[Y].length===1&&F[Y][0].length===0),U==="greedy"&&W){for(var je=[],Oe=0;Oe<ue;Oe++){var Se=Q?D[Oe]:Oe;je.push(F[Y][Se])}pe=je.join("").trim()===""}if(!pe){for(var ae=0;ae<ue;ae++){0<ae&&!K&&(G+=N);var Ce=W&&Q?D[ae]:ae;G+=ce(F[Y][Ce],ae)}Y<F.length-1&&(!U||0<ue&&!K)&&(G+=j)}}return G}function ce(D,F){var U,G;return D==null?"":D.constructor===Date?JSON.stringify(D).slice(1,25):(G=!1,q&&typeof D=="string"&&q.test(D)&&(D="'"+D,G=!0),U=D.toString().replace(B,X),(G=G||I===!0||typeof I=="function"&&I(D,F)||Array.isArray(I)&&I[F]||((W,Q)=>{for(var oe=0;oe<Q.length;oe++)if(-1<W.indexOf(Q[oe]))return!0;return!1})(U,c.BAD_DELIMITERS)||-1<U.indexOf(N)||U.charAt(0)===" "||U.charAt(U.length-1)===" ")?H+U+H:U)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=p,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var A=S.config||{},I=[];return this.each(function(j){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)I.push({file:this.files[H],inputElem:this,instanceConfig:a.extend({},A)})}),E(),this;function E(){if(I.length===0)T(S.complete)&&S.complete();else{var j,H,X,re,J=I[0];if(T(S.before)){var q=S.before(J.file,J.inputElem);if(typeof q=="object"){if(q.action==="abort")return j="AbortError",H=J.file,X=J.inputElem,re=q.reason,void(T(S.error)&&S.error({name:j},H,X,re));if(q.action==="skip")return void N();typeof q.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,q.config))}else if(q==="skip")return void N()}var B=J.instanceConfig.complete;J.instanceConfig.complete=function(ne){T(B)&&B(ne,J.file,J.inputElem),N()},c.parse(J.file,J.instanceConfig)}}function N(){I.splice(0,1),E()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(mq);var rye=mq.exports;const nye=Zr(rye),gq=()=>{const{user:e}=Ai(),{isDarkMode:t}=sn(),[r,n]=Z.useState(!1),[a,i]=Z.useState([]),[s,o]=Z.useState(!1),[l,c]=Z.useState({name:"",unit:"",barcode:""}),[u,f]=Z.useState(null),[h,d]=Z.useState(null),[m,p]=Z.useState(!1),[v,y]=Z.useState(!1),[_,w]=Z.useState(null),[O,k]=Z.useState(null),[C,T]=Z.useState(!1),[S,A]=Z.useState(""),[I,E]=Z.useState(null),[N,j]=Z.useState(null),H=Ne.useRef(null),[X,re]=Z.useState(null);Z.useEffect(()=>{J(),q()},[]);const J=async W=>{o(!0);try{let Q;if(W&&W.trim()!==""){const oe=Ar(Nt(vt,"scannedProducts"),Br("name",">=",W),Br("name","<=",W+""),vi("name"),Wx(100)),Y=Ar(Nt(vt,"scannedProducts"),Br("barcode",">=",W),Br("barcode","<=",W+""),vi("barcode"),Wx(100)),[ue,pe]=await Promise.all([kr(oe),kr(Y)]),K=[...ue.docs,...pe.docs].reduce((je,Oe)=>(je.some(Se=>Se.id===Oe.id)||je.push(Oe),je),[]);i(K.map(je=>{const Oe=je.data();return{id:je.id,name:Oe.name,unit:Oe.unit,barcode:Oe.barcode,createdAt:Oe.createdAt instanceof Kt?Oe.createdAt.toDate():new Date(Oe.createdAt)}}))}else{Q=Ar(Nt(vt,"scannedProducts"),vi("createdAt","desc"),Wx(100));const Y=(await kr(Q)).docs.map(ue=>{const pe=ue.data();return{id:ue.id,name:pe.name,unit:pe.unit,barcode:pe.barcode,createdAt:pe.createdAt instanceof Kt?pe.createdAt.toDate():new Date(pe.createdAt)}});i(Y)}}catch{f("Failed to fetch products")}finally{o(!1)}},q=async()=>{try{const W=Nt(vt,"scannedProducts"),Q=await fae(W);re(Q.data().count)}catch{re(null)}},B=W=>{W?(c({name:W.name||"",unit:W.unit||"",barcode:W.barcode||""}),d(W)):(c({name:"",unit:"",barcode:""}),d(null)),n(!0),f(null)},ne=()=>{n(!1),f(null)},ce=W=>{c({...l,[W.target.name]:W.target.value})},D=async W=>{c(Q=>({...Q,barcode:W})),p(!1),w(null),y(!0);try{const oe=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,ue=await(await fetch(oe)).json();if(ue&&ue.items&&ue.items.length>0){const pe=ue.items[0];c(K=>({...K,name:pe.title||K.name}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{y(!1)}},F=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("All fields are required");return}o(!0);try{const Q=l.name.toUpperCase();if(h){const oe=Zn(vt,"scannedProducts",h.id);if(await vc(oe,{name:Q,unit:l.unit,barcode:l.barcode}),e&&h){const Y=[];h.name!==Q&&Y.push(`name from "${h.name}" to "${Q}"`),h.unit!==l.unit&&Y.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Y.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),Y.length>0&&await Vr(Nt(vt,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Q}": ${Y.join(", ")}`,time:new Date().toISOString()})}}else await Vr(Nt(vt,"scannedProducts"),{name:Q,unit:l.unit,barcode:l.barcode,createdAt:Kt.fromDate(new Date)}),e&&await Vr(Nt(vt,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Q}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),J()}catch{f("Failed to save product")}finally{o(!1)}},U=async()=>{if(O){T(!0);try{const W=a.find(Q=>Q.id===O);await y1(Zn(vt,"scannedProducts",O)),e&&W&&await Vr(Nt(vt,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),k(null),J()}catch{}finally{T(!1)}}},G=async W=>{var Y;const Q=(Y=W.target.files)==null?void 0:Y[0];if(!Q)return;let oe=[];try{if(Q.name.endsWith(".csv")){const ue=await Q.text(),K=nye.parse(ue,{header:!0}).data;oe=K.map(Oe=>{var Se,ae,Ce;return{name:((Se=Oe.Description)==null?void 0:Se.toString().trim())||"",unit:((ae=Oe.Unit)==null?void 0:ae.toString().trim())||"",barcode:((Ce=Oe.EAN)==null?void 0:Ce.toString().trim())||""}}).filter(Oe=>Oe.name||Oe.unit||Oe.barcode);const je=K.length-oe.length;je>0&&(console.log(`${je} rows skipped (all columns empty).`),j({type:"error",message:`${je} rows skipped (all columns empty).`}))}else if(Q.name.endsWith(".xlsx")){const ue=await Q.arrayBuffer(),pe=xT(ue,{type:"array"}),K=pe.Sheets[pe.SheetNames[0]],je=tye.sheet_to_json(K);oe=je.map(Se=>{var ae,Ce,Ae;return{name:((ae=Se.Description)==null?void 0:ae.toString().trim())||"",unit:((Ce=Se.Unit)==null?void 0:Ce.toString().trim())||"",barcode:((Ae=Se.EAN)==null?void 0:Ae.toString().trim())||""}}).filter(Se=>Se.name||Se.unit||Se.barcode);const Oe=je.length-oe.length;Oe>0&&(console.log(`${Oe} rows skipped (all columns empty).`),j({type:"error",message:`${Oe} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),j({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(oe.length===0){console.log("No valid products found in file."),j({type:"error",message:"No valid products found in file."});return}for(const ue of oe)await Vr(Nt(vt,"scannedProducts"),{name:ue.name.toUpperCase(),unit:ue.unit,barcode:ue.barcode,createdAt:Kt.fromDate(new Date)});e&&await Vr(Nt(vt,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${oe.length} products from file "${Q.name}"`,time:new Date().toISOString()}),j({type:"success",message:`Uploaded ${oe.length} products successfully!`}),console.log(`Uploaded ${oe.length} products successfully!`),J()}catch{console.log("Failed to upload products."),j({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?g.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):g.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[g.jsxs("div",{className:"flex items-center justify-between py-4",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),g.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",X!==null?X:g.jsx("span",{className:"animate-pulse",children:"..."})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[g.jsx("div",{children:g.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),g.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[g.jsx(Ct,{variant:"secondary",onClick:()=>J(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:g.jsx(Pf,{size:18,className:s?"animate-spin":""})}),g.jsx(Ct,{icon:g.jsx(fZ,{size:18}),onClick:()=>{var W;return(W=H.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),g.jsx("input",{type:"file",accept:".csv,.xlsx",ref:H,onChange:G,style:{display:"none"}}),g.jsx(Ct,{icon:g.jsx(Ds,{size:18}),onClick:()=>B(),className:"w-full md:w-auto",children:"Add Product"})]})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(yt,{type:"text",placeholder:"Search by name or barcode",value:S,onChange:W=>{const Q=W.target.value;A(Q),J(Q.toUpperCase())},className:"pl-10",fullWidth:!0}),g.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:g.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[g.jsx("circle",{cx:"7",cy:"7",r:"6"}),g.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),g.jsx(zn,{isOpen:r,onClose:ne,title:h?"Edit Product":"Add Product",size:"sm",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsx(yt,{label:"Product Name",name:"name",value:l.name,onChange:ce,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx(yt,{label:"Unit",name:"unit",value:l.unit,onChange:ce,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),g.jsxs("div",{className:"relative w-full",children:[g.jsx(yt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ce,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){w(null),y(!0);try{await D(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?g.jsx(Wo,{size:18,className:"animate-spin text-blue-500"}):g.jsx(df,{size:18,className:"text-blue-500"})})]}),u&&g.jsx("div",{className:"text-red-500 text-sm",children:u}),_&&g.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),v&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsx(Wo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ct,{type:"button",variant:"secondary",onClick:()=>p(!0),children:"Scan"}),g.jsx(Ct,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),g.jsx(Up,{isOpen:m,onClose:()=>p(!1),onBarcodeScanned:D}),g.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:g.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[g.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?g.jsx("tr",{children:g.jsx("td",{colSpan:5,style:{border:0,padding:0},children:g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[g.jsx(Wo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):a.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,Q)=>g.jsxs(kn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Q*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(W),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:xr(W.createdAt,"MMM d, yyyy, h:mm a")}),g.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[g.jsx("button",{onClick:oe=>{oe.stopPropagation(),B(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:oe=>{oe.stopPropagation(),k(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:C&&O===W.id,children:g.jsx(Zo,{size:16})})]})]},W.id))})]})}),g.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[g.jsx(Wo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):a.length===0?g.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>g.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(W),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),g.jsx("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:W.unit})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ct,{variant:"ghost",size:"sm",onClick:Q=>{Q.stopPropagation(),B(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Ct,{variant:"ghost",size:"sm",onClick:Q=>{Q.stopPropagation(),k(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:C&&O===W.id,children:g.jsx(Zo,{size:16})})]})]}),g.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",g.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),g.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",g.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:xr(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),g.jsx(zn,{isOpen:!!O,onClose:()=>k(null),title:"Delete Product",size:"sm",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{children:"Are you sure you want to delete this product?"}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ct,{variant:"secondary",onClick:()=>k(null),disabled:C,children:"Cancel"}),g.jsxs(Ct,{variant:"danger",onClick:U,isLoading:C,className:"flex items-center justify-center",children:[C&&g.jsx(Wo,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),g.jsx(zn,{isOpen:!!I,onClose:()=>E(null),title:I?I.name:"Product Details",size:"xl",children:I&&g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:xr(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&g.jsx(AU,{type:N.type,message:N.message,onClose:()=>j(null)})]})]})},aye=()=>{const{user:e}=Ai();if(!e)return null;switch(e.role){case"admin":return g.jsx(Zue,{});case"staff":return g.jsx(gq,{});default:return null}},Pr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=sn();return g.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&g.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),g.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>g.jsx("option",{value:o.value,children:o.label},o.value))}),t&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},iye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=Ai(),[a,i]=Z.useState({name:"",unit:"",barcode:""}),[s,o]=Z.useState(null),[l,c]=Z.useState(!1),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(k=>({...k,barcode:O})),f(!1),p(null),d(!0);try{const C=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,S=await(await fetch(C)).json();if(S&&S.items&&S.items.length>0){const A=S.items[0];i(I=>({...I,name:A.title||I.name}))}else p("No product info found for this barcode.")}catch{p("Failed to fetch product info.")}finally{d(!1)}},_=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const k=a.name.toUpperCase();await Vr(Nt(vt,"scannedProducts"),{name:k,unit:a.unit,barcode:a.barcode,createdAt:Kt.fromDate(new Date)}),n&&await Vr(Nt(vt,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${k}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),p(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),p(null),t()};return g.jsxs(g.Fragment,{children:[g.jsx(zn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsx(yt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx(yt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),g.jsxs("div",{className:"relative w-full",children:[g.jsx(yt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){p(null),d(!0);try{await y(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?g.jsx(Wo,{size:18,className:"animate-spin text-blue-500"}):g.jsx(df,{size:18,className:"text-blue-500"})})]}),s&&g.jsx("div",{className:"text-red-500 text-sm",children:s}),m&&g.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),h&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsx(Wo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ct,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),g.jsx(Ct,{type:"submit",isLoading:l,children:"Add"})]})]})}),g.jsx(Up,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},sye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=sn();return g.jsx(zn,{isOpen:e,onClose:t,title:n,size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[g.jsx(ak,{size:24}),g.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Ct,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),g.jsx(Ct,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},oye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],lye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),NS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],cye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=Ai(),[a,i]=Z.useState({name:"",price:"",unit:"",supplier:NS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"fba",storeName:"supply & serve"}),[s,o]=Z.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=Z.useState({}),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState(""),{isDarkMode:v}=sn(),[y,_]=Z.useState(null),[w,O]=Z.useState(!1),[k,C]=Z.useState(null),[T,S]=Z.useState(!1),[A,I]=Z.useState(""),[E,N]=Z.useState(!1),[j,H]=Z.useState(null),[X,re]=Z.useState(null),[J,q]=Z.useState(!1),[B,ne]=Z.useState(""),[ce,D]=Z.useState(!1),F=Z.useRef(null),U=ae=>{const{name:Ce,value:Ae}=ae.target;i(ke=>({...ke,[Ce]:Ae})),Ce==="supplier"&&(S(Ae==="other"),Ae!=="other"&&I("")),l[Ce]&&c(ke=>{const He={...ke};return delete He[Ce],He}),Ce==="barcode"&&Ae.length===13&&!w?(F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{Ae.length===13&&Y(Ae)},500)):Ce==="barcode"&&Ae.length!==13&&F.current&&(clearTimeout(F.current),F.current=null)},G=(ae,Ce,Ae)=>{o(ke=>{const He=[...ke];return He[ae]={...He[ae],[Ce]:Ae},He})},W=()=>{o(ae=>[...ae,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Q=ae=>{o(Ce=>Ce.filter((Ae,ke)=>ke!==ae))},oe=async ae=>{i(Ae=>({...Ae,barcode:ae})),_(null),C(null),O(!0);let Ce=!1;try{const Ae=Ar(Nt(vt,"scannedProducts"),Br("barcode","==",ae)),ke=await kr(Ae);if(ke.empty){const Fe=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${ae}`,Ye=await(await fetch(Fe)).json();if(Ye&&Ye.items&&Ye.items.length>0){const et=Ye.items[0];i(we=>({...we,name:et.title||we.name})),_("Product name auto-filled from external database."),Ce=!0}else _("No product found for this barcode. Please enter details manually.")}else{const He=ke.docs[0].data();i(Fe=>({...Fe,name:He.name||Fe.name,unit:He.unit||Fe.unit})),_("Product name and unit auto-filled from scanned products."),Ce=!0}}catch{C("Failed to fetch product info."),_("Failed to search for product. Please enter details manually.")}finally{O(!1),!Ce&&ae.length===13&&setTimeout(()=>{Y(ae)},100)}},Y=async ae=>{const Ce=ae||a.barcode;if(!(!Ce||w)){C(null),O(!0);try{const Ae=Ar(Nt(vt,"scannedProducts"),Br("barcode","==",Ce)),ke=await kr(Ae);if(!ke.empty){const et=ke.docs[0].data();i(we=>({...we,name:et.name||we.name,unit:et.unit||we.unit})),_("Product name and unit auto-filled from scanned products."),O(!1);return}const Fe=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ce}`,Ye=await(await fetch(Fe)).json();if(Ye&&Ye.items&&Ye.items.length>0){const et=Ye.items[0];i(we=>({...we,name:et.title||we.name})),_("Product name auto-filled from UPC database.")}else C("No product info found for this barcode.")}catch{C("Failed to fetch product info.")}finally{O(!1)}}},ue=()=>{const ae={};return a.name.trim()||(ae.name="Product name is required"),s.forEach((Ce,Ae)=>{Ce.quantity?(isNaN(Number(Ce.quantity))||Number(Ce.quantity)<0)&&(ae[`location_${Ae}_quantity`]="Quantity must be a positive number"):ae[`location_${Ae}_quantity`]="Quantity is required"}),c(ae),Object.keys(ae).length===0},pe=async ae=>{if(ae.preventDefault(),ue()){const Ce=a.supplier||NS[0].value,Ae=a.storeName||"supply & serve",ke=s.map(Fe=>({name:a.name,quantity:parseInt(Fe.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:Ce==="other"?A:Ce,locationCode:Fe.locationCode,shelfNumber:Fe.shelfNumber,asin:a.asin||null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Ae==="other"?m:Ae})),He=ke.find(Fe=>r.some(Ge=>Ge.name.trim().toLowerCase()===Fe.name.trim().toLowerCase()&&(Ge.barcode||"")===(Fe.barcode||"")&&Ge.locationCode===Fe.locationCode&&Ge.shelfNumber===Fe.shelfNumber));if(He){re({name:He.name,location:`${He.locationCode}-${He.shelfNumber}`}),H(ke),N(!0);return}try{await e(ke)}catch(Fe){console.error("Error adding stock:",Fe)}}},K=async()=>{if(j){try{await e(j)}catch(ae){console.error("Error adding stock:",ae)}N(!1),H(null),re(null)}},je=()=>{N(!1),H(null),re(null)},Oe=()=>{D(!0)},Se=()=>{ne("Product has been successfully added to the database!"),q(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Product Name",name:"name",value:a.name,onChange:U,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx("div",{children:g.jsx(Pr,{label:"Supplier",name:"supplier",value:a.supplier,onChange:U,options:NS,required:!0,fullWidth:!0})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&g.jsx(yt,{label:"Price",name:"price",type:"number",value:a.price,onChange:U,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!T&&g.jsx(yt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:U,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),T&&g.jsx(yt,{label:"Other Supplier",value:A,onChange:ae=>I(ae.target.value),placeholder:"Enter supplier name",required:T,fullWidth:!0})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T&&g.jsx(yt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:U,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),g.jsx(Ct,{type:"button",onClick:W,variant:"primary",icon:g.jsx(Ds,{size:18}),children:"Add Location"})]}),s.map((ae,Ce)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[g.jsx(Pr,{label:"Location Code",value:ae.locationCode,onChange:Ae=>G(Ce,"locationCode",Ae.target.value),options:oye,required:!0,fullWidth:!0}),g.jsx(Pr,{label:"Shelf Number",value:ae.shelfNumber,onChange:Ae=>G(Ce,"shelfNumber",Ae.target.value),options:lye,required:!0,fullWidth:!0}),g.jsx(yt,{label:"Quantity",type:"number",value:ae.quantity,onChange:Ae=>G(Ce,"quantity",Ae.target.value),error:l[`location_${Ce}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&g.jsx(Ct,{type:"button",onClick:()=>Q(Ce),variant:"danger",icon:g.jsx(Zo,{size:18}),children:"Remove"})]},Ce))]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pr,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:U,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?g.jsx(Pr,{label:"Status",name:"status",value:a.status,onChange:U,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):g.jsx(yt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex gap-2 relative w-full",children:[g.jsx(yt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:U,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:()=>Y(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:w,children:w?g.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(df,{size:18,className:"text-blue-500"})})]}),g.jsx(yt,{label:"ASIN (seperated by commas, if multiple)",name:"asin",value:a.asin,onChange:U,placeholder:"Enter Amazon ASIN",fullWidth:!0}),k&&g.jsxs("div",{className:"text-red-500 text-sm",children:[k," Please enter details manually."]}),y&&g.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsx("div",{children:g.jsx(Pr,{label:"Store Name",value:a.storeName,onChange:ae=>{const Ce=ae.target.value;i(Ae=>({...Ae,storeName:Ce})),d(Ce==="other"),Ce!=="other"&&p("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(yt,{type:"text",value:m,onChange:ae=>p(ae.target.value),placeholder:"Enter store name",required:h})]})}),g.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ct,{type:"button",onClick:Oe,variant:"primary",icon:g.jsx(Ds,{size:18}),children:"Add New Product"}),g.jsx(Ct,{type:"submit",isLoading:t,variant:"success",icon:g.jsx(Ds,{size:18}),children:"Confirm"})]})})]}),g.jsx(Up,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:oe}),g.jsx(iye,{isOpen:ce,onClose:()=>D(!1),onSuccess:Se}),g.jsx(sye,{isOpen:E,onClose:je,onConfirm:K,title:"Duplicate Stock Detected",message:X?`A product with the same name and barcode already exists at location ${X.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),g.jsx(zn,{isOpen:J,onClose:()=>q(!1),title:"Success!",size:"sm",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[g.jsx(YJ,{size:24}),g.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:B})]}),g.jsx("div",{className:"flex justify-end pt-4",children:g.jsx(Ct,{variant:"primary",onClick:()=>q(!1),children:"OK"})})]})})]})},uye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],fye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),hye=["supply & serve","APHY","AZTEC","ZK"],zD=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],dye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=sn(),{user:i}=Ai(),[s,o]=Z.useState(null),l=e.storeName,c=l&&!hye.includes(l),u=zD.some(I=>I.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,m]=Z.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve"}),[p,v]=Z.useState(c),[y,_]=Z.useState(c?l:""),[w,O]=Z.useState(f==="other"),[k,C]=Z.useState(h),T=I=>{const{name:E,value:N}=I.target;if(E==="damagedItems"){const j=Number(N),H=Number(d.quantity);if(j<0){o("Damaged items cannot be negative");return}o(null),m(X=>({...X,damagedItems:N,quantity:(H-(j-Number(X.damagedItems))).toString()}));return}E==="supplier"&&(O(N==="other"),N!=="other"&&C("")),m(j=>({...j,[E]:N}))},S=async I=>{if(I.preventDefault(),A())try{const E={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?k:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?y:d.storeName,barcode:e.barcode};await t(E,e)}catch(E){console.error("Error updating stock:",E),o("Failed to update stock. Please try again.")}},A=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Product Name",name:"name",value:d.name,onChange:T,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?g.jsx(Pr,{label:"Status",name:"status",value:d.status,onChange:T,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):g.jsx(yt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:T,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&g.jsx(yt,{label:"Price",name:"price",type:"number",value:d.price,onChange:T,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),g.jsx(yt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:T,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),g.jsx(Pr,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:T,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pr,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:T,options:uye,required:!0,fullWidth:!0}),g.jsx(Pr,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:T,options:fye,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"ASIN",name:"asin",value:d.asin,onChange:T,placeholder:"Enter Amazon ASIN",fullWidth:!0}),g.jsxs("div",{children:[g.jsx(yt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:T,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(Pr,{label:"Supplier",name:"supplier",value:d.supplier,onChange:T,options:zD,required:!0,fullWidth:!0})}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),g.jsx(Pr,{value:d.storeName,onChange:I=>{const E=I.target.value;m(N=>({...N,storeName:E})),v(E==="other"),E!=="other"&&_("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&g.jsx(yt,{label:"Other Supplier",value:k,onChange:I=>C(I.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),p&&!w&&g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(yt,{type:"text",value:y,onChange:I=>_(I.target.value),placeholder:"Enter store name",required:p})]}),p&&w&&g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(yt,{type:"text",value:y,onChange:I=>_(I.target.value),placeholder:"Enter store name",required:p})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Ct,{type:"submit",isLoading:n,icon:g.jsx(Ds,{size:18}),children:"Update Product"})})]})},pye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],mye=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],gye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=Z.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[i,s]=Z.useState({}),[o,l]=Z.useState(!1),[c,u]=Z.useState(null),[f,h]=Z.useState(!1),[d,m]=Z.useState(null),p=Z.useRef(null),v=C=>{const{name:T,value:S}=C.target;a(A=>({...A,[T]:S})),i[T]&&s(A=>{const I={...A};return delete I[T],I}),T==="barcode"&&S.length===13&&!f?(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{S.length===13&&w(S)},500)):T==="barcode"&&S.length!==13&&p.current&&(clearTimeout(p.current),p.current=null)},y=()=>{l(!0)},_=async C=>{a(S=>({...S,barcode:C})),u(null),m(null),h(!0);let T=!1;try{const S=Ar(Nt(vt,"scannedProducts"),Br("barcode","==",C)),A=await kr(S);if(A.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${C}`,j=await(await fetch(E)).json();if(j&&j.items&&j.items.length>0){const H=j.items[0];a(X=>({...X,name:H.title||X.name})),u("Product name auto-filled from external database."),T=!0}else u("No product found for this barcode. Please enter details manually.")}else{const I=A.docs[0].data();a(E=>({...E,name:I.name||E.name})),u("Product name auto-filled from scanned products."),T=!0}}catch{m("Failed to fetch product info."),u("Failed to search for product. Please enter details manually.")}finally{h(!1),!T&&C.length===13&&setTimeout(()=>{w(C)},100)}},w=async C=>{const T=C||n.barcode;if(!(!T||f)){m(null),h(!0);try{const S=Ar(Nt(vt,"scannedProducts"),Br("barcode","==",T)),A=await kr(S);if(A.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${T}`,j=await(await fetch(E)).json();if(j&&j.items&&j.items.length>0){const H=j.items[0];a(X=>({...X,name:H.title||X.name})),u("Product name auto-filled from external database.")}else m("No product info found for this barcode.")}else{const I=A.docs[0].data();a(E=>({...E,name:I.name||E.name})),u("Product name auto-filled from scanned products.")}}catch{m("Failed to fetch product info.")}finally{h(!1)}}},O=()=>{const C={};return n.name.trim()||(C.name="Product name is required"),n.locationCode||(C.locationCode="Location is required"),n.shelfNumber||(C.shelfNumber="Shelf number is required"),(!n.quantity||parseInt(n.quantity)<=0)&&(C.quantity="Quantity must be greater than 0"),s(C),Object.keys(C).length===0},k=async C=>{if(C.preventDefault(),!O())return;const T={name:n.name.toUpperCase(),quantity:parseInt(n.quantity),price:0,supplier:"not set",lastUpdated:new Date,locationCode:n.locationCode,shelfNumber:n.shelfNumber,barcode:n.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([T]),t()}catch(S){console.error("Error adding stock:",S)}};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:k,className:"space-y-4",children:[g.jsx(yt,{label:"Product Name",name:"name",value:n.name,onChange:v,placeholder:"Enter product name",error:i.name,required:!0,fullWidth:!0}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pr,{label:"Location Code",name:"locationCode",value:n.locationCode,onChange:v,options:pye,error:i.locationCode,required:!0,fullWidth:!0}),g.jsx(Pr,{label:"Shelf Number",name:"shelfNumber",value:n.shelfNumber,onChange:v,options:mye,error:i.shelfNumber,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2 relative w-full",children:[g.jsx(yt,{label:"Barcode",name:"barcode",value:n.barcode,onChange:v,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(n.barcode.trim()&&!f){m(null),h(!0);try{await w()}finally{h(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:f,children:f?g.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(df,{size:18,className:"text-blue-500"})})]}),d&&g.jsxs("div",{className:"text-red-500 text-sm",children:[d," Please enter details manually."]}),c&&g.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:c}),f&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),g.jsx(yt,{label:"Quantity",name:"quantity",type:"number",value:n.quantity,onChange:v,placeholder:"Enter quantity",error:i.quantity,min:"1",required:!0,fullWidth:!0}),g.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[g.jsx(Ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Ct,{type:"submit",isLoading:r,icon:g.jsx(Ds,{size:18}),children:"Quick Add"}),g.jsx(Ct,{type:"button",onClick:y,variant:"primary",icon:g.jsx(df,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),g.jsx(Up,{isOpen:o,onClose:()=>l(!1),onBarcodeScanned:_})]})},vq=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=sn(),{user:a}=Ai();return r?g.jsx(zn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"mb-4 flex items-center justify-between",children:g.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),g.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`${Number(r.price).toFixed(2)}`:"Not set yet"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),g.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>g.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:xr(r.lastUpdated,"MMM d, yyyy")})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),g.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),g.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),g.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[g.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),g.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),g.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),g.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[g.jsx("span",{children:"0"}),g.jsx("span",{children:"Critical: <10"}),g.jsx("span",{children:"Low: 10-25"}),g.jsx("span",{children:"25+"})]})]})]})}):null},wT=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=sn();return g.jsx(zn,{isOpen:e,onClose:t,title:n,size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[g.jsx(ak,{size:24}),g.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Ct,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),g.jsx(Ct,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},vye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,locationCode:a,shelfNumber:i,existingProducts:s,newProductName:o})=>{const l=s.length,c=s.reduce((u,f)=>u+f.quantity,0);return g.jsx(zn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(ak,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",g.jsxs("strong",{children:[a,"-",i]})," already contains products."]}),g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[g.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),g.jsx("ul",{className:"mt-2 space-y-1",children:s.map((u,f)=>g.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:[" ",u.name," (",u.quantity," units)"]},f))}),g.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",l," product",l!==1?"s":""," (",c," units)"]})]}),g.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",g.jsx("strong",{children:o})," to this location?"]})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Ct,{variant:"secondary",onClick:n,children:"Cancel"}),g.jsx(Ct,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},yye=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("name"),[a,i]=Z.useState(!1),[s,o]=Z.useState(!1),[l,c]=Z.useState(!1),[u,f]=Z.useState(!1),[h,d]=Z.useState(null),[m,p]=Z.useState([]),[v,y]=Z.useState(new Set),[_,w]=Z.useState(!1),{showToast:O}=rd(),{isDarkMode:k}=sn(),{user:C}=Ai(),[T,S]=Z.useState(!1),[A,I]=Z.useState(null),[E,N]=Z.useState(!1),[j,H]=Z.useState(!1),[X,re]=Z.useState(null),[J,q]=Z.useState(null),[B,ne]=Z.useState(null),[ce,D]=Z.useState(!1),[F,U]=Z.useState("all"),[G,W]=Z.useState(!1),Q=async()=>{f(!0);try{const we=Ar(Nt(vt,"inventory"),vi("name")),Ke=(await kr(we)).docs.map(ft=>{const ht=ft.data();return{id:ft.id,...ht,lastUpdated:ht.lastUpdated instanceof Kt?ht.lastUpdated.toDate():new Date(ht.lastUpdated)}});p(Ke)}catch(we){console.error("Error fetching stock items:",we),O("Failed to fetch stock items","error")}finally{f(!1)}};Z.useEffect(()=>{Q()},[O]),Z.useEffect(()=>{const we=Ie=>{const Ke=Ie.target;Ke.closest(".store-filter-dropdown")||D(!1),Ke.closest(".status-filter-dropdown")||W(!1)};return(ce||G)&&document.addEventListener("mousedown",we),()=>{document.removeEventListener("mousedown",we)}},[ce,G]);const oe=[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],Y=m.filter(we=>{const Ie=e.toLowerCase(),Ke=we.name.toLowerCase().includes(Ie),ft=`${we.locationCode} - ${we.shelfNumber}`.toLowerCase().includes(Ie),ht=we.asin?we.asin.split(",").some(en=>en.trim().toLowerCase().includes(Ie)):!1,dt=we.barcode?we.barcode.toLowerCase().includes(Ie):!1,tt=["supply & serve","APHY","AZTEC","ZK"],jt=B?B.storeName==="other"?!tt.includes(we.storeName)&&we.fulfillmentType===B.fulfillmentType:we.storeName===B.storeName&&we.fulfillmentType===B.fulfillmentType:!0,Lt=F==="all"||we.status===F;return(Ke||ft||ht||dt)&&jt&&Lt}).sort((we,Ie)=>r==="name"?we.name.localeCompare(Ie.name):r==="quantity"?Ie.quantity-we.quantity:r==="price"?Ie.price-we.price:r==="date"?new Date(Ie.lastUpdated).getTime()-new Date(we.lastUpdated).getTime():0),ue=(we,Ie)=>m.filter(Ke=>Ke.locationCode===we&&Ke.shelfNumber===Ie),pe=async we=>{const Ie=[];for(const Ke of we){const ft=ue(Ke.locationCode,Ke.shelfNumber);ft.length>0&&Ie.push({locationCode:Ke.locationCode,shelfNumber:Ke.shelfNumber,products:ft})}if(Ie.length>0){const Ke=Ie[0];q({locationCode:Ke.locationCode,shelfNumber:Ke.shelfNumber,existingProducts:Ke.products,newProductName:we[0].name}),re(we),H(!0);return}await K(we)},K=async we=>{f(!0);try{const Ie=[];for(const Ke of we){const ft=await Vr(Nt(vt,"inventory"),{...Ke,lastUpdated:Kt.fromDate(new Date)});Ie.push({...Ke,id:ft.id,lastUpdated:new Date})}if(C){const Ke=we.reduce((ht,dt)=>ht+dt.quantity,0),ft=we.map(ht=>`${ht.quantity} at ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`added new product "${we[0].name}" with total quantity ${Ke} (${ft})`,time:new Date().toISOString()})}p(Ke=>[...Ke,...Ie]),i(!1),N(!1),O("Stock items added successfully","success")}catch(Ie){console.error("Error adding stock:",Ie),O("Failed to add stock items","error")}finally{f(!1)}},je=async()=>{X&&(await K(X),H(!1),re(null),q(null))},Oe=()=>{H(!1),re(null),q(null)},Se=async(we,Ie)=>{f(!0);try{const Ke=new Date,ft={},ht=[];if(we.name!==Ie.name&&(ft.name=we.name,ht.push(`name from "${Ie.name}" to "${we.name}"`)),we.price!==Ie.price){ft.price=we.price;const dt=Number(Ie.price||0).toFixed(2),tt=Number(we.price||0).toFixed(2);ht.push(`price from ${dt} to ${tt}`)}if((we.locationCode!==Ie.locationCode||we.shelfNumber!==Ie.shelfNumber)&&(ft.locationCode=we.locationCode,ft.shelfNumber=we.shelfNumber,ht.push(`location from ${Ie.locationCode}-${Ie.shelfNumber} to ${we.locationCode}-${we.shelfNumber}`)),we.supplier!==Ie.supplier&&(ft.supplier=we.supplier,ht.push(`supplier from "${Ie.supplier||"none"}" to "${we.supplier||"none"}"`)),we.asin!==Ie.asin&&(ft.asin=we.asin,ht.push(`ASIN from "${Ie.asin||"none"}" to "${we.asin||"none"}"`)),we.status!==Ie.status&&(ft.status=we.status,ht.push(`status from "${Ie.status}" to "${we.status}"`)),we.damagedItems!==Ie.damagedItems&&(ft.damagedItems=we.damagedItems,ht.push(`damaged items from ${Ie.damagedItems} to ${we.damagedItems}`)),we.fulfillmentType!==Ie.fulfillmentType&&(ft.fulfillmentType=we.fulfillmentType,ht.push(`fulfillment type from "${Ie.fulfillmentType.toUpperCase()}" to "${we.fulfillmentType.toUpperCase()}"`)),we.storeName!==Ie.storeName&&(ft.storeName=we.storeName,ht.push(`store name from "${Ie.storeName}" to "${we.storeName}"`)),we.unit!==Ie.unit&&(ft.unit=we.unit,ht.push(`unit from "${Ie.unit||"none"}" to "${we.unit||"none"}"`)),Object.keys(ft).length>0){const dt=Zn(vt,"inventory",we.id);await vc(dt,{...ft,lastUpdated:Kt.fromDate(Ke)}),C&&ht.length>0&&await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`edited product "${we.name}": ${ht.join(", ")}`,time:Ke.toISOString()});const tt=m.map(jt=>jt.id===we.id?{...jt,...ft,lastUpdated:Ke}:jt);p(tt),O("Stock details updated successfully","success"),o(!1),d(null)}if(we.quantity>Ie.quantity)I({itemId:we.id,newQuantity:we.quantity}),S(!0),o(!1);else if(we.quantity!==Ie.quantity){const dt=Zn(vt,"inventory",we.id);await vc(dt,{quantity:we.quantity,lastUpdated:Kt.fromDate(Ke)}),C&&await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`edited product "${we.name}": quantity from ${Ie.quantity} to ${we.quantity}`,time:Ke.toISOString()});const tt=m.map(jt=>jt.id===we.id?{...jt,quantity:we.quantity,lastUpdated:Ke}:jt);p(tt),O("Stock quantity updated","success"),o(!1),d(null)}else o(!1),d(null)}catch(Ke){console.error("Error updating stock:",Ke),O("Failed to update stock item","error")}finally{f(!1)}},ae=async()=>{if(A){f(!0);try{const{itemId:we,newQuantity:Ie}=A,Ke=new Date,ft=m.find(tt=>tt.id===we),ht=Zn(vt,"inventory",we);await vc(ht,{quantity:Ie,lastUpdated:Kt.fromDate(Ke)}),C&&ft&&await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`edited product "${ft.name}": quantity from ${ft.quantity} to ${Ie}`,time:Ke.toISOString()});const dt=m.map(tt=>tt.id===we?{...tt,quantity:Ie,lastUpdated:Ke}:tt);p(dt),O("Stock quantity updated successfully","success"),d(null)}catch(we){console.error("Error updating quantity:",we),O("Failed to update quantity","error")}finally{f(!1),S(!1),I(null)}}},Ce=async we=>{f(!0);try{const Ie=m.find(Ke=>Ke.id===we);await y1(Zn(vt,"inventory",we)),C&&Ie&&await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`deleted product "${Ie.name}" (${Ie.quantity} units) from location ${Ie.locationCode}-${Ie.shelfNumber}`,time:new Date().toISOString()}),p(m.filter(Ke=>Ke.id!==we)),c(!1),d(null),O("Stock item deleted successfully","success")}catch(Ie){console.error("Error deleting stock:",Ie),O("Failed to delete stock item","error")}finally{f(!1)}},Ae=we=>{d(we)},ke=(we,Ie)=>{we.stopPropagation(),d(Ie),o(!0)},He=(we,Ie)=>{we.stopPropagation(),d(Ie),c(!0)},Fe=()=>{v.size===Y.length?y(new Set):y(new Set(Y.map(we=>we.id)))},Ge=we=>{const Ie=new Set(v);Ie.has(we)?Ie.delete(we):Ie.add(we),y(Ie)},Ye=async()=>{if(v.size!==0){f(!0);try{const we=m.filter(Ke=>v.has(Ke.id)),Ie=Array.from(v).map(Ke=>y1(Zn(vt,"inventory",Ke)));if(await Promise.all(Ie),C){const Ke=we.map(ft=>`"${ft.name}" (${ft.quantity} units) from ${ft.locationCode}-${ft.shelfNumber}`).join(", ");await Vr(Nt(vt,"activityLogs"),{user:C.name,role:C.role,detail:`Bulk deleted ${v.size} products: ${Ke}`,time:new Date().toISOString()})}p(m.filter(Ke=>!v.has(Ke.id))),y(new Set),w(!1),O(`Successfully deleted ${v.size} items`,"success")}catch(we){console.error("Error deleting items:",we),O("Failed to delete selected items","error")}finally{f(!1)}}},et=()=>{w(!_),_||y(new Set)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:"Inbound"}),g.jsx("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:_?g.jsxs(g.Fragment,{children:[g.jsxs(Ct,{onClick:Ye,variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:u||v.size===0,children:[g.jsx(Zo,{size:16}),"Delete Selected (",v.size,")"]}),g.jsx(Ct,{onClick:et,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):g.jsxs(g.Fragment,{children:[g.jsxs(Ct,{onClick:et,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(XJ,{size:16}),"Select Items"]}),g.jsxs(Ct,{variant:"secondary",onClick:()=>N(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(Ds,{size:16}),"Quick Add"]}),g.jsxs(Ct,{variant:"primary",onClick:()=>i(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(Ds,{size:16}),"Add New Stock"]})]})})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(Rw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),g.jsx(yt,{type:"text",placeholder:"Search by name, location, ASIN or barcode",value:e,onChange:we=>t(we.target.value),className:"pl-10"})]})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(Pr,{value:r,onChange:we=>n(we.target.value),options:oe})}),g.jsxs("div",{className:"relative status-filter-dropdown",children:[g.jsxs(Ct,{variant:"secondary",onClick:()=>W(!G),className:`flex items-center gap-2 ${F!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[F==="all"?"Status Filter":F==="active"?"Active":"Pending",g.jsx(y4,{size:16})]}),G&&g.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${F==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{U("all"),W(!1)},children:"All"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${F==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{U("active"),W(!1)},children:"Active"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${F==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{U("pending"),W(!1)},children:"Pending"}),g.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:g.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{U("all"),W(!1)},children:"Clear Filter"})})]})})]}),g.jsxs("div",{className:"relative store-filter-dropdown",children:[g.jsxs(Ct,{variant:"secondary",onClick:()=>D(!ce),className:`flex items-center gap-2 ${B?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[B?`${B.storeName==="other"?"Other":B.storeName} - ${B.fulfillmentType.toUpperCase()}`:"Store Filter",g.jsx(y4,{size:16})]}),ce&&g.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(we=>g.jsxs("div",{className:"group relative",children:[g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(B==null?void 0:B.storeName)===we?k?"bg-slate-700":"bg-slate-100":""}`,children:we}),g.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(B==null?void 0:B.storeName)===we&&(B==null?void 0:B.fulfillmentType)==="fba"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ne({storeName:we,fulfillmentType:"fba"}),D(!1)},children:"FBA"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(B==null?void 0:B.storeName)===we&&(B==null?void 0:B.fulfillmentType)==="mf"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ne({storeName:we,fulfillmentType:"mf"}),D(!1)},children:"MF"})]})]},we)),g.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:g.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ne(null),D(!1)},children:"Clear Filter"})})]})})]}),g.jsx(Ct,{variant:"secondary",onClick:Q,className:`flex items-center gap-2 ${u?"opacity-50 cursor-not-allowed":""}`,disabled:u,children:g.jsx(Pf,{size:16,className:u?"animate-spin":""})})]}),u?g.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(Wo,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Y.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:g.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[g.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:g.jsxs("tr",{children:[_&&g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:v.size===Y.length,onChange:Fe,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),g.jsx("span",{children:"Select"})]})}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(C==null?void 0:C.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:Y.map((we,Ie)=>g.jsxs(kn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ie*.05,ease:"easeOut"},className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Ae(we),children:[_&&g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:Ke=>Ke.stopPropagation(),children:g.jsx("input",{type:"checkbox",checked:v.has(we.id),onChange:()=>Ge(we.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:we.name}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${we.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:we.status==="active"?"Active":"Pending"})}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${we.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:we.fulfillmentType.toUpperCase()})}),g.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[we.locationCode," - ",we.shelfNumber]}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:we.asin?we.asin.split(",").length>3?we.asin.split(",").slice(0,3).map(Ke=>Ke.trim()).join(", ")+"...":we.asin.split(",").map(Ke=>Ke.trim()).join(", "):"-"}),(C==null?void 0:C.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(we.price)>0?`${Number(we.price).toFixed(2)}`:"(Not set)"}),g.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(we.quantity*we.price)>0?`${Number(we.quantity*we.price).toFixed(2)}`:"(Not set)"})]}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[we.quantity<=10&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),we.quantity>10&&we.quantity<=25&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Low Stock"}),g.jsx("span",{children:we.quantity})]})}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:xr(new Date(we.lastUpdated),"MMM d, yyyy")}),g.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Ke=>ke(Ke,we),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:Ke=>He(Ke,we),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:g.jsx(Zo,{size:16})})]})})]},we.id))})]})}),g.jsx("div",{className:"block md:hidden space-y-4",children:Y.map(we=>g.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Ae(we),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:we.name}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${we.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:we.status==="active"?"Active":"Pending"}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${we.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:we.fulfillmentType.toUpperCase()})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",g.jsxs("span",{className:"font-medium",children:[we.locationCode," - ",we.shelfNumber]})]}),g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",g.jsx("span",{className:"font-medium",children:we.quantity})]}),we.asin&&g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",g.jsx("span",{className:"font-medium",children:we.asin})]}),(C==null?void 0:C.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",g.jsx("span",{className:"font-medium",children:Number(we.price)>0?`${Number(we.price).toFixed(2)}`:"(Not set)"})]}),g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",g.jsx("span",{className:"font-medium",children:Number(we.quantity*we.price)>0?`${Number(we.quantity*we.price).toFixed(2)}`:"(Not set)"})]})]}),g.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",g.jsx("span",{className:"font-medium",children:xr(new Date(we.lastUpdated),"MMM d, yyyy")})]})]}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsxs(Ct,{size:"sm",variant:"secondary",onClick:Ie=>{Ie.stopPropagation(),ke(Ie,we)},children:[g.jsx(Ml,{size:14})," Edit"]}),g.jsxs(Ct,{size:"sm",variant:"danger",onClick:Ie=>{Ie.stopPropagation(),He(Ie,we)},children:[g.jsx(Zo,{size:14})," Delete"]})]})]},we.id))})]}):g.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),g.jsx(zn,{isOpen:a,onClose:()=>i(!1),title:"Add New Stock Item",size:"xl",children:g.jsx(cye,{onSubmit:pe,isLoading:u,existingStockItems:m})}),g.jsx(zn,{isOpen:E,onClose:()=>N(!1),title:"Quick Add Stock",size:"md",children:g.jsx(gye,{onSubmit:pe,onClose:()=>N(!1),isLoading:u})}),g.jsx(zn,{isOpen:s,onClose:()=>o(!1),title:"Edit Stock",size:"xl",children:h&&g.jsx(dye,{item:h,onSubmit:Se,onCancel:()=>o(!1),isLoading:u})}),h&&g.jsx(wT,{isOpen:l,onClose:()=>{c(!1),d(null)},onConfirm:()=>Ce(h.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${h.name}"? This action cannot be undone.`,isLoading:u}),h&&!s&&!l&&!T&&g.jsx(vq,{isOpen:!!h,onClose:()=>d(null),item:h}),g.jsx(wT,{isOpen:_&&v.size>0,onClose:()=>{w(!1),y(new Set)},onConfirm:Ye,title:"Delete Selected Items",message:`Are you sure you want to delete ${v.size} selected item${v.size>1?"s":""}? This action cannot be undone.`,isLoading:u}),g.jsx(zn,{isOpen:T,onClose:()=>{S(!1),I(null)},title:"Confirm Quantity Update",children:g.jsxs("div",{children:[g.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),g.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[g.jsx(Ct,{variant:"secondary",onClick:()=>{S(!1),I(null)},children:"No"}),g.jsx(Ct,{onClick:ae,isLoading:u,children:"Yes"})]})]})}),J&&g.jsx(vye,{isOpen:j,onClose:Oe,onConfirm:je,onCancel:Oe,locationCode:J.locationCode,shelfNumber:J.shelfNumber,existingProducts:J.existingProducts,newProductName:J.newProductName})]})},xye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return g.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},yq=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return g.jsx(xye,{variant:t(),children:r()})},bye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=sn();return g.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),g.jsxs("div",{className:"flex items-center gap-2",children:[r,g.jsx(yq,{status:e.status})]})]}),g.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),g.jsx("div",{className:"space-y-1 mb-3",children:g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),g.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),g.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[g.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:xr(e.createdAt,"MMM d, yyyy")}),g.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},wye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),g.jsx(zn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),g.jsx("div",{className:"mt-1",children:g.jsx(yq,{status:r.status})})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),g.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),g.jsx("p",{className:"text-slate-800",children:r.createdAt?xr(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),g.jsx("p",{className:"text-slate-800",children:r.updatedAt?xr(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),g.jsx("p",{className:"text-slate-800",children:r.shippedTime?xr(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),g.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),g.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),g.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),g.jsx("tfoot",{className:"bg-slate-50",children:g.jsxs("tr",{children:[g.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),g.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[g.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),g.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),g.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[g.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),g.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),g.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),g.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),g.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,db=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Rt(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Rt(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Rt(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Rt(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Rt(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Rt(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Rt(new Date,6),locationCode:"D2",shelfNumber:4}],_ye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Rt(new Date,1),updatedAt:Rt(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Rt(new Date,2),updatedAt:Rt(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Rt(new Date,5),updatedAt:Rt(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Rt(new Date,10),updatedAt:Rt(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Rt(new Date,15),updatedAt:Rt(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];_ye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:xr(Rt(new Date,29-t),"MMM dd"),amount:r}});Rt(new Date,1),Rt(new Date,1),Rt(new Date,3),Rt(new Date,4),Rt(new Date,5);const Sye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Aye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],OS={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},qD={street:"",city:"",state:"",zipCode:"",country:""};function Tye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Eye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,WD=e=>Eye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},kye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=Z.useState(""),[s,o]=Z.useState(""),[l,c]=Z.useState("pending"),[u,f]=Z.useState(""),[h,d]=Z.useState([{...OS}]),[m,p]=Z.useState({...qD}),[v,y]=Z.useState({...qD}),[_,w]=Z.useState("Credit Card"),[O,k]=Z.useState(""),[C,T]=Z.useState([]),[S,A]=Z.useState(!1);Z.useEffect(()=>{e&&(i(Tye()),f(xr(new Date,"yyyy-MM-dd")),d([{...OS}]),c("pending"))},[e]),Z.useEffect(()=>{e&&(async()=>{A(!0);try{const re=Ar(Nt(vt,"inventory"),vi("name")),q=(await kr(re)).docs.map(B=>({id:B.id,...B.data()}));T(q.length>0?q:db)}catch{T(db)}finally{A(!1)}})()},[e]);const I=(X,re,J)=>{d(q=>q.map((B,ne)=>{if(ne!==X)return B;if(re==="productName"){const ce=C.find(D=>D.name===J);return ce?{...B,productId:ce.id,productName:ce.name,unitPrice:ce.price,quantity:1,totalPrice:ce.price*1}:B}if(re==="quantity"){const ce=Number(J);return{...B,quantity:ce,totalPrice:B.unitPrice*ce}}return{...B,[re]:J}}))},E=()=>{d([...h,{...OS}])},N=X=>{d(re=>re.filter((J,q)=>q!==X))},j=(X,re,J)=>{X==="shipping"?p(q=>({...WD(q),[re]:J})):y(q=>({...WD(q),[re]:J}))},H=X=>{if(X.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const re=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):re,updatedAt:re,items:h.map((q,B)=>({...q,id:`item${B+1}`})),shippingAddress:m,billingAddress:v,paymentMethod:_,totalAmount:h.reduce((q,B)=>q+(B.totalPrice||0),0)};O&&(J.notes=O),r(J),t()};return g.jsx(zn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:g.jsxs("form",{onSubmit:H,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),g.jsx(yt,{label:"Customer Name",value:s,onChange:X=>o(X.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pr,{label:"Status",value:l,onChange:X=>c(X.target.value),options:Sye,required:!0,fullWidth:!0,disabled:!0}),g.jsx(Pr,{label:"Payment Method",value:_,onChange:X=>w(X.target.value),options:Aye,required:!0,fullWidth:!0})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsx(yt,{label:"Order Date",type:"date",value:u,onChange:X=>f(X.target.value),required:!0,fullWidth:!0})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((X,re)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[g.jsx(Pr,{label:"Product Name",value:X.productName,onChange:J=>I(re,"productName",J.target.value),options:[{value:"",label:"Select product..."},...C.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:S}),g.jsx(yt,{label:"Quantity",type:"number",value:X.quantity,onChange:J=>I(re,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!X.productName}),g.jsx(yt,{label:"Unit Price",type:"number",value:X.unitPrice,disabled:!0,fullWidth:!0}),g.jsx(yt,{label:"Total Price",type:"number",value:X.totalPrice,disabled:!0,fullWidth:!0}),g.jsx(Ct,{type:"button",variant:"danger",size:"sm",icon:g.jsx(Zo,{size:16}),onClick:()=>N(re),children:"Remove"})]},re)),g.jsx(Ct,{type:"button",variant:"primary",icon:g.jsx(Ds,{size:16}),onClick:E,disabled:S,children:"Add Item"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsx(yt,{label:"Street",value:m.street,onChange:X=>j("shipping","street",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"City",value:m.city,onChange:X=>j("shipping","city",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"State",value:m.state,onChange:X=>j("shipping","state",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Zip Code",value:m.zipCode,onChange:X=>j("shipping","zipCode",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Country",value:m.country,onChange:X=>j("shipping","country",X.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsx(yt,{label:"Street",value:v.street,onChange:X=>j("billing","street",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"City",value:v.city,onChange:X=>j("billing","city",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"State",value:v.state,onChange:X=>j("billing","state",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Zip Code",value:v.zipCode,onChange:X=>j("billing","zipCode",X.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Country",value:v.country,onChange:X=>j("billing","country",X.target.value),required:!0,fullWidth:!0})]})]}),g.jsx(yt,{label:"Notes (optional)",value:O,onChange:X=>k(X.target.value),fullWidth:!0}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsx(Ct,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Pye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Cye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],HD={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},GD={street:"",city:"",state:"",zipCode:"",country:""},Nye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=Z.useState(""),[o,l]=Z.useState(""),[c,u]=Z.useState("pending"),[f,h]=Z.useState(""),[d,m]=Z.useState(""),[p,v]=Z.useState([{...HD}]),[y,_]=Z.useState({...GD}),[w,O]=Z.useState({...GD}),[k,C]=Z.useState("Credit Card"),[T,S]=Z.useState(""),[A,I]=Z.useState([]),[E,N]=Z.useState(!1);Z.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(xr(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ne=>({...ne}))),_(a.shippingAddress),O(a.billingAddress),C(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?m(xr(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):m(""))},[e,a]),Z.useEffect(()=>{e&&(async()=>{N(!0);try{const ce=Ar(Nt(vt,"inventory"),vi("name")),F=(await kr(ce)).docs.map(U=>({id:U.id,...U.data()}));I(F.length>0?F:db)}catch{I(db)}finally{N(!1)}})()},[e]);const j=(ne,ce,D)=>{v(F=>F.map((U,G)=>{if(G!==ne)return U;if(ce==="productName"){const W=A.find(Q=>Q.name===D);return W?{...U,productId:W.id,productName:W.name,unitPrice:W.price,quantity:1,totalPrice:W.price*1}:U}if(ce==="quantity"){const W=Number(D);return{...U,quantity:W,totalPrice:U.unitPrice*W}}return{...U,[ce]:D}}))},H=()=>{v([...p,{...HD}])},X=ne=>{v(ce=>ce.filter((D,F)=>F!==ne))},re=(ne,ce,D)=>{ne==="shipping"?_(F=>({...B(F),[ce]:D})):O(F=>({...B(F),[ce]:D}))},J=ne=>{if(ne.preventDefault(),p.some(F=>!F.productId||!F.productName)){alert("Please select a product for each order item.");return}const ce={orderNumber:i,customerName:o,status:c,items:p.map((F,U)=>{let G;return typeof F.id=="string"&&F.id?G=F.id:G=`item${U+1}`,{...F,id:G}}),shippingAddress:y,billingAddress:w,paymentMethod:k,totalAmount:p.reduce((F,U)=>F+(U.totalPrice||0),0)};T&&(ce.notes=T),c==="shipped"&&d?ce.shippedTime=Rue(d):a!=null&&a.shippedTime&&c!=="shipped"&&(ce.shippedTime=null);const D={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...ce};r(D),t()},q=ne=>typeof ne=="object"&&ne!==null&&!Array.isArray(ne)&&"street"in ne&&"city"in ne&&"state"in ne&&"zipCode"in ne&&"country"in ne,B=ne=>q(ne)?ne:{street:"",city:"",state:"",zipCode:"",country:""};return g.jsx(zn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:g.jsxs("form",{onSubmit:J,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),g.jsx(yt,{label:"Customer Name",value:o,onChange:ne=>l(ne.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pr,{label:"Status",value:c,onChange:ne=>u(ne.target.value),options:Pye,required:!0,fullWidth:!0}),g.jsx(Pr,{label:"Payment Method",value:k,onChange:ne=>C(ne.target.value),options:Cye,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Order Date",type:"date",value:f,onChange:ne=>h(ne.target.value),required:!0,fullWidth:!0}),c==="shipped"&&g.jsx(yt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:ne=>m(ne.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),p.map((ne,ce)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[g.jsx(Pr,{label:"Product Name",value:ne.productName,onChange:D=>j(ce,"productName",D.target.value),options:[{value:"",label:"Select product..."},...A.map(D=>({value:D.name,label:D.name}))],required:!0,fullWidth:!0,disabled:E}),g.jsx(yt,{label:"Quantity",type:"number",value:ne.quantity,onChange:D=>j(ce,"quantity",Number(D.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ne.productName}),g.jsx(yt,{label:"Unit Price",type:"number",value:ne.unitPrice,disabled:!0,fullWidth:!0}),g.jsx(yt,{label:"Total Price",type:"number",value:ne.totalPrice,disabled:!0,fullWidth:!0}),g.jsx(Ct,{type:"button",variant:"danger",size:"sm",icon:g.jsx(Zo,{size:16}),onClick:()=>X(ce),children:"Remove"})]},ce)),g.jsx(Ct,{type:"button",variant:"primary",icon:g.jsx(Ds,{size:16}),onClick:H,disabled:E,children:"Add Item"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsx(yt,{label:"Street",value:y.street,onChange:ne=>re("shipping","street",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"City",value:y.city,onChange:ne=>re("shipping","city",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"State",value:y.state,onChange:ne=>re("shipping","state",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Zip Code",value:y.zipCode,onChange:ne=>re("shipping","zipCode",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Country",value:y.country,onChange:ne=>re("shipping","country",ne.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsx(yt,{label:"Street",value:w.street,onChange:ne=>re("billing","street",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"City",value:w.city,onChange:ne=>re("billing","city",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"State",value:w.state,onChange:ne=>re("billing","state",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Zip Code",value:w.zipCode,onChange:ne=>re("billing","zipCode",ne.target.value),required:!0,fullWidth:!0}),g.jsx(yt,{label:"Country",value:w.country,onChange:ne=>re("billing","country",ne.target.value),required:!0,fullWidth:!0})]})]}),g.jsx(yt,{label:"Notes (optional)",value:T,onChange:ne=>S(ne.target.value),fullWidth:!0}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ct,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsx(Ct,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Oye=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("all"),[a,i]=Z.useState("date"),[s,o]=Z.useState(null),[l,c]=Z.useState("grid"),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState([]),[v,y]=Z.useState(null),[_,w]=Z.useState(!1),{showToast:O}=rd(),{user:k}=Ai(),{isDarkMode:C}=sn(),T=async()=>{d(!0);try{const q=Ar(Nt(vt,"orders"),vi("createdAt","desc")),ne=(await kr(q)).docs.map(ce=>{const D=ce.data();return{id:ce.id,orderNumber:D.orderNumber||"",customerName:D.customerName||"",items:D.items||[],status:D.status||"pending",createdAt:D.createdAt instanceof Kt?D.createdAt.toDate():new Date(D.createdAt),updatedAt:D.updatedAt instanceof Kt?D.updatedAt.toDate():new Date(D.updatedAt),shippingAddress:D.shippingAddress||{},billingAddress:D.billingAddress||{},paymentMethod:D.paymentMethod||"",totalAmount:D.totalAmount||0,notes:D.notes||"",shippedTime:D.shippedTime instanceof Kt?D.shippedTime.toDate():D.shippedTime?new Date(D.shippedTime):void 0}});p(ne)}catch(q){console.error("Error fetching orders:",q),O("Failed to fetch orders","error")}finally{d(!1)}};Z.useEffect(()=>{T()},[]);const S=m.filter(q=>{const B=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),ne=r==="all"||q.status===r;return B&&ne}).sort((q,B)=>a==="date"?new Date(B.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?B.totalAmount-q.totalAmount:0),A=q=>{o(q)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async q=>{d(!0);try{console.log("Adding new order with status:",q.status),await Vr(Nt(vt,"orders"),{...q,createdAt:Ky(),updatedAt:Ky()}),await Vr(Nt(vt,"activityLogs"),{user:k==null?void 0:k.name,role:k==null?void 0:k.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(B=>`${B.quantity} ${B.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await cx(q.items,!0)),await T(),f(!1),O("Order added successfully!","success")}catch(B){console.error("Error in handleAddOrder:",B),alert("Error adding order: "+((B==null?void 0:B.message)||B))}finally{d(!1)}},j=async q=>{d(!0);try{const B=Zn(vt,"orders",q.id),ce=(await v1(B)).data();console.log("Previous order status:",ce==null?void 0:ce.status),console.log("New order status:",q.status);const D={status:q.status,updatedAt:Ky()},F=[];if((ce==null?void 0:ce.status)!==q.status&&F.push(`status from "${ce==null?void 0:ce.status}" to "${q.status}"`),(ce==null?void 0:ce.customerName)!==q.customerName&&F.push(`customer from "${ce==null?void 0:ce.customerName}" to "${q.customerName}"`),JSON.stringify(ce==null?void 0:ce.items)!==JSON.stringify(q.items)){const G=[];q.items.forEach(W=>{const Q=ce==null?void 0:ce.items.find(oe=>oe.id===W.id);Q?Q.quantity!==W.quantity&&G.push(`changed ${W.productName} quantity from ${Q.quantity} to ${W.quantity}`):G.push(`added ${W.quantity} ${W.productName}`)}),ce==null||ce.items.forEach(W=>{q.items.find(Q=>Q.id===W.id)||G.push(`removed ${W.quantity} ${W.productName}`)}),G.length>0&&F.push(`items: ${G.join(", ")}`)}(ce==null?void 0:ce.totalAmount)!==q.totalAmount&&F.push(`total amount from $${ce==null?void 0:ce.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(ce==null?void 0:ce.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await cx(q.items,!0),q.shippedTime?D.shippedTime=Kt.fromDate(q.shippedTime):D.shippedTime=Ky()):(ce==null?void 0:ce.status)==="shipped"&&q.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await cx(q.items,!1),D.shippedTime=pI()):(q.status==="cancelled"||q.status==="returned")&&(ce==null?void 0:ce.status)!=="cancelled"&&(ce==null?void 0:ce.status)!=="returned"?(console.log(`Status changed to ${q.status}, restoring inventory...`),await cx(q.items,!1),D.shippedTime=pI()):ce!=null&&ce.shippedTime&&(D.shippedTime=Kt.fromDate(ce.shippedTime));const{...U}=q;Object.assign(D,U),await vc(B,D),F.length>0&&await Vr(Nt(vt,"activityLogs"),{user:k==null?void 0:k.name,role:k==null?void 0:k.role,detail:`edited order #${q.orderNumber}: ${F.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),O("Order updated successfully!","success")}catch(B){console.error("Error updating order:",B),O("Failed to update order","error")}finally{d(!1)}},H=()=>{y(null)},X=async q=>{d(!0);try{const B=Zn(vt,"orders",q),ce=(await v1(B)).data();ce&&(await Vr(Nt(vt,"activityLogs"),{user:k==null?void 0:k.name,role:k==null?void 0:k.role,detail:`deleted order #${ce.orderNumber} for '${ce.customerName}' with ${ce.items.length} items (${ce.items.map(D=>`${D.quantity} ${D.productName}`).join(", ")}) - Total: $${ce.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await y1(B),await T(),w(!1),o(null),O("Order deleted successfully!","success"))}catch(B){console.error("Error deleting order:",B),O("Failed to delete order","error")}finally{d(!1)}},re=(q,B)=>{q.stopPropagation(),o(B),w(!0)},J=(q,B)=>{q.stopPropagation(),y(B)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${C?"text-white":"text-slate-800"}`,children:"Current Orders"}),g.jsx("p",{className:`${C?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),g.jsx(Ct,{onClick:()=>f(!0),className:"flex items-center gap-2",children:g.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsx("div",{className:"md:flex-1",children:g.jsx(yt,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:g.jsx(Rw,{size:18}),fullWidth:!0})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx(Pr,{options:I,value:r,onChange:q=>n(q.target.value)}),g.jsx(Pr,{options:E,value:a,onChange:q=>i(q.target.value)})]})]}),g.jsx("div",{className:"flex justify-end mb-4",children:g.jsxs("div",{className:"relative inline-block",children:[g.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":C?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[g.jsx(rZ,{size:18,className:"inline mr-1"})," Grid"]}),g.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":C?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[g.jsx(uZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(Wo,{className:`w-8 h-8 ${C?"text-blue-400":"text-blue-500"} animate-spin`}),g.jsx("p",{className:`mt-2 ${C?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(q=>g.jsx("div",{className:"flex flex-col",children:g.jsx(bye,{order:q,onClick:()=>A(q),editButton:g.jsx("button",{onClick:B=>J(B,q),className:`p-2 ${C?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:g.jsx(Ml,{className:`w-4 h-4 ${C?"text-blue-400":"text-blue-500"}`})})})},q.id))}):g.jsx("div",{className:`text-center py-12 ${C?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:`${C?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:`min-w-full divide-y ${C?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[g.jsx("thead",{className:C?"bg-slate-900":"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),g.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${C?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`${C?"divide-slate-700":"divide-slate-200"}`,children:S.map(q=>g.jsxs("tr",{className:`${C?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>A(q),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${C?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),g.jsx("td",{className:`px-4 py-3 text-sm ${C?"text-slate-300":"text-slate-800"}`,children:q.customerName}),g.jsx("td",{className:`px-4 py-3 text-sm ${C?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),g.jsx("td",{className:`px-4 py-3 text-sm ${C?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),g.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${C?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),g.jsx("td",{className:"px-4 py-3 text-center",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("button",{onClick:B=>{B.stopPropagation(),y(q)},className:`p-1 ${C?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:B=>re(B,q),className:`p-1 ${C?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:g.jsx(Zo,{size:16})})]})})]},q.id))})]})}):g.jsx("div",{className:`text-center py-12 ${C?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:`${C?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&g.jsx(wye,{isOpen:!!s,onClose:()=>o(null),order:s}),g.jsx(kye,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),g.jsx(Nye,{isOpen:!!v,onClose:H,onEdit:j,isLoading:h,order:v}),s&&g.jsx(wT,{isOpen:_,onClose:()=>{w(!1),o(null)},onConfirm:()=>X(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},cx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=pae(vt),n=[];for(const a of e){const i=Zn(vt,"inventory",a.productId),s=await v1(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await Vr(Nt(vt,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Iye="modulepreload",Dye=function(e){return"/"+e},KD={},_T=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Dye(l),l in KD)return;KD[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Iye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var xi=Uint8Array,Os=Uint16Array,rC=Int32Array,f5=new xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h5=new xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ST=new xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xq=function(e,t){for(var r=new Os(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new rC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},bq=xq(f5,2),wq=bq.b,AT=bq.r;wq[28]=258,AT[258]=28;var _q=xq(h5,0),Lye=_q.b,YD=_q.r,TT=new Os(32768);for(var yn=0;yn<32768;++yn){var Tu=(yn&43690)>>1|(yn&21845)<<1;Tu=(Tu&52428)>>2|(Tu&13107)<<2,Tu=(Tu&61680)>>4|(Tu&3855)<<4,TT[yn]=((Tu&65280)>>8|(Tu&255)<<8)>>1}var Dl=function(e,t,r){for(var n=e.length,a=0,i=new Os(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Os(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Os(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[TT[f]>>l]=c}else for(o=new Os(n),a=0;a<n;++a)e[a]&&(o[a]=TT[s[e[a]-1]++]>>15-e[a]);return o},Sf=new xi(288);for(var yn=0;yn<144;++yn)Sf[yn]=8;for(var yn=144;yn<256;++yn)Sf[yn]=9;for(var yn=256;yn<280;++yn)Sf[yn]=7;for(var yn=280;yn<288;++yn)Sf[yn]=8;var M1=new xi(32);for(var yn=0;yn<32;++yn)M1[yn]=5;var jye=Dl(Sf,9,0),Mye=Dl(Sf,9,1),Rye=Dl(M1,5,0),Fye=Dl(M1,5,1),IS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Lo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},DS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},nC=function(e){return(e+7)/8|0},Sq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new xi(e.subarray(t,r))},$ye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$o=function(e,t,r){var n=new Error(t||$ye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,$o),!r)throw n;return n},Bye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new xi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new xi(a*3));var c=function(pe){var K=r.length;if(pe>K){var je=new xi(Math.max(K*2,pe));je.set(r),r=je}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,m=t.d,p=t.m,v=t.n,y=a*8;do{if(!d){u=Lo(e,f,1);var _=Lo(e,f+1,3);if(f+=3,_)if(_==1)d=Mye,m=Fye,p=9,v=5;else if(_==2){var C=Lo(e,f,31)+257,T=Lo(e,f+10,15)+4,S=C+Lo(e,f+5,31)+1;f+=14;for(var A=new xi(S),I=new xi(19),E=0;E<T;++E)I[ST[E]]=Lo(e,f+E*3,7);f+=T*3;for(var N=IS(I),j=(1<<N)-1,H=Dl(I,N,1),E=0;E<S;){var X=H[Lo(e,f,j)];f+=X&15;var w=X>>4;if(w<16)A[E++]=w;else{var re=0,J=0;for(w==16?(J=3+Lo(e,f,3),f+=2,re=A[E-1]):w==17?(J=3+Lo(e,f,7),f+=3):w==18&&(J=11+Lo(e,f,127),f+=7);J--;)A[E++]=re}}var q=A.subarray(0,C),B=A.subarray(C);p=IS(q),v=IS(B),d=Dl(q,p,1),m=Dl(B,v,1)}else $o(1);else{var w=nC(f)+4,O=e[w-4]|e[w-3]<<8,k=w+O;if(k>a){l&&$o(0);break}o&&c(h+O),r.set(e.subarray(w,k),h),t.b=h+=O,t.p=f=k*8,t.f=u;continue}if(f>y){l&&$o(0);break}}o&&c(h+131072);for(var ne=(1<<p)-1,ce=(1<<v)-1,D=f;;D=f){var re=d[DS(e,f)&ne],F=re>>4;if(f+=re&15,f>y){l&&$o(0);break}if(re||$o(2),F<256)r[h++]=F;else if(F==256){D=f,d=null;break}else{var U=F-254;if(F>264){var E=F-257,G=f5[E];U=Lo(e,f,(1<<G)-1)+wq[E],f+=G}var W=m[DS(e,f)&ce],Q=W>>4;W||$o(3),f+=W&15;var B=Lye[Q];if(Q>3){var G=h5[Q];B+=DS(e,f)&(1<<G)-1,f+=G}if(f>y){l&&$o(0);break}o&&c(h+131072);var oe=h+U;if(h<B){var Y=i-B,ue=Math.min(B,oe);for(Y+h<0&&$o(3);h<ue;++h)r[h]=n[Y+h]}for(;h<oe;++h)r[h]=r[h-B]}}t.l=d,t.p=D,t.b=h,t.f=u,d&&(u=1,t.m=p,t.d=m,t.n=v)}while(!u);return h!=r.length&&s?Sq(r,0,h):r.subarray(0,h)},ac=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Dm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},LS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Tq,l:0};if(a==1){var s=new xi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(k,C){return k.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new Os(h+1),m=ET(r[u-1],d,0);if(m>t){var n=0,p=0,v=m-t,y=1<<v;for(i.sort(function(C,T){return d[T.s]-d[C.s]||C.f-T.f});n<a;++n){var _=i[n].s;if(d[_]>t)p+=y-(1<<m-d[_]),d[_]=t;else break}for(p>>=v;p>0;){var w=i[n].s;d[w]<t?p-=1<<t-d[w]++-1:++n}for(;n>=0&&p;--n){var O=i[n].s;d[O]==t&&(--d[O],++p)}m=t}return{t:new xi(d),l:m}},ET=function(e,t,r){return e.s==-1?Math.max(ET(e.l,t,r+1),ET(e.r,t,r+1)):t[e.s]=r},XD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Os(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Lm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Aq=function(e,t,r){var n=r.length,a=nC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},QD=function(e,t,r,n,a,i,s,o,l,c,u){ac(t,u++,r),++a[256];for(var f=LS(a,15),h=f.t,d=f.l,m=LS(i,15),p=m.t,v=m.l,y=XD(h),_=y.c,w=y.n,O=XD(p),k=O.c,C=O.n,T=new Os(19),S=0;S<_.length;++S)++T[_[S]&31];for(var S=0;S<k.length;++S)++T[k[S]&31];for(var A=LS(T,7),I=A.t,E=A.l,N=19;N>4&&!I[ST[N-1]];--N);var j=c+5<<3,H=Lm(a,Sf)+Lm(i,M1)+s,X=Lm(a,h)+Lm(i,p)+s+14+3*N+Lm(T,I)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&j<=H&&j<=X)return Aq(t,u,e.subarray(l,l+c));var re,J,q,B;if(ac(t,u,1+(X<H)),u+=2,X<H){re=Dl(h,d,0),J=h,q=Dl(p,v,0),B=p;var ne=Dl(I,E,0);ac(t,u,w-257),ac(t,u+5,C-1),ac(t,u+10,N-4),u+=14;for(var S=0;S<N;++S)ac(t,u+3*S,I[ST[S]]);u+=3*N;for(var ce=[_,k],D=0;D<2;++D)for(var F=ce[D],S=0;S<F.length;++S){var U=F[S]&31;ac(t,u,ne[U]),u+=I[U],U>15&&(ac(t,u,F[S]>>5&127),u+=F[S]>>12)}}else re=jye,J=Sf,q=Rye,B=M1;for(var S=0;S<o;++S){var G=n[S];if(G>255){var U=G>>18&31;Dm(t,u,re[U+257]),u+=J[U+257],U>7&&(ac(t,u,G>>23&31),u+=f5[U]);var W=G&31;Dm(t,u,q[W]),u+=B[W],W>3&&(Dm(t,u,G>>5&8191),u+=h5[W])}else Dm(t,u,re[G]),u+=J[G]}return Dm(t,u,re[256]),u+J[256]},Vye=new rC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Tq=new xi(0),Uye=function(e,t,r,n,a,i){var s=i.z||e.length,o=new xi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=Vye[t-1],h=f>>13,d=f&8191,m=(1<<r)-1,p=i.p||new Os(32768),v=i.h||new Os(m+1),y=Math.ceil(r/3),_=2*y,w=function(Oe){return(e[Oe]^e[Oe+1]<<y^e[Oe+2]<<_)&m},O=new rC(25e3),k=new Os(288),C=new Os(32),T=0,S=0,A=i.i||0,I=0,E=i.w||0,N=0;A+2<s;++A){var j=w(A),H=A&32767,X=v[j];if(p[H]=X,v[j]=H,E<=A){var re=s-A;if((T>7e3||I>24576)&&(re>423||!c)){u=QD(e,l,0,O,k,C,S,I,N,A-N,u),I=T=S=0,N=A;for(var J=0;J<286;++J)k[J]=0;for(var J=0;J<30;++J)C[J]=0}var q=2,B=0,ne=d,ce=H-X&32767;if(re>2&&j==w(A-ce))for(var D=Math.min(h,re)-1,F=Math.min(32767,A),U=Math.min(258,re);ce<=F&&--ne&&H!=X;){if(e[A+q]==e[A+q-ce]){for(var G=0;G<U&&e[A+G]==e[A+G-ce];++G);if(G>q){if(q=G,B=ce,G>D)break;for(var W=Math.min(ce,G-2),Q=0,J=0;J<W;++J){var oe=A-ce+J&32767,Y=p[oe],ue=oe-Y&32767;ue>Q&&(Q=ue,X=oe)}}}H=X,X=p[H],ce+=H-X&32767}if(B){O[I++]=268435456|AT[q]<<18|YD[B];var pe=AT[q]&31,K=YD[B]&31;S+=f5[pe]+h5[K],++k[257+pe],++C[K],E=A+q,++T}else O[I++]=e[A],++k[e[A]]}}for(A=Math.max(A,E);A<s;++A)O[I++]=e[A],++k[e[A]];u=QD(e,l,c,O,k,C,S,I,N,A-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=p,i.i=A,i.w=E)}else{for(var A=i.w||0;A<s+c;A+=65535){var je=A+65535;je>=s&&(l[u/8|0]=c,je=s),u=Aq(l,u+1,e.subarray(A,je))}i.i=s}return Sq(o,0,n+nC(u)+a)},Eq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zye=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new xi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Uye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},kq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},qye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Eq();a.p(t.dictionary),kq(e,2,a.d())}},Wye=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&$o(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&$o(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function kT(e,t){t||(t={});var r=Eq();r.p(e);var n=zye(e,t,t.dictionary?6:2,4);return qye(n,t),kq(n,n.length-4,r.d()),n}function Hye(e,t){return Bye(e.subarray(Wye(e,t),-4),{i:2},t,t)}var Gye=typeof TextDecoder<"u"&&new TextDecoder,Kye=0;try{Gye.decode(Tq,{stream:!0}),Kye=1}catch{}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jS(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var nn={log:jS,warn:function(e){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):jS.call(null,arguments))},error:function(e){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):jS(e))}};function MS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){uh(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function JD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function ux(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jg,PT,uh=zt.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=zt.URL||zt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?JD(a.href)?MS(e,t,r):ux(a,a.target="_blank"):ux(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){ux(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(JD(e))MS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){ux(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Lr(i)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return MS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(zt.HTMLElement)||zt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=zt.URL||zt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Pq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function RS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ii(r,n,a,i,t[0],7,-680876936),i=ii(i,r,n,a,t[1],12,-389564586),a=ii(a,i,r,n,t[2],17,606105819),n=ii(n,a,i,r,t[3],22,-1044525330),r=ii(r,n,a,i,t[4],7,-176418897),i=ii(i,r,n,a,t[5],12,1200080426),a=ii(a,i,r,n,t[6],17,-1473231341),n=ii(n,a,i,r,t[7],22,-45705983),r=ii(r,n,a,i,t[8],7,1770035416),i=ii(i,r,n,a,t[9],12,-1958414417),a=ii(a,i,r,n,t[10],17,-42063),n=ii(n,a,i,r,t[11],22,-1990404162),r=ii(r,n,a,i,t[12],7,1804603682),i=ii(i,r,n,a,t[13],12,-40341101),a=ii(a,i,r,n,t[14],17,-1502002290),r=si(r,n=ii(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=si(i,r,n,a,t[6],9,-1069501632),a=si(a,i,r,n,t[11],14,643717713),n=si(n,a,i,r,t[0],20,-373897302),r=si(r,n,a,i,t[5],5,-701558691),i=si(i,r,n,a,t[10],9,38016083),a=si(a,i,r,n,t[15],14,-660478335),n=si(n,a,i,r,t[4],20,-405537848),r=si(r,n,a,i,t[9],5,568446438),i=si(i,r,n,a,t[14],9,-1019803690),a=si(a,i,r,n,t[3],14,-187363961),n=si(n,a,i,r,t[8],20,1163531501),r=si(r,n,a,i,t[13],5,-1444681467),i=si(i,r,n,a,t[2],9,-51403784),a=si(a,i,r,n,t[7],14,1735328473),r=oi(r,n=si(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=oi(i,r,n,a,t[8],11,-2022574463),a=oi(a,i,r,n,t[11],16,1839030562),n=oi(n,a,i,r,t[14],23,-35309556),r=oi(r,n,a,i,t[1],4,-1530992060),i=oi(i,r,n,a,t[4],11,1272893353),a=oi(a,i,r,n,t[7],16,-155497632),n=oi(n,a,i,r,t[10],23,-1094730640),r=oi(r,n,a,i,t[13],4,681279174),i=oi(i,r,n,a,t[0],11,-358537222),a=oi(a,i,r,n,t[3],16,-722521979),n=oi(n,a,i,r,t[6],23,76029189),r=oi(r,n,a,i,t[9],4,-640364487),i=oi(i,r,n,a,t[12],11,-421815835),a=oi(a,i,r,n,t[15],16,530742520),r=li(r,n=oi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=li(i,r,n,a,t[7],10,1126891415),a=li(a,i,r,n,t[14],15,-1416354905),n=li(n,a,i,r,t[5],21,-57434055),r=li(r,n,a,i,t[12],6,1700485571),i=li(i,r,n,a,t[3],10,-1894986606),a=li(a,i,r,n,t[10],15,-1051523),n=li(n,a,i,r,t[1],21,-2054922799),r=li(r,n,a,i,t[8],6,1873313359),i=li(i,r,n,a,t[15],10,-30611744),a=li(a,i,r,n,t[6],15,-1560198380),n=li(n,a,i,r,t[13],21,1309151649),r=li(r,n,a,i,t[4],6,-145523070),i=li(i,r,n,a,t[11],10,-1120210379),a=li(a,i,r,n,t[2],15,718787259),n=li(n,a,i,r,t[9],21,-343485551),e[0]=Hu(r,e[0]),e[1]=Hu(n,e[1]),e[2]=Hu(a,e[2]),e[3]=Hu(i,e[3])}function d5(e,t,r,n,a,i){return t=Hu(Hu(t,e),Hu(n,i)),Hu(t<<a|t>>>32-a,r)}function ii(e,t,r,n,a,i,s){return d5(t&r|~t&n,e,t,a,i,s)}function si(e,t,r,n,a,i,s){return d5(t&n|r&~n,e,t,a,i,s)}function oi(e,t,r,n,a,i,s){return d5(t^r^n,e,t,a,i,s)}function li(e,t,r,n,a,i,s){return d5(r^(t|~n),e,t,a,i,s)}function Cq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)RS(n,Yye(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(RS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,RS(n,a),n}function Yye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}jg=zt.atob.bind(zt),PT=zt.btoa.bind(zt);var ZD="0123456789abcdef".split("");function Xye(e){for(var t="",r=0;r<4;r++)t+=ZD[e>>8*r+4&15]+ZD[e>>8*r&15];return t}function Qye(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function CT(e){return Cq(e).map(Qye).join("")}var Jye=function(e){for(var t=0;t<e.length;t++)e[t]=Xye(e[t]);return e.join("")}(Cq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hu(e,t){if(Jye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function NT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,m="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eL={print:4,modify:8,copy:16,"annot-forms":32};function Yd(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(eL.perm!==void 0)throw new Error("Invalid permission: "+o);a+=eL[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=CT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=NT(this.encryptionKey,this.padding)}function Xd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function tL(e){if(Lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){zt.console&&nn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function pb(e){if(!(this instanceof pb))return new pb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Nq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mh(e,t,r,n,a){if(!(this instanceof mh))return new mh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Nq.call(this,n,a)}function m0(e,t,r,n,a){if(!(this instanceof m0))return new m0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Nq.call(this,n,a)}function Ut(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Lr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=tL;var m="1.3",p=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(L){m=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var y=d.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},w=_.COMPAT;function O(){this.saveGraphicsState(),ae(new kt(tt,0,0,-tt,0,ei()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),c="n",w=_.ADVANCED}function k(){this.restoreGraphicsState(),c="S",w=_.COMPAT}var C=d.__private__.combineFontStyleAndFontWeight=function(L,ee){if(L=="bold"&&ee=="normal"||L=="bold"&&ee==400||L=="normal"&&ee=="italic"||L=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(L=ee==400||ee==="normal"?L==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||L!=="normal"?(ee==700?"bold":ee)+""+L:"bold"),L};d.advancedAPI=function(L){var ee=w===_.COMPAT;return ee&&O.call(this),typeof L!="function"||(L(this),ee&&k.call(this)),this},d.compatAPI=function(L){var ee=w===_.ADVANCED;return ee&&k.call(this),typeof L!="function"||(L(this),ee&&O.call(this)),this},d.isAdvancedAPI=function(){return w===_.ADVANCED};var T,S=function(L){if(w!==_.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=d.roundToPrecision=d.__private__.roundToPrecision=function(L,ee){var _e=t||ee;if(isNaN(L)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(_e).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var I=d.f2=d.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},E=d.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},N=d.scale=d.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===_.COMPAT?L*tt:w===_.ADVANCED?L:void 0},j=function(L){return w===_.COMPAT?ei()-L:w===_.ADVANCED?L:void 0},H=function(L){return N(j(L))};d.__private__.setPrecision=d.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var X,re="00000000000000000000000000000000",J=d.__private__.getFileId=function(){return re},q=d.__private__.setFileId=function(L){return re=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(dn=new Yd(u.userPermissions,u.userPassword,u.ownerPassword,re)),re};d.setFileId=function(L){return q(L),this},d.getFileId=function(){return J()};var B=d.__private__.convertDateToPDFDate=function(L){var ee=L.getTimezoneOffset(),_e=ee<0?"+":"-",Te=Math.floor(Math.abs(ee/60)),Me=Math.abs(ee%60),Je=[_e,U(Te),"'",U(Me),"'"].join("");return["D:",L.getFullYear(),U(L.getMonth()+1),U(L.getDate()),U(L.getHours()),U(L.getMinutes()),U(L.getSeconds()),Je].join("")},ne=d.__private__.convertPDFDateToDate=function(L){var ee=parseInt(L.substr(2,4),10),_e=parseInt(L.substr(6,2),10)-1,Te=parseInt(L.substr(8,2),10),Me=parseInt(L.substr(10,2),10),Je=parseInt(L.substr(12,2),10),ct=parseInt(L.substr(14,2),10);return new Date(ee,_e,Te,Me,Je,ct,0)},ce=d.__private__.setCreationDate=function(L){var ee;if(L===void 0&&(L=new Date),L instanceof Date)ee=B(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=L}return X=ee},D=d.__private__.getCreationDate=function(L){var ee=X;return L==="jsDate"&&(ee=ne(X)),ee};d.setCreationDate=function(L){return ce(L),this},d.getCreationDate=function(L){return D(L)};var F,U=d.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},G=d.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},W=0,Q=[],oe=[],Y=0,ue=[],pe=[],K=!1,je=oe,Oe=function(){W=0,Y=0,oe=[],Q=[],ue=[],me=bn(),ge=bn()};d.__private__.setCustomOutputDestination=function(L){K=!0,je=L};var Se=function(L){K||(je=L)};d.__private__.resetCustomOutputDestination=function(){K=!1,je=oe};var ae=d.__private__.out=function(L){return L=L.toString(),Y+=L.length+1,je.push(L),je},Ce=d.__private__.write=function(L){return ae(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ae=d.__private__.getArrayBuffer=function(L){for(var ee=L.length,_e=new ArrayBuffer(ee),Te=new Uint8Array(_e);ee--;)Te[ee]=L.charCodeAt(ee);return _e},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ke};var He=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(L){return He=w===_.ADVANCED?L/tt:L,this};var Fe,Ge=d.__private__.getFontSize=d.getFontSize=function(){return w===_.COMPAT?He:He*tt},Ye=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(L){return Ye=L,this},d.__private__.getR2L=d.getR2L=function(){return Ye};var et,we=d.__private__.setZoomMode=function(L){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Fe=L;else if(isNaN(L)){if(ee.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Fe=L}else Fe=parseInt(L,10)};d.__private__.getZoomMode=function(){return Fe};var Ie,Ke=d.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');et=L};d.__private__.getPageMode=function(){return et};var ft=d.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ie=L};d.__private__.getLayoutMode=function(){return Ie},d.__private__.setDisplayMode=d.setDisplayMode=function(L,ee,_e){return we(L),ft(ee),Ke(_e),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(L){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[L]},d.__private__.getDocumentProperties=function(){return ht},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(L){for(var ee in ht)ht.hasOwnProperty(ee)&&L[ee]&&(ht[ee]=L[ee]);return this},d.__private__.setDocumentProperty=function(L,ee){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[L]=ee};var dt,tt,jt,Lt,en,mr={},Kr={},Gi=[],sr={},ds={},Yr={},ha={},Ei=null,Ir=0,Mt=[],hr=new tL(d),Ki=e.hotfixes||[],Dn={},Aa={},ki=[],kt=function L(ee,_e,Te,Me,Je,ct){if(!(this instanceof L))return new L(ee,_e,Te,Me,Je,ct);isNaN(ee)&&(ee=1),isNaN(_e)&&(_e=0),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=1),isNaN(Je)&&(Je=0),isNaN(ct)&&(ct=0),this._matrix=[ee,_e,Te,Me,Je,ct]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},kt.prototype.multiply=function(L){var ee=L.sx*this.sx+L.shy*this.shx,_e=L.sx*this.shy+L.shy*this.sy,Te=L.shx*this.sx+L.sy*this.shx,Me=L.shx*this.shy+L.sy*this.sy,Je=L.tx*this.sx+L.ty*this.shx+this.tx,ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new kt(ee,_e,Te,Me,Je,ct)},kt.prototype.decompose=function(){var L=this.sx,ee=this.shy,_e=this.shx,Te=this.sy,Me=this.tx,Je=this.ty,ct=Math.sqrt(L*L+ee*ee),_t=(L/=ct)*_e+(ee/=ct)*Te;_e-=L*_t,Te-=ee*_t;var b=Math.sqrt(_e*_e+Te*Te);return _t/=b,L*(Te/=b)<ee*(_e/=b)&&(L=-L,ee=-ee,_t=-_t,ct=-ct),{scale:new kt(ct,0,0,b,0,0),translate:new kt(1,0,0,1,Me,Je),rotate:new kt(L,ee,-ee,L,0,0),skew:new kt(1,0,_t,1,0,0)}},kt.prototype.toString=function(L){return this.join(" ")},kt.prototype.inversed=function(){var L=this.sx,ee=this.shy,_e=this.shx,Te=this.sy,Me=this.tx,Je=this.ty,ct=1/(L*Te-ee*_e),_t=Te*ct,b=-ee*ct,R=-_e*ct,z=L*ct;return new kt(_t,b,R,z,-_t*Me-R*Je,-b*Me-z*Je)},kt.prototype.applyToPoint=function(L){var ee=L.x*this.sx+L.y*this.shx+this.tx,_e=L.x*this.shy+L.y*this.sy+this.ty;return new Yl(ee,_e)},kt.prototype.applyToRectangle=function(L){var ee=this.applyToPoint(L),_e=this.applyToPoint(new Yl(L.x+L.w,L.y+L.h));return new ou(ee.x,ee.y,_e.x-ee.x,_e.y-ee.y)},kt.prototype.clone=function(){var L=this.sx,ee=this.shy,_e=this.shx,Te=this.sy,Me=this.tx,Je=this.ty;return new kt(L,ee,_e,Te,Me,Je)},d.Matrix=kt;var Za=d.matrixMult=function(L,ee){return ee.multiply(L)},ta=new kt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ta;var Ln=function(L,ee){if(!ds[L]){var _e=(ee instanceof mh?"Sh":"P")+(Object.keys(sr).length+1).toString(10);ee.id=_e,ds[L]=_e,sr[_e]=ee,hr.publish("addPattern",ee)}};d.ShadingPattern=mh,d.TilingPattern=m0,d.addShadingPattern=function(L,ee){return S("addShadingPattern()"),Ln(L,ee),this},d.beginTilingPattern=function(L){S("beginTilingPattern()"),lu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},d.endTilingPattern=function(L,ee){S("endTilingPattern()"),ee.stream=pe[F].join(`
`),Ln(L,ee),hr.publish("endTilingPattern",ee),ki.pop().restore()};var En=d.__private__.newObject=function(){var L=bn();return ie(L,!0),L},bn=d.__private__.newObjectDeferred=function(){return W++,Q[W]=function(){return Y},W},ie=function(L,ee){return ee=typeof ee=="boolean"&&ee,Q[L]=Y,ee&&ae(L+" 0 obj"),L},xe=d.__private__.newAdditionalObject=function(){var L={objId:bn(),content:""};return ue.push(L),L},me=bn(),ge=bn(),ye=d.__private__.decodeColorString=function(L){var ee=L.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var _e=parseFloat(ee[0]);ee=[_e,_e,_e,"r"]}for(var Te="#",Me=0;Me<3;Me++)Te+=("0"+Math.floor(255*parseFloat(ee[Me])).toString(16)).slice(-2);return Te},be=d.__private__.encodeColorString=function(L){var ee;typeof L=="string"&&(L={ch1:L});var _e=L.ch1,Te=L.ch2,Me=L.ch3,Je=L.ch4,ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var _t=new Pq(_e);if(_t.ok)_e=_t.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var b=parseInt(_e.substr(1),16);_e=b>>16&255,Te=b>>8&255,Me=255&b}if(Te===void 0||Je===void 0&&_e===Te&&Te===Me)if(typeof _e=="string")ee=_e+" "+ct[0];else switch(L.precision){case 2:ee=I(_e/255)+" "+ct[0];break;case 3:default:ee=E(_e/255)+" "+ct[0]}else if(Je===void 0||Lr(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return ee=["1.","1.","1.",ct[1]].join(" ");if(typeof _e=="string")ee=[_e,Te,Me,ct[1]].join(" ");else switch(L.precision){case 2:ee=[I(_e/255),I(Te/255),I(Me/255),ct[1]].join(" ");break;default:case 3:ee=[E(_e/255),E(Te/255),E(Me/255),ct[1]].join(" ")}}else if(typeof _e=="string")ee=[_e,Te,Me,Je,ct[2]].join(" ");else switch(L.precision){case 2:ee=[I(_e),I(Te),I(Me),I(Je),ct[2]].join(" ");break;case 3:default:ee=[E(_e),E(Te),E(Me),E(Je),ct[2]].join(" ")}return ee},$e=d.__private__.getFilters=function(){return s},Xe=d.__private__.putStream=function(L){var ee=(L=L||{}).data||"",_e=L.filters||$e(),Te=L.alreadyAppliedFilters||[],Me=L.addLength1||!1,Je=ee.length,ct=L.objectId,_t=function(Qt){return Qt};if(u!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(_t=dn.encryptor(ct,0));var b={};_e===!0&&(_e=["FlateEncode"]);var R=L.additionalKeyValues||[],z=(b=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(ee,_e):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(b.data.length!==0&&(R.push({key:"Length",value:b.data.length}),Me===!0&&R.push({key:"Length1",value:Je})),z.length!=0)if(z.split("/").length-1==1)R.push({key:"Filter",value:z});else{R.push({key:"Filter",value:"["+z+"]"});for(var fe=0;fe<R.length;fe+=1)if(R[fe].key==="DecodeParms"){for(var Le=[],qe=0;qe<b.reverseChain.split("/").length-1;qe+=1)Le.push("null");Le.push(R[fe].value),R[fe].value="["+Le.join(" ")+"]"}}ae("<<");for(var ut=0;ut<R.length;ut++)ae("/"+R[ut].key+" "+R[ut].value);ae(">>"),b.data.length!==0&&(ae("stream"),ae(_t(b.data)),ae("endstream"))},Be=d.__private__.putPage=function(L){var ee=L.number,_e=L.data,Te=L.objId,Me=L.contentsObjId;ie(Te,!0),ae("<</Type /Page"),ae("/Parent "+L.rootDictionaryObjId+" 0 R"),ae("/Resources "+L.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ae("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ae("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ae("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&ae("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ae("/UserUnit "+L.userUnit),hr.publish("putPage",{objId:Te,pageContext:Mt[ee],pageNumber:ee,page:_e}),ae("/Contents "+Me+" 0 R"),ae(">>"),ae("endobj");var Je=_e.join(`
`);return w===_.ADVANCED&&(Je+=`
Q`),ie(Me,!0),Xe({data:Je,filters:$e(),objectId:Me}),ae("endobj"),Te},Ve=d.__private__.putPages=function(){var L,ee,_e=[];for(L=1;L<=Ir;L++)Mt[L].objId=bn(),Mt[L].contentsObjId=bn();for(L=1;L<=Ir;L++)_e.push(Be({number:L,data:pe[L],objId:Mt[L].objId,contentsObjId:Mt[L].contentsObjId,mediaBox:Mt[L].mediaBox,cropBox:Mt[L].cropBox,bleedBox:Mt[L].bleedBox,trimBox:Mt[L].trimBox,artBox:Mt[L].artBox,userUnit:Mt[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ie(me,!0),ae("<</Type /Pages");var Te="/Kids [";for(ee=0;ee<Ir;ee++)Te+=_e[ee]+" 0 R ";ae(Te+"]"),ae("/Count "+Ir),ae(">>"),ae("endobj"),hr.publish("postPutPages")},We=function(L){hr.publish("putFont",{font:L,out:ae,newObject:En,putStream:Xe}),L.isAlreadyPutted!==!0&&(L.objectNumber=En(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Xd(L.postScriptName)),ae("/Subtype /Type1"),typeof L.encoding=="string"&&ae("/Encoding /"+L.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},lt=function(){for(var L in mr)mr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&We(mr[L])},gt=function(L){L.objectNumber=En();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var _e=L.pages[1].join(`
`);Xe({data:_e,additionalKeyValues:ee,objectId:L.objectNumber}),ae("endobj")},St=function(){for(var L in Dn)Dn.hasOwnProperty(L)&&gt(Dn[L])},pt=function(L,ee){var _e,Te=[],Me=1/(ee-1);for(_e=0;_e<1;_e+=Me)Te.push(_e);if(Te.push(1),L[0].offset!=0){var Je={offset:0,color:L[0].color};L.unshift(Je)}if(L[L.length-1].offset!=1){var ct={offset:1,color:L[L.length-1].color};L.push(ct)}for(var _t="",b=0,R=0;R<Te.length;R++){for(_e=Te[R];_e>L[b+1].offset;)b++;var z=L[b].offset,fe=(_e-z)/(L[b+1].offset-z),Le=L[b].color,qe=L[b+1].color;_t+=G(Math.round((1-fe)*Le[0]+fe*qe[0]).toString(16))+G(Math.round((1-fe)*Le[1]+fe*qe[1]).toString(16))+G(Math.round((1-fe)*Le[2]+fe*qe[2]).toString(16))}return _t.trim()},xt=function(L,ee){ee||(ee=21);var _e=En(),Te=pt(L.colors,ee),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+ee+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Te,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ae("endobj"),L.objectNumber=En(),ae("<< /ShadingType "+L.type),ae("/ColorSpace /DeviceRGB");var Je="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?Je+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):Je+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),ae(Je+="]"),L.matrix&&ae("/Matrix ["+L.matrix.toString()+"]"),ae("/Function "+_e+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Bt=function(L,ee){var _e=bn(),Te=En();ee.push({resourcesOid:_e,objectOid:Te}),L.objectNumber=Te;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Me.push({key:"XStep",value:T(L.xStep)}),Me.push({key:"YStep",value:T(L.yStep)}),Me.push({key:"Resources",value:_e+" 0 R"}),L.matrix&&Me.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Xe({data:L.stream,additionalKeyValues:Me,objectId:L.objectNumber}),ae("endobj")},gr=function(L){var ee;for(ee in sr)sr.hasOwnProperty(ee)&&(sr[ee]instanceof mh?xt(sr[ee]):sr[ee]instanceof m0&&Bt(sr[ee],L))},vr=function(L){for(var ee in L.objectNumber=En(),ae("<<"),L)switch(ee){case"opacity":ae("/ca "+I(L[ee]));break;case"stroke-opacity":ae("/CA "+I(L[ee]))}ae(">>"),ae("endobj")},Xr=function(){var L;for(L in Yr)Yr.hasOwnProperty(L)&&vr(Yr[L])},Pi=function(){for(var L in ae("/XObject <<"),Dn)Dn.hasOwnProperty(L)&&Dn[L].objectNumber>=0&&ae("/"+L+" "+Dn[L].objectNumber+" 0 R");hr.publish("putXobjectDict"),ae(">>")},wo=function(){dn.oid=En(),ae("<<"),ae("/Filter /Standard"),ae("/V "+dn.v),ae("/R "+dn.r),ae("/U <"+dn.toHexString(dn.U)+">"),ae("/O <"+dn.toHexString(dn.O)+">"),ae("/P "+dn.P),ae(">>"),ae("endobj")},ps=function(){for(var L in ae("/Font <<"),mr)mr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&ae("/"+L+" "+mr[L].objectNumber+" 0 R");ae(">>")},Yi=function(){if(Object.keys(sr).length>0){for(var L in ae("/Shading <<"),sr)sr.hasOwnProperty(L)&&sr[L]instanceof mh&&sr[L].objectNumber>=0&&ae("/"+L+" "+sr[L].objectNumber+" 0 R");hr.publish("putShadingPatternDict"),ae(">>")}},ms=function(L){if(Object.keys(sr).length>0){for(var ee in ae("/Pattern <<"),sr)sr.hasOwnProperty(ee)&&sr[ee]instanceof d.TilingPattern&&sr[ee].objectNumber>=0&&sr[ee].objectNumber<L&&ae("/"+ee+" "+sr[ee].objectNumber+" 0 R");hr.publish("putTilingPatternDict"),ae(">>")}},Ma=function(){if(Object.keys(Yr).length>0){var L;for(L in ae("/ExtGState <<"),Yr)Yr.hasOwnProperty(L)&&Yr[L].objectNumber>=0&&ae("/"+L+" "+Yr[L].objectNumber+" 0 R");hr.publish("putGStateDict"),ae(">>")}},hn=function(L){ie(L.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ps(),Yi(),ms(L.objectOid),Ma(),Pi(),ae(">>"),ae("endobj")},$f=function(){var L=[];lt(),Xr(),St(),gr(L),hr.publish("putResources"),L.forEach(hn),hn({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),hr.publish("postPutResources")},Bf=function(){hr.publish("putAdditionalObjects");for(var L=0;L<ue.length;L++){var ee=ue[L];ie(ee.objId,!0),ae(ee.content),ae("endobj")}hr.publish("postPutAdditionalObjects")},md=function(L){Kr[L.fontName]=Kr[L.fontName]||{},Kr[L.fontName][L.fontStyle]=L.id},Vf=function(L,ee,_e,Te,Me){var Je={id:"F"+(Object.keys(mr).length+1).toString(10),postScriptName:L,fontName:ee,fontStyle:_e,encoding:Te,isStandardFont:Me||!1,metadata:{}};return hr.publish("addFont",{font:Je,instance:this}),mr[Je.id]=Je,md(Je),Je.id},gd=function(L){for(var ee=0,_e=ke.length;ee<_e;ee++){var Te=Vf.call(this,L[ee][0],L[ee][1],L[ee][2],ke[ee][3],!0);f===!1&&(h[Te]=!0);var Me=L[ee][0].split("-");md({id:Te,fontName:Me[0],fontStyle:Me[1]||""})}hr.publish("addFonts",{fonts:mr,dictionary:Kr})},Xi=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Te){var ee=Te.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var _e="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Te.message;if(!zt.console)throw new Error(_e);zt.console.error(_e,Te),zt.alert&&alert(_e)}},L.foo.bar=L,L.foo},Yc=function(L,ee){var _e,Te,Me,Je,ct,_t,b,R,z;if(Me=(ee=ee||{}).sourceEncoding||"Unicode",ct=ee.outputEncoding,(ee.autoencode||ct)&&mr[dt].metadata&&mr[dt].metadata[Me]&&mr[dt].metadata[Me].encoding&&(Je=mr[dt].metadata[Me].encoding,!ct&&mr[dt].encoding&&(ct=mr[dt].encoding),!ct&&Je.codePages&&(ct=Je.codePages[0]),typeof ct=="string"&&(ct=Je[ct]),ct)){for(b=!1,_t=[],_e=0,Te=L.length;_e<Te;_e++)(R=ct[L.charCodeAt(_e)])?_t.push(String.fromCharCode(R)):_t.push(L[_e]),_t[_e].charCodeAt(0)>>8&&(b=!0);L=_t.join("")}for(_e=L.length;b===void 0&&_e!==0;)L.charCodeAt(_e-1)>>8&&(b=!0),_e--;if(!b)return L;for(_t=ee.noBOM?[]:[254,255],_e=0,Te=L.length;_e<Te;_e++){if((z=(R=L.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(z),_t.push(R-(z<<8))}return String.fromCharCode.apply(void 0,_t)},jn=d.__private__.pdfEscape=d.pdfEscape=function(L,ee){return Yc(L,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ci=d.__private__.beginPage=function(L){pe[++Ir]=[],Mt[Ir]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Uf(Ir),Se(pe[F])},ql=function(L,ee){var _e,Te,Me;switch(r=ee||r,typeof L=="string"&&(_e=y(L.toLowerCase()),Array.isArray(_e)&&(Te=_e[0],Me=_e[1])),Array.isArray(L)&&(Te=L[0]*tt,Me=L[1]*tt),isNaN(Te)&&(Te=a[0],Me=a[1]),(Te>14400||Me>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Me=Math.min(14400,Me)),a=[Te,Me],r.substr(0,1)){case"l":Me>Te&&(a=[Me,Te]);break;case"p":Te>Me&&(a=[Me,Te])}Ci(a),Gf(Hf),ae(Ra),Xf!==0&&ae(Xf+" J"),su!==0&&ae(su+" j"),hr.publish("addPage",{pageNumber:Ir})},Xc=function(L){L>0&&L<=Ir&&(pe.splice(L,1),Mt.splice(L,1),Ir--,F>Ir&&(F=Ir),this.setPage(F))},Uf=function(L){L>0&&L<=Ir&&(F=L)},Ur=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return pe.length-1},Wl=function(L,ee,_e){var Te,Me=void 0;return _e=_e||{},L=L!==void 0?L:mr[dt].fontName,ee=ee!==void 0?ee:mr[dt].fontStyle,Te=L.toLowerCase(),Kr[Te]!==void 0&&Kr[Te][ee]!==void 0?Me=Kr[Te][ee]:Kr[L]!==void 0&&Kr[L][ee]!==void 0?Me=Kr[L][ee]:_e.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+L+"', '"+ee+"'. Refer to getFontList() for available fonts."),Me||_e.noFallback||(Me=Kr.times[ee])==null&&(Me=Kr.times.normal),Me},Hl=d.__private__.putInfo=function(){var L=En(),ee=function(Te){return Te};for(var _e in u!==null&&(ee=dn.encryptor(L,0)),ae("<<"),ae("/Producer ("+jn(ee("jsPDF "+Ut.version))+")"),ht)ht.hasOwnProperty(_e)&&ht[_e]&&ae("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+jn(ee(ht[_e]))+")");ae("/CreationDate ("+jn(ee(X))+")"),ae(">>"),ae("endobj")},_o=d.__private__.putCatalog=function(L){var ee=(L=L||{}).rootDictionaryObjId||me;switch(En(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+ee+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Fe;_e.substr(_e.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+I(Fe)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}et&&ae("/PageMode /"+et),hr.publish("putCatalog"),ae(">>"),ae("endobj")},am=d.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(W+1)),ae("/Root "+W+" 0 R"),ae("/Info "+(W-1)+" 0 R"),u!==null&&ae("/Encrypt "+dn.oid+" 0 R"),ae("/ID [ <"+re+"> <"+re+"> ]"),ae(">>")},vd=d.__private__.putHeader=function(){ae("%PDF-"+m),ae("%")},im=d.__private__.putXRef=function(){var L="0000000000";ae("xref"),ae("0 "+(W+1)),ae("0000000000 65535 f ");for(var ee=1;ee<=W;ee++)typeof Q[ee]=="function"?ae((L+Q[ee]()).slice(-10)+" 00000 n "):Q[ee]!==void 0?ae((L+Q[ee]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},So=d.__private__.buildDocument=function(){Oe(),Se(oe),hr.publish("buildDocument"),vd(),Ve(),Bf(),$f(),u!==null&&wo(),Hl(),_o();var L=Y;return im(),am(),ae("startxref"),ae(""+L),ae("%%EOF"),Se(pe[F]),oe.join(`
`)},Qc=d.__private__.getBlob=function(L){return new Blob([Ae(L)],{type:"application/pdf"})},Jc=d.output=d.__private__.output=Xi(function(L,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",L){case void 0:return So();case"save":d.save(ee.filename);break;case"arraybuffer":return Ae(So());case"blob":return Qc(So());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(Qc(So()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Te=So();try{_e=PT(Te)}catch{_e=PT(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ee.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Me=ee.pdfObjectUrl,Je="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",_t=zt.open();return _t!==null&&_t.document.write(ct),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',R=zt.open();if(R!==null){R.document.write(b);var z=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=ee.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(z.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Le=zt.open();if(Le!==null&&(Le.document.write(fe),Le.document.title=ee.filename),Le||typeof safari>"u")return Le;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",ee);default:return null}}),ll=function(L){return Array.isArray(Ki)===!0&&Ki.indexOf(L)>-1};switch(n){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);tt=n}var dn=null;ce(),q();var yd=function(L){return u!==null?dn.encryptor(L,0):function(ee){return ee}},zf=d.__private__.getPageInfo=d.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[L].objId,pageNumber:L,pageContext:Mt[L]}},Wt=d.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Mt)if(Mt[ee].objId===L)break;return zf(ee)},cl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Mt[F].objId,pageNumber:F,pageContext:Mt[F]}};d.addPage=function(){return ql.apply(this,arguments),this},d.setPage=function(){return Uf.apply(this,arguments),Se.call(this,pe[F]),this},d.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},d.movePage=function(L,ee){var _e,Te;if(L>ee){_e=pe[L],Te=Mt[L];for(var Me=L;Me>ee;Me--)pe[Me]=pe[Me-1],Mt[Me]=Mt[Me-1];pe[ee]=_e,Mt[ee]=Te,this.setPage(ee)}else if(L<ee){_e=pe[L],Te=Mt[L];for(var Je=L;Je<ee;Je++)pe[Je]=pe[Je+1],Mt[Je]=Mt[Je+1];pe[ee]=_e,Mt[ee]=Te,this.setPage(ee)}return this},d.deletePage=function(){return Xc.apply(this,arguments),this},d.__private__.text=d.text=function(L,ee,_e,Te,Me){var Je,ct,_t,b,R,z,fe,Le,qe,ut=(Te=Te||{}).scope||this;if(typeof L=="number"&&typeof ee=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Qt=_e;_e=ee,ee=L,L=Qt}if(arguments[3]instanceof kt?(S("The transform parameter of text() with a Matrix value"),qe=Me):(_t=arguments[4],b=arguments[5],Lr(fe=arguments[3])==="object"&&fe!==null||(typeof _t=="string"&&(b=_t,_t=null),typeof fe=="string"&&(b=fe,fe=null),typeof fe=="number"&&(_t=fe,fe=null),Te={flags:fe,angle:_t,align:b})),isNaN(ee)||isNaN(_e)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return ut;var lr="",Jt=!1,Fr=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Rr,tn=ut.internal.scaleFactor;function Po(on){return on=on.split("	").join(Array(Te.TabLen||9).join(" ")),jn(on,fe)}function Fa(on){for(var ln,Hn=on.concat(),pa=[],ec=Hn.length;ec--;)typeof(ln=Hn.shift())=="string"?pa.push(ln):Array.isArray(on)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?pa.push(ln[0]):pa.push([ln[0],ln[1],ln[2]]);return pa}function dl(on,ln){var Hn;if(typeof on=="string")Hn=ln(on)[0];else if(Array.isArray(on)){for(var pa,ec,pm=on.concat(),Od=[],iy=pm.length;iy--;)typeof(pa=pm.shift())=="string"?Od.push(ln(pa)[0]):Array.isArray(pa)&&typeof pa[0]=="string"&&(ec=ln(pa[0],pa[1],pa[2]),Od.push([ec[0],ec[1],ec[2]]));Hn=Od}return Hn}var pl=!1,om=!0;if(typeof L=="string")pl=!0;else if(Array.isArray(L)){var lm=L.concat();ct=[];for(var Sd,$a=lm.length;$a--;)(typeof(Sd=lm.shift())!="string"||Array.isArray(Sd)&&typeof Sd[0]!="string")&&(om=!1);pl=om}if(pl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ad=He/ut.internal.scaleFactor,Td=Ad*(Fr-1);switch(Te.baseline){case"bottom":_e-=Td;break;case"top":_e+=Ad-Td;break;case"hanging":_e+=Ad-2*Td;break;case"middle":_e+=Ad/2-Td}if((z=Te.maxWidth||0)>0&&(typeof L=="string"?L=ut.splitTextToSize(L,z):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(on,ln){return on.concat(ut.splitTextToSize(ln,z))},[]))),Je={text:L,x:ee,y:_e,options:Te,mutex:{pdfEscape:jn,activeFontKey:dt,fonts:mr,activeFontSize:He}},hr.publish("preProcessText",Je),L=Je.text,_t=(Te=Je.options).angle,!(qe instanceof kt)&&_t&&typeof _t=="number"){_t*=Math.PI/180,Te.rotationDirection===0&&(_t=-_t),w===_.ADVANCED&&(_t=-_t);var Ed=Math.cos(_t),cm=Math.sin(_t);qe=new kt(Ed,cm,-cm,Ed,0,0)}else _t&&_t instanceof kt&&(qe=_t);w!==_.ADVANCED||qe||(qe=ta),(R=Te.charSpace||Kl)!==void 0&&(lr+=T(N(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Le=Te.horizontalScale)!==void 0&&(lr+=T(100*Le)+` Tz
`),Te.lang;var Qi=-1,r_=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,um=ut.internal.getCurrentPageInfo().pageContext;switch(r_){case 0:case!1:case"fill":Qi=0;break;case 1:case!0:case"stroke":Qi=1;break;case 2:case"fillThenStroke":Qi=2;break;case 3:case"invisible":Qi=3;break;case 4:case"fillAndAddForClipping":Qi=4;break;case 5:case"strokeAndAddPathForClipping":Qi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qi=6;break;case 7:case"addToPathForClipping":Qi=7}var ty=um.usedRenderingMode!==void 0?um.usedRenderingMode:-1;Qi!==-1?lr+=Qi+` Tr
`:ty!==-1&&(lr+=`0 Tr
`),Qi!==-1&&(um.usedRenderingMode=Qi),b=Te.align||"left";var Vs,kd=He*Fr,ry=ut.internal.pageSize.getWidth(),ny=mr[dt];R=Te.charSpace||Kl,z=Te.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var fu=[],Qf=function(on){return ut.getStringUnitWidth(on,{font:ny,charSpace:R,fontSize:He,doKerning:!1})*He/tn};if(Object.prototype.toString.call(L)==="[object Array]"){var Ji;ct=Fa(L),b!=="left"&&(Vs=ct.map(Qf));var Ni,hu=0;if(b==="right"){ee-=Vs[0],L=[],$a=ct.length;for(var Ql=0;Ql<$a;Ql++)Ql===0?(Ni=ys(ee),Ji=da(_e)):(Ni=N(hu-Vs[Ql]),Ji=-kd),L.push([ct[Ql],Ni,Ji]),hu=Vs[Ql]}else if(b==="center"){ee-=Vs[0]/2,L=[],$a=ct.length;for(var Jl=0;Jl<$a;Jl++)Jl===0?(Ni=ys(ee),Ji=da(_e)):(Ni=N((hu-Vs[Jl])/2),Ji=-kd),L.push([ct[Jl],Ni,Ji]),hu=Vs[Jl]}else if(b==="left"){L=[],$a=ct.length;for(var Pd=0;Pd<$a;Pd++)L.push(ct[Pd])}else if(b==="justify"&&ny.encoding==="Identity-H"){L=[],$a=ct.length,z=z!==0?z:ry;for(var Zl=0,Wn=0;Wn<$a;Wn++)if(Ji=Wn===0?da(_e):-kd,Ni=Wn===0?ys(ee):Zl,Wn<$a-1){var fm=N((z-Vs[Wn])/(ct[Wn].split(" ").length-1)),Oi=ct[Wn].split(" ");L.push([Oi[0]+" ",Ni,Ji]),Zl=0;for(var Us=1;Us<Oi.length;Us++){var Cd=(Qf(Oi[Us-1]+" "+Oi[Us])-Qf(Oi[Us]))*tn+fm;Us==Oi.length-1?L.push([Oi[Us],Cd,0]):L.push([Oi[Us]+" ",Cd,0]),Zl-=Cd}}else L.push([ct[Wn],Ni,Ji]);L.push(["",Zl,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],$a=ct.length,z=z!==0?z:ry,Wn=0;Wn<$a;Wn++)Ji=Wn===0?da(_e):-kd,Ni=Wn===0?ys(ee):0,Wn<$a-1?fu.push(T(N((z-Vs[Wn])/(ct[Wn].split(" ").length-1)))):fu.push(0),L.push([ct[Wn],Ni,Ji])}}var ay=typeof Te.R2L=="boolean"?Te.R2L:Ye;ay===!0&&(L=dl(L,function(on,ln,Hn){return[on.split("").reverse().join(""),ln,Hn]})),Je={text:L,x:ee,y:_e,options:Te,mutex:{pdfEscape:jn,activeFontKey:dt,fonts:mr,activeFontSize:He}},hr.publish("postProcessText",Je),L=Je.text,Jt=Je.mutex.isHex||!1;var hm=mr[dt].encoding;hm!=="WinAnsiEncoding"&&hm!=="StandardEncoding"||(L=dl(L,function(on,ln,Hn){return[Po(on),ln,Hn]})),ct=Fa(L),L=[];for(var Jf,Zf,du,eh=0,Nd=1,th=Array.isArray(ct[0])?Nd:eh,pu="",dm=function(on,ln,Hn){var pa="";return Hn instanceof kt?(Hn=typeof Te.angle=="number"?Za(Hn,new kt(1,0,0,1,on,ln)):Za(new kt(1,0,0,1,on,ln),Hn),w===_.ADVANCED&&(Hn=Za(new kt(1,0,0,-1,0,0),Hn)),pa=Hn.join(" ")+` Tm
`):pa=T(on)+" "+T(ln)+` Td
`,pa},zs=0;zs<ct.length;zs++){switch(pu="",th){case Nd:du=(Jt?"<":"(")+ct[zs][0]+(Jt?">":")"),Jf=parseFloat(ct[zs][1]),Zf=parseFloat(ct[zs][2]);break;case eh:du=(Jt?"<":"(")+ct[zs]+(Jt?">":")"),Jf=ys(ee),Zf=da(_e)}fu!==void 0&&fu[zs]!==void 0&&(pu=fu[zs]+` Tw
`),zs===0?L.push(pu+dm(Jf,Zf,qe)+du):th===eh?L.push(pu+du):th===Nd&&L.push(pu+dm(Jf,Zf,qe)+du)}L=th===eh?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var qs=`BT
/`;return qs+=dt+" "+He+` Tf
`,qs+=T(He*Fr)+` TL
`,qs+=Eo+`
`,qs+=lr,qs+=L,ae(qs+="ET"),h[dt]=!0,ut};var sm=d.__private__.clip=d.clip=function(L){return ae(L==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return sm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ae("n"),this};var Bs=d.__private__.isValidStyle=function(L){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ee=!0),ee};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(L){return Bs(L)&&(c=L),this};var xd=d.__private__.getStyle=d.getStyle=function(L){var ee=c;switch(L){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=L}return ee},gs=d.close=function(){return ae("h"),this};d.stroke=function(){return ae("S"),this},d.fill=function(L){return Zc("f",L),this},d.fillEvenOdd=function(L){return Zc("f*",L),this},d.fillStroke=function(L){return Zc("B",L),this},d.fillStrokeEvenOdd=function(L){return Zc("B*",L),this};var Zc=function(L,ee){Lr(ee)==="object"?tu(ee,L):ae(L)},qf=function(L){L===null||w===_.ADVANCED&&L===void 0||(L=xd(L),ae(L))};function eu(L,ee,_e,Te,Me){var Je=new m0(ee||this.boundingBox,_e||this.xStep,Te||this.yStep,this.gState,Me||this.matrix);Je.stream=this.stream;var ct=L+"$$"+this.cloneIndex+++"$$";return Ln(ct,Je),Je}var tu=function(L,ee){var _e=ds[L.key],Te=sr[_e];if(Te instanceof mh)ae("q"),ae(bd(ee)),Te.gState&&d.setGState(Te.gState),ae(L.matrix.toString()+" cm"),ae("/"+_e+" sh"),ae("Q");else if(Te instanceof m0){var Me=new kt(1,0,0,-1,0,ei());L.matrix&&(Me=Me.multiply(L.matrix||ta),_e=eu.call(Te,L.key,L.boundingBox,L.xStep,L.yStep,Me).id),ae("q"),ae("/Pattern cs"),ae("/"+_e+" scn"),Te.gState&&d.setGState(Te.gState),ae(ee),ae("Q")}},bd=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ao=d.moveTo=function(L,ee){return ae(T(N(L))+" "+T(H(ee))+" m"),this},vs=d.lineTo=function(L,ee){return ae(T(N(L))+" "+T(H(ee))+" l"),this},To=d.curveTo=function(L,ee,_e,Te,Me,Je){return ae([T(N(L)),T(H(ee)),T(N(_e)),T(H(Te)),T(N(Me)),T(H(Je)),"c"].join(" ")),this};d.__private__.line=d.line=function(L,ee,_e,Te,Me){if(isNaN(L)||isNaN(ee)||isNaN(_e)||isNaN(Te)||!Bs(Me))throw new Error("Invalid arguments passed to jsPDF.line");return w===_.COMPAT?this.lines([[_e-L,Te-ee]],L,ee,[1,1],Me||"S"):this.lines([[_e-L,Te-ee]],L,ee,[1,1]).stroke()},d.__private__.lines=d.lines=function(L,ee,_e,Te,Me,Je){var ct,_t,b,R,z,fe,Le,qe,ut,Qt,lr,Jt;if(typeof L=="number"&&(Jt=_e,_e=ee,ee=L,L=Jt),Te=Te||[1,1],Je=Je||!1,isNaN(ee)||isNaN(_e)||!Array.isArray(L)||!Array.isArray(Te)||!Bs(Me)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ao(ee,_e),ct=Te[0],_t=Te[1],R=L.length,Qt=ee,lr=_e,b=0;b<R;b++)(z=L[b]).length===2?(Qt=z[0]*ct+Qt,lr=z[1]*_t+lr,vs(Qt,lr)):(fe=z[0]*ct+Qt,Le=z[1]*_t+lr,qe=z[2]*ct+Qt,ut=z[3]*_t+lr,Qt=z[4]*ct+Qt,lr=z[5]*_t+lr,To(fe,Le,qe,ut,Qt,lr));return Je&&gs(),qf(Me),this},d.path=function(L){for(var ee=0;ee<L.length;ee++){var _e=L[ee],Te=_e.c;switch(_e.op){case"m":Ao(Te[0],Te[1]);break;case"l":vs(Te[0],Te[1]);break;case"c":To.apply(this,Te);break;case"h":gs()}}return this},d.__private__.rect=d.rect=function(L,ee,_e,Te,Me){if(isNaN(L)||isNaN(ee)||isNaN(_e)||isNaN(Te)||!Bs(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return w===_.COMPAT&&(Te=-Te),ae([T(N(L)),T(H(ee)),T(N(_e)),T(N(Te)),"re"].join(" ")),qf(Me),this},d.__private__.triangle=d.triangle=function(L,ee,_e,Te,Me,Je,ct){if(isNaN(L)||isNaN(ee)||isNaN(_e)||isNaN(Te)||isNaN(Me)||isNaN(Je)||!Bs(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-L,Te-ee],[Me-_e,Je-Te],[L-Me,ee-Je]],L,ee,[1,1],ct,!0),this},d.__private__.roundedRect=d.roundedRect=function(L,ee,_e,Te,Me,Je,ct){if(isNaN(L)||isNaN(ee)||isNaN(_e)||isNaN(Te)||isNaN(Me)||isNaN(Je)||!Bs(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*_e),Je=Math.min(Je,.5*Te),this.lines([[_e-2*Me,0],[Me*_t,0,Me,Je-Je*_t,Me,Je],[0,Te-2*Je],[0,Je*_t,-Me*_t,Je,-Me,Je],[2*Me-_e,0],[-Me*_t,0,-Me,-Je*_t,-Me,-Je],[0,2*Je-Te],[0,-Je*_t,Me*_t,-Je,Me,-Je]],L+Me,ee,[1,1],ct,!0),this},d.__private__.ellipse=d.ellipse=function(L,ee,_e,Te,Me){if(isNaN(L)||isNaN(ee)||isNaN(_e)||isNaN(Te)||!Bs(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*_e,ct=4/3*(Math.SQRT2-1)*Te;return Ao(L+_e,ee),To(L+_e,ee-ct,L+Je,ee-Te,L,ee-Te),To(L-Je,ee-Te,L-_e,ee-ct,L-_e,ee),To(L-_e,ee+ct,L-Je,ee+Te,L,ee+Te),To(L+Je,ee+Te,L+_e,ee+ct,L+_e,ee),qf(Me),this},d.__private__.circle=d.circle=function(L,ee,_e,Te){if(isNaN(L)||isNaN(ee)||isNaN(_e)||!Bs(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ee,_e,_e,Te)},d.setFont=function(L,ee,_e){return _e&&(ee=C(ee,_e)),dt=Wl(L,ee,{disableWarning:!1}),this};var Wf=d.__private__.getFont=d.getFont=function(){return mr[Wl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var L,ee,_e={};for(L in Kr)if(Kr.hasOwnProperty(L))for(ee in _e[L]=[],Kr[L])Kr[L].hasOwnProperty(ee)&&_e[L].push(ee);return _e},d.addFont=function(L,ee,_e,Te,Me){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(_e=C(_e,Te)),Me=Me||"Identity-H",Vf.call(this,L,ee,_e,Me)};var Rr,Hf=e.lineWidth||.200025,ru=d.__private__.getLineWidth=d.getLineWidth=function(){return Hf},Gf=d.__private__.setLineWidth=d.setLineWidth=function(L){return Hf=L,ae(T(N(L))+" w"),this};d.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(L,ee){if(L=L||[],ee=ee||0,isNaN(ee)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(_e){return T(N(_e))}).join(" "),ee=T(N(ee)),ae("["+L+"] "+ee+" d"),this};var Kf=d.__private__.getLineHeight=d.getLineHeight=function(){return He*Rr};d.__private__.getLineHeight=d.getLineHeight=function(){return He*Rr};var Yf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Rr=L),this},Gl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Rr};Yf(e.lineHeight);var ys=d.__private__.getHorizontalCoordinate=function(L){return N(L)},da=d.__private__.getVerticalCoordinate=function(L){return w===_.ADVANCED?L:Mt[F].mediaBox.topRightY-Mt[F].mediaBox.bottomLeftY-N(L)},wd=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(L){return T(ys(L))},ul=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(L){return T(da(L))},Ra=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ye(Ra)},d.__private__.setStrokeColor=d.setDrawColor=function(L,ee,_e,Te){return Ra=be({ch1:L,ch2:ee,ch3:_e,ch4:Te,pdfColorType:"draw",precision:2}),ae(Ra),this};var nu=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ye(nu)},d.__private__.setFillColor=d.setFillColor=function(L,ee,_e,Te){return nu=be({ch1:L,ch2:ee,ch3:_e,ch4:Te,pdfColorType:"fill",precision:2}),ae(nu),this};var Eo=e.textColor||"0 g",au=d.__private__.getTextColor=d.getTextColor=function(){return ye(Eo)};d.__private__.setTextColor=d.setTextColor=function(L,ee,_e,Te){return Eo=be({ch1:L,ch2:ee,ch3:_e,ch4:Te,pdfColorType:"text",precision:3}),this};var Kl=e.charSpace,iu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Kl||0)};d.__private__.setCharSpace=d.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kl=L,this};var Xf=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(L){var ee=d.CapJoinStyles[L];if(ee===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=ee,ae(ee+" J"),this};var su=0;d.__private__.setLineJoin=d.setLineJoin=function(L){var ee=d.CapJoinStyles[L];if(ee===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return su=ee,ae(ee+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(T(N(L))+" M"),this},d.GState=pb,d.setGState=function(L){(L=typeof L=="string"?Yr[ha[L]]:fl(null,L)).equals(Ei)||(ae("/"+L.id+" gs"),Ei=L)};var fl=function(L,ee){if(!L||!ha[L]){var _e=!1;for(var Te in Yr)if(Yr.hasOwnProperty(Te)&&Yr[Te].equals(ee)){_e=!0;break}if(_e)ee=Yr[Te];else{var Me="GS"+(Object.keys(Yr).length+1).toString(10);Yr[Me]=ee,ee.id=Me}return L&&(ha[L]=ee.id),hr.publish("addGState",ee),ee}};d.addGState=function(L,ee){return fl(L,ee),this},d.saveGraphicsState=function(){return ae("q"),Gi.push({key:dt,size:He,color:Eo}),this},d.restoreGraphicsState=function(){ae("Q");var L=Gi.pop();return dt=L.key,He=L.size,Eo=L.color,Ei=null,this},d.setCurrentTransformationMatrix=function(L){return ae(L.toString()+" cm"),this},d.comment=function(L){return ae("#"+L),this};var Yl=function(L,ee){var _e=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Je){isNaN(Je)||(_e=parseFloat(Je))}});var Te=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Je){isNaN(Je)||(Te=parseFloat(Je))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Je){Me=Je.toString()}}),this},ou=function(L,ee,_e,Te){Yl.call(this,L,ee),this.type="rect";var Me=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(ct){isNaN(ct)||(Me=parseFloat(ct))}});var Je=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(ct){isNaN(ct)||(Je=parseFloat(ct))}}),this},Xl=function(){this.page=Ir,this.currentPage=F,this.pages=pe.slice(0),this.pagesContext=Mt.slice(0),this.x=jt,this.y=Lt,this.matrix=en,this.width=hl(F),this.height=ei(F),this.outputDestination=je,this.id="",this.objectNumber=-1};Xl.prototype.restore=function(){Ir=this.page,F=this.currentPage,Mt=this.pagesContext,pe=this.pages,jt=this.x,Lt=this.y,en=this.matrix,cu(F,this.width),uu(F,this.height),je=this.outputDestination};var lu=function(L,ee,_e,Te,Me){ki.push(new Xl),Ir=F=0,pe=[],jt=L,Lt=ee,en=Me,Ci([_e,Te])},_d=function(L){if(Aa[L])ki.pop().restore();else{var ee=new Xl,_e="Xo"+(Object.keys(Dn).length+1).toString(10);ee.id=_e,Aa[L]=_e,Dn[_e]=ee,hr.publish("addFormObject",ee),ki.pop().restore()}};for(var ko in d.beginFormObject=function(L,ee,_e,Te,Me){return lu(L,ee,_e,Te,Me),this},d.endFormObject=function(L){return _d(L),this},d.doFormObject=function(L,ee){var _e=Dn[Aa[L]];return ae("q"),ae(ee.toString()+" cm"),ae("/"+_e.id+" Do"),ae("Q"),this},d.getFormObject=function(L){var ee=Dn[Aa[L]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},d.save=function(L,ee){return L=L||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(uh(Qc(So()),L),typeof uh.unload=="function"&&zt.setTimeout&&setTimeout(uh.unload,911),this):new Promise(function(_e,Te){try{var Me=uh(Qc(So()),L);typeof uh.unload=="function"&&zt.setTimeout&&setTimeout(uh.unload,911),_e(Me)}catch(Je){Te(Je.message)}})},Ut.API)Ut.API.hasOwnProperty(ko)&&(ko==="events"&&Ut.API.events.length?function(L,ee){var _e,Te,Me;for(Me=ee.length-1;Me!==-1;Me--)_e=ee[Me][0],Te=ee[Me][1],L.subscribe.apply(L,[_e].concat(typeof Te=="function"?[Te]:Te))}(hr,Ut.API.events):d[ko]=Ut.API[ko]);var hl=d.getPageWidth=function(L){return(Mt[L=L||F].mediaBox.topRightX-Mt[L].mediaBox.bottomLeftX)/tt},cu=d.setPageWidth=function(L,ee){Mt[L].mediaBox.topRightX=ee*tt+Mt[L].mediaBox.bottomLeftX},ei=d.getPageHeight=function(L){return(Mt[L=L||F].mediaBox.topRightY-Mt[L].mediaBox.bottomLeftY)/tt},uu=d.setPageHeight=function(L,ee){Mt[L].mediaBox.topRightY=ee*tt+Mt[L].mediaBox.bottomLeftY};return d.internal={pdfEscape:jn,getStyle:xd,getFont:Wf,getFontSize:Ge,getCharSpace:iu,getTextColor:au,getLineHeight:Kf,getLineHeightFactor:Gl,getLineWidth:ru,write:Ce,getHorizontalCoordinate:ys,getVerticalCoordinate:da,getCoordinateString:wd,getVerticalCoordinateString:ul,collections:{},newObject:En,newAdditionalObject:xe,newObjectDeferred:bn,newObjectDeferredBegin:ie,getFilters:$e,putStream:Xe,events:hr,scaleFactor:tt,pageSize:{getWidth:function(){return hl(F)},setWidth:function(L){cu(F,L)},getHeight:function(){return ei(F)},setHeight:function(L){uu(F,L)}},encryptionOptions:u,encryption:dn,getEncryptor:yd,output:Jc,getNumberOfPages:Ur,pages:pe,out:ae,f2:I,f3:E,getPageInfo:zf,getPageInfoByObjId:Wt,getCurrentPageInfo:cl,getPDFVersion:p,Point:Yl,Rectangle:ou,Matrix:kt,hasHotfix:ll},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return hl(F)},set:function(L){cu(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ei(F)},set:function(L){uu(F,L)},enumerable:!0,configurable:!0}),gd.call(d,ke),dt="F1",ql(a,r),hr.publish("initialized"),d}Yd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Yd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Yd.prototype.processOwnerPassword=function(e,t){return NT(CT(t).substr(0,5),e)},Yd.prototype.encryptor=function(e,t){var r=CT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return NT(r,n)}},pb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Lr(e)!==Lr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ut.API={events:[]},Ut.version="3.0.1";var Fn=Ut.API,aC=1,ud=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$d=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(e){return e.toFixed(2)},Eu=function(e){return e.toFixed(5)};Fn.__acroform__={};var fs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},rL=function(e){return e*aC},xl=function(e){var t=new Iq,r=Dt.internal.getHeight(e)||0,n=Dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Zt(n)),Number(Zt(r))],t},Zye=Fn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},exe=Fn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},txe=Fn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Xn=Fn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return txe(e,t-1)},Qn=Fn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zye(e,t-1)},Jn=Fn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return exe(e,t-1)},rxe=Fn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Zt(l.lowerLeft_X)),Number(Zt(l.lowerLeft_Y)),Number(Zt(l.upperRight_X)),Number(Zt(l.upperRight_Y))]},nxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=OT(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Zt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=xl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},OT=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=Dt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Dt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,j){if(E+1<a.length){var H=N+" "+a[E+1][0];return fx(H,e,j).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=fx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,m=0,p=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+fx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",_=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var O=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(_+2)+2>s)continue e;y+=a[w][v],O=!0,p=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var k=parseInt(w),C=l(k,y,i),T=w>=a.length-1;if(C&&!T){y+=" ",v=0;continue}if(C||T){if(T)p=k;else if(e.multiline&&(f+2)*(_+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(_+2)+2>s)continue e;p=k}}for(var S="",A=m;A<=p;A++){var I=a[A];if(e.multiline){if(A===p){S+=I[v]+" ",v=(v+1)%I.length;continue}if(A===m){S+=I[I.length-1]+" ";continue}}S+=I[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=fx(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Zt(c)+" "+Zt(d)+` Td
`,t+="("+ud(S)+`) Tj
`,t+=-Zt(c)+` 0 Td
`,d=-(i+2),u=0,m=O?p:p+1,_++,y=""}break}return n.text=t,n.fontSize=i,n},fx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},axe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ixe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},sxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Lr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},oxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(il.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(axe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Dq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&ixe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=rxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Dt.createDefaultAppearanceStream(o),Lr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=nxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var m=d[s];typeof m=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&sxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Oq=Fn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Lr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ud(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},FS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ud(n(e))+")"},Al=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Al.prototype.toString=function(){return this.objId+" 0 R"},Al.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Al.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Oq(a,this.objId,this.scope)}):a instanceof Al?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Iq=function(){Al.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};fs(Iq,Al);var Dq=function(){Al.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ud(r(e))+")"}},set:function(r){e=r}})};fs(Dq,Al);var il=function e(){Al.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(t,3)},set:function(y){y?this.F=Qn(t,3):this.F=Jn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof mb)return;i="FieldObject"+e.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ud(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/aC:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof mb||this instanceof Dh))return FS(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Oa?h:FS(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Oa?y:y.substr(0,1)==="("?$d(y.substr(1,y.length-2)):$d(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa?$d(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Oa?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Oa?d:FS(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof Oa?y:y.substr(0,1)==="("?$d(y.substr(1,y.length-2)):$d(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa?$d(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Oa?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(y){y?this.Ff=Qn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(y){y?this.Ff=Qn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(y){y?this.Ff=Qn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};fs(il,Al);var N0=function(){il.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Oq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(r){r?this.Ff=Qn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(r){r?(this.Ff=Qn(this.Ff,20),t.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(r){r?this.Ff=Qn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(r){r?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(r){r?this.Ff=Qn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(N0,il);var O0=function(){N0.call(this),this.fontName="helvetica",this.combo=!1};fs(O0,N0);var I0=function(){O0.call(this),this.combo=!0};fs(I0,O0);var Jx=function(){I0.call(this),this.edit=!0};fs(Jx,I0);var Oa=function(){il.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(r){r?this.Ff=Qn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(r){r?this.Ff=Qn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(r){r?this.Ff=Qn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(r){r?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ud(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Lr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};fs(Oa,il);var Zx=function(){Oa.call(this),this.pushButton=!0};fs(Zx,Oa);var D0=function(){Oa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};fs(D0,Oa);var mb=function(){var e,t;il.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ud(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Lr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(mb,il),D0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},D0.prototype.createOption=function(e){var t=new mb;return t.Parent=this,t.optionName=e,this.Kids.push(t),lxe.call(this.scope,t),t};var e2=function(){Oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};fs(e2,Oa);var Dh=function(){il.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(t){t?this.Ff=Qn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(t){t?this.Ff=Qn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Qn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(t){t?this.Ff=Qn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(t){t?this.Ff=Qn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Qn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Dh,il);var t2=function(){Dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(e){e?this.Ff=Qn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};fs(t2,Dh);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=OT(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Zt(Dt.internal.getWidth(e))+" "+Zt(Dt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Zt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Dt.internal.getHeight(e),s=Dt.internal.getWidth(e),o=OT(e,e.caption);return a.push("1 g"),a.push("0 0 "+Zt(s)+" "+Zt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Zt(s-1)+" "+Zt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Zt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Dt.internal.getWidth(e))+" "+Zt(Dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Circle.YesNormal,t.D[e]=Dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Dt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Eu(Dt.internal.getWidth(e)/2)+" "+Eu(Dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5)),s=Number((n*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eu(Dt.internal.getWidth(e)/2)+" "+Eu(Dt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Eu(Dt.internal.getWidth(e)/2)+" "+Eu(Dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eu(Dt.internal.getWidth(e)/2)+" "+Eu(Dt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Cross.YesNormal,t.D[e]=Dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=Dt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Zt(Dt.internal.getWidth(e)-2)+" "+Zt(Dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(n.x1.x)+" "+Zt(n.x1.y)+" m"),r.push(Zt(n.x2.x)+" "+Zt(n.x2.y)+" l"),r.push(Zt(n.x4.x)+" "+Zt(n.x4.y)+" m"),r.push(Zt(n.x3.x)+" "+Zt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=Dt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Zt(Dt.internal.getWidth(e))+" "+Zt(Dt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Zt(Dt.internal.getWidth(e)-2)+" "+Zt(Dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),n.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),n.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),n.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(Dt.internal.getWidth(e))+" "+Zt(Dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Dt.internal.getWidth(e),r=Dt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Dt.internal.getWidth=function(e){var t=0;return Lr(e)==="object"&&(t=rL(e.Rect[2])),t},Dt.internal.getHeight=function(e){var t=0;return Lr(e)==="object"&&(t=rL(e.Rect[3])),t};var lxe=Fn.addField=function(e){if(oxe(this,e),!(e instanceof il))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Fn.AcroFormChoiceField=N0,Fn.AcroFormListBox=O0,Fn.AcroFormComboBox=I0,Fn.AcroFormEditBox=Jx,Fn.AcroFormButton=Oa,Fn.AcroFormPushButton=Zx,Fn.AcroFormRadioButton=D0,Fn.AcroFormCheckBox=e2,Fn.AcroFormTextField=Dh,Fn.AcroFormPasswordField=t2,Fn.AcroFormAppearance=Dt,Fn.AcroForm={ChoiceField:N0,ListBox:O0,ComboBox:I0,EditBox:Jx,Button:Oa,PushButton:Zx,RadioButton:D0,CheckBox:e2,TextField:Dh,PasswordField:t2,Appearance:Dt},Ut.AcroForm={ChoiceField:N0,ListBox:O0,ComboBox:I0,EditBox:Jx,Button:Oa,PushButton:Zx,RadioButton:D0,CheckBox:e2,TextField:Dh,PasswordField:t2,Appearance:Dt};function Lq(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var j,H,X,re,J,q=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(C(E))for(J in r)for(X=r[J],j=0;j<X.length;j+=1){for(re=!0,H=0;H<X[j].length;H+=1)if(X[j][H]!==void 0&&X[j][H]!==E[H]){re=!1;break}if(re===!0){q=J;break}}else for(J in r)for(X=r[J],j=0;j<X.length;j+=1){for(re=!0,H=0;H<X[j].length;H+=1)if(X[j][H]!==void 0&&X[j][H]!==E.charCodeAt(H)){re=!1;break}if(re===!0){q=J;break}}return q===t&&N!==t&&(q=N),q},a=function E(N){for(var j=this.internal.write,H=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:N.width}),re.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var J="",q=0,B=N.transparency.length;q<B;q++)J+=N.transparency[q]+" "+N.transparency[q]+" ";re.push({key:"Mask",value:"["+J+"]"})}N.sMask!==void 0&&re.push({key:"SMask",value:N.objectId+1+" 0 R"});var ne=N.filter!==void 0?["/"+N.filter]:void 0;if(H({data:N.data,additionalKeyValues:re,alreadyAppliedFilters:ne,objectId:N.objectId}),j("endobj"),"sMask"in N&&N.sMask!==void 0){var ce="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,D={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:ce,data:N.sMask};"filter"in N&&(D.filter=N.filter),E.call(this,D)}if(N.colorSpace===v.INDEXED){var F=this.internal.newObject();H({data:S(new Uint8Array(N.palette)),objectId:F}),j("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,j=this.internal.write;for(var H in N)j("/I"+(E=N[H]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return Lr(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var j=""+E.getAttribute("src");if(j.indexOf("data:image/")===0)return jg(unescape(j).split("base64,").pop());var H=e.loadFile(j,!0);if(H!==void 0)return H}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var X;switch(N){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return jg(E.toDataURL(X,1).split("base64,").pop())}},d=function(E){var N=this.internal.collections.addImage_images;if(N){for(var j in N)if(E===N[j].alias)return N[j]}},m=function(E,N,j){return E||N||(E=-96,N=-96),E<0&&(E=-1*j.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*j.height*72/N/this.internal.scaleFactor),E===0&&(E=N*j.width/j.height),N===0&&(N=E*j.height/j.width),[E,N]},p=function(E,N,j,H,X,re){var J=m.call(this,j,H,X),q=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,ne=l.call(this);if(j=J[0],H=J[1],ne[X.index]=X,re){re*=Math.PI/180;var ce=Math.cos(re),D=Math.sin(re),F=function(G){return G.toFixed(4)},U=[F(ce),F(D),F(-1*D),F(ce),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,q(E),B(N+H),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([q(j),"0","0",q(H),"0","0","cm"].join(" "))):this.internal.write([q(j),"0","0",q(H),q(E),B(N+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(E){var N,j,H=0;if(typeof E=="string")for(j=E.length,N=0;N<j;N++)H=(H<<5)-H+E.charCodeAt(N),H|=0;else if(C(E))for(j=E.byteLength/2,N=0;N<j;N++)H=(H<<5)-H+E[N],H|=0;return H},w=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},O=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return k()&&E instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(E){return k()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,j=new Uint8Array(N),H=0;H<N;H++)j[H]=E.charCodeAt(H);return j},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",j=C(E)?E:new Uint8Array(E),H=0;H<j.length;H+=8192)N+=String.fromCharCode.apply(null,j.subarray(H,H+8192));return N};e.addImage=function(){var E,N,j,H,X,re,J,q,B;if(typeof arguments[1]=="number"?(N=t,j=arguments[1],H=arguments[2],X=arguments[3],re=arguments[4],J=arguments[5],q=arguments[6],B=arguments[7]):(N=arguments[1],j=arguments[2],H=arguments[3],X=arguments[4],re=arguments[5],J=arguments[6],q=arguments[7],B=arguments[8]),Lr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ne=E;E=ne.imageData,N=ne.format||N||t,j=ne.x||j||0,H=ne.y||H||0,X=ne.w||ne.width||X,re=ne.h||ne.height||re,J=ne.alias||J,q=ne.compression||q,B=ne.rotation||ne.angle||B}var ce=this.internal.getFilters();if(q===void 0&&ce.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(j)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var D=A.call(this,E,N,J,q);return p.call(this,j,H,X,re,D,B),this};var A=function(E,N,j,H){var X,re,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var q=I(E,!1);(q!==""||(q=e.loadFile(E,!0))!==void 0)&&(E=q)}if(f(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((J=j)==null||J.length===0)&&(j=function(B){return typeof B=="string"||C(B)?_(B):C(B.data)?_(B.data):null}(E)),(X=d.call(this,j))||(k()&&(E instanceof Uint8Array||N==="RGBA"||(re=E,E=T(E))),X=this["process"+N.toUpperCase()](E,c.call(this),j,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:y.NONE}(H),re)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},I=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var j,H="";if(typeof E=="string"){var X;j=(X=O(E))!==null&&X!==void 0?X:E;try{H=jg(j)}catch(re){if(N)throw w(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(E){var N,j,H="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((H=I(E,!1))===""&&(H=e.loadFile(E)||""),E=H),j=n(E),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!k()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+j.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=j,N}})(Ut.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(y(_))+") >>",p.content=i;var w=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(p){var v=0,y=r,_="",w=0;for(v=0;v<p.length;v+=1)y[p.charCodeAt(v)]!==void 0?(w++,typeof(y=y[p.charCodeAt(v)])=="number"&&(_+=String.fromCharCode(y),y=r,w=0),v===p.length-1&&(y=r,_+=p.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,_+=p.charAt(v-w),v-=w,w=0);return _};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(p,v,y){return s(p)?i(p)===!1?-1:!c(p)||!s(v)&&!s(y)||!s(y)&&o(v)||o(p)&&!s(v)||o(p)&&l(v)||o(p)&&o(v)?0:u(p)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(p)||!s(y)?1:2:-1},d=function(p){var v=0,y=0,_=0,w="",O="",k="",C=(p=p||"").split("\\s+"),T=[];for(v=0;v<C.length;v+=1){for(T.push(""),y=0;y<C[v].length;y+=1)w=C[v][y],O=C[v][y-1],k=C[v][y+1],s(w)?(_=h(w,O,k),T[v]+=_!==-1?String.fromCharCode(t[w.charCodeAt(0)][_]):w):T[v]+=w;T[v]=f(T[v])}return T.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var _=0;for(y=[],_=0;_<v.length;_+=1)Array.isArray(v[_])?y.push([d(v[_][0]),v[_][1],v[_][2]]):y.push([d(v[_])]);p=y}else p=d(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",m])}(Ut.API),Ut.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(p){m=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,p=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,O){return w.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)d<(p=this.getStringUnitWidth(l[_],{font:f})*u)&&(d=p);return d!==0&&(m=l.length),{w:d/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,m,p,v,y=[],_=[],w=[],O={},k={},C=[],T=[],S=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=H,this.setFontSize(I),f==null)_=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&Lr(f[0])==="object")for(y=f.map(function(ne){return ne.name}),_=f.map(function(ne){return ne.prompt||ne.name||""}),w=f.map(function(ne){return ne.align||"left"}),d=0;d<f.length;d+=1)k[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(_=y=f,w=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(O[v=y[d]]=u.map(function(ne){return ne[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(_[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=O[v],this.setFont(void 0,"normal"),p=0;p<m.length;p+=1)C.push(this.getTextDimensions(m[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[v]=Math.max.apply(null,C)+N+N,C=[]}if(A){var X={};for(d=0;d<y.length;d+=1)X[y[d]]={},X[y[d]].text=_[d],X[y[d]].align=w[d];var re=o.call(this,X,k);T=y.map(function(ne){return new i(l,c,k[ne],re,X[ne].text,void 0,X[ne].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ne,ce){return ne[ce.name]=ce.align,ne},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var q=o.call(this,u[d],k);for(p=0;p<y.length;p+=1){var B=u[d][y[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:p,data:B},this),s.call(this,new i(l,c,k[y[p]],q,B,d+2,J[y[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Ut.API);var jq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],IT=Lq(Mq),Rq=[100,200,300,400,500,600,700,800,900],cxe=Lq(Rq);function DT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return jq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof IT[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function nL(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var uxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function iL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function fxe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},uxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=DT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+iL(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=IT[l],f=u<=IT.normal?-1:1,h=nL(c,Mq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=jq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=cxe[l],f=nL(c,Rq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+iL(i)+"'.");return s}function sL(e){return e.trimLeft()}function hxe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function dxe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var hx,oL,lL,$S=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new s,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new s,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=D;Object.defineProperty(this,"pdf",{get:function(){return F}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Se){U=!!Se}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Se){G=!!Se}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(Se){isNaN(Se)||(W=Se)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(Se){isNaN(Se)||(Q=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var ae;typeof Se=="number"?ae=[Se,Se,Se,Se]:((ae=new Array(4))[0]=Se[0],ae[1]=Se.length>=2?Se[1]:ae[0],ae[2]=Se.length>=3?Se[2]:ae[0],ae[3]=Se.length>=4?Se[3]:ae[1]),c.margin=ae}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(Se){oe=Se}});var Y=0;Object.defineProperty(this,"lastBreak",{get:function(){return Y},set:function(Se){Y=Se}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(Se){ue=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Se){pe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ae;ae=h(Se),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ae=h(Se);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var K=null;function je(Se,ae){if(K===null){var Ce=function(Ae){var ke=[];return Object.keys(Ae).forEach(function(He){Ae[He].forEach(function(Fe){var Ge=null;switch(Fe){case"bold":Ge={family:He,weight:"bold"};break;case"italic":Ge={family:He,style:"italic"};break;case"bolditalic":Ge={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:He}}Ge!==null&&(Ge.ref={name:He,style:Fe},ke.push(Ge))})}),ke}(Se.getFontList());K=function(Ae){for(var ke={},He=0;He<Ae.length;++He){var Fe=DT(Ae[He]),Ge=Fe.family,Ye=Fe.stretch,et=Fe.style,we=Fe.weight;ke[Ge]=ke[Ge]||{},ke[Ge][Ye]=ke[Ge][Ye]||{},ke[Ge][Ye][et]=ke[Ge][Ye][et]||{},ke[Ge][Ye][et][we]=Fe}return ke}(Ce.concat(ae))}return K}var Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(Se){K=null,Oe=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ae;if(this.ctx.font=Se,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Ce=ae[1];ae[2];var Ae=ae[3],ke=ae[4];ae[5];var He=ae[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Fe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ge=function(ht){var dt,tt,jt=[],Lt=ht.trim();if(Lt==="")return $S;if(Lt in aL)return[aL[Lt]];for(;Lt!=="";){switch(tt=null,dt=(Lt=sL(Lt)).charAt(0)){case'"':case"'":tt=hxe(Lt.substring(1),dt);break;default:tt=dxe(Lt)}if(tt===null||(jt.push(tt[0]),(Lt=sL(tt[1]))!==""&&Lt.charAt(0)!==","))return $S;Lt=Lt.replace(/^,/,"")}return jt}(He);if(this.fontFaces){var Ye=fxe(je(this.pdf,this.fontFaces),Ge.map(function(ht){return{family:ht,stretch:"normal",weight:Ae,style:Ce}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var et="";(Ae==="bold"||parseInt(Ae,10)>=700||Ce==="bold")&&(et="bold"),Ce==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var we="",Ie={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<Ge.length;Ke++){if(this.pdf.internal.getFont(Ge[Ke],et,{noFallback:!0,disableWarning:!0})!==void 0){we=Ge[Ke];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Ge[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)we=Ge[Ke],et="bold";else if(this.pdf.internal.getFont(Ge[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){we=Ge[Ke],et="normal";break}}if(we===""){for(var ft=0;ft<Ge.length;ft++)if(Ie[Ge[ft]]){we=Ie[Ge[ft]];break}}we=we===""?"Times":we,this.pdf.setFont(we,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,F){if(isNaN(D)||isNaN(F))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(D,F)},f.prototype.closePath=function(){var D=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Lr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){D=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(D.x,D.y)},f.prototype.lineTo=function(D,F){if(isNaN(D)||isNaN(F))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,F,U,G){if(isNaN(U)||isNaN(G)||isNaN(D)||isNaN(F))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new s(U,G)),Q=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:W.x,y:W.y}),this.ctx.lastPoint=new s(W.x,W.y)},f.prototype.bezierCurveTo=function(D,F,U,G,W,Q){if(isNaN(W)||isNaN(Q)||isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new s(W,Q)),Y=this.ctx.transform.applyToPoint(new s(D,F)),ue=this.ctx.transform.applyToPoint(new s(U,G));this.path.push({type:"bct",x1:Y.x,y1:Y.y,x2:ue.x,y2:ue.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},f.prototype.arc=function(D,F,U,G,W,Q){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G)||isNaN(W))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new s(D,F));D=oe.x,F=oe.y;var Y=this.ctx.transform.applyToPoint(new s(0,U)),ue=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(Y.x-ue.x,2)+Math.pow(Y.y-ue.y,2))}Math.abs(W-G)>=2*Math.PI&&(G=0,W=2*Math.PI),this.path.push({type:"arc",x:D,y:F,radius:U,startAngle:G,endAngle:W,counterclockwise:Q})},f.prototype.arcTo=function(D,F,U,G,W){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,F,U,G){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,F),this.lineTo(D+U,F),this.lineTo(D+U,F+G),this.lineTo(D,F+G),this.lineTo(D,F),this.lineTo(D+U,F),this.lineTo(D,F)},f.prototype.fillRect=function(D,F,U,G){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,F,U,G),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},f.prototype.strokeRect=function(D,F,U,G){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(D,F,U,G),this.stroke())},f.prototype.clearRect=function(D,F,U,G){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,F,U,G))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(F),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var F,U,G,W;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))F=0,U=0,G=0,W=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(Q!==null)F=parseInt(Q[1]),U=parseInt(Q[2]),G=parseInt(Q[3]),W=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)F=parseInt(Q[1]),U=parseInt(Q[2]),G=parseInt(Q[3]),W=parseFloat(Q[4]);else{if(W=1,typeof D=="string"&&D.charAt(0)!=="#"){var oe=new Pq(D);D=oe.ok?oe.toHex():"#000000"}D.length===4?(F=D.substring(1,2),F+=F,U=D.substring(2,3),U+=U,G=D.substring(3,4),G+=G):(F=D.substring(1,3),U=D.substring(3,5),G=D.substring(5,7)),F=parseInt(F,16),U=parseInt(U,16),G=parseInt(G,16)}}return{r:F,g:U,b:G,a:W,style:D}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,F,U,G){if(isNaN(F)||isNaN(U)||typeof D!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!d.call(this)){var W=q(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;N.call(this,{text:D,x:F,y:U,scale:Q,angle:W,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(D,F,U,G){if(isNaN(F)||isNaN(U)||typeof D!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){G=isNaN(G)?void 0:G;var W=q(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;N.call(this,{text:D,x:F,y:U,scale:Q,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(D){if(typeof D!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,U=this.pdf.internal.scaleFactor,G=F.internal.getFontSize(),W=F.getStringUnitWidth(D)*G/F.internal.scaleFactor,Q=function(oe){var Y=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Y}}),this};return new Q({width:W*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(D,F){if(isNaN(D)||isNaN(F))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(D,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(D){if(isNaN(D))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(D,F){if(isNaN(D)||isNaN(F))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,D,F);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(D,F,U,G,W,Q){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(G)||isNaN(W)||isNaN(Q))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(D,F,U,G,W,Q);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(D,F,U,G,W,Q){D=isNaN(D)?1:D,F=isNaN(F)?0:F,U=isNaN(U)?0:U,G=isNaN(G)?1:G,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(D,F,U,G,W,Q)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,F,U,G,W,Q,oe,Y,ue){var pe=this.pdf.getImageProperties(D),K=1,je=1,Oe=1,Se=1;G!==void 0&&Y!==void 0&&(Oe=Y/G,Se=ue/W,K=pe.width/G*Y/G,je=pe.height/W*ue/W),Q===void 0&&(Q=F,oe=U,F=0,U=0),G!==void 0&&Y===void 0&&(Y=G,ue=W),G===void 0&&Y===void 0&&(Y=pe.width,ue=pe.height);for(var ae,Ce=this.ctx.transform.decompose(),Ae=q(Ce.rotate.shx),ke=new l,He=(ke=(ke=(ke=ke.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new o(Q-F*Oe,oe-U*Se,G*K,W*je)),Fe=v.call(this,He),Ge=[],Ye=0;Ye<Fe.length;Ye+=1)Ge.indexOf(Fe[Ye])===-1&&Ge.push(Fe[Ye]);if(w(Ge),this.autoPaging)for(var et=Ge[0],we=Ge[Ge.length-1],Ie=et;Ie<we+1;Ie++){this.pdf.setPage(Ie);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ie===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Ie===1?0:ht+(Ie-2)*dt;if(this.ctx.clip_path.length!==0){var jt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ae,this.posX+this.margin[3],-tt+ft+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=jt}var Lt=JSON.parse(JSON.stringify(He));Lt=_([Lt],this.posX+this.margin[3],-tt+ft+this.ctx.prevPageLastElemOffset)[0];var en=(Ie>et||Ie<we)&&p.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,dt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ae),en&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",He.x,He.y,He.w,He.h,null,null,Ae)};var v=function(D,F,U){var G=[];F=F||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":G.push(Math.floor((D.y+W)/U)+1);break;case"arc":G.push(Math.floor((D.y+W-D.radius)/U)+1),G.push(Math.floor((D.y+W+D.radius)/U)+1);break;case"qct":var Q=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);G.push(Math.floor((Q.y+W)/U)+1),G.push(Math.floor((Q.y+Q.h+W)/U)+1);break;case"bct":var oe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);G.push(Math.floor((oe.y+W)/U)+1),G.push(Math.floor((oe.y+oe.h+W)/U)+1);break;case"rect":G.push(Math.floor((D.y+W)/U)+1),G.push(Math.floor((D.y+D.h+W)/U)+1)}for(var Y=0;Y<G.length;Y+=1)for(;this.pdf.internal.getNumberOfPages()<G[Y];)y.call(this);return G},y=function(){var D=this.fillStyle,F=this.strokeStyle,U=this.font,G=this.lineCap,W=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=F,this.font=U,this.lineCap=G,this.lineWidth=W,this.lineJoin=Q},_=function(D,F,U){for(var G=0;G<D.length;G++)switch(D[G].type){case"bct":D[G].x2+=F,D[G].y2+=U;case"qct":D[G].x1+=F,D[G].y1+=U;case"mt":case"lt":case"arc":default:D[G].x+=F,D[G].y+=U}return D},w=function(D){return D.sort(function(F,U){return F-U})},O=function(D,F){for(var U,G,W=this.fillStyle,Q=this.strokeStyle,oe=this.lineCap,Y=this.lineWidth,ue=Math.abs(Y*this.ctx.transform.scaleX),pe=this.lineJoin,K=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Oe=[],Se=0;Se<je.length;Se++)if(je[Se].x!==void 0)for(var ae=v.call(this,je[Se]),Ce=0;Ce<ae.length;Ce+=1)Oe.indexOf(ae[Ce])===-1&&Oe.push(ae[Ce]);for(var Ae=0;Ae<Oe.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<Oe[Ae];)y.call(this);if(w(Oe),this.autoPaging)for(var ke=Oe[0],He=Oe[Oe.length-1],Fe=ke;Fe<He+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=W,this.strokeStyle=Q,this.lineCap=oe,this.lineWidth=ue,this.lineJoin=pe;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Fe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Fe===1?0:et+(Fe-2)*we;if(this.ctx.clip_path.length!==0){var Ke=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(U,this.posX+this.margin[3],-Ie+Ye+this.ctx.prevPageLastElemOffset),k.call(this,D,!0),this.path=Ke}if(G=JSON.parse(JSON.stringify(K)),this.path=_(G,this.posX+this.margin[3],-Ie+Ye+this.ctx.prevPageLastElemOffset),F===!1||Fe===0){var ft=(Fe>ke||Fe<He)&&p.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,we,null).clip().discardPath()),k.call(this,D,F),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=Y}else this.lineWidth=ue,k.call(this,D,F),this.lineWidth=Y;this.path=K},k=function(D,F){if((D!=="stroke"||F||!m.call(this))&&(D==="stroke"||F||!d.call(this))){for(var U,G,W=[],Q=this.path,oe=0;oe<Q.length;oe++){var Y=Q[oe];switch(Y.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:Y,deltas:[],abs:[]});break;case"lt":var ue=W.length;if(Q[oe-1]&&!isNaN(Q[oe-1].x)&&(U=[Y.x-Q[oe-1].x,Y.y-Q[oe-1].y],ue>0)){for(;ue>=0;ue--)if(W[ue-1].close!==!0&&W[ue-1].begin!==!0){W[ue-1].deltas.push(U),W[ue-1].abs.push(Y);break}}break;case"bct":U=[Y.x1-Q[oe-1].x,Y.y1-Q[oe-1].y,Y.x2-Q[oe-1].x,Y.y2-Q[oe-1].y,Y.x-Q[oe-1].x,Y.y-Q[oe-1].y],W[W.length-1].deltas.push(U);break;case"qct":var pe=Q[oe-1].x+2/3*(Y.x1-Q[oe-1].x),K=Q[oe-1].y+2/3*(Y.y1-Q[oe-1].y),je=Y.x+2/3*(Y.x1-Y.x),Oe=Y.y+2/3*(Y.y1-Y.y),Se=Y.x,ae=Y.y;U=[pe-Q[oe-1].x,K-Q[oe-1].y,je-Q[oe-1].x,Oe-Q[oe-1].y,Se-Q[oe-1].x,ae-Q[oe-1].y],W[W.length-1].deltas.push(U);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(Y)}}G=F?null:D==="stroke"?"stroke":"fill";for(var Ce=!1,Ae=0;Ae<W.length;Ae++)if(W[Ae].arc)for(var ke=W[Ae].abs,He=0;He<ke.length;He++){var Fe=ke[He];Fe.type==="arc"?S.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,F,!Ce):j.call(this,Fe.x,Fe.y),Ce=!0}else if(W[Ae].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(W[Ae].begin!==!0){var Ge=W[Ae].start.x,Ye=W[Ae].start.y;H.call(this,W[Ae].deltas,Ge,Ye),Ce=!0}G&&A.call(this,G),F&&I.call(this)}},C=function(D){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-U;case"top":return D+F-U;case"hanging":return D+F-2*U;case"middle":return D+F/2-U;case"ideographic":return D;case"alphabetic":default:return D}},T=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(F,U){this.colorStops.push([F,U])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(D,F,U,G,W,Q,oe,Y,ue){for(var pe=re.call(this,U,G,W,Q),K=0;K<pe.length;K++){var je=pe[K];K===0&&(ue?E.call(this,je.x1+D,je.y1+F):j.call(this,je.x1+D,je.y1+F)),X.call(this,D,F,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}Y?I.call(this):A.call(this,oe)},A=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(D,F){this.pdf.internal.out(r(D)+" "+n(F)+" m")},N=function(D){var F;switch(D.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var U=this.pdf.getTextDimensions(D.text),G=C.call(this,D.y),W=T.call(this,G)-U.h,Q=this.ctx.transform.applyToPoint(new s(D.x,G)),oe=this.ctx.transform.decompose(),Y=new l;Y=(Y=(Y=Y.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var ue,pe,K,je=this.ctx.transform.applyToRectangle(new o(D.x,G,U.w,U.h)),Oe=Y.applyToRectangle(new o(D.x,W,U.w,U.h)),Se=v.call(this,Oe),ae=[],Ce=0;Ce<Se.length;Ce+=1)ae.indexOf(Se[Ce])===-1&&ae.push(Se[Ce]);if(w(ae),this.autoPaging)for(var Ae=ae[0],ke=ae[ae.length-1],He=Ae;He<ke+1;He++){this.pdf.setPage(He);var Fe=He===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],et=Ye-this.margin[0],we=this.pdf.internal.pageSize.width-this.margin[1],Ie=we-this.margin[3],Ke=He===1?0:Ge+(He-2)*et;if(this.ctx.clip_path.length!==0){var ft=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ue,this.posX+this.margin[3],-1*Ke+Fe),k.call(this,"fill",!0),this.path=ft}var ht=_([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Ke+Fe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*D.scale),K=this.lineWidth,this.lineWidth=K*D.scale);var dt=this.autoPaging!=="text";if(dt||ht.y+ht.h<=Ye){if(dt||ht.y>=Fe&&ht.x<=we){var tt=dt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||we-ht.x)[0],jt=_([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Ke+Fe+this.ctx.prevPageLastElemOffset)[0],Lt=dt&&(He>Ae||He<ke)&&p.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,et,null).clip().discardPath()),this.pdf.text(tt,jt.x,jt.y,{angle:D.angle,align:F,renderingMode:D.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else ht.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-ht.y);D.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=K)}else D.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*D.scale),K=this.lineWidth,this.lineWidth=K*D.scale),this.pdf.text(D.text,Q.x+this.posX,Q.y+this.posY,{angle:D.angle,align:F,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=K)},j=function(D,F,U,G){U=U||0,G=G||0,this.pdf.internal.out(r(D+U)+" "+n(F+G)+" l")},H=function(D,F,U){return this.pdf.lines(D,F,U,null,null)},X=function(D,F,U,G,W,Q,oe,Y){this.pdf.internal.out([t(a(U+D)),t(i(G+F)),t(a(W+D)),t(i(Q+F)),t(a(oe+D)),t(i(Y+F)),"c"].join(" "))},re=function(D,F,U,G){for(var W=2*Math.PI,Q=Math.PI/2;F>U;)F-=W;var oe=Math.abs(U-F);oe<W&&G&&(oe=W-oe);for(var Y=[],ue=G?-1:1,pe=F;oe>1e-5;){var K=pe+ue*Math.min(oe,Q);Y.push(J.call(this,D,pe,K)),oe-=Math.abs(K-pe),pe=K}return Y},J=function(D,F,U){var G=(U-F)/2,W=D*Math.cos(G),Q=D*Math.sin(G),oe=W,Y=-Q,ue=oe*oe+Y*Y,pe=ue+oe*W+Y*Q,K=4/3*(Math.sqrt(2*ue*pe)-pe)/(oe*Q-Y*W),je=oe-K*Y,Oe=Y+K*oe,Se=je,ae=-Oe,Ce=G+F,Ae=Math.cos(Ce),ke=Math.sin(Ce);return{x1:D*Math.cos(F),y1:D*Math.sin(F),x2:je*Ae-Oe*ke,y2:je*ke+Oe*Ae,x3:Se*Ae-ae*ke,y3:Se*ke+ae*Ae,x4:D*Math.cos(U),y4:D*Math.sin(U)}},q=function(D){return 180*D/Math.PI},B=function(D,F,U,G,W,Q){var oe=D+.5*(U-D),Y=F+.5*(G-F),ue=W+.5*(U-W),pe=Q+.5*(G-Q),K=Math.min(D,W,oe,ue),je=Math.max(D,W,oe,ue),Oe=Math.min(F,Q,Y,pe),Se=Math.max(F,Q,Y,pe);return new o(K,Oe,je-K,Se-Oe)},ne=function(D,F,U,G,W,Q,oe,Y){var ue,pe,K,je,Oe,Se,ae,Ce,Ae,ke,He,Fe,Ge,Ye,et=U-D,we=G-F,Ie=W-U,Ke=Q-G,ft=oe-W,ht=Y-Q;for(pe=0;pe<41;pe++)Ae=(ae=(K=D+(ue=pe/40)*et)+ue*((Oe=U+ue*Ie)-K))+ue*(Oe+ue*(W+ue*ft-Oe)-ae),ke=(Ce=(je=F+ue*we)+ue*((Se=G+ue*Ke)-je))+ue*(Se+ue*(Q+ue*ht-Se)-Ce),pe==0?(He=Ae,Fe=ke,Ge=Ae,Ye=ke):(He=Math.min(He,Ae),Fe=Math.min(Fe,ke),Ge=Math.max(Ge,Ae),Ye=Math.max(Ye,ke));return new o(Math.round(He),Math.round(Fe),Math.round(Ge-He),Math.round(Ye-Fe))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,F,U=(D=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:F}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Ut.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,m,p;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(p=u%85))/85)-(m=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,m+33,p+33)):o.push(122);return function(v,y){for(var _=y;_>0;_--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,m="charCodeAt",p="slice",v="replace";for(i[p](-2),i=i[p](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[p](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,_){for(var w=_;w>0;w--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=kT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ut.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(m){var p=m.length,v=[],y=String.fromCharCode;for(h=0;h<p;h+=1)v.push(y(255&m.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ut.API),function(e){function t(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):_T(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):_T(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Lr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],m=d.src.find(function(p){return p.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ut.getPageSize=function(s,o,l){if(Lr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,m=0,p=0;if(h.hasOwnProperty(f))m=h[f][1]/u,p=h[f][0]/u;else try{m=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",p>m&&(d=p,p=m,m=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>p&&(d=p,p=m,m=d)}return{width:p,height:m,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(DT):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Ut.API),Ut.API.addJS=function(e){return lL=e,this.internal.events.subscribe("postPutResources",function(){hx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hx!==void 0&&oL!==void 0&&this.internal.out("/Names <</JavaScript "+hx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,p={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=d,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),p={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}d=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Ut.API);var Bd,dx,cL,uL,fL,pxe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,m,p,v,y,_,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var O,k;for(k=[],O=0;O<4;++O)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(_=0;0<=p?_<p:_>p;0<=p?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,v.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,m){var p,v,y,_,w,O,k,C,T,S,A,I,E,N,j,H,X,re,J,q,B,ne=Math.ceil((c.width-f)/d),ce=Math.ceil((c.height-h)/m),D=c.width==ne&&c.height==ce;for(N=s*ne,I=D?o:new Uint8Array(N*ce),O=i.length,E=0,v=0;E<ce&&l<O;){switch(i[l++]){case 0:for(_=X=0;X<N;_=X+=1)I[v++]=i[l++];break;case 1:for(_=re=0;re<N;_=re+=1)p=i[l++],w=_<s?0:I[v-s],I[v++]=(p+w)%256;break;case 2:for(_=J=0;J<N;_=J+=1)p=i[l++],y=(_-_%s)/s,j=E&&I[(E-1)*N+y*s+_%s],I[v++]=(j+p)%256;break;case 3:for(_=q=0;q<N;_=q+=1)p=i[l++],y=(_-_%s)/s,w=_<s?0:I[v-s],j=E&&I[(E-1)*N+y*s+_%s],I[v++]=(p+Math.floor((w+j)/2))%256;break;case 4:for(_=B=0;B<N;_=B+=1)p=i[l++],y=(_-_%s)/s,w=_<s?0:I[v-s],E===0?j=H=0:(j=I[(E-1)*N+y*s+_%s],H=y&&I[(E-1)*N+(y-1)*s+_%s]),k=w+j-H,C=Math.abs(k-w),S=Math.abs(k-j),A=Math.abs(k-H),T=C<=S&&C<=A?w:S<=A?j:H,I[v++]=(p+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!D){var F=((h+E*m)*c.width+f)*s,U=E*N;for(_=0;_<ne;_+=1){for(var G=0;G<s;G+=1)o[F++]=I[U++];F+=(d-1)*s}}E++}}return i=Hye(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,m,p,v,y;if(l=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(c=i.data||i).length,f=p||s,u=h=0,l===1)for(;u<m;)d=p?4*s[u/4]:h,v=f[d++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[d++]:255,h=d;else for(;u<m;)d=p?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(zt)==="[object Window]"){try{t=zt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,m;if(d=o++%c,m=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mxe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,m=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&p)&&(h=null),d=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,O=e[t++],k=O>>6&1,C=1<<(7&O)+1,T=o,S=l,A=!1;O>>7&&(A=!0,T=t,S=C,t+=3*C);var I=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:_,height:w,has_local_palette:A,palette_offset:T,palette_size:S,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!k,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,j){var H=this.frameInfo(N),X=H.width*H.height,re=new Uint8Array(X);hL(e,H.data_offset,re,X);var J=H.palette_offset,q=H.transparent_index;q===null&&(q=256);var B=H.width,ne=r-B,ce=B,D=4*(H.y*r+H.x),F=4*((H.y+H.height)*r+H.x),U=D,G=4*ne;H.interlaced===!0&&(G+=4*r*7);for(var W=8,Q=0,oe=re.length;Q<oe;++Q){var Y=re[Q];if(ce===0&&(ce=B,(U+=G)>=F&&(G=4*ne+4*r*(W-1),U=D+(B+ne)*(W<<1),W>>=1)),Y===q)U+=4;else{var ue=e[J+3*Y],pe=e[J+3*Y+1],K=e[J+3*Y+2];j[U++]=K,j[U++]=pe,j[U++]=ue,j[U++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(N,j){var H=this.frameInfo(N),X=H.width*H.height,re=new Uint8Array(X);hL(e,H.data_offset,re,X);var J=H.palette_offset,q=H.transparent_index;q===null&&(q=256);var B=H.width,ne=r-B,ce=B,D=4*(H.y*r+H.x),F=4*((H.y+H.height)*r+H.x),U=D,G=4*ne;H.interlaced===!0&&(G+=4*r*7);for(var W=8,Q=0,oe=re.length;Q<oe;++Q){var Y=re[Q];if(ce===0&&(ce=B,(U+=G)>=F&&(G=4*ne+4*r*(W-1),U=D+(B+ne)*(W<<1),W>>=1)),Y===q)U+=4;else{var ue=e[J+3*Y],pe=e[J+3*Y+1],K=e[J+3*Y+2];j[U++]=ue,j[U++]=pe,j[U++]=K,j[U++]=255}--ce}}}function hL(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],m=new Int32Array(4096),p=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:p,_=0,w=y;w>i;)w=m[w]>>8,++_;var O=w;if(h+_+(y!==v?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[h++]=O;var k=h+=_;for(y!==v&&(r[h++]=O),w=y;_--;)w=m[w],r[--k]=255&w,w>>=8;p!==null&&o<4096&&(m[o++]=p<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=v}else o=s+1,c=(1<<(l=a+1))-1,p=null}return h!==n&&nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function BS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),p=[],v=0,y=7,_=new Array(64),w=new Array(64),O=new Array(64),k=new Array(256),C=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(D,F){for(var U=0,G=0,W=new Array,Q=1;Q<=16;Q++){for(var oe=1;oe<=D[Q];oe++)W[F[G]]=[],W[F[G]][0]=U,W[F[G]][1]=Q,G++,U++;U*=2}return W}function J(D){for(var F=D[0],U=D[1]-1;U>=0;)F&1<<U&&(v|=1<<y),U--,--y<0&&(v==255?(q(255),q(0)):q(v),y=7,v=0)}function q(D){p.push(D)}function B(D){q(D>>8&255),q(255&D)}function ne(D,F,U,G,W){for(var Q,oe=W[0],Y=W[240],ue=function(ke,He){var Fe,Ge,Ye,et,we,Ie,Ke,ft,ht,dt,tt=0;for(ht=0;ht<8;++ht){Fe=ke[tt],Ge=ke[tt+1],Ye=ke[tt+2],et=ke[tt+3],we=ke[tt+4],Ie=ke[tt+5],Ke=ke[tt+6];var jt=Fe+(ft=ke[tt+7]),Lt=Fe-ft,en=Ge+Ke,mr=Ge-Ke,Kr=Ye+Ie,Gi=Ye-Ie,sr=et+we,ds=et-we,Yr=jt+sr,ha=jt-sr,Ei=en+Kr,Ir=en-Kr;ke[tt]=Yr+Ei,ke[tt+4]=Yr-Ei;var Mt=.707106781*(Ir+ha);ke[tt+2]=ha+Mt,ke[tt+6]=ha-Mt;var hr=.382683433*((Yr=ds+Gi)-(Ir=mr+Lt)),Ki=.5411961*Yr+hr,Dn=1.306562965*Ir+hr,Aa=.707106781*(Ei=Gi+mr),ki=Lt+Aa,kt=Lt-Aa;ke[tt+5]=kt+Ki,ke[tt+3]=kt-Ki,ke[tt+1]=ki+Dn,ke[tt+7]=ki-Dn,tt+=8}for(tt=0,ht=0;ht<8;++ht){Fe=ke[tt],Ge=ke[tt+8],Ye=ke[tt+16],et=ke[tt+24],we=ke[tt+32],Ie=ke[tt+40],Ke=ke[tt+48];var Za=Fe+(ft=ke[tt+56]),ta=Fe-ft,Ln=Ge+Ke,En=Ge-Ke,bn=Ye+Ie,ie=Ye-Ie,xe=et+we,me=et-we,ge=Za+xe,ye=Za-xe,be=Ln+bn,$e=Ln-bn;ke[tt]=ge+be,ke[tt+32]=ge-be;var Xe=.707106781*($e+ye);ke[tt+16]=ye+Xe,ke[tt+48]=ye-Xe;var Be=.382683433*((ge=me+ie)-($e=En+ta)),Ve=.5411961*ge+Be,We=1.306562965*$e+Be,lt=.707106781*(be=ie+En),gt=ta+lt,St=ta-lt;ke[tt+40]=St+Ve,ke[tt+24]=St-Ve,ke[tt+8]=gt+We,ke[tt+56]=gt-We,tt++}for(ht=0;ht<64;++ht)dt=ke[ht]*He[ht],d[ht]=dt>0?dt+.5|0:dt-.5|0;return d}(D,F),pe=0;pe<64;++pe)m[T[pe]]=ue[pe];var K=m[0]-U;U=m[0],K==0?J(G[0]):(J(G[h[Q=32767+K]]),J(f[Q]));for(var je=63;je>0&&m[je]==0;)je--;if(je==0)return J(oe),U;for(var Oe,Se=1;Se<=je;){for(var ae=Se;m[Se]==0&&Se<=je;)++Se;var Ce=Se-ae;if(Ce>=16){Oe=Ce>>4;for(var Ae=1;Ae<=Oe;++Ae)J(Y);Ce&=15}Q=32767+m[Se],J(W[(Ce<<4)+h[Q]]),J(f[Q]),Se++}return je!=63&&J(oe),U}function ce(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(F){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var W=s((U[G]*F+50)/100);W=Math.min(Math.max(W,1),255),o[T[G]]=W}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var Y=s((Q[oe]*F+50)/100);Y=Math.min(Math.max(Y,1),255),l[T[oe]]=Y}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,K=0;K<8;K++)for(var je=0;je<8;je++)c[pe]=1/(o[T[pe]]*ue[K]*ue[je]*8),u[pe]=1/(l[T[pe]]*ue[K]*ue[je]*8),pe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,F){F&&ce(F),p=new Array,v=0,y=7,B(65496),B(65504),B(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),B(1),B(1),q(0),q(0),function(){B(65499),B(132),q(0);for(var Ge=0;Ge<64;Ge++)q(o[Ge]);q(1);for(var Ye=0;Ye<64;Ye++)q(l[Ye])}(),function(Ge,Ye){B(65472),B(17),q(8),B(Ye),B(Ge),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(D.width,D.height),function(){B(65476),B(418),q(0);for(var Ge=0;Ge<16;Ge++)q(S[Ge+1]);for(var Ye=0;Ye<=11;Ye++)q(A[Ye]);q(16);for(var et=0;et<16;et++)q(I[et+1]);for(var we=0;we<=161;we++)q(E[we]);q(1);for(var Ie=0;Ie<16;Ie++)q(N[Ie+1]);for(var Ke=0;Ke<=11;Ke++)q(j[Ke]);q(17);for(var ft=0;ft<16;ft++)q(H[ft+1]);for(var ht=0;ht<=161;ht++)q(X[ht])}(),B(65498),B(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var U=0,G=0,W=0;v=0,y=7,this.encode.displayName="_encode_";for(var Q,oe,Y,ue,pe,K,je,Oe,Se,ae=D.data,Ce=D.width,Ae=D.height,ke=4*Ce,He=0;He<Ae;){for(Q=0;Q<ke;){for(pe=ke*He+Q,je=-1,Oe=0,Se=0;Se<64;Se++)K=pe+(Oe=Se>>3)*ke+(je=4*(7&Se)),He+Oe>=Ae&&(K-=ke*(He+1+Oe-Ae)),Q+je>=ke&&(K-=Q+je-ke+4),oe=ae[K++],Y=ae[K++],ue=ae[K++],_[Se]=(C[oe]+C[Y+256>>0]+C[ue+512>>0]>>16)-128,w[Se]=(C[oe+768>>0]+C[Y+1024>>0]+C[ue+1280>>0]>>16)-128,O[Se]=(C[oe+1280>>0]+C[Y+1536>>0]+C[ue+1792>>0]>>16)-128;U=ne(_,c,U,t,n),G=ne(w,u,G,r,a),W=ne(O,u,W,r,a),Q+=32}He+=8}if(y>=0){var Fe=[];Fe[1]=y+1,Fe[0]=(1<<y+1)-1,J(Fe)}return B(65497),new Uint8Array(p)},e=e||50,function(){for(var D=String.fromCharCode,F=0;F<256;F++)k[F]=D(F)}(),t=re(S,A),r=re(N,j),n=re(I,E),a=re(H,X),function(){for(var D=1,F=2,U=1;U<=15;U++){for(var G=D;G<F;G++)h[32767+G]=U,f[32767+G]=[],f[32767+G][1]=U,f[32767+G][0]=G;for(var W=-(F-1);W<=-D;W++)h[32767+W]=U,f[32767+W]=[],f[32767+W][1]=U,f[32767+W][0]=F-1+W;D<<=1,F<<=1}}(),function(){for(var D=0;D<256;D++)C[D]=19595*D,C[D+256>>0]=38470*D,C[D+512>>0]=7471*D+32768,C[D+768>>0]=-11059*D,C[D+1024>>0]=-21709*D,C[D+1280>>0]=32768*D+8421375,C[D+1536>>0]=-27439*D,C[D+1792>>0]=-5329*D}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function jo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dL(e){function t(S){if(!S)throw Error("assert :P")}function r(S,A,I){for(var E=0;4>E;E++)if(S[A+E]!=I.charCodeAt(E))return!0;return!1}function n(S,A,I,E,N){for(var j=0;j<N;j++)S[A+j]=I[E+j]}function a(S,A,I,E){for(var N=0;N<E;N++)S[A+N]=I}function i(S){return new Int32Array(S)}function s(S,A){for(var I=[],E=0;E<S;E++)I.push(new A);return I}function o(S,A){var I=[];return function E(N,j,H){for(var X=H[j],re=0;re<X&&(N.push(H.length>j+1?[]:new A),!(H.length<j+1));re++)E(N[re],j+1,H)}(I,0,S),I}var l=function(){var S=this;function A(x,P){for(var M=1<<P-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,P,M,V,te){t(!(V%M));do x[P+(V-=M)]=te;while(0<V)}function E(x,P,M,V,te){if(t(2328>=te),512>=te)var se=i(512);else if((se=i(te))==null)return 0;return function(le,he,de,ve,Ee,Ue){var ze,Re,it=he,Qe=1<<de,Pe=i(16),De=i(16);for(t(Ee!=0),t(ve!=null),t(le!=null),t(0<de),Re=0;Re<Ee;++Re){if(15<ve[Re])return 0;++Pe[ve[Re]]}if(Pe[0]==Ee)return 0;for(De[1]=0,ze=1;15>ze;++ze){if(Pe[ze]>1<<ze)return 0;De[ze+1]=De[ze]+Pe[ze]}for(Re=0;Re<Ee;++Re)ze=ve[Re],0<ve[Re]&&(Ue[De[ze]++]=Re);if(De[15]==1)return(ve=new N).g=0,ve.value=Ue[0],I(le,it,1,Qe,ve),Qe;var rt,ot=-1,at=Qe-1,Et=0,wt=1,$t=1,At=1<<de;for(Re=0,ze=1,Ee=2;ze<=de;++ze,Ee<<=1){if(wt+=$t<<=1,0>($t-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze])(ve=new N).g=ze,ve.value=Ue[Re++],I(le,it+Et,Ee,At,ve),Et=A(Et,ze)}for(ze=de+1,Ee=2;15>=ze;++ze,Ee<<=1){if(wt+=$t<<=1,0>($t-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze]){if(ve=new N,(Et&at)!=ot){for(it+=At,rt=1<<(ot=ze)-de;15>ot&&!(0>=(rt-=Pe[ot]));)++ot,rt<<=1;Qe+=At=1<<(rt=ot-de),le[he+(ot=Et&at)].g=rt+de,le[he+ot].value=it-he-ot}ve.g=ze-de,ve.value=Ue[Re++],I(le,it+(Et>>de),Ee,At,ve),Et=A(Et,ze)}}return wt!=2*De[15]-1?0:Qe}(x,P,M,V,te,se)}function N(){this.value=this.g=0}function j(){this.value=this.g=0}function H(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s($a,j)}function X(x,P,M,V){t(x!=null),t(P!=null),t(2147483648>V),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=P,x.pa=M,x.Jd=P,x.Yc=M+V,x.Zc=4<=V?M+V-4+1:M,Q(x)}function re(x,P){for(var M=0;0<P--;)M|=Y(x,128)<<P;return M}function J(x,P){var M=re(x,P);return oe(x)?-M:M}function q(x,P,M,V){var te,se=0;for(t(x!=null),t(P!=null),t(4294967288>V),x.Sb=V,x.Ra=0,x.u=0,x.h=0,4<V&&(V=4),te=0;te<V;++te)se+=P[M+te]<<8*te;x.Ra=se,x.bb=V,x.oa=P,x.pa=M}function B(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Ed-8>>>0,++x.bb,x.u-=8;U(x)&&(x.h=1,x.u=0)}function ne(x,P){if(t(0<=P),!x.h&&P<=Td){var M=F(x)&Ad[P];return x.u+=P,B(x),M}return x.h=1,x.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(x){return x.Ra>>>(x.u&Ed-1)>>>0}function U(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Ed}function G(x,P){x.u=P,x.h=U(x)}function W(x){x.u>=cm&&(t(x.u>=cm),B(x))}function Q(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function oe(x){return re(x,1)}function Y(x,P){var M=x.Ca;0>x.b&&Q(x);var V=x.b,te=M*P>>>8,se=(x.I>>>V>te)+0;for(se?(M-=te,x.I-=te+1<<V>>>0):M=te+1,V=M,te=0;256<=V;)te+=8,V>>=8;return V=7^te+Qi[V],x.b-=V,x.Ca=(M<<V)-1,se}function ue(x,P,M){x[P+0]=M>>24&255,x[P+1]=M>>16&255,x[P+2]=M>>8&255,x[P+3]=M>>0&255}function pe(x,P){return x[P+0]<<0|x[P+1]<<8}function K(x,P){return pe(x,P)|x[P+2]<<16}function je(x,P){return pe(x,P)|pe(x,P+2)<<16}function Oe(x,P){var M=1<<P;return t(x!=null),t(0<P),x.X=i(M),x.X==null?0:(x.Mb=32-P,x.Xa=P,1)}function Se(x,P){t(x!=null),t(P!=null),t(x.Xa==P.Xa),n(P.X,0,x.X,0,1<<P.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ce(x,P,M,V){t(M!=null),t(V!=null);var te=M[0],se=V[0];return te==0&&(te=(x*se+P/2)/P),se==0&&(se=(P*te+x/2)/x),0>=te||0>=se?0:(M[0]=te,V[0]=se,1)}function Ae(x,P){return x+(1<<P)-1>>>P}function ke(x,P){return((4278255360&x)+(4278255360&P)>>>0&4278255360)+((16711935&x)+(16711935&P)>>>0&16711935)>>>0}function He(x,P){S[P]=function(M,V,te,se,le,he,de){var ve;for(ve=0;ve<le;++ve){var Ee=S[x](he[de+ve-1],te,se+ve);he[de+ve]=ke(M[V+ve],Ee)}}}function Fe(){this.ud=this.hd=this.jd=0}function Ge(x,P){return((4278124286&(x^P))>>>1)+(x&P)>>>0}function Ye(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function et(x,P){return Ye(x+(x-P+.5>>1))}function we(x,P,M){return Math.abs(P-M)-Math.abs(x-M)}function Ie(x,P,M,V,te,se,le){for(V=se[le-1],M=0;M<te;++M)se[le+M]=V=ke(x[P+M],V)}function Ke(x,P,M,V,te){var se;for(se=0;se<M;++se){var le=x[P+se],he=le>>8&255,de=16711935&(de=(de=16711935&le)+((he<<16)+he));V[te+se]=(4278255360&le)+de>>>0}}function ft(x,P){P.jd=x>>0&255,P.hd=x>>8&255,P.ud=x>>16&255}function ht(x,P,M,V,te,se){var le;for(le=0;le<V;++le){var he=P[M+le],de=he>>>8,ve=he,Ee=255&(Ee=(Ee=he>>>16)+((x.jd<<24>>24)*(de<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(de<<24>>24)>>>5))+((x.ud<<24>>24)*(Ee<<24>>24)>>>5)),te[se+le]=(4278255360&he)+(Ee<<16)+ve}}function dt(x,P,M,V,te){S[P]=function(se,le,he,de,ve,Ee,Ue,ze,Re){for(de=Ue;de<ze;++de)for(Ue=0;Ue<Re;++Ue)ve[Ee++]=te(he[V(se[le++])])},S[x]=function(se,le,he,de,ve,Ee,Ue){var ze=8>>se.b,Re=se.Ea,it=se.K[0],Qe=se.w;if(8>ze)for(se=(1<<se.b)-1,Qe=(1<<ze)-1;le<he;++le){var Pe,De=0;for(Pe=0;Pe<Re;++Pe)Pe&se||(De=V(de[ve++])),Ee[Ue++]=te(it[De&Qe]),De>>=ze}else S["VP8LMapColor"+M](de,ve,it,Qe,Ee,Ue,le,he,Re)}}function tt(x,P,M,V,te){for(M=P+M;P<M;){var se=x[P++];V[te++]=se>>16&255,V[te++]=se>>8&255,V[te++]=se>>0&255}}function jt(x,P,M,V,te){for(M=P+M;P<M;){var se=x[P++];V[te++]=se>>16&255,V[te++]=se>>8&255,V[te++]=se>>0&255,V[te++]=se>>24&255}}function Lt(x,P,M,V,te){for(M=P+M;P<M;){var se=(le=x[P++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;V[te++]=se,V[te++]=le}}function en(x,P,M,V,te){for(M=P+M;P<M;){var se=(le=x[P++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;V[te++]=se,V[te++]=le}}function mr(x,P,M,V,te){for(M=P+M;P<M;){var se=x[P++];V[te++]=se>>0&255,V[te++]=se>>8&255,V[te++]=se>>16&255}}function Kr(x,P,M,V,te,se){if(se==0)for(M=P+M;P<M;)ue(V,((se=x[P++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),te+=32;else n(V,te,x,P,M)}function Gi(x,P){S[P][0]=S[x+"0"],S[P][1]=S[x+"1"],S[P][2]=S[x+"2"],S[P][3]=S[x+"3"],S[P][4]=S[x+"4"],S[P][5]=S[x+"5"],S[P][6]=S[x+"6"],S[P][7]=S[x+"7"],S[P][8]=S[x+"8"],S[P][9]=S[x+"9"],S[P][10]=S[x+"10"],S[P][11]=S[x+"11"],S[P][12]=S[x+"12"],S[P][13]=S[x+"13"],S[P][14]=S[x+"0"],S[P][15]=S[x+"0"]}function sr(x){return x==i_||x==s_||x==fy||x==o_}function ds(){this.eb=[],this.size=this.A=this.fb=0}function Yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ha(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ds,this.f.kb=new Yr,this.sd=null}function Ei(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function hr(x,P){var M=x.T,V=P.ba.f.RGBA,te=V.eb,se=V.fb+x.ka*V.A,le=Hs[P.ba.S],he=x.y,de=x.O,ve=x.f,Ee=x.N,Ue=x.ea,ze=x.W,Re=P.cc,it=P.dc,Qe=P.Mc,Pe=P.Nc,De=x.ka,rt=x.ka+x.T,ot=x.U,at=ot+1>>1;for(De==0?le(he,de,null,null,ve,Ee,Ue,ze,ve,Ee,Ue,ze,te,se,null,null,ot):(le(P.ec,P.fc,he,de,Re,it,Qe,Pe,ve,Ee,Ue,ze,te,se-V.A,te,se,ot),++M);De+2<rt;De+=2)Re=ve,it=Ee,Qe=Ue,Pe=ze,Ee+=x.Rc,ze+=x.Rc,se+=2*V.A,le(he,(de+=2*x.fa)-x.fa,he,de,Re,it,Qe,Pe,ve,Ee,Ue,ze,te,se-V.A,te,se,ot);return de+=x.fa,x.j+rt<x.o?(n(P.ec,P.fc,he,de,ot),n(P.cc,P.dc,ve,Ee,at),n(P.Mc,P.Nc,Ue,ze,at),M--):1&rt||le(he,de,null,null,ve,Ee,Ue,ze,ve,Ee,Ue,ze,te,se+V.A,null,null,ot),M}function Ki(x,P,M){var V=x.F,te=[x.J];if(V!=null){var se=x.U,le=P.ba.S,he=le==uy||le==fy;P=P.ba.f.RGBA;var de=[0],ve=x.ka;de[0]=x.T,x.Kb&&(ve==0?--de[0]:(--ve,te[0]-=x.width),x.j+x.ka+x.T==x.o&&(de[0]=x.o-x.j-ve));var Ee=P.eb;ve=P.fb+ve*P.A,x=ln(V,te[0],x.width,se,de,Ee,ve+(he?0:3),P.A),t(M==de),x&&sr(le)&&qs(Ee,ve,he,se,de,P.A)}return 0}function Dn(x){var P=x.ma,M=P.ba.S,V=11>M,te=M==ly||M==cy||M==uy||M==a_||M==12||sr(M);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!om(P.Oa,x,te?11:12))return 0;if(te&&sr(M)&&ct(),x.da)alert("todo:use_scaling");else{if(V){if(P.Ib=Mt,x.Kb){if(M=x.U+1>>1,P.memory=i(x.U+2*M),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+x.U,P.Mc=P.cc,P.Nc=P.dc+M,P.Ib=hr,ct()}}else alert("todo:EmitYUV");te&&(P.Jb=Ki,V&&Me())}if(V&&!_N){for(x=0;256>x;++x)HK[x]=89858*(x-128)+dy>>hy,YK[x]=-22014*(x-128)+dy,KK[x]=-45773*(x-128),GK[x]=113618*(x-128)+dy>>hy;for(x=gm;x<u_;++x)P=76283*(x-16)+dy>>hy,XK[x-gm]=Fr(P,255),QK[x-gm]=Fr(P+8>>4,15);_N=1}return 1}function Aa(x){var P=x.ma,M=x.U,V=x.T;return t(!(1&x.ka)),0>=M||0>=V?0:(M=P.Ib(x,P),P.Jb!=null&&P.Jb(x,P,M),P.Dc+=M,1)}function ki(x){x.ma.memory=null}function kt(x,P,M,V){return ne(x,8)!=47?0:(P[0]=ne(x,14)+1,M[0]=ne(x,14)+1,V[0]=ne(x,1),ne(x,3)!=0?0:!x.h)}function Za(x,P){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ne(P,M)+1}function ta(x,P){return 120<P?P-120:1<=(M=((M=IK[P-1])>>4)*x+(8-(15&M)))?M:1;var M}function Ln(x,P,M){var V=F(M),te=x[P+=255&V].g-8;return 0<te&&(G(M,M.u+8),V=F(M),P+=x[P].value,P+=V&(1<<te)-1),G(M,M.u+x[P].g),x[P].value}function En(x,P,M){return M.g+=x.g,M.value+=x.value<<P>>>0,t(8>=M.g),x.g}function bn(x,P,M){var V=x.xc;return t((P=V==0?0:x.vc[x.md*(M>>V)+(P>>V)])<x.Wb),x.Ya[P]}function ie(x,P,M,V){var te=x.ab,se=x.c*P,le=x.C;P=le+P;var he=M,de=V;for(V=x.Ta,M=x.Ua;0<te--;){var ve=x.gc[te],Ee=le,Ue=P,ze=he,Re=de,it=(de=V,he=M,ve.Ea);switch(t(Ee<Ue),t(Ue<=ve.nc),ve.hc){case 2:ty(ze,Re,(Ue-Ee)*it,de,he);break;case 0:var Qe=Ee,Pe=Ue,De=de,rt=he,ot=(At=ve).Ea;Qe==0&&(r_(ze,Re,null,null,1,De,rt),Ie(ze,Re+1,0,0,ot-1,De,rt+1),Re+=ot,rt+=ot,++Qe);for(var at=1<<At.b,Et=at-1,wt=Ae(ot,At.b),$t=At.K,At=At.w+(Qe>>At.b)*wt;Qe<Pe;){var Dr=$t,zr=At,Sr=1;for(um(ze,Re,De,rt-ot,1,De,rt);Sr<ot;){var cr=(Sr&~Et)+at;cr>ot&&(cr=ot),(0,fu[Dr[zr++]>>8&15])(ze,Re+ +Sr,De,rt+Sr-ot,cr-Sr,De,rt+Sr),Sr=cr}Re+=ot,rt+=ot,++Qe&Et||(At+=wt)}Ue!=ve.nc&&n(de,he-it,de,he+(Ue-Ee-1)*it,it);break;case 1:for(it=ze,Pe=Re,ot=(ze=ve.Ea)-(rt=ze&~(De=(Re=1<<ve.b)-1)),Qe=Ae(ze,ve.b),at=ve.K,ve=ve.w+(Ee>>ve.b)*Qe;Ee<Ue;){for(Et=at,wt=ve,$t=new Fe,At=Pe+rt,Dr=Pe+ze;Pe<At;)ft(Et[wt++],$t),Qf($t,it,Pe,Re,de,he),Pe+=Re,he+=Re;Pe<Dr&&(ft(Et[wt++],$t),Qf($t,it,Pe,ot,de,he),Pe+=ot,he+=ot),++Ee&De||(ve+=Qe)}break;case 3:if(ze==de&&Re==he&&0<ve.b){for(Pe=de,ze=it=he+(Ue-Ee)*it-(rt=(Ue-Ee)*Ae(ve.Ea,ve.b)),Re=de,De=he,Qe=[],rt=(ot=rt)-1;0<=rt;--rt)Qe[rt]=Re[De+rt];for(rt=ot-1;0<=rt;--rt)Pe[ze+rt]=Qe[rt];Vs(ve,Ee,Ue,de,it,de,he)}else Vs(ve,Ee,Ue,ze,Re,de,he)}he=V,de=M}de!=M&&n(V,M,he,de,se)}function xe(x,P){var M=x.V,V=x.Ba+x.c*x.C,te=P-x.C;if(t(P<=x.l.o),t(16>=te),0<te){var se=x.l,le=x.Ta,he=x.Ua,de=se.width;if(ie(x,te,M,V),te=he=[he],t((M=x.C)<(V=P)),t(se.v<se.va),V>se.o&&(V=se.o),M<se.j){var ve=se.j-M;M=se.j,te[0]+=ve*de}if(M>=V?M=0:(te[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=V-M,M=1),M){if(he=he[0],11>(M=x.ca).S){var Ee=M.f.RGBA,Ue=(V=M.S,te=se.U,se=se.T,ve=Ee.eb,Ee.A),ze=se;for(Ee=Ee.fb+x.Ma*Ee.A;0<ze--;){var Re=le,it=he,Qe=te,Pe=ve,De=Ee;switch(V){case oy:Ji(Re,it,Qe,Pe,De);break;case ly:Ni(Re,it,Qe,Pe,De);break;case i_:Ni(Re,it,Qe,Pe,De),qs(Pe,De,0,Qe,1,0);break;case hN:Jl(Re,it,Qe,Pe,De);break;case cy:Kr(Re,it,Qe,Pe,De,1);break;case s_:Kr(Re,it,Qe,Pe,De,1),qs(Pe,De,0,Qe,1,0);break;case uy:Kr(Re,it,Qe,Pe,De,0);break;case fy:Kr(Re,it,Qe,Pe,De,0),qs(Pe,De,1,Qe,1,0);break;case a_:hu(Re,it,Qe,Pe,De);break;case o_:hu(Re,it,Qe,Pe,De),on(Pe,De,Qe,1,0);break;case dN:Ql(Re,it,Qe,Pe,De);break;default:t(0)}he+=de,Ee+=Ue}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=P,t(x.C<=x.i)}function me(x){var P;if(0<x.ua)return 0;for(P=0;P<x.Wb;++P){var M=x.Ya[P].G,V=x.Ya[P].H;if(0<M[1][V[1]+0].g||0<M[2][V[2]+0].g||0<M[3][V[3]+0].g)return 0}return 1}function ge(x,P,M,V,te,se){if(x.Z!=0){var le=x.qd,he=x.rd;for(t(gu[x.Z]!=null);P<M;++P)gu[x.Z](le,he,V,te,V,te,se),le=V,he=te,te+=se;x.qd=le,x.rd=he}}function ye(x,P){var M=x.l.ma,V=M.Z==0||M.Z==1?x.l.j:x.C;if(V=x.C<V?V:x.C,t(P<=x.l.o),P>V){var te=x.l.width,se=M.ca,le=M.tb+te*V,he=x.V,de=x.Ba+x.c*V,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),ry(ve[0],V,P,he,de,se,le),ge(M,V,P,se,le,te)}x.C=x.Ma=P}function be(x,P,M,V,te,se,le){var he=x.$/V,de=x.$%V,ve=x.m,Ee=x.s,Ue=M+x.$,ze=Ue;te=M+V*te;var Re=M+V*se,it=280+Ee.ua,Qe=x.Pb?he:16777216,Pe=0<Ee.ua?Ee.Wa:null,De=Ee.wc,rt=Ue<Re?bn(Ee,de,he):null;t(x.C<se),t(Re<=te);var ot=!1;e:for(;;){for(;ot||Ue<Re;){var at=0;if(he>=Qe){var Et=Ue-M;t((Qe=x).Pb),Qe.wd=Qe.m,Qe.xd=Et,0<Qe.s.ua&&Se(Qe.s.Wa,Qe.s.vb),Qe=he+LK}if(de&De||(rt=bn(Ee,de,he)),t(rt!=null),rt.Qb&&(P[Ue]=rt.qb,ot=!0),!ot)if(W(ve),rt.jc){at=ve,Et=P;var wt=Ue,$t=rt.pd[F(at)&$a-1];t(rt.jc),256>$t.g?(G(at,at.u+$t.g),Et[wt]=$t.value,at=0):(G(at,at.u+$t.g-256),t(256<=$t.value),at=$t.value),at==0&&(ot=!0)}else at=Ln(rt.G[0],rt.H[0],ve);if(ve.h)break;if(ot||256>at){if(!ot)if(rt.nd)P[Ue]=(rt.qb|at<<8)>>>0;else{if(W(ve),ot=Ln(rt.G[1],rt.H[1],ve),W(ve),Et=Ln(rt.G[2],rt.H[2],ve),wt=Ln(rt.G[3],rt.H[3],ve),ve.h)break;P[Ue]=(wt<<24|ot<<16|at<<8|Et)>>>0}if(ot=!1,++Ue,++de>=V&&(de=0,++he,le!=null&&he<=se&&!(he%16)&&le(x,he),Pe!=null))for(;ze<Ue;)at=P[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at}else if(280>at){if(at=Za(at-256,ve),Et=Ln(rt.G[4],rt.H[4],ve),W(ve),Et=ta(V,Et=Za(Et,ve)),ve.h)break;if(Ue-M<Et||te-Ue<at)break e;for(wt=0;wt<at;++wt)P[Ue+wt]=P[Ue+wt-Et];for(Ue+=at,de+=at;de>=V;)de-=V,++he,le!=null&&he<=se&&!(he%16)&&le(x,he);if(t(Ue<=te),de&De&&(rt=bn(Ee,de,he)),Pe!=null)for(;ze<Ue;)at=P[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at}else{if(!(at<it))break e;for(ot=at-280,t(Pe!=null);ze<Ue;)at=P[ze++],Pe.X[(506832829*at&4294967295)>>>Pe.Mb]=at;at=Ue,t(!(ot>>>(Et=Pe).Xa)),P[at]=Et.X[ot],ot=!0}ot||t(ve.h==U(ve))}if(x.Pb&&ve.h&&Ue<te)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Se(x.s.vb,x.s.Wa);else{if(ve.h)break e;le!=null&&le(x,he>se?se:he),x.a=0,x.$=Ue-M}return 1}return x.a=3,0}function $e(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var P=x.Wa;P!=null&&(P.X=null),x.vb=null,t(x!=null)}function Xe(){var x=new _d;return x==null?null:(x.a=0,x.xb=gN,Gi("Predictor","VP8LPredictors"),Gi("Predictor","VP8LPredictors_C"),Gi("PredictorAdd","VP8LPredictorsAdd"),Gi("PredictorAdd","VP8LPredictorsAdd_C"),ty=Ke,Qf=ht,Ji=tt,Ni=jt,hu=Lt,Ql=en,Jl=mr,S.VP8LMapColor32b=kd,S.VP8LMapColor8b=ny,x)}function Be(x,P,M,V,te){var se=1,le=[x],he=[P],de=V.m,ve=V.s,Ee=null,Ue=0;e:for(;;){if(M)for(;se&&ne(de,1);){var ze=le,Re=he,it=V,Qe=1,Pe=it.m,De=it.gc[it.ab],rt=ne(Pe,2);if(it.Oc&1<<rt)se=0;else{switch(it.Oc|=1<<rt,De.hc=rt,De.Ea=ze[0],De.nc=Re[0],De.K=[null],++it.ab,t(4>=it.ab),rt){case 0:case 1:De.b=ne(Pe,3)+2,Qe=Be(Ae(De.Ea,De.b),Ae(De.nc,De.b),0,it,De.K),De.K=De.K[0];break;case 3:var ot,at=ne(Pe,8)+1,Et=16<at?0:4<at?1:2<at?2:3;if(ze[0]=Ae(De.Ea,Et),De.b=Et,ot=Qe=Be(at,1,0,it,De.K)){var wt,$t=at,At=De,Dr=1<<(8>>At.b),zr=i(Dr);if(zr==null)ot=0;else{var Sr=At.K[0],cr=At.w;for(zr[0]=At.K[0][0],wt=1;wt<1*$t;++wt)zr[wt]=ke(Sr[cr+wt],zr[wt-1]);for(;wt<4*Dr;++wt)zr[wt]=0;At.K[0]=null,At.K[0]=zr,ot=1}}Qe=ot;break;case 2:break;default:t(0)}se=Qe}}if(le=le[0],he=he[0],se&&ne(de,1)&&!(se=1<=(Ue=ne(de,4))&&11>=Ue)){V.a=3;break e}var rn;if(rn=se)t:{var Qr,tr,ra,Zi=V,na=le,es=he,qr=Ue,bs=M,ws=Zi.m,Ta=Zi.s,Ba=[null],Ii=1,Gs=0,ml=DK[qr];r:for(;;){if(bs&&ne(ws,1)){var Ea=ne(ws,3)+2,rc=Ae(na,Ea),rh=Ae(es,Ea),Id=rc*rh;if(!Be(rc,rh,0,Zi,Ba))break r;for(Ba=Ba[0],Ta.xc=Ea,Qr=0;Qr<Id;++Qr){var vu=Ba[Qr]>>8&65535;Ba[Qr]=vu,vu>=Ii&&(Ii=vu+1)}}if(ws.h)break r;for(tr=0;5>tr;++tr){var Mn=pN[tr];!tr&&0<qr&&(Mn+=1<<qr),Gs<Mn&&(Gs=Mn)}var f_=s(Ii*ml,N),TN=Ii,EN=s(TN,H);if(EN==null)var my=null;else t(65536>=TN),my=EN;var vm=i(Gs);if(my==null||vm==null||f_==null){Zi.a=1;break r}var gy=f_;for(Qr=ra=0;Qr<Ii;++Qr){var No=my[Qr],Dd=No.G,Ld=No.H,kN=0,vy=1,PN=0;for(tr=0;5>tr;++tr){Mn=pN[tr],Dd[tr]=gy,Ld[tr]=ra,!tr&&0<qr&&(Mn+=1<<qr);a:{var yy,h_=Mn,xy=Zi,ym=vm,eY=gy,tY=ra,d_=0,yu=xy.m,rY=ne(yu,1);if(a(ym,0,0,h_),rY){var nY=ne(yu,1)+1,aY=ne(yu,1),CN=ne(yu,aY==0?1:8);ym[CN]=1,nY==2&&(ym[CN=ne(yu,8)]=1);var by=1}else{var NN=i(19),ON=ne(yu,4)+4;if(19<ON){xy.a=3;var wy=0;break a}for(yy=0;yy<ON;++yy)NN[OK[yy]]=ne(yu,3);var p_=void 0,xm=void 0,IN=xy,iY=NN,_y=h_,DN=ym,m_=0,xu=IN.m,LN=8,jN=s(128,N);n:for(;E(jN,0,7,iY,19);){if(ne(xu,1)){var sY=2+2*ne(xu,3);if((p_=2+ne(xu,sY))>_y)break n}else p_=_y;for(xm=0;xm<_y&&p_--;){W(xu);var MN=jN[0+(127&F(xu))];G(xu,xu.u+MN.g);var jd=MN.value;if(16>jd)DN[xm++]=jd,jd!=0&&(LN=jd);else{var oY=jd==16,RN=jd-16,lY=CK[RN],FN=ne(xu,PK[RN])+lY;if(xm+FN>_y)break n;for(var cY=oY?LN:0;0<FN--;)DN[xm++]=cY}}m_=1;break n}m_||(IN.a=3),by=m_}(by=by&&!yu.h)&&(d_=E(eY,tY,8,ym,h_)),by&&d_!=0?wy=d_:(xy.a=3,wy=0)}if(wy==0)break r;if(vy&&NK[tr]==1&&(vy=gy[ra].g==0),kN+=gy[ra].g,ra+=wy,3>=tr){var bm,g_=vm[0];for(bm=1;bm<Mn;++bm)vm[bm]>g_&&(g_=vm[bm]);PN+=g_}}if(No.nd=vy,No.Qb=0,vy&&(No.qb=(Dd[3][Ld[3]+0].value<<24|Dd[1][Ld[1]+0].value<<16|Dd[2][Ld[2]+0].value)>>>0,kN==0&&256>Dd[0][Ld[0]+0].value&&(No.Qb=1,No.qb+=Dd[0][Ld[0]+0].value<<8)),No.jc=!No.Qb&&6>PN,No.jc){var Sy,nc=No;for(Sy=0;Sy<$a;++Sy){var bu=Sy,wu=nc.pd[bu],Ay=nc.G[0][nc.H[0]+bu];256<=Ay.value?(wu.g=Ay.g+256,wu.value=Ay.value):(wu.g=0,wu.value=0,bu>>=En(Ay,8,wu),bu>>=En(nc.G[1][nc.H[1]+bu],16,wu),bu>>=En(nc.G[2][nc.H[2]+bu],0,wu),En(nc.G[3][nc.H[3]+bu],24,wu))}}}Ta.vc=Ba,Ta.Wb=Ii,Ta.Ya=my,Ta.yc=f_,rn=1;break t}rn=0}if(!(se=rn)){V.a=3;break e}if(0<Ue){if(ve.ua=1<<Ue,!Oe(ve.Wa,Ue)){V.a=1,se=0;break e}}else ve.ua=0;var v_=V,$N=le,uY=he,y_=v_.s,x_=y_.xc;if(v_.c=$N,v_.i=uY,y_.md=Ae($N,x_),y_.wc=x_==0?-1:(1<<x_)-1,M){V.xb=VK;break e}if((Ee=i(le*he))==null){V.a=1,se=0;break e}se=(se=be(V,Ee,0,le,he,he,null))&&!de.h;break e}return se?(te!=null?te[0]=Ee:(t(Ee==null),t(M)),V.$=0,M||$e(ve)):$e(ve),se}function Ve(x,P){var M=x.c*x.i,V=M+P+16*P;return t(x.c<=P),x.V=i(V),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+P,1)}function We(x,P){var M=x.C,V=P-M,te=x.V,se=x.Ba+x.c*M;for(t(P<=x.l.o);0<V;){var le=16<V?16:V,he=x.l.ma,de=x.l.width,ve=de*le,Ee=he.ca,Ue=he.tb+de*M,ze=x.Ta,Re=x.Ua;ie(x,le,te,se),Hn(ze,Re,Ee,Ue,ve),ge(he,M,M+le,Ee,Ue,de),V-=le,te+=le*x.c,M+=le}t(M==P),x.C=x.Ma=P}function lt(){this.ub=this.yd=this.td=this.Rb=0}function gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function St(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pt(){this.Yb=function(){var x=[];return function P(M,V,te){for(var se=te[V],le=0;le<se&&(M.push(te.length>V+1?[]:0),!(te.length<V+1));le++)P(M[le],V+1,te)}(x,0,[3,11]),x}()}function xt(){this.jb=i(3),this.Wc=o([4,8],pt),this.Xc=o([4,17],pt)}function Bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function gr(){this.ld=this.La=this.dd=this.tc=0}function vr(){this.Na=this.la=0}function Xr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new gr),this.Y=0,this.ya=Array(new Pi),this.aa=0,this.l=new ms}function ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new lt,this.Kc=new gt,this.ed=new Bt,this.Qa=new St,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ce),this.ia=0,this.pb=s(4,Xr),this.Pa=new xt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new vr),this.sb=0,this.wa=Array(new gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pi),this.L=this.aa=0,this.gd=o([4,2],gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ms(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ma(){var x=new Yi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,mm||(mm=md)),x}function hn(x,P,M){return x.a==0&&(x.a=P,x.sc=M,x.cb=0),0}function $f(x,P,M){return 3<=M&&x[P+0]==157&&x[P+1]==1&&x[P+2]==42}function Bf(x,P){if(x==null)return 0;if(x.a=0,x.sc="OK",P==null)return hn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=P.data,V=P.w,te=P.ha;if(4>te)return hn(x,7,"Truncated header.");var se=M[V+0]|M[V+1]<<8|M[V+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return hn(x,3,"Incorrect keyframe parameters.");if(!le.yd)return hn(x,4,"Frame not displayable.");V+=3,te-=3;var he=x.Kc;if(le.Rb){if(7>te)return hn(x,7,"cannot parse picture header");if(!$f(M,V,te))return hn(x,3,"Bad code word");he.c=16383&(M[V+4]<<8|M[V+3]),he.Td=M[V+4]>>6,he.i=16383&(M[V+6]<<8|M[V+5]),he.Ud=M[V+6]>>6,V+=7,te-=7,x.za=he.c+15>>4,x.Ub=he.i+15>>4,P.width=he.c,P.height=he.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>te)return hn(x,7,"bad partition length");X(se=x.m,M,V,le.ub),V+=le.ub,te-=le.ub,le.Rb&&(he.Ld=oe(se),he.Kd=oe(se)),he=x.Qa;var de,ve=x.Pa;if(t(se!=null),t(he!=null),he.Cb=oe(se),he.Cb){if(he.Bb=oe(se),oe(se)){for(he.Fb=oe(se),de=0;4>de;++de)he.Zb[de]=oe(se)?J(se,7):0;for(de=0;4>de;++de)he.Lb[de]=oe(se)?J(se,6):0}if(he.Bb)for(de=0;3>de;++de)ve.jb[de]=oe(se)?re(se,8):255}else he.Bb=0;if(se.Ka)return hn(x,3,"cannot parse segment header");if((he=x.ed).zd=oe(se),he.Tb=re(se,6),he.wb=re(se,3),he.Pc=oe(se),he.Pc&&oe(se)){for(ve=0;4>ve;++ve)oe(se)&&(he.vd[ve]=J(se,6));for(ve=0;4>ve;++ve)oe(se)&&(he.od[ve]=J(se,6))}if(x.L=he.Tb==0?0:he.zd?1:2,se.Ka)return hn(x,3,"cannot parse filter header");var Ee=te;if(te=de=V,V=de+Ee,he=Ee,x.Xb=(1<<re(x.m,2))-1,Ee<3*(ve=x.Xb))M=7;else{for(de+=3*ve,he-=3*ve,Ee=0;Ee<ve;++Ee){var Ue=M[te+0]|M[te+1]<<8|M[te+2]<<16;Ue>he&&(Ue=he),X(x.Jc[+Ee],M,de,Ue),de+=Ue,he-=Ue,te+=3}X(x.Jc[+ve],M,de,he),M=de<V?0:5}if(M!=0)return hn(x,M,"cannot parse partitions");for(M=re(de=x.m,7),te=oe(de)?J(de,4):0,V=oe(de)?J(de,4):0,he=oe(de)?J(de,4):0,ve=oe(de)?J(de,4):0,de=oe(de)?J(de,4):0,Ee=x.Qa,Ue=0;4>Ue;++Ue){if(Ee.Cb){var ze=Ee.Zb[Ue];Ee.Fb||(ze+=M)}else{if(0<Ue){x.pb[Ue]=x.pb[0];continue}ze=M}var Re=x.pb[Ue];Re.Sc[0]=l_[Fr(ze+te,127)],Re.Sc[1]=c_[Fr(ze+0,127)],Re.Eb[0]=2*l_[Fr(ze+V,127)],Re.Eb[1]=101581*c_[Fr(ze+he,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=l_[Fr(ze+ve,117)],Re.Qc[1]=c_[Fr(ze+de,127)],Re.lc=ze+de}if(!le.Rb)return hn(x,4,"Not a key frame.");for(oe(se),le=x.Pa,M=0;4>M;++M){for(te=0;8>te;++te)for(V=0;3>V;++V)for(he=0;11>he;++he)ve=Y(se,$K[M][te][V][he])?re(se,8):RK[M][te][V][he],le.Wc[M][te].Yb[V][he]=ve;for(te=0;17>te;++te)le.Xc[M][te]=le.Wc[M][BK[te]]}return x.kc=oe(se),x.kc&&(x.Bd=re(se,8)),x.cb=1}function md(x,P,M,V,te,se,le){var he=P[te].Yb[M];for(M=0;16>te;++te){if(!Y(x,he[M+0]))return te;for(;!Y(x,he[M+1]);)if(he=P[++te].Yb[0],M=0,te==16)return 16;var de=P[te+1].Yb;if(Y(x,he[M+2])){var ve=x,Ee=0;if(Y(ve,(ze=he)[(Ue=M)+3]))if(Y(ve,ze[Ue+6])){for(he=0,Ue=2*(Ee=Y(ve,ze[Ue+8]))+(ze=Y(ve,ze[Ue+9+Ee])),Ee=0,ze=jK[Ue];ze[he];++he)Ee+=Ee+Y(ve,ze[he]);Ee+=3+(8<<Ue)}else Y(ve,ze[Ue+7])?(Ee=7+2*Y(ve,165),Ee+=Y(ve,145)):Ee=5+Y(ve,159);else Ee=Y(ve,ze[Ue+4])?3+Y(ve,ze[Ue+5]):2;he=de[2]}else Ee=1,he=de[1];de=le+MK[te],0>(ve=x).b&&Q(ve);var Ue,ze=ve.b,Re=(Ue=ve.Ca>>1)-(ve.I>>ze)>>31;--ve.b,ve.Ca+=Re,ve.Ca|=1,ve.I-=(Ue+1&Re)<<ze,se[de]=((Ee^Re)-Re)*V[(0<te)+0]}return 16}function Vf(x){var P=x.rb[x.sb-1];P.la=0,P.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function gd(x,P){if(x==null)return 0;if(P==null)return hn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Bf(x,P))return 0;if(t(x.cb),P.ac==null||P.ac(P)){P.ob&&(x.L=0);var M=py[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=P.v-M>>4,x.zb=P.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=P.o+15+M>>4,x.Hb=P.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var V=x.ed;for(M=0;4>M;++M){var te;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=V.Tb)}else se=V.Tb;for(te=0;1>=te;++te){var le=x.gd[M][te],he=se;if(V.Pc&&(he+=V.vd[0],te&&(he+=V.od[0])),0<(he=0>he?0:63<he?63:he)){var de=he;0<V.wb&&(de=4<V.wb?de>>2:de>>1)>9-V.wb&&(de=9-V.wb),1>de&&(de=1),le.dd=de,le.tc=2*he+de,le.ld=40<=he?2:15<=he?1:0}else le.tc=0;le.La=te}}}M=0}else hn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=ZK);e:{M=x.Ic,V=4*(de=x.za);var ve=32*de,Ee=de+1,Ue=0<x.L?de*(0<x.Aa?2:1):0,ze=(x.Aa==2?2:1)*de;if((le=V+832+(te=3*(16*M+py[x.L])/2*ve)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=hn(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,he=x.Fc,x.Ac=le,x.Bc=he,he+=V,x.Gd=s(ve,ps),x.Hd=0,x.rb=s(Ee+1,vr),x.sb=1,x.wa=Ue?s(Ue,gr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=de),t(!0),x.oc=le,x.pc=he,he+=832,x.ya=s(ze,Pi),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=de),x.R=16*de,x.B=8*de,de=(ve=py[x.L])*x.R,ve=ve/2*x.B,x.sa=le,x.ta=he+de,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ve,x.$c=0,he+=te,x.mb=se?le:null,x.nb=se?he:null,t(he+se<=x.Fc+x.Vb),Vf(x),a(x.Ac,x.Bc,0,V),M=1}}if(M){if(P.ka=0,P.y=x.sa,P.O=x.ta,P.f=x.qa,P.N=x.ra,P.ea=x.Ha,P.Vd=x.Ia,P.fa=x.R,P.Rc=x.B,P.F=null,P.J=0,!iy){for(M=-255;255>=M;++M)pa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ec[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)pm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Od[255+M]=0>M?0:255<M?255:M;iy=1}Pd=Hl,Zl=Xc,fm=Uf,Oi=Ur,Us=Wl,Wn=ql,Cd=nu,ay=Eo,hm=iu,Jf=Xf,Zf=au,du=Kl,eh=su,Nd=fl,th=Gl,pu=ys,dm=da,zs=wd,Co[0]=Bs,Co[1]=am,Co[2]=cl,Co[3]=sm,Co[4]=xd,Co[5]=Zc,Co[6]=gs,Co[7]=qf,Co[8]=tu,Co[9]=eu,mu[0]=ll,mu[1]=im,mu[2]=So,mu[3]=Qc,mu[4]=dn,mu[5]=yd,mu[6]=zf,tc[0]=To,tc[1]=vd,tc[2]=bd,tc[3]=Ao,tc[4]=Rr,tc[5]=Wf,tc[6]=Hf,M=1}else M=0}M&&(M=function(Re,it){for(Re.M=0;Re.M<Re.Va;++Re.M){var Qe,Pe=Re.Jc[Re.M&Re.Xb],De=Re.m,rt=Re;for(Qe=0;Qe<rt.za;++Qe){var ot=De,at=rt,Et=at.Ac,wt=at.Bc+4*Qe,$t=at.zc,At=at.ya[at.aa+Qe];if(at.Qa.Bb?At.$b=Y(ot,at.Pa.jb[0])?2+Y(ot,at.Pa.jb[2]):Y(ot,at.Pa.jb[1]):At.$b=0,at.kc&&(At.Ad=Y(ot,at.Bd)),At.Za=!Y(ot,145)+0,At.Za){var Dr=At.Ob,zr=0;for(at=0;4>at;++at){var Sr,cr=$t[0+at];for(Sr=0;4>Sr;++Sr){cr=FK[Et[wt+Sr]][cr];for(var rn=mN[Y(ot,cr[0])];0<rn;)rn=mN[2*rn+Y(ot,cr[rn])];cr=-rn,Et[wt+Sr]=cr}n(Dr,zr,Et,wt,4),zr+=4,$t[0+at]=cr}}else cr=Y(ot,156)?Y(ot,128)?1:3:Y(ot,163)?2:0,At.Ob[0]=cr,a(Et,wt,cr,4),a($t,0,cr,4);At.Dd=Y(ot,142)?Y(ot,114)?Y(ot,183)?1:3:2:0}if(rt.m.Ka)return hn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(rt=Pe,ot=(De=Re).rb[De.sb-1],Et=De.rb[De.sb+De.ja],Qe=De.ya[De.aa+De.ja],wt=De.kc?Qe.Ad:0)ot.la=Et.la=0,Qe.Za||(ot.Na=Et.Na=0),Qe.Hc=0,Qe.Gc=0,Qe.ia=0;else{var Qr,tr;if(ot=Et,Et=rt,wt=De.Pa.Xc,$t=De.ya[De.aa+De.ja],At=De.pb[$t.$b],at=$t.ad,Dr=0,zr=De.rb[De.sb-1],cr=Sr=0,a(at,Dr,0,384),$t.Za)var ra=0,Zi=wt[3];else{rn=i(16);var na=ot.Na+zr.Na;if(na=mm(Et,wt[1],na,At.Eb,0,rn,0),ot.Na=zr.Na=(0<na)+0,1<na)Pd(rn,0,at,Dr);else{var es=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)at[Dr+rn]=es}ra=1,Zi=wt[0]}var qr=15&ot.la,bs=15&zr.la;for(rn=0;4>rn;++rn){var ws=1&bs;for(es=tr=0;4>es;++es)qr=qr>>1|(ws=(na=mm(Et,Zi,na=ws+(1&qr),At.Sc,ra,at,Dr))>ra)<<7,tr=tr<<2|(3<na?3:1<na?2:at[Dr+0]!=0),Dr+=16;qr>>=4,bs=bs>>1|ws<<7,Sr=(Sr<<8|tr)>>>0}for(Zi=qr,ra=bs>>4,Qr=0;4>Qr;Qr+=2){for(tr=0,qr=ot.la>>4+Qr,bs=zr.la>>4+Qr,rn=0;2>rn;++rn){for(ws=1&bs,es=0;2>es;++es)na=ws+(1&qr),qr=qr>>1|(ws=0<(na=mm(Et,wt[2],na,At.Qc,0,at,Dr)))<<3,tr=tr<<2|(3<na?3:1<na?2:at[Dr+0]!=0),Dr+=16;qr>>=2,bs=bs>>1|ws<<5}cr|=tr<<4*Qr,Zi|=qr<<4<<Qr,ra|=(240&bs)<<Qr}ot.la=Zi,zr.la=ra,$t.Hc=Sr,$t.Gc=cr,$t.ia=43690&cr?0:At.ia,wt=!(Sr|cr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Qe.$b][Qe.Za],De.wa[De.Y+De.ja].La|=!wt),rt.Ka)return hn(Re,7,"Premature end-of-file encountered.")}if(Vf(Re),De=it,rt=1,Qe=(Pe=Re).D,ot=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Qe.M=Pe.M,Qe.uc=ot,dl(Pe,Qe),rt=1,Qe=(tr=Pe.D).Nb,ot=(cr=py[Pe.L])*Pe.R,Et=cr/2*Pe.B,rn=16*Qe*Pe.R,es=8*Qe*Pe.B,wt=Pe.sa,$t=Pe.ta-ot+rn,At=Pe.qa,at=Pe.ra-Et+es,Dr=Pe.Ha,zr=Pe.Ia-Et+es,bs=(qr=tr.M)==0,Sr=qr>=Pe.Va-1,Pe.Aa==2&&dl(Pe,tr),tr.uc)for(ws=(na=Pe).D.M,t(na.D.uc),tr=na.yb;tr<na.Hb;++tr){ra=tr,Zi=ws;var Ta=(Ba=(Mn=na).D).Nb;Qr=Mn.R;var Ba=Ba.wa[Ba.Y+ra],Ii=Mn.sa,Gs=Mn.ta+16*Ta*Qr+16*ra,ml=Ba.dd,Ea=Ba.tc;if(Ea!=0)if(t(3<=Ea),Mn.L==1)0<ra&&pu(Ii,Gs,Qr,Ea+4),Ba.La&&zs(Ii,Gs,Qr,Ea),0<Zi&&th(Ii,Gs,Qr,Ea+4),Ba.La&&dm(Ii,Gs,Qr,Ea);else{var rc=Mn.B,rh=Mn.qa,Id=Mn.ra+8*Ta*rc+8*ra,vu=Mn.Ha,Mn=Mn.Ia+8*Ta*rc+8*ra;Ta=Ba.ld,0<ra&&(ay(Ii,Gs,Qr,Ea+4,ml,Ta),Jf(rh,Id,vu,Mn,rc,Ea+4,ml,Ta)),Ba.La&&(du(Ii,Gs,Qr,Ea,ml,Ta),Nd(rh,Id,vu,Mn,rc,Ea,ml,Ta)),0<Zi&&(Cd(Ii,Gs,Qr,Ea+4,ml,Ta),hm(rh,Id,vu,Mn,rc,Ea+4,ml,Ta)),Ba.La&&(Zf(Ii,Gs,Qr,Ea,ml,Ta),eh(rh,Id,vu,Mn,rc,Ea,ml,Ta))}}if(Pe.ia&&alert("todo:DitherRow"),De.put!=null){if(tr=16*qr,qr=16*(qr+1),bs?(De.y=Pe.sa,De.O=Pe.ta+rn,De.f=Pe.qa,De.N=Pe.ra+es,De.ea=Pe.Ha,De.W=Pe.Ia+es):(tr-=cr,De.y=wt,De.O=$t,De.f=At,De.N=at,De.ea=Dr,De.W=zr),Sr||(qr-=cr),qr>De.o&&(qr=De.o),De.F=null,De.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&tr<qr&&(De.J=uu(Pe,De,tr,qr-tr),De.F=Pe.mb,De.F==null&&De.F.length==0)){rt=hn(Pe,3,"Could not decode alpha data.");break e}tr<De.j&&(cr=De.j-tr,tr=De.j,t(!(1&cr)),De.O+=Pe.R*cr,De.N+=Pe.B*(cr>>1),De.W+=Pe.B*(cr>>1),De.F!=null&&(De.J+=De.width*cr)),tr<qr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=tr-De.j,De.U=De.va-De.v,De.T=qr-tr,rt=De.put(De))}Qe+1!=Pe.Ic||Sr||(n(Pe.sa,Pe.ta-ot,wt,$t+16*Pe.R,ot),n(Pe.qa,Pe.ra-Et,At,at+8*Pe.B,Et),n(Pe.Ha,Pe.Ia-Et,Dr,zr+8*Pe.B,Et))}if(!rt)return hn(Re,6,"Output aborted.")}return 1}(x,P)),P.bc!=null&&P.bc(P),M&=1}return M?(x.cb=0,M):0}function Xi(x,P,M,V,te){te=x[P+M+32*V]+(te>>3),x[P+M+32*V]=-256&te?0>te?0:255:te}function Yc(x,P,M,V,te,se){Xi(x,P,0,M,V+te),Xi(x,P,1,M,V+se),Xi(x,P,2,M,V-se),Xi(x,P,3,M,V-te)}function jn(x){return(20091*x>>16)+x}function Ci(x,P,M,V){var te,se=0,le=i(16);for(te=0;4>te;++te){var he=x[P+0]+x[P+8],de=x[P+0]-x[P+8],ve=(35468*x[P+4]>>16)-jn(x[P+12]),Ee=jn(x[P+4])+(35468*x[P+12]>>16);le[se+0]=he+Ee,le[se+1]=de+ve,le[se+2]=de-ve,le[se+3]=he-Ee,se+=4,P++}for(te=se=0;4>te;++te)he=(x=le[se+0]+4)+le[se+8],de=x-le[se+8],ve=(35468*le[se+4]>>16)-jn(le[se+12]),Xi(M,V,0,0,he+(Ee=jn(le[se+4])+(35468*le[se+12]>>16))),Xi(M,V,1,0,de+ve),Xi(M,V,2,0,de-ve),Xi(M,V,3,0,he-Ee),se++,V+=32}function ql(x,P,M,V){var te=x[P+0]+4,se=35468*x[P+4]>>16,le=jn(x[P+4]),he=35468*x[P+1]>>16;Yc(M,V,0,te+le,x=jn(x[P+1]),he),Yc(M,V,1,te+se,x,he),Yc(M,V,2,te-se,x,he),Yc(M,V,3,te-le,x,he)}function Xc(x,P,M,V,te){Ci(x,P,M,V),te&&Ci(x,P+16,M,V+4)}function Uf(x,P,M,V){Zl(x,P+0,M,V,1),Zl(x,P+32,M,V+128,1)}function Ur(x,P,M,V){var te;for(x=x[P+0]+4,te=0;4>te;++te)for(P=0;4>P;++P)Xi(M,V,P,te,x)}function Wl(x,P,M,V){x[P+0]&&Oi(x,P+0,M,V),x[P+16]&&Oi(x,P+16,M,V+4),x[P+32]&&Oi(x,P+32,M,V+128),x[P+48]&&Oi(x,P+48,M,V+128+4)}function Hl(x,P,M,V){var te,se=i(16);for(te=0;4>te;++te){var le=x[P+0+te]+x[P+12+te],he=x[P+4+te]+x[P+8+te],de=x[P+4+te]-x[P+8+te],ve=x[P+0+te]-x[P+12+te];se[0+te]=le+he,se[8+te]=le-he,se[4+te]=ve+de,se[12+te]=ve-de}for(te=0;4>te;++te)le=(x=se[0+4*te]+3)+se[3+4*te],he=se[1+4*te]+se[2+4*te],de=se[1+4*te]-se[2+4*te],ve=x-se[3+4*te],M[V+0]=le+he>>3,M[V+16]=ve+de>>3,M[V+32]=le-he>>3,M[V+48]=ve-de>>3,V+=64}function _o(x,P,M){var V,te=P-32,se=xs,le=255-x[te-1];for(V=0;V<M;++V){var he,de=se,ve=le+x[P-1];for(he=0;he<M;++he)x[P+he]=de[ve+x[te+he]];P+=32}}function am(x,P){_o(x,P,4)}function vd(x,P){_o(x,P,8)}function im(x,P){_o(x,P,16)}function So(x,P){var M;for(M=0;16>M;++M)n(x,P+32*M,x,P-32,16)}function Qc(x,P){var M;for(M=16;0<M;--M)a(x,P,x[P-1],16),P+=32}function Jc(x,P,M){var V;for(V=0;16>V;++V)a(P,M+32*V,x,16)}function ll(x,P){var M,V=16;for(M=0;16>M;++M)V+=x[P-1+32*M]+x[P+M-32];Jc(V>>5,x,P)}function dn(x,P){var M,V=8;for(M=0;16>M;++M)V+=x[P-1+32*M];Jc(V>>4,x,P)}function yd(x,P){var M,V=8;for(M=0;16>M;++M)V+=x[P+M-32];Jc(V>>4,x,P)}function zf(x,P){Jc(128,x,P)}function Wt(x,P,M){return x+2*P+M+2>>2}function cl(x,P){var M,V=P-32;for(V=new Uint8Array([Wt(x[V-1],x[V+0],x[V+1]),Wt(x[V+0],x[V+1],x[V+2]),Wt(x[V+1],x[V+2],x[V+3]),Wt(x[V+2],x[V+3],x[V+4])]),M=0;4>M;++M)n(x,P+32*M,V,0,V.length)}function sm(x,P){var M=x[P-1],V=x[P-1+32],te=x[P-1+64],se=x[P-1+96];ue(x,P+0,16843009*Wt(x[P-1-32],M,V)),ue(x,P+32,16843009*Wt(M,V,te)),ue(x,P+64,16843009*Wt(V,te,se)),ue(x,P+96,16843009*Wt(te,se,se))}function Bs(x,P){var M,V=4;for(M=0;4>M;++M)V+=x[P+M-32]+x[P-1+32*M];for(V>>=3,M=0;4>M;++M)a(x,P+32*M,V,4)}function xd(x,P){var M=x[P-1+0],V=x[P-1+32],te=x[P-1+64],se=x[P-1-32],le=x[P+0-32],he=x[P+1-32],de=x[P+2-32],ve=x[P+3-32];x[P+0+96]=Wt(V,te,x[P-1+96]),x[P+1+96]=x[P+0+64]=Wt(M,V,te),x[P+2+96]=x[P+1+64]=x[P+0+32]=Wt(se,M,V),x[P+3+96]=x[P+2+64]=x[P+1+32]=x[P+0+0]=Wt(le,se,M),x[P+3+64]=x[P+2+32]=x[P+1+0]=Wt(he,le,se),x[P+3+32]=x[P+2+0]=Wt(de,he,le),x[P+3+0]=Wt(ve,de,he)}function gs(x,P){var M=x[P+1-32],V=x[P+2-32],te=x[P+3-32],se=x[P+4-32],le=x[P+5-32],he=x[P+6-32],de=x[P+7-32];x[P+0+0]=Wt(x[P+0-32],M,V),x[P+1+0]=x[P+0+32]=Wt(M,V,te),x[P+2+0]=x[P+1+32]=x[P+0+64]=Wt(V,te,se),x[P+3+0]=x[P+2+32]=x[P+1+64]=x[P+0+96]=Wt(te,se,le),x[P+3+32]=x[P+2+64]=x[P+1+96]=Wt(se,le,he),x[P+3+64]=x[P+2+96]=Wt(le,he,de),x[P+3+96]=Wt(he,de,de)}function Zc(x,P){var M=x[P-1+0],V=x[P-1+32],te=x[P-1+64],se=x[P-1-32],le=x[P+0-32],he=x[P+1-32],de=x[P+2-32],ve=x[P+3-32];x[P+0+0]=x[P+1+64]=se+le+1>>1,x[P+1+0]=x[P+2+64]=le+he+1>>1,x[P+2+0]=x[P+3+64]=he+de+1>>1,x[P+3+0]=de+ve+1>>1,x[P+0+96]=Wt(te,V,M),x[P+0+64]=Wt(V,M,se),x[P+0+32]=x[P+1+96]=Wt(M,se,le),x[P+1+32]=x[P+2+96]=Wt(se,le,he),x[P+2+32]=x[P+3+96]=Wt(le,he,de),x[P+3+32]=Wt(he,de,ve)}function qf(x,P){var M=x[P+0-32],V=x[P+1-32],te=x[P+2-32],se=x[P+3-32],le=x[P+4-32],he=x[P+5-32],de=x[P+6-32],ve=x[P+7-32];x[P+0+0]=M+V+1>>1,x[P+1+0]=x[P+0+64]=V+te+1>>1,x[P+2+0]=x[P+1+64]=te+se+1>>1,x[P+3+0]=x[P+2+64]=se+le+1>>1,x[P+0+32]=Wt(M,V,te),x[P+1+32]=x[P+0+96]=Wt(V,te,se),x[P+2+32]=x[P+1+96]=Wt(te,se,le),x[P+3+32]=x[P+2+96]=Wt(se,le,he),x[P+3+64]=Wt(le,he,de),x[P+3+96]=Wt(he,de,ve)}function eu(x,P){var M=x[P-1+0],V=x[P-1+32],te=x[P-1+64],se=x[P-1+96];x[P+0+0]=M+V+1>>1,x[P+2+0]=x[P+0+32]=V+te+1>>1,x[P+2+32]=x[P+0+64]=te+se+1>>1,x[P+1+0]=Wt(M,V,te),x[P+3+0]=x[P+1+32]=Wt(V,te,se),x[P+3+32]=x[P+1+64]=Wt(te,se,se),x[P+3+64]=x[P+2+64]=x[P+0+96]=x[P+1+96]=x[P+2+96]=x[P+3+96]=se}function tu(x,P){var M=x[P-1+0],V=x[P-1+32],te=x[P-1+64],se=x[P-1+96],le=x[P-1-32],he=x[P+0-32],de=x[P+1-32],ve=x[P+2-32];x[P+0+0]=x[P+2+32]=M+le+1>>1,x[P+0+32]=x[P+2+64]=V+M+1>>1,x[P+0+64]=x[P+2+96]=te+V+1>>1,x[P+0+96]=se+te+1>>1,x[P+3+0]=Wt(he,de,ve),x[P+2+0]=Wt(le,he,de),x[P+1+0]=x[P+3+32]=Wt(M,le,he),x[P+1+32]=x[P+3+64]=Wt(V,M,le),x[P+1+64]=x[P+3+96]=Wt(te,V,M),x[P+1+96]=Wt(se,te,V)}function bd(x,P){var M;for(M=0;8>M;++M)n(x,P+32*M,x,P-32,8)}function Ao(x,P){var M;for(M=0;8>M;++M)a(x,P,x[P-1],8),P+=32}function vs(x,P,M){var V;for(V=0;8>V;++V)a(P,M+32*V,x,8)}function To(x,P){var M,V=8;for(M=0;8>M;++M)V+=x[P+M-32]+x[P-1+32*M];vs(V>>4,x,P)}function Wf(x,P){var M,V=4;for(M=0;8>M;++M)V+=x[P+M-32];vs(V>>3,x,P)}function Rr(x,P){var M,V=4;for(M=0;8>M;++M)V+=x[P-1+32*M];vs(V>>3,x,P)}function Hf(x,P){vs(128,x,P)}function ru(x,P,M){var V=x[P-M],te=x[P+0],se=3*(te-V)+n_[1020+x[P-2*M]-x[P+M]],le=sy[112+(se+4>>3)];x[P-M]=xs[255+V+sy[112+(se+3>>3)]],x[P+0]=xs[255+te-le]}function Gf(x,P,M,V){var te=x[P+0],se=x[P+M];return Ws[255+x[P-2*M]-x[P-M]]>V||Ws[255+se-te]>V}function Kf(x,P,M,V){return 4*Ws[255+x[P-M]-x[P+0]]+Ws[255+x[P-2*M]-x[P+M]]<=V}function Yf(x,P,M,V,te){var se=x[P-3*M],le=x[P-2*M],he=x[P-M],de=x[P+0],ve=x[P+M],Ee=x[P+2*M],Ue=x[P+3*M];return 4*Ws[255+he-de]+Ws[255+le-ve]>V?0:Ws[255+x[P-4*M]-se]<=te&&Ws[255+se-le]<=te&&Ws[255+le-he]<=te&&Ws[255+Ue-Ee]<=te&&Ws[255+Ee-ve]<=te&&Ws[255+ve-de]<=te}function Gl(x,P,M,V){var te=2*V+1;for(V=0;16>V;++V)Kf(x,P+V,M,te)&&ru(x,P+V,M)}function ys(x,P,M,V){var te=2*V+1;for(V=0;16>V;++V)Kf(x,P+V*M,1,te)&&ru(x,P+V*M,1)}function da(x,P,M,V){var te;for(te=3;0<te;--te)Gl(x,P+=4*M,M,V)}function wd(x,P,M,V){var te;for(te=3;0<te;--te)ys(x,P+=4,M,V)}function ul(x,P,M,V,te,se,le,he){for(se=2*se+1;0<te--;){if(Yf(x,P,M,se,le))if(Gf(x,P,M,he))ru(x,P,M);else{var de=x,ve=P,Ee=M,Ue=de[ve-2*Ee],ze=de[ve-Ee],Re=de[ve+0],it=de[ve+Ee],Qe=de[ve+2*Ee],Pe=27*(rt=n_[1020+3*(Re-ze)+n_[1020+Ue-it]])+63>>7,De=18*rt+63>>7,rt=9*rt+63>>7;de[ve-3*Ee]=xs[255+de[ve-3*Ee]+rt],de[ve-2*Ee]=xs[255+Ue+De],de[ve-Ee]=xs[255+ze+Pe],de[ve+0]=xs[255+Re-Pe],de[ve+Ee]=xs[255+it-De],de[ve+2*Ee]=xs[255+Qe-rt]}P+=V}}function Ra(x,P,M,V,te,se,le,he){for(se=2*se+1;0<te--;){if(Yf(x,P,M,se,le))if(Gf(x,P,M,he))ru(x,P,M);else{var de=x,ve=P,Ee=M,Ue=de[ve-Ee],ze=de[ve+0],Re=de[ve+Ee],it=sy[112+((Qe=3*(ze-Ue))+4>>3)],Qe=sy[112+(Qe+3>>3)],Pe=it+1>>1;de[ve-2*Ee]=xs[255+de[ve-2*Ee]+Pe],de[ve-Ee]=xs[255+Ue+Qe],de[ve+0]=xs[255+ze-it],de[ve+Ee]=xs[255+Re-Pe]}P+=V}}function nu(x,P,M,V,te,se){ul(x,P,M,1,16,V,te,se)}function Eo(x,P,M,V,te,se){ul(x,P,1,M,16,V,te,se)}function au(x,P,M,V,te,se){var le;for(le=3;0<le;--le)Ra(x,P+=4*M,M,1,16,V,te,se)}function Kl(x,P,M,V,te,se){var le;for(le=3;0<le;--le)Ra(x,P+=4,1,M,16,V,te,se)}function iu(x,P,M,V,te,se,le,he){ul(x,P,te,1,8,se,le,he),ul(M,V,te,1,8,se,le,he)}function Xf(x,P,M,V,te,se,le,he){ul(x,P,1,te,8,se,le,he),ul(M,V,1,te,8,se,le,he)}function su(x,P,M,V,te,se,le,he){Ra(x,P+4*te,te,1,8,se,le,he),Ra(M,V+4*te,te,1,8,se,le,he)}function fl(x,P,M,V,te,se,le,he){Ra(x,P+4,1,te,8,se,le,he),Ra(M,V+4,1,te,8,se,le,he)}function Yl(){this.ba=new ha,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ou(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lu(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new N}function _d(){this.xb=this.a=0,this.l=new ms,this.ca=new ha,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lu,this.ab=0,this.gc=s(4,Xl),this.Oc=0}function ko(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ms,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hl(x,P,M,V,te,se,le){for(x=x==null?0:x[P+0],P=0;P<le;++P)te[se+P]=x+M[V+P]&255,x=te[se+P]}function cu(x,P,M,V,te,se,le){var he;if(x==null)hl(null,null,M,V,te,se,le);else for(he=0;he<le;++he)te[se+he]=x[P+he]+M[V+he]&255}function ei(x,P,M,V,te,se,le){if(x==null)hl(null,null,M,V,te,se,le);else{var he,de=x[P+0],ve=de,Ee=de;for(he=0;he<le;++he)ve=Ee+(de=x[P+he])-ve,Ee=M[V+he]+(-256&ve?0>ve?0:255:ve)&255,ve=de,te[se+he]=Ee}}function uu(x,P,M,V){var te=P.width,se=P.o;if(t(x!=null&&P!=null),0>M||0>=V||M+V>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new ko,(le=x.ga==null)||(le=P.width*P.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var he=x.Fa,de=x.P,ve=x.qc,Ee=x.mb,Ue=x.nb,ze=de+1,Re=ve-1,it=le.l;if(t(he!=null&&Ee!=null&&P!=null),gu[0]=null,gu[1]=hl,gu[2]=cu,gu[3]=ei,le.ca=Ee,le.tb=Ue,le.c=P.width,le.i=P.height,t(0<le.c&&0<le.i),1>=ve)P=0;else if(le.$a=he[de+0]>>0&3,le.Z=he[de+0]>>2&3,le.Lc=he[de+0]>>4&3,de=he[de+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||de)P=0;else if(it.put=Aa,it.ac=Dn,it.bc=ki,it.ma=le,it.width=P.width,it.height=P.height,it.Da=P.Da,it.v=P.v,it.va=P.va,it.j=P.j,it.o=P.o,le.$a)e:{t(le.$a==1),P=Xe();t:for(;;){if(P==null){P=0;break e}if(t(le!=null),le.mc=P,P.c=le.c,P.i=le.i,P.l=le.l,P.l.ma=le,P.l.width=le.c,P.l.height=le.i,P.a=0,q(P.m,he,ze,Re),!Be(le.c,le.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&me(P.s)?(le.ic=1,he=P.c*P.i,P.Ta=null,P.Ua=0,P.V=i(he),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(le.ic=0,P=Ve(P,le.c)),!P))break t;P=1;break e}le.mc=null,P=0}else P=Re>=le.c*le.i;le=!P}if(le)return null;x.ga.Lc!=1?x.Ga=0:V=se-M}t(x.ga!=null),t(M+V<=se);e:{if(P=(he=x.ga).c,se=he.l.o,he.$a==0){if(ze=x.rc,Re=x.Vc,it=x.Fa,de=x.P+1+M*P,ve=x.mb,Ee=x.nb+M*P,t(de<=x.P+x.qc),he.Z!=0)for(t(gu[he.Z]!=null),le=0;le<V;++le)gu[he.Z](ze,Re,it,de,ve,Ee,P),ze=ve,Re=Ee,Ee+=P,de+=P;else for(le=0;le<V;++le)n(ve,Ee,it,de,P),ze=ve,Re=Ee,Ee+=P,de+=P;x.rc=ze,x.Vc=Re}else{if(t(he.mc!=null),P=M+V,t((le=he.mc)!=null),t(P<=le.i),le.C>=P)P=1;else if(he.ic||Me(),he.ic){he=le.V,ze=le.Ba,Re=le.c;var Qe=le.i,Pe=(it=1,de=le.$/Re,ve=le.$%Re,Ee=le.m,Ue=le.s,le.$),De=Re*Qe,rt=Re*P,ot=Ue.wc,at=Pe<rt?bn(Ue,ve,de):null;t(Pe<=De),t(P<=Qe),t(me(Ue));t:for(;;){for(;!Ee.h&&Pe<rt;){if(ve&ot||(at=bn(Ue,ve,de)),t(at!=null),W(Ee),256>(Qe=Ln(at.G[0],at.H[0],Ee)))he[ze+Pe]=Qe,++Pe,++ve>=Re&&(ve=0,++de<=P&&!(de%16)&&ye(le,de));else{if(!(280>Qe)){it=0;break t}Qe=Za(Qe-256,Ee);var Et,wt=Ln(at.G[4],at.H[4],Ee);if(W(Ee),!(Pe>=(wt=ta(Re,wt=Za(wt,Ee)))&&De-Pe>=Qe)){it=0;break t}for(Et=0;Et<Qe;++Et)he[ze+Pe+Et]=he[ze+Pe+Et-wt];for(Pe+=Qe,ve+=Qe;ve>=Re;)ve-=Re,++de<=P&&!(de%16)&&ye(le,de);Pe<rt&&ve&ot&&(at=bn(Ue,ve,de))}t(Ee.h==U(Ee))}ye(le,de>P?P:de);break t}!it||Ee.h&&Pe<De?(it=0,le.a=Ee.h?5:3):le.$=Pe,P=it}else P=be(le,le.V,le.Ba,le.c,le.i,P,We);if(!P){V=0;break e}}M+V>=se&&(x.Cc=1),V=1}if(!V)return null;if(x.Cc&&((V=x.ga)!=null&&(V.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*te}function L(x,P,M,V,te,se){for(;0<te--;){var le,he=x,de=P+(M?1:0),ve=x,Ee=P+(M?0:3);for(le=0;le<V;++le){var Ue=ve[Ee+4*le];Ue!=255&&(Ue*=32897,he[de+4*le+0]=he[de+4*le+0]*Ue>>23,he[de+4*le+1]=he[de+4*le+1]*Ue>>23,he[de+4*le+2]=he[de+4*le+2]*Ue>>23)}P+=se}}function ee(x,P,M,V,te){for(;0<V--;){var se;for(se=0;se<M;++se){var le=x[P+2*se+0],he=15&(ve=x[P+2*se+1]),de=4369*he,ve=(240&ve|ve>>4)*de>>16;x[P+2*se+0]=(240&le|le>>4)*de>>16&240|(15&le|le<<4)*de>>16>>4&15,x[P+2*se+1]=240&ve|he}P+=te}}function _e(x,P,M,V,te,se,le,he){var de,ve,Ee=255;for(ve=0;ve<te;++ve){for(de=0;de<V;++de){var Ue=x[P+de];se[le+4*de]=Ue,Ee&=Ue}P+=M,le+=he}return Ee!=255}function Te(x,P,M,V,te){var se;for(se=0;se<te;++se)M[V+se]=x[P+se]>>8}function Me(){qs=L,on=ee,ln=_e,Hn=Te}function Je(x,P,M){S[x]=function(V,te,se,le,he,de,ve,Ee,Ue,ze,Re,it,Qe,Pe,De,rt,ot){var at,Et=ot-1>>1,wt=he[de+0]|ve[Ee+0]<<16,$t=Ue[ze+0]|Re[it+0]<<16;t(V!=null);var At=3*wt+$t+131074>>2;for(P(V[te+0],255&At,At>>16,Qe,Pe),se!=null&&(At=3*$t+wt+131074>>2,P(se[le+0],255&At,At>>16,De,rt)),at=1;at<=Et;++at){var Dr=he[de+at]|ve[Ee+at]<<16,zr=Ue[ze+at]|Re[it+at]<<16,Sr=wt+Dr+$t+zr+524296,cr=Sr+2*(Dr+$t)>>3;At=cr+wt>>1,wt=(Sr=Sr+2*(wt+zr)>>3)+Dr>>1,P(V[te+2*at-1],255&At,At>>16,Qe,Pe+(2*at-1)*M),P(V[te+2*at-0],255&wt,wt>>16,Qe,Pe+(2*at-0)*M),se!=null&&(At=Sr+$t>>1,wt=cr+zr>>1,P(se[le+2*at-1],255&At,At>>16,De,rt+(2*at-1)*M),P(se[le+2*at+0],255&wt,wt>>16,De,rt+(2*at+0)*M)),wt=Dr,$t=zr}1&ot||(At=3*wt+$t+131074>>2,P(V[te+ot-1],255&At,At>>16,Qe,Pe+(ot-1)*M),se!=null&&(At=3*$t+wt+131074>>2,P(se[le+ot-1],255&At,At>>16,De,rt+(ot-1)*M)))}}function ct(){Hs[oy]=UK,Hs[ly]=vN,Hs[hN]=zK,Hs[cy]=yN,Hs[uy]=xN,Hs[a_]=bN,Hs[dN]=qK,Hs[i_]=vN,Hs[s_]=yN,Hs[fy]=xN,Hs[o_]=bN}function _t(x){return x&~WK?0>x?0:255:x>>wN}function b(x,P){return _t((19077*x>>8)+(26149*P>>8)-14234)}function R(x,P,M){return _t((19077*x>>8)-(6419*P>>8)-(13320*M>>8)+8708)}function z(x,P){return _t((19077*x>>8)+(33050*P>>8)-17685)}function fe(x,P,M,V,te){V[te+0]=b(x,M),V[te+1]=R(x,P,M),V[te+2]=z(x,P)}function Le(x,P,M,V,te){V[te+0]=z(x,P),V[te+1]=R(x,P,M),V[te+2]=b(x,M)}function qe(x,P,M,V,te){var se=R(x,P,M);P=se<<3&224|z(x,P)>>3,V[te+0]=248&b(x,M)|se>>5,V[te+1]=P}function ut(x,P,M,V,te){var se=240&z(x,P)|15;V[te+0]=240&b(x,M)|R(x,P,M)>>4,V[te+1]=se}function Qt(x,P,M,V,te){V[te+0]=255,fe(x,P,M,V,te+1)}function lr(x,P,M,V,te){Le(x,P,M,V,te),V[te+3]=255}function Jt(x,P,M,V,te){fe(x,P,M,V,te),V[te+3]=255}function Fr(x,P){return 0>x?0:x>P?P:x}function tn(x,P,M){S[x]=function(V,te,se,le,he,de,ve,Ee,Ue){for(var ze=Ee+(-2&Ue)*M;Ee!=ze;)P(V[te+0],se[le+0],he[de+0],ve,Ee),P(V[te+1],se[le+0],he[de+0],ve,Ee+M),te+=2,++le,++de,Ee+=2*M;1&Ue&&P(V[te+0],se[le+0],he[de+0],ve,Ee)}}function Po(x,P,M){return M==0?x==0?P==0?6:5:P==0?4:0:M}function Fa(x,P,M,V,te){switch(x>>>30){case 3:Zl(P,M,V,te,0);break;case 2:Wn(P,M,V,te);break;case 1:Oi(P,M,V,te)}}function dl(x,P){var M,V,te=P.M,se=P.Nb,le=x.oc,he=x.pc+40,de=x.oc,ve=x.pc+584,Ee=x.oc,Ue=x.pc+600;for(M=0;16>M;++M)le[he+32*M-1]=129;for(M=0;8>M;++M)de[ve+32*M-1]=129,Ee[Ue+32*M-1]=129;for(0<te?le[he-1-32]=de[ve-1-32]=Ee[Ue-1-32]=129:(a(le,he-32-1,127,21),a(de,ve-32-1,127,9),a(Ee,Ue-32-1,127,9)),V=0;V<x.za;++V){var ze=P.ya[P.aa+V];if(0<V){for(M=-1;16>M;++M)n(le,he+32*M-4,le,he+32*M+12,4);for(M=-1;8>M;++M)n(de,ve+32*M-4,de,ve+32*M+4,4),n(Ee,Ue+32*M-4,Ee,Ue+32*M+4,4)}var Re=x.Gd,it=x.Hd+V,Qe=ze.ad,Pe=ze.Hc;if(0<te&&(n(le,he-32,Re[it].y,0,16),n(de,ve-32,Re[it].f,0,8),n(Ee,Ue-32,Re[it].ea,0,8)),ze.Za){var De=le,rt=he-32+16;for(0<te&&(V>=x.za-1?a(De,rt,Re[it].y[15],4):n(De,rt,Re[it+1].y,0,4)),M=0;4>M;M++)De[rt+128+M]=De[rt+256+M]=De[rt+384+M]=De[rt+0+M];for(M=0;16>M;++M,Pe<<=2)De=le,rt=he+SN[M],Co[ze.Ob[M]](De,rt),Fa(Pe,Qe,16*+M,De,rt)}else if(De=Po(V,te,ze.Ob[0]),mu[De](le,he),Pe!=0)for(M=0;16>M;++M,Pe<<=2)Fa(Pe,Qe,16*+M,le,he+SN[M]);for(M=ze.Gc,De=Po(V,te,ze.Dd),tc[De](de,ve),tc[De](Ee,Ue),Pe=Qe,De=de,rt=ve,255&(ze=M>>0)&&(170&ze?fm(Pe,256,De,rt):Us(Pe,256,De,rt)),ze=Ee,Pe=Ue,255&(M>>=8)&&(170&M?fm(Qe,320,ze,Pe):Us(Qe,320,ze,Pe)),te<x.Ub-1&&(n(Re[it].y,0,le,he+480,16),n(Re[it].f,0,de,ve+224,8),n(Re[it].ea,0,Ee,Ue+224,8)),M=8*se*x.B,Re=x.sa,it=x.ta+16*V+16*se*x.R,Qe=x.qa,ze=x.ra+8*V+M,Pe=x.Ha,De=x.Ia+8*V+M,M=0;16>M;++M)n(Re,it+M*x.R,le,he+32*M,16);for(M=0;8>M;++M)n(Qe,ze+M*x.B,de,ve+32*M,8),n(Pe,De+M*x.B,Ee,Ue+32*M,8)}}function pl(x,P,M,V,te,se,le,he,de){var ve=[0],Ee=[0],Ue=0,ze=de!=null?de.kd:0,Re=de??new ou;if(x==null||12>M)return 7;Re.data=x,Re.w=P,Re.ha=M,P=[P],M=[M],Re.gb=[Re.gb];e:{var it=P,Qe=M,Pe=Re.gb;if(t(x!=null),t(Qe!=null),t(Pe!=null),Pe[0]=0,12<=Qe[0]&&!r(x,it[0],"RIFF")){if(r(x,it[0]+8,"WEBP")){Pe=3;break e}var De=je(x,it[0]+4);if(12>De||4294967286<De){Pe=3;break e}if(ze&&De>Qe[0]-8){Pe=7;break e}Pe[0]=De,it[0]+=12,Qe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(De=0<Re.gb[0],M=M[0];;){e:{var rt=x;Qe=P,Pe=M;var ot=ve,at=Ee,Et=it=[0];if((At=Ue=[Ue])[0]=0,8>Pe[0])Pe=7;else{if(!r(rt,Qe[0],"VP8X")){if(je(rt,Qe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var wt=je(rt,Qe[0]+8),$t=1+K(rt,Qe[0]+12);if(2147483648<=$t*(rt=1+K(rt,Qe[0]+15))){Pe=3;break e}Et!=null&&(Et[0]=wt),ot!=null&&(ot[0]=$t),at!=null&&(at[0]=rt),Qe[0]+=18,Pe[0]-=18,At[0]=1}Pe=0}}if(Ue=Ue[0],it=it[0],Pe!=0)return Pe;if(Qe=!!(2&it),!De&&Ue)return 3;if(se!=null&&(se[0]=!!(16&it)),le!=null&&(le[0]=Qe),he!=null&&(he[0]=0),le=ve[0],it=Ee[0],Ue&&Qe&&de==null){Pe=0;break}if(4>M){Pe=7;break}if(De&&Ue||!De&&!Ue&&!r(x,P[0],"ALPH")){M=[M],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{wt=x,Pe=P,De=M;var At=Re.gb;ot=Re.na,at=Re.P,Et=Re.Sa,$t=22,t(wt!=null),t(De!=null),rt=Pe[0];var Dr=De[0];for(t(ot!=null),t(Et!=null),ot[0]=null,at[0]=null,Et[0]=0;;){if(Pe[0]=rt,De[0]=Dr,8>Dr){Pe=7;break e}var zr=je(wt,rt+4);if(4294967286<zr){Pe=3;break e}var Sr=8+zr+1&-2;if($t+=Sr,0<At&&$t>At){Pe=3;break e}if(!r(wt,rt,"VP8 ")||!r(wt,rt,"VP8L")){Pe=0;break e}if(Dr[0]<Sr){Pe=7;break e}r(wt,rt,"ALPH")||(ot[0]=wt,at[0]=rt+8,Et[0]=zr),rt+=Sr,Dr-=Sr}}if(M=M[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Pe!=0)break}M=[M],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(At=x,Pe=P,De=M,ot=Re.gb[0],at=Re.Ja,Et=Re.xa,wt=Pe[0],rt=!r(At,wt,"VP8 "),$t=!r(At,wt,"VP8L"),t(At!=null),t(De!=null),t(at!=null),t(Et!=null),8>De[0])Pe=7;else{if(rt||$t){if(At=je(At,wt+4),12<=ot&&At>ot-12){Pe=3;break e}if(ze&&At>De[0]-8){Pe=7;break e}at[0]=At,Pe[0]+=8,De[0]-=8,Et[0]=$t}else Et[0]=5<=De[0]&&At[wt+0]==47&&!(At[wt+4]>>5),at[0]=De[0];Pe=0}if(M=M[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],P=P[0],Pe!=0)break;if(4294967286<Re.Ja)return 3;if(he==null||Qe||(he[0]=Re.xa?2:1),le=[le],it=[it],Re.xa){if(5>M){Pe=7;break}he=le,ze=it,Qe=se,x==null||5>M?x=0:5<=M&&x[P+0]==47&&!(x[P+4]>>5)?(De=[0],At=[0],ot=[0],q(at=new D,x,P,M),kt(at,De,At,ot)?(he!=null&&(he[0]=De[0]),ze!=null&&(ze[0]=At[0]),Qe!=null&&(Qe[0]=ot[0]),x=1):x=0):x=0}else{if(10>M){Pe=7;break}he=it,x==null||10>M||!$f(x,P+3,M-3)?x=0:(ze=x[P+0]|x[P+1]<<8|x[P+2]<<16,Qe=16383&(x[P+7]<<8|x[P+6]),x=16383&(x[P+9]<<8|x[P+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Re.Ja||!Qe||!x?x=0:(le&&(le[0]=Qe),he&&(he[0]=x),x=1))}if(!x||(le=le[0],it=it[0],Ue&&(ve[0]!=le||Ee[0]!=it)))return 3;de!=null&&(de[0]=Re,de.offset=P-de.w,t(4294967286>P-de.w),t(de.offset==de.ha-M));break}return Pe==0||Pe==7&&Ue&&de==null?(se!=null&&(se[0]|=Re.na!=null&&0<Re.na.length),V!=null&&(V[0]=le),te!=null&&(te[0]=it),0):Pe}function om(x,P,M){var V=P.width,te=P.height,se=0,le=0,he=V,de=te;if(P.Da=x!=null&&0<x.Da,P.Da&&(he=x.cd,de=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=he||0>=de||se+he>V||le+de>te))return 0;if(P.v=se,P.j=le,P.va=se+he,P.o=le+de,P.U=he,P.T=de,P.da=x!=null&&0<x.da,P.da){if(!Ce(he,de,M=[x.ib],se=[x.hb]))return 0;P.ib=M[0],P.hb=se[0]}return P.ob=x!=null&&x.ob,P.Kb=x==null||!x.Sd,P.da&&(P.ob=P.ib<3*V/4&&P.hb<3*te/4,P.Kb=0),1}function lm(x){if(x==null)return 2;if(11>x.S){var P=x.f.RGBA;P.fb+=(x.height-1)*P.A,P.A=-P.A}else P=x.f.kb,x=x.height,P.O+=(x-1)*P.fa,P.fa=-P.fa,P.N+=(x-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(x-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(x-1)*P.lb,P.lb=-P.lb);return 0}function Sd(x,P,M,V){if(V==null||0>=x||0>=P)return 2;if(M!=null){if(M.Da){var te=M.cd,se=M.bd,le=-2&M.v,he=-2&M.j;if(0>le||0>he||0>=te||0>=se||le+te>x||he+se>P)return 2;x=te,P=se}if(M.da){if(!Ce(x,P,te=[M.ib],se=[M.hb]))return 2;x=te[0],P=se[0]}}V.width=x,V.height=P;e:{var de=V.width,ve=V.height;if(x=V.S,0>=de||0>=ve||!(x>=oy&&13>x))x=2;else{if(0>=V.Rd&&V.sd==null){le=se=te=P=0;var Ee=(he=de*AN[x])*ve;if(11>x||(se=(ve+1)/2*(P=(de+1)/2),x==12&&(le=(te=de)*ve)),(ve=i(Ee+2*se+le))==null){x=1;break e}V.sd=ve,11>x?((de=V.f.RGBA).eb=ve,de.fb=0,de.A=he,de.size=Ee):((de=V.f.kb).y=ve,de.O=0,de.fa=he,de.Fd=Ee,de.f=ve,de.N=0+Ee,de.Ab=P,de.Cd=se,de.ea=ve,de.W=0+Ee+se,de.Db=P,de.Ed=se,x==12&&(de.F=ve,de.J=0+Ee+2*se),de.Tc=le,de.lb=te)}if(P=1,te=V.S,se=V.width,le=V.height,te>=oy&&13>te)if(11>te)x=V.f.RGBA,P&=(he=Math.abs(x.A))*(le-1)+se<=x.size,P&=he>=se*AN[te],P&=x.eb!=null;else{x=V.f.kb,he=(se+1)/2,Ee=(le+1)/2,de=Math.abs(x.fa),ve=Math.abs(x.Ab);var Ue=Math.abs(x.Db),ze=Math.abs(x.lb),Re=ze*(le-1)+se;P&=de*(le-1)+se<=x.Fd,P&=ve*(Ee-1)+he<=x.Cd,P=(P&=Ue*(Ee-1)+he<=x.Ed)&de>=se&ve>=he&Ue>=he,P&=x.y!=null,P&=x.f!=null,P&=x.ea!=null,te==12&&(P&=ze>=se,P&=Re<=x.Tc,P&=x.F!=null)}else P=0;x=P?0:2}}return x!=0||M!=null&&M.fd&&(x=lm(V)),x}var $a=64,Ad=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Td=24,Ed=32,cm=8,Qi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,P,M){return P[M+0]},S.Predictor3=function(x,P,M){return P[M+1]},S.Predictor4=function(x,P,M){return P[M-1]},S.Predictor5=function(x,P,M){return Ge(Ge(x,P[M+1]),P[M+0])},S.Predictor6=function(x,P,M){return Ge(x,P[M-1])},S.Predictor7=function(x,P,M){return Ge(x,P[M+0])},S.Predictor8=function(x,P,M){return Ge(P[M-1],P[M+0])},S.Predictor9=function(x,P,M){return Ge(P[M+0],P[M+1])},S.Predictor10=function(x,P,M){return Ge(Ge(x,P[M-1]),Ge(P[M+0],P[M+1]))},S.Predictor11=function(x,P,M){var V=P[M+0];return 0>=we(V>>24&255,x>>24&255,(P=P[M-1])>>24&255)+we(V>>16&255,x>>16&255,P>>16&255)+we(V>>8&255,x>>8&255,P>>8&255)+we(255&V,255&x,255&P)?V:x},S.Predictor12=function(x,P,M){var V=P[M+0];return(Ye((x>>24&255)+(V>>24&255)-((P=P[M-1])>>24&255))<<24|Ye((x>>16&255)+(V>>16&255)-(P>>16&255))<<16|Ye((x>>8&255)+(V>>8&255)-(P>>8&255))<<8|Ye((255&x)+(255&V)-(255&P)))>>>0},S.Predictor13=function(x,P,M){var V=P[M-1];return(et((x=Ge(x,P[M+0]))>>24&255,V>>24&255)<<24|et(x>>16&255,V>>16&255)<<16|et(x>>8&255,V>>8&255)<<8|et(x>>0&255,V>>0&255))>>>0};var r_=S.PredictorAdd0;S.PredictorAdd1=Ie,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var um=S.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ty,Vs=S.ColorIndexInverseTransform,kd=S.MapARGB,ry=S.VP8LColorIndexInverseTransformAlpha,ny=S.MapAlpha,fu=S.VP8LPredictorsAdd=[];fu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Qf,Ji,Ni,hu,Ql,Jl,Pd,Zl,Wn,fm,Oi,Us,Cd,ay,hm,Jf,Zf,du,eh,Nd,th,pu,dm,zs,qs,on,ln,Hn,pa=i(511),ec=i(2041),pm=i(225),Od=i(767),iy=0,n_=ec,sy=pm,xs=Od,Ws=pa,oy=0,ly=1,hN=2,cy=3,uy=4,a_=5,dN=6,i_=7,s_=8,fy=9,o_=10,PK=[2,3,7],CK=[3,3,11],pN=[280,256,256,256,40],NK=[0,1,1,1,0],OK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],IK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],DK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],LK=8,l_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],c_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mm=null,jK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],MK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],RK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$K=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],BK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mu=[],Co=[],tc=[],VK=1,gN=2,gu=[],Hs=[];Je("UpsampleRgbLinePair",fe,3),Je("UpsampleBgrLinePair",Le,3),Je("UpsampleRgbaLinePair",Jt,4),Je("UpsampleBgraLinePair",lr,4),Je("UpsampleArgbLinePair",Qt,4),Je("UpsampleRgba4444LinePair",ut,2),Je("UpsampleRgb565LinePair",qe,2);var UK=S.UpsampleRgbLinePair,zK=S.UpsampleBgrLinePair,vN=S.UpsampleRgbaLinePair,yN=S.UpsampleBgraLinePair,xN=S.UpsampleArgbLinePair,bN=S.UpsampleRgba4444LinePair,qK=S.UpsampleRgb565LinePair,hy=16,dy=1<<hy-1,gm=-227,u_=482,wN=6,WK=(256<<wN)-1,_N=0,HK=i(256),GK=i(256),KK=i(256),YK=i(256),XK=i(u_-gm),QK=i(u_-gm);tn("YuvToRgbRow",fe,3),tn("YuvToBgrRow",Le,3),tn("YuvToRgbaRow",Jt,4),tn("YuvToBgraRow",lr,4),tn("YuvToArgbRow",Qt,4),tn("YuvToRgba4444Row",ut,2),tn("YuvToRgb565Row",qe,2);var SN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],py=[0,2,8],JK=[8,7,6,4,4,2,2,2,1,1,1,1],ZK=1;this.WebPDecodeRGBA=function(x,P,M,V,te){var se=ly,le=new Yl,he=new ha;le.ba=he,he.S=se,he.width=[he.width],he.height=[he.height];var de=he.width,ve=he.height,Ee=new Ei;if(Ee==null||x==null)var Ue=2;else t(Ee!=null),Ue=pl(x,P,M,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(Ue!=0?de=0:(de!=null&&(de[0]=Ee.width[0]),ve!=null&&(ve[0]=Ee.height[0]),de=1),de){he.width=he.width[0],he.height=he.height[0],V!=null&&(V[0]=he.width),te!=null&&(te[0]=he.height);e:{if(V=new ms,(te=new ou).data=x,te.w=P,te.ha=M,te.kd=1,P=[0],t(te!=null),((x=pl(te.data,te.w,te.ha,null,null,null,P,null,te))==0||x==7)&&P[0]&&(x=4),(P=x)==0){if(t(le!=null),V.data=te.data,V.w=te.w+te.offset,V.ha=te.ha-te.offset,V.put=Aa,V.ac=Dn,V.bc=ki,V.ma=le,te.xa){if((x=Xe())==null){le=1;break e}if(function(ze,Re){var it=[0],Qe=[0],Pe=[0];t:for(;;){if(ze==null)return 0;if(Re==null)return ze.a=2,0;if(ze.l=Re,ze.a=0,q(ze.m,Re.data,Re.w,Re.ha),!kt(ze.m,it,Qe,Pe)){ze.a=3;break t}if(ze.xb=gN,Re.width=it[0],Re.height=Qe[0],!Be(it[0],Qe[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(x,V)){if(V=(P=Sd(V.width,V.height,le.Oa,le.ba))==0){t:{V=x;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((M=V.l)!=null),t((te=M.ma)!=null),V.xb!=0){if(V.ca=te.ba,V.tb=te.tb,t(V.ca!=null),!om(te.Oa,M,cy)){V.a=2;break r}if(!Ve(V,M.width)||M.da)break r;if((M.da||sr(V.ca.S))&&Me(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Me()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Oe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!be(V,V.V,V.Ba,V.c,V.i,M.o,xe))break r;te.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(P=x.a)}else P=x.a}else{if((x=new Ma)==null){le=1;break e}if(x.Fa=te.na,x.P=te.P,x.qc=te.Sa,Bf(x,V)){if((P=Sd(V.width,V.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((te=x)!=null),M!=null){if(0<(de=0>(de=M.Md)?0:100<de?255:255*de/100)){for(ve=Ee=0;4>ve;++ve)12>(Ue=te.pb[ve]).lc&&(Ue.ia=de*JK[0>Ue.lc?0:Ue.lc]>>3),Ee|=Ue.ia;Ee&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=M.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}gd(x,V)||(P=x.a)}}else P=x.a}P==0&&le.Oa!=null&&le.Oa.fd&&(P=lm(le.ba))}le=P}se=le!=0?null:11>se?he.f.RGBA.eb:he.f.kb.y}else se=null;return se};var AN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,A){for(var I="",E=0;E<4;E++)I+=String.fromCharCode(S[A++]);return I}function u(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16)>>>0}function f(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16|S[A+3]<<24)>>>0}new l;var h=[0],d=[0],m=[],p=new l,v=e,y=function(S,A){var I={},E=0,N=!1,j=0,H=0;if(I.frames=[],!function(F,U,G,W){for(var Q=0;Q<W;Q++)if(F[U+Q]!=G.charCodeAt(Q))return!0;return!1}(S,A,"RIFF",4)){for(f(S,A+=4),A+=8;A<S.length;){var X=c(S,A),re=f(S,A+=4);A+=4;var J=re+(1&re);switch(X){case"VP8 ":case"VP8L":I.frames[E]===void 0&&(I.frames[E]={}),(ne=I.frames[E]).src_off=N?H:A-8,ne.src_size=j+re+8,E++,N&&(N=!1,j=0,H=0);break;case"VP8X":(ne=I.header={}).feature_flags=S[A];var q=A+4;ne.canvas_width=1+u(S,q),q+=3,ne.canvas_height=1+u(S,q),q+=3;break;case"ALPH":N=!0,j=J+8,H=A-8;break;case"ANIM":(ne=I.header).bgcolor=f(S,A),q=A+4,ne.loop_count=(ce=S)[(D=q)+0]<<0|ce[D+1]<<8,q+=2;break;case"ANMF":var B,ne;(ne=I.frames[E]={}).offset_x=2*u(S,A),A+=3,ne.offset_y=2*u(S,A),A+=3,ne.width=1+u(S,A),A+=3,ne.height=1+u(S,A),A+=3,ne.duration=u(S,A),A+=3,B=S[A++],ne.dispose=1&B,ne.blend=B>>1&1}X!="ANMF"&&(A+=J)}var ce,D;return I}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,w=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],d=[_.canvas_width];for(var O=0;O<w.length&&w[O].blend!=0;O++);}var k=w[0],C=p.WebPDecodeRGBA(v,k.src_off,k.src_size,d,h);k.rgba=C,k.imgwidth=d[0],k.imgheight=h[0];for(var T=0;T<d[0]*h[0]*4;T++)m[T]=C[T];return this.width=d,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof kT=="function"},r=function(h,d,m,p){var v=4,y=s;switch(p){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,d,m,y);var _=kT(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(_)},n=function(h,d,m,p){for(var v,y,_,w=h.length/d,O=new Uint8Array(h.length+w),k=u(),C=0;C<w;C+=1){if(_=C*d,v=h.subarray(_,_+d),p)O.set(p(v,m,y),_+C);else{for(var T,S=k.length,A=[];T<S;T+=1)A[T]=k[T](v,m,y);var I=f(A.concat());O.set(A[I],_+C)}y=v}return O},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var m,p=[],v=h.length;p[0]=1;for(var y=0;y<v;y+=1)m=h[y-d]||0,p[y+1]=h[y]-m+256&255;return p},s=function(h,d,m){var p,v=[],y=h.length;v[0]=2;for(var _=0;_<y;_+=1)p=m&&m[_]||0,v[_+1]=h[_]-p+256&255;return v},o=function(h,d,m){var p,v,y=[],_=h.length;y[0]=3;for(var w=0;w<_;w+=1)p=h[w-d]||0,v=m&&m[w]||0,y[w+1]=h[w]+256-(p+v>>>1)&255;return y},l=function(h,d,m){var p,v,y,_,w=[],O=h.length;w[0]=4;for(var k=0;k<O;k+=1)p=h[k-d]||0,v=m&&m[k]||0,y=m&&m[k-d]||0,_=c(p,v,y),w[k+1]=h[k]-_+256&255;return w},c=function(h,d,m){if(h===d&&d===m)return h;var p=Math.abs(d-m),v=Math.abs(h-m),y=Math.abs(h+d-m-m);return p<=v&&p<=y?h:v<=y?d:m},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(m){return m.reduce(function(p,v){return p+Math.abs(v)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,m,p){var v,y,_,w,O,k,C,T,S,A,I,E,N,j,H,X=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new pxe(h)).imgData,y=_.bits,v=_.colorSpace,O=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){S=(T=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,I=new Uint8Array(S*_.colors),A=new Uint8Array(S);var J,q=_.pixelBitlength-_.bits;for(j=0,H=0;j<S;j++){for(N=T[j],J=0;J<q;)I[H++]=N>>>J&255,J+=_.bits;A[j]=N>>>J&255}}if(_.bits===16){S=(T=new Uint32Array(_.decodePixels().buffer)).length,I=new Uint8Array(S*(32/_.pixelBitlength)*_.colors),A=new Uint8Array(S*(32/_.pixelBitlength)),E=_.colors>1,j=0,H=0;for(var B=0;j<S;)N=T[j++],I[H++]=N>>>0&255,E&&(I[H++]=N>>>16&255,N=T[j++],I[H++]=N>>>0&255),A[B++]=N>>>16&255;y=8}p!==e.image_compression.NONE&&t()?(h=r(I,_.width*_.colors,_.colors,p),C=r(A,_.width,1,p)):(h=I,C=A,X=void 0)}if(_.colorType===3&&(v=this.color_spaces.INDEXED,k=_.palette,_.transparency.indexed)){var ne=_.transparency.indexed,ce=0;for(j=0,S=ne.length;j<S;++j)ce+=ne[j];if((ce/=255)===S-1&&ne.indexOf(0)!==-1)w=[ne.indexOf(0)];else if(ce!==S){for(T=_.decodePixels(),A=new Uint8Array(T.length),j=0,S=T.length;j<S;j++)A[j]=ne[T[j]];C=r(A,_.width,1)}}var D=function(F){var U;switch(F){case e.image_compression.FAST:U=11;break;case e.image_compression.MEDIUM:U=13;break;case e.image_compression.SLOW:U=14;break;default:U=12}return U}(p);return X===this.decode.FLATE_DECODE&&(re="/Predictor "+D+" "),re+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:m,data:h,index:d,filter:X,decodeParameters:re,transparency:w,palette:k,sMask:C,predictor:D,width:_.width,height:_.height,bitsPerComponent:y,colorSpace:v}}}})(Ut.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new mxe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new BS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Ut.API),jo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nn.log("bit decode error:"+r)}},jo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},jo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},jo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},jo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},jo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},jo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},jo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},jo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new jo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new BS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Ut.API),dL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new dL(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new BS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Ut.API),Ut.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bd=Ut.API,dx=Bd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,m=0,p=o[0]||l,v=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Lr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,v.push((o[n]||p)/l+h)),m=n;return v},cL=Bd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Bd.processArabic&&(e=Bd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:dx.apply(this,arguments).reduce(function(i,s){return i+s},0)},uL=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},fL=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,m=0,p=e.split(" "),v=dx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),_=[];p.map(function(O){(O=O.split(/\s*\n/)).length>1?_=_.concat(O.map(function(k,C){return(C&&k.length?`
`:"")+k})):_.push(O[0])}),p=_,l=cL.apply(this,[y,r])}for(i=0,s=p.length;i<s;i++){var w=0;if(n=p[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+d+(m=(a=dx.apply(this,[n,r])).reduce(function(O,k){return O+k},0))>t||w){if(m>t){for(o=uL.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);m=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,k){return O+k},0)}else u=[n];f.push(u),h=m+l,d=v}else u.push(n),h+=d+m,d=v}return c=l?function(O,k){return(k?y:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},Bd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(fL.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,m,p,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=i(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),p="-"):(m=i(h).slice(2),p=""),m=p+m.slice(0,-1)+n[m.slice(-1)];else{if(Lr(h)!=="object")throw new Error("Don't know what to do with value type "+Lr(h)+".");m=s(h)}v.push(d+m)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,p,v={},y=1,_=v,w=[],O="",k="",C=f.length-1,T=1;T<C;T+=1)(p=f[T])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(p):p=="{"?(w.push([_,m]),_={},m=void 0):p=="}"?((d=w.pop())[0][d[1]]=_,m=void 0,_=d[0]):p=="-"?y=-1:m===void 0?r.hasOwnProperty(p)?(O+=r[p],m=parseInt(O,16)*y,y=1,O=""):O+=p:r.hasOwnProperty(p)?(k+=r[p],_[m]=parseInt(k,16)*y,y=1,m=void 0,k=""):k+=p;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ut.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(jg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ut),function(e){function t(){return(zt.canvg?Promise.resolve(zt.canvg):_T(()=>import("./index.es-DXVFvjUF.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ut.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),Ut.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ut.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(m,p){var v,y=!1;for(v=0;v<m.length;v+=1)m[v]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Lr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,p=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?p.push("/"+m+" /"+r[m].value):p.push("/"+m+" "+r[m].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ut.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,m){return d-m})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xd(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xd(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Xd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var p=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Xd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Xd(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,m=f.fonts,p=d,v="",y=0,_="",w=m[p].encoding;if(m[p].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(_=o,p=d,Array.isArray(o)&&(_=o[0]),y=0;y<_.length;y+=1)m[p].metadata.hasOwnProperty("cmap")&&(s=m[p].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),s||_[y].charCodeAt(0)<256&&m[p].metadata.hasOwnProperty("Unicode")?v+=_[y]:v+="";var O="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?O=h(v,p).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(O=r(v,m[p])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var O=function(E){var N=E.charCodeAt(),j=N>>8,H=p[j];return H!==void 0?f[256*H+(255&N)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},k=function(E){for(var N,j=0;j<E.length;j++){if((N=O(E.charAt(j)))==="L")return!1;if(N==="R")return!0}return!1},C=function(E,N,j,H){var X,re,J,q,B=N[H];switch(B){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(B="AN");break;case"AL":_=!0,B="R";break;case"WS":B="N";break;case"CS":H<1||H+1>=N.length||(X=j[H-1])!=="EN"&&X!=="AN"||(re=N[H+1])!=="EN"&&re!=="AN"?B="N":_&&(re="AN"),B=re===X?re:"N";break;case"ES":B=(X=H>0?j[H-1]:"B")==="EN"&&H+1<N.length&&N[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&j[H-1]==="EN"){B="EN";break}if(_){B="N";break}for(J=H+1,q=N.length;J<q&&N[J]==="ET";)J++;B=J<q&&N[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=N.length,J=H+1;J<q&&N[J]==="NSM";)J++;if(J<q){var ne=E[H],ce=ne>=1425&&ne<=2303||ne===64286;if(X=N[J],ce&&(X==="R"||X==="AL")){B="R";break}}}B=H<1||(X=N[H-1])==="B"?"N":j[H-1];break;case"B":_=!1,a=!0,B=w;break;case"S":i=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":B="N"}return B},T=function(E,N,j){var H=E.split("");return j&&S(H,j,{hiLevel:w}),H.reverse(),N&&N.reverse(),H.join("")},S=function(E,N,j){var H,X,re,J,q,B=-1,ne=E.length,ce=0,D=[],F=w?d:h,U=[];for(_=!1,a=!1,i=!1,X=0;X<ne;X++)U[X]=O(E[X]);for(re=0;re<ne;re++){if(q=ce,D[re]=C(E,U,D,re),H=240&(ce=F[q][m[D[re]]]),ce&=15,N[re]=J=F[ce][5],H>0)if(H===16){for(X=B;X<re;X++)N[X]=1;B=-1}else B=-1;if(F[ce][6])B===-1&&(B=re);else if(B>-1){for(X=B;X<re;X++)N[X]=J;B=-1}U[re]==="B"&&(N[re]=0),j.hiLevel|=J}i&&function(G,W,Q){for(var oe=0;oe<Q;oe++)if(G[oe]==="S"){W[oe]=w;for(var Y=oe-1;Y>=0&&G[Y]==="WS";Y--)W[Y]=w}}(U,N,ne)},A=function(E,N,j,H,X){if(!(X.hiLevel<E)){if(E===1&&w===1&&!a)return N.reverse(),void(j&&j.reverse());for(var re,J,q,B,ne=N.length,ce=0;ce<ne;){if(H[ce]>=E){for(q=ce+1;q<ne&&H[q]>=E;)q++;for(B=ce,J=q-1;B<J;B++,J--)re=N[B],N[B]=N[J],N[J]=re,j&&(re=j[B],j[B]=j[J],j[J]=re);ce=q}ce++}}},I=function(E,N,j){var H=E.split(""),X={hiLevel:w};return j||(j=[]),S(H,j,X),function(re,J,q){if(q.hiLevel!==0&&u)for(var B,ne=0;ne<re.length;ne++)J[ne]===1&&(B=v.indexOf(re[ne]))>=0&&(re[ne]=v[B+1])}(H,j,X),A(2,H,N,j,X),A(1,H,N,j,X),H.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,j){if(function(X,re){if(re)for(var J=0;J<X.length;J++)re[J]=J;o===void 0&&(o=k(X)),c===void 0&&(c=k(X))}(E,N),s||!l||c)if(s&&l&&o^c)w=o?1:0,E=T(E,N,j);else if(!s&&l&&c)w=o?1:0,E=I(E,N,j),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(w=0,E=I(E,N,j)):(w=1,E=I(E,N,j),E=T(E,N));else if(s&&o&&!l&&c)w=1,E=I(E,N,j),E=T(E,N);else if(!s&&!l&&o^c){var H=u;o?(w=1,E=I(E,N,j),w=0,u=!1,E=I(E,N,j),u=H):(w=0,E=I(E,N,j),E=T(E,N),w=1,u=!1,E=I(E,N,j),u=H,E=T(E,N))}}else w=0,E=I(E,N,j);else w=o?1:0,E=I(E,N,j);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ut),Ut.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Af(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Nxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gxe(this.contents),this.head=new yxe(this),this.name=new Sxe(this),this.cmap=new Fq(this),this.toUnicode={},this.hhea=new xxe(this),this.maxp=new Axe(this),this.hmtx=new Txe(this),this.post=new wxe(this),this.os2=new bxe(this),this.loca=new Cxe(this),this.glyf=new Exe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var sl,Af=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),gxe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,m,p;for(p in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new Af).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,m=[],r)for(h=r[p],a.writeString(p),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),m=m.concat(h),p==="head"&&(o=c),c+=h.length;c%4;)m.push(0),c++;return a.write(m),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=$q.call(r);r.length%4;)r.push(0);for(i=new Af(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),vxe={}.hasOwnProperty,Ul=function(e,t){for(var r in t)vxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};sl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var yxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Af).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),pL=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y,_,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var O,k;for(k=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)k.push(t.readUInt16());return k}(),t.pos+=2,p=function(){var O,k;for(k=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)k.push(t.readUInt16());return k}(),c=function(){var O,k;for(k=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)k.push(t.readUInt16());return k}(),u=function(){var O,k;for(k=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)k.push(t.readUInt16());return k}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,k;for(k=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)k.push(t.readUInt16());return k}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=_=m=p[l];m<=v?_<=v:_>=v;n=m<=v?++_:--_)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-m)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y,_,w,O,k,C,T,S,A,I,E,N,j,H,X,re,J,q,B,ne,ce,D,F,U,G,W,Q,oe,Y,ue,pe,K;switch(H=new Af,s=Object.keys(t).sort(function(je,Oe){return je-Oe}),r){case"macroman":for(p=0,v=function(){var je=[];for(m=0;m<256;++m)je.push(0);return je}(),_={0:0},i={},X=0,B=s.length;X<B;X++)_[Y=t[a=s[X]]]==null&&(_[Y]=++p),i[a]={old:t[a],new:_[t[a]]},v[a]=_[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(v),{charMap:i,subtable:H.data,maxGlyphID:p+1};case"unicode":for(N=[],f=[],w=0,_={},n={},y=c=null,re=0,ne=s.length;re<ne;re++)_[k=t[a=s[re]]]==null&&(_[k]=++w),n[a]={old:k,new:_[k]},o=_[k]-a,y!=null&&o===c||(y&&f.push(y),N.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),N.push(65535),I=2*(A=N.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*A-S,l=[],C=[],d=[],m=J=0,ce=N.length;J<ce;m=++J){if(E=N[m],u=f[m],E===65535){l.push(0),C.push(0);break}if(E-(j=n[E].new)>=32768)for(l.push(0),C.push(2*(d.length+A-m)),a=q=E;E<=u?q<=u:q>=u;a=E<=u?++q:--q)d.push(n[a].new);else l.push(j-E),C.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*A+2*d.length),H.writeUInt16(0),H.writeUInt16(I),H.writeUInt16(S),H.writeUInt16(h),H.writeUInt16(T),Q=0,D=f.length;Q<D;Q++)a=f[Q],H.writeUInt16(a);for(H.writeUInt16(0),oe=0,F=N.length;oe<F;oe++)a=N[oe],H.writeUInt16(a);for(ue=0,U=l.length;ue<U;ue++)o=l[ue],H.writeUInt16(o);for(pe=0,G=C.length;pe<G;pe++)O=C[pe],H.writeUInt16(O);for(K=0,W=d.length;K<W;K++)p=d[K],H.writeUInt16(p);return{charMap:n,subtable:H.data,maxGlyphID:w+1}}},e}(),Fq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new pL(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=pL.encode(r,n),(i=new Af).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),xxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),bxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),wxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),_xe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new _xe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Axe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Txe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),$q=[].slice,Exe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Af(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Pxe(l,u,h,c,f):new kxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),kxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pxe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Af($q.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Cxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,sl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Nxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y;for(a in n=Fq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=n.charMap)d[(l=y[a]).old]=l.new;for(m in h=n.maxGlyphID,s)m in d||(d[m]=h++);return u=function(_){var w,O;for(w in O={},_)O[_[w]]=w;return O}(d),f=Object.keys(u).sort(function(_,w){return _-w}),p=function(){var _,w,O;for(O=[],_=0,w=f.length;_<w;_++)o=f[_],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,p,d),c=this.font.loca.encode(i.offsets,p),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Ut.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Bq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var m=0;m<f.length;m++)a.text(f[m],t-a.getStringUnitWidth(f[m])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var mL={},L0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:mL=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return mL||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),LT=function(e,t){return LT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},LT(e,t)};function Vq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");LT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Uq=function(e){Vq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Oxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ixe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function gb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function zq(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=qq(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function qq(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function p5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Wq(e,t){var r=p5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Dxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=VS(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=VS(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=jxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var m=VS(t,function(w){return a.getComputedStyle(w)[u]});m!=null&&(i.lineColor=m);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Lxe(n);y&&(i.fontStyle=y);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(i.font=_),i}function Lxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function VS(e,t){var r=Hq(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Hq(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Hq(e.parentElement,t):r}function jxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=p5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Gq(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var m=o.rows[d],p=(s=(i=m==null?void 0:m.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Mxe(l,c,r,m,n,a);v&&(p==="thead"?u.push(v):p==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Mxe(e,t,r,n,a,i){for(var s=new Uq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=Dxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Rxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Rxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Fxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function hc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function Kq(e,t){var r=new L0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Fxe(a,n,t);var i=hc({},a,n,t),s;typeof window<"u"&&(s=window);var o=$xe(a,n,t),l=Bxe(a,n,t),c=Vxe(r,i),u=zxe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function $xe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=hc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(m){return m[l]||{}});n[l]=hc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Bxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Vxe(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,m=p5(t.margin,40/e.scaleFactor()),p=(r=Uxe(e,t.startY))!==null&&r!==void 0?r:m.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var _=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(_?"plain":"striped"),O=!!t.horizontalPageBreak,k=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:_,theme:w,startY:p,margin:m,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function Uxe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function zxe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=Gq(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||qxe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function qxe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var jT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Wxe=function(e){Vq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(jT),Hxe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new Wxe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new jT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new jT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Yq=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Uq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),Xq=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=p5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Gxe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function Kxe(e,t){Yxe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=MT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=MT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Qxe(t),Jxe(t,e),Xxe(t)}function Yxe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Wq(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=gb(c.text,c.styles,e)+f;var h=gb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function MT(e,t,r){for(var n=t,a=e.reduce(function(d,m){return d+m.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=MT(h,t,r))}return t}function Xxe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function Qxe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function Jxe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=gL(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=gL(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function gL(e,t,r,n,a){return e.map(function(i){return Zxe(i,t,r,n,a)})}function Zxe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=gb(e,r,n))return e;for(;t<gb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Qq(e,t){var r=new L0(e),n=e2e(t,r.scaleFactor()),a=new Hxe(t,n);return Kxe(r,a),r.applyStyles(r.userStyles),a}function e2e(e,t){var r=e.content,n=r2e(r.columns);if(r.head.length===0){var a=vL(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=vL(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:US("head",r.head,n,s,i,t),body:US("body",r.body,n,s,i,t),foot:US("foot",r.foot,n,s,i,t)}}function US(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,m=0,p=r;m<p.length;m++){var v=p[m];if(s[v.index]==null||s[v.index].left===0)if(d===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var _={};typeof y=="object"&&!Array.isArray(y)&&(_=(y==null?void 0:y.styles)||{});var w=n2e(e,v,c,a,n,i,_),O=new Xq(y,w,e);f[v.dataKey]=O,f[v.index]=O,d=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:d}}else d--,h++;else s[v.index].left--,d=s[v.index].times,u++}return new Yq(l,c,e,f)});return o}function vL(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=t2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function t2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function r2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new Gxe(a,t,r)})}function n2e(e,t,r,n,a,i,s){var o=Ixe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=hc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?hc({},o.alternateRow,a.alternateRowStyles):{},d=Oxe(i),m=hc({},d,c,h,f);return hc(m,s)}function a2e(e,t,r){var n;r===void 0&&(r={});var a=Wq(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(m){return m.dataKey===h||m.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function i2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=a2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Jq(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new L0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(eW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=hc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?s2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Mc(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var m=d===t.body.length-1;vb(u,t,h,m,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Mc(u,t,h,i,t.columns)})),zq(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function s2e(e,t,r,n){var a=i2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Mg(e,t,r,n,c.columns,!0):yL(e,t,n,c.columns),o2e(e,t,r,n,c.columns),zS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Mg(e,t,r,n,u,!0):yL(e,t,n,u),c=xL(e,t,s+1,n,u),zS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Mg(e,t,r,n,h.columns,!0),xL(e,t,s+1,n,h.columns,f),zS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function yL(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Mc(e,t,i,r,n)})}function o2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;vb(e,t,i,o,r,n,a)})}function xL(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=Zq(e,t,u,n);l.canEntireRowFit(f,a)&&(Mc(e,t,l,n,a),o=r+c)}),o}function zS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Mc(e,t,i,r,n)})}function l2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function c2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new Xq(c.raw,c.styles,c.section);u=hc(u,c),u.text=[];var f=l2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var m=new Yq(e.raw,-1,e.section,a,!0);m.height=i;for(var p=0,v=r.columns;p<v.length;p++){var l=v[p],u=m.cells[l.index];u&&(u.height=m.height);var c=e.cells[l.index];c&&(c.height=e.height)}return m}function u2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function vb(e,t,r,n,a,i,s){var o=Zq(e,t,n,i);if(r.canEntireRowFit(o,s))Mc(e,t,r,i,s);else if(u2e(e,r,o,t)){var l=c2e(r,o,t,e);Mc(e,t,r,i,s),Mg(e,t,a,i,s),vb(e,t,l,n,a,i,s)}else Mg(e,t,a,i,s),vb(e,t,r,n,a,i,s)}function Mc(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}f2e(e,l,n);var u=l.getTextPos();Bq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function f2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=qq(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),h2e(e,t,r,n.lineWidth))}function h2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function Zq(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Mg(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Mc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;zq(e,t,r,n),eW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Mc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function eW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function d2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Kq(this,n),i=Qq(this,a);return Jq(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Bq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return L0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){L0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new L0(this),i=Gq(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var qS;function p2e(e,t){var r=Kq(e,t),n=Qq(e,r);Jq(e,n)}try{if(typeof window<"u"&&window){var bL=window,wL=bL.jsPDF||((qS=bL.jspdf)===null||qS===void 0?void 0:qS.jsPDF);wL&&d2e(wL)}}catch(e){console.error("Could not apply autoTable plugin",e)}const m2e=()=>{const[e,t]=Z.useState([]),[r,n]=Z.useState(!0),[a,i]=Z.useState("today"),[s,o]=Z.useState("all"),{showToast:l}=rd(),{isDarkMode:c}=sn(),[u,f]=Z.useState(!1),h=async()=>{n(!0);try{let y=Ar(Nt(vt,"activityLogs"),vi("time","desc"));const _=new Date;if(a==="today")y=Ar(Nt(vt,"activityLogs"),Br("time",">=",Z2(_).toISOString()),Br("time","<=",k1(_).toISOString()),vi("time","desc"));else if(a==="yesterday"){const k=Rt(_,1);y=Ar(Nt(vt,"activityLogs"),Br("time",">=",Z2(k).toISOString()),Br("time","<=",k1(k).toISOString()),vi("time","desc"))}else a==="week"?y=Ar(Nt(vt,"activityLogs"),Br("time",">=",bce(_).toISOString()),Br("time","<=",Oce(_).toISOString()),vi("time","desc")):a==="month"&&(y=Ar(Nt(vt,"activityLogs"),Br("time",">=",Nce(_).toISOString()),Br("time","<=",PU(_).toISOString()),vi("time","desc")));let O=(await kr(y)).docs.map(k=>({id:k.id,user:k.data().user,role:k.data().role,detail:k.data().detail,time:k.data().time}));s!=="all"&&(O=O.filter(k=>k.role===s)),t(O)}catch(y){console.error("Error fetching activity logs:",y),l("Failed to fetch activity logs","error")}finally{n(!1)}};Z.useEffect(()=>{h()},[a,s]);const d=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}],m=[{value:"all",label:"All Roles"},{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],p=()=>{try{const _=[["User","Role","Activity","Time"].join(","),...e.map(C=>[C.user,C.role,`"${C.detail.replace(/"/g,'""')}"`,xr(new Date(C.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),w=new Blob([_],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),k=URL.createObjectURL(w);O.setAttribute("href",k),O.setAttribute("download",`activity_logs_${xr(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(y){console.error("Error exporting to CSV:",y),l("Failed to export to CSV","error")}},v=()=>{var y,_;try{const w=new Ut;w.setFontSize(16),w.text("Activity Logs Report",14,15),w.setFontSize(10),w.text(`Date Filter: ${(y=d.find(O=>O.value===a))==null?void 0:y.label}`,14,25),w.text(`Role Filter: ${(_=m.find(O=>O.value===s))==null?void 0:_.label}`,14,30),p2e(w,{startY:35,head:[["User","Role","Activity","Time"]],body:e.map(O=>[O.user,O.role,O.detail,xr(new Date(O.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),w.save(`activity_logs_${xr(new Date,"yyyy-MM-dd")}.pdf`)}catch(w){console.error("Error exporting to PDF:",w),l("Failed to export to PDF","error")}};return g.jsx("div",{className:`space-y-6 ${c?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:g.jsxs("div",{className:`rounded-lg shadow-sm border ${c?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[g.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${c?"border-slate-700":"border-slate-200"}`,children:[g.jsx("h2",{className:`text-xl font-semibold ${c?"text-white":"text-slate-800"}`,children:"Activity Logs"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[g.jsxs("button",{onClick:p,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${c?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[g.jsx(O2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),g.jsxs("button",{onClick:v,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${c?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[g.jsx(O2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]}),g.jsx(Pr,{value:s,onChange:y=>o(y.target.value),options:m,className:"w-full sm:w-40"}),g.jsx(Pr,{value:a,onChange:y=>i(y.target.value),options:d,className:"w-full sm:w-40"}),g.jsx(Ct,{variant:"secondary",onClick:h,className:`flex items-center gap-2 w-full sm:w-auto ${u?"opacity-50 cursor-not-allowed":""}`,disabled:u,children:g.jsx(Pf,{size:16,className:u?"animate-spin":""})})]})]}),r?g.jsx("div",{className:"flex justify-center items-center h-32",children:g.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${c?"border-white":"border-slate-800"}`})}):e.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${c?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${c?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${c?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${c?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${c?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),g.jsx("tbody",{className:`divide-y ${c?"divide-slate-700":"divide-slate-200"}`,children:g.jsx(IV,{children:e.map((y,_)=>g.jsxs(kn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:_*.05},className:`${c?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${c?"text-slate-200":"text-slate-800"}`,children:y.user}),g.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${c?"text-slate-200":"text-slate-800"}`,children:y.role}),g.jsx("td",{className:`px-2 py-4 text-sm ${c?"text-slate-200":"text-slate-800"}`,children:y.detail}),g.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${c?"text-slate-200":"text-slate-800"}`,children:xr(new Date(y.time),"MMM d, yyyy h:mm:ss a")})]},y.id))})})]})}),g.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map((y,_)=>g.jsxs("div",{className:`rounded-lg border ${c?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${c?"text-blue-400":"text-blue-700"}`,children:y.user}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:y.role})]}),g.jsxs("div",{className:c?"text-slate-200":"text-slate-800",children:[g.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),g.jsx("span",{className:"text-sm",children:y.detail})]}),g.jsx("div",{className:"text-xs mt-1",children:g.jsxs("span",{className:c?"text-slate-400":"text-slate-600",children:["Time: ",g.jsx("span",{className:"font-medium",children:xr(new Date(y.time),"MMM d, yyyy h:mm:ss a")})]})})]},y.id))})]}):g.jsx("div",{className:`text-center py-8 ${c?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function tW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tW(e))&&(n&&(n+=" "),n+=t);return n}var g2e=Array.isArray,hs=g2e,v2e=typeof Wm=="object"&&Wm&&Wm.Object===Object&&Wm,rW=v2e,y2e=rW,x2e=typeof self=="object"&&self&&self.Object===Object&&self,b2e=y2e||x2e||Function("return this")(),zl=b2e,w2e=zl,_2e=w2e.Symbol,Wv=_2e,_L=Wv,nW=Object.prototype,S2e=nW.hasOwnProperty,A2e=nW.toString,jm=_L?_L.toStringTag:void 0;function T2e(e){var t=S2e.call(e,jm),r=e[jm];try{e[jm]=void 0;var n=!0}catch{}var a=A2e.call(e);return n&&(t?e[jm]=r:delete e[jm]),a}var E2e=T2e,k2e=Object.prototype,P2e=k2e.toString;function C2e(e){return P2e.call(e)}var N2e=C2e,SL=Wv,O2e=E2e,I2e=N2e,D2e="[object Null]",L2e="[object Undefined]",AL=SL?SL.toStringTag:void 0;function j2e(e){return e==null?e===void 0?L2e:D2e:AL&&AL in Object(e)?O2e(e):I2e(e)}var Hc=j2e;function M2e(e){return e!=null&&typeof e=="object"}var Gc=M2e,R2e=Hc,F2e=Gc,$2e="[object Symbol]";function B2e(e){return typeof e=="symbol"||F2e(e)&&R2e(e)==$2e}var Hp=B2e,V2e=hs,U2e=Hp,z2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q2e=/^\w*$/;function W2e(e,t){if(V2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||U2e(e)?!0:q2e.test(e)||!z2e.test(e)||t!=null&&e in Object(t)}var iC=W2e;function H2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lf=H2e;const Gp=Zr(Lf);var G2e=Hc,K2e=Lf,Y2e="[object AsyncFunction]",X2e="[object Function]",Q2e="[object GeneratorFunction]",J2e="[object Proxy]";function Z2e(e){if(!K2e(e))return!1;var t=G2e(e);return t==X2e||t==Q2e||t==Y2e||t==J2e}var sC=Z2e;const ar=Zr(sC);var ebe=zl,tbe=ebe["__core-js_shared__"],rbe=tbe,WS=rbe,TL=function(){var e=/[^.]+$/.exec(WS&&WS.keys&&WS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nbe(e){return!!TL&&TL in e}var abe=nbe,ibe=Function.prototype,sbe=ibe.toString;function obe(e){if(e!=null){try{return sbe.call(e)}catch{}try{return e+""}catch{}}return""}var aW=obe,lbe=sC,cbe=abe,ube=Lf,fbe=aW,hbe=/[\\^$.*+?()[\]{}|]/g,dbe=/^\[object .+?Constructor\]$/,pbe=Function.prototype,mbe=Object.prototype,gbe=pbe.toString,vbe=mbe.hasOwnProperty,ybe=RegExp("^"+gbe.call(vbe).replace(hbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xbe(e){if(!ube(e)||cbe(e))return!1;var t=lbe(e)?ybe:dbe;return t.test(fbe(e))}var bbe=xbe;function wbe(e,t){return e==null?void 0:e[t]}var _be=wbe,Sbe=bbe,Abe=_be;function Tbe(e,t){var r=Abe(e,t);return Sbe(r)?r:void 0}var fd=Tbe,Ebe=fd,kbe=Ebe(Object,"create"),m5=kbe,EL=m5;function Pbe(){this.__data__=EL?EL(null):{},this.size=0}var Cbe=Pbe;function Nbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Obe=Nbe,Ibe=m5,Dbe="__lodash_hash_undefined__",Lbe=Object.prototype,jbe=Lbe.hasOwnProperty;function Mbe(e){var t=this.__data__;if(Ibe){var r=t[e];return r===Dbe?void 0:r}return jbe.call(t,e)?t[e]:void 0}var Rbe=Mbe,Fbe=m5,$be=Object.prototype,Bbe=$be.hasOwnProperty;function Vbe(e){var t=this.__data__;return Fbe?t[e]!==void 0:Bbe.call(t,e)}var Ube=Vbe,zbe=m5,qbe="__lodash_hash_undefined__";function Wbe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zbe&&t===void 0?qbe:t,this}var Hbe=Wbe,Gbe=Cbe,Kbe=Obe,Ybe=Rbe,Xbe=Ube,Qbe=Hbe;function Kp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kp.prototype.clear=Gbe;Kp.prototype.delete=Kbe;Kp.prototype.get=Ybe;Kp.prototype.has=Xbe;Kp.prototype.set=Qbe;var Jbe=Kp;function Zbe(){this.__data__=[],this.size=0}var ewe=Zbe;function twe(e,t){return e===t||e!==e&&t!==t}var oC=twe,rwe=oC;function nwe(e,t){for(var r=e.length;r--;)if(rwe(e[r][0],t))return r;return-1}var g5=nwe,awe=g5,iwe=Array.prototype,swe=iwe.splice;function owe(e){var t=this.__data__,r=awe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():swe.call(t,r,1),--this.size,!0}var lwe=owe,cwe=g5;function uwe(e){var t=this.__data__,r=cwe(t,e);return r<0?void 0:t[r][1]}var fwe=uwe,hwe=g5;function dwe(e){return hwe(this.__data__,e)>-1}var pwe=dwe,mwe=g5;function gwe(e,t){var r=this.__data__,n=mwe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var vwe=gwe,ywe=ewe,xwe=lwe,bwe=fwe,wwe=pwe,_we=vwe;function Yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yp.prototype.clear=ywe;Yp.prototype.delete=xwe;Yp.prototype.get=bwe;Yp.prototype.has=wwe;Yp.prototype.set=_we;var v5=Yp,Swe=fd,Awe=zl,Twe=Swe(Awe,"Map"),lC=Twe,kL=Jbe,Ewe=v5,kwe=lC;function Pwe(){this.size=0,this.__data__={hash:new kL,map:new(kwe||Ewe),string:new kL}}var Cwe=Pwe;function Nwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Owe=Nwe,Iwe=Owe;function Dwe(e,t){var r=e.__data__;return Iwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var y5=Dwe,Lwe=y5;function jwe(e){var t=Lwe(this,e).delete(e);return this.size-=t?1:0,t}var Mwe=jwe,Rwe=y5;function Fwe(e){return Rwe(this,e).get(e)}var $we=Fwe,Bwe=y5;function Vwe(e){return Bwe(this,e).has(e)}var Uwe=Vwe,zwe=y5;function qwe(e,t){var r=zwe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Wwe=qwe,Hwe=Cwe,Gwe=Mwe,Kwe=$we,Ywe=Uwe,Xwe=Wwe;function Xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xp.prototype.clear=Hwe;Xp.prototype.delete=Gwe;Xp.prototype.get=Kwe;Xp.prototype.has=Ywe;Xp.prototype.set=Xwe;var cC=Xp,iW=cC,Qwe="Expected a function";function uC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Qwe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(uC.Cache||iW),r}uC.Cache=iW;var sW=uC;const Jwe=Zr(sW);var Zwe=sW,e5e=500;function t5e(e){var t=Zwe(e,function(n){return r.size===e5e&&r.clear(),n}),r=t.cache;return t}var r5e=t5e,n5e=r5e,a5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i5e=/\\(\\)?/g,s5e=n5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(a5e,function(r,n,a,i){t.push(a?i.replace(i5e,"$1"):n||r)}),t}),o5e=s5e;function l5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var fC=l5e,PL=Wv,c5e=fC,u5e=hs,f5e=Hp,h5e=1/0,CL=PL?PL.prototype:void 0,NL=CL?CL.toString:void 0;function oW(e){if(typeof e=="string")return e;if(u5e(e))return c5e(e,oW)+"";if(f5e(e))return NL?NL.call(e):"";var t=e+"";return t=="0"&&1/e==-h5e?"-0":t}var d5e=oW,p5e=d5e;function m5e(e){return e==null?"":p5e(e)}var lW=m5e,g5e=hs,v5e=iC,y5e=o5e,x5e=lW;function b5e(e,t){return g5e(e)?e:v5e(e,t)?[e]:y5e(x5e(e))}var cW=b5e,w5e=Hp,_5e=1/0;function S5e(e){if(typeof e=="string"||w5e(e))return e;var t=e+"";return t=="0"&&1/e==-_5e?"-0":t}var x5=S5e,A5e=cW,T5e=x5;function E5e(e,t){t=A5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[T5e(t[r++])];return r&&r==n?e:void 0}var hC=E5e,k5e=hC;function P5e(e,t,r){var n=e==null?void 0:k5e(e,t);return n===void 0?r:n}var uW=P5e;const uo=Zr(uW);function C5e(e){return e==null}var N5e=C5e;const fr=Zr(N5e);var O5e=Hc,I5e=hs,D5e=Gc,L5e="[object String]";function j5e(e){return typeof e=="string"||!I5e(e)&&D5e(e)&&O5e(e)==L5e}var M5e=j5e;const Gh=Zr(M5e);var fW={exports:{}},Gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=Symbol.for("react.element"),pC=Symbol.for("react.portal"),b5=Symbol.for("react.fragment"),w5=Symbol.for("react.strict_mode"),_5=Symbol.for("react.profiler"),S5=Symbol.for("react.provider"),A5=Symbol.for("react.context"),R5e=Symbol.for("react.server_context"),T5=Symbol.for("react.forward_ref"),E5=Symbol.for("react.suspense"),k5=Symbol.for("react.suspense_list"),P5=Symbol.for("react.memo"),C5=Symbol.for("react.lazy"),F5e=Symbol.for("react.offscreen"),hW;hW=Symbol.for("react.module.reference");function xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dC:switch(e=e.type,e){case b5:case _5:case w5:case E5:case k5:return e;default:switch(e=e&&e.$$typeof,e){case R5e:case A5:case T5:case C5:case P5:case S5:return e;default:return t}}case pC:return t}}}Gr.ContextConsumer=A5;Gr.ContextProvider=S5;Gr.Element=dC;Gr.ForwardRef=T5;Gr.Fragment=b5;Gr.Lazy=C5;Gr.Memo=P5;Gr.Portal=pC;Gr.Profiler=_5;Gr.StrictMode=w5;Gr.Suspense=E5;Gr.SuspenseList=k5;Gr.isAsyncMode=function(){return!1};Gr.isConcurrentMode=function(){return!1};Gr.isContextConsumer=function(e){return xo(e)===A5};Gr.isContextProvider=function(e){return xo(e)===S5};Gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dC};Gr.isForwardRef=function(e){return xo(e)===T5};Gr.isFragment=function(e){return xo(e)===b5};Gr.isLazy=function(e){return xo(e)===C5};Gr.isMemo=function(e){return xo(e)===P5};Gr.isPortal=function(e){return xo(e)===pC};Gr.isProfiler=function(e){return xo(e)===_5};Gr.isStrictMode=function(e){return xo(e)===w5};Gr.isSuspense=function(e){return xo(e)===E5};Gr.isSuspenseList=function(e){return xo(e)===k5};Gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===b5||e===_5||e===w5||e===E5||e===k5||e===F5e||typeof e=="object"&&e!==null&&(e.$$typeof===C5||e.$$typeof===P5||e.$$typeof===S5||e.$$typeof===A5||e.$$typeof===T5||e.$$typeof===hW||e.getModuleId!==void 0)};Gr.typeOf=xo;fW.exports=Gr;var $5e=fW.exports,B5e=Hc,V5e=Gc,U5e="[object Number]";function z5e(e){return typeof e=="number"||V5e(e)&&B5e(e)==U5e}var dW=z5e;const q5e=Zr(dW);var W5e=dW;function H5e(e){return W5e(e)&&e!=+e}var G5e=H5e;const Hv=Zr(G5e);var Xo=function(t){return t===0?0:t>0?1:-1},Sh=function(t){return Gh(t)&&t.indexOf("%")===t.length-1},bt=function(t){return q5e(t)&&!Hv(t)},ba=function(t){return bt(t)||Gh(t)},K5e=0,Gv=function(t){var r=++K5e;return"".concat(t||"").concat(r)},Kh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(t)&&!Gh(t))return n;var i;if(Sh(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Hv(i)&&(i=n),a&&i>r&&(i=r),i},Ru=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Y5e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},qo=function(t,r){return bt(t)&&bt(r)?function(n){return t+n*(r-t)}:function(){return r}};function yb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):uo(n,t))===r})}var X5e=function(t,r){return bt(t)&&bt(r)?t-r:Gh(t)&&Gh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function j0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function RT(e){"@babel/helpers - typeof";return RT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RT(e)}var Q5e=["viewBox","children"],J5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OL=["points","pathLength"],HS={svg:Q5e,polygon:OL,polyline:OL},mC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(Z.isValidElement(t)&&(n=t.props),!Gp(n))return null;var a={};return Object.keys(n).forEach(function(i){mC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Z5e=function(t,r,n){return function(a){return t(r,n,a),null}},bb=function(t,r,n){if(!Gp(t)||RT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];mC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Z5e(s,r,n))}),a},e_e=["children"],t_e=["children"];function IL(e,t){if(e==null)return{};var r=r_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e){"@babel/helpers - typeof";return FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FT(e)}var DL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LL=null,GS=null,gC=function e(t){if(t===LL&&Array.isArray(GS))return GS;var r=[];return Z.Children.forEach(t,function(n){fr(n)||($5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),GS=r,LL=t,r};function fo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bc(a)}):n=[bc(t)],gC(e).forEach(function(a){var i=uo(a,"type.displayName")||uo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ts(e,t){var r=fo(e,t);return r&&r[0]}var jL=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!bt(n)||n<=0||!bt(a)||a<=0)},n_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],a_e=function(t){return t&&t.type&&Gh(t.type)&&n_e.indexOf(t.type)>=0},i_e=function(t){return t&&FT(t)==="object"&&"clipDot"in t},s_e=function(t,r,n,a){var i,s=(i=HS==null?void 0:HS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ar(t)&&(a&&s.includes(r)||J5e.includes(r))||n&&mC.includes(r)},pr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(Z.isValidElement(t)&&(a=t.props),!Gp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;s_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},$T=function e(t,r){if(t===r)return!0;var n=Z.Children.count(t);if(n!==Z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ML(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!ML(i,s))return!1}return!0},ML=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},a=n.children,i=IL(n,e_e),s=r.props||{},o=s.children,l=IL(s,t_e);return a&&o?j0(i,l)&&$T(a,o):!a&&!o?j0(i,l):!1}return!1},RL=function(t,r){var n=[],a={};return gC(t).forEach(function(i,s){if(a_e(i))n.push(i);else if(i){var o=bc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},o_e=function(t){var r=t&&t.type;return r&&DL[r]?DL[r]:null},l_e=function(t,r){return gC(r).indexOf(t)},c_e=["children","width","height","viewBox","className","style","title","desc"];function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT.apply(this,arguments)}function u_e(e,t){if(e==null)return{};var r=f_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=u_e(e,c_e),u=a||{width:r,height:n,x:0,y:0},f=Cr("recharts-surface",i);return Ne.createElement("svg",BT({},pr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ne.createElement("title",null,o),Ne.createElement("desc",null,l),t)}var h_e=["children","className"];function UT(){return UT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UT.apply(this,arguments)}function d_e(e,t){if(e==null)return{};var r=p_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ea=Ne.forwardRef(function(e,t){var r=e.children,n=e.className,a=d_e(e,h_e),i=Cr("recharts-layer",n);return Ne.createElement("g",UT({className:i},pr(a,!0),{ref:t}),r)}),wc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function m_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var g_e=m_e,v_e=g_e;function y_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:v_e(e,t,r)}var x_e=y_e,b_e="\\ud800-\\udfff",w_e="\\u0300-\\u036f",__e="\\ufe20-\\ufe2f",S_e="\\u20d0-\\u20ff",A_e=w_e+__e+S_e,T_e="\\ufe0e\\ufe0f",E_e="\\u200d",k_e=RegExp("["+E_e+b_e+A_e+T_e+"]");function P_e(e){return k_e.test(e)}var pW=P_e;function C_e(e){return e.split("")}var N_e=C_e,mW="\\ud800-\\udfff",O_e="\\u0300-\\u036f",I_e="\\ufe20-\\ufe2f",D_e="\\u20d0-\\u20ff",L_e=O_e+I_e+D_e,j_e="\\ufe0e\\ufe0f",M_e="["+mW+"]",zT="["+L_e+"]",qT="\\ud83c[\\udffb-\\udfff]",R_e="(?:"+zT+"|"+qT+")",gW="[^"+mW+"]",vW="(?:\\ud83c[\\udde6-\\uddff]){2}",yW="[\\ud800-\\udbff][\\udc00-\\udfff]",F_e="\\u200d",xW=R_e+"?",bW="["+j_e+"]?",$_e="(?:"+F_e+"(?:"+[gW,vW,yW].join("|")+")"+bW+xW+")*",B_e=bW+xW+$_e,V_e="(?:"+[gW+zT+"?",zT,vW,yW,M_e].join("|")+")",U_e=RegExp(qT+"(?="+qT+")|"+V_e+B_e,"g");function z_e(e){return e.match(U_e)||[]}var q_e=z_e,W_e=N_e,H_e=pW,G_e=q_e;function K_e(e){return H_e(e)?G_e(e):W_e(e)}var Y_e=K_e,X_e=x_e,Q_e=pW,J_e=Y_e,Z_e=lW;function eSe(e){return function(t){t=Z_e(t);var r=Q_e(t)?J_e(t):void 0,n=r?r[0]:t.charAt(0),a=r?X_e(r,1).join(""):t.slice(1);return n[e]()+a}}var tSe=eSe,rSe=tSe,nSe=rSe("toUpperCase"),aSe=nSe;const N5=Zr(aSe);function cn(e){return function(){return e}}const wW=Math.cos,wb=Math.sin,ol=Math.sqrt,_b=Math.PI,O5=2*_b,WT=Math.PI,HT=2*WT,fh=1e-6,iSe=HT-fh;function _W(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _W;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class oSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_W:sSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fh)if(!(Math.abs(f*l-c*u)>fh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,m=a-o,p=l*l+c*c,v=d*d+m*m,y=Math.sqrt(p),_=Math.sqrt(h),w=i*Math.tan((WT-Math.acos((p+h-v)/(2*y*_)))/2),O=w/_,k=w/y;Math.abs(O-1)>fh&&this._append`L${t+O*u},${r+O*f}`,this._append`A${i},${i},0,0,${+(f*d>u*m)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>fh||Math.abs(this._y1-u)>fh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%HT+HT),h>iSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>fh&&this._append`A${n},${n},0,${+(h>=WT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oSe(t)}function yC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SW(e){this._context=e}SW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function I5(e){return new SW(e)}function AW(e){return e[0]}function TW(e){return e[1]}function EW(e,t){var r=cn(!0),n=null,a=I5,i=null,s=vC(o);e=typeof e=="function"?e:e===void 0?AW:cn(e),t=typeof t=="function"?t:t===void 0?TW:cn(t);function o(l){var c,u=(l=yC(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:cn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:cn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:cn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function px(e,t,r){var n=null,a=cn(!0),i=null,s=I5,o=null,l=vC(c);e=typeof e=="function"?e:e===void 0?AW:cn(+e),t=typeof t=="function"?t:cn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?TW:cn(+r);function c(f){var h,d,m,p=(f=yC(f)).length,v,y=!1,_,w=new Array(p),O=new Array(p);for(i==null&&(o=s(_=l())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=d;--m)o.point(w[m],O[m]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),O[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):O[h]))}if(_)return o=null,_+""||null}function u(){return EW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:cn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class kW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function lSe(e){return new kW(e,!0)}function cSe(e){return new kW(e,!1)}const xC={draw(e,t){const r=ol(t/_b);e.moveTo(r,0),e.arc(0,0,r,0,O5)}},uSe={draw(e,t){const r=ol(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PW=ol(1/3),fSe=PW*2,hSe={draw(e,t){const r=ol(t/fSe),n=r*PW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dSe={draw(e,t){const r=ol(t),n=-r/2;e.rect(n,n,r,r)}},pSe=.8908130915292852,CW=wb(_b/10)/wb(7*_b/10),mSe=wb(O5/10)*CW,gSe=-wW(O5/10)*CW,vSe={draw(e,t){const r=ol(t*pSe),n=mSe*r,a=gSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=O5*i/5,o=wW(s),l=wb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},KS=ol(3),ySe={draw(e,t){const r=-ol(t/(KS*3));e.moveTo(0,r*2),e.lineTo(-KS*r,-r),e.lineTo(KS*r,-r),e.closePath()}},Xs=-.5,Qs=ol(3)/2,GT=1/ol(12),xSe=(GT/2+1)*3,bSe={draw(e,t){const r=ol(t/xSe),n=r/2,a=r*GT,i=n,s=r*GT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Xs*n-Qs*a,Qs*n+Xs*a),e.lineTo(Xs*i-Qs*s,Qs*i+Xs*s),e.lineTo(Xs*o-Qs*l,Qs*o+Xs*l),e.lineTo(Xs*n+Qs*a,Xs*a-Qs*n),e.lineTo(Xs*i+Qs*s,Xs*s-Qs*i),e.lineTo(Xs*o+Qs*l,Xs*l-Qs*o),e.closePath()}};function wSe(e,t){let r=null,n=vC(a);e=typeof e=="function"?e:cn(e||xC),t=typeof t=="function"?t:cn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:cn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:cn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Sb(){}function Ab(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NW(e){this._context=e}NW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ab(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Se(e){return new NW(e)}function OW(e){this._context=e}OW.prototype={areaStart:Sb,areaEnd:Sb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SSe(e){return new OW(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ab(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ASe(e){return new IW(e)}function DW(e){this._context=e}DW.prototype={areaStart:Sb,areaEnd:Sb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TSe(e){return new DW(e)}function FL(e){return e<0?-1:1}function $L(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(FL(i)+FL(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function BL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Tb(e){this._context=e}Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YS(this,this._t0,BL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YS(this,BL(this,r=$L(this,e,t)),r);break;default:YS(this,this._t0,r=$L(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LW(e){this._context=new jW(e)}(LW.prototype=Object.create(Tb.prototype)).point=function(e,t){Tb.prototype.point.call(this,t,e)};function jW(e){this._context=e}jW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ESe(e){return new Tb(e)}function kSe(e){return new LW(e)}function MW(e){this._context=e}MW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=VL(e),a=VL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function VL(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function PSe(e){return new MW(e)}function D5(e,t){this._context=e,this._t=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CSe(e){return new D5(e,.5)}function NSe(e){return new D5(e,0)}function OSe(e){return new D5(e,1)}function ip(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function KT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ISe(e,t){return e[t]}function DSe(e){const t=[];return t.key=e,t}function LSe(){var e=cn([]),t=KT,r=ip,n=ISe;function a(i){var s=Array.from(e.apply(this,arguments),DSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=yC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:cn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?KT:typeof i=="function"?i:cn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ip,a):r},a}function jSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}ip(e,t)}}function MSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}ip(e,t)}}function RSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,m=0;m<o;++m){var p=e[t[m]],v=p[n][1]||0,y=p[n-1][1]||0;d+=v-y}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ip(e,t)}}function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}var FSe=["type","size","sizeType"];function YT(){return YT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YT.apply(this,arguments)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){$Se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Se(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=VSe(e,"string");return R1(t)=="symbol"?t:t+""}function VSe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function USe(e,t){if(e==null)return{};var r=zSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RW={symbolCircle:xC,symbolCross:uSe,symbolDiamond:hSe,symbolSquare:dSe,symbolStar:vSe,symbolTriangle:ySe,symbolWye:bSe},qSe=Math.PI/180,WSe=function(t){var r="symbol".concat(N5(t));return RW[r]||xC},HSe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*qSe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GSe=function(t,r){RW["symbol".concat(N5(t))]=r},bC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=USe(t,FSe),c=zL(zL({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=WSe(n),y=wSe().type(v).size(HSe(i,o,n));return y()},f=c.className,h=c.cx,d=c.cy,m=pr(c,!0);return h===+h&&d===+d&&i===+i?Ne.createElement("path",YT({},m,{className:Cr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};bC.registerSymbol=GSe;function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){F1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$W(n.key),n)}}function QSe(e,t,r){return t&&XSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JSe(e,t,r){return t=Eb(t),ZSe(e,FW()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function ZSe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(e)}function eAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function tAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QT(e,t)}function QT(e,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QT(e,t)}function F1(e,t,r){return t=$W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=rAe(e,"string");return sp(t)=="symbol"?t:t+""}function rAe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Js=32,wC=function(e){function t(){return YSe(this,t),JSe(this,t,arguments)}return tAe(t,e),QSe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Js/2,s=Js/6,o=Js/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Js,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Js,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(n.legendIcon)){var c=KSe({},n);return delete c.legendIcon,Ne.cloneElement(n.legendIcon,c)}return Ne.createElement(bC,{fill:l,cx:i,cy:i,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Js,height:Js},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,m){var p=d.formatter||l,v=Cr(F1(F1({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=ar(d.value)?null:d.value;wc(!ar(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=d.inactive?c:d.color;return Ne.createElement("li",XT({className:v,style:f,key:"legend-item-".concat(m)},bb(n.props,d,m)),Ne.createElement(VT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},p?p(y,d,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Z.PureComponent);F1(wC,"displayName","Legend");F1(wC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nAe=v5;function aAe(){this.__data__=new nAe,this.size=0}var iAe=aAe;function sAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var oAe=sAe;function lAe(e){return this.__data__.get(e)}var cAe=lAe;function uAe(e){return this.__data__.has(e)}var fAe=uAe,hAe=v5,dAe=lC,pAe=cC,mAe=200;function gAe(e,t){var r=this.__data__;if(r instanceof hAe){var n=r.__data__;if(!dAe||n.length<mAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pAe(n)}return r.set(e,t),this.size=r.size,this}var vAe=gAe,yAe=v5,xAe=iAe,bAe=oAe,wAe=cAe,_Ae=fAe,SAe=vAe;function Qp(e){var t=this.__data__=new yAe(e);this.size=t.size}Qp.prototype.clear=xAe;Qp.prototype.delete=bAe;Qp.prototype.get=wAe;Qp.prototype.has=_Ae;Qp.prototype.set=SAe;var BW=Qp,AAe="__lodash_hash_undefined__";function TAe(e){return this.__data__.set(e,AAe),this}var EAe=TAe;function kAe(e){return this.__data__.has(e)}var PAe=kAe,CAe=cC,NAe=EAe,OAe=PAe;function kb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new CAe;++t<r;)this.add(e[t])}kb.prototype.add=kb.prototype.push=NAe;kb.prototype.has=OAe;var VW=kb;function IAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var UW=IAe;function DAe(e,t){return e.has(t)}var zW=DAe,LAe=VW,jAe=UW,MAe=zW,RAe=1,FAe=2;function $Ae(e,t,r,n,a,i){var s=r&RAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&FAe?new LAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],p=t[f];if(n)var v=s?n(p,m,f,t,e,i):n(m,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!jAe(t,function(y,_){if(!MAe(d,_)&&(m===y||a(m,y,r,n,i)))return d.push(_)})){h=!1;break}}else if(!(m===p||a(m,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var qW=$Ae,BAe=zl,VAe=BAe.Uint8Array,UAe=VAe;function zAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var qAe=zAe;function WAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _C=WAe,WL=Wv,HL=UAe,HAe=oC,GAe=qW,KAe=qAe,YAe=_C,XAe=1,QAe=2,JAe="[object Boolean]",ZAe="[object Date]",e4e="[object Error]",t4e="[object Map]",r4e="[object Number]",n4e="[object RegExp]",a4e="[object Set]",i4e="[object String]",s4e="[object Symbol]",o4e="[object ArrayBuffer]",l4e="[object DataView]",GL=WL?WL.prototype:void 0,XS=GL?GL.valueOf:void 0;function c4e(e,t,r,n,a,i,s){switch(r){case l4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case o4e:return!(e.byteLength!=t.byteLength||!i(new HL(e),new HL(t)));case JAe:case ZAe:case r4e:return HAe(+e,+t);case e4e:return e.name==t.name&&e.message==t.message;case n4e:case i4e:return e==t+"";case t4e:var o=KAe;case a4e:var l=n&XAe;if(o||(o=YAe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=QAe,s.set(e,t);var u=GAe(o(e),o(t),n,a,i,s);return s.delete(e),u;case s4e:if(XS)return XS.call(e)==XS.call(t)}return!1}var u4e=c4e;function f4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var WW=f4e,h4e=WW,d4e=hs;function p4e(e,t,r){var n=t(e);return d4e(e)?n:h4e(n,r(e))}var m4e=p4e;function g4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var v4e=g4e;function y4e(){return[]}var x4e=y4e,b4e=v4e,w4e=x4e,_4e=Object.prototype,S4e=_4e.propertyIsEnumerable,KL=Object.getOwnPropertySymbols,A4e=KL?function(e){return e==null?[]:(e=Object(e),b4e(KL(e),function(t){return S4e.call(e,t)}))}:w4e,T4e=A4e;function E4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k4e=E4e,P4e=Hc,C4e=Gc,N4e="[object Arguments]";function O4e(e){return C4e(e)&&P4e(e)==N4e}var I4e=O4e,YL=I4e,D4e=Gc,HW=Object.prototype,L4e=HW.hasOwnProperty,j4e=HW.propertyIsEnumerable,M4e=YL(function(){return arguments}())?YL:function(e){return D4e(e)&&L4e.call(e,"callee")&&!j4e.call(e,"callee")},SC=M4e,Pb={exports:{}};function R4e(){return!1}var F4e=R4e;Pb.exports;(function(e,t){var r=zl,n=F4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Pb,Pb.exports);var GW=Pb.exports,$4e=9007199254740991,B4e=/^(?:0|[1-9]\d*)$/;function V4e(e,t){var r=typeof e;return t=t??$4e,!!t&&(r=="number"||r!="symbol"&&B4e.test(e))&&e>-1&&e%1==0&&e<t}var AC=V4e,U4e=9007199254740991;function z4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=U4e}var TC=z4e,q4e=Hc,W4e=TC,H4e=Gc,G4e="[object Arguments]",K4e="[object Array]",Y4e="[object Boolean]",X4e="[object Date]",Q4e="[object Error]",J4e="[object Function]",Z4e="[object Map]",eTe="[object Number]",tTe="[object Object]",rTe="[object RegExp]",nTe="[object Set]",aTe="[object String]",iTe="[object WeakMap]",sTe="[object ArrayBuffer]",oTe="[object DataView]",lTe="[object Float32Array]",cTe="[object Float64Array]",uTe="[object Int8Array]",fTe="[object Int16Array]",hTe="[object Int32Array]",dTe="[object Uint8Array]",pTe="[object Uint8ClampedArray]",mTe="[object Uint16Array]",gTe="[object Uint32Array]",mn={};mn[lTe]=mn[cTe]=mn[uTe]=mn[fTe]=mn[hTe]=mn[dTe]=mn[pTe]=mn[mTe]=mn[gTe]=!0;mn[G4e]=mn[K4e]=mn[sTe]=mn[Y4e]=mn[oTe]=mn[X4e]=mn[Q4e]=mn[J4e]=mn[Z4e]=mn[eTe]=mn[tTe]=mn[rTe]=mn[nTe]=mn[aTe]=mn[iTe]=!1;function vTe(e){return H4e(e)&&W4e(e.length)&&!!mn[q4e(e)]}var yTe=vTe;function xTe(e){return function(t){return e(t)}}var KW=xTe,Cb={exports:{}};Cb.exports;(function(e,t){var r=rW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Cb,Cb.exports);var bTe=Cb.exports,wTe=yTe,_Te=KW,XL=bTe,QL=XL&&XL.isTypedArray,STe=QL?_Te(QL):wTe,YW=STe,ATe=k4e,TTe=SC,ETe=hs,kTe=GW,PTe=AC,CTe=YW,NTe=Object.prototype,OTe=NTe.hasOwnProperty;function ITe(e,t){var r=ETe(e),n=!r&&TTe(e),a=!r&&!n&&kTe(e),i=!r&&!n&&!a&&CTe(e),s=r||n||a||i,o=s?ATe(e.length,String):[],l=o.length;for(var c in e)(t||OTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||PTe(c,l)))&&o.push(c);return o}var DTe=ITe,LTe=Object.prototype;function jTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||LTe;return e===r}var MTe=jTe;function RTe(e,t){return function(r){return e(t(r))}}var XW=RTe,FTe=XW,$Te=FTe(Object.keys,Object),BTe=$Te,VTe=MTe,UTe=BTe,zTe=Object.prototype,qTe=zTe.hasOwnProperty;function WTe(e){if(!VTe(e))return UTe(e);var t=[];for(var r in Object(e))qTe.call(e,r)&&r!="constructor"&&t.push(r);return t}var HTe=WTe,GTe=sC,KTe=TC;function YTe(e){return e!=null&&KTe(e.length)&&!GTe(e)}var Kv=YTe,XTe=DTe,QTe=HTe,JTe=Kv;function ZTe(e){return JTe(e)?XTe(e):QTe(e)}var L5=ZTe,eEe=m4e,tEe=T4e,rEe=L5;function nEe(e){return eEe(e,rEe,tEe)}var aEe=nEe,JL=aEe,iEe=1,sEe=Object.prototype,oEe=sEe.hasOwnProperty;function lEe(e,t,r,n,a,i){var s=r&iEe,o=JL(e),l=o.length,c=JL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:oEe.call(t,h)))return!1}var d=i.get(e),m=i.get(t);if(d&&m)return d==t&&m==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],_=t[h];if(n)var w=s?n(_,y,h,t,e,i):n(y,_,h,e,t,i);if(!(w===void 0?y===_||a(y,_,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var O=e.constructor,k=t.constructor;O!=k&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(p=!1)}return i.delete(e),i.delete(t),p}var cEe=lEe,uEe=fd,fEe=zl,hEe=uEe(fEe,"DataView"),dEe=hEe,pEe=fd,mEe=zl,gEe=pEe(mEe,"Promise"),vEe=gEe,yEe=fd,xEe=zl,bEe=yEe(xEe,"Set"),QW=bEe,wEe=fd,_Ee=zl,SEe=wEe(_Ee,"WeakMap"),AEe=SEe,JT=dEe,ZT=lC,eE=vEe,tE=QW,rE=AEe,JW=Hc,Jp=aW,ZL="[object Map]",TEe="[object Object]",ej="[object Promise]",tj="[object Set]",rj="[object WeakMap]",nj="[object DataView]",EEe=Jp(JT),kEe=Jp(ZT),PEe=Jp(eE),CEe=Jp(tE),NEe=Jp(rE),hh=JW;(JT&&hh(new JT(new ArrayBuffer(1)))!=nj||ZT&&hh(new ZT)!=ZL||eE&&hh(eE.resolve())!=ej||tE&&hh(new tE)!=tj||rE&&hh(new rE)!=rj)&&(hh=function(e){var t=JW(e),r=t==TEe?e.constructor:void 0,n=r?Jp(r):"";if(n)switch(n){case EEe:return nj;case kEe:return ZL;case PEe:return ej;case CEe:return tj;case NEe:return rj}return t});var OEe=hh,QS=BW,IEe=qW,DEe=u4e,LEe=cEe,aj=OEe,ij=hs,sj=GW,jEe=YW,MEe=1,oj="[object Arguments]",lj="[object Array]",mx="[object Object]",REe=Object.prototype,cj=REe.hasOwnProperty;function FEe(e,t,r,n,a,i){var s=ij(e),o=ij(t),l=s?lj:aj(e),c=o?lj:aj(t);l=l==oj?mx:l,c=c==oj?mx:c;var u=l==mx,f=c==mx,h=l==c;if(h&&sj(e)){if(!sj(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new QS),s||jEe(e)?IEe(e,t,r,n,a,i):DEe(e,t,l,r,n,a,i);if(!(r&MEe)){var d=u&&cj.call(e,"__wrapped__"),m=f&&cj.call(t,"__wrapped__");if(d||m){var p=d?e.value():e,v=m?t.value():t;return i||(i=new QS),a(p,v,r,n,i)}}return h?(i||(i=new QS),LEe(e,t,r,n,a,i)):!1}var $Ee=FEe,BEe=$Ee,uj=Gc;function ZW(e,t,r,n,a){return e===t?!0:e==null||t==null||!uj(e)&&!uj(t)?e!==e&&t!==t:BEe(e,t,r,n,ZW,a)}var EC=ZW,VEe=BW,UEe=EC,zEe=1,qEe=2;function WEe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new VEe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?UEe(u,c,zEe|qEe,n,f):h))return!1}}return!0}var HEe=WEe,GEe=Lf;function KEe(e){return e===e&&!GEe(e)}var eH=KEe,YEe=eH,XEe=L5;function QEe(e){for(var t=XEe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,YEe(a)]}return t}var JEe=QEe;function ZEe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tH=ZEe,e3e=HEe,t3e=JEe,r3e=tH;function n3e(e){var t=t3e(e);return t.length==1&&t[0][2]?r3e(t[0][0],t[0][1]):function(r){return r===e||e3e(r,e,t)}}var a3e=n3e;function i3e(e,t){return e!=null&&t in Object(e)}var s3e=i3e,o3e=cW,l3e=SC,c3e=hs,u3e=AC,f3e=TC,h3e=x5;function d3e(e,t,r){t=o3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=h3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&f3e(a)&&u3e(s,a)&&(c3e(e)||l3e(e)))}var p3e=d3e,m3e=s3e,g3e=p3e;function v3e(e,t){return e!=null&&g3e(e,t,m3e)}var y3e=v3e,x3e=EC,b3e=uW,w3e=y3e,_3e=iC,S3e=eH,A3e=tH,T3e=x5,E3e=1,k3e=2;function P3e(e,t){return _3e(e)&&S3e(t)?A3e(T3e(e),t):function(r){var n=b3e(r,e);return n===void 0&&n===t?w3e(r,e):x3e(t,n,E3e|k3e)}}var C3e=P3e;function N3e(e){return e}var Zp=N3e;function O3e(e){return function(t){return t==null?void 0:t[e]}}var I3e=O3e,D3e=hC;function L3e(e){return function(t){return D3e(t,e)}}var j3e=L3e,M3e=I3e,R3e=j3e,F3e=iC,$3e=x5;function B3e(e){return F3e(e)?M3e($3e(e)):R3e(e)}var V3e=B3e,U3e=a3e,z3e=C3e,q3e=Zp,W3e=hs,H3e=V3e;function G3e(e){return typeof e=="function"?e:e==null?q3e:typeof e=="object"?W3e(e)?z3e(e[0],e[1]):U3e(e):H3e(e)}var jf=G3e;function K3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var rH=K3e;function Y3e(e){return e!==e}var X3e=Y3e;function Q3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var J3e=Q3e,Z3e=rH,eke=X3e,tke=J3e;function rke(e,t,r){return t===t?tke(e,t,r):Z3e(e,eke,r)}var nke=rke,ake=nke;function ike(e,t){var r=e==null?0:e.length;return!!r&&ake(e,t,0)>-1}var ske=ike;function oke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var lke=oke;function cke(){}var uke=cke,JS=QW,fke=uke,hke=_C,dke=1/0,pke=JS&&1/hke(new JS([,-0]))[1]==dke?function(e){return new JS(e)}:fke,mke=pke,gke=VW,vke=ske,yke=lke,xke=zW,bke=mke,wke=_C,_ke=200;function Ske(e,t,r){var n=-1,a=vke,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=yke;else if(i>=_ke){var c=t?null:bke(e);if(c)return wke(c);s=!1,a=xke,l=new gke}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Ake=Ske,Tke=jf,Eke=Ake;function kke(e,t){return e&&e.length?Eke(e,Tke(t)):[]}var Pke=kke;const fj=Zr(Pke);function nH(e,t,r){return t===!0?fj(e,r):ar(t)?fj(e,t):e}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var Cke=["ref"];function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){j5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function Oke(e,t,r){return t&&dj(e.prototype,t),r&&dj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ike(e,t,r){return t=Nb(t),Dke(e,aH()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function Dke(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lke(e)}function Lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function j5(e,t,r){return t=iH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=Mke(e,"string");return op(t)=="symbol"?t:t+""}function Mke(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rke(e,t){if(e==null)return{};var r=Fke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ke(e){return e.value}function Bke(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if(typeof e=="function")return Ne.createElement(e,t);t.ref;var r=Rke(t,Cke);return Ne.createElement(wC,r)}var pj=1,_c=function(e){function t(){var r;Nke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ike(this,t,[].concat(a)),j5(r,"lastBoundingBox",{width:-1,height:-1}),r}return jke(t,e),Oke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>pj||Math.abs(a.height-this.lastBoundingBox.height)>pj)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ic({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ic(ic({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=ic(ic({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Bke(i,ic(ic({},this.props),{},{payload:nH(u,c,$ke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ic(ic({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&bt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(Z.PureComponent);j5(_c,"displayName","Legend");j5(_c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mj=Wv,Vke=SC,Uke=hs,gj=mj?mj.isConcatSpreadable:void 0;function zke(e){return Uke(e)||Vke(e)||!!(gj&&e&&e[gj])}var qke=zke,Wke=WW,Hke=qke;function sH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Hke),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?sH(o,t-1,r,n,a):Wke(a,o):n||(a[a.length]=o)}return a}var oH=sH;function Gke(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var Kke=Gke,Yke=Kke,Xke=Yke(),Qke=Xke,Jke=Qke,Zke=L5;function ePe(e,t){return e&&Jke(e,t,Zke)}var lH=ePe,tPe=Kv;function rPe(e,t){return function(r,n){if(r==null)return r;if(!tPe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var nPe=rPe,aPe=lH,iPe=nPe,sPe=iPe(aPe),kC=sPe,oPe=kC,lPe=Kv;function cPe(e,t){var r=-1,n=lPe(e)?Array(e.length):[];return oPe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var cH=cPe;function uPe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var fPe=uPe,vj=Hp;function hPe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=vj(e),s=t!==void 0,o=t===null,l=t===t,c=vj(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var dPe=hPe,pPe=dPe;function mPe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=pPe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var gPe=mPe,ZS=fC,vPe=hC,yPe=jf,xPe=cH,bPe=fPe,wPe=KW,_Pe=gPe,SPe=Zp,APe=hs;function TPe(e,t,r){t.length?t=ZS(t,function(i){return APe(i)?function(s){return vPe(s,i.length===1?i[0]:i)}:i}):t=[SPe];var n=-1;t=ZS(t,wPe(yPe));var a=xPe(e,function(i,s,o){var l=ZS(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return bPe(a,function(i,s){return _Pe(i,s,r)})}var EPe=TPe;function kPe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var PPe=kPe,CPe=PPe,yj=Math.max;function NPe(e,t,r){return t=yj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=yj(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),CPe(e,this,o)}}var OPe=NPe;function IPe(e){return function(){return e}}var DPe=IPe,LPe=fd,jPe=function(){try{var e=LPe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uH=jPe,MPe=DPe,xj=uH,RPe=Zp,FPe=xj?function(e,t){return xj(e,"toString",{configurable:!0,enumerable:!1,value:MPe(t),writable:!0})}:RPe,$Pe=FPe,BPe=800,VPe=16,UPe=Date.now;function zPe(e){var t=0,r=0;return function(){var n=UPe(),a=VPe-(n-r);if(r=n,a>0){if(++t>=BPe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qPe=zPe,WPe=$Pe,HPe=qPe,GPe=HPe(WPe),KPe=GPe,YPe=Zp,XPe=OPe,QPe=KPe;function JPe(e,t){return QPe(XPe(e,t,YPe),e+"")}var ZPe=JPe,eCe=oC,tCe=Kv,rCe=AC,nCe=Lf;function aCe(e,t,r){if(!nCe(r))return!1;var n=typeof t;return(n=="number"?tCe(r)&&rCe(t,r.length):n=="string"&&t in r)?eCe(r[t],e):!1}var M5=aCe,iCe=oH,sCe=EPe,oCe=ZPe,bj=M5,lCe=oCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bj(e,t[0],t[1])?t=[]:r>2&&bj(t[0],t[1],t[2])&&(t=[t[0]]),sCe(e,iCe(t,1),[])}),cCe=lCe;const PC=Zr(cCe);function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}function uCe(e,t){return pCe(e)||dCe(e,t)||hCe(e,t)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(e,t){if(e){if(typeof e=="string")return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}}function wj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pCe(e){if(Array.isArray(e))return e}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){mCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mCe(e,t,r){return t=gCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=vCe(e,"string");return $1(t)=="symbol"?t:t+""}function vCe(e,t){if($1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yCe(e){return Array.isArray(e)&&ba(e[0])&&ba(e[1])?e.join(" ~ "):e}var xCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,m=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,_=y===void 0?!1:y,w=function(){if(u&&u.length){var N={padding:0,margin:0},j=(h?PC(u,h):u).map(function(H,X){if(H.type==="none")return null;var re=eA({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),J=H.formatter||f||yCe,q=H.value,B=H.name,ne=q,ce=B;if(J&&ne!=null&&ce!=null){var D=J(q,B,H,X,u);if(Array.isArray(D)){var F=uCe(D,2);ne=F[0],ce=F[1]}else ne=D}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:re},ba(ce)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,ba(ce)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},ne),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:N},j)}return null},O=eA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=eA({margin:0},c),C=!fr(p),T=C?p:"",S=Cr("recharts-default-tooltip",d),A=Cr("recharts-tooltip-label",m);C&&v&&u!==void 0&&u!==null&&(T=v(p,u));var I=_?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",aE({className:S,style:O},I),Ne.createElement("p",{className:A,style:k},Ne.isValidElement(T)?T:"".concat(T)),w())};function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function gx(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return B1(t)=="symbol"?t:t+""}function wCe(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mm="recharts-tooltip-wrapper",_Ce={visibility:"hidden"};function SCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Cr(Mm,gx(gx(gx(gx({},"".concat(Mm,"-right"),bt(r)&&t&&bt(t.x)&&r>=t.x),"".concat(Mm,"-left"),bt(r)&&t&&bt(t.x)&&r<t.x),"".concat(Mm,"-bottom"),bt(n)&&t&&bt(t.y)&&n>=t.y),"".concat(Mm,"-top"),bt(n)&&t&&bt(t.y)&&n<t.y))}function Sj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&bt(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+o,p=l[n]+c;return m>p?Math.max(u,l[n]):Math.max(f,l[n])}function ACe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=Sj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Sj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ACe({translateX:u,translateY:f,useTranslate3d:o})):c=_Ce,{cssProperties:c,cssClasses:SCe({translateX:u,translateY:f,coordinate:r})}}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){sE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function PCe(e,t,r){return t&&kCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CCe(e,t,r){return t=Ob(t),NCe(e,fH()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function NCe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(e)}function OCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function ICe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function sE(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=DCe(e,"string");return lp(t)=="symbol"?t:t+""}function DCe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ej=1,LCe=function(e){function t(){var r;ECe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CCe(this,t,[].concat(a)),sE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return ICe(t,e),PCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Ej||Math.abs(n.height-this.state.lastBoundingBox.height)>Ej)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,m=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,w=TCe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=w.cssClasses,k=w.cssProperties,C=Tj(Tj({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return Ne.createElement("div",{tabIndex:-1,className:O,style:C,ref:function(S){n.wrapperNode=S}},c)}}])}(Z.PureComponent),jCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sc={isSsr:jCe(),get:function(t){return Sc[t]},set:function(t,r){if(typeof t=="string")Sc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Sc[a]=t[a]})}}};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){CC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function FCe(e,t,r){return t&&RCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ce(e,t,r){return t=Ib(t),BCe(e,dH()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function BCe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(e)}function VCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function UCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oE(e,t)}function CC(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=zCe(e,"string");return cp(t)=="symbol"?t:t+""}function zCe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qCe(e){return e.dataKey}function WCe(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):typeof e=="function"?Ne.createElement(e,t):Ne.createElement(xCe,t)}var no=function(e){function t(){return MCe(this,t),$Ce(this,t,arguments)}return UCe(t,e),FCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,m=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,_=a.useTranslate3d,w=a.viewBox,O=a.wrapperStyle,k=m??[];f&&k.length&&(k=nH(m.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),p,qCe));var C=k.length>0;return Ne.createElement(LCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:C,offset:d,position:v,reverseDirection:y,useTranslate3d:_,viewBox:w,wrapperStyle:O},WCe(c,Pj(Pj({},this.props),{},{payload:k})))}}])}(Z.PureComponent);CC(no,"displayName","Tooltip");CC(no,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HCe=zl,GCe=function(){return HCe.Date.now()},KCe=GCe,YCe=/\s/;function XCe(e){for(var t=e.length;t--&&YCe.test(e.charAt(t)););return t}var QCe=XCe,JCe=QCe,ZCe=/^\s+/;function eNe(e){return e&&e.slice(0,JCe(e)+1).replace(ZCe,"")}var tNe=eNe,rNe=tNe,Cj=Lf,nNe=Hp,Nj=NaN,aNe=/^[-+]0x[0-9a-f]+$/i,iNe=/^0b[01]+$/i,sNe=/^0o[0-7]+$/i,oNe=parseInt;function lNe(e){if(typeof e=="number")return e;if(nNe(e))return Nj;if(Cj(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cj(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rNe(e);var r=iNe.test(e);return r||sNe.test(e)?oNe(e.slice(2),r?2:8):aNe.test(e)?Nj:+e}var mH=lNe,cNe=Lf,tA=KCe,Oj=mH,uNe="Expected a function",fNe=Math.max,hNe=Math.min;function dNe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(uNe);t=Oj(t)||0,cNe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?fNe(Oj(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(C){var T=n,S=a;return n=a=void 0,c=C,s=e.apply(S,T),s}function m(C){return c=C,o=setTimeout(y,t),u?d(C):s}function p(C){var T=C-l,S=C-c,A=t-T;return f?hNe(A,i-S):A}function v(C){var T=C-l,S=C-c;return l===void 0||T>=t||T<0||f&&S>=i}function y(){var C=tA();if(v(C))return _(C);o=setTimeout(y,p(C))}function _(C){return o=void 0,h&&n?d(C):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:_(tA())}function k(){var C=tA(),T=v(C);if(n=arguments,a=this,l=C,T){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(y,t),d(l)}return o===void 0&&(o=setTimeout(y,t)),s}return k.cancel=w,k.flush=O,k}var pNe=dNe,mNe=pNe,gNe=Lf,vNe="Expected a function";function yNe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(vNe);return gNe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mNe(e,t,{leading:n,maxWait:t,trailing:a})}var xNe=yNe;const gH=Zr(xNe);function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=_Ne(e,"string");return V1(t)=="symbol"?t:t+""}function _Ne(e,t){if(V1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e,t){return kNe(e)||ENe(e,t)||TNe(e,t)||ANe()}function ANe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e,t){if(e){if(typeof e=="string")return Dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(e,t)}}function Dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ENe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function kNe(e){if(Array.isArray(e))return e}var rA=Z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,m=e.debounce,p=m===void 0?0:m,v=e.id,y=e.className,_=e.onResize,w=e.style,O=w===void 0?{}:w,k=Z.useRef(null),C=Z.useRef();C.current=_,Z.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var T=Z.useState({containerWidth:a.width,containerHeight:a.height}),S=SNe(T,2),A=S[0],I=S[1],E=Z.useCallback(function(j,H){I(function(X){var re=Math.round(j),J=Math.round(H);return X.containerWidth===re&&X.containerHeight===J?X:{containerWidth:re,containerHeight:J}})},[]);Z.useEffect(function(){var j=function(B){var ne,ce=B[0].contentRect,D=ce.width,F=ce.height;E(D,F),(ne=C.current)===null||ne===void 0||ne.call(C,D,F)};p>0&&(j=gH(j,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(j),X=k.current.getBoundingClientRect(),re=X.width,J=X.height;return E(re,J),H.observe(k.current),function(){H.disconnect()}},[E,p]);var N=Z.useMemo(function(){var j=A.containerWidth,H=A.containerHeight;if(j<0||H<0)return null;wc(Sh(s)||Sh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),wc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var X=Sh(s)?j:s,re=Sh(l)?H:l;r&&r>0&&(X?re=X/r:re&&(X=re*r),h&&re>h&&(re=h)),wc(X>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,X,re,s,l,u,f,r);var J=!Array.isArray(d)&&bc(d.type).endsWith("Chart");return Ne.Children.map(d,function(q){return Ne.isValidElement(q)?Z.cloneElement(q,vx({width:X,height:re},J?{style:vx({height:"100%",width:"100%",maxHeight:re,maxWidth:X},q.props.style)}:{})):q})},[r,d,l,h,f,u,A,s]);return Ne.createElement("div",{id:v?"".concat(v):void 0,className:Cr("recharts-responsive-container",y),style:vx(vx({},O),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:k},N)}),vH=function(t){return null};vH.displayName="Cell";function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){PNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PNe(e,t,r){return t=CNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CNe(e){var t=NNe(e,"string");return U1(t)=="symbol"?t:t+""}function NNe(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd={widthCache:{},cacheCount:0},ONe=2e3,INe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jj="recharts_measurement_span";function DNe(e){var t=lE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sc.isSsr)return{width:0,height:0};var n=DNe(r),a=JSON.stringify({text:t,copyStyle:n});if(Vd.widthCache[a])return Vd.widthCache[a];try{var i=document.getElementById(jj);i||(i=document.createElement("span"),i.setAttribute("id",jj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=lE(lE({},INe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Vd.widthCache[a]=l,++Vd.cacheCount>ONe&&(Vd.cacheCount=0,Vd.widthCache={}),l}catch{return{width:0,height:0}}},LNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function Db(e,t){return FNe(e)||RNe(e,t)||MNe(e,t)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(e,t){if(e){if(typeof e=="string")return Mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(e,t)}}function Mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FNe(e){if(Array.isArray(e))return e}function $Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VNe(n.key),n)}}function BNe(e,t,r){return t&&Rj(e.prototype,t),r&&Rj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e){var t=UNe(e,"string");return z1(t)=="symbol"?t:t+""}function UNe(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$j=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WNe=Object.keys(yH),g0="NaN";function HNe(e,t){return e*yH[t]}var yx=function(){function e(t,r){$Ne(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!zNe.test(r)&&(this.num=NaN,this.unit=""),WNe.includes(r)&&(this.num=HNe(t,r),this.unit="px")}return BNe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=qNe.exec(r))!==null&&n!==void 0?n:[],i=Db(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function xH(e){if(e.includes(g0))return g0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Fj.exec(t))!==null&&r!==void 0?r:[],a=Db(n,4),i=a[1],s=a[2],o=a[3],l=yx.parse(i??""),c=yx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return g0;t=t.replace(Fj,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=$j.exec(t))!==null&&f!==void 0?f:[],d=Db(h,4),m=d[1],p=d[2],v=d[3],y=yx.parse(m??""),_=yx.parse(v??""),w=p==="+"?y.add(_):y.subtract(_);if(w.isNaN())return g0;t=t.replace($j,w.toString())}return t}var Bj=/\(([^()]*)\)/;function GNe(e){for(var t=e;t.includes("(");){var r=Bj.exec(t),n=Db(r,2),a=n[1];t=t.replace(Bj,xH(a))}return t}function KNe(e){var t=e.replace(/\s+/g,"");return t=GNe(t),t=xH(t),t}function YNe(e){try{return KNe(e)}catch{return g0}}function nA(e){var t=YNe(e.slice(5,-1));return t===g0?"":t}var XNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QNe=["dx","dy","angle","className","breakAll"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cE.apply(this,arguments)}function Vj(e,t){if(e==null)return{};var r=JNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uj(e,t){return r6e(e)||t6e(e,t)||e6e(e,t)||ZNe()}function ZNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6e(e,t){if(e){if(typeof e=="string")return zj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(e,t)}}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function r6e(e){if(Array.isArray(e))return e}var bH=/[ \f\n\r\t\v\u2028\u2029]+/,wH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];fr(r)||(n?i=r.toString().split(""):i=r.toString().split(bH));var s=i.map(function(l){return{word:l,width:Rg(l,a).width}}),o=n?0:Rg("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},n6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=bt(s),f=o,h=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce(function(re,J){var q=J.word,B=J.width,ne=re[re.length-1];if(ne&&(a==null||i||ne.width+B+n<Number(a)))ne.words.push(q),ne.width+=B+n;else{var ce={words:[q],width:B};re.push(ce)}return re},[])},d=h(r),m=function(X){return X.reduce(function(re,J){return re.width>J.width?re:J})};if(!u)return d;for(var p="",v=function(X){var re=f.slice(0,X),J=wH({breakAll:c,style:l,children:re+p}).wordsWithComputedWidth,q=h(J),B=q.length>s||m(q).width>Number(a);return[B,q]},y=0,_=f.length-1,w=0,O;y<=_&&w<=f.length-1;){var k=Math.floor((y+_)/2),C=k-1,T=v(C),S=Uj(T,2),A=S[0],I=S[1],E=v(k),N=Uj(E,1),j=N[0];if(!A&&!j&&(y=k+1),A&&j&&(_=k-1),!A&&j){O=I;break}w++}return O||d},qj=function(t){var r=fr(t)?[]:t.toString().split(bH);return[{words:r}]},a6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Sc.isSsr){var l,c,u=wH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return qj(a);return n6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return qj(a)},Wj="#808080",Lb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,m=t.verticalAnchor,p=m===void 0?"end":m,v=t.fill,y=v===void 0?Wj:v,_=Vj(t,XNe),w=Z.useMemo(function(){return a6e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),O=_.dx,k=_.dy,C=_.angle,T=_.className,S=_.breakAll,A=Vj(_,QNe);if(!ba(n)||!ba(i))return null;var I=n+(bt(O)?O:0),E=i+(bt(k)?k:0),N;switch(p){case"start":N=nA("calc(".concat(c,")"));break;case"middle":N=nA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=nA("calc(".concat(w.length-1," * -").concat(o,")"));break}var j=[];if(f){var H=w[0].width,X=_.width;j.push("scale(".concat((bt(X)?X/H:1)/H,")"))}return C&&j.push("rotate(".concat(C,", ").concat(I,", ").concat(E,")")),j.length&&(A.transform=j.join(" ")),Ne.createElement("text",cE({},pr(A,!0),{x:I,y:E,className:Cr("recharts-text",T),textAnchor:d,fill:y.includes("url")?Wj:y}),w.map(function(re,J){var q=re.words.join(S?"":" ");return Ne.createElement("tspan",{x:I,dy:J===0?N:o,key:"".concat(q,"-").concat(J)},q)}))};function cf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NC(e){let t,r,n;e.length!==2?(t=cf,r=(o,l)=>cf(e(o),l),n=(o,l)=>e(o)-l):(t=e===cf||e===i6e?e:s6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function s6e(){return 0}function _H(e){return e===null?NaN:+e}function*o6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const l6e=NC(cf),Yv=l6e.right;NC(_H).center;class Hj extends Map{constructor(t,r=f6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Gj(this,t))}has(t){return super.has(Gj(this,t))}set(t,r){return super.set(c6e(this,t),r)}delete(t){return super.delete(u6e(this,t))}}function Gj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function c6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function u6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function f6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h6e(e=cf){if(e===cf)return SH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function SH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const d6e=Math.sqrt(50),p6e=Math.sqrt(10),m6e=Math.sqrt(2);function jb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=d6e?10:i>=p6e?5:i>=m6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?jb(e,t,r*2):[o,l,c]}function uE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?jb(t,e,r):jb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function fE(e,t,r){return t=+t,e=+e,r=+r,jb(e,t,r)[2]}function hE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fE(t,e,r):fE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Kj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Yj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?SH:h6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));AH(e,t,d,m,a)}const i=e[t];let s=r,o=n;for(Rm(e,r,t),a(e[n],i)>0&&Rm(e,r,n);s<o;){for(Rm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Rm(e,r,o):(++o,Rm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Rm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g6e(e,t,r){if(e=Float64Array.from(o6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Yj(e);if(t>=1)return Kj(e);var n,a=(n-1)*t,i=Math.floor(a),s=Kj(AH(e,i).subarray(0,i+1)),o=Yj(e.subarray(i+1));return s+(o-s)*(a-i)}}function v6e(e,t,r=_H){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function y6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function bo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dE=Symbol("implicit");function OC(){var e=new Hj,t=[],r=[],n=dE;function a(i){let s=e.get(i);if(s===void 0){if(n!==dE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Hj;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OC(t,r).unknown(n)},bo.apply(a,arguments),a}function q1(){var e=OC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,m=d?a:n,p=d?n:a;i=(p-m)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),m+=(p-m-i*(h-l))*u,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=y6e(h).map(function(y){return m+i*y});return r(d?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return q1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},bo.apply(f(),arguments)}function TH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TH(t())},e}function Fg(){return TH(q1.apply(null,arguments).paddingInner(1))}function IC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function EH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xv(){}var W1=.7,Mb=1/W1,M0="\\s*([+-]?\\d+)\\s*",H1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x6e=/^#([0-9a-f]{3,8})$/,b6e=new RegExp(`^rgb\\(${M0},${M0},${M0}\\)$`),w6e=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),_6e=new RegExp(`^rgba\\(${M0},${M0},${M0},${H1}\\)$`),S6e=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${H1}\\)$`),A6e=new RegExp(`^hsl\\(${H1},${Ll},${Ll}\\)$`),T6e=new RegExp(`^hsla\\(${H1},${Ll},${Ll},${H1}\\)$`),Xj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IC(Xv,G1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qj,formatHex:Qj,formatHex8:E6e,formatHsl:k6e,formatRgb:Jj,toString:Jj});function Qj(){return this.rgb().formatHex()}function E6e(){return this.rgb().formatHex8()}function k6e(){return kH(this).formatHsl()}function Jj(){return this.rgb().formatRgb()}function G1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Zj(t):r===3?new os(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b6e.exec(e))?new os(t[1],t[2],t[3],1):(t=w6e.exec(e))?new os(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_6e.exec(e))?xx(t[1],t[2],t[3],t[4]):(t=S6e.exec(e))?xx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=A6e.exec(e))?rM(t[1],t[2]/100,t[3]/100,1):(t=T6e.exec(e))?rM(t[1],t[2]/100,t[3]/100,t[4]):Xj.hasOwnProperty(e)?Zj(Xj[e]):e==="transparent"?new os(NaN,NaN,NaN,0):null}function Zj(e){return new os(e>>16&255,e>>8&255,e&255,1)}function xx(e,t,r,n){return n<=0&&(e=t=r=NaN),new os(e,t,r,n)}function P6e(e){return e instanceof Xv||(e=G1(e)),e?(e=e.rgb(),new os(e.r,e.g,e.b,e.opacity)):new os}function pE(e,t,r,n){return arguments.length===1?P6e(e):new os(e,t,r,n??1)}function os(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IC(os,pE,EH(Xv,{brighter(e){return e=e==null?Mb:Math.pow(Mb,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?W1:Math.pow(W1,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new os(Lh(this.r),Lh(this.g),Lh(this.b),Rb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eM,formatHex:eM,formatHex8:C6e,formatRgb:tM,toString:tM}));function eM(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}`}function C6e(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}${Ah((isNaN(this.opacity)?1:this.opacity)*255)}`}function tM(){const e=Rb(this.opacity);return`${e===1?"rgb(":"rgba("}${Lh(this.r)}, ${Lh(this.g)}, ${Lh(this.b)}${e===1?")":`, ${e})`}`}function Rb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ah(e){return e=Lh(e),(e<16?"0":"")+e.toString(16)}function rM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Go(e,t,r,n)}function kH(e){if(e instanceof Go)return new Go(e.h,e.s,e.l,e.opacity);if(e instanceof Xv||(e=G1(e)),!e)return new Go;if(e instanceof Go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Go(s,o,l,e.opacity)}function N6e(e,t,r,n){return arguments.length===1?kH(e):new Go(e,t,r,n??1)}function Go(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IC(Go,N6e,EH(Xv,{brighter(e){return e=e==null?Mb:Math.pow(Mb,e),new Go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?W1:Math.pow(W1,e),new Go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new os(aA(e>=240?e-240:e+120,a,n),aA(e,a,n),aA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Go(nM(this.h),bx(this.s),bx(this.l),Rb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rb(this.opacity);return`${e===1?"hsl(":"hsla("}${nM(this.h)}, ${bx(this.s)*100}%, ${bx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nM(e){return e=(e||0)%360,e<0?e+360:e}function bx(e){return Math.max(0,Math.min(1,e||0))}function aA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const DC=e=>()=>e;function O6e(e,t){return function(r){return e+r*t}}function I6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D6e(e){return(e=+e)==1?PH:function(t,r){return r-t?I6e(t,r,e):DC(isNaN(t)?r:t)}}function PH(e,t){var r=t-e;return r?O6e(e,r):DC(isNaN(e)?t:e)}const aM=function e(t){var r=D6e(t);function n(a,i){var s=r((a=pE(a)).r,(i=pE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=PH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function L6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function j6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=em(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function R6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=em(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iA=new RegExp(mE.source,"g");function $6e(e){return function(){return e}}function B6e(e){return function(t){return e(t)+""}}function V6e(e,t){var r=mE.lastIndex=iA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=mE.exec(e))&&(a=iA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Fb(n,a)})),r=iA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?B6e(l[0].x):$6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function em(e,t){var r=typeof t,n;return t==null||r==="boolean"?DC(t):(r==="number"?Fb:r==="string"?(n=G1(t))?(t=n,aM):V6e:t instanceof G1?aM:t instanceof Date?R6e:j6e(t)?L6e:Array.isArray(t)?M6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F6e:Fb)(e,t)}function LC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function U6e(e,t){t===void 0&&(t=e,e=em);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function z6e(e){return function(){return e}}function $b(e){return+e}var iM=[0,1];function $i(e){return e}function gE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:z6e(isNaN(t)?NaN:.5)}function q6e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function W6e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=gE(a,n),i=r(s,i)):(n=gE(n,a),i=r(i,s)),function(o){return i(n(o))}}function H6e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=gE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Yv(e,o,1,n)-1;return i[l](a[l](o))}}function Qv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R5(){var e=iM,t=iM,r=em,n,a,i,s=$i,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==$i&&(s=q6e(e[0],e[h-1])),o=h>2?H6e:W6e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Fb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$b),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=LC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:$i,u()):s!==$i},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function jC(){return R5()($i,$i)}function G6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function up(e){return e=Bb(Math.abs(e)),e?e[1]:NaN}function K6e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Y6e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var X6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function K1(e){if(!(t=X6e.exec(e)))throw new Error("invalid format: "+e);var t;return new MC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}K1.prototype=MC.prototype;function MC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q6e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var CH;function J6e(e,t){var r=Bb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(CH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bb(e,Math.max(0,t+i-1))[0]}function sM(e,t){var r=Bb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const oM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sM(e*100,t),r:sM,s:J6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lM(e){return e}var cM=Array.prototype.map,uM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Z6e(e){var t=e.grouping===void 0||e.thousands===void 0?lM:K6e(cM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?lM:Y6e(cM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=K1(f);var h=f.fill,d=f.align,m=f.sign,p=f.symbol,v=f.zero,y=f.width,_=f.comma,w=f.precision,O=f.trim,k=f.type;k==="n"?(_=!0,k="g"):oM[k]||(w===void 0&&(w=12),O=!0,k="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var C=p==="$"?r:p==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",T=p==="$"?n:/[%p]/.test(k)?s:"",S=oM[k],A=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(E){var N=C,j=T,H,X,re;if(k==="c")j=S(E)+j,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),w),O&&(E=Q6e(E)),J&&+E==0&&m!=="+"&&(J=!1),N=(J?m==="("?m:o:m==="-"||m==="("?"":m)+N,j=(k==="s"?uM[8+CH/3]:"")+j+(J&&m==="("?")":""),A){for(H=-1,X=E.length;++H<X;)if(re=E.charCodeAt(H),48>re||re>57){j=(re===46?a+E.slice(H+1):E.slice(H))+j,E=E.slice(0,H);break}}}_&&!v&&(E=t(E,1/0));var q=N.length+E.length+j.length,B=q<y?new Array(y-q+1).join(h):"";switch(_&&v&&(E=t(B+E,B.length?y-j.length:1/0),B=""),d){case"<":E=N+E+j+B;break;case"=":E=N+B+E+j;break;case"^":E=B.slice(0,q=B.length>>1)+N+E+j+B.slice(q);break;default:E=B+N+E+j;break}return i(E)}return I.toString=function(){return f+""},I}function u(f,h){var d=c((f=K1(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(up(h)/3)))*3,p=Math.pow(10,-m),v=uM[8+m/3];return function(y){return d(p*y)+v}}return{format:c,formatPrefix:u}}var wx,RC,NH;eOe({thousands:",",grouping:[3],currency:["$",""]});function eOe(e){return wx=Z6e(e),RC=wx.format,NH=wx.formatPrefix,wx}function tOe(e){return Math.max(0,-up(Math.abs(e)))}function rOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(up(t)/3)))*3-up(Math.abs(e)))}function nOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,up(t)-up(e))+1}function OH(e,t,r,n){var a=hE(e,t,r),i;switch(n=K1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=rOe(a,s))&&(n.precision=i),NH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=nOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return RC(n)}function Mf(e){var t=e.domain;return e.ticks=function(r){var n=t();return uE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return OH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=fE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Vb(){var e=jC();return e.copy=function(){return Qv(e,Vb())},bo.apply(e,arguments),Mf(e)}function IH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$b),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IH(e).unknown(t)},e=arguments.length?Array.from(e,$b):[0,1],Mf(r)}function DH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function fM(e){return Math.log(e)}function hM(e){return Math.exp(e)}function aOe(e){return-Math.log(-e)}function iOe(e){return-Math.exp(-e)}function sOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oOe(e){return e===10?sOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dM(e){return(t,r)=>-e(-t,r)}function FC(e){const t=e(fM,hM),r=t.domain;let n=10,a,i;function s(){return a=lOe(n),i=oOe(n),r()[0]<0?(a=dM(a),i=dM(i),e(aOe,iOe)):e(fM,hM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(m=1;m<n;++m)if(p=h<0?m/i(-h):m*i(h),!(p<c)){if(p>u)break;y.push(p)}}else for(;h<=d;++h)for(m=n-1;m>=1;--m)if(p=h>0?m/i(-h):m*i(h),!(p<c)){if(p>u)break;y.push(p)}y.length*2<v&&(y=uE(c,u,v))}else y=uE(h,d,Math.min(d-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=K1(l)).precision==null&&(l.trim=!0),l=RC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(DH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function LH(){const e=FC(R5()).domain([1,10]);return e.copy=()=>Qv(e,LH()).base(e.base()),bo.apply(e,arguments),e}function pM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $C(e){var t=1,r=e(pM(t),mM(t));return r.constant=function(n){return arguments.length?e(pM(t=+n),mM(t)):t},Mf(r)}function jH(){var e=$C(R5());return e.copy=function(){return Qv(e,jH()).constant(e.constant())},bo.apply(e,arguments)}function gM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uOe(e){return e<0?-e*e:e*e}function BC(e){var t=e($i,$i),r=1;function n(){return r===1?e($i,$i):r===.5?e(cOe,uOe):e(gM(r),gM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Mf(t)}function VC(){var e=BC(R5());return e.copy=function(){return Qv(e,VC()).exponent(e.exponent())},bo.apply(e,arguments),e}function fOe(){return VC.apply(null,arguments).exponent(.5)}function vM(e){return Math.sign(e)*e*e}function hOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MH(){var e=jC(),t=[0,1],r=!1,n;function a(i){var s=hOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(vM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$b)).map(vM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return MH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bo.apply(a,arguments),Mf(a)}function RH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=v6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Yv(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(cf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return RH().domain(e).range(t).unknown(n)},bo.apply(i,arguments)}function FH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Yv(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return FH().domain([e,t]).range(a).unknown(i)},bo.apply(Mf(s),arguments)}function $H(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Yv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return $H().domain(e).range(t).unknown(r)},bo.apply(a,arguments)}const sA=new Date,oA=new Date;function Sa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Sa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(sA.setTime(+i),oA.setTime(+s),e(sA),e(oA),Math.floor(r(sA,oA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ub=Sa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ub.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ub);Ub.range;const dc=1e3,oo=dc*60,pc=oo*60,Rc=pc*24,UC=Rc*7,yM=Rc*30,lA=Rc*365,Th=Sa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getUTCSeconds());Th.range;const zC=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getMinutes());zC.range;const qC=Sa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCMinutes());qC.range;const WC=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc-e.getMinutes()*oo)},(e,t)=>{e.setTime(+e+t*pc)},(e,t)=>(t-e)/pc,e=>e.getHours());WC.range;const HC=Sa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pc)},(e,t)=>(t-e)/pc,e=>e.getUTCHours());HC.range;const Jv=Sa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oo)/Rc,e=>e.getDate()-1);Jv.range;const F5=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rc,e=>e.getUTCDate()-1);F5.range;const BH=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rc,e=>Math.floor(e/Rc));BH.range;function hd(e){return Sa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oo)/UC)}const $5=hd(0),zb=hd(1),dOe=hd(2),pOe=hd(3),fp=hd(4),mOe=hd(5),gOe=hd(6);$5.range;zb.range;dOe.range;pOe.range;fp.range;mOe.range;gOe.range;function dd(e){return Sa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UC)}const B5=dd(0),qb=dd(1),vOe=dd(2),yOe=dd(3),hp=dd(4),xOe=dd(5),bOe=dd(6);B5.range;qb.range;vOe.range;yOe.range;hp.range;xOe.range;bOe.range;const GC=Sa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GC.range;const KC=Sa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KC.range;const Fc=Sa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fc.range;const $c=Sa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$c.range;function VH(e,t,r,n,a,i){const s=[[Th,1,dc],[Th,5,5*dc],[Th,15,15*dc],[Th,30,30*dc],[i,1,oo],[i,5,5*oo],[i,15,15*oo],[i,30,30*oo],[a,1,pc],[a,3,3*pc],[a,6,6*pc],[a,12,12*pc],[n,1,Rc],[n,2,2*Rc],[r,1,UC],[t,1,yM],[t,3,3*yM],[e,1,lA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),m=d?d.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,d=NC(([,,v])=>v).right(s,h);if(d===s.length)return e.every(hE(c/lA,u/lA,f));if(d===0)return Ub.every(Math.max(hE(c,u,f),1));const[m,p]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return m.every(p)}return[o,l]}const[wOe,_Oe]=VH($c,KC,B5,BH,HC,qC),[SOe,AOe]=VH(Fc,GC,$5,Jv,WC,zC);function cA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=$m(a),u=Bm(a),f=$m(i),h=Bm(i),d=$m(s),m=Bm(s),p=$m(o),v=Bm(o),y=$m(l),_=Bm(l),w={a:J,A:q,b:B,B:ne,c:null,d:AM,e:AM,f:KOe,g:aIe,G:sIe,H:WOe,I:HOe,j:GOe,L:UH,m:YOe,M:XOe,p:ce,q:D,Q:kM,s:PM,S:QOe,u:JOe,U:ZOe,V:eIe,w:tIe,W:rIe,x:null,X:null,y:nIe,Y:iIe,Z:oIe,"%":EM},O={a:F,A:U,b:G,B:W,c:null,d:TM,e:TM,f:fIe,g:wIe,G:SIe,H:lIe,I:cIe,j:uIe,L:qH,m:hIe,M:dIe,p:Q,q:oe,Q:kM,s:PM,S:pIe,u:mIe,U:gIe,V:vIe,w:yIe,W:xIe,x:null,X:null,y:bIe,Y:_Ie,Z:AIe,"%":EM},k={a:I,A:E,b:N,B:j,c:H,d:_M,e:_M,f:VOe,g:wM,G:bM,H:SM,I:SM,j:ROe,L:BOe,m:MOe,M:FOe,p:A,q:jOe,Q:zOe,s:qOe,S:$Oe,u:NOe,U:OOe,V:IOe,w:COe,W:DOe,x:X,X:re,y:wM,Y:bM,Z:LOe,"%":UOe};w.x=C(r,w),w.X=C(n,w),w.c=C(t,w),O.x=C(r,O),O.X=C(n,O),O.c=C(t,O);function C(Y,ue){return function(pe){var K=[],je=-1,Oe=0,Se=Y.length,ae,Ce,Ae;for(pe instanceof Date||(pe=new Date(+pe));++je<Se;)Y.charCodeAt(je)===37&&(K.push(Y.slice(Oe,je)),(Ce=xM[ae=Y.charAt(++je)])!=null?ae=Y.charAt(++je):Ce=ae==="e"?" ":"0",(Ae=ue[ae])&&(ae=Ae(pe,Ce)),K.push(ae),Oe=je+1);return K.push(Y.slice(Oe,je)),K.join("")}}function T(Y,ue){return function(pe){var K=Fm(1900,void 0,1),je=S(K,Y,pe+="",0),Oe,Se;if(je!=pe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ue&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Oe=uA(Fm(K.y,0,1)),Se=Oe.getUTCDay(),Oe=Se>4||Se===0?qb.ceil(Oe):qb(Oe),Oe=F5.offset(Oe,(K.V-1)*7),K.y=Oe.getUTCFullYear(),K.m=Oe.getUTCMonth(),K.d=Oe.getUTCDate()+(K.w+6)%7):(Oe=cA(Fm(K.y,0,1)),Se=Oe.getDay(),Oe=Se>4||Se===0?zb.ceil(Oe):zb(Oe),Oe=Jv.offset(Oe,(K.V-1)*7),K.y=Oe.getFullYear(),K.m=Oe.getMonth(),K.d=Oe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Se="Z"in K?uA(Fm(K.y,0,1)).getUTCDay():cA(Fm(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Se+5)%7:K.w+K.U*7-(Se+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,uA(K)):cA(K)}}function S(Y,ue,pe,K){for(var je=0,Oe=ue.length,Se=pe.length,ae,Ce;je<Oe;){if(K>=Se)return-1;if(ae=ue.charCodeAt(je++),ae===37){if(ae=ue.charAt(je++),Ce=k[ae in xM?ue.charAt(je++):ae],!Ce||(K=Ce(Y,pe,K))<0)return-1}else if(ae!=pe.charCodeAt(K++))return-1}return K}function A(Y,ue,pe){var K=c.exec(ue.slice(pe));return K?(Y.p=u.get(K[0].toLowerCase()),pe+K[0].length):-1}function I(Y,ue,pe){var K=d.exec(ue.slice(pe));return K?(Y.w=m.get(K[0].toLowerCase()),pe+K[0].length):-1}function E(Y,ue,pe){var K=f.exec(ue.slice(pe));return K?(Y.w=h.get(K[0].toLowerCase()),pe+K[0].length):-1}function N(Y,ue,pe){var K=y.exec(ue.slice(pe));return K?(Y.m=_.get(K[0].toLowerCase()),pe+K[0].length):-1}function j(Y,ue,pe){var K=p.exec(ue.slice(pe));return K?(Y.m=v.get(K[0].toLowerCase()),pe+K[0].length):-1}function H(Y,ue,pe){return S(Y,t,ue,pe)}function X(Y,ue,pe){return S(Y,r,ue,pe)}function re(Y,ue,pe){return S(Y,n,ue,pe)}function J(Y){return s[Y.getDay()]}function q(Y){return i[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function ne(Y){return o[Y.getMonth()]}function ce(Y){return a[+(Y.getHours()>=12)]}function D(Y){return 1+~~(Y.getMonth()/3)}function F(Y){return s[Y.getUTCDay()]}function U(Y){return i[Y.getUTCDay()]}function G(Y){return l[Y.getUTCMonth()]}function W(Y){return o[Y.getUTCMonth()]}function Q(Y){return a[+(Y.getUTCHours()>=12)]}function oe(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ue=C(Y+="",w);return ue.toString=function(){return Y},ue},parse:function(Y){var ue=T(Y+="",!1);return ue.toString=function(){return Y},ue},utcFormat:function(Y){var ue=C(Y+="",O);return ue.toString=function(){return Y},ue},utcParse:function(Y){var ue=T(Y+="",!0);return ue.toString=function(){return Y},ue}}}var xM={"-":"",_:" ",0:"0"},ja=/^\s*\d+/,EOe=/^%/,kOe=/[\\^$*+?|[\]().{}]/g;function Nr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function POe(e){return e.replace(kOe,"\\$&")}function $m(e){return new RegExp("^(?:"+e.map(POe).join("|")+")","i")}function Bm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function COe(e,t,r){var n=ja.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NOe(e,t,r){var n=ja.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function OOe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IOe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DOe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function bM(e,t,r){var n=ja.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function wM(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jOe(e,t,r){var n=ja.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function MOe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _M(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ROe(e,t,r){var n=ja.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function SM(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FOe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $Oe(e,t,r){var n=ja.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=ja.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=ja.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UOe(e,t,r){var n=EOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zOe(e,t,r){var n=ja.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qOe(e,t,r){var n=ja.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function AM(e,t){return Nr(e.getDate(),t,2)}function WOe(e,t){return Nr(e.getHours(),t,2)}function HOe(e,t){return Nr(e.getHours()%12||12,t,2)}function GOe(e,t){return Nr(1+Jv.count(Fc(e),e),t,3)}function UH(e,t){return Nr(e.getMilliseconds(),t,3)}function KOe(e,t){return UH(e,t)+"000"}function YOe(e,t){return Nr(e.getMonth()+1,t,2)}function XOe(e,t){return Nr(e.getMinutes(),t,2)}function QOe(e,t){return Nr(e.getSeconds(),t,2)}function JOe(e){var t=e.getDay();return t===0?7:t}function ZOe(e,t){return Nr($5.count(Fc(e)-1,e),t,2)}function zH(e){var t=e.getDay();return t>=4||t===0?fp(e):fp.ceil(e)}function eIe(e,t){return e=zH(e),Nr(fp.count(Fc(e),e)+(Fc(e).getDay()===4),t,2)}function tIe(e){return e.getDay()}function rIe(e,t){return Nr(zb.count(Fc(e)-1,e),t,2)}function nIe(e,t){return Nr(e.getFullYear()%100,t,2)}function aIe(e,t){return e=zH(e),Nr(e.getFullYear()%100,t,2)}function iIe(e,t){return Nr(e.getFullYear()%1e4,t,4)}function sIe(e,t){var r=e.getDay();return e=r>=4||r===0?fp(e):fp.ceil(e),Nr(e.getFullYear()%1e4,t,4)}function oIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nr(t/60|0,"0",2)+Nr(t%60,"0",2)}function TM(e,t){return Nr(e.getUTCDate(),t,2)}function lIe(e,t){return Nr(e.getUTCHours(),t,2)}function cIe(e,t){return Nr(e.getUTCHours()%12||12,t,2)}function uIe(e,t){return Nr(1+F5.count($c(e),e),t,3)}function qH(e,t){return Nr(e.getUTCMilliseconds(),t,3)}function fIe(e,t){return qH(e,t)+"000"}function hIe(e,t){return Nr(e.getUTCMonth()+1,t,2)}function dIe(e,t){return Nr(e.getUTCMinutes(),t,2)}function pIe(e,t){return Nr(e.getUTCSeconds(),t,2)}function mIe(e){var t=e.getUTCDay();return t===0?7:t}function gIe(e,t){return Nr(B5.count($c(e)-1,e),t,2)}function WH(e){var t=e.getUTCDay();return t>=4||t===0?hp(e):hp.ceil(e)}function vIe(e,t){return e=WH(e),Nr(hp.count($c(e),e)+($c(e).getUTCDay()===4),t,2)}function yIe(e){return e.getUTCDay()}function xIe(e,t){return Nr(qb.count($c(e)-1,e),t,2)}function bIe(e,t){return Nr(e.getUTCFullYear()%100,t,2)}function wIe(e,t){return e=WH(e),Nr(e.getUTCFullYear()%100,t,2)}function _Ie(e,t){return Nr(e.getUTCFullYear()%1e4,t,4)}function SIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hp(e):hp.ceil(e),Nr(e.getUTCFullYear()%1e4,t,4)}function AIe(){return"+0000"}function EM(){return"%"}function kM(e){return+e}function PM(e){return Math.floor(+e/1e3)}var Ud,HH,GH;TIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TIe(e){return Ud=TOe(e),HH=Ud.format,Ud.parse,GH=Ud.utcFormat,Ud.utcParse,Ud}function EIe(e){return new Date(e)}function kIe(e){return e instanceof Date?+e:+new Date(+e)}function YC(e,t,r,n,a,i,s,o,l,c){var u=jC(),f=u.invert,h=u.domain,d=c(".%L"),m=c(":%S"),p=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),_=c("%b %d"),w=c("%B"),O=c("%Y");function k(C){return(l(C)<C?d:o(C)<C?m:s(C)<C?p:i(C)<C?v:n(C)<C?a(C)<C?y:_:r(C)<C?w:O)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,kIe)):h().map(EIe)},u.ticks=function(C){var T=h();return e(T[0],T[T.length-1],C??10)},u.tickFormat=function(C,T){return T==null?k:c(T)},u.nice=function(C){var T=h();return(!C||typeof C.range!="function")&&(C=t(T[0],T[T.length-1],C??10)),C?h(DH(T,C)):u},u.copy=function(){return Qv(u,YC(e,t,r,n,a,i,s,o,l,c))},u}function PIe(){return bo.apply(YC(SOe,AOe,Fc,GC,$5,Jv,WC,zC,Th,HH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CIe(){return bo.apply(YC(wOe,_Oe,$c,KC,B5,F5,HC,qC,Th,GH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V5(){var e=0,t=1,r,n,a,i,s=$i,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,m;return arguments.length?([d,m]=h,s=f(d,m),c):[s(0),s(1)]}}return c.range=u(em),c.rangeRound=u(LC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Rf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KH(){var e=Mf(V5()($i));return e.copy=function(){return Rf(e,KH())},Kc.apply(e,arguments)}function YH(){var e=FC(V5()).domain([1,10]);return e.copy=function(){return Rf(e,YH()).base(e.base())},Kc.apply(e,arguments)}function XH(){var e=$C(V5());return e.copy=function(){return Rf(e,XH()).constant(e.constant())},Kc.apply(e,arguments)}function XC(){var e=BC(V5());return e.copy=function(){return Rf(e,XC()).exponent(e.exponent())},Kc.apply(e,arguments)}function NIe(){return XC.apply(null,arguments).exponent(.5)}function QH(){var e=[],t=$i;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>g6e(e,i/n))},r.copy=function(){return QH(t).domain(e)},Kc.apply(r,arguments)}function U5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=$i,u,f=!1,h;function d(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?o:l),c(f?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(c=p,d):c};function m(p){return function(v){var y,_,w;return arguments.length?([y,_,w]=v,c=U6e(p,[y,_,w]),d):[c(0),c(.5),c(1)]}}return d.range=m(em),d.rangeRound=m(LC),d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return u=p,a=p(e),i=p(t),s=p(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function JH(){var e=Mf(U5()($i));return e.copy=function(){return Rf(e,JH())},Kc.apply(e,arguments)}function ZH(){var e=FC(U5()).domain([.1,1,10]);return e.copy=function(){return Rf(e,ZH()).base(e.base())},Kc.apply(e,arguments)}function eG(){var e=$C(U5());return e.copy=function(){return Rf(e,eG()).constant(e.constant())},Kc.apply(e,arguments)}function QC(){var e=BC(U5());return e.copy=function(){return Rf(e,QC()).exponent(e.exponent())},Kc.apply(e,arguments)}function OIe(){return QC.apply(null,arguments).exponent(.5)}const CM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:q1,scaleDiverging:JH,scaleDivergingLog:ZH,scaleDivergingPow:QC,scaleDivergingSqrt:OIe,scaleDivergingSymlog:eG,scaleIdentity:IH,scaleImplicit:dE,scaleLinear:Vb,scaleLog:LH,scaleOrdinal:OC,scalePoint:Fg,scalePow:VC,scaleQuantile:RH,scaleQuantize:FH,scaleRadial:MH,scaleSequential:KH,scaleSequentialLog:YH,scaleSequentialPow:XC,scaleSequentialQuantile:QH,scaleSequentialSqrt:NIe,scaleSequentialSymlog:XH,scaleSqrt:fOe,scaleSymlog:jH,scaleThreshold:$H,scaleTime:PIe,scaleUtc:CIe,tickFormat:OH},Symbol.toStringTag,{value:"Module"}));var IIe=Hp;function DIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!IIe(s):r(s,o)))var o=s,l=i}return l}var tG=DIe;function LIe(e,t){return e>t}var jIe=LIe,MIe=tG,RIe=jIe,FIe=Zp;function $Ie(e){return e&&e.length?MIe(e,FIe,RIe):void 0}var BIe=$Ie;const z5=Zr(BIe);function VIe(e,t){return e<t}var UIe=VIe,zIe=tG,qIe=UIe,WIe=Zp;function HIe(e){return e&&e.length?zIe(e,WIe,qIe):void 0}var GIe=HIe;const q5=Zr(GIe);var KIe=fC,YIe=jf,XIe=cH,QIe=hs;function JIe(e,t){var r=QIe(e)?KIe:XIe;return r(e,YIe(t))}var ZIe=JIe,e8e=oH,t8e=ZIe;function r8e(e,t){return e8e(t8e(e,t),1)}var n8e=r8e;const a8e=Zr(n8e);var i8e=EC;function s8e(e,t){return i8e(e,t)}var o8e=s8e;const W5=Zr(o8e);var tm=1e9,l8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZC,An=!0,vo="[DecimalError] ",jh=vo+"Invalid argument: ",JC=vo+"Exponent out of range: ",rm=Math.floor,dh=Math.pow,c8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ps,Ca=1e7,gn=7,rG=9007199254740991,Wb=rm(rG/gn),It={};It.absoluteValue=It.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};It.comparedTo=It.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};It.decimalPlaces=It.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};It.dividedBy=It.div=function(e){return Ac(this,new this.constructor(e))};It.dividedToIntegerBy=It.idiv=function(e){var t=this,r=t.constructor;return an(Ac(t,new r(e),0,1),r.precision)};It.equals=It.eq=function(e){return!this.cmp(e)};It.exponent=function(){return fa(this)};It.greaterThan=It.gt=function(e){return this.cmp(e)>0};It.greaterThanOrEqualTo=It.gte=function(e){return this.cmp(e)>=0};It.isInteger=It.isint=function(){return this.e>this.d.length-2};It.isNegative=It.isneg=function(){return this.s<0};It.isPositive=It.ispos=function(){return this.s>0};It.isZero=function(){return this.s===0};It.lessThan=It.lt=function(e){return this.cmp(e)<0};It.lessThanOrEqualTo=It.lte=function(e){return this.cmp(e)<1};It.logarithm=It.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ps))throw Error(vo+"NaN");if(r.s<1)throw Error(vo+(r.s?"NaN":"-Infinity"));return r.eq(Ps)?new n(0):(An=!1,t=Ac(Y1(r,i),Y1(e,i),i),An=!0,an(t,a))};It.minus=It.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iG(t,e):nG(t,(e.s=-e.s,e))};It.modulo=It.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(vo+"NaN");return r.s?(An=!1,t=Ac(r,e,0,1).times(e),An=!0,r.minus(t)):an(new n(r),a)};It.naturalExponential=It.exp=function(){return aG(this)};It.naturalLogarithm=It.ln=function(){return Y1(this)};It.negated=It.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};It.plus=It.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nG(t,e):iG(t,(e.s=-e.s,e))};It.precision=It.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jh+e);if(t=fa(a)+1,n=a.d.length-1,r=n*gn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};It.squareRoot=It.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(vo+"NaN")}for(e=fa(o),An=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Tl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=rm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ac(o,i,s+2)).times(.5),Tl(i.d).slice(0,s)===(t=Tl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(an(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return An=!0,an(n,r)};It.times=It.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%Ca|0,t=o/Ca|0;i[a]=(i[a]+t)%Ca|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,An?an(e,f.precision):e};It.toDecimalPlaces=It.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($l(e,0,tm),t===void 0?t=n.rounding:$l(t,0,8),an(r,e+fa(r)+1,t))};It.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yh(n,!0):($l(e,0,tm),t===void 0?t=a.rounding:$l(t,0,8),n=an(new a(n),e+1,t),r=Yh(n,!0,e+1)),r};It.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Yh(a):($l(e,0,tm),t===void 0?t=i.rounding:$l(t,0,8),n=an(new i(a),e+fa(a)+1,t),r=Yh(n.abs(),!1,e+fa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};It.toInteger=It.toint=function(){var e=this,t=e.constructor;return an(new t(e),fa(e)+1,t.rounding)};It.toNumber=function(){return+this};It.toPower=It.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ps);if(o=new l(o),!o.s){if(e.s<1)throw Error(vo+"Infinity");return o}if(o.eq(Ps))return o;if(n=l.precision,e.eq(Ps))return an(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=rG){for(a=new l(Ps),t=Math.ceil(n/gn+4),An=!1;r%2&&(a=a.times(o),OM(a.d,t)),r=rm(r/2),r!==0;)o=o.times(o),OM(o.d,t);return An=!0,e.s<0?new l(Ps).div(a):an(a,n)}}else if(i<0)throw Error(vo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,An=!1,a=e.times(Y1(o,n+c)),An=!0,a=aG(a),a.s=i,a};It.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=fa(a),n=Yh(a,r<=i.toExpNeg||r>=i.toExpPos)):($l(e,1,tm),t===void 0?t=i.rounding:$l(t,0,8),a=an(new i(a),e,t),r=fa(a),n=Yh(a,e<=r||r<=i.toExpNeg,e)),n};It.toSignificantDigits=It.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($l(e,1,tm),t===void 0?t=n.rounding:$l(t,0,8)),an(new n(r),e,t)};It.toString=It.valueOf=It.val=It.toJSON=It[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fa(e),r=e.constructor;return Yh(e,t<=r.toExpNeg||t>=r.toExpPos)};function nG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),An?an(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/gn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Ca|0,l[i]%=Ca;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,An?an(t,f):t}function $l(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jh+e)}function Tl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=gn-n.length,r&&(i+=Ou(r)),i+=n;s=e[t],n=s+"",r=gn-n.length,r&&(i+=Ou(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ac=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ca|0,s=i/Ca|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ca+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,m,p,v,y,_,w,O,k,C,T,S,A=n.constructor,I=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(vo+"Division by zero");for(l=n.e-a.e,T=N.length,k=E.length,d=new A(I),m=d.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?_=i=A.precision:s?_=i+(fa(n)-fa(a))+1:_=i,_<0)return new A(0);if(_=_/gn+2|0,c=0,T==1)for(u=0,N=N[0],_++;(c<k||u)&&_--;c++)w=u*Ca+(E[c]||0),m[c]=w/N|0,u=w%N|0;else{for(u=Ca/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,k=E.length),O=T,p=E.slice(0,T),v=p.length;v<T;)p[v++]=0;S=N.slice(),S.unshift(0),C=N[0],N[1]>=Ca/2&&++C;do u=0,o=t(N,p,T,v),o<0?(y=p[0],T!=v&&(y=y*Ca+(p[1]||0)),u=y/C|0,u>1?(u>=Ca&&(u=Ca-1),f=e(N,u),h=f.length,v=p.length,o=t(f,p,h,v),o==1&&(u--,r(f,T<h?S:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),o==-1&&(v=p.length,o=t(N,p,T,v),o<1&&(u++,r(p,T<v?S:N,v))),v=p.length):o===0&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[v++]=E[O]||0:(p=[E[O]],v=1);while((O++<k||p[0]!==void 0)&&_--)}return m[0]||m.shift(),d.e=l,an(d,s?i+fa(d)+1:i)}}();function aG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(fa(e)>16)throw Error(JC+fa(e));if(!e.s)return new u(Ps);for(t==null?(An=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(dh(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ps),u.precision=o;;){if(a=an(a.times(e),o),r=r.times(++l),s=i.plus(Ac(a,r,o)),Tl(s.d).slice(0,o)===Tl(i.d).slice(0,o)){for(;c--;)i=an(i.times(i),o);return u.precision=f,t==null?(An=!0,an(i,f)):i}i=s}}function fa(e){for(var t=e.e*gn,r=e.d[0];r>=10;r/=10)t++;return t}function fA(e,t,r){if(t>e.LN10.sd())throw An=!0,r&&(e.precision=r),Error(vo+"LN10 precision limit exceeded");return an(new e(e.LN10),t)}function Ou(e){for(var t="";e--;)t+="0";return t}function Y1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,m=d.d,p=d.constructor,v=p.precision;if(d.s<1)throw Error(vo+(d.s?"NaN":"-Infinity"));if(d.eq(Ps))return new p(0);if(t==null?(An=!1,c=v):c=t,d.eq(10))return t==null&&(An=!0),fA(p,c);if(c+=h,p.precision=c,r=Tl(m),n=r.charAt(0),i=fa(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Tl(d.d),n=r.charAt(0),f++;i=fa(d),n>1?(d=new p("0."+r),i++):d=new p(n+"."+r.slice(1))}else return l=fA(p,c+2,v).times(i+""),d=Y1(new p(n+"."+r.slice(1)),c-h).plus(l),p.precision=v,t==null?(An=!0,an(d,v)):d;for(o=s=d=Ac(d.minus(Ps),d.plus(Ps),c),u=an(d.times(d),c),a=3;;){if(s=an(s.times(u),c),l=o.plus(Ac(s,new p(a),c)),Tl(l.d).slice(0,c)===Tl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(fA(p,c+2,v).times(i+""))),o=Ac(o,new p(f),c),p.precision=v,t==null?(An=!0,an(o,v)):o;o=l,a+=2}}function NM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=rm(r/gn),e.d=[],n=(r+1)%gn,r<0&&(n+=gn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=gn;n<a;)e.d.push(+t.slice(n,n+=gn));t=t.slice(n),n=gn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),An&&(e.e>Wb||e.e<-Wb))throw Error(JC+r)}else e.s=0,e.e=0,e.d=[0];return e}function an(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=gn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/gn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=gn,a=n-gn+s}if(r!==void 0&&(i=dh(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/dh(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=fa(e),f.length=1,t=t-i-1,f[0]=dh(10,(gn-t%gn)%gn),e.e=rm(-t/gn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=dh(10,gn-n),f[u]=a>0?(c/dh(10,s-a)%dh(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Ca&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ca)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(An&&(e.e>Wb||e.e<-Wb))throw Error(JC+fa(e));return e}function iG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),An?an(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/gn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Ca-1;--l[i],l[a]+=Ca}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,An?an(t,d):t):new h(0)}function Yh(e,t,r){var n,a=fa(e),i=Tl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ou(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ou(-a-1)+i,r&&(n=r-s)>0&&(i+=Ou(n))):a>=s?(i+=Ou(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ou(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ou(n))),e.s<0?"-"+i:i}function OM(e,t){if(e.length>t)return e.length=t,!0}function sG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return NM(s,i.toString())}else if(typeof i!="string")throw Error(jh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,c8e.test(i))NM(s,i);else throw Error(jh+i)}if(a.prototype=It,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=sG,a.config=a.set=u8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function u8e(e){if(!e||typeof e!="object")throw Error(vo+"Object expected");var t,r,n,a=["precision",1,tm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(rm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jh+r+": "+n);return this}var ZC=sG(l8e);Ps=new ZC(1);const Jr=ZC;function f8e(e){return m8e(e)||p8e(e)||d8e(e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(e,t){if(e){if(typeof e=="string")return vE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(e,t)}}function p8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function m8e(e){if(Array.isArray(e))return vE(e)}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g8e=function(t){return t},oG={"@@functional/placeholder":!0},lG=function(t){return t===oG},IM=function(t){return function r(){return arguments.length===0||arguments.length===1&&lG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},v8e=function e(t,r){return t===1?r:IM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==oG}).length;return s>=t?r.apply(void 0,a):e(t-s,IM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return lG(f)?l.shift():f});return r.apply(void 0,f8e(u).concat(l))}))})},H5=function(t){return v8e(t.length,t)},yE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},y8e=H5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),x8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return g8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},xE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},cG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function b8e(e){var t;return e===0?t=1:t=Math.floor(new Jr(e).abs().log(10).toNumber())+1,t}function w8e(e,t,r){for(var n=new Jr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _8e=H5(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),S8e=H5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),A8e=H5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const G5={rangeStep:w8e,getDigitCount:b8e,interpolateNumber:_8e,uninterpolateNumber:S8e,uninterpolateTruncation:A8e};function bE(e){return k8e(e)||E8e(e)||uG(e)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function k8e(e){if(Array.isArray(e))return wE(e)}function X1(e,t){return N8e(e)||C8e(e,t)||uG(e,t)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return wE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(e,t)}}function wE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function N8e(e){if(Array.isArray(e))return e}function fG(e){var t=X1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function hG(e,t,r){if(e.lte(0))return new Jr(0);var n=G5.getDigitCount(e.toNumber()),a=new Jr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Jr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Jr(Math.ceil(l))}function O8e(e,t,r){var n=1,a=new Jr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Jr(10).pow(G5.getDigitCount(e)-1),a=new Jr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Jr(Math.floor(e)))}else e===0?a=new Jr(Math.floor((t-1)/2)):r||(a=new Jr(Math.floor(e)));var s=Math.floor((t-1)/2),o=x8e(y8e(function(l){return a.add(new Jr(l-s).mul(n)).toNumber()}),yE);return o(0,t)}function dG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Jr(0),tickMin:new Jr(0),tickMax:new Jr(0)};var i=hG(new Jr(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Jr(0):(s=new Jr(e).add(t).div(2),s=s.sub(new Jr(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Jr(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?dG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Jr(o).mul(i)),tickMax:s.add(new Jr(l).mul(i))})}function I8e(e){var t=X1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=fG([r,n]),l=X1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(bE(yE(0,a-1).map(function(){return 1/0}))):[].concat(bE(yE(0,a-1).map(function(){return-1/0})),[u]);return r>n?xE(f):f}if(c===u)return O8e(c,a,i);var h=dG(c,u,s,i),d=h.step,m=h.tickMin,p=h.tickMax,v=G5.rangeStep(m,p.add(new Jr(.1).mul(d)),d);return r>n?xE(v):v}function D8e(e,t){var r=X1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=fG([n,a]),o=X1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=hG(new Jr(c).sub(l).div(u-1),i,0),h=[].concat(bE(G5.rangeStep(new Jr(l),new Jr(c).sub(new Jr(.99).mul(f)),f)),[c]);return n>a?xE(h):h}var L8e=cG(I8e),j8e=cG(D8e),M8e="Invariant failed";function Xh(e,t){throw new Error(M8e)}var R8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(this,arguments)}function F8e(e,t){return U8e(e)||V8e(e,t)||B8e(e,t)||$8e()}function $8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(e,t){if(e){if(typeof e=="string")return DM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(e,t)}}function DM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function U8e(e){if(Array.isArray(e))return e}function z8e(e,t){if(e==null)return{};var r=q8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function G8e(e,t,r){return t&&H8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K8e(e,t,r){return t=Gb(t),Y8e(e,pG()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function Y8e(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8e(e)}function X8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function Q8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_E(e,t)}function mG(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=J8e(e,"string");return dp(t)=="symbol"?t:t+""}function J8e(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zv=function(e){function t(){return W8e(this,t),K8e(this,t,arguments)}return Q8e(t,e),G8e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=z8e(n,R8e),d=pr(h,!1);this.props.direction==="x"&&u.type!=="number"&&Xh();var m=l.map(function(p){var v=c(p,o),y=v.x,_=v.y,w=v.value,O=v.errorVal;if(!O)return null;var k=[],C,T;if(Array.isArray(O)){var S=F8e(O,2);C=S[0],T=S[1]}else C=T=O;if(i==="vertical"){var A=u.scale,I=_+a,E=I+s,N=I-s,j=A(w-C),H=A(w+T);k.push({x1:H,y1:E,x2:H,y2:N}),k.push({x1:j,y1:I,x2:H,y2:I}),k.push({x1:j,y1:E,x2:j,y2:N})}else if(i==="horizontal"){var X=f.scale,re=y+a,J=re-s,q=re+s,B=X(w-C),ne=X(w+T);k.push({x1:J,y1:ne,x2:q,y2:ne}),k.push({x1:re,y1:B,x2:re,y2:ne}),k.push({x1:J,y1:B,x2:q,y2:B})}return Ne.createElement(ea,Hb({className:"recharts-errorBar",key:"bar-".concat(k.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},d),k.map(function(ce){return Ne.createElement("line",Hb({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return Ne.createElement(ea,{className:"recharts-errorBars"},m)}}])}(Ne.Component);mG(Zv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mG(Zv,"displayName","ErrorBar");function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){Z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8e(e,t,r){return t=eDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return Q1(t)=="symbol"?t:t+""}function tDe(e,t){if(Q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ts(r,_c);if(!s)return null;var o=_c.defaultProps,l=o!==void 0?ah(ah({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,m=d.sectors||d.data||[];return u.concat(m.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?ah(ah({},h),f.props):{},m=d.dataKey,p=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:eN(f),value:p||m,payload:d}}),ah(ah(ah({},l),_c.getWithHeight(s,a)),{},{payload:c,item:s})};function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}function jM(e){return iDe(e)||aDe(e)||nDe(e)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function aDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iDe(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){R0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=oDe(e,"string");return J1(t)=="symbol"?t:t+""}function oDe(e,t){if(J1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(e,t,r){return fr(e)||fr(t)?r:ba(t)?uo(e,t,r):ar(t)?t(e):r}function $g(e,t,r,n){var a=a8e(e,function(o){return Rs(o,t)});if(r==="number"){var i=a.filter(function(o){return bt(o)||parseFloat(o)});return i.length?[q5(i),z5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!fr(o)}):a;return s.map(function(o){return ba(o)||o instanceof Date?o:""})}var lDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(Xo(f-u)!==Xo(h-f)){var m=[];if(Xo(h-f)===Xo(l[1]-l[0])){d=h;var p=f+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{d=u;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){s=a[c].index;break}}else{var _=Math.min(u,h),w=Math.max(u,h);if(t>(_+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},eN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},cDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var m=u[f[h]],p=m.items,v=m.cateAxisId,y=p.filter(function(T){return bc(T.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,w=_!==void 0?Un(Un({},_),y[0].props):y[0].props,O=w.barSize,k=w[v];s[k]||(s[k]=[]);var C=fr(O)?r:O;s[k].push({item:y[0],stackList:y.slice(1),barSize:fr(C)?void 0:Kh(C,n,0)})}}return s},uDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Kh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,m=s.reduce(function(O,k){return O+k.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&d>0&&(h=!0,d*=.9,m=l*d);var p=(a-m)/2>>0,v={offset:p-c,size:0};u=s.reduce(function(O,k){var C={item:k.item,position:{offset:v.offset+v.size+c,size:h?d:k.barSize}},T=[].concat(jM(O),[C]);return v=T[T.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(S){T.push({item:S,position:v})}),T},f)}else{var y=Kh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var _=(a-2*y-(l-1)*c)/l;_>1&&(_>>=0);var w=o===+o?Math.min(_,o):_;u=s.reduce(function(O,k,C){var T=[].concat(jM(O),[{item:k.item,position:{offset:y+(_+c)*C+(_-w)/2,size:w}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},f)}return u},fDe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=vG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&d!=="center"&&bt(t[d]))return Un(Un({},t),{},R0({},d,t[d]+(f||0)));if((p==="horizontal"||p==="vertical"&&d==="center")&&m!=="middle"&&bt(t[m]))return Un(Un({},t),{},R0({},m,t[m]+(h||0)))}return t},hDe=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yG=function(t,r,n,a,i){var s=r.props.children,o=fo(s,Zv).filter(function(c){return hDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Rs(u,n);if(fr(f))return c;var h=Array.isArray(f)?[q5(f),z5(f)]:[f,f],d=l.reduce(function(m,p){var v=Rs(u,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},dDe=function(t,r,n,a,i){var s=r.map(function(o){return yG(t,o,n,i,a)}).filter(function(o){return!fr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},xG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&yG(t,l,c,a)||$g(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},bG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},wG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},mc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Xo(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Hv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},hA=new WeakMap,_x=function(t,r){if(typeof r!="function")return t;hA.has(t)||hA.set(t,new WeakMap);var n=hA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},pDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:q1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Vb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fg(),realScaleType:"point"}:i==="category"?{scale:q1(),realScaleType:"band"}:{scale:Vb(),realScaleType:"linear"};if(Gh(a)){var l="scale".concat(N5(a));return{scale:(CM[l]||Fg)(),realScaleType:CM[l]?l:"point"}}return ar(a)?{scale:a}:{scale:Fg(),realScaleType:"point"}},RM=1e-4,mDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-RM,s=Math.max(a[0],a[1])+RM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},gDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},vDe=function(t,r){if(!r||r.length!==2||!bt(r[0])||!bt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!bt(t[0])||t[0]<n)&&(i[0]=n),(!bt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},yDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Hv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},xDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Hv(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},bDe={sign:yDe,expand:jSe,none:ip,silhouette:MSe,wiggle:RSe,positive:xDe},wDe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=bDe[n],s=LSe().keys(a).value(function(o,l){return+Rs(o,l,0)}).order(KT).offset(i);return s(t)},_De=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Un(Un({},h.type.defaultProps),h.props):h.props,p=m.stackId,v=m.hide;if(v)return f;var y=m[n],_=f[y]||{hasStack:!1,stackGroups:{}};if(ba(p)){var w=_.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[p]=w}else _.stackGroups[Gv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Un(Un({},f),{},R0({},y,_))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(p,v){var y=d.stackGroups[v];return Un(Un({},p),{},R0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:wDe(t,y.items,i)}))},m)}return Un(Un({},f),{},R0({},h,d))},u)},SDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=L8e(c,i,o);return t.domain([q5(u),z5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=j8e(f,i,o);return{niceTicks:h}}return null};function FM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(a[t.dataKey])){var o=yb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Rs(a,fr(s)?t.dataKey:s);return fr(l)?null:t.scale(l)}var $M=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Rs(s,r.dataKey,r.domain[o]);return fr(l)?null:r.scale(l)-i/2+a},ADe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},TDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ba(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},EDe=function(t){return t.reduce(function(r,n){return[q5(n.concat([r[0]]).filter(bt)),z5(n.concat([r[1]]).filter(bt))]},[1/0,-1/0])},_G=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=EDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},BM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AE=function(t,r,n){if(ar(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(bt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(BM.test(t[0])){var i=+BM.exec(t[0])[1];a[0]=r[0]-i}else ar(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(bt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(VM.test(t[1])){var s=+VM.exec(t[1])[1];a[1]=r[1]+s}else ar(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Kb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=PC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},UM=function(t,r,n){return!t||!t.length||W5(t,uo(n,"type.defaultProps.domain"))?r:t},SG=function(t,r){var n=t.type.defaultProps?Un(Un({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Un(Un({},pr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:eN(t),value:Rs(r,a),type:l,payload:r,chartType:c,hide:u})};function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){kDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t,r){return t=PDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PDe(e){var t=CDe(e,"string");return Z1(t)=="symbol"?t:t+""}function CDe(e,t){if(Z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yb=Math.PI/180,NDe=function(t){return t*180/Math.PI},Ga=function(t,r,n,a){return{x:t+Math.cos(-Yb*a)*n,y:r+Math.sin(-Yb*a)*n}},ODe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},IDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=ODe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:NDe(c),angleInRadian:c}},DDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},LDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},WM=function(t,r){var n=t.x,a=t.y,i=IDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=DDe(r),f=u.startAngle,h=u.endAngle,d=o,m;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=f}return m?qM(qM({},r),{},{radius:s,angle:LDe(d,r)}):null};function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var jDe=["offset"];function MDe(e){return BDe(e)||$De(e)||FDe(e)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDe(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function $De(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VDe(e,t){if(e==null)return{};var r=UDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){zDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zDe(e,t,r){return t=qDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qDe(e){var t=WDe(e,"string");return ev(t)=="symbol"?t:t+""}function WDe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)}var HDe=function(t){var r=t.value,n=t.formatter,a=fr(t.children)?r:t.children;return ar(n)?n(a):a},GDe=function(t,r){var n=Xo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KDe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,p=l.clockWise,v=(f+h)/2,y=GDe(d,m),_=y>=0?1:-1,w,O;a==="insideStart"?(w=d+_*s,O=p):a==="insideEnd"?(w=m-_*s,O=!p):a==="end"&&(w=m+_*s,O=p),O=y<=0?O:!O;var k=Ga(c,u,v,w),C=Ga(c,u,v,w+(O?1:-1)*359),T="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),S=fr(t.id)?Gv("recharts-radial-line-"):t.id;return Ne.createElement("text",tv({},n,{dominantBaseline:"central",className:Cr("recharts-radial-bar-label",o)}),Ne.createElement("defs",null,Ne.createElement("path",{id:S,d:T})),Ne.createElement("textPath",{xlinkHref:"#".concat(S)},r))},YDe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=Ga(s,o,c+n,h),m=d.x,p=d.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ga(s,o,v,h),_=y.x,w=y.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},XDe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",m=f>0?"start":"end",p=c>=0?1:-1,v=p*a,y=p>0?"end":"start",_=p>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return ma(ma({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return ma(ma({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var k={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return ma(ma({},k),n?{width:Math.max(k.x-n.x,0),height:u}:{})}if(i==="right"){var C={x:o+c+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return ma(ma({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?ma({x:o+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},T):i==="insideRight"?ma({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?ma({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},T):i==="insideBottom"?ma({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?ma({x:o+v,y:l+h,textAnchor:_,verticalAnchor:m},T):i==="insideTopRight"?ma({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:m},T):i==="insideBottomLeft"?ma({x:o+v,y:l+u-h,textAnchor:_,verticalAnchor:d},T):i==="insideBottomRight"?ma({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:d},T):Gp(i)&&(bt(i.x)||Sh(i.x))&&(bt(i.y)||Sh(i.y))?ma({x:o+Kh(i.x,c),y:l+Kh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):ma({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},QDe=function(t){return"cx"in t&&bt(t.cx)};function mi(e){var t=e.offset,r=t===void 0?5:t,n=VDe(e,jDe),a=ma({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||fr(o)&&fr(l)&&!Z.isValidElement(c)&&!ar(c))return null;if(Z.isValidElement(c))return Z.cloneElement(c,a);var d;if(ar(c)){if(d=Z.createElement(c,a),Z.isValidElement(d))return d}else d=HDe(a);var m=QDe(i),p=pr(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return KDe(a,d,p);var v=m?YDe(a):XDe(a);return Ne.createElement(Lb,tv({className:Cr("recharts-label",f)},p,v,{breakAll:h}),d)}mi.displayName="Label";var AG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,m=t.left,p=t.width,v=t.height,y=t.clockWise,_=t.labelViewBox;if(_)return _;if(bt(p)&&bt(v)){if(bt(f)&&bt(h))return{x:f,y:h,width:p,height:v};if(bt(d)&&bt(m))return{x:d,y:m,width:p,height:v}}return bt(f)&&bt(h)?{x:f,y:h,width:0,height:0}:bt(r)&&bt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},JDe=function(t,r){return t?t===!0?Ne.createElement(mi,{key:"label-implicit",viewBox:r}):ba(t)?Ne.createElement(mi,{key:"label-implicit",viewBox:r,value:t}):Z.isValidElement(t)?t.type===mi?Z.cloneElement(t,{key:"label-implicit",viewBox:r}):Ne.createElement(mi,{key:"label-implicit",content:t,viewBox:r}):ar(t)?Ne.createElement(mi,{key:"label-implicit",content:t,viewBox:r}):Gp(t)?Ne.createElement(mi,tv({viewBox:r},t,{key:"label-implicit"})):null:null},ZDe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=AG(t),s=fo(a,mi).map(function(l,c){return Z.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=JDe(t.label,r||i);return[o].concat(MDe(s))};mi.parseViewBox=AG;mi.renderCallByParent=ZDe;function eLe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tLe=eLe;const rLe=Zr(tLe);function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}var nLe=["valueAccessor"],aLe=["data","dataKey","clockWise","id","textBreakAll"];function iLe(e){return cLe(e)||lLe(e)||oLe(e)||sLe()}function sLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function lLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cLe(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){uLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uLe(e,t,r){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=hLe(e,"string");return rv(t)=="symbol"?t:t+""}function hLe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YM(e,t){if(e==null)return{};var r=dLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pLe=function(t){return Array.isArray(t.value)?rLe(t.value):t.value};function uf(e){var t=e.valueAccessor,r=t===void 0?pLe:t,n=YM(e,nLe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=YM(n,aLe);return!a||!a.length?null:Ne.createElement(ea,{className:"recharts-label-list"},a.map(function(u,f){var h=fr(i)?r(u,f):Rs(u&&u.payload,i),d=fr(o)?{}:{id:"".concat(o,"-").concat(f)};return Ne.createElement(mi,Xb({},pr(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:mi.parseViewBox(fr(s)?u:KM(KM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}uf.displayName="LabelList";function mLe(e,t){return e?e===!0?Ne.createElement(uf,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||ar(e)?Ne.createElement(uf,{key:"labelList-implicit",data:t,content:e}):Gp(e)?Ne.createElement(uf,Xb({data:t},e,{key:"labelList-implicit"})):null:null}function gLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=fo(n,uf).map(function(s,o){return Z.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=mLe(e.label,t);return[i].concat(iLe(a))}uf.renderCallByParent=gLe;function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){vLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vLe(e,t,r){return t=yLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yLe(e){var t=xLe(e,"string");return nv(t)=="symbol"?t:t+""}function xLe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bLe=function(t,r){var n=Xo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Sx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/Yb,h=c?i:i+s*f,d=Ga(r,n,u,h),m=Ga(r,n,a,h),p=c?i-s*f:i,v=Ga(r,n,u*Math.cos(f*Yb),p);return{center:d,circleTangency:m,lineTangency:v,theta:f}},TG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=bLe(s,o),c=s+l,u=Ga(r,n,i,s),f=Ga(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=Ga(r,n,a,s),m=Ga(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wLe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Xo(u-c),h=Sx({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,p=h.theta,v=Sx({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,_=v.lineTangency,w=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-p-w;if(O<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var k="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var C=Sx({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=C.circleTangency,S=C.lineTangency,A=C.theta,I=Sx({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,N=I.lineTangency,j=I.theta,H=l?Math.abs(c-u):Math.abs(c-u)-A-j;if(H<0&&s===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},_Le={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EG=function(t){var r=QM(QM({},_Le),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=Cr("recharts-sector",h),m=s-i,p=Kh(o,m,0,!0),v;return p>0&&Math.abs(u-f)<360?v=wLe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=TG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ne.createElement("path",kE({},pr(r,!0),{className:d,d:v,role:"img"}))};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){SLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t,r){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=TLe(e,"string");return av(t)=="symbol"?t:t+""}function TLe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eR={curveBasisClosed:SSe,curveBasisOpen:ASe,curveBasis:_Se,curveBumpX:lSe,curveBumpY:cSe,curveLinearClosed:TSe,curveLinear:I5,curveMonotoneX:ESe,curveMonotoneY:kSe,curveNatural:PSe,curveStep:CSe,curveStepAfter:OSe,curveStepBefore:NSe},Ax=function(t){return t.x===+t.x&&t.y===+t.y},Vm=function(t){return t.x},Um=function(t){return t.y},ELe=function(t,r){if(ar(t))return t;var n="curve".concat(N5(t));return(n==="curveMonotone"||n==="curveBump")&&r?eR["".concat(n).concat(r==="vertical"?"Y":"X")]:eR[n]||I5},kLe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=ELe(n,o),f=c?i.filter(function(p){return Ax(p)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(p){return Ax(p)}):s,m=f.map(function(p,v){return ZM(ZM({},p),{},{base:d[v]})});return o==="vertical"?h=px().y(Um).x1(Vm).x0(function(p){return p.base.x}):h=px().x(Vm).y1(Um).y0(function(p){return p.base.y}),h.defined(Ax).curve(u),h(m)}return o==="vertical"&&bt(s)?h=px().y(Um).x1(Vm).x0(s):bt(s)?h=px().x(Vm).y1(Um).y0(s):h=EW().x(Vm).y(Um),h.defined(Ax).curve(u),h(f)},CE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?kLe(t):a;return Ne.createElement("path",PE({},pr(t,!1),xb(t),{className:Cr("recharts-curve",r),d:s,ref:i}))},kG={exports:{}},PLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CLe=PLe,NLe=CLe;function PG(){}function CG(){}CG.resetWarningCache=PG;var OLe=function(){function e(n,a,i,s,o,l){if(l!==NLe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CG,resetWarningCache:PG};return r.PropTypes=r,r};kG.exports=OLe();var ILe=kG.exports;const $r=Zr(ILe);var DLe=Object.getOwnPropertyNames,LLe=Object.getOwnPropertySymbols,jLe=Object.prototype.hasOwnProperty;function tR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Tx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function rR(e){return DLe(e).concat(LLe(e))}var MLe=Object.hasOwn||function(e,t){return jLe.call(e,t)};function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var RLe="__v",FLe="__o",$Le="_owner",nR=Object.getOwnPropertyDescriptor,aR=Object.keys;function BLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VLe(e,t){return pd(e.getTime(),t.getTime())}function ULe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zLe(e,t){return e===t}function iR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var qLe=pd;function WLe(e,t,r){var n=aR(e),a=n.length;if(aR(t).length!==a)return!1;for(;a-- >0;)if(!NG(e,t,r,n[a]))return!1;return!0}function zm(e,t,r){var n=rR(e),a=n.length;if(rR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!NG(e,t,r,i)||(s=nR(e,i),o=nR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function HLe(e,t){return pd(e.valueOf(),t.valueOf())}function GLe(e,t){return e.source===t.source&&e.flags===t.flags}function sR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function KLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function YLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function NG(e,t,r,n){return(n===$Le||n===FLe||n===RLe)&&(e.$$typeof||t.$$typeof)?!0:MLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var XLe="[object Arguments]",QLe="[object Boolean]",JLe="[object Date]",ZLe="[object Error]",eje="[object Map]",tje="[object Number]",rje="[object Object]",nje="[object RegExp]",aje="[object Set]",ije="[object String]",sje="[object URL]",oje=Array.isArray,oR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lR=Object.assign,lje=Object.prototype.toString.call.bind(Object.prototype.toString);function cje(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,p,v){if(m===p)return!0;if(m==null||p==null)return!1;var y=typeof m;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?s(m,p,v):y==="function"?a(m,p,v):!1;var _=m.constructor;if(_!==p.constructor)return!1;if(_===Object)return o(m,p,v);if(oje(m))return t(m,p,v);if(oR!=null&&oR(m))return f(m,p,v);if(_===Date)return r(m,p,v);if(_===RegExp)return c(m,p,v);if(_===Map)return i(m,p,v);if(_===Set)return u(m,p,v);var w=lje(m);return w===JLe?r(m,p,v):w===nje?c(m,p,v):w===eje?i(m,p,v):w===aje?u(m,p,v):w===rje?typeof m.then!="function"&&typeof p.then!="function"&&o(m,p,v):w===sje?h(m,p,v):w===ZLe?n(m,p,v):w===XLe?o(m,p,v):w===QLe||w===tje||w===ije?l(m,p,v):!1}}function uje(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?zm:BLe,areDatesEqual:VLe,areErrorsEqual:ULe,areFunctionsEqual:zLe,areMapsEqual:n?tR(iR,zm):iR,areNumbersEqual:qLe,areObjectsEqual:n?zm:WLe,arePrimitiveWrappersEqual:HLe,areRegExpsEqual:GLe,areSetsEqual:n?tR(sR,zm):sR,areTypedArraysEqual:n?zm:KLe,areUrlsEqual:YLe};if(r&&(a=lR({},a,r(a))),t){var i=Tx(a.areArraysEqual),s=Tx(a.areMapsEqual),o=Tx(a.areObjectsEqual),l=Tx(a.areSetsEqual);a=lR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function fje(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function hje(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var dje=Ff();Ff({strict:!0});Ff({circular:!0});Ff({circular:!0,strict:!0});Ff({createInternalComparator:function(){return pd}});Ff({strict:!0,createInternalComparator:function(){return pd}});Ff({circular:!0,createInternalComparator:function(){return pd}});Ff({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Ff(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=uje(e),l=cje(o),c=n?n(l):fje(l);return hje({circular:r,comparator:l,createState:a,equals:c,strict:s})}function pje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):pje(a)};requestAnimationFrame(n)}function NE(e){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NE(e)}function mje(e){return xje(e)||yje(e)||vje(e)||gje()}function gje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return uR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uR(e,t)}}function uR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xje(e){if(Array.isArray(e))return e}function bje(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=mje(s),l=o[0],c=o.slice(1);if(typeof l=="number"){cR(a.bind(null,c),l);return}a(l),cR(a.bind(null,c));return}NE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return t=wje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=_je(e,"string");return iv(t)==="symbol"?t:String(t)}function _je(e,t){if(iv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sje=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Aje=function(t){return t},Tje=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bg=function(t,r){return Object.keys(r).reduce(function(n,a){return hR(hR({},n),{},OG({},a,t(a,r[a])))},{})},dR=function(t,r,n){return t.map(function(a){return"".concat(Tje(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Eje(e,t){return Cje(e)||Pje(e,t)||IG(e,t)||kje()}function kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Cje(e){if(Array.isArray(e))return e}function Nje(e){return Dje(e)||Ije(e)||IG(e)||Oje()}function Oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function Ije(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dje(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qb=1e-4,DG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},pR=function(t,r){return function(n){var a=DG(t,r);return LG(a,n)}},Lje=function(t,r){return function(n){var a=DG(t,r),i=[].concat(Nje(a.map(function(s,o){return s*o}).slice(1)),[0]);return LG(i,n)}},mR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Eje(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=pR(a,s),h=pR(i,o),d=Lje(a,s),m=function(y){return y>1?1:y<0?0:y},p=function(y){for(var _=y>1?1:y,w=_,O=0;O<8;++O){var k=f(w)-_,C=d(w);if(Math.abs(k-_)<Qb||C<Qb)return h(w);w=m(w-k/C)}return h(w)};return p.isStepper=!1,p},jje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,m=h*i,p=h+(d-m)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<Qb&&Math.abs(p)<Qb?[f,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},Mje=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mR(a);case"spring":return jje();default:if(a.split("(")[0]==="cubic-bezier")return mR(a)}return typeof a=="function"?a:null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function gR(e){return $je(e)||Fje(e)||jG(e)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $je(e){if(Array.isArray(e))return DE(e)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){IE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IE(e,t,r){return t=Bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bje(e){var t=Vje(e,"string");return sv(t)==="symbol"?t:String(t)}function Vje(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uje(e,t){return Wje(e)||qje(e,t)||jG(e,t)||zje()}function zje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Wje(e){if(Array.isArray(e))return e}var Jb=function(t,r,n){return t+(r-t)*n},LE=function(t){var r=t.from,n=t.to;return r!==n},Hje=function e(t,r,n){var a=Bg(function(i,s){if(LE(s)){var o=t(s.from,s.to,s.velocity),l=Uje(o,2),c=l[0],u=l[1];return Va(Va({},s),{},{from:c,velocity:u})}return s},r);return n<1?Bg(function(i,s){return LE(s)?Va(Va({},s),{},{velocity:Jb(s.velocity,a[i].velocity,n),from:Jb(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Gje=function(e,t,r,n,a){var i=Sje(e,t),s=i.reduce(function(v,y){return Va(Va({},v),{},IE({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return Va(Va({},v),{},IE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Bg(function(y,_){return _.from},o)},d=function(){return!Object.values(o).filter(LE).length},m=function(y){c||(c=y);var _=y-c,w=_/r.dt;o=Hje(r,o,w),a(Va(Va(Va({},e),t),h())),c=y,d()||(l=requestAnimationFrame(f))},p=function(y){u||(u=y);var _=(y-u)/n,w=Bg(function(k,C){return Jb.apply(void 0,gR(C).concat([r(_)]))},s);if(a(Va(Va(Va({},e),t),w)),_<1)l=requestAnimationFrame(f);else{var O=Bg(function(k,C){return Jb.apply(void 0,gR(C).concat([r(1)]))},s);a(Va(Va(Va({},e),t),O))}};return f=r.isStepper?m:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var Kje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yje(e,t){if(e==null)return{};var r=Xje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xje(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dA(e){return eMe(e)||Zje(e)||Jje(e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jje(e,t){if(e){if(typeof e=="string")return jE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(e,t)}}function Zje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eMe(e){if(Array.isArray(e))return jE(e)}function jE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ig(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MG(n.key),n)}}function nMe(e,t,r){return t&&rMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MG(e){var t=aMe(e,"string");return pp(t)==="symbol"?t:String(t)}function aMe(e,t){if(pp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ME(e,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ME(e,t)}function sMe(e){var t=oMe();return function(){var n=Zb(e),a;if(t){var i=Zb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return RE(this,a)}}function RE(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FE(e)}function FE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}var Bc=function(e){iMe(r,e);var t=sMe(r);function r(n,a){var i;tMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FE(i)),i.changeStyle=i.changeStyle.bind(FE(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),RE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},RE(i);i.state={style:l?ig({},l,c):c}}else i.state={style:{}};return i}return nMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?ig({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(dje(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?f:a.to;if(this.state&&h){var v={style:l?ig({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(Mo(Mo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=Gje(s,o,Mje(c),l,this.changeStyle),m=function(){i.stopJSAnimation=d()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(p,v,y){if(y===0)return p;var _=v.duration,w=v.easing,O=w===void 0?"ease":w,k=v.style,C=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,A=C||Object.keys(k);if(typeof O=="function"||O==="spring")return[].concat(dA(p),[i.runJSAnimation.bind(i,{from:S.style,to:k,duration:_,easing:O}),_]);var I=dR(A,_,O),E=Mo(Mo(Mo({},S.style),k),{},{transition:I});return[].concat(dA(p),[E,_,T]).filter(Aje)};return this.manager.start([l].concat(dA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bje());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=o?ig({},o,l):l,v=dR(Object.keys(p),s,c);m.start([u,i,Mo(Mo({},p),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Yje(a,Kje),c=Z.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var m=d.props,p=m.style,v=p===void 0?{}:p,y=m.className,_=Z.cloneElement(d,Mo(Mo({},l),{},{style:Mo(Mo({},v),u),className:y}));return _};return c===1?f(Z.Children.only(i)):Ne.createElement("div",null,Z.Children.map(i,function(h){return f(h)}))}}]),r}(Z.PureComponent);Bc.displayName="Animate";Bc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bc.propTypes={from:$r.oneOfType([$r.object,$r.string]),to:$r.oneOfType([$r.object,$r.string]),attributeName:$r.string,duration:$r.number,begin:$r.number,easing:$r.oneOfType([$r.string,$r.func]),steps:$r.arrayOf($r.shape({duration:$r.number.isRequired,style:$r.object.isRequired,easing:$r.oneOfType([$r.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$r.func]),properties:$r.arrayOf("string"),onAnimationEnd:$r.func})),children:$r.oneOfType([$r.node,$r.func]),isActive:$r.bool,canBegin:$r.bool,onAnimationEnd:$r.func,shouldReAnimate:$r.bool,onAnimationStart:$r.func,onAnimationReStart:$r.func};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(this,arguments)}function lMe(e,t){return hMe(e)||fMe(e,t)||uMe(e,t)||cMe()}function cMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hMe(e){if(Array.isArray(e))return e}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){dMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dMe(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=mMe(e,"string");return ov(t)=="symbol"?t:t+""}function mMe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+a-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},gMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},vMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tN=function(t){var r=wR(wR({},vMe),t),n=Z.useRef(),a=Z.useState(-1),i=lMe(a,2),s=i[0],o=i[1];Z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Cr("recharts-rectangle",d);return _?Ne.createElement(Bc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:p,animationEasing:m,isActive:_},function(O){var k=O.width,C=O.height,T=O.x,S=O.y;return Ne.createElement(Bc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:m},Ne.createElement("path",ew({},pr(r,!0),{className:w,d:_R(T,S,k,C,h),ref:n})))}):Ne.createElement("path",ew({},pr(r,!0),{className:w,d:_R(l,c,u,f,h)}))};function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}var rN=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Cr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ne.createElement("circle",$E({},pr(t,!1),xb(t),{className:s,cx:r,cy:n,r:a})):null};function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}var yMe=["x","y","top","left","width","height","className"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BE.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){bMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bMe(e,t,r){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wMe(e){var t=_Me(e,"string");return lv(t)=="symbol"?t:t+""}function _Me(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SMe(e,t){if(e==null)return{};var r=AMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},EMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,m=t.className,p=SMe(t,yMe),v=xMe({x:n,y:i,top:o,left:c,width:f,height:d},p);return!bt(n)||!bt(i)||!bt(f)||!bt(d)||!bt(o)||!bt(c)?null:Ne.createElement("path",BE({},pr(v,!0),{className:Cr("recharts-cross",m),d:TMe(n,i,f,d,o,c)}))},kMe=XW,PMe=kMe(Object.getPrototypeOf,Object),CMe=PMe,NMe=Hc,OMe=CMe,IMe=Gc,DMe="[object Object]",LMe=Function.prototype,jMe=Object.prototype,RG=LMe.toString,MMe=jMe.hasOwnProperty,RMe=RG.call(Object);function FMe(e){if(!IMe(e)||NMe(e)!=DMe)return!1;var t=OMe(e);if(t===null)return!0;var r=MMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&RG.call(r)==RMe}var $Me=FMe;const BMe=Zr($Me);var VMe=Hc,UMe=Gc,zMe="[object Boolean]";function qMe(e){return e===!0||e===!1||UMe(e)&&VMe(e)==zMe}var WMe=qMe;const HMe=Zr(WMe);function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function GMe(e,t){return QMe(e)||XMe(e,t)||YMe(e,t)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(e,t){if(e){if(typeof e=="string")return AR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function QMe(e){if(Array.isArray(e))return e}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=ZMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZMe(e){var t=eRe(e,"string");return cv(t)=="symbol"?t:t+""}function eRe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},tRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rRe=function(t){var r=ER(ER({},tRe),t),n=Z.useRef(),a=Z.useState(-1),i=GMe(a,2),s=i[0],o=i[1];Z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var _=Cr("recharts-trapezoid",d);return y?Ne.createElement(Bc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:p,animationEasing:m,isActive:y},function(w){var O=w.upperWidth,k=w.lowerWidth,C=w.height,T=w.x,S=w.y;return Ne.createElement(Bc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},Ne.createElement("path",tw({},pr(r,!0),{className:_,d:kR(T,S,O,k,C),ref:n})))}):Ne.createElement("g",null,Ne.createElement("path",tw({},pr(r,!0),{className:_,d:kR(l,c,u,f,h)})))},nRe=["option","shapeType","propTransformer","activeClassName","isActive"];function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function aRe(e,t){if(e==null)return{};var r=iRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){sRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sRe(e,t,r){return t=oRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oRe(e){var t=lRe(e,"string");return uv(t)=="symbol"?t:t+""}function lRe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cRe(e,t){return rw(rw({},t),e)}function uRe(e,t){return e==="symbols"}function CR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ne.createElement(tN,r);case"trapezoid":return Ne.createElement(rRe,r);case"sector":return Ne.createElement(EG,r);case"symbols":if(uRe(t))return Ne.createElement(bC,r);break;default:return null}}function fRe(e){return Z.isValidElement(e)?e.props:e}function hRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?cRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=aRe(e,nRe),c;if(Z.isValidElement(t))c=Z.cloneElement(t,rw(rw({},l),fRe(t)));else if(ar(t))c=t(l);else if(BMe(t)&&!HMe(t)){var u=a(t,l);c=Ne.createElement(CR,{shapeType:r,elementProps:u})}else{var f=l;c=Ne.createElement(CR,{shapeType:r,elementProps:f})}return o?Ne.createElement(ea,{className:s},c):c}function K5(e,t){return t!=null&&"trapezoids"in e.props}function Y5(e,t){return t!=null&&"sectors"in e.props}function fv(e,t){return t!=null&&"points"in e.props}function dRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function pRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gRe(e,t){var r;return K5(e,t)?r=dRe:Y5(e,t)?r=pRe:fv(e,t)&&(r=mRe),r}function vRe(e,t){var r;return K5(e,t)?r="trapezoids":Y5(e,t)?r="sectors":fv(e,t)&&(r="points"),r}function yRe(e,t){if(K5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Y5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fv(e,t)?t.payload:{}}function xRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=vRe(r,t),i=yRe(r,t),s=n.filter(function(l,c){var u=W5(i,l),f=r.props[a].filter(function(m){var p=gRe(r,t);return p(m,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var bRe=Math.ceil,wRe=Math.max;function _Re(e,t,r,n){for(var a=-1,i=wRe(bRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var SRe=_Re,ARe=mH,NR=1/0,TRe=17976931348623157e292;function ERe(e){if(!e)return e===0?e:0;if(e=ARe(e),e===NR||e===-NR){var t=e<0?-1:1;return t*TRe}return e===e?e:0}var FG=ERe,kRe=SRe,PRe=M5,pA=FG;function CRe(e){return function(t,r,n){return n&&typeof n!="number"&&PRe(t,r,n)&&(r=n=void 0),t=pA(t),r===void 0?(r=t,t=0):r=pA(r),n=n===void 0?t<r?1:-1:pA(n),kRe(t,r,n,e)}}var NRe=CRe,ORe=NRe,IRe=ORe(),DRe=IRe;const nw=Zr(DRe);function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=jRe(e,"string");return hv(t)=="symbol"?t:t+""}function jRe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MRe=["Webkit","Moz","O","ms"],RRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=MRe.reduce(function(i,s){return IR(IR({},i),{},$G({},s+n,r))},{});return a[t]=r,a};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function $Re(e,t,r){return t&&LR(e.prototype,t),r&&LR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BRe(e,t,r){return t=iw(t),VRe(e,BG()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function VRe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function zRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VE(e,t)}function Ss(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=qRe(e,"string");return mp(t)=="symbol"?t:t+""}function qRe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WRe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Fg().domain(nw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},jR=function(t){return t.changedTouches&&!!t.changedTouches.length},gp=function(e){function t(r){var n;return FRe(this,t),n=BRe(this,t,[r]),Ss(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ss(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ss(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ss(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ss(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ss(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ss(n,"handleSlideDragStart",function(a){var i=jR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zRe(t,e),$Re(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Rs(i[n],o,n);return ar(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,p=n.pageX-i;p>0?p=Math.min(p,c+u-f-o,c+u-f-s):p<0&&(p=Math.max(p,c-s,c-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==d)&&m&&m(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=jR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,m=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},_=n.pageX-i;_>0?_=Math.min(_,f+h-d-c):_<0&&(_=Math.max(_,f-c)),y[s]=c+_;var w=this.getIndex(y),O=w.startIndex,k=w.endIndex,C=function(){var S=v.length-1;return s==="startX"&&(o>l?O%p===0:k%p===0)||o<l&&k===S||s==="endX"&&(o>l?k%p===0:O%p===0)||o>l&&k===S};this.setState(Ss(Ss({},s,c+_),"brushMoveStartX",n.pageX),function(){m&&C()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Ss({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ne.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Z.Children.only(c);return f?Ne.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),_=mA(mA({},pr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),w=d||"Min value: ".concat((i=m[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return Ne.createElement(ea,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,m={pointerEvents:"none",fill:c};return Ne.createElement(ea,{className:"recharts-brush-texts"},Ne.createElement(Lb,aw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},m),this.getTextOfTick(a)),Ne.createElement(Lb,aw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,m=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,_=h.isTravellerFocused;if(!a||!a.length||!bt(o)||!bt(l)||!bt(c)||!bt(u)||c<=0||u<=0)return null;var w=Cr("recharts-brush",i),O=Ne.Children.count(s)===1,k=RRe("userSelect","none");return Ne.createElement(ea,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(p||v||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ne.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ne.isValidElement(n)?i=Ne.cloneElement(n,a):ar(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return mA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?WRe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(Z.PureComponent);Ss(gp,"displayName","Brush");Ss(gp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HRe=kC;function GRe(e,t){var r;return HRe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var KRe=GRe,YRe=UW,XRe=jf,QRe=KRe,JRe=hs,ZRe=M5;function eFe(e,t,r){var n=JRe(e)?YRe:QRe;return r&&ZRe(e,t,r)&&(t=void 0),n(e,XRe(t))}var tFe=eFe;const rFe=Zr(tFe);var jl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},MR=uH;function nFe(e,t,r){t=="__proto__"&&MR?MR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aFe=nFe,iFe=aFe,sFe=lH,oFe=jf;function lFe(e,t){var r={};return t=oFe(t),sFe(e,function(n,a,i){iFe(r,a,t(n,a,i))}),r}var cFe=lFe;const uFe=Zr(cFe);function fFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hFe=fFe,dFe=kC;function pFe(e,t){var r=!0;return dFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var mFe=pFe,gFe=hFe,vFe=mFe,yFe=jf,xFe=hs,bFe=M5;function wFe(e,t,r){var n=xFe(e)?gFe:vFe;return r&&bFe(e,t,r)&&(t=void 0),n(e,yFe(t))}var _Fe=wFe;const UG=Zr(_Fe);var SFe=["x","y"];function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UE.apply(this,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){AFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=EFe(e,"string");return dv(t)=="symbol"?t:t+""}function EFe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(e==null)return{};var r=PFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CFe(e,t){var r=e.x,n=e.y,a=kFe(e,SFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return qm(qm(qm(qm(qm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function FR(e){return Ne.createElement(hRe,UE({shapeType:"rectangle",propTransformer:CFe,activeClassName:"recharts-active-bar"},e))}var NFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Xh(),r)}},OFe=["value","background"],zG;function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function IFe(e,t){if(e==null)return{};var r=DFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){Gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function jFe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MFe(e,t,r){return t=ow(t),RFe(e,qG()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function RFe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(e)}function FFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zE(e,t)}function Gu(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=BFe(e,"string");return vp(t)=="symbol"?t:t+""}function BFe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ey=function(e){function t(){var r;LFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MFe(this,t,[].concat(a)),Gu(r,"state",{isAnimationFinished:!1}),Gu(r,"id",Gv("recharts-bar-")),Gu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Gu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return $Fe(t,e),jFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=pr(this.props,!1);return n&&n.map(function(f,h){var d=h===l,m=d?c:s,p=la(la(la({},u),f),{},{isActive:d,option:m,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ne.createElement(ea,sw({className:"recharts-bar-rectangle"},bb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ne.createElement(FR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ne.createElement(Bc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,p=i.map(function(v,y){var _=h&&h[y];if(_){var w=qo(_.x,v.x),O=qo(_.y,v.y),k=qo(_.width,v.width),C=qo(_.height,v.height);return la(la({},v),{},{x:w(m),y:O(m),width:k(m),height:C(m)})}if(s==="horizontal"){var T=qo(0,v.height),S=T(m);return la(la({},v),{},{y:v.y+v.height-S,height:S})}var A=qo(0,v.width),I=A(m);return la(la({},v),{},{width:I})});return Ne.createElement(ea,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!W5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=pr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=IFe(c,OFe);if(!f)return null;var d=la(la(la(la(la({},h),{},{fill:"#eee"},f),l),bb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ne.createElement(FR,sw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=fo(u,Zv);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(v,y){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Rs(v,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ea,m,f.map(function(p){return Ne.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,m=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Cr("recharts-bar",s),_=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,O=_||w,k=fr(p)?this.id:p;return Ne.createElement(ea,{className:y},_||w?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(k)},Ne.createElement("rect",{x:_?c:c-f/2,y:w?u:u-h/2,width:_?f:f*2,height:w?h:h*2}))):null,Ne.createElement(ea,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(k,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,k),(!d||v)&&uf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(Z.PureComponent);zG=ey;Gu(ey,"displayName","Bar");Gu(ey,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gu(ey,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=gDe(n,r);if(!d)return null;var m=t.layout,p=r.type.defaultProps,v=p!==void 0?la(la({},p),r.props):r.props,y=v.dataKey,_=v.children,w=v.minPointSize,O=m==="horizontal"?s:i,k=c?O.scale.domain():null,C=ADe({numericAxis:O}),T=fo(_,vH),S=f.map(function(A,I){var E,N,j,H,X,re;c?E=vDe(c[u+I],k):(E=Rs(A,y),Array.isArray(E)||(E=[C,E]));var J=NFe(w,zG.defaultProps.minPointSize)(E[1],I);if(m==="horizontal"){var q,B=[s.scale(E[0]),s.scale(E[1])],ne=B[0],ce=B[1];N=$M({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:A,index:I}),j=(q=ce??ne)!==null&&q!==void 0?q:void 0,H=d.size;var D=ne-ce;if(X=Number.isNaN(D)?0:D,re={x:N,y:s.y,width:H,height:s.height},Math.abs(J)>0&&Math.abs(X)<Math.abs(J)){var F=Xo(X||J)*(Math.abs(J)-Math.abs(X));j-=F,X+=F}}else{var U=[i.scale(E[0]),i.scale(E[1])],G=U[0],W=U[1];if(N=G,j=$M({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:A,index:I}),H=W-G,X=d.size,re={x:i.x,y:j,width:i.width,height:X},Math.abs(J)>0&&Math.abs(H)<Math.abs(J)){var Q=Xo(H||J)*(Math.abs(J)-Math.abs(H));H+=Q}}return la(la(la({},A),{},{x:N,y:j,width:H,height:X,value:c?E:E[1],payload:A,background:re},T&&T[I]&&T[I].props),{},{tooltipPayload:[SG(r,A)],tooltipPosition:{x:N+H/2,y:j+X/2}})});return la({data:S,layout:m},h)});function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function VFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function UFe(e,t,r){return t&&VR(e.prototype,t),r&&VR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X5(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=zFe(e,"string");return pv(t)=="symbol"?t:t+""}function zFe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qFe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ts(c,ey);return u.reduce(function(d,m){var p=r[m],v=p.orientation,y=p.domain,_=p.padding,w=_===void 0?{}:_,O=p.mirror,k=p.reversed,C="".concat(v).concat(O?"Mirror":""),T,S,A,I,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var N=y[1]-y[0],j=1/0,H=p.categoricalDomain.sort(X5e);if(H.forEach(function(U,G){G>0&&(j=Math.min((U||0)-(H[G-1]||0),j))}),Number.isFinite(j)){var X=j/N,re=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(T=X*re/2),p.padding==="no-gap"){var J=Kh(t.barCategoryGap,X*re),q=X*re/2;T=q-J-(q-J)/re*J}}}a==="xAxis"?S=[n.left+(w.left||0)+(T||0),n.left+n.width-(w.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(T||0),n.top+n.height-(w.bottom||0)-(T||0)]:S=p.range,k&&(S=[S[1],S[0]]);var B=pDe(p,i,h),ne=B.scale,ce=B.realScaleType;ne.domain(y).range(S),mDe(ne);var D=SDe(ne,Vo(Vo({},p),{},{realScaleType:ce}));a==="xAxis"?(E=v==="top"&&!O||v==="bottom"&&O,A=n.left,I=f[C]-E*p.height):a==="yAxis"&&(E=v==="left"&&!O||v==="right"&&O,A=f[C]-E*p.width,I=n.top);var F=Vo(Vo(Vo({},p),D),{},{realScaleType:ce,x:A,y:I,scale:ne,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return F.bandSize=Kb(F,D),!p.hide&&a==="xAxis"?f[C]+=(E?-1:1)*F.height:p.hide||(f[C]+=(E?-1:1)*F.width),Vo(Vo({},d),{},X5({},m,F))},{})},GG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},WFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return GG({x:r,y:n},{x:a,y:i})},KG=function(){function e(t){VFe(this,e),this.scale=t}return UFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();X5(KG,"EPS",1e-4);var nN=function(t){var r=Object.keys(t).reduce(function(n,a){return Vo(Vo({},n),{},X5({},a,KG.create(t[a])))},{});return Vo(Vo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return uFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return UG(a,function(i,s){return r[s].isInRange(i)})}})};function HFe(e){return(e%180+180)%180}var GFe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HFe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},KFe=jf,YFe=Kv,XFe=L5;function QFe(e){return function(t,r,n){var a=Object(t);if(!YFe(t)){var i=KFe(r);t=XFe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var JFe=QFe,ZFe=FG;function e7e(e){var t=ZFe(e),r=t%1;return t===t?r?t-r:t:0}var t7e=e7e,r7e=rH,n7e=jf,a7e=t7e,i7e=Math.max;function s7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:a7e(r);return a<0&&(a=i7e(n+a,0)),r7e(e,n7e(t),a)}var o7e=s7e,l7e=JFe,c7e=o7e,u7e=l7e(c7e),f7e=u7e;const h7e=Zr(f7e);var d7e=Jwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aN=Z.createContext(void 0),iN=Z.createContext(void 0),YG=Z.createContext(void 0),XG=Z.createContext({}),QG=Z.createContext(void 0),JG=Z.createContext(0),ZG=Z.createContext(0),zR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=d7e(i);return Ne.createElement(aN.Provider,{value:n},Ne.createElement(iN.Provider,{value:a},Ne.createElement(XG.Provider,{value:i},Ne.createElement(YG.Provider,{value:u},Ne.createElement(QG.Provider,{value:s},Ne.createElement(JG.Provider,{value:c},Ne.createElement(ZG.Provider,{value:l},o)))))))},p7e=function(){return Z.useContext(QG)},eK=function(t){var r=Z.useContext(aN);r==null&&Xh();var n=r[t];return n==null&&Xh(),n},m7e=function(){var t=Z.useContext(aN);return Ru(t)},g7e=function(){var t=Z.useContext(iN),r=h7e(t,function(n){return UG(n.domain,Number.isFinite)});return r||Ru(t)},tK=function(t){var r=Z.useContext(iN);r==null&&Xh();var n=r[t];return n==null&&Xh(),n},v7e=function(){var t=Z.useContext(YG);return t},y7e=function(){return Z.useContext(XG)},sN=function(){return Z.useContext(ZG)},oN=function(){return Z.useContext(JG)};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function x7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function w7e(e,t,r){return t&&b7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _7e(e,t,r){return t=lw(t),S7e(e,rK()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function S7e(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7e(e)}function A7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rK=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function T7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){lN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lN(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=E7e(e,"string");return yp(t)=="symbol"?t:t+""}function E7e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k7e(e,t){return O7e(e)||N7e(e,t)||C7e(e,t)||P7e()}function P7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7e(e,t){if(e){if(typeof e=="string")return HR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function O7e(e){if(Array.isArray(e))return e}function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(this,arguments)}var I7e=function(t,r){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,r):ar(t)?n=t(r):n=Ne.createElement("line",WE({},r,{className:"recharts-reference-line-line"})),n},D7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var m=c.y,p=t.y.apply(m,{position:s});if(jl(c,"discard")&&!t.y.isInRange(p))return null;var v=[{x:u+h,y:p},{x:u,y:p}];return l==="left"?v.reverse():v}if(r){var y=c.x,_=t.x.apply(y,{position:s});if(jl(c,"discard")&&!t.x.isInRange(_))return null;var w=[{x:_,y:f+d},{x:_,y:f}];return o==="top"?w.reverse():w}if(a){var O=c.segment,k=O.map(function(C){return t.apply(C,{position:s})});return jl(c,"discard")&&rFe(k,function(C){return!t.isInRange(C)})?null:k}return null};function L7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=p7e(),u=eK(a),f=tK(i),h=v7e();if(!c||!h)return null;wc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=nN({x:u.scale,y:f.scale}),m=ba(t),p=ba(r),v=n&&n.length===2,y=D7e(d,m,p,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var _=k7e(y,2),w=_[0],O=w.x,k=w.y,C=_[1],T=C.x,S=C.y,A=jl(e,"hidden")?"url(#".concat(c,")"):void 0,I=WR(WR({clipPath:A},pr(e,!0)),{},{x1:O,y1:k,x2:T,y2:S});return Ne.createElement(ea,{className:Cr("recharts-reference-line",o)},I7e(s,I),mi.renderCallByParent(e,WFe({x1:O,y1:k,x2:T,y2:S})))}var cN=function(e){function t(){return x7e(this,t),_7e(this,t,arguments)}return T7e(t,e),w7e(t,[{key:"render",value:function(){return Ne.createElement(L7e,this.props)}}])}(Ne.Component);lN(cN,"displayName","ReferenceLine");lN(cN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){Q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iK(n.key),n)}}function R7e(e,t,r){return t&&M7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F7e(e,t,r){return t=cw(t),$7e(e,aK()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function $7e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7e(e)}function B7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function V7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function Q5(e,t,r){return t=iK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=U7e(e,"string");return xp(t)=="symbol"?t:t+""}function U7e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=nN({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return jl(t,"discard")&&!s.isInRange(o)?null:o},J5=function(e){function t(){return j7e(this,t),F7e(this,t,arguments)}return V7e(t,e),R7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=ba(a),u=ba(i);if(wc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=z7e(this.props);if(!f)return null;var h=f.x,d=f.y,m=this.props,p=m.shape,v=m.className,y=jl(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=KR(KR({clipPath:y},pr(this.props,!0)),{},{cx:h,cy:d});return Ne.createElement(ea,{className:Cr("recharts-reference-dot",v)},t.renderDot(p,_),mi.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Ne.Component);Q5(J5,"displayName","ReferenceDot");Q5(J5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Q5(J5,"renderDot",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):ar(e)?r=e(t):r=Ne.createElement(rN,HE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oK(n.key),n)}}function H7e(e,t,r){return t&&W7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7e(e,t,r){return t=uw(t),K7e(e,sK()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function K7e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7e(e)}function Y7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function X7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function Z5(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=Q7e(e,"string");return bp(t)=="symbol"?t:t+""}function Q7e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=nN({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return jl(i,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:GG(d,m)},e_=function(e){function t(){return q7e(this,t),G7e(this,t,arguments)}return X7e(t,e),H7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;wc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ba(a),h=ba(i),d=ba(s),m=ba(o),p=this.props.shape;if(!f&&!h&&!d&&!m&&!p)return null;var v=J7e(f,h,d,m,this.props);if(!v&&!p)return null;var y=jl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ne.createElement(ea,{className:Cr("recharts-reference-area",l)},t.renderRect(p,XR(XR({clipPath:y},pr(this.props,!0)),v)),mi.renderCallByParent(this.props,v))}}])}(Ne.Component);Z5(e_,"displayName","ReferenceArea");Z5(e_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Z5(e_,"renderRect",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):ar(e)?r=e(t):r=Ne.createElement(tN,KE({},t,{className:"recharts-reference-area-rect"})),r});function lK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Z7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GFe(n,r)}function e9e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function fw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function t9e(e,t){return lK(e,t+1)}function r9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:lK(n,c)};var p=l,v,y=function(){return v===void 0&&(v=r(m,p)),v},_=m.coordinate,w=l===0||fw(e,_,y,u,o);w||(l=0,u=s,c+=1),w&&(u=_+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){n9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9e(e,t,r){return t=a9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9e(e){var t=i9e(e,"string");return mv(t)=="symbol"?t:t+""}function i9e(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],m,p=function(){return m===void 0&&(m=r(d,h)),m};if(h===s-1){var v=e*(d.coordinate+e*p()/2-l);i[h]=d=ui(ui({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate})}else i[h]=d=ui(ui({},d),{},{tickCoord:d.coordinate});var y=fw(e,d.tickCoord,p,o,l);y&&(l=d.tickCoord-e*(p()/2+a),i[h]=ui(ui({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function o9e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=ui(ui({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=fw(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=ui(ui({},u),{},{isShow:!0}))}for(var m=i?o-1:o,p=function(_){var w=s[_],O,k=function(){return O===void 0&&(O=r(w,_)),O};if(_===0){var C=e*(w.coordinate-e*k()/2-l);s[_]=w=ui(ui({},w),{},{tickCoord:C<0?w.coordinate-C*e:w.coordinate})}else s[_]=w=ui(ui({},w),{},{tickCoord:w.coordinate});var T=fw(e,w.tickCoord,k,l,c);T&&(l=w.tickCoord+e*(k()/2+a),s[_]=ui(ui({},w),{},{isShow:!0}))},v=0;v<m;v++)p(v);return s}function uN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(bt(l)||Sc.isSsr)return t9e(a,typeof l=="number"&&bt(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",m=u&&d==="width"?Rg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,O){var k=ar(c)?c(w.value,O):w.value;return d==="width"?Z7e(Rg(k,{fontSize:t,letterSpacing:r}),m,f):Rg(k,{fontSize:t,letterSpacing:r})[d]},v=a.length>=2?Xo(a[1].coordinate-a[0].coordinate):1,y=e9e(i,v,d);return l==="equidistantPreserveStart"?r9e(v,y,p,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=o9e(v,y,p,a,s,l==="preserveStartEnd"):h=s9e(v,y,p,a,s),h.filter(function(_){return _.isShow}))}var l9e=["viewBox"],c9e=["viewBox"],u9e=["ticks"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){fN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gA(e,t){if(e==null)return{};var r=f9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uK(n.key),n)}}function d9e(e,t,r){return t&&ZR(e.prototype,t),r&&ZR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9e(e,t,r){return t=hw(t),m9e(e,cK()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function m9e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(e)}function g9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function v9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function fN(e,t,r){return t=uK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=y9e(e,"string");return wp(t)=="symbol"?t:t+""}function y9e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nm=function(e){function t(r){var n;return h9e(this,t),n=p9e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return v9e(t,e),d9e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=gA(n,l9e),o=this.props,l=o.viewBox,c=gA(o,c9e);return!j0(i,l)||!j0(s,c)||!j0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,m,p,v,y,_,w=f?-1:1,O=n.tickSize||u,k=bt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=m=n.coordinate,v=s+ +!f*l,p=v-w*O,_=p-w*h,y=k;break;case"left":p=v=n.coordinate,m=i+ +!f*o,d=m-w*O,y=d-w*h,_=k;break;case"right":p=v=n.coordinate,m=i+ +f*o,d=m+w*O,y=d+w*h,_=k;break;default:d=m=n.coordinate,v=s+ +f*l,p=v+w*O,_=p+w*h,y=k;break}return{line:{x1:d,y1:p,x2:m,y2:v},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Di(Di(Di({},pr(this.props,!1)),pr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Di(Di({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Di(Di({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Ne.createElement("line",v0({},f,{className:Cr("recharts-cartesian-axis-line",uo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=uN(Di(Di({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=pr(this.props,!1),y=pr(u,!1),_=Di(Di({},v),{},{fill:"none"},pr(l,!1)),w=d.map(function(O,k){var C=s.getTickLineCoord(O),T=C.line,S=C.tick,A=Di(Di(Di(Di({textAnchor:m,verticalAnchor:p},v),{},{stroke:"none",fill:c},y),S),{},{index:k,payload:O,visibleTicksCount:d.length,tickFormatter:f});return Ne.createElement(ea,v0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},bb(s.props,O,k)),l&&Ne.createElement("line",v0({},_,T,{className:Cr("recharts-cartesian-axis-tick-line",uo(l,"className"))})),u&&t.renderTickItem(u,A,"".concat(ar(f)?f(O.value,k):O.value).concat(h||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=gA(f,u9e),m=h;return ar(l)&&(m=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!m||!m.length?null:Ne.createElement(ea,{className:Cr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),mi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ne.isValidElement(n)?s=Ne.cloneElement(n,a):ar(n)?s=n(a):s=Ne.createElement(Lb,v0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(Z.Component);fN(nm,"displayName","CartesianAxis");fN(nm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var x9e=["x1","y1","x2","y2","key"],b9e=["offset"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){w9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w9e(e,t,r){return t=_9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9e(e){var t=S9e(e,"string");return Qh(t)=="symbol"?t:t+""}function S9e(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}function tF(e,t){if(e==null)return{};var r=A9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T9e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ne.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fK(e,t){var r;if(Ne.isValidElement(e))r=Ne.cloneElement(e,t);else if(ar(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=tF(t,x9e),c=pr(l,!1);c.offset;var u=tF(c,b9e);r=Ne.createElement("line",Eh({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function E9e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=gi(gi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return fK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function k9e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=gi(gi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return fK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function P9e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],p=m?a+s-h:u[d+1]-h;if(p<=0)return null;var v=d%t.length;return Ne.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function C9e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],p=m?i+o-h:u[d+1]-h;if(p<=0)return null;var v=d%n.length;return Ne.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:p,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var N9e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return wG(uN(gi(gi(gi({},nm.defaultProps),n),{},{ticks:mc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},O9e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return wG(uN(gi(gi(gi({},nm.defaultProps),n),{},{ticks:mc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},zd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function r2(e){var t,r,n,a,i,s,o=sN(),l=oN(),c=y7e(),u=gi(gi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:zd.verticalFill,x:bt(e.x)?e.x:c.left,y:bt(e.y)?e.y:c.top,width:bt(e.width)?e.width:c.width,height:bt(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,m=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,_=m7e(),w=g7e();if(!bt(d)||d<=0||!bt(m)||m<=0||!bt(f)||f!==+f||!bt(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||N9e,k=u.horizontalCoordinatesGenerator||O9e,C=u.horizontalPoints,T=u.verticalPoints;if((!C||!C.length)&&ar(k)){var S=v&&v.length,A=k({yAxis:w?gi(gi({},w),{},{ticks:S?v:w.ticks}):void 0,width:o,height:l,offset:c},S?!0:p);wc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Qh(A),"]")),Array.isArray(A)&&(C=A)}if((!T||!T.length)&&ar(O)){var I=y&&y.length,E=O({xAxis:_?gi(gi({},_),{},{ticks:I?y:_.ticks}):void 0,width:o,height:l,offset:c},I?!0:p);wc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Qh(E),"]")),Array.isArray(E)&&(T=E)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(T9e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ne.createElement(E9e,Eh({},u,{offset:c,horizontalPoints:C,xAxis:_,yAxis:w})),Ne.createElement(k9e,Eh({},u,{offset:c,verticalPoints:T,xAxis:_,yAxis:w})),Ne.createElement(P9e,Eh({},u,{horizontalPoints:C})),Ne.createElement(C9e,Eh({},u,{verticalPoints:T})))}r2.displayName="CartesianGrid";var I9e=["type","layout","connectNulls","ref"],D9e=["key"];function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function rF(e,t){if(e==null)return{};var r=L9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qd(e){return F9e(e)||R9e(e)||M9e(e)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9e(e,t){if(e){if(typeof e=="string")return QE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(e,t)}}function R9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F9e(e){if(Array.isArray(e))return QE(e)}function QE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dK(n.key),n)}}function B9e(e,t,r){return t&&aF(e.prototype,t),r&&aF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V9e(e,t,r){return t=dw(t),U9e(e,hK()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function U9e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z9e(e)}function z9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function Uo(e,t,r){return t=dK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=W9e(e,"string");return _p(t)=="symbol"?t:t+""}function W9e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _l=function(e){function t(){var r;$9e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V9e(this,t,[].concat(a)),Uo(r,"state",{isAnimationFinished:!0,totalLength:0}),Uo(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Uo(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,_){return y+_});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>f){d=[].concat(qd(l.slice(0,m)),[f-p]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(qd(t.repeat(l,u)),qd(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Uo(r,"id",Gv("recharts-line-")),Uo(r,"pathRef",function(s){r.mainCurve=s}),Uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q9e(t,e),B9e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=fo(u,Zv);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Rs(p.payload,v)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ea,d,f.map(function(m){return Ne.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=pr(this.props,!1),h=pr(l,!0),d=c.map(function(p,v){var y=_s(_s(_s({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ne.createElement(ea,Vg({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=rF(o,I9e),h=_s(_s(_s({},pr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ne.createElement(CE,Vg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,m=s.animateNewValues,p=s.width,v=s.height,y=this.state,_=y.prevPoints,w=y.totalLength;return Ne.createElement(Bc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var k=O.t;if(_){var C=_.length/o.length,T=o.map(function(N,j){var H=Math.floor(j*C);if(_[H]){var X=_[H],re=qo(X.x,N.x),J=qo(X.y,N.y);return _s(_s({},N),{},{x:re(k),y:J(k)})}if(m){var q=qo(p*2,N.x),B=qo(v/2,N.y);return _s(_s({},N),{},{x:q(k),y:B(k)})}return _s(_s({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var S=qo(0,w),A=S(k),I;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});I=i.getStrokeDasharray(A,w,E)}else I=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!W5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,m=a.height,p=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,_=o.length===1,w=Cr("recharts-line",l),O=c&&c.allowDataOverflow,k=u&&u.allowDataOverflow,C=O||k,T=fr(v)?this.id:v,S=(n=pr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,I=A===void 0?3:A,E=S.strokeWidth,N=E===void 0?2:E,j=i_e(s)?s:{},H=j.clipDot,X=H===void 0?!0:H,re=I*2+N;return Ne.createElement(ea,{className:w},O||k?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(T)},Ne.createElement("rect",{x:O?h:h-d/2,y:k?f:f-m/2,width:O?d:d*2,height:k?m:m*2})),!X&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ne.createElement("rect",{x:h-re/2,y:f-re/2,width:d+re,height:m+re}))):null,!_&&this.renderCurve(C,T),this.renderErrorBar(C,T),(_||s)&&this.renderDots(C,X,T),(!p||y)&&uf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(qd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(qd(s),qd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ne.isValidElement(n))i=Ne.cloneElement(n,a);else if(ar(n))i=n(a);else{var s=a.key,o=rF(a,D9e),l=Cr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ne.createElement(rN,Vg({key:s},o,{className:l}))}return i}}])}(Z.PureComponent);Uo(_l,"displayName","Line");Uo(_l,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Uo(_l,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var m=Rs(h,s);return u==="horizontal"?{x:FM({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:fr(m)?null:n.scale(m),value:m,payload:h}:{x:fr(m)?null:r.scale(m),y:FM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:m,payload:h}});return _s({points:f,layout:u},c)});function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function H9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gK(n.key),n)}}function K9e(e,t,r){return t&&G9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y9e(e,t,r){return t=pw(t),X9e(e,pK()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function X9e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q9e(e)}function Q9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function J9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZE(e,t)}function mK(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=Z9e(e,"string");return Sp(t)=="symbol"?t:t+""}function Z9e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function e$e(e){var t=e.xAxisId,r=sN(),n=oN(),a=eK(t);return a==null?null:Ne.createElement(nm,e3({},a,{className:Cr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return mc(s,!0)}}))}var F0=function(e){function t(){return H9e(this,t),Y9e(this,t,arguments)}return J9e(t,e),K9e(t,[{key:"render",value:function(){return Ne.createElement(e$e,this.props)}}])}(Ne.Component);mK(F0,"displayName","XAxis");mK(F0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function t$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xK(n.key),n)}}function n$e(e,t,r){return t&&r$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$e(e,t,r){return t=mw(t),i$e(e,vK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function i$e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(e)}function s$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function o$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function yK(e,t,r){return t=xK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=l$e(e,"string");return Ap(t)=="symbol"?t:t+""}function l$e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}var c$e=function(t){var r=t.yAxisId,n=sN(),a=oN(),i=tK(r);return i==null?null:Ne.createElement(nm,r3({},i,{className:Cr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return mc(o,!0)}}))},$0=function(e){function t(){return t$e(this,t),a$e(this,t,arguments)}return o$e(t,e),n$e(t,[{key:"render",value:function(){return Ne.createElement(c$e,this.props)}}])}(Ne.Component);yK($0,"displayName","YAxis");yK($0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iF(e){return d$e(e)||h$e(e)||f$e(e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function h$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d$e(e){if(Array.isArray(e))return n3(e)}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a3=function(t,r,n,a,i){var s=fo(t,cN),o=fo(t,J5),l=[].concat(iF(s),iF(o)),c=fo(t,e_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(p,v){if(v.props[u]===n&&jl(v.props,"extendDomain")&&bt(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),c.length){var d="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(p,v){if(v.props[u]===n&&jl(v.props,"extendDomain")&&bt(v.props[d])&&bt(v.props[m])){var y=v.props[d],_=v.props[m];return[Math.min(p[0],y,_),Math.max(p[1],y,_)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return bt(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},bK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,m){var p=r?r+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,m),!0}for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var O=v.length,k;for(w=0;w<O;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!_)for(k=1,_=new Array(y-1);k<y;k++)_[k-1]=arguments[k];v[w].fn.apply(v[w].context,_)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var m=this._events[d];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&s(this,d);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||h&&!m[p].once||f&&m[p].context!==f)&&v.push(m[p]);v.length?this._events[d]=v.length===1?v[0]:v:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(bK);var p$e=bK.exports;const m$e=Zr(p$e);var vA=new m$e,yA="recharts.syncMouseEvents";function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xA(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=x$e(e,"string");return gv(t)=="symbol"?t:t+""}function x$e(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b$e=function(){function e(){g$e(this,e),xA(this,"activeIndex",0),xA(this,"coordinateList",[]),xA(this,"layout","horizontal")}return y$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function w$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&bt(n)&&bt(a))return!0}return!1}function _$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _K(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ga(t,r,n,a),o=Ga(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function S$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Ga(o,l,c,f),d=Ga(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return _K(t);return[{x:n,y:a},{x:i,y:s}]}function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){A$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A$e(e,t,r){return t=T$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$e(e){var t=E$e(e,"string");return vv(t)=="symbol"?t:t+""}function E$e(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,p=CE;if(h==="ScatterChart")m=s,p=EMe;else if(h==="BarChart")m=_$e(f,s,l,u),p=tN;else if(f==="radial"){var v=_K(s),y=v.cx,_=v.cy,w=v.radius,O=v.startAngle,k=v.endAngle;m={cx:y,cy:_,startAngle:O,endAngle:k,innerRadius:w,outerRadius:w},p=EG}else m={points:S$e(f,s,l)},p=CE;var C=Ex(Ex(Ex(Ex({stroke:"#ccc",pointerEvents:"none"},l),m),pr(d,!1)),{},{payload:o,payloadIndex:c,className:Cr("recharts-tooltip-cursor",d.className)});return Z.isValidElement(d)?Z.cloneElement(d,C):Z.createElement(p,C)}var P$e=["item"],C$e=["children","className","width","height","style","compact","title","desc"];function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function oF(e,t){return I$e(e)||O$e(e,t)||AK(e,t)||N$e()}function N$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function I$e(e){if(Array.isArray(e))return e}function lF(e,t){if(e==null)return{};var r=D$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TK(n.key),n)}}function M$e(e,t,r){return t&&j$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$e(e,t,r){return t=gw(t),F$e(e,SK()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function F$e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $$e(e)}function $$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function B$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function Ep(e){return z$e(e)||U$e(e)||AK(e)||V$e()}function V$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return s3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(e,t)}}function U$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z$e(e){if(Array.isArray(e))return s3(e)}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){Vt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vt(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=q$e(e,"string");return Tp(t)=="symbol"?t:t+""}function q$e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W$e={xAxis:["bottom","top"],yAxis:["left","right"]},H$e={width:"100%",height:"100%"},EK={x:0,y:0};function kx(e){return e}var G$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},K$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return Ze(Ze(Ze({},a),Ga(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return Ze(Ze(Ze({},a),Ga(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return EK},t_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Ep(o),Ep(c)):o},[]);return s.length>0?s:t&&t.length&&bt(a)&&bt(i)?t.slice(a,i+1):[]};function kK(e){return e==="number"?[0,"auto"]:void 0}var o3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=t_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=yb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Ep(l),[SG(c,h)]):l},[])},uF=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=G$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=lDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=o3(t,r,u,f),d=K$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Y$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=bG(u,i);return n.reduce(function(m,p){var v,y=p.type.defaultProps!==void 0?Ze(Ze({},p.type.defaultProps),p.props):p.props,_=y.type,w=y.dataKey,O=y.allowDataOverflow,k=y.allowDuplicatedCategory,C=y.scale,T=y.ticks,S=y.includeHidden,A=y[s];if(m[A])return m;var I=t_(t.data,{graphicalItems:a.filter(function(D){var F,U=s in D.props?D.props[s]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[s];return U===A}),dataStartIndex:l,dataEndIndex:c}),E=I.length,N,j,H;w$e(y.domain,O,_)&&(N=AE(y.domain,null,O),d&&(_==="number"||C!=="auto")&&(H=$g(I,w,"category")));var X=kK(_);if(!N||N.length===0){var re,J=(re=y.domain)!==null&&re!==void 0?re:X;if(w){if(N=$g(I,w,_),_==="category"&&d){var q=Y5e(N);k&&q?(j=N,N=nw(0,E)):k||(N=UM(J,N,p).reduce(function(D,F){return D.indexOf(F)>=0?D:[].concat(Ep(D),[F])},[]))}else if(_==="category")k?N=N.filter(function(D){return D!==""&&!fr(D)}):N=UM(J,N,p).reduce(function(D,F){return D.indexOf(F)>=0||F===""||fr(F)?D:[].concat(Ep(D),[F])},[]);else if(_==="number"){var B=dDe(I,a.filter(function(D){var F,U,G=s in D.props?D.props[s]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[s],W="hide"in D.props?D.props.hide:(U=D.type.defaultProps)===null||U===void 0?void 0:U.hide;return G===A&&(S||!W)}),w,i,u);B&&(N=B)}d&&(_==="number"||C!=="auto")&&(H=$g(I,w,"category"))}else d?N=nw(0,E):o&&o[A]&&o[A].hasStack&&_==="number"?N=h==="expand"?[0,1]:_G(o[A].stackGroups,l,c):N=xG(I,a.filter(function(D){var F=s in D.props?D.props[s]:D.type.defaultProps[s],U="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return F===A&&(S||!U)}),_,u,!0);if(_==="number")N=a3(f,N,A,i,T),J&&(N=AE(J,N,O));else if(_==="category"&&J){var ne=J,ce=N.every(function(D){return ne.indexOf(D)>=0});ce&&(N=ne)}}return Ze(Ze({},m),{},Vt({},A,Ze(Ze({},y),{},{axisType:i,domain:N,categoricalDomain:H,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:X,isCategorical:d,layout:u})))},{})},X$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,m=bG(u,i),p=-1;return n.reduce(function(v,y){var _=y.type.defaultProps!==void 0?Ze(Ze({},y.type.defaultProps),y.props):y.props,w=_[s],O=kK("number");if(!v[w]){p++;var k;return m?k=nw(0,d):o&&o[w]&&o[w].hasStack?(k=_G(o[w].stackGroups,l,c),k=a3(f,k,w,i)):(k=AE(O,xG(h,n.filter(function(C){var T,S,A=s in C.props?C.props[s]:(T=C.type.defaultProps)===null||T===void 0?void 0:T[s],I="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===w&&!I}),"number",u),a.defaultProps.allowDataOverflow),k=a3(f,k,w,i)),Ze(Ze({},v),{},Vt({},w,Ze(Ze({axisType:i},a.defaultProps),{},{hide:!0,orientation:uo(W$e,"".concat(i,".").concat(p%2),null),domain:k,originalDomain:O,isCategorical:m,layout:u})))}return v},{})},Q$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=fo(u,i),d={};return h&&h.length?d=Y$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=X$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},J$e=function(t){var r=Ru(t),n=mc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:PC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Kb(r,n)}},fF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ts(r,gp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Z$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=bc(r&&r.type);return n&&n.indexOf("Bar")>=0})},hF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Ts(f,gp),m=Ts(f,_c),p=Object.keys(l).reduce(function(k,C){var T=l[C],S=T.orientation;return!T.mirror&&!T.hide?Ze(Ze({},k),{},Vt({},S,k[S]+T.width)):k},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(k,C){var T=s[C],S=T.orientation;return!T.mirror&&!T.hide?Ze(Ze({},k),{},Vt({},S,uo(k,"".concat(S))+T.height)):k},{top:h.top||0,bottom:h.bottom||0}),y=Ze(Ze({},v),p),_=y.bottom;d&&(y.bottom+=d.props.height||gp.defaultProps.height),m&&r&&(y=fDe(y,a,n,r));var w=c-y.left-y.right,O=u-y.top-y.bottom;return Ze(Ze({brushBottom:_},y),{},{width:Math.max(w,0),height:Math.max(O,0)})},tBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,_){var w=_.graphicalItems,O=_.stackGroups,k=_.offset,C=_.updateId,T=_.dataStartIndex,S=_.dataEndIndex,A=y.barSize,I=y.layout,E=y.barGap,N=y.barCategoryGap,j=y.maxBarSize,H=hF(I),X=H.numericAxisName,re=H.cateAxisName,J=Z$e(w),q=[];return w.forEach(function(B,ne){var ce=t_(y.data,{graphicalItems:[B],dataStartIndex:T,dataEndIndex:S}),D=B.type.defaultProps!==void 0?Ze(Ze({},B.type.defaultProps),B.props):B.props,F=D.dataKey,U=D.maxBarSize,G=D["".concat(X,"Id")],W=D["".concat(re,"Id")],Q={},oe=l.reduce(function(Fe,Ge){var Ye=_["".concat(Ge.axisType,"Map")],et=D["".concat(Ge.axisType,"Id")];Ye&&Ye[et]||Ge.axisType==="zAxis"||Xh();var we=Ye[et];return Ze(Ze({},Fe),{},Vt(Vt({},Ge.axisType,we),"".concat(Ge.axisType,"Ticks"),mc(we)))},Q),Y=oe[re],ue=oe["".concat(re,"Ticks")],pe=O&&O[G]&&O[G].hasStack&&TDe(B,O[G].stackGroups),K=bc(B.type).indexOf("Bar")>=0,je=Kb(Y,ue),Oe=[],Se=J&&cDe({barSize:A,stackGroups:O,totalSize:tBe(oe,re)});if(K){var ae,Ce,Ae=fr(U)?j:U,ke=(ae=(Ce=Kb(Y,ue,!0))!==null&&Ce!==void 0?Ce:Ae)!==null&&ae!==void 0?ae:0;Oe=uDe({barGap:E,barCategoryGap:N,bandSize:ke!==je?ke:je,sizeList:Se[W],maxBarSize:Ae}),ke!==je&&(Oe=Oe.map(function(Fe){return Ze(Ze({},Fe),{},{position:Ze(Ze({},Fe.position),{},{offset:Fe.position.offset-ke/2})})}))}var He=B&&B.type&&B.type.getComposedData;He&&q.push({props:Ze(Ze({},He(Ze(Ze({},oe),{},{displayedData:ce,props:y,dataKey:F,item:B,bandSize:je,barPosition:Oe,offset:k,stackedData:pe,layout:I,dataStartIndex:T,dataEndIndex:S}))),{},Vt(Vt(Vt({key:B.key||"item-".concat(ne)},X,oe[X]),re,oe[re]),"animationId",C)),childIndex:l_e(B,y.children),item:B})}),q},d=function(y,_){var w=y.props,O=y.dataStartIndex,k=y.dataEndIndex,C=y.updateId;if(!jL({props:w}))return null;var T=w.children,S=w.layout,A=w.stackOffset,I=w.data,E=w.reverseStackOrder,N=hF(S),j=N.numericAxisName,H=N.cateAxisName,X=fo(T,n),re=_De(I,X,"".concat(j,"Id"),"".concat(H,"Id"),A,E),J=l.reduce(function(D,F){var U="".concat(F.axisType,"Map");return Ze(Ze({},D),{},Vt({},U,Q$e(w,Ze(Ze({},F),{},{graphicalItems:X,stackGroups:F.axisType===j&&re,dataStartIndex:O,dataEndIndex:k}))))},{}),q=eBe(Ze(Ze({},J),{},{props:w,graphicalItems:X}),_==null?void 0:_.legendBBox);Object.keys(J).forEach(function(D){J[D]=u(w,J[D],q,D.replace("Map",""),r)});var B=J["".concat(H,"Map")],ne=J$e(B),ce=h(w,Ze(Ze({},J),{},{dataStartIndex:O,dataEndIndex:k,updateId:C,graphicalItems:X,stackGroups:re,offset:q}));return Ze(Ze({formattedGraphicalItems:ce,graphicalItems:X,offset:q,stackGroups:re},ne),J)},m=function(v){function y(_){var w,O,k;return L$e(this,y),k=R$e(this,y,[_]),Vt(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(k,"accessibilityManager",new b$e),Vt(k,"handleLegendBBoxUpdate",function(C){if(C){var T=k.state,S=T.dataStartIndex,A=T.dataEndIndex,I=T.updateId;k.setState(Ze({legendBBox:C},d({props:k.props,dataStartIndex:S,dataEndIndex:A,updateId:I},Ze(Ze({},k.state),{},{legendBBox:C}))))}}),Vt(k,"handleReceiveSyncEvent",function(C,T,S){if(k.props.syncId===C){if(S===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(T)}}),Vt(k,"handleBrushChange",function(C){var T=C.startIndex,S=C.endIndex;if(T!==k.state.dataStartIndex||S!==k.state.dataEndIndex){var A=k.state.updateId;k.setState(function(){return Ze({dataStartIndex:T,dataEndIndex:S},d({props:k.props,dataStartIndex:T,dataEndIndex:S,updateId:A},k.state))}),k.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),Vt(k,"handleMouseEnter",function(C){var T=k.getMouseInfo(C);if(T){var S=Ze(Ze({},T),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var A=k.props.onMouseEnter;ar(A)&&A(S,C)}}),Vt(k,"triggeredAfterMouseMove",function(C){var T=k.getMouseInfo(C),S=T?Ze(Ze({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(S),k.triggerSyncEvent(S);var A=k.props.onMouseMove;ar(A)&&A(S,C)}),Vt(k,"handleItemMouseEnter",function(C){k.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Vt(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Vt(k,"handleMouseMove",function(C){C.persist(),k.throttleTriggeredAfterMouseMove(C)}),Vt(k,"handleMouseLeave",function(C){k.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var S=k.props.onMouseLeave;ar(S)&&S(T,C)}),Vt(k,"handleOuterEvent",function(C){var T=o_e(C),S=uo(k.props,"".concat(T));if(T&&ar(S)){var A,I;/.*touch.*/i.test(T)?I=k.getMouseInfo(C.changedTouches[0]):I=k.getMouseInfo(C),S((A=I)!==null&&A!==void 0?A:{},C)}}),Vt(k,"handleClick",function(C){var T=k.getMouseInfo(C);if(T){var S=Ze(Ze({},T),{},{isTooltipActive:!0});k.setState(S),k.triggerSyncEvent(S);var A=k.props.onClick;ar(A)&&A(S,C)}}),Vt(k,"handleMouseDown",function(C){var T=k.props.onMouseDown;if(ar(T)){var S=k.getMouseInfo(C);T(S,C)}}),Vt(k,"handleMouseUp",function(C){var T=k.props.onMouseUp;if(ar(T)){var S=k.getMouseInfo(C);T(S,C)}}),Vt(k,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Vt(k,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseDown(C.changedTouches[0])}),Vt(k,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseUp(C.changedTouches[0])}),Vt(k,"handleDoubleClick",function(C){var T=k.props.onDoubleClick;if(ar(T)){var S=k.getMouseInfo(C);T(S,C)}}),Vt(k,"handleContextMenu",function(C){var T=k.props.onContextMenu;if(ar(T)){var S=k.getMouseInfo(C);T(S,C)}}),Vt(k,"triggerSyncEvent",function(C){k.props.syncId!==void 0&&vA.emit(yA,k.props.syncId,C,k.eventEmitterSymbol)}),Vt(k,"applySyncEvent",function(C){var T=k.props,S=T.layout,A=T.syncMethod,I=k.state.updateId,E=C.dataStartIndex,N=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)k.setState(Ze({dataStartIndex:E,dataEndIndex:N},d({props:k.props,dataStartIndex:E,dataEndIndex:N,updateId:I},k.state)));else if(C.activeTooltipIndex!==void 0){var j=C.chartX,H=C.chartY,X=C.activeTooltipIndex,re=k.state,J=re.offset,q=re.tooltipTicks;if(!J)return;if(typeof A=="function")X=A(q,C);else if(A==="value"){X=-1;for(var B=0;B<q.length;B++)if(q[B].value===C.activeLabel){X=B;break}}var ne=Ze(Ze({},J),{},{x:J.left,y:J.top}),ce=Math.min(j,ne.x+ne.width),D=Math.min(H,ne.y+ne.height),F=q[X]&&q[X].value,U=o3(k.state,k.props.data,X),G=q[X]?{x:S==="horizontal"?q[X].coordinate:ce,y:S==="horizontal"?D:q[X].coordinate}:EK;k.setState(Ze(Ze({},C),{},{activeLabel:F,activeCoordinate:G,activePayload:U,activeTooltipIndex:X}))}else k.setState(C)}),Vt(k,"renderCursor",function(C){var T,S=k.state,A=S.isTooltipActive,I=S.activeCoordinate,E=S.activePayload,N=S.offset,j=S.activeTooltipIndex,H=S.tooltipAxisBandSize,X=k.getTooltipEventType(),re=(T=C.props.active)!==null&&T!==void 0?T:A,J=k.props.layout,q=C.key||"_recharts-cursor";return Ne.createElement(k$e,{key:q,activeCoordinate:I,activePayload:E,activeTooltipIndex:j,chartName:r,element:C,isActive:re,layout:J,offset:N,tooltipAxisBandSize:H,tooltipEventType:X})}),Vt(k,"renderPolarAxis",function(C,T,S){var A=uo(C,"type.axisType"),I=uo(k.state,"".concat(A,"Map")),E=C.type.defaultProps,N=E!==void 0?Ze(Ze({},E),C.props):C.props,j=I&&I[N["".concat(A,"Id")]];return Z.cloneElement(C,Ze(Ze({},j),{},{className:Cr(A,j.className),key:C.key||"".concat(T,"-").concat(S),ticks:mc(j,!0)}))}),Vt(k,"renderPolarGrid",function(C){var T=C.props,S=T.radialLines,A=T.polarAngles,I=T.polarRadius,E=k.state,N=E.radiusAxisMap,j=E.angleAxisMap,H=Ru(N),X=Ru(j),re=X.cx,J=X.cy,q=X.innerRadius,B=X.outerRadius;return Z.cloneElement(C,{polarAngles:Array.isArray(A)?A:mc(X,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(I)?I:mc(H,!0).map(function(ne){return ne.coordinate}),cx:re,cy:J,innerRadius:q,outerRadius:B,key:C.key||"polar-grid",radialLines:S})}),Vt(k,"renderLegend",function(){var C=k.state.formattedGraphicalItems,T=k.props,S=T.children,A=T.width,I=T.height,E=k.props.margin||{},N=A-(E.left||0)-(E.right||0),j=vG({children:S,formattedGraphicalItems:C,legendWidth:N,legendContent:c});if(!j)return null;var H=j.item,X=lF(j,P$e);return Z.cloneElement(H,Ze(Ze({},X),{},{chartWidth:A,chartHeight:I,margin:E,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Vt(k,"renderTooltip",function(){var C,T=k.props,S=T.children,A=T.accessibilityLayer,I=Ts(S,no);if(!I)return null;var E=k.state,N=E.isTooltipActive,j=E.activeCoordinate,H=E.activePayload,X=E.activeLabel,re=E.offset,J=(C=I.props.active)!==null&&C!==void 0?C:N;return Z.cloneElement(I,{viewBox:Ze(Ze({},re),{},{x:re.left,y:re.top}),active:J,label:X,payload:J?H:[],coordinate:j,accessibilityLayer:A})}),Vt(k,"renderBrush",function(C){var T=k.props,S=T.margin,A=T.data,I=k.state,E=I.offset,N=I.dataStartIndex,j=I.dataEndIndex,H=I.updateId;return Z.cloneElement(C,{key:C.key||"_recharts-brush",onChange:_x(k.handleBrushChange,C.props.onChange),data:A,x:bt(C.props.x)?C.props.x:E.left,y:bt(C.props.y)?C.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:bt(C.props.width)?C.props.width:E.width,startIndex:N,endIndex:j,updateId:"brush-".concat(H)})}),Vt(k,"renderReferenceElement",function(C,T,S){if(!C)return null;var A=k,I=A.clipPathId,E=k.state,N=E.xAxisMap,j=E.yAxisMap,H=E.offset,X=C.type.defaultProps||{},re=C.props,J=re.xAxisId,q=J===void 0?X.xAxisId:J,B=re.yAxisId,ne=B===void 0?X.yAxisId:B;return Z.cloneElement(C,{key:C.key||"".concat(T,"-").concat(S),xAxis:N[q],yAxis:j[ne],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:I})}),Vt(k,"renderActivePoints",function(C){var T=C.item,S=C.activePoint,A=C.basePoint,I=C.childIndex,E=C.isRange,N=[],j=T.props.key,H=T.item.type.defaultProps!==void 0?Ze(Ze({},T.item.type.defaultProps),T.item.props):T.item.props,X=H.activeDot,re=H.dataKey,J=Ze(Ze({index:I,dataKey:re,cx:S.x,cy:S.y,r:4,fill:eN(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},pr(X,!1)),xb(X));return N.push(y.renderActiveDot(X,J,"".concat(j,"-activePoint-").concat(I))),A?N.push(y.renderActiveDot(X,Ze(Ze({},J),{},{cx:A.x,cy:A.y}),"".concat(j,"-basePoint-").concat(I))):E&&N.push(null),N}),Vt(k,"renderGraphicChild",function(C,T,S){var A=k.filterFormatItem(C,T,S);if(!A)return null;var I=k.getTooltipEventType(),E=k.state,N=E.isTooltipActive,j=E.tooltipAxis,H=E.activeTooltipIndex,X=E.activeLabel,re=k.props.children,J=Ts(re,no),q=A.props,B=q.points,ne=q.isRange,ce=q.baseLine,D=A.item.type.defaultProps!==void 0?Ze(Ze({},A.item.type.defaultProps),A.item.props):A.item.props,F=D.activeDot,U=D.hide,G=D.activeBar,W=D.activeShape,Q=!!(!U&&N&&J&&(F||G||W)),oe={};I!=="axis"&&J&&J.props.trigger==="click"?oe={onClick:_x(k.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(oe={onMouseLeave:_x(k.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:_x(k.handleItemMouseEnter,C.props.onMouseEnter)});var Y=Z.cloneElement(C,Ze(Ze({},A.props),oe));function ue(Ge){return typeof j.dataKey=="function"?j.dataKey(Ge.payload):null}if(Q)if(H>=0){var pe,K;if(j.dataKey&&!j.allowDuplicatedCategory){var je=typeof j.dataKey=="function"?ue:"payload.".concat(j.dataKey.toString());pe=yb(B,je,X),K=ne&&ce&&yb(ce,je,X)}else pe=B==null?void 0:B[H],K=ne&&ce&&ce[H];if(W||G){var Oe=C.props.activeIndex!==void 0?C.props.activeIndex:H;return[Z.cloneElement(C,Ze(Ze(Ze({},A.props),oe),{},{activeIndex:Oe})),null,null]}if(!fr(pe))return[Y].concat(Ep(k.renderActivePoints({item:A,activePoint:pe,basePoint:K,childIndex:H,isRange:ne})))}else{var Se,ae=(Se=k.getItemByXY(k.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:Y},Ce=ae.graphicalItem,Ae=Ce.item,ke=Ae===void 0?C:Ae,He=Ce.childIndex,Fe=Ze(Ze(Ze({},A.props),oe),{},{activeIndex:He});return[Z.cloneElement(ke,Fe),null,null]}return ne?[Y,null,null]:[Y,null]}),Vt(k,"renderCustomized",function(C,T,S){return Z.cloneElement(C,Ze(Ze({key:"recharts-customized-".concat(S)},k.props),k.state))}),Vt(k,"renderMap",{CartesianGrid:{handler:kx,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:kx},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:kx},YAxis:{handler:kx},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:Gv("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=gH(k.triggeredAfterMouseMove,(O=_.throttleDelay)!==null&&O!==void 0?O:1e3/60),k.state={},k}return B$e(y,v),M$e(y,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,k=w.data,C=w.height,T=w.layout,S=Ts(O,no);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=o3(this.state,k,A,I),N=this.state.tooltipTicks[A].coordinate,j=(this.state.offset.top+C)/2,H=T==="horizontal",X=H?{x:N,y:j}:{y:N,x:j},re=this.state.formattedGraphicalItems.find(function(q){var B=q.item;return B.type.name==="Scatter"});re&&(X=Ze(Ze({},X),re.props.points[A].tooltipPosition),E=re.props.points[A].tooltipPayload);var J={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:X};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var k,C;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){$T([Ts(w.children,no)],[Ts(this.props.children,no)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ts(this.props.children,no);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,k=O.getBoundingClientRect(),C=LNe(k),T={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},S=k.width/O.offsetWidth||1,A=this.inRange(T.chartX,T.chartY,S);if(!A)return null;var I=this.state,E=I.xAxisMap,N=I.yAxisMap,j=this.getTooltipEventType(),H=uF(this.state,this.props.data,this.props.layout,A);if(j!=="axis"&&E&&N){var X=Ru(E).scale,re=Ru(N).scale,J=X&&X.invert?X.invert(T.chartX):null,q=re&&re.invert?re.invert(T.chartY):null;return Ze(Ze({},T),{},{xValue:J,yValue:q},H)}return H?Ze(Ze({},T),H):null}},{key:"inRange",value:function(w,O){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,T=w/k,S=O/k;if(C==="horizontal"||C==="vertical"){var A=this.state.offset,I=T>=A.left&&T<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return I?{x:T,y:S}:null}var E=this.state,N=E.angleAxisMap,j=E.radiusAxisMap;if(N&&j){var H=Ru(N);return WM({x:T,y:S},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),k=Ts(w,no),C={};k&&O==="axis"&&(k.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=xb(this.props,this.handleOuterEvent);return Ze(Ze({},T),C)}},{key:"addListener",value:function(){vA.on(yA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vA.removeListener(yA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,k){for(var C=this.state.formattedGraphicalItems,T=0,S=C.length;T<S;T++){var A=C[T];if(A.item===w||A.props.key===w.key||O===bc(A.item.type)&&k===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,k=O.left,C=O.top,T=O.height,S=O.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:w},Ne.createElement("rect",{x:k,y:C,height:T,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,k){var C=oF(k,2),T=C[0],S=C[1];return Ze(Ze({},O),{},Vt({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,k){var C=oF(k,2),T=C[0],S=C[1];return Ze(Ze({},O),{},Vt({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,k=O.formattedGraphicalItems,C=O.activeItem;if(k&&k.length)for(var T=0,S=k.length;T<S;T++){var A=k[T],I=A.props,E=A.item,N=E.type.defaultProps!==void 0?Ze(Ze({},E.type.defaultProps),E.props):E.props,j=bc(E.type);if(j==="Bar"){var H=(I.data||[]).find(function(q){return gMe(w,q)});if(H)return{graphicalItem:A,payload:H}}else if(j==="RadialBar"){var X=(I.data||[]).find(function(q){return WM(w,q)});if(X)return{graphicalItem:A,payload:X}}else if(K5(A,C)||Y5(A,C)||fv(A,C)){var re=xRe({graphicalItem:A,activeTooltipItem:C,itemData:N.data}),J=N.activeIndex===void 0?re:N.activeIndex;return{graphicalItem:Ze(Ze({},A),{},{childIndex:J}),payload:fv(A,C)?N.data[re]:A.props.data[re]}}}return null}},{key:"render",value:function(){var w=this;if(!jL(this))return null;var O=this.props,k=O.children,C=O.className,T=O.width,S=O.height,A=O.style,I=O.compact,E=O.title,N=O.desc,j=lF(O,C$e),H=pr(j,!1);if(I)return Ne.createElement(zR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(VT,y0({},H,{width:T,height:S,title:E,desc:N}),this.renderClipPath(),RL(k,this.renderMap)));if(this.props.accessibilityLayer){var X,re;H.tabIndex=(X=this.props.tabIndex)!==null&&X!==void 0?X:0,H.role=(re=this.props.role)!==null&&re!==void 0?re:"application",H.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},H.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Ne.createElement(zR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",y0({className:Cr("recharts-wrapper",C),style:Ze({position:"relative",cursor:"default",width:T,height:S},A)},J,{ref:function(B){w.container=B}}),Ne.createElement(VT,y0({},H,{width:T,height:S,title:E,desc:N,style:H$e}),this.renderClipPath(),RL(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Z.Component);Vt(m,"displayName",r),Vt(m,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Vt(m,"getDerivedStateFromProps",function(v,y){var _=v.dataKey,w=v.data,O=v.children,k=v.width,C=v.height,T=v.layout,S=v.stackOffset,A=v.margin,I=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=fF(v);return Ze(Ze(Ze({},N),{},{updateId:0},d(Ze(Ze({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:w,prevWidth:k,prevHeight:C,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(_!==y.prevDataKey||w!==y.prevData||k!==y.prevWidth||C!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!j0(A,y.prevMargin)){var j=fF(v),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},X=Ze(Ze({},uF(y,w,T)),{},{updateId:y.updateId+1}),re=Ze(Ze(Ze({},j),H),X);return Ze(Ze(Ze({},re),d(Ze({props:v},re),y)),{},{prevDataKey:_,prevData:w,prevWidth:k,prevHeight:C,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(!$T(O,y.prevChildren)){var J,q,B,ne,ce=Ts(O,gp),D=ce&&(J=(q=ce.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:I,F=ce&&(B=(ne=ce.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&B!==void 0?B:E,U=D!==I||F!==E,G=!fr(w),W=G&&!U?y.updateId:y.updateId+1;return Ze(Ze({updateId:W},d(Ze(Ze({props:v},y),{},{updateId:W,dataStartIndex:D,dataEndIndex:F}),y)),{},{prevChildren:O,dataStartIndex:D,dataEndIndex:F})}return null}),Vt(m,"renderActiveDot",function(v,y,_){var w;return Z.isValidElement(v)?w=Z.cloneElement(v,y):ar(v)?w=v(y):w=Ne.createElement(rN,y),Ne.createElement(ea,{className:"recharts-active-dot",key:_},w)});var p=Z.forwardRef(function(y,_){return Ne.createElement(m,y0({},y,{ref:_}))});return p.displayName=m.displayName,p},bA=rBe({chartName:"LineChart",GraphicalChild:_l,axisComponents:[{axisType:"xAxis",AxisComp:F0},{axisType:"yAxis",AxisComp:$0}],formatAxisMap:qFe});const nBe=()=>{const[e,t]=Z.useState("daily"),[r,n]=Z.useState("7d"),[a,i]=Z.useState([]),[s,o]=Z.useState([]),[l,c]=Z.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[u,f]=Z.useState(!0),{isDarkMode:h}=sn(),{user:d}=Ai(),m=Z.useCallback(async()=>{f(!0);try{let O;const k=new Date;switch(r){case"7d":O=Rt(k,7);break;case"1m":O=Rt(k,30);break;case"3m":O=Rt(k,90);break;case"6m":O=Rt(k,180);break;default:O=Rt(k,7)}const C=Ar(Nt(vt,"orders"),Br("createdAt",">=",Kt.fromDate(O)),Br("createdAt","<=",Kt.fromDate(k))),S=(await kr(C)).docs.map(Ae=>{var ke,He,Fe;return{id:Ae.id,...Ae.data(),createdAt:(ke=Ae.data().createdAt)==null?void 0:ke.toDate(),updatedAt:(He=Ae.data().updatedAt)==null?void 0:He.toDate(),shippedTime:(Fe=Ae.data().shippedTime)==null?void 0:Fe.toDate()}}),A=Ar(Nt(vt,"inventory")),E=(await kr(A)).docs.map(Ae=>({id:Ae.id,...Ae.data(),lastUpdated:Ae.data().lastUpdated instanceof Kt?Ae.data().lastUpdated.toDate():new Date(Ae.data().lastUpdated)})),N=Ar(Nt(vt,"activityLogs"),vi("time","desc")),H=(await kr(N)).docs.map(Ae=>({id:Ae.id,...Ae.data()})),X=E.reduce((Ae,ke)=>Ae+(ke.quantity||0),0),re=E.reduce((Ae,ke)=>Ae+(ke.quantity||0)*(ke.price||0),0),J=S.length,q=Rt(new Date,1),B=new Date,ne=S.filter(Ae=>{const ke=Ae.createdAt;return ke>=q&&ke<=B}),ce=ne.length,D=ne.reduce((Ae,ke)=>Ae+(ke.totalAmount||0),0),F=new Date;let U;switch(r){case"7d":U=Rt(F,7);break;case"1m":U=Rt(F,30);break;case"3m":U=Rt(F,90);break;case"6m":U=Rt(F,180);break;default:U=Rt(F,7)}const W=H.filter(Ae=>{const ke=new Date(Ae.time);return ke>=U&&ke<=F}).filter(Ae=>{const ke=Ae.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ke){const[,Ye]=ke;return E.some(et=>et.name===Ye)}const He=Ae.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(He){const[,Ye]=He;return E.some(et=>et.name===Ye)}return Ae.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Ye=>Ye.test(Ae.detail)),!0}),Q=F.getTime()-U.getTime(),oe=new Date(U.getTime()-Q),Y=new Date(U.getTime()),pe=H.filter(Ae=>{const ke=new Date(Ae.time);return ke>=oe&&ke<=Y}).filter(Ae=>{const ke=Ae.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ke){const[,Ye]=ke;return E.some(et=>et.name===Ye)}const He=Ae.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(He){const[,Ye]=He;return E.some(et=>et.name===Ye)}return Ae.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Ye=>Ye.test(Ae.detail)),!0}),K=W.reduce((Ae,ke)=>{const He=ke.detail.match(/(\d+) units deducted/);return Ae+(He?parseInt(He[1]):0)},0),je=pe.reduce((Ae,ke)=>{const He=ke.detail.match(/(\d+) units deducted/);return Ae+(He?parseInt(He[1]):0)},0),Oe=W.reduce((Ae,ke)=>{const He=ke.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(He){const[,Ge,Ye]=He;if(E.find(we=>we.name===Ge))return Ae+parseInt(Ye)}const Fe=ke.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(Fe){const[,Ge,Ye,et]=Fe;if(E.find(Ie=>Ie.name===Ge)){const Ie=parseInt(et)-parseInt(Ye);if(Ie>0)return Ae+Ie}}return Ae},0),Se=W.reduce((Ae,ke)=>{const He=ke.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(He){const[,Ge,Ye]=He,et=E.find(we=>we.name===Ge);if(et){const we=et.price||0;return Ae+parseInt(Ye)*we}}const Fe=ke.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(Fe){const[,Ge,Ye,et]=Fe,we=E.find(Ie=>Ie.name===Ge);if(we){const Ie=parseInt(et)-parseInt(Ye);if(Ie>0){const Ke=we.price||0;return Ae+Ie*Ke}}}return Ae},0),Ce=W.reduce((Ae,ke)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Ge=>Ge.test(ke.detail))){let Ge=0;const Ye=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,et=ke.detail.match(Ye);if(et)Ge=parseInt(et[1]);else{const we=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const Ie of we){const Ke=ke.detail.match(Ie);if(Ke){if(Ke.length===3){const ft=parseInt(Ke[1]),ht=parseInt(Ke[2]);Ge=Math.abs(ft-ht)}else Ge=parseInt(Ke[1]);break}}}return{incidents:Ae.incidents+1,units:Ae.units+(Ge>0?Ge:1)}}return Ae},{incidents:0,units:0}).incidents;i(E),o(H),c({totalOrders:J,totalStock:X,totalInventoryValue:re,totalDamagedProducts:Ce,yesterdayOrders:ce,yesterdayStockChange:0,yesterdayRevenue:D,totalDeductions:K,previousDeductions:je,todayStockAdditions:Oe,todayInventoryValueAdditions:Se})}catch(O){console.error("Error fetching data:",O)}finally{f(!1)}},[r]);if(Z.useEffect(()=>{m()},[m]),Z.useEffect(()=>{},[e]),!d||d.role!=="admin")return g.jsx(m4,{to:"/",replace:!0});const p=()=>{const O=[],k=new Map,C=new Date;let T;switch(r){case"7d":T=Rt(C,7);break;case"1m":T=Rt(C,30);break;case"3m":T=Rt(C,90);break;case"6m":T=Rt(C,180);break;default:T=Rt(C,7)}return s.filter(I=>{const E=new Date(I.time);return E>=T&&E<=C}).filter(I=>{const E=I.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(E){const[,j]=E;return a.some(H=>H.name===j)}const N=I.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(N){const[,j]=N;return a.some(H=>H.name===j)}return!0}).forEach(I=>{let E=0,N=!1,j="";const H=I.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(H){const[,re,J]=H;a.find(B=>B.name===re)&&(E=parseInt(J),j=re,N=!0)}const X=I.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(X){const[,re,J,q]=X;if(a.find(ne=>ne.name===re)){const ne=parseInt(q)-parseInt(J);ne>0&&(E=ne,j=re,N=!0)}}if(N){const re=new Date(I.time);let J;switch(e){case"daily":J=xr(re,"MMM dd");break;case"weekly":J=xr(re,"'Week' w");break;case"monthly":J=xr(re,"MMM yyyy");break}const q=k.get(J)||{activities:0,units:0,uniqueProducts:new Set};q.uniqueProducts.add(j),k.set(J,{activities:q.activities+1,units:q.units+E,uniqueProducts:q.uniqueProducts})}}),k.forEach((I,E)=>{O.push({date:E,activities:I.activities,units:I.units,uniqueProducts:I.uniqueProducts.size})}),O.sort((I,E)=>{const N=new Date(I.date),j=new Date(E.date);return N.getTime()-j.getTime()})},v=()=>{const O=[],k=new Map,C=new Date;let T;switch(r){case"7d":T=Rt(C,7);break;case"1m":T=Rt(C,30);break;case"3m":T=Rt(C,90);break;case"6m":T=Rt(C,180);break;default:T=Rt(C,7)}return s.filter(I=>{const E=new Date(I.time);return E>=T&&E<=C}).filter(I=>(I.detail.match(/(\d+) units deducted from stock/),!0)).forEach(I=>{const E=I.detail.match(/(\d+) units deducted from stock/);if(E){const N=new Date(I.time);let j;switch(e){case"daily":j=xr(N,"MMM dd");break;case"weekly":j=xr(N,"'Week' w");break;case"monthly":j=xr(N,"MMM yyyy");break}const H=k.get(j)||0;k.set(j,H+parseInt(E[1]))}}),k.forEach((I,E)=>{O.push({date:E,products:I})}),O.sort((I,E)=>{const N=new Date(I.date),j=new Date(E.date);return N.getTime()-j.getTime()})},y=()=>{const O=[],k=new Map,C=new Date;let T;switch(r){case"7d":T=Rt(C,7);break;case"1m":T=Rt(C,30);break;case"3m":T=Rt(C,90);break;case"6m":T=Rt(C,180);break;default:T=Rt(C,7)}return s.filter(I=>{const E=new Date(I.time);return E>=T&&E<=C}).filter(I=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(N=>N.test(I.detail)),!0)).forEach(I=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(j=>j.test(I.detail))){const j=new Date(I.time);let H;switch(e){case"daily":H=xr(j,"MMM dd");break;case"weekly":H=xr(j,"'Week' w");break;case"monthly":H=xr(j,"MMM yyyy");break}let X=0;const re=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,J=I.detail.match(re);if(J)X=parseInt(J[1]);else{const B=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ne of B){const ce=I.detail.match(ne);if(ce){if(ce.length===3){const D=parseInt(ce[1]),F=parseInt(ce[2]);X=Math.abs(D-F)}else X=parseInt(ce[1]);if(X>0)break}}}X===0&&(X=1);const q=k.get(H)||{incidents:0,units:0};k.set(H,{incidents:q.incidents+1,units:q.units+X})}}),k.forEach((I,E)=>{O.push({date:E,products:I.incidents,units:I.units})}),O.sort((I,E)=>{const N=new Date(I.date),j=new Date(E.date);return N.getTime()-j.getTime()})},_=()=>{try{const O=xr(new Date,"yyyy-MM-dd-HH-mm"),k=r==="7d"?"Last 7 Days":r==="1m"?"Last Month":r==="3m"?"Last 3 Months":"Last 6 Months",C=a.map(X=>[X.name,X.quantity,X.price,`${X.locationCode}-${X.shelfNumber}`,X.status,X.damagedItems]),T=p(),S=v(),A=y(),I=Math.max(T.length,S.length,A.length,C.length),E=[];E.push(`Warehouse Analytics Report - ${k} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${xr(new Date,"yyyy-MM-dd HH:mm:ss")}`),E.push(""),E.push("SUMMARY STATISTICS"),E.push(`Total Stock Added (${k}),${l.todayStockAdditions},Total Units Deducted (${k}),${l.totalDeductions},Total Damaged Products (${k}),${l.totalDamagedProducts},Total Inventory Value,${l.totalInventoryValue.toLocaleString("en-GB")}`),E.push(""),E.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),E.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let X=0;X<I;X++){const re=[];if(X<T.length){const J=T[X];re.push(J.date,J.activities,J.units,J.uniqueProducts)}else re.push("","","","");if(X<S.length){const J=S[X];re.push(J.date,J.products)}else re.push("","");if(X<A.length){const J=A[X];re.push(J.date,J.products,J.units)}else re.push("","","");if(X<C.length){const J=C[X];re.push(...J)}else re.push("","","","","","");E.push(re.join(","))}const N=E.join(`
`),j=new Blob([N],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a");H.href=URL.createObjectURL(j),H.download=`warehouse-report-${k}-${O}.csv`,H.click(),URL.revokeObjectURL(H.href)}catch(O){console.error("Error exporting CSV:",O),alert("Failed to export CSV. Please try again.")}},w=()=>{try{const O=r==="7d"?"Last 7 Days":r==="1m"?"Last Month":r==="3m"?"Last 3 Months":"Last 6 Months",k=p(),C=v(),T=y(),S=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${O}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${O}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${xr(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${l.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${O})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${l.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${O})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${l.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${O})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${l.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${k.length}</p>
                <p><strong>Total Activities:</strong> ${k.reduce((I,E)=>I+E.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${k.reduce((I,E)=>I+E.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${k.reduce((I,E)=>I+E.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.slice(0,15).map(I=>`
                    <tr>
                      <td>${I.date}</td>
                      <td>${I.activities}</td>
                      <td>${I.units}</td>
                      <td>${I.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${k.length>15?`<tr><td colspan="4"><em>... and ${k.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${C.length}</p>
                <p><strong>Total Units Deducted:</strong> ${C.reduce((I,E)=>I+E.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${C.slice(0,15).map(I=>`
                    <tr>
                      <td>${I.date}</td>
                      <td>${I.products}</td>
                    </tr>
                  `).join("")}
                  ${C.length>15?`<tr><td colspan="2"><em>... and ${C.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${T.length}</p>
                <p><strong>Total Incidents:</strong> ${T.reduce((I,E)=>I+E.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${T.reduce((I,E)=>I+E.units,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                  </tr>
                </thead>
                <tbody>
                  ${T.slice(0,15).map(I=>`
                    <tr>
                      <td>${I.date}</td>
                      <td>${I.products}</td>
                      <td>${I.units}</td>
                    </tr>
                  `).join("")}
                  ${T.length>15?`<tr><td colspan="3"><em>... and ${T.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${a.length} items)</h2>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${a.slice(0,10).map(I=>`
                    <tr>
                      <td>${I.name}</td>
                      <td>${I.quantity}</td>
                      <td>${I.price}</td>
                      <td>${I.locationCode}-${I.shelfNumber}</td>
                      <td>${I.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,A=window.open("","_blank");A?(A.document.write(S),A.document.close(),A.focus(),setTimeout(()=>{A.print()},500)):alert("Please allow pop-ups to export PDF")}catch(O){console.error("Error exporting PDF:",O),alert("Failed to export PDF. Please try again.")}};return g.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[g.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${h?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),g.jsx("p",{className:`${h?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-end items-center",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:_,className:`inline-flex items-center px-2 md:px-3 py-2 border shadow-sm text-xs md:text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${h?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[g.jsx(O2,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),g.jsx("span",{className:"hidden sm:inline",children:"Export "}),"CSV"]}),g.jsxs("button",{onClick:w,className:`inline-flex items-center px-2 md:px-3 py-2 border shadow-sm text-xs md:text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${h?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[g.jsx(O2,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),g.jsx("span",{className:"hidden sm:inline",children:"Export "}),"PDF"]})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx(Pr,{value:e,onChange:O=>t(O.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-xs md:text-sm",style:{animationDelay:"100ms"}}),g.jsx(Pr,{value:r,onChange:O=>n(O.target.value),options:[{value:"7d",label:"7 Days"},{value:"1m",label:"1 Month"},{value:"3m",label:"3 Months"},{value:"6m",label:"6 Months"}],className:"animate-fade-in-up text-xs md:text-sm",style:{animationDelay:"300ms"}}),g.jsx(Ct,{variant:"secondary",onClick:m,className:`flex items-center gap-2 ${u?"opacity-50 cursor-not-allowed":""}`,disabled:u,children:g.jsx(Pf,{size:16,className:u?"animate-spin":""})})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:u?g.jsxs(g.Fragment,{children:[g.jsx(zu,{}),g.jsx(zu,{}),g.jsx(zu,{}),g.jsx(zu,{})]}):g.jsxs(g.Fragment,{children:[g.jsx(Uu,{title:`Total Stock Added (${r==="7d"?"Last 7 Days":r==="1m"?"Last Month":r==="3m"?"Last 3 Months":"Last 6 Months"})`,value:l.todayStockAdditions,icon:g.jsx(I2,{size:24,className:"text-blue-600"})}),g.jsx(Uu,{title:`Total Units Deducted (${r==="7d"?"Last 7 Days":r==="1m"?"Last Month":r==="3m"?"Last 3 Months":"Last 6 Months"})`,value:l.totalDeductions,icon:g.jsx($9,{size:24,className:"text-blue-600"})}),g.jsx(Uu,{title:`Total Damaged Products (${r==="7d"?"Last 7 Days":r==="1m"?"Last Month":r==="3m"?"Last 3 Months":"Last 6 Months"})`,value:l.totalDamagedProducts,icon:g.jsx(Mw,{size:24,className:"text-blue-600"})}),g.jsx(Uu,{title:"Total Inventory Value",value:`${l.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:g.jsx(R9,{size:24,className:"text-blue-600"})})]})}),u?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${h?"border-white":"border-slate-800"}`})}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"space-y-4 md:space-y-6",children:[g.jsxs("div",{className:`${h?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${h?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(rA,{width:"100%",height:"100%",children:g.jsxs(bA,{data:p(),children:[g.jsx(r2,{strokeDasharray:"3 3",stroke:h?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:h?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:h?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:h?"#1e293b":"#ffffff",border:h?"1px solid #334155":"1px solid #e2e8f0",color:h?"#e2e8f0":"#1e293b"},formatter:(O,k)=>k==="Inbound Activities"?[`${O} activities`,k]:k==="Units Added"?[`${O} units`,k]:k==="Affected Products"?[`${O} products`,k]:[O,k],labelFormatter:O=>`Date: ${O}`}),g.jsx(_c,{}),g.jsx(_l,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),g.jsx(_l,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),g.jsx(_l,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),g.jsxs("div",{className:`${h?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${h?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(rA,{width:"100%",height:"100%",children:g.jsxs(bA,{data:v(),children:[g.jsx(r2,{strokeDasharray:"3 3",stroke:h?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:h?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:h?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:h?"#1e293b":"#ffffff",border:h?"1px solid #334155":"1px solid #e2e8f0",color:h?"#e2e8f0":"#1e293b"}}),g.jsx(_c,{}),g.jsx(_l,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),g.jsxs("div",{className:`${h?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${h?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(rA,{width:"100%",height:"100%",children:g.jsxs(bA,{data:y(),children:[g.jsx(r2,{strokeDasharray:"3 3",stroke:h?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:h?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:h?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:h?"#1e293b":"#ffffff",border:h?"1px solid #334155":"1px solid #e2e8f0",color:h?"#e2e8f0":"#1e293b"},formatter:(O,k)=>k==="Damaged Incidents"?[`${O} incidents`,k]:k==="Units Damaged"?[`${O} units`,k]:[O,k],labelFormatter:O=>`Date: ${O}`}),g.jsx(_c,{}),g.jsx(_l,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),g.jsx(_l,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},aBe=()=>{const{user:e,setUser:t}=Ai(),{showToast:r}=rd(),{isDarkMode:n,toggleDarkMode:a}=sn(),[i,s]=Z.useState(!1),[o,l]=Z.useState({}),[c,u]=Z.useState([]),[f,h]=Z.useState(null),[d,m]=Z.useState(!1),[p,v]=Z.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,_]=Z.useState({}),[w,O]=Z.useState({}),[k,C]=Z.useState(!1),[T,S]=Z.useState(null),[A,I]=Z.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=Z.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),j=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const Q=(await kr(Nt(vt,"users"))).docs.map(oe=>({id:oe.id,...oe.data()}));u(Q),console.log("Fetched users:",Q.map(oe=>({id:oe.id,username:oe.username,name:oe.name})))}catch(W){console.error("Error fetching users:",W),r("Error fetching users","error")}finally{s(!1)}}};Z.useEffect(()=>{j()},[e==null?void 0:e.role,r]);const H=W=>W.split(" ").map(Q=>Q[0]).join("").toUpperCase().slice(0,2),X=W=>{const{name:Q,value:oe}=W.target;I(Y=>({...Y,[Q]:oe})),o[Q]&&l(Y=>{const ue={...Y};return delete ue[Q],ue})},re=()=>{const W={};return A.username.trim()||(W.username="Username is required"),A.email.trim()&&!/\S+@\S+\.\S+/.test(A.email)&&(W.email="Invalid email format"),A.name.trim()||(W.name="Name is required"),(A.currentPassword||A.newPassword||A.confirmPassword)&&(A.currentPassword?A.currentPassword!==(e==null?void 0:e.password)&&(W.currentPassword="Current password is incorrect"):W.currentPassword="Current password is required",A.newPassword?A.newPassword.length<6&&(W.newPassword="Password must be at least 6 characters"):W.newPassword="New password is required",A.newPassword!==A.confirmPassword&&(W.confirmPassword="Passwords do not match")),l(W),Object.keys(W).length===0},J=async W=>{if(W.preventDefault(),!!e&&re()){s(!0);try{const Q={username:A.username,email:A.email,name:A.name,password:A.currentPassword!=""&&A.confirmPassword!=""&&A.newPassword!=""?A.newPassword:e.password},oe=[];e.username!==A.username&&oe.push(`changed username from "${e.username}" to "${A.username}"`),e.email!==A.email&&oe.push(`changed email from "${e.email}" to "${A.email}"`),e.name!==A.name&&oe.push(`changed full name from "${e.name}" to "${A.name}"`),A.currentPassword&&A.newPassword&&oe.push("changed their password");const Y=Zn(vt,"users",e.id);await vc(Y,Q),oe.length>0&&await Vr(Nt(vt,"activityLogs"),{user:e.name,role:e.role,detail:oe.length===1?oe[0]:`made multiple profile changes: ${oe.join("; ")}`,time:new Date().toISOString()}),t({...e,username:A.username,email:A.email,name:A.name,password:A.newPassword||e.password}),I(ue=>({...ue,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(Q){console.error("Error updating profile:",Q),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=W=>{console.log("Editing user:",W),h(W),O({}),N({username:W.username,email:W.email,name:W.name,newPassword:"",confirmPassword:""})},B=W=>{const{name:Q,value:oe}=W.target;N(Y=>({...Y,[Q]:oe})),w[Q]&&O(Y=>{const ue={...Y};return delete ue[Q],ue})},ne=async()=>{if(f)try{if(s(!0),O({}),!E.username.trim()){O({username:"Username is required"});return}if(!E.name.trim()){O({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const W=Zn(vt,"users",f.id);console.log("User reference:",W.path);const Q={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(Q.password=E.newPassword),console.log("Attempting to update document with data:",Q);try{await vc(W,Q),console.log("User updated successfully in Firestore")}catch(oe){console.error("Failed to update by ID, trying to find by username:",oe);const Y=Ar(Nt(vt,"users"),Br("username","==",f.username)),ue=await kr(Y);if(ue.empty)throw new Error("User not found by username either");{const pe=ue.docs[0];console.log("Found user by username, actual ID:",pe.id);const K=Zn(vt,"users",pe.id);await vc(K,Q),console.log("User updated successfully using fallback method"),u(je=>je.map(Oe=>Oe.username===f.username?{...Oe,id:pe.id,...Q}:Oe))}}await Vr(Nt(vt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(oe=>oe.map(Y=>Y.id===f.id?{...Y,...Q}:Y)),r("User updated successfully","success"),h(null)}catch(W){console.error("Error updating user:",W),console.error("Error details:",{editingUser:f,userEditForm:E,error:W}),r("Failed to update user","error")}finally{s(!1)}},ce=W=>{const{name:Q,value:oe}=W.target;v(Y=>({...Y,[Q]:oe})),y[Q]&&_(Y=>{const ue={...Y};return delete ue[Q],ue})},D=()=>{const W={};return p.username.trim()||(W.username="Username is required"),p.email.trim()&&!/\S+@\S+\.\S+/.test(p.email)&&(W.email="Invalid email format"),p.name.trim()||(W.name="Name is required"),p.password?p.password.length<6&&(W.password="Password must be at least 6 characters"):W.password="Password is required",p.password!==p.confirmPassword&&(W.confirmPassword="Passwords do not match"),_(W),Object.keys(W).length===0},F=async W=>{if(W.preventDefault(),!!D()){s(!0);try{const oe=(await kr(Nt(vt,"users"))).docs.map(ue=>ue.data());if(oe.some(ue=>ue.username===p.username)){_({username:"Username already exists"});return}if(p.email.trim()&&oe.some(ue=>ue.email===p.email)){_({email:"Email already exists"});return}const Y=await Vr(Nt(vt,"users"),{username:p.username,email:p.email,name:p.name,password:p.password,role:p.role});await Vr(Nt(vt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${p.name}" with role "${p.role}"`,time:new Date().toISOString()}),u(ue=>[...ue,{id:Y.id,username:p.username,email:p.email,name:p.name,role:p.role,password:p.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),m(!1),r("User added successfully!","success")}catch(Q){console.error("Error adding user:",Q),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},U=async(W,Q)=>{S({username:Q,name:W}),C(!0)},G=async()=>{if(T)try{s(!0);const W=Nt(vt,"users"),Q=Ar(W,Br("username","==",T.username)),oe=await kr(Q);if(oe.empty){r("User not found.","error");return}const Y=oe.docs[0],ue=Zn(vt,"users",Y.id);await y1(ue),await Vr(Nt(vt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(pe=>pe.filter(K=>K.username!==T.username)),r("User deleted successfully!","success")}catch(W){console.error("Error deleting user:",W),r("Failed to delete user. Please try again.","error")}finally{s(!1),C(!1),S(null)}};return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),g.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&g.jsx(Ct,{variant:"secondary",onClick:j,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:g.jsx(Pf,{size:16,className:i?"animate-spin":""})}),g.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?g.jsx(F9,{size:20}):g.jsx(M9,{size:20})})]})]}),f&&g.jsxs(zn,{isOpen:!!f,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx(yt,{label:"Username",name:"username",value:E.username,onChange:B,error:w.username}),g.jsx(yt,{label:"Email",name:"email",type:"email",value:E.email,onChange:B,error:w.email}),g.jsx(yt,{label:"Name",name:"name",value:E.name,onChange:B,error:w.name}),g.jsx(Pu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:B,error:w.newPassword}),g.jsx(Pu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:B,error:w.confirmPassword})]}),g.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[g.jsx(Ct,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),g.jsx(Ct,{onClick:ne,disabled:i,children:i?"Updating...":"Update User"})]})]}),g.jsxs(zn,{isOpen:k,onClose:()=>C(!1),title:"Confirm Deletion",size:"sm",children:[g.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx(Ct,{variant:"secondary",onClick:()=>C(!1),disabled:i,children:"Cancel"}),g.jsx(Ct,{variant:"danger",onClick:G,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),g.jsxs("form",{onSubmit:J,className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"relative",children:g.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:g.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:H((e==null?void 0:e.name)||"")})})}),g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:A.name}),g.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Username",name:"username",value:A.username,onChange:X,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),g.jsx(yt,{label:"Email",name:"email",type:"email",value:A.email,onChange:X,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),g.jsx(yt,{label:"Full Name",name:"name",value:A.name,onChange:X,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),g.jsx(Pu,{label:"Current Password",name:"currentPassword",value:A.currentPassword,onChange:X,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Pu,{label:"New Password",name:"newPassword",value:A.newPassword,onChange:X,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),g.jsx(Pu,{label:"Confirm Password",name:"confirmPassword",value:A.confirmPassword,onChange:X,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&g.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Ct,{type:"submit",isLoading:i,icon:g.jsx(x4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&g.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[g.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),g.jsxs(Ct,{onClick:()=>m(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[g.jsx(x4,{size:16}),"Add New User"]})]}),g.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[g.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(W=>W.id!==(e==null?void 0:e.id)).map(W=>g.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:W.username}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:W.email||"-"}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:W.name}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:W.role}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>q(W),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>U(W.name,W.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:g.jsx(Zo,{size:16})})]})})]},W.id))})]})}),g.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(W=>W.id!==(e==null?void 0:e.id)).map(W=>g.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:W.name}),g.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:W.username})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>q(W),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Ct,{variant:"ghost",size:"sm",onClick:()=>U(W.name,W.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:g.jsx(Zo,{size:16})})]})]}),g.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:W.email||"-"}),g.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:W.role})]},W.id))})]}),g.jsx(zn,{isOpen:d,onClose:()=>m(!1),title:"Add New User",size:"xl",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Username",name:"username",value:p.username,onChange:ce,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),g.jsx(yt,{label:"Email",name:"email",type:"email",value:p.email,onChange:ce,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(yt,{label:"Full Name",name:"name",value:p.name,onChange:ce,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),g.jsx(Pr,{label:"Role",name:"role",value:p.role,onChange:ce,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),g.jsx(Pu,{label:"Password",name:"password",value:p.password,onChange:ce,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),g.jsx(Pu,{label:"Confirm Password",name:"confirmPassword",value:p.confirmPassword,onChange:ce,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Ct,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},wA=["supply & serve","APHY","AZTEC","ZK"],iBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=Z.useState(""),[i,s]=Z.useState("stock sold"),[o,l]=Z.useState(""),c=wA.includes(e.storeName)?wA:[e.storeName,...wA],u=[...c,"other"],[f,h]=Z.useState(e.storeName||c[0]||""),[d,m]=Z.useState(""),{isDarkMode:p}=sn(),v=async w=>{w.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const k=i==="other"?o:i,C=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-O,reason:k,storeName:C})},_=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return g.jsxs("form",{onSubmit:v,className:`space-y-6 ${p?"text-white":"text-gray-900"}`,children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:`p-4 rounded-lg ${p?"bg-slate-800":"bg-slate-50"}`,children:[g.jsx("h3",{className:`text-lg font-semibold ${p?"text-white":"text-gray-900"}`,children:e.name}),g.jsxs("p",{className:`text-sm ${p?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),g.jsx(yt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${_?"border-red-500 focus:border-red-500":""}`})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),g.jsx(Pr,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${_?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),g.jsx(yt,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${_?"border-red-500 focus:border-red-500":""}`})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),g.jsx(Pr,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"Other":w})),required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${_?"border-red-500 focus:border-red-500":""}`}),f==="other"&&g.jsx(yt,{id:"otherStoreName",type:"text",value:d,onChange:w=>m(w.target.value),placeholder:"Enter store name",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${_?"border-red-500 focus:border-red-500":""}`})]}),_?g.jsxs("div",{className:`flex items-center space-x-2 text-sm ${p?"text-red-400":"text-red-600"}`,children:[g.jsx(Mw,{size:16}),g.jsx("span",{children:_})]}):g.jsx("p",{className:`text-xs ${p?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),g.jsx("div",{className:"flex justify-end space-x-3",children:g.jsx(Ct,{type:"submit",disabled:r||!!_,className:"min-w-[100px]",children:r?g.jsxs(g.Fragment,{children:[g.jsx(Wo,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},sBe=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("name"),[a,i]=Z.useState(!1),[s,o]=Z.useState(!1),[l,c]=Z.useState(null),[u,f]=Z.useState([]),[h,d]=Z.useState(!1),{showToast:m}=rd(),{isDarkMode:p}=sn(),{user:v}=Ai(),y=async()=>{o(!0);try{const S=Ar(Nt(vt,"inventory"),vi("name")),I=(await kr(S)).docs.map(E=>{const N=E.data();return{id:E.id,...N,lastUpdated:N.lastUpdated instanceof Kt?N.lastUpdated.toDate():new Date(N.lastUpdated)}});f(I)}catch(S){console.error("Error fetching stock items:",S),m("Failed to fetch stock items","error")}finally{o(!1)}};Z.useEffect(()=>{y()},[m]);const _=u.filter(S=>S.quantity>0).filter(S=>{const A=e.toLowerCase(),I=S.name.toLowerCase().includes(A),E=`${S.locationCode} - ${S.shelfNumber}`.toLowerCase().includes(A),N=S.asin?S.asin.split(",").some(H=>H.trim().toLowerCase().includes(A)):!1,j=S.barcode?S.barcode.toLowerCase().includes(A):!1;return I||E||N||j}).sort((S,A)=>r==="name"?S.name.localeCompare(A.name):r==="quantity"?A.quantity-S.quantity:r==="price"?A.price-S.price:r==="date"?new Date(A.lastUpdated).getTime()-new Date(S.lastUpdated).getTime():0),w=async S=>{o(!0);try{const A=Zn(vt,"inventory",S.id),I=await v1(A);if(!I.exists())throw new Error("Stock item not found");const E=I.data();if(!v)throw new Error("User not authenticated");const N=S.reason==="damaged"?E.damagedItems+(E.quantity-S.quantity):E.damagedItems,j=new Date;await vc(A,{quantity:S.quantity,damagedItems:N,lastUpdated:Kt.fromDate(j)}),await Vr(Nt(vt,"activityLogs"),{detail:`${E.quantity-S.quantity} units deducted from stock "${E.name}" (Reason: ${S.reason}, Store: ${S.storeName}) by ${v.role}`,time:new Date().toISOString(),user:v.name,role:v.role});const H=u.map(X=>X.id===S.id?{...X,quantity:S.quantity,damagedItems:N}:X);f(H),c(null),i(!1),m("Stock quantity updated successfully","success")}catch(A){console.error("Error updating stock:",A),m("Failed to update stock quantity","error")}finally{o(!1)}},O=S=>{a||c(S)},k=(S,A)=>{S.stopPropagation(),c(A),i(!0)},C=()=>{d(!0)},T=S=>{t(S),d(!1)};return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${p?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),g.jsx("p",{className:`${p?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(yt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:S=>t(S.target.value),icon:g.jsx(Rw,{size:16}),style:{paddingRight:48}}),g.jsx("button",{type:"button",onClick:C,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:g.jsx(df,{size:16,className:"text-white"})})]})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(Pr,{value:r,onChange:S=>n(S.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),g.jsx(Ct,{variant:"secondary",onClick:y,className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:g.jsx(Pf,{size:16,className:s?"animate-spin":""})})]}),s?g.jsx("div",{className:`text-center py-12 ${p?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(Wo,{className:`w-8 h-8 ${p?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:p?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):_.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:`${p?"bg-slate-800":"bg-slate-50"}`,children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(v==null?void 0:v.role)==="admin"&&g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${p?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${p?"divide-slate-700":"divide-slate-200"}`,children:_.map(S=>g.jsxs("tr",{className:`${p?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>O(S),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${p?"text-blue-400":"text-blue-700"} font-medium`,children:S.name}),g.jsx("td",{className:`px-4 py-3 text-sm ${p?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:S.status==="active"?"Active":"Pending"})}),g.jsxs("td",{className:`px-4 py-3 text-sm ${p?"text-slate-200":"text-slate-800"}`,children:[S.locationCode," - ",S.shelfNumber]}),g.jsx("td",{className:`px-4 py-3 text-sm ${p?"text-slate-200":"text-slate-800"}`,children:S.asin?S.asin.split(",").length>3?S.asin.split(",").slice(0,3).map(A=>A.trim()).join(", ")+"...":S.asin.split(",").map(A=>A.trim()).join(", "):"-"}),g.jsx("td",{className:`px-4 py-3 text-sm ${p?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[S.quantity<=10&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 ",children:"Critical Low"}),S.quantity>10&&S.quantity<=25&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 ",children:"Low Stock"}),g.jsx("span",{children:S.quantity})]})}),(v==null?void 0:v.role)==="admin"&&g.jsx("td",{className:`px-4 py-3 text-right text-sm ${p?"text-slate-200":"text-slate-900"}`,children:Number(S.price)>0?`${Number(S.price).toFixed(2)}`:"(Not set)"}),g.jsx("td",{className:`px-4 py-3 text-sm ${p?"text-slate-200":"text-slate-800"}`,children:xr(new Date(S.lastUpdated),"MMM d, yyyy")}),g.jsx("td",{className:"px-4 py-3 text-right text-sm",children:g.jsx("div",{className:"flex items-center justify-end gap-2",children:g.jsx(Ct,{variant:"secondary",size:"sm",onClick:A=>k(A,S),className:`p-1 ${p?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:g.jsx(Ml,{size:16})})})})]},S.id))})]})})}),g.jsx("div",{className:"block md:hidden space-y-4",children:_.map(S=>g.jsxs("div",{className:`rounded-lg border ${p?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>O(S),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${p?"text-blue-400":"text-blue-700"}`,children:S.name}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:S.status==="active"?"Active":"Pending"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[g.jsxs("span",{className:p?"text-slate-300":"text-slate-600",children:["Location: ",g.jsxs("span",{className:"font-medium",children:[S.locationCode," - ",S.shelfNumber]})]}),g.jsxs("span",{className:p?"text-slate-300":"text-slate-600",children:["Qty: ",g.jsx("span",{className:"font-medium",children:S.quantity})]}),S.asin&&g.jsxs("span",{className:p?"text-slate-300":"text-slate-600",children:["ASIN: ",g.jsx("span",{className:"font-medium",children:S.asin})]}),(v==null?void 0:v.role)==="admin"&&g.jsxs("span",{className:p?"text-slate-300":"text-slate-600",children:["Price: ",g.jsx("span",{className:"font-medium",children:Number(S.price)>0?`${Number(S.price).toFixed(2)}`:"(Not set)"})]}),g.jsxs("span",{className:p?"text-slate-300":"text-slate-600",children:["Updated: ",g.jsx("span",{className:"font-medium",children:xr(new Date(S.lastUpdated),"MMM d, yyyy")})]})]}),g.jsx("div",{className:"flex gap-2 mt-2",children:g.jsxs(Ct,{size:"sm",variant:"secondary",onClick:A=>{A.stopPropagation(),k(A,S)},children:[g.jsx(Ml,{size:14})," Edit"]})})]},S.id))})]}):g.jsx("div",{className:`text-center py-12 ${p?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:p?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),g.jsx(zn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&g.jsx(iBe,{item:l,onSubmit:w,isLoading:s})}),l&&!a&&g.jsx(vq,{isOpen:!0,onClose:()=>c(null),item:l}),g.jsx(Up,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:T})]})},oBe=()=>{const[e,t]=Z.useState(!0),[r,n]=Z.useState([]),[a,i]=Z.useState(new Set),[s,o]=Z.useState(""),[l,c]=Z.useState("locationCode"),[u,f]=Z.useState({}),{showToast:h}=rd(),{isDarkMode:d}=sn(),[m,p]=Z.useState(!1),[v,y]=Z.useState(null),[_,w]=Z.useState(1),[O,k]=Z.useState("A1"),[C,T]=Z.useState("0"),[S,A]=Z.useState(!1),[I,E]=Z.useState(!1),[N,j]=Z.useState(""),{user:H}=Ai(),X=async()=>{t(!0);try{const Q=Ar(Nt(vt,"inventory"),vi("locationCode")),Y=(await kr(Q)).docs.map(ue=>{const pe=ue.data();return{id:ue.id,name:pe.name||"",quantity:pe.quantity||0,price:pe.price||0,supplier:pe.supplier??null,lastUpdated:pe.lastUpdated instanceof Kt?pe.lastUpdated.toDate():new Date,locationCode:pe.locationCode||"",shelfNumber:pe.shelfNumber||"",barcode:pe.barcode??null,asin:pe.asin??null,status:pe.status||"pending",damagedItems:pe.damagedItems||0,fulfillmentType:pe.fulfillmentType||"fba",storeName:pe.storeName||""}});n(Y)}catch(Q){console.error("Error fetching locations:",Q),h("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},re=async()=>{try{const Q=Ar(Nt(vt,"locations")),oe=await kr(Q),Y={};oe.forEach(ue=>{Y[ue.id]=ue.data().isAvailable!==!1}),f(Y)}catch(Q){console.error("Error fetching location availability:",Q)}};Z.useEffect(()=>{t(!0),Promise.all([X(),re()]).finally(()=>t(!1))},[]);const J=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],q=J.reduce((Q,oe)=>{const ue=r.filter(pe=>pe.locationCode===oe).reduce((pe,K)=>{const je=pe.findIndex(Oe=>Oe.name===K.name&&G(Oe.asin)===G(K.asin)&&G(Oe.barcode)===G(K.barcode)&&Oe.locationCode===K.locationCode&&Oe.shelfNumber===K.shelfNumber);return je>=0?pe[je]={...pe[je],quantity:pe[je].quantity+K.quantity,lastUpdated:pe[je].lastUpdated>K.lastUpdated?pe[je].lastUpdated:K.lastUpdated}:pe.push(K),pe},[]);return Q[oe]={locationCode:oe,totalStock:ue.reduce((pe,K)=>pe+K.quantity,0),products:ue},Q},{}),B=Object.values(q).filter(Q=>{const oe=s.toLowerCase(),Y=Q.locationCode.toLowerCase().includes(oe),ue=Q.products.some(pe=>pe.name.toLowerCase().includes(oe)||pe.asin&&pe.asin.split(",").some(K=>K.trim().toLowerCase().includes(oe))||pe.barcode&&pe.barcode.toLowerCase().includes(oe)||pe.shelfNumber&&pe.shelfNumber.toString().toLowerCase().includes(oe));return Y||ue}).sort((Q,oe)=>{if(l==="totalStock")return oe.totalStock-Q.totalStock;if(l==="locationCode")return Q.locationCode==="Awaiting Location"?-1:oe.locationCode==="Awaiting Location"?1:Q.locationCode.localeCompare(oe.locationCode);if(l==="availability"){const Y=u[Q.locationCode]!==!1,ue=u[oe.locationCode]!==!1;return Y===ue?Q.locationCode==="Awaiting Location"?-1:oe.locationCode==="Awaiting Location"?1:Q.locationCode.localeCompare(oe.locationCode):Y?-1:1}return 0});Z.useEffect(()=>{if(s.trim()&&s!==N){const Q=B.filter(oe=>{const Y=s.toLowerCase();return oe.products.some(ue=>ue.name.toLowerCase().includes(Y)||ue.asin&&ue.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(Y))||ue.barcode&&ue.barcode.toLowerCase().includes(Y)||ue.shelfNumber&&ue.shelfNumber.toString().toLowerCase().includes(Y))});if(Q.length>0){const oe=Q.flatMap(ue=>ue.products.filter(pe=>{const K=s.toLowerCase();return pe.name.toLowerCase().includes(K)||pe.asin&&pe.asin.split(",").some(je=>je.trim().toLowerCase().includes(K))||pe.barcode&&pe.barcode.toLowerCase().includes(K)||pe.shelfNumber&&pe.shelfNumber.toString().toLowerCase().includes(K)})),Y=[...new Set(oe.map(ue=>`${ue.locationCode}-${ue.shelfNumber}`))];h(`Product found! Located at: ${Y.join(", ")}`,"success"),j(s)}else s.trim()&&s!==N&&(h("Product not found in any location","error"),j(s))}else!s.trim()&&N&&j("")},[B,s,h,N]);const ne=Q=>{i(oe=>{const Y=new Set(oe);return Y.has(Q)?Y.delete(Q):Y.add(Q),Y})},ce=()=>{E(!0)},D=Q=>{o(Q),E(!1)},F=async Q=>{const oe=!(u[Q]??!0);f(Y=>({...Y,[Q]:oe}));try{await Gy(Zn(vt,"locations",Q),{isAvailable:oe},{merge:!0})}catch(Y){h("Failed to update availability","error"),f(ue=>({...ue,[Q]:!oe})),console.log(Y)}};function U(Q){const oe={...Q};return Object.keys(oe).forEach(Y=>{oe[Y]===void 0&&(oe[Y]=null)}),oe}function G(Q){return Q??""}const W=async()=>{if(v&&!(_<1||_>v.quantity)){A(!0);try{const Q=Ar(Nt(vt,"inventory")),oe=await kr(Q);let Y=null;if(oe.forEach(ue=>{const pe=ue.data();pe.name===v.name&&pe.locationCode===O&&pe.shelfNumber===C&&G(pe.asin)===G(v.asin)&&G(pe.barcode)===G(v.barcode)&&(Y={...pe,id:ue.id})}),_===v.quantity)await Gy(Zn(vt,"inventory",v.id),U({...v,locationCode:O,shelfNumber:C,lastUpdated:new Date}),{merge:!0});else if(await Gy(Zn(vt,"inventory",v.id),U({...v,quantity:v.quantity-_,lastUpdated:new Date}),{merge:!0}),Y)await Gy(Zn(vt,"inventory",Y.id),U({...Y,quantity:Y.quantity+_,lastUpdated:new Date}),{merge:!0});else{const{id:ue,...pe}=v;await Vr(Nt(vt,"inventory"),U({...pe,quantity:_,locationCode:O,shelfNumber:C,lastUpdated:new Date}))}await Vr(Nt(vt,"activityLogs"),{user:(H==null?void 0:H.name)||"Unknown",role:(H==null?void 0:H.role)||"Unknown",detail:`Moved ${_} unit(s) of "${v.name}" from ${v.locationCode}-${v.shelfNumber} to ${O}-${C}`,time:new Date().toISOString()}),h("Stock moved successfully","success"),p(!1),y(null),X()}catch(Q){h("Failed to move stock","error"),console.log(Q)}finally{A(!1)}}};return g.jsxs("div",{className:`space-y-6 ${d?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),g.jsx("p",{className:`${d?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(yt,{type:"text",placeholder:"Search by location, product name, ASIN or barcode...",value:s,onChange:Q=>o(Q.target.value),icon:g.jsx(Rw,{size:16}),style:{paddingRight:48}}),g.jsx("button",{type:"button",onClick:ce,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:g.jsx(df,{size:16,className:"text-white"})})]})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(Pr,{value:l,onChange:Q=>c(Q.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),g.jsx(Ct,{variant:"secondary",onClick:X,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:g.jsx(Pf,{size:16,className:e?"animate-spin":""})})]}),e?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${d?"border-white":"border-slate-800"}`})}):B.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[g.jsx(I2,{className:`w-12 h-12 ${d?"text-slate-600":"text-slate-400"}`}),g.jsx("p",{className:`text-lg font-medium ${d?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(B).map(Q=>{const oe=a.has(Q.locationCode);return g.jsxs("div",{className:`${d?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${oe?"ring-2 ring-blue-500":""}`,children:[g.jsxs("div",{className:`p-4 border-b ${d?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ne(Q.locationCode),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${d?"bg-slate-700":"bg-slate-100"}`,children:g.jsx(I2,{className:`w-5 h-5 ${d?"text-blue-400":"text-blue-600"}`})}),g.jsx("h3",{className:`text-lg font-medium ${d?"text-white":"text-slate-800"}`,children:Q.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${Q.locationCode}`})]}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:u[Q.locationCode]!==!1,onChange:Y=>{Y.stopPropagation(),F(Q.locationCode)},className:"sr-only peer"}),g.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${u[Q.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),g.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${u[Q.locationCode]!==!1?"translate-x-5":""}
                          `})]}),g.jsx("span",{className:`text-xs font-semibold ml-2 ${u[Q.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:u[Q.locationCode]!==!1?"Available":"Not Available"}),g.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Y=>{Y.stopPropagation(),ne(Q.locationCode)},"aria-label":oe?"Collapse":"Expand",children:oe?g.jsx(QJ,{className:`w-5 h-5 ${d?"text-blue-400":"text-blue-600"}`}):g.jsx(y4,{className:`w-5 h-5 ${d?"text-blue-400":"text-blue-600"}`})})]})]}),g.jsxs("div",{className:"flex justify-between items-end mt-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${d?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),g.jsxs("p",{className:`font-bold text-2xl ${d?"text-white":"text-slate-800"}`,children:[Q.totalStock," units"]})]}),g.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?Q.products.filter(Y=>{const ue=s.toLowerCase();return Y.name.toLowerCase().includes(ue)||Y.asin&&Y.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(ue))||Y.barcode&&Y.barcode.toLowerCase().includes(ue)||Y.shelfNumber&&Y.shelfNumber.toString().toLowerCase().includes(ue)}).length:Q.products.length," product",(s.trim()?Q.products.filter(Y=>{const ue=s.toLowerCase();return Y.name.toLowerCase().includes(ue)||Y.asin&&Y.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(ue))||Y.barcode&&Y.barcode.toLowerCase().includes(ue)||Y.shelfNumber&&Y.shelfNumber.toString().toLowerCase().includes(ue)}).length:Q.products.length)!==1?"s":""]})]})]}),oe&&g.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[g.jsx("h4",{className:`font-medium ${d?"text-slate-300":"text-slate-700"}`,children:s.trim()?Q.products.filter(Y=>{const ue=s.toLowerCase();return Y.name.toLowerCase().includes(ue)||Y.asin&&Y.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(ue))||Y.barcode&&Y.barcode.toLowerCase().includes(ue)||Y.shelfNumber&&Y.shelfNumber.toString().toLowerCase().includes(ue)}).length===0:Q.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),g.jsx("div",{className:"space-y-4",children:Q.products.filter(Y=>{if(s.trim()){const ue=s.toLowerCase();return Y.name.toLowerCase().includes(ue)||Y.asin&&Y.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(ue))||Y.barcode&&Y.barcode.toLowerCase().includes(ue)||Y.shelfNumber&&Y.shelfNumber.toString().toLowerCase().includes(ue)}return!0}).map(Y=>{const ue=Q.totalStock===0?0:Y.quantity/Q.totalStock*100,pe=s.toLowerCase(),K=Y.name.toLowerCase().includes(pe)||Y.asin&&Y.asin.split(",").some(je=>je.trim().toLowerCase().includes(pe))||Y.barcode&&Y.barcode.toLowerCase().includes(pe)||Y.shelfNumber&&Y.shelfNumber.toString().toLowerCase().includes(pe);return g.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${K?d?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:`font-medium ${K?"text-blue-600":d?"text-white":"text-slate-800"}`,children:Y.name}),g.jsxs("p",{className:`text-sm ${d?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Y.shelfNumber]})]}),g.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[g.jsxs("p",{className:`font-medium ${d?"text-white":"text-slate-800"}`,children:[Y.quantity," units"]}),g.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async je=>{je.stopPropagation();const Oe=await v1(Zn(vt,"inventory",Y.id));if(Oe.exists()){const Se=Oe.data();y({...Se,id:Y.id}),w(1),k(Y.locationCode),T(Y.shelfNumber),p(!0)}else h("Failed to fetch product details","error")},children:"Move"})]})]}),g.jsx("div",{className:`w-full ${d?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:g.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${ue>75?"bg-green-500":ue>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${ue}%`},title:`${Y.quantity} out of ${Q.totalStock} units (${ue.toFixed(1)}%)`})})]},Y.id)})})]})]},Q.locationCode)})}),g.jsx(zn,{isOpen:m,onClose:()=>p(!1),title:"Move Stock",children:v&&g.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),W()},className:`space-y-4 ${d?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),g.jsx("input",{type:"number",min:1,max:v.quantity,value:_,onChange:Q=>w(Number(Q.target.value)),className:`w-full rounded border px-2 py-1 ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),g.jsxs("div",{className:`text-xs mt-1 ${d?"text-slate-400":"text-slate-500"}`,children:["Available: ",v.quantity]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-slate-200":"text-slate-700"}`,children:"New Location"}),g.jsx("select",{value:O,onChange:Q=>k(Q.target.value),className:`w-full rounded border px-2 py-1 ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:J.map(Q=>g.jsx("option",{value:Q,children:Q},Q))})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${d?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),g.jsx("select",{value:C,onChange:Q=>T(Q.target.value),className:`w-full rounded border px-2 py-1 ${d?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:[0,1,2,3,4,5].map(Q=>g.jsx("option",{value:Q,children:Q},Q))})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{type:"button",className:`px-3 py-1 rounded ${d?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>p(!1),children:"Cancel"}),g.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${d?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:S,children:S?"Moving...":"Move"})]})]})}),g.jsx(Up,{isOpen:I,onClose:()=>E(!1),onBarcodeScanned:D})]})},sc=({children:e,allowedRoles:t})=>{const{user:r}=Ai();return r?t.includes(r.role)?g.jsx(g.Fragment,{children:e}):g.jsx(m4,{to:"/",replace:!0}):g.jsx(m4,{to:"/login",replace:!0})};function lBe(){return g.jsxs(CJ,{children:[g.jsx(Zs,{path:"/login",element:g.jsx(gce,{})}),g.jsxs(Zs,{path:"/",element:g.jsx(pce,{}),children:[g.jsx(Zs,{index:!0,element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(aye,{})})}),g.jsx(Zs,{path:"stock",element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(yye,{})})}),g.jsx(Zs,{path:"orders",element:g.jsx(sc,{allowedRoles:[""],children:g.jsx(Oye,{})})}),g.jsx(Zs,{path:"outbound-stock",element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(sBe,{})})}),g.jsx(Zs,{path:"warehouse-locations",element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(oBe,{})})}),g.jsx(Zs,{path:"warehouse-operations",element:g.jsx(sc,{allowedRoles:["admin"],children:g.jsx(m2e,{})})}),g.jsx(Zs,{path:"reports-analytics",element:g.jsx(sc,{allowedRoles:["admin"],children:g.jsx(nBe,{})})}),g.jsx(Zs,{path:"settings",element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(aBe,{})})}),g.jsx(Zs,{path:"add",element:g.jsx(sc,{allowedRoles:["admin","staff"],children:g.jsx(gq,{})})})]})]})}T9(document.getElementById("root")).render(g.jsx(Z.StrictMode,{children:g.jsx(RJ,{basename:"/",children:g.jsx(yae,{children:g.jsx(vae,{children:g.jsx(mce,{children:g.jsx(lBe,{})})})})})}));export{Lr as _,Wm as c,Zr as g};
